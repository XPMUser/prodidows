!function(t, e) {
    for (var i in e) t[i] = e[i];
}(window, function(t) {
    var e = {};
    function i(a) {
        if (e[a]) return e[a].exports;
        var n = e[a] = {
            i: a,
            l: !1,
            exports: {}
        };
        return t[a].call(n.exports, n, n.exports, i), n.l = !0, n.exports;
    }
    return i.m = t, i.c = e, i.d = function(t, e, a) {
        i.o(t, e) || Object.defineProperty(t, e, {
            configurable: !1,
            enumerable: !0,
            get: a
        });
    }, i.r = function(t) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
    }, i.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default;
        } : function() {
            return t;
        };
        return i.d(e, "a", e), e;
    }, i.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e);
    }, i.p = "", i(i.s = 1033);
}([ function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a, n = i(166), o = i(2), r = i(4), s = i(13);
    !function(t) {
        t[t.UserID = 0] = "UserID", t[t.ClassID = 1] = "ClassID", t[t.Grade = 2] = "Grade";
    }(a = e.SplitTestType || (e.SplitTestType = {}));
    var l = function() {
        function t() {}
        return t.capitalize = function(e) {
            return t.isValid(e) ? e.charAt(0).toUpperCase() + e.slice(1) : "";
        }, t.setCookie = function(t, e, i) {
            var a = new Date();
            a.setTime(a.getTime() + 24 * i * 60 * 60 * 1e3);
            var n = "expires=" + a.toUTCString();
            document.cookie = t + "=" + e + "; " + n;
        }, t.getDate = function() {
            var t = new Date(), e = t.getDate(), i = t.getMonth() + 1, a = t.getFullYear(), n = "" + e, o = "" + i;
            return e < 10 && (n = "0" + e), i < 10 && (o = "0" + i), "" + o + n + a;
        }, t.getDateId = function() {
            return o.GameConstants.get("GameConstants.Build.DEBUG") ? Math.floor(new Date().getTime() / t.DEBUG_DAY_LENGTH) : Math.floor(new Date().getTime() / 864e5);
        }, t.isDateToday = function(t) {
            var e = new Date();
            return t.getUTCDate() === e.getUTCDate() && t.getUTCMonth() === e.getUTCMonth() && t.getUTCFullYear() === e.getUTCFullYear();
        }, t.elapsedTimeInHours = function(t, e) {
            return (e - t) / 36e5;
        }, t.getCookie = function(t) {
            for (var e = t + "=", i = document.cookie.split(";"), a = 0; a < i.length; a++) {
                for (var n = i[a]; " " === n.charAt(0); ) n = n.substring(1);
                if (0 === n.indexOf(e)) return n.substring(e.length, n.length);
            }
            return "";
        }, t.convertItemToIcon = function(e) {
            return "gold" === e.type ? "item/26" : "spell" === e.type ? (e.data = t.isValid(e.data) ? e.data : r.Items.getItem(e.type, e.ID).data, 
            e.data.element) : "boss" === e.type ? "boss" : "player" === e.type ? "player" : "dorm" === e.type ? "" + e.ID : t.isValid(e.metadata) && t.isValid(e.metadata.icon) ? "" + e.metadata.icon : t.isValid(e.type) && t.isValid(e.ID) ? e.type + "/" + e.ID : t.isValid(e.tag) ? e.tag : "string" == typeof e ? e : "empty";
        }, t.numberToString = function(t) {
            for (var e = "" + t, i = "", a = 1, n = e.length - 1; n >= 0; n--) i = "" + e.charAt(n) + i, 
            a % 3 == 0 && a > 0 && n > 0 && (i = ", " + i), a++;
            return i;
        }, t.isSchoolHours = function() {
            var t = new Date().getHours();
            return t >= 8 && t <= 15;
        }, t.isSchoolDay = function() {
            var t = new Date().getDay();
            return 0 !== t && 6 !== t;
        }, t.isNightTime = function() {
            var t = new Date().getHours();
            return t >= 16 && t <= 23;
        }, t.isDefined = function(t) {
            return !(void 0 === t || null === t || "null" === t);
        }, t.isNullOrUndefined = function(t) {
            return null === t || void 0 === t;
        }, t.isValid = function(t) {
            return !(null === t || void 0 === t);
        }, t.has = function(e, i) {
            if (t.isValid(e)) {
                for (var a = i.split("."), n = e, o = 0; o < a.length; o++) if (void 0 === (n = n[a[o]]) || null === n || "null" === n) return !1;
                return !0;
            }
            return !1;
        }, t.isString = function(t) {
            return "string" == typeof t || t instanceof String;
        }, t.getDateTime = function() {
            var t = new Date();
            return new Date(t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDay()).getTime();
        }, t.highlightAll = function(e, i, a, n) {
            for (var o = 0; o < e.length; o++) t.isValid(e[o].highlight) && e[o].highlight(i, a, n);
        }, t.getObject = function(e) {
            return "null" === e ? null : t.isString(e) ? JSON.parse(e) : e;
        }, t.copyObject = function(e) {
            var i = {};
            if (null === e || "object" != typeof e) return e;
            if (e instanceof Array) {
                i = [];
                for (var a = e.length, n = 0; n < a; n++) i[n] = t.copyObject(e[n]);
            }
            if (e instanceof Object) for (var o in e) e.hasOwnProperty(o) && (i[o] = t.copyObject(e[o]));
            return i;
        }, t.isEmptyObject = function(e) {
            if (!t.isValid(e)) return !0;
            for (var i in e) if (e.hasOwnProperty(i)) return !1;
            return !0;
        }, t.inArray = function(t, e) {
            for (var i = 0; i < t.length; i++) if (t[i] === e) return !0;
            return !1;
        }, t.removeDuplicates = function(e) {
            for (var i = [], a = 0; a < e.length; a++) t.inArray(i, e[a]) || i.push(e[a]);
            return i;
        }, t.equalArrays = function(t, e) {
            if (t === e) return !0;
            if (null === t || null === e) return !1;
            if (t.length !== e.length) return !1;
            for (var i = 0; i < t.length; ++i) if (t[i] !== e[i]) return !1;
            return !0;
        }, t.strip = function(t) {
            var e = t;
            try {
                e = t.replace(/[^a-zA-Z0-9]/g, "");
            } catch (t) {}
            return e;
        }, t.getUrlVariable = function(t) {
            var e = {};
            return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(t, i, a) {
                return e[i] = a;
            }), e[t];
        }, t.removeParamsFromUrl = function(t, e) {
            for (var i = t, a = "", n = 0; n < e.length; n++) a = e[n], i = i.replace(new RegExp("([?&]+)" + a + "=[^&]*&*", "gi"), function(t, e) {
                return e;
            });
            if (i.length > 0) {
                var o = i[i.length - 1];
                "?" !== o && "&" !== o || (i = i.substring(0, i.length - 1));
            }
            return i;
        }, t.removeFromArray = function(t, e) {
            for (var i = 0; i < e.length; i++) if (e[i] === t) {
                e.splice(i, 1);
                break;
            }
        }, t.moveArrayElement = function(t, e, i) {
            if (i >= t.length) for (var a = i - t.length; a + 1 !== 0; ) t.push(void 0), 
            a -= 1;
            return t.splice(i, 0, t.splice(e, 1)[0]), t;
        }, t.centreObject = function(e, i, a, n, o) {
            t.isValid(i) && t.isValid(n) && (e.x = i - .5 * n), t.isValid(a) && t.isValid(o) && (e.y = a - .5 * o);
        }, t.getCenteredXY = function(t, e, i, a, n, o) {
            return {
                x: i + .5 * (n - t),
                y: a + .5 * (o - e)
            };
        }, t.processTime = function(t) {
            if (t <= 0) return "00:00";
            var e = Math.floor(t / 36e5), i = Math.floor((t - 36e5 * e) / 6e4), a = Math.floor((t - 36e5 * e - 6e4 * i) / 1e3), n = "", o = "", r = "";
            return n = 0 === e ? "00" : e < 10 ? "0" + e : "" + e, o = 0 === i ? "00" : i < 10 ? "0" + i : "" + i, 
            r = 0 === a ? "00" : a < 10 ? "0" + a : "" + a, "00" === n ? o + ":" + r : e < 24 ? n + ":" + o + ":" + r : Math.floor(e / 24) + " days";
        }, t.calculateItemSpacing = function(t, e, i) {
            return (i - t * e) / (t + 1);
        }, t.calculateItemCoordinate = function(t, e, i) {
            return (e + i) * t + i;
        }, t.centerItemsWithinContainer = function(e, i, a, n, o) {
            var r = {
                width: 0,
                height: 0
            };
            if (t.isValid(o)) r.width = o.width, r.height = o.height; else {
                for (var s = 0; s < e.length; s++) {
                    var l = e[s];
                    l.width > r.width && (r.width = l.width), r.height += l.height;
                }
                r.height /= e.length;
            }
            var h = a ? 0 : i.x, c = a ? 0 : i.y;
            t.isValid(n) && (h += t.isValid(n.x) ? n.x : 0, c += t.isValid(n.y) ? n.y : 0);
            var p = t.calculateItemSpacing(e.length, r.width, i.width), u = t.calculateItemSpacing(1, r.height, i.height), d = c + t.calculateItemCoordinate(0, r.height, u);
            e.forEach(function(e, i) {
                e.x = h + t.calculateItemCoordinate(i, r.width, p), e.y = d;
            });
        }, t.log = function(e, i) {
            if (void 0 === i && (i = t.DEV), 0 != (i & o.GameConstants.get("GameConstants.Build.LOG_LEVEL"))) {
                var a = "string" == typeof e;
                switch (i) {
                  case t.ERROR:
                    console.log(a ? "%c[PRODIGY][ERROR] " + e : e, "background: #900; color: #FFF");
                    break;

                  case t.INFO:
                    console.log(a ? "%c[PRODIGY][INFO] " + e : e, "background: #009; color: #FFF");
                    break;

                  case t.DEBUG:
                    console.log(a ? "[PRODIGY][DEBUG] " + e : e);
                    break;

                  default:
                    console.log(a ? "[PRODIGY][DEV] " + e : e);
                }
            }
        }, t.frameDataToFrameJson = function(t) {
            for (var e = {}, i = 0; i < t.length; i++) e[t[i].name] = {
                frame: {
                    x: t[i].x,
                    y: t[i].y,
                    w: t[i].width,
                    h: t[i].height
                },
                trimmed: t[i].trimmed,
                sourceSize: {
                    w: t[i].sourceSizeW,
                    h: t[i].sourceSizeH
                },
                spriteSourceSize: {
                    x: t[i].spriteSourceSizeX,
                    y: t[i].spriteSourceSizeY,
                    w: t[i].spriteSourceSizeW,
                    h: t[i].spriteSourceSizeH
                }
            };
            return {
                frames: e
            };
        }, t.filterDuplicateKeys = function(e, i) {
            for (var a = [], n = 0; n < i.length; n++) {
                var o = i[n];
                "key" === o.type && e.prodigy.player.backpack.hasItem("key", o.ID) > 0 || "spell" === o.type && t.isValid(e.prodigy.player.data.spells) && -1 !== e.prodigy.player.data.spells.indexOf(o.ID) || a.push(o);
            }
            return a;
        }, t.validateVersion = function(t) {
            return /^[0-9-]+$/.test(t) ? t : null;
        }, t.extends = function(t, e, i) {
            for (var a in t.prototype = Object.create(e.prototype), i) t.prototype[a] = i[a];
        }, t.trimText = function(t, e, i) {
            void 0 === i && (i = !1);
            var a = t;
            return a.length > e && (a = t.substring(0, e), i && (a += "...")), a;
        }, t.joinByProperty = function(t, e, i) {
            void 0 === i && (i = ",");
            for (var a = "", n = t.length, o = 0; o < n; o++) a += "" + t[o][e] + (o < n - 1 ? i : "");
            return a;
        }, t.rgbArrayToHex = function(e) {
            return t.rgb2hex(e[0], e[1], e[2]);
        }, t.rgb2hex = function(t, e, i) {
            return i | e << 8 | t << 16;
        }, t.cleanUpGameID = function(t) {
            for (var e in t) for (var i = 0; i < t[e].length; i++) t[e][i].hasOwnProperty("gameID") && (t[e][i].hasOwnProperty("ID") || (t[e][i].ID = t[e][i].gameID), 
            delete t[e][i].gameID);
        }, t.getEnvironment = function() {
            var t = window.location.host, e = window.location.search, i = "local";
            return t.indexOf("-qa") >= 0 || t.indexOf("dev.prodigygame.org") >= 0 ? i = "local" : t.indexOf("prodigygame.net") >= 0 || e.indexOf("env=dev") >= 0 ? i = "dev" : t.indexOf("prodigygame.org") >= 0 || e.indexOf("env=staging") >= 0 ? i = "staging" : (t.indexOf("prodigygame.com") >= 0 || e.indexOf("env=production") >= 0 || e.indexOf("env=prod") >= 0) && (i = "production"), 
            i;
        }, t.getOptionalParameter = function(t, e) {
            return void 0 === t ? e : t;
        }, t.isSpineLoaded = function(t, e) {
            if (t.checkTextKey(e + "Atlas") && t.checkJSONKey(e)) {
                for (var i = t.getText(e + "Atlas"), a = /\S+(?:\.png|\.jpg|\.jpeg)/g.exec(i), n = 0; n < a.length; ++n) if (!t.checkImageKey(a[n])) return !1;
                return !0;
            }
            return !1;
        }, t.getWorldPosition = function(e) {
            var i = 0, a = 0;
            if (t.isValid(e)) {
                i = e.position.x, a = e.position.y;
                for (var n = e.parent; t.isValid(n); ) i += n.position.x, a += n.position.y, 
                n = n.parent;
            }
            return {
                x: i,
                y: a
            };
        }, t.hilightObjectOnLayer = function(e, i, a, n, r) {
            void 0 === i && (i = 0), void 0 === a && (a = 0);
            var s = t.isValid(r) ? r : n, l = s.add(e.prodigy.create.sprite(i, a, "atlas-21", "help"));
            return l.anchor.setTo(.5, 1), t.isValid(n) && (l.x += t.getWorldPosition(n).x - t.getWorldPosition(s).x, 
            l.y += t.getWorldPosition(n).y - t.getWorldPosition(s).y), e.add.tween(l).to({
                y: l.y + 25
            }, 400, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0), 
            l;
        }, t.resizeSpriteMaintainingAspectRatio = function(t, e, i) {
            t.width > t.height ? (t.scale.x = e / t.width, t.scale.y = t.scale.x) : (t.scale.y = i / t.height, 
            t.scale.x = t.scale.y);
        }, t.safeDeleteObjectProperty = function(e, i) {
            t.isValid(e[i]) && delete e[i];
        }, t.deleteFieldsWithNullsOrEmptyStrings = function(e, i) {
            for (var a in void 0 === i && (i = !1), e) e.hasOwnProperty(a) && ("" === e[a] ? (i && t.log("Util.deleteFieldsWithNullsOrEmptyStrings - deleted key with empty string value named: " + a, t.DEBUG), 
            delete e[a]) : null === e[a] ? (i && t.log("Util.deleteFieldsWithNullsOrEmptyStrings - deleted key with null value named: " + a, t.DEBUG), 
            delete e[a]) : "object" == typeof e[a] && t.deleteFieldsWithNullsOrEmptyStrings(e[a]));
        }, t.defineLazyLoadedProperty = function(t, e, i, a) {
            void 0 === a && (a = !1), !a && t.hasOwnProperty(e) || Object.defineProperty(t, e, {
                get: function() {
                    var a = i.call(t);
                    return Object.defineProperty(t, e, {
                        get: function() {
                            return a;
                        }
                    }), a;
                },
                configurable: !0
            });
        }, t.generateUUID = function() {
            var t = new Date().getTime();
            return "undefined" != typeof performance && "function" == typeof performance.now && (t += performance.now()), 
            "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
                var i = (t + 16 * Math.random()) % 16 | 0;
                return t = Math.floor(t / 16), ("x" === e ? i : 3 & i | 8).toString(16);
            });
        }, t.inTestGroup = function(e, i, n, r, s) {
            void 0 === s && (s = a.UserID);
            var l = null, h = o.GameConstants.get("GameConstants.Features.SplitTests.DEBUG_LANE");
            if (t.isValid(h)) return i === h;
            if (i > r - 1 || i < 0) return t.log("Lane " + i + " is invalid for totalLanes " + r, t.ERROR), 
            !1;
            switch (s) {
              case a.UserID:
                l = e.userID;
                break;

              case a.ClassID:
                l = t.getLatestClassID(e.owners, e.playerTeachers, e.playerParents);
                break;

              case a.Grade:
                l = e.grade;
                break;

              default:
                return t.log("Invalid type " + s, t.ERROR), !1;
            }
            return t.isValid(l) ? Math.floor(l / n) % r === i : (t.log("Invalid ID being used. type = " + s + " player = " + e, t.ERROR), 
            !1);
        }, t.inTestGroups = function(e, i, n, o, r) {
            void 0 === r && (r = a.UserID);
            for (var s = 0; s < i.length; s++) if (t.inTestGroup(e, i[s], n, o, r)) return !0;
            return !1;
        }, t.inTestGroupsBetweenCreationDates = function(e, i, n, r, s, l, h) {
            void 0 === h && (h = a.UserID);
            var c = o.GameConstants.get("GameConstants.Features.SplitTests.CHARACTER_CREATION_TIME"), p = c > 0 ? c : e.data.startDate;
            return p >= s && p < l && t.inTestGroups(e, i, n, r, h);
        }, t.validateString = function(e, i) {
            void 0 === i && (i = "");
            for (var a = 0; a < e.length; a++) if (t.isValid(e[a])) return e[a];
            return i;
        }, t.getLatestClassID = function(e, i, a) {
            var n = [], o = null, r = null, s = null;
            t.isValid(a) && a.length > 0 && (n = a), t.isValid(i) && i.length > 0 && (n = i);
            for (var l = 0; l < n.length; l++) {
                r = n[l];
                for (var h = 0; h < e.length; h++) o = e[h], r.startDate === o.startDate && (null === s || o.startDate > s.startDate) && (s = o);
            }
            return t.isValid(s) ? s.id : 0;
        }, t.inTestGroupsBetweenSessionDates = function(e, i, n, o, r, s, l) {
            void 0 === l && (l = a.UserID);
            var h = new Date().getTime();
            return h >= r && h < s && t.inTestGroups(e, i, n, o, l);
        }, t.getFriendAndClassmateIds = function(t) {
            var e = t.prodigy.friendsListNetworkHandler.classList, i = t.prodigy.friendsListNetworkHandler.friendsList;
            return n(e.concat(i), "userID");
        }, t.renderFriendAndClassmateFace = function(t, e, i) {
            var a = t.prodigy.friendsListNetworkHandler.classList, n = t.prodigy.friendsListNetworkHandler.friendsList;
            n = n.concat(a);
            for (var o = 0; o < n.length; o++) if (n[o].userID === e) {
                var r = new s.Player(t);
                r.init(n[o]), t.prodigy.create.player(i, r, 1, 0, 0, !0, !0, !1, !0).reload();
                break;
            }
        }, t.clampedLerp = function(t, e, i) {
            var a = i < 0 ? 0 : i;
            return t + (e - t) * (a = a > 1 ? 1 : a);
        }, t.convertLegacyElements = function(t) {
            return "wizard" === t ? "astral" : "mech" === t ? "storm" : t;
        }, t.DEBUG_DAY_LENGTH = 864e5, t.DEV = 1, t.DEBUG = 2, t.INFO = 4, t.ERROR = 8, 
        t;
    }();
    e.Util = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o, r = i(10), s = i(2), l = i(5), h = i(0);
    !function(t) {
        t[t.UP = 0] = "UP", t[t.UP_RIGHT = 45] = "UP_RIGHT", t[t.RIGHT = 90] = "RIGHT", 
        t[t.DOWN_RIGHT = 135] = "DOWN_RIGHT", t[t.DOWN = 180] = "DOWN", t[t.DOWN_LEFT = 225] = "DOWN_LEFT", 
        t[t.LEFT = 270] = "LEFT", t[t.UP_LEFT = 315] = "UP_LEFT";
    }(o = e.EAreaEventAngle || (e.EAreaEventAngle = {}));
    var c = function(t) {
        function e(e, i, a, n, l, c, p, u, d) {
            void 0 === p && (p = o.UP);
            var g = t.call(this, e, i, a.x, a.y) || this;
            g.isBlocked = !1, g.data = {}, g.canReTrigger = !1, g.callback = null, 
            g.frameCount = 0, g.fired = !1, g.data = a, g.user = n, g.path = l, 
            g.canReTrigger = r(a, "canReTrigger", !1), g.callback = d ? null : c;
            var y = r(a, "guideHandPathToX", a.x), f = r(a, "guideHandPathToY", a.y), m = p;
            h.Util.isValid(m) || (m = a.x < 50 ? a.y < 50 ? o.UP_LEFT : a.y > 670 ? o.DOWN_LEFT : o.LEFT : a.x > 1230 ? a.y < 50 ? o.UP_RIGHT : a.y > 670 ? o.DOWN_RIGHT : o.RIGHT : a.y < 50 ? o.UP : a.y > 60 ? o.DOWN : o.LEFT);
            var _ = g.add(e.prodigy.create.sprite(0, 0, "atlas-18", "area-pointer"));
            _.anchor.setTo(.5, 0), _.angle = m, _.inputEnabled = !0, _.events.onInputDown.add(g.moveTo.bind(g, y, f));
            var v = 0;
            m > o.UP && m < o.DOWN ? v = -30 : m > o.DOWN && m < 360 && (v = 30);
            var E = 0;
            return m > o.LEFT || m < o.RIGHT ? E = 30 : m > o.RIGHT && m < o.LEFT && (E = -30), 
            _.x = r(a, "arrowOffsetX", 0), _.y = r(a, "arrowOffsetY", 0), g.game.add.tween(_).to({
                x: _.x + v,
                y: _.y + E
            }, 400, Phaser.Easing.Quadratic.InOut, !0, 0, s.GameConstants.MAX_SAFE_INTEGER, !0), 
            g.visible = !1, g.frameCount = 0, g;
        }
        return n(e, t), e.prototype.moveTo = function(t, e) {
            this.user.setValidPath(this.path, t, e, null);
        }, e.prototype.update = function() {
            if (t.prototype.update.call(this), !(this.user.evtProc || this.fired && !this.canReTrigger)) if (this.frameCount <= 0) {
                this.frameCount = 5;
                var e = !1;
                h.Util.isValid(this.data.r) && Phaser.Math.distance(this.user.x, this.user.y, this.x, this.y) <= this.data.r ? e = !this.fired : !h.Util.isValid(this.data.r) && h.Util.isValid(this.data.w) && this.user.x >= this.x - Math.floor(this.data.w / 2) && this.user.x <= this.x + Math.floor(this.data.w / 2) && this.user.y >= this.y - Math.floor(this.data.h / 2) && this.user.y <= this.y + Math.floor(this.data.h / 2) ? e = !this.fired : this.canReTrigger && (this.fired = !1), 
                e && (this.fired = !0, this.callback());
            } else this.frameCount--;
        }, e.prototype.process = function(t, e, i) {
            return void 0 === i && (i = ""), this.visible = !1, this.checkDistance(t, e, i);
        }, e.prototype.setClosest = function() {
            this.visible = !0;
        }, e.prototype.checkDistance = function(t, e, i) {
            if (!h.Util.isValid(this.data.target) || !h.Util.isValid(i)) return null;
            if (t.ID + "-" + e.getTag() === i) return 1;
            var a = function(t, e, n) {
                if (!h.Util.isValid(n) || h.Util.inArray(e, n)) return null;
                if (i === n) return e.length + 1;
                var o = n.split("-"), r = t.getZone(o[0]);
                if (!h.Util.isValid(r)) return null;
                for (var s = r.getMap(o[1]).locations, l = null, c = 0; c < s.length; c++) {
                    var p = a(t, e.concat([ n ]), s[c]);
                    (!h.Util.isValid(l) || p < l && h.Util.isValid(p)) && (l = p);
                }
                return l;
            };
            return a(this.game.prodigy.world, [ t.ID + "-" + e.getTag() ], this.data.target);
        }, e.prototype.getOverlay = function() {
            var t, e, i, a;
            h.Util.isValid(this.data.r) ? (t = this.x, e = this.y, i = a = this.data.r) : h.Util.isValid(this.data.rect) ? (t = this.x, 
            e = this.y, i = this.data.w, a = this.data.h) : (t = this.x + (this.data.x < 100 ? -Math.floor(.5 * this.data.w) : this.data.x > 1180 ? Math.floor(.5 * this.data.w) : 0), 
            e = this.y + (this.data.y < 100 ? -Math.floor(.5 * this.data.h) : this.data.y > 620 ? Math.floor(.5 * this.data.h) : 0), 
            i = this.data.w * (this.data.x < 100 || this.data.x > 1180 ? 1 : .5), 
            a = this.data.h * (this.data.y < 100 || this.data.y > 620 ? 1 : .5));
            var n = this.game.add.graphics(0, 0);
            return n.beginFill(0, .75), this.data.rect ? n.drawRect(t - .5 * i, e - .5 * a, i, a) : n.drawEllipse(t, e, i, a), 
            n;
        }, e;
    }(l.Element);
    e.AreaEvent = c;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(30), n = function() {
        function t() {}
        return Object.defineProperty(t, "MAX_SAFE_INTEGER", {
            get: function() {
                return 9007199254740991;
            },
            enumerable: !0,
            configurable: !0
        }), t.get = function(t) {
            return this.constants[t];
        }, t.setLogLevel = function(t) {
            this.constants["GameConstants.Build.LOG_LEVEL"] = t;
        }, t.enableDebug = function(t, e, i) {
            void 0 === i && (i = !1), "KHQpSxH7FxdcmyceV8mjcg==" === CryptoJS.MD5(e).toString(CryptoJS.enc.Base64) && (this.constants["GameConstants.Build.DEBUG"] = !0, 
            this.constants["GameConstants.Build.SHOW_FPS"] = i, t.prodigy.debug.enableDebugCalls(t));
        }, t.setDrops = function(t, e) {
            this.constants["GameConstants.Debug.FORCE_DROPS"] = e;
        }, t.enableGameConstant = function(t, e) {
            this.constants[t] = e;
        }, t.setNFactor = function(t) {
            this.constants["GameConstants.Debug.SET_NFACTOR"] = t;
        }, t.setCrit = function(t) {
            this.constants["GameConstants.Debug.SET_CRIT"] = t;
        }, t.setAttackOverride = function(t) {
            this.constants["GameConstants.Battle.ATTACK_OVERRIDE"] = t;
        }, t.setEscapeChance = function(t) {
            this.constants["GameConstants.Battle.ESCAPE_CHANCE"] = t;
        }, t.scaleEncounterDistance = function(t) {
            this.constants["GameConstants.Debug.SCALE_ENCOUNTER_DISTANCE"] = t;
        }, t.setGameSpeed = function(t) {
            this.constants["GameConstants.Debug.GAME_SPEED"] = t;
        }, t.setFeedLimit = function(t) {
            this.constants["GameConstants.Debug.FEED_LIMIT"] = t;
        }, t.overrideUserRank = function(t) {
            this.constants["GameConstants.PVP.OVERRIDE_USER_RANK"] = t;
        }, t.overrideUserPoints = function(t) {
            this.constants["GameConstants.PVP.OVERRIDE_USER_POINTS"] = t;
        }, t.setUnlimitedWheelSpins = function(t) {
            this.constants["GameConstants.Debug.UNLIMITED_WHEEL_SPINS"] = t;
        }, t.setWheelSpinDuration = function(t) {
            this.constants["GameConstants.Features.Wheel.SPIN_TIME"] = t;
        }, t.setMonsterRadiusVisible = function(t) {
            this.constants["GameConstants.Debug.MONSTER_RADIUS_VISIBLE"] = t;
        }, t.setMaintainAspectRatio = function(t) {
            this.constants["GameConstants.Build.SCALE_MODE"] = t ? 2 : 0;
        }, t.setMaxPlayerLimit = function(e) {
            a.Device.isTablet() ? this.constants[t.Build.MAX_ON_SCREEN_PLAYERS_MOBILE] = e : this.constants[t.Build.MAX_ON_SCREEN_PLAYERS_PC] = e;
        }, t.getMaxPlayerLimit = function() {
            return a.Device.isTablet() ? this.constants[t.Build.MAX_ON_SCREEN_PLAYERS_MOBILE] : this.constants[t.Build.MAX_ON_SCREEN_PLAYERS_PC];
        }, t.setCharacterCreationDate = function(t, e, i, a, n) {
            void 0 === a && (a = 0), void 0 === n && (n = 0);
            var o = new Date(t, e, i, a, n);
            this.constants["GameConstants.Features.SplitTests.CHARACTER_CREATION_TIME"] = o.getTime();
        }, t.setSplitTestLane = function(t) {
            this.constants["GameConstants.Features.SplitTests.DEBUG_LANE"] = t;
        }, t.constants = Object({
            "GameConstants.Build.VERSION": "2-0-0",
            "GameConstants.Build.DEBUG": !1,
            "GameConstants.Build.SHOW_FPS": !1,
            "GameConstants.Build.SHOW_DEBUG_VALUES": [],
            "GameConstants.Build.MUTE_BGM": !1,
            "GameConstants.Build.FRAMEWORK_LOG_LEVEL": 2,
            "GameConstants.Build.LOG_LEVEL": 12,
            "GameConstants.Build.ASSETS_LOCATION": "https://cdn.prodigygame.com/game/assets/",
            "GameConstants.Build.TELEPORT": "",
            "GameConstants.Build.QUEST": [],
            "GameConstants.Build.ITEM_TYPE": [],
            "GameConstants.Build.KILL_GORE": !1,
            "GameConstants.Build.EASY_MODE": !1,
            "GameConstants.Build.MEMBERSHIP": !1,
            "GameConstants.Build.SCALE_MODE": 0,
            "GameConstants.Build.ADD_PLAYER_FPS_THRESHOLD": 20,
            "GameConstants.Build.MAX_ON_SCREEN_PLAYERS_PC": 30,
            "GameConstants.Build.MAX_ON_SCREEN_PLAYERS_MOBILE": 20,
            "GameConstants.Build.MIN_ON_SCREEN_PLAYERS": 5,
            "GameConstants.Tower.MAX_FREE_MEMBER_FLOOR": 5,
            "GameConstants.Debug.AUTOSAVE_ENABLED": !0,
            "GameConstants.Debug.POPUPS_ENABLED": !0,
            "GameConstants.Debug.PLAYER_CARDS_ENABLED": !0,
            "GameConstants.Debug.DISABLE_DAILY_BONUS": !1,
            "GameConstants.Debug.ENABLE_MAP": !1,
            "GameConstants.Debug.AUTO_LOGIN": [],
            "GameConstants.Debug.GET_PET": [],
            "GameConstants.Debug.SET_LEVEL": 0,
            "GameConstants.Debug.DISABLE_ACHIEVEMENTS": !1,
            "GameConstants.Debug.GET_GOLD": 0,
            "GameConstants.Debug.GET_SPELL": 0,
            "GameConstants.Debug.COMPLETE_TUTORIAL": !1,
            "GameConstants.Debug.FORCE_DROPS": [],
            "GameConstants.Debug.SCALE_ENCOUNTER_DISTANCE": 1,
            "GameConstants.Debug.WIZARDS_ENABLED": !0,
            "GameConstants.Debug.AUTO_RESOLVE_BATTLES_ENABLED": !1,
            "GameConstants.Debug.GAME_SPEED": 1,
            "GameConstants.Debug.FSM_LOGGING": !1,
            "GameConstants.Debug.DEBUG_LOCALIZATION": !1,
            "GameConstants.Debug.VERBOSE_LOCALIZATION": !1,
            "GameConstants.Debug.AUTO_RESOLVE_TOWER_BATTLES_ENABLED": !1,
            "GameConstants.Debug.EDUCATION_ENABLED": !0,
            "GameConstants.Debug.AUTO_ANSWER_CORRECTLY": !1,
            "GameConstants.Debug.UNLIMITED_WHEEL_SPINS": !1,
            "GameConstants.Debug.SKIP_MEMBERSHIP_WEBSITE": !1,
            "GameConstants.Debug.GIVES_MEMBERSHIP_AFTER_SKIP_WEBSITE": !1,
            "GameConstants.Debug.MONSTER_RADIUS_VISIBLE": !1,
            "GameConstants.Mailer.TEST_MAIL": !1,
            "GameConstants.FriendsList.TEST_FRIENDS_LIST": !1,
            "GameConstants.Features.ENABLE_HOUSE_MOVING": !0,
            "GameConstants.Features.Wheel.COOLDOWN": 5,
            "GameConstants.Features.Wheel.DEFAULT_SPINS": 1,
            "GameConstants.Features.Wheel.MEMBER_SPINS": 2,
            "GameConstants.Features.Wheel.SPIN_TIME": 15e3,
            "GameConstants.Features.SplitTests.PLAY_AT_HOME": !0,
            "GameConstants.Features.SplitTests.CHARACTER_CREATION_TIME": 0,
            "GameConstants.Features.TrialMembership.RELEASE_TIME": 152532e7,
            "GameConstants.Features.TrialMembership.CREATION_TIME_RESTRICTED": !0,
            "GameConstants.Battle.VALID_PARENT_EMAIL_STARS_PERCENTAGE": .05,
            "GameConstants.Battle.MEMBER_STARS_PERCENTAGE": .5,
            "GameConstants.Battle.STARS_EARNED_PER_OPPONENT": 100,
            "GameConstants.Battle.MAX_NUM_PETS": 1,
            "GameConstants.Battle.ATTACK_OVERRIDE": -1,
            "GameConstants.Battle.ESCAPE_CHANCE": .75,
            "GameConstants.Inactivity.DIALOG_TIMER_SECONDS": 1500,
            "GameConstants.Inactivity.LOG_OUT_TIMER_SECONDS": 300,
            "GameConstants.Inactivity.CANNOT_CONNECT_TIMER_SECONDS": 120,
            "GameConstants.Inactivity.NETWORK_BOOT_TIMER_SECONDS": 6e4,
            "GameConstants.Audio.DEFAULT_SOUND_VOLUME": .9,
            "GameConstants.Audio.DEFAULT_MUSIC_VOLUME": .15,
            "GameConstants.Audio.DEFAULT_VOICE_VOLUME": 1,
            "GameConstants.LocationSelection.NONE": "none",
            "GameConstants.LocationSelection.HOME": "home",
            "GameConstants.LocationSelection.SCHOOL": "school",
            "GameConstants.PVP.OVERRIDE_USER_RANK": null,
            "GameConstants.PVP.OVERRIDE_USER_POINTS": null,
            "GameConstants.PVP.OVERRIDE_USER_LEADERBOARD": null
        }), t.Build = {
            ADD_PLAYER_FPS_THRESHOLD: "GameConstants.Build.ADD_PLAYER_FPS_THRESHOLD",
            ASSETS_LOCATION: "GameConstants.Build.ASSETS_LOCATION",
            DEBUG: "GameConstants.Build.DEBUG",
            EASY_MODE: "GameConstants.Build.EASY_MODE",
            ITEM_TYPE: "GameConstants.Build.ITEM_TYPE",
            KILL_GORE: "GameConstants.Build.KILL_GORE",
            FRAMEWORK_LOG_LEVEL: "GameConstants.Build.FRAMEWORK_LOG_LEVEL",
            LOG_LEVEL: "GameConstants.Build.LOG_LEVEL",
            MAX_ON_SCREEN_PLAYERS_MOBILE: "GameConstants.Build.MAX_ON_SCREEN_PLAYERS_MOBILE",
            MAX_ON_SCREEN_PLAYERS_PC: "GameConstants.Build.MAX_ON_SCREEN_PLAYERS_PC",
            MEMBERSHIP: "GameConstants.Build.MEMBERSHIP",
            MIN_ON_SCREEN_PLAYERS: "GameConstants.Build.MIN_ON_SCREEN_PLAYERS",
            MUTE_BGM: "GameConstants.Build.MUTE_BGM",
            QUEST: "GameConstants.Build.QUEST",
            SHOW_DEBUG_VALUES: "GameConstants.Build.SHOW_DEBUG_VALUES",
            SHOW_FPS: "GameConstants.Build.SHOW_FPS",
            TELEPORT: "GameConstants.Build.TELEPORT",
            VERSION: "GameConstants.Build.VERSION",
            SCALE_MODE: "GameConstants.Build.SCALE_MODE"
        }, t.Tower = {
            MAX_FREE_MEMBER_FLOOR: "GameConstants.Tower.MAX_FREE_MEMBER_FLOOR"
        }, t.Debug = {
            AUTOSAVE_ENABLED: "GameConstants.Debug.AUTOSAVE_ENABLED",
            AUTO_ANSWER_CORRECTLY: "GameConstants.Debug.AUTO_ANSWER_CORRECTLY",
            AUTO_LOGIN: "GameConstants.Debug.AUTO_LOGIN",
            AUTO_RESOLVE_BATTLES_ENABLED: "GameConstants.Debug.AUTO_RESOLVE_BATTLES_ENABLED",
            AUTO_RESOLVE_TOWER_BATTLES_ENABLED: "GameConstants.Debug.AUTO_RESOLVE_TOWER_BATTLES_ENABLED",
            COMPLETE_TUTORIAL: "GameConstants.Debug.COMPLETE_TUTORIAL",
            DEBUG_LOCALIZATION: "GameConstants.Debug.DEBUG_LOCALIZATION",
            DISABLE_ACHIEVEMENTS: "GameConstants.Debug.DISABLE_ACHIEVEMENTS",
            DISABLE_DAILY_BONUS: "GameConstants.Debug.DISABLE_DAILY_BONUS",
            EDUCATION_ENABLED: "GameConstants.Debug.EDUCATION_ENABLED",
            ENABLE_MAP: "GameConstants.Debug.ENABLE_MAP",
            FORCE_DROPS: "GameConstants.Debug.FORCE_DROPS",
            FSM_LOGGING: "GameConstants.Debug.FSM_LOGGING",
            GAME_SPEED: "GameConstants.Debug.GAME_SPEED",
            FEED_LIMIT: "GameConstants.Debug.FEED_LIMIT",
            GET_GOLD: "GameConstants.Debug.GET_GOLD",
            GET_PET: "GameConstants.Debug.GET_PET",
            GET_SPELL: "GameConstants.Debug.GET_SPELL",
            GOD_MODE_ENABLED: "GameConstants.Debug.GOD_MODE_ENABLED",
            MONSTERS_ENABLED: "GameConstants.Debug.MONSTERS_ENABLED",
            PLAYER_CARDS_ENABLED: "GameConstants.Debug.PLAYER_CARDS_ENABLED",
            POPUPS_ENABLED: "GameConstants.Debug.POPUPS_ENABLED",
            SCALE_ENCOUNTER_DISTANCE: "GameConstants.Debug.SCALE_ENCOUNTER_DISTANCE",
            SET_CRIT: "GameConstants.Debug.SET_CRIT",
            SET_LEVEL: "GameConstants.Debug.SET_LEVEL",
            SET_NFACTOR: "GameConstants.Debug.SET_NFACTOR",
            SHOW_COLLISIONS: "GameConstants.Debug.SHOW_COLLISIONS",
            VERBOSE_LOCALIZATION: "GameConstants.Debug.VERBOSE_LOCALIZATION",
            WARP_MODE_ENABLED: "GameConstants.Debug.WARP_MODE_ENABLED",
            WIZARDS_ENABLED: "GameConstants.Debug.WIZARDS_ENABLED",
            UNLIMITED_WHEEL_SPINS: "GameConstants.Debug.UNLIMITED_WHEEL_SPINS",
            SKIP_MEMBERSHIP_WEBSITE: "GameConstants.Debug.SKIP_MEMBERSHIP_WEBSITE",
            GIVES_MEMBERSHIP_AFTER_SKIP_WEBSITE: "GameConstants.Debug.GIVES_MEMBERSHIP_AFTER_SKIP_WEBSITE",
            MONSTER_RADIUS_VISIBLE: "GameConstants.Debug.MONSTER_RADIUS_VISIBLE"
        }, t.Mailer = {
            TEST_MAIL: "GameConstants.Mailer.TEST_MAIL"
        }, t.FriendsList = {
            TEST_FRIENDS_LIST: "GameConstants.FriendsList.TEST_FRIENDS_LIST"
        }, t.Features = {
            ENABLE_HOUSE_MOVING: "GameConstants.Features.ENABLE_HOUSE_MOVING",
            SplitTests: {
                DEBUG_LANE: "GameConstants.Features.SplitTests.DEBUG_LANE",
                PLAY_AT_HOME: "GameConstants.Features.SplitTests.PLAY_AT_HOME",
                CHARACTER_CREATION_TIME: "GameConstants.Features.SplitTests.CHARACTER_CREATION_TIME"
            },
            Wheel: {
                COOLDOWN: "GameConstants.Features.Wheel.COOLDOWN",
                DEFAULT_SPINS: "GameConstants.Features.Wheel.DEFAULT_SPINS",
                MEMBER_SPINS: "GameConstants.Features.Wheel.MEMBER_SPINS",
                SPIN_TIME: "GameConstants.Features.Wheel.SPIN_TIME"
            }
        }, t.Battle = {
            ATTACK_OVERRIDE: "GameConstants.Battle.ATTACK_OVERRIDE",
            ESCAPE_CHANCE: "GameConstants.Battle.ESCAPE_CHANCE",
            MAX_NUM_PETS: "GameConstants.Battle.MAX_NUM_PETS",
            VALID_PARENT_EMAIL_STARS_PERCENTAGE: "GameConstants.Battle.VALID_PARENT_EMAIL_STARS_PERCENTAGE",
            MEMBER_STARS_PERCENTAGE: "GameConstants.Battle.MEMBER_STARS_PERCENTAGE",
            STARS_EARNED_PER_OPPONENT: "GameConstants.Battle.STARS_EARNED_PER_OPPONENT"
        }, t.Inactivity = {
            CANNOT_CONNECT_TIMER_SECONDS: "GameConstants.Inactivity.CANNOT_CONNECT_TIMER_SECONDS",
            DIALOG_TIMER_SECONDS: "GameConstants.Inactivity.DIALOG_TIMER_SECONDS",
            LOG_OUT_TIMER_SECONDS: "GameConstants.Inactivity.LOG_OUT_TIMER_SECONDS",
            NETWORK_BOOT_TIMER_SECONDS: "GameConstants.Inactivity.NETWORK_BOOT_TIMER_SECONDS"
        }, t.Audio = {
            DEFAULT_MUSIC_VOLUME: "GameConstants.Audio.DEFAULT_MUSIC_VOLUME",
            DEFAULT_SOUND_VOLUME: "GameConstants.Audio.DEFAULT_SOUND_VOLUME",
            DEFAULT_VOICE_VOLUME: "GameConstants.Audio.DEFAULT_VOICE_VOLUME"
        }, t.LocationSelection = {
            HOME: "GameConstants.LocationSelection.HOME",
            NONE: "GameConstants.LocationSelection.NONE",
            SCHOOL: "GameConstants.LocationSelection.SCHOOL"
        }, t.PVP = {
            OVERRIDE_USER_POINTS: "GameConstants.PVP.OVERRIDE_USER_POINTS",
            OVERRIDE_USER_RANK: "GameConstants.PVP.OVERRIDE_USER_RANK"
        }, t;
    }();
    e.GameConstants = n, e.default = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t.ShowDrops = "Prodigy.Events.VictoryManager.SHOW_DROPS", t.Complete = "Prodigy.Events.VictoryManager.COMPLETE";
    }(e.EVictoryManagerEvents || (e.EVictoryManagerEvents = {})), function(t) {
        t.AddChild = "Prodigy.Events.Screen.ADD_CHILD", t.GetLayer = "Prodigy.Events.Screen.GET_LAYER", 
        t.EnableBackground = "Prodigy.Events.Screen.ENABLE_BACKGROUND", t.EnableContent = "Prodigy.Events.Screen.ENABLE_CONTENT";
    }(e.EScreenEvents || (e.EScreenEvents = {})), function(t) {
        t.PlayerAdded = "Prodigy.Events.WalkableScreen.PLAYER_ADDED", t.PlayerUpdate = "Prodigy.Events.WalkableScreen.PLAYER_UPDATED";
    }(e.EWalkableScreenEvents || (e.EWalkableScreenEvents = {})), function(t) {
        t.Done = "Prodigy.Events.FlyingStars.DONE", t.PippetStarsDone = "Prodigy.Events.FlyingPippetStars.DONE", 
        t.MemberStarsDone = "Prodigy.Events.FlyingMemberStars.DONE";
    }(e.EFlyingStarsEvents || (e.EFlyingStarsEvents = {})), function(t) {
        t.Done = "Prodigy.Events.OpenJar.DONE";
    }(e.EOpenMemberJarEvents || (e.EOpenMemberJarEvents = {})), function(t) {
        t.GetIsRunning = "Prodigy.Events.Battle.GET_IS_RUNNING", t.PopupClosed = "Prodigy.Events.Battle.POPUP_CLOSED", 
        t.EndBattle = "Prodigy.Events.Battle.END_BATTLE", t.ApplySlotBonus = "Prodigy.Events.Battle.APPLY_SLOT_BONUS", 
        t.PvpComboIncrease = "Prodigy.Events.Battle.PVP_COMBO_INCREASE", t.PvpComboBreak = "Prodigy.Events.Battle.PVP_COMBO_BREAK", 
        t.PvpUpdate = "Prodigy.Events.Battle.PVP_UPDATE", t.PvpComboMeterMoveIn = "Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_IN", 
        t.PvpComboMeterMoveOut = "Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_OUT";
    }(e.EBattleEvents || (e.EBattleEvents = {})), function(t) {
        t.AnimationDone = "Prodigy.Events.Creature.ANIMATION_DONE", t.LevelUp = "Prodigy.Events.Creature.LEVEL_UP", 
        t.StarsAdded = "Prodigy.Events.Creature.STARS_ADDED", t.PlayerLoaded = "Prodigy.Events.Creature.PLAYER_LOADED", 
        t.LevelUpAnimation = "Prodigy.Events.Creature.LEVEL_UP_ANIMATION", t.ProcessedAllEvents = "Prodigy.Events.Creature.PROCESSED_ALL_EVENTS", 
        t.EvolveStart = "Prodigy.Events.Creature.EVOLVE_START", t.EvolveEnd = "Prodigy.Events.Creature.EVOLVE_END";
    }(e.ECreatureEvents || (e.ECreatureEvents = {})), function(t) {
        t.ShowPippetBattleBonus = "Prodigy.Events.Chest.SHOW_PIPPET_BATTLE_BONUS", 
        t.ShowMemberStars = "Prodigy.Events.Chest.SHOW_MEMBER_STARS";
    }(e.EChestEvents || (e.EChestEvents = {})), function(t) {
        t.EnableDynamicLayer = "Prodigy.Events.Map.ENABLE_DYNAMIC_LAYER";
    }(e.EMapEvents || (e.EMapEvents = {})), function(t) {
        t.Setup = "Prodigy.Events.NetworkHandlers.SETUP";
    }(e.ENetworkHandlerEvents || (e.ENetworkHandlerEvents = {})), function(t) {
        t.OpenChat = "Prodigy.Events.HUD.OPEN_CHAT", t.CloseChat = "Prodigy.Events.HUD.CLOSE_CHAT", 
        t.SetClickedWorldMap = "Prodigy.Events.HUD.SET_CLICKED_WORLD_MAP", t.HideChatNotif = "Prodigy.Events.HUD.HIDE_CHAT_NOTIF";
    }(e.EHUDEvents || (e.EHUDEvents = {})), function(t) {
        t.GetTotalMail = "Prodigy.Events.Mailer.GET_TOTAL_MAIL", t.GetTotalMailFailure = "Prodigy.Events.Mailer.GET_TOTAL_MAIL_FAILURE", 
        t.GetAllMail = "Prodigy.Events.Mailer.GET_ALL_MAIL", t.GetAllMailSuccess = "Prodigy.Events.Mailer.GET_ALL_MAIL_SUCCESS", 
        t.GetAllMailFailure = "Prodigy.Events.Mailer.GET_ALL_MAIL_FAILURE", t.MarkAsRead = "Prodigy.Events.Mailer.MARK_AS_READ", 
        t.MarkAsReadFailure = "Prodigy.Events.Mailer.MARK_AS_READ_FAILED", t.DeleteMail = "Prodigy.Events.Mailer.DELETE_MAIL", 
        t.DeleteMailSuccess = "Prodigy.Events.Mailer.DELETE_MAIL_SUCCESSFUL", t.DeleteMailFailure = "Prodigy.Events.Mailer.DELETE_MAIL_FAILURE", 
        t.UpdateMailCounters = "Prodigy.Events.Mailer.UPDATE_MAIL_COUNTERS", t.ShowIndicator = "Prodigy.Events.Mailer.SHOW_INDICATOR", 
        t.GiftBoxOpened = "Prodigy.Events.Mailer.GIFT_BOX_OPENED", t.CloseList = "Prodigy.Events.Mailer.CLOSE_LIST";
    }(e.EMailerEvents || (e.EMailerEvents = {})), function(t) {
        t.GetGiftBoxes = "Prodigy.Events.GiftBoxes.GET_GIFT_BOXES", t.UpdateConjureCubeCount = "Prodigy.Events.GiftBoxes.UPDATE_CONJURE_CUBE_COUNT";
    }(e.EGiftBoxEvents || (e.EGiftBoxEvents = {})), function(t) {
        t.OnGetDataComplete = "Prodigy.Events.Boss.ON_GET_DATA_COMPLETE";
    }(e.EBossEvents || (e.EBossEvents = {})), function(t) {
        t.Update = "Prodigy.Events.GameObj.UPDATE", t.PlayerInitialized = "Prodigy.Events.GameObj.PLAYER_INITIALIZED";
    }(e.EGameObjEvents || (e.EGameObjEvents = {})), function(t) {
        t.Loaded = "Prodigy.Events.Boot.LOADED";
    }(e.EBootEvents || (e.EBootEvents = {})), function(t) {
        t.WorkerLoadComplete = "Prodigy.Events.Loading.WORKER_LOAD_COMPLETE";
    }(e.ELoadingEvents || (e.ELoadingEvents = {})), function(t) {
        t.ClickedHouseIcon = "Prodigy.Events.House.CLICKED_HOUSE_ICON", t.OpenEditor = "Prodigy.Events.House.OPEN_EDITOR", 
        t.CloseEditor = "Prodigy.Events.House.CLOSE_EDITOR";
    }(e.EHouseEvents || (e.EHouseEvents = {})), function(t) {
        t.InkBlasted = "Prodigy.Events.ShipwreckShore.INK_BLASTED", t.InkGroupDestroyed = "Prodigy.Events.ShipwreckShore.INK_GROUP_DESTROYED";
    }(e.EShipwreckShoreEvents || (e.EShipwreckShoreEvents = {})), function(t) {
        t.AutoClick = "Prodigy.Events.Debug.AUTO_CLICK", t.AutoClickUI = "Prodigy.Events.Debug.AUTO_CLICK_UI", 
        t.AutoClickScene = "Prodigy.Events.Debug.AUTO_CLICK_SCENE", t.AutoClickList = "Prodigy.Events.Debug.AUTO_CLICK_LIST", 
        t.GetUIElement = "Prodigy.Events.Debug.GET_UI_ELEMENT";
    }(e.EDebugEvents || (e.EDebugEvents = {})), function(t) {
        t.OnMouseWheel = "Prodigy.Events.Input.ON_MOUSE_WHEEL";
    }(e.EInputEvents || (e.EInputEvents = {})), function(t) {
        t.GotFriendsList = "Prodigy.Events.FriendsList.GOT_FRIENDS_LIST", t.GotFriendsListAppearance = "Prodigy.Events.FriendsList.GOT_FRIENDS_LIST_APPEARANCE", 
        t.GetTotalFriendRequests = "Prodigy.Events.FriendsList.GET_TOTAL_FRIEND_REQUESTS", 
        t.GetTotalFriendRequestsFailure = "Prodigy.Events.FriendsList.GET_TOTAL_FRIEND_REQUESTS_FAILURE", 
        t.ClearFriendRequestsCache = "Prodigy.Events.FriendsList.CLEAR_FRIEND_REQUESTS_CACHE", 
        t.GetFriendRequestList = "Prodigy.Events.FriendsList.GET_FRIEND_REQUEST_LIST", 
        t.GotFriendRequestList = "Prodigy.Events.FriendsList.GOT_FRIEND_REQUEST_LIST", 
        t.GetFriendList = "Prodigy.Events.FriendsList.GET_FRIENDS_LIST", t.SetRequests = "Prodigy.Events.FriendsList.SET_REQUESTS", 
        t.SendRequest = "Prodigy.Events.FriendsList.SEND_REQUEST", t.CancelRequest = "Prodigy.Events.FriendsList.CANCEL_REQUEST", 
        t.AcceptRequest = "Prodigy.Events.FriendsList.ACCEPT_REQUEST", t.RejectRequest = "Prodigy.Events.FriendsList.REJECT_REQUEST", 
        t.RequestSent = "Prodigy.Events.FriendsList.REQUEST_SENT", t.RequestCancelled = "Prodigy.Events.FriendsList.REQUEST_CANCELLED", 
        t.RequestReceived = "Prodigy.Events.FriendsList.REQUEST_RECEIVED", t.RequestAccepted = "Prodigy.Events.FriendsList.REQUEST_ACCEPTED", 
        t.RequestRejected = "Prodigy.Events.FriendsList.REQUEST_REJECTED", t.RemoveFriend = "Prodigy.Events.FriendsList.REMOVE_FRIEND", 
        t.FriendRemoved = "Prodigy.Events.FriendsList.FRIEND_REMOVED", t.GetFriendshipStatus = "Prodigy.Events.FriendsList.GET_FRIENDSHIP_STATUS", 
        t.GotFriendshipStatus = "Prodigy.Events.FriendsList.GOT_FRIENDSHIP_STATUS", 
        t.FriendsAppearanceUpdated = "Prodigy.Events.FriendsList.FRIENDS_APPEARANCE_UPDATED", 
        t.IllogicalRequestAction = "Prodigy.Events.FriendsList.ILLOGICAL_REQUEST_ACTION";
    }(e.EFriendsListEvents || (e.EFriendsListEvents = {})), function(t) {
        t.MovePlayer = "Prodigy.Events.PlayerLocomotion.MOVE_PLAYER", t.StopPlayer = "Prodigy.Events.PlayerLocomotion.STOP_PLAYER", 
        t.GetTarget = "Prodigy.Events.PlayerLocomotion.GET_TARGET";
    }(e.EPlayerLocomotionEvents || (e.EPlayerLocomotionEvents = {})), function(t) {
        t.SetBackgroundPanelTileDimensions = "Prodigy.Events.LocationPage.SET_BACKGROUND_PANEL_TILE_DIMENSIONS", 
        t.GetBackgroundPanelTileDimensions = "Prodigy.Events.LocationPage.GET_BACKGROUND_PANEL_TILE_DIMENSIONS";
    }(e.EAccountCreateEvents || (e.EAccountCreateEvents = {})), function(t) {
        t.TabButtonClicked = "Prodigy.Events.UI.TAB_BUTTON_CLICKED", t.TabSelected = "Prodigy.Events.UI.TAB_SELECTED", 
        t.ChildAdded = "Prodigy.Events.UI.CHILD_ADDED", t.ChildRemoved = "Prodigy.Events.UI.CHILD_REMOVED", 
        t.MenuOpened = "Prodigy.Events.UI.MENU_OPENED", t.MountTogglePressed = "Prodigy.Events.UI.MOUNT_TOGGLE_PRESSED";
    }(e.EUIEvents || (e.EUIEvents = {})), function(t) {
        t.GotTitans = "Prodigy.Events.Titan.GOT_TITANS", t.GotTitan = "Prodigy.Events.Titan.GOT_TITAN", 
        t.Catapult = "Prodigy.Events.Titan.CATAPULT";
    }(e.ETitanEvents || (e.ETitanEvents = {})), function(t) {
        t.PlayerAppearanceUpdated = "Prodigy.Events.PlayerContainer.PLAYER_APPEARANCE_UPDATED", 
        t.NewAnimationStateSet = "Prodigy.Events.PlayerContainer.NEW_ANIMATION_STATE_SET", 
        t.PlayerEquipmentEquip = "Prodigy.Events.PlayerContainer.PLAYER_EQUIPMENT_EQUIP ", 
        t.PlayerEquipmentUnequip = "Prodigy.Events.PlayerContainer.PLAYER_EQUIPMENT_UNEQUIP ";
    }(e.EPlayerContainerEvents || (e.EPlayerContainerEvents = {}));
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(0), o = function() {
        function t() {}
        return t.parseData = function(e) {
            t.data = e;
            var i = {
                outfit: 4e-4,
                weapon: 5e-4,
                hat: .001,
                boots: .001,
                item: .025,
                currency: 1
            }, a = [ 1, .75, .5, .25, .1 ];
            for (var o in t.data) if (t.data.hasOwnProperty(o)) for (var r = t.data[o], s = 0; s < r.length; s++) {
                var l = r[s];
                if (t.itemMap[o + "-" + l.ID] = l, n.Util.isValid(l.data.drop) && l.data.drop > 0) {
                    var h = 0;
                    i.hasOwnProperty(o) && (h = i[o]);
                    var c = 1;
                    n.Util.isValid(l.data.rarity) && l.data.rarity < a.length && (c = a[l.data.rarity]);
                    var p = h * c * l.data.drop;
                    if (p > 0) {
                        var u = {
                            type: o,
                            ID: l.ID,
                            R: p
                        };
                        t.drops.push(u);
                    }
                }
            }
        }, t.getItem = function(e, i) {
            var a = t.itemMap[e + "-" + i];
            return n.Util.isValid(a) ? a : null;
        }, t.doesExist = function(e, i) {
            return null !== t.getItem(e, i);
        }, t.getRandomItem = function(e) {
            var i = t.data[e];
            return n.Util.isValid(i) && i.length > 0 ? i[Math.floor(i.length * Math.random())] : null;
        }, t.getItemDrops = function(e) {
            var i = t.drops.slice();
            n.Util.isValid(e) && (i = i.concat(e));
            for (var a = [], o = 0; o < i.length; o++) {
                var r = i[o];
                n.Util.isValid(r) && Math.random() < r.R && a.push(r);
            }
            return a;
        }, t.getItemsWithFilter = function(e, i) {
            return t.data.hasOwnProperty(e) ? t.data[e].filter(i) : [];
        }, t.getCategoryItems = function(e) {
            return t.data[e];
        }, t.getItemData = function(e, i) {
            var a = t.getItem(e, i);
            return n.Util.isValid(a) ? a.data : ("gold" !== e && n.Util.log("Item Data not found for type: " + e + " ID: " + i, n.Util.ERROR), 
            null);
        }, t.getItemMetadata = function(e, i) {
            var a = t.itemMap[e + "-" + i];
            return n.Util.isValid(a) ? a.metadata : null;
        }, t.getIconAtlas = function(e) {
            if (!n.Util.isValid(e)) return "atlas-21";
            if (n.Util.isValid(e.metadata) && n.Util.isValid(e.metadata.iconAtlas)) return e.metadata.iconAtlas;
            if (n.Util.isValid(e.iconAtlas)) return e.iconAtlas;
            if (n.Util.isValid(e.ID) && n.Util.isValid(e.type)) {
                var i = null;
                if (n.Util.isValid(e.metadata) && n.Util.isValid(e.metadata.icon) && n.Util.isValid(e.metadata.icon.type)) {
                    if (i = t.getItem(e.metadata.icon.type, e.metadata.icon.ID).metadata, 
                    n.Util.isValid(i) && n.Util.isValid(i.iconAtlas)) return i.iconAtlas;
                } else {
                    var a = t.getItem(e.type, e.ID);
                    if (i = n.Util.isValid(a) ? a.metadata : null, n.Util.isValid(i) && n.Util.isValid(i.iconAtlas)) return i.iconAtlas;
                    if (n.Util.isValid(i) && n.Util.isValid(i.vIcon) || "storeTab" === e.type) return "icon-" + e.type + "-" + e.ID;
                }
            }
            return "atlas-21";
        }, t.getIconFrame = function(t) {
            return "string" != typeof t ? n.Util.isValid(t.ID) ? "" + t.ID : null : t;
        }, t.getItems = function(e, i) {
            return t.getItemsWithFilter(e, function(t) {
                return n.Util.isValid(t.data.drop) && t.data.drop > 0 && n.Util.isValid(t.data.rarity) && t.data.rarity === i;
            });
        }, t.getRawItems = function(e, i) {
            return n.Util.isValid(i) ? t.getItemsWithFilter(e, function(t) {
                return n.Util.isValid(t.data.rarity) && t.data.rarity === i;
            }) : t.data.hasOwnProperty(e) ? t.data[e] : [];
        }, t.getCost = function(e, i) {
            var a = t.getItem(e, i).data;
            return n.Util.isValid(a) && n.Util.isValid(a.cost) ? a.cost[0] : {
                type: "currency",
                ID: 1,
                N: 250
            };
        }, t.getRandomizedDropsFromCreatures = function(t, e, i) {
            var o = [], r = [];
            if (n.Util.isValid(t)) for (var s = void 0, l = 0; l < t.length; l++) "hat" === (s = t[l]).type || "outfit" === s.type || "weapon" === s.type || "boots" === s.type || "relic" === s.type ? 0 === r.length && r.push(s) : o.push(s);
            if (i) {
                var h = a.GameConstants.get("GameConstants.Debug.FORCE_DROPS").concat(e.getDrops()), c = 4;
                for (l = 0; l < h.length; l++) "hat" === h[l].type || "outfit" === h[l].type || "weapon" === h[l].type || "boots" === h[l].type || "relic" === h[l].type ? 0 === r.length && r.push(h[l]) : 0 !== c && ("item" !== h[l].type && "currency" !== h[l].type || c--, 
                o.push(h[l]));
            }
            return r.length > 0 && o.push(r[0]), o;
        }, t.getRangeByAmount = function(e, i, a) {
            for (var o = [], r = i; r <= i + a - 1; r++) {
                var s = t.data[e][r];
                n.Util.isValid(s) && o.push(s);
            }
            return o;
        }, t.getItemCount = function(e) {
            return n.Util.isValid(t.data[e]) ? t.data[e].length : 0;
        }, t.itemMap = {}, t.drops = [], t;
    }();
    e.Items = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(3), s = i(0), l = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i) || this;
            return s.Util.isValid(a) && (o.x = a), s.Util.isValid(n) && (o.y = n), 
            o;
        }
        return n(e, t), e.prototype.setRenderState = function(t, e) {
            this.renderOnly = t, this.tintElement = e;
        }, e.prototype.showTooltip = function(t, e) {
            if (this.hasTooltip() && (this.tooltip.destroy(), this.tooltip = null), 
            s.Util.isValid(t)) {
                this.tooltip = this.game.prodigy.create.element(this, e);
                var i = this.tooltip.add(this.game.prodigy.create.sprite(30, 0, "atlas-18", "tooltip"));
                i.alpha = .9, i.width = 300, i.height = 50, this.game.prodigy.create.font(this.tooltip, 90, 11, t, {
                    width: 230,
                    align: "center"
                }), i = this.tooltip.add(this.game.prodigy.create.sprite(0, 0, "atlas-21", "type")), 
                this.game.add.tween(i).to({
                    x: 10
                }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0);
            }
        }, e.prototype.hasTooltip = function() {
            return s.Util.isValid(this.tooltip);
        }, e.prototype.highlight = function(t, e, i) {
            void 0 === e && (e = 0), void 0 === i && (i = 0), this.isHighlighted() && (this.arrow.destroy(), 
            this.arrow = null), t && (this.arrow = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-21", "help")), 
            this.arrow.x = e + Math.floor(this.width / 2), this.arrow.y = i - this.arrow.height + 10, 
            this.game.add.tween(this.arrow).to({
                y: this.arrow.y + 25
            }, 400, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0));
        }, e.prototype.isHighlighted = function() {
            return s.Util.isValid(this.arrow);
        }, e.prototype.destroy = function(e, i) {
            this.unregisterGetElementListener(), t.prototype.destroy.call(this, e, i);
        }, e.prototype.registerGetElementListener = function() {
            s.Util.isValid(o.GameConstants.get("GameConstants.Build.DEBUG")) && this.game.broadcaster.addAppListener(r.EDebugEvents.GetUIElement, this.onGetUIElement.bind(this), this, this.game, !1);
        }, e.prototype.unregisterGetElementListener = function() {
            s.Util.isValid(this.game) && this.game.broadcaster.removeAppListener(r.EDebugEvents.GetUIElement, this, this.game);
        }, e.prototype.onGetUIElement = function(t) {
            return s.Util.isValid(t) && this instanceof t ? this : null;
        }, e;
    }(Phaser.Group);
    e.Element = l;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t(t, e, i, a, n, o, r, s, l, h, c, p, u, d) {
            void 0 === p && (p = null), void 0 === u && (u = null), void 0 === d && (d = null), 
            this.collectionMaps = null, this.zone = t, this.assets = e, this.ID = i, 
            this.descKey = a, this.descCacheKey = a, this.req = n, this.area = o, 
            this.areaCache = o, this.onStart = r, this.onProc = s, this.onComplete = l, 
            this.reward = h, this.chain = c || !1, this.questGiver = p, this.questReceiver = u, 
            this.alternateOnStart = d;
        }
        return t.prototype.setup = function(t, e, i) {
            return {};
        }, t.prototype.start = function(t, e, i) {
            return {};
        }, t.prototype.process = function(t, e, i) {}, t.prototype.update = function(t, e, i) {}, 
        t;
    }();
    e.Quest = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(3), s = i(0), l = function(t) {
        function e(e, i, a, n, o, r, l, h) {
            var c = t.call(this) || this;
            return c.tag = "", c.isScene = !1, c.nameKey = "", c.x = 0, c.y = 0, 
            c.battleBG = "", c.isQuestHub = !1, c.locations = [], c.questParams = {}, 
            c.mapMonsters = [], c.tag = i, c.nameKey = a, c.zoneName = e.ID + "-" + i, 
            c.x = n, c.y = o, c.file = "map-" + c.zoneName.toLowerCase(), c.onFaint = e.onFaint, 
            c.zone = e, c.battleBG = e.battleBG, s.Util.isValid(h) ? c.file = h.toLowerCase() : c.file = "map-" + c.zoneName.toLowerCase(), 
            c.isQuestHub = e.questHub.indexOf(i) >= 0, c.assets = [ c.file, "atlas-110" ].concat(l), 
            c.locations = r, c;
        }
        return n(e, t), Object.defineProperty(e.prototype, "name", {
            get: function() {
                return this.getName();
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.getName = function() {
            return this.zone.game.prodigy.gameContainer.Localizer.getText(this.nameKey);
        }, e.prototype.getLocation = function() {
            return this.zoneName;
        }, e.prototype.setup = function(t, e, i) {
            void 0 === i && (i = {}), this.questParams = s.Util.isValid(i) ? i : {};
            var a = t.prodigy.bounty.hasBounty(this.zone.ID, this.tag);
            s.Util.isValid(a) && t.prodigy.bounty.placeBounty(a, e, this), this.zone.debugBounties && this.showAllBounties(t, e), 
            this.zone.hasDaily(this) && s.Util.isValid(this.zone.monsters) && this.zone.placeDaily(this, t, e), 
            this.game = t, this.screen = e, this.game.broadcaster.addAppListener(r.EMapEvents.EnableDynamicLayer, this.toggleDynamicLayer.bind(this), this, null, !0);
        }, e.prototype.start = function(t, e, i) {
            var a = s.Util.isValid(i) ? i : this.zone.bgmID;
            t.prodigy.audio.playBGM(a, !0), t.prodigy.audio.resumeBGM();
        }, e.prototype.process = function(t, e, i) {}, e.prototype.update = function(t) {}, 
        e.prototype.getTag = function() {
            return this.tag;
        }, e.prototype.cleanup = function() {}, e.prototype.processDynamicLayers = function(t, e) {
            for (var i = 0, a = this.dynamicSprites; i < a.length; i++) {
                var n = a[i];
                s.Util.isValid(n.collisionTile) && n.collisionTile ? n.destroy() : n.isAbove ? (e.above.bringToTop(this.dynamicLayerContainers["element-" + n.dynamicToggle].above), 
                this.dynamicLayerContainers["element-" + n.dynamicToggle].above.add(n)) : (e.below.bringToTop(this.dynamicLayerContainers["element-" + n.dynamicToggle].below), 
                this.dynamicLayerContainers["element-" + n.dynamicToggle].below.add(n));
            }
        }, e.prototype.addAreaEvent = function(t, e, i, a, n, o, r, l, h, c) {
            return void 0 === h && (h = !1), void 0 === c && (c = !1), i.target = a, 
            !s.Util.isValid(r) && t.prodigy.classModeController.isClassMode([ 3 ]) && t.prodigy.classModeController.isLockedZone(a) ? (i.canReTrigger = !0, 
            e.addAreaEvent(i, t.prodigy.classModeController.onClassMode.bind(t.prodigy.classModeController, a), l, h, c)) : s.Util.isValid(r) ? e.addAreaEvent(i, r, l, h, c) : e.addAreaEvent(i, t.prodigy.world.teleport.bind(t.prodigy.world, a, n, o), l, h, c);
        }, e.prototype.addChest = function(t, e, i, a, n, o, r, l) {
            return s.Util.isValid(this.questParams.enableChests) && !this.questParams.enableChests ? null : e.addChest(i, a, n, o, r, l);
        }, e.prototype.addMonster = function(t, i, a, n, r, l, h, c, p, u) {
            void 0 === c && (c = !1), void 0 === p && (p = null), void 0 === u && (u = !1);
            var d = o.GameConstants.get("GameConstants.Debug.MONSTERS_ENABLED");
            if (s.Util.isValid(d) && !d || s.Util.isValid(this.questParams.enableMonsters) && !this.questParams.enableMonsters) return null;
            if (s.Util.isValid(this.questParams.overrideMonsterIDWithPippet) && a === this.questParams.overrideMonsterIDWithPippet) return null;
            var g = s.Util.copyObject(h);
            if (s.Util.isValid(this.mapMonsters[a]) || (this.mapMonsters[a] = {}), 
            !c && this.mapMonsters[a].respawn > new Date().getTime()) return null;
            g.onEnd = s.Util.isValid(g.onEnd) ? g.onEnd : this.zoneName, g.onFaint = s.Util.isValid(g.onFaint) ? g.onFaint : this.onFaint, 
            g.screen = s.Util.isValid(g.screen) ? g.screen : this.battleBG, s.Util.isValid(this.mapMonsters[a].data) && !u && (g.encounter = [ this.mapMonsters[a].data ]);
            var y = i.addMonster(a, n, r, l, g, e.resetMonsterRespawn.bind(this, this.mapMonsters[a], g, 12e4), s.Util.isValid(this.mapMonsters[a].respawn), p);
            return this.mapMonsters[a].data = y.monsterData, delete this.mapMonsters[a].respawn, 
            y;
        }, e.resetMonsterRespawn = function(t, e, i) {
            t.monsterData = null, t.respawn = new Date().getTime() + i, s.Util.isValid(e) && (t.data = null, 
            s.Util.isValid(e.onEnc) && e.onEnc());
        }, e.prototype.addPippet = function(t, e, i, a, n) {
            var o = this.questParams.enableMonsters || !1;
            s.Util.isValid(t.prodigy.world.pippetEncounterSpawn) && this.zoneName === t.prodigy.world.pippetEncounterSpawn.location && !o && (this.questParams.overrideMonsterIDWithPippet = s.Util.isValid(i) ? i : 1, 
            e.addPippet(i, a, n));
        }, e.prototype.addBounty = function(t, i, a, n, o, r, l, h) {
            void 0 === h && (h = !1);
            var c = s.Util.copyObject(l);
            if (s.Util.isValid(this.mapMonsters[a]) || (this.mapMonsters[a] = {}), 
            !h && this.mapMonsters[a].respawn > new Date().getTime()) return null;
            c.onEnd = s.Util.isValid(c.onEnd) ? c.onEnd : this.zoneName, c.onFaint = s.Util.isValid(c.onFaint) ? c.onFaint : this.onFaint, 
            c.screen = s.Util.isValid(c.screen) ? c.screen : this.battleBG, s.Util.isValid(this.mapMonsters[a].monsterData) && (c.encounter = [ this.mapMonsters[a].monsterData ]);
            var p = i.addBounty(a, n, o, r, c, e.resetMonsterRespawn.bind(this, this.mapMonsters[a], null, 5e3), s.Util.isValid(this.mapMonsters[a].respawn));
            return this.mapMonsters[a].data = p.monsterData, delete this.mapMonsters[a].respawn, 
            p;
        }, e.prototype.addWizard = function(t, e, i, a, n, o) {
            o.onEnd = s.Util.isValid(o.onEnd) ? o.onEnd : this.zoneName, o.onFaint = s.Util.isValid(o.onFaint) ? o.onFaint : this.onFaint, 
            o.screen = s.Util.isValid(o.screen) ? o.screen : this.battleBG;
            var r = e.addWizard(i, a, n, o);
            return s.Util.isValid(this.questParams.enableWizards) && !this.questParams.enableWizards && (r.visible = !1), 
            r;
        }, e.prototype.addConstructedNPC = function(t, e, i, a, n, o, r, l) {
            return s.Util.isValid(this.questParams.hiddenNPCs) && this.questParams.hiddenNPCs.indexOf(n) > -1 ? null : e.addConstructedNPC(i, a, n, o, r, l);
        }, e.prototype.addCollisionZone = function(t, e, i, a, n) {
            for (var o = t.path.size, r = Math.floor(a / o), s = Math.floor(n / o), l = Math.floor(e / o), h = Math.floor(i / o), c = l; c < l + r; c++) for (var p = h; p < h + s; p++) t.path.area[p][c] = 0;
        }, e.prototype.init = function(e, i, a, n) {
            return t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.validPathTo = function(t, e, i, a) {
            var n = t.prodigy.event.create();
            n.validPath(e.user, e.path, i, a), n.start();
        }, e.prototype.playPortalEffectExit = function(t, e, i, a, n) {
            var o = this.zone.game.prodigy.event.create();
            if (this.portalActive) o.enableInput(!1), o.path(this.screen.user, [ {
                x: t,
                y: e
            } ]), o.portalEffect(t, e, !1), o.enableInput(!0), o.function(this.zone.game.prodigy.world.teleport.bind(this.zone.game.prodigy.world, i, a, n)); else {
                this.landedOnPortal = !0, o.enableInput(!1), o.portalEffect(t, e, !1);
                var r = 640 - t, s = 360 - e, l = Math.sqrt(r * r + s * s);
                0 === l && (l = 1, r = 1), o.path(this.screen.user, [ {
                    x: 80 * r / l + t,
                    y: 80 * s / l + e
                } ]), o.set(this, "landedOnPortal", !1), o.set(this, "portalActive", !0), 
                o.function(this.addAreaEvent.bind(this, this.game, this.screen, {
                    x: t,
                    y: e,
                    w: 100,
                    h: 80
                }, i, a, n, this.playPortalEffectExit.bind(this, t, e, i, a, n))), 
                o.enableInput(!0);
            }
            o.start();
        }, e.prototype.playPortalEffectEnter = function(t, e, i, a) {
            var n = this.zone.game.prodigy.event.create();
            this.portalActive || (n.enableInput(!1), n.portalEffect(t, e, !1), s.Util.isValid(i) && s.Util.isValid(a) && n.path(this.screen.user, [ {
                x: i,
                y: a
            } ]), n.set(this, "landedOnPortal", !1), n.set(this, "portalActive", !0), 
            n.enableInput(!0), n.start());
        }, e.prototype.showAllBounties = function(t, e) {
            if (s.Util.isValid(this.coord)) for (var i = 0; i < this.coord.length; i++) {
                var a = {
                    ID: 84,
                    seed: Math.floor(100 * Math.random()),
                    complete: 0
                };
                t.prodigy.bounty.placeBountyHere(a, e, this, i);
            }
        }, e.prototype.toggleDynamicLayer = function(t, e, i, a) {
            var n = this;
            if (void 0 === a && (a = 1), s.Util.isValid(this.dynamicLayerContainers)) {
                var o = i ? 1 : 0;
                s.Util.isValid(this.dynamicLayerContainers["element-" + e]) && (t.add.tween(this.dynamicLayerContainers["element-" + e].above).to({
                    alpha: o
                }, s.Util.isValid(a) ? a : 1, Phaser.Easing.Linear.None).start(), 
                t.add.tween(this.dynamicLayerContainers["element-" + e].below).to({
                    alpha: o
                }, s.Util.isValid(a) ? a : 1, Phaser.Easing.Linear.None).start()), 
                s.Util.isValid(this.dynamicLayerContainers["collision-" + e]) && (this.dynamicLayerContainers["collision-" + e].forEach(function(t) {
                    n.screen.area[t.y][t.x] = i ? t.value : 1;
                }), this.screen.path.init(this.screen.area, this.screen.tileSize));
            }
        }, e;
    }(i(251).TiledMap);
    e.Map = l;
}, function(t, e, i) {
    "use strict";
    function a(t) {
        for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i]);
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(54);
    e.GameIdentifiers = n.GameIdentifiers;
    var o = i(1028);
    e.GameContainer = o.GameContainer, a(i(1027)), a(i(1023)), a(i(1022));
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(4), o = i(0), r = function() {
        function t(t, e, i, a, n, r, s, l, h, c, p, u) {
            var d = this;
            this.CRITICAL_HIT_THRESHOLD = .15, this.criticalThresholdBonus = 0, 
            this.nFactorMap = [ -1, 1, 1, 1.2, 1.3, 1.5, 2, 2.5, 3, 3.5, 4 ], this.game = t, 
            this.source = e, this.target = i, this.callback = h, this.atk = l, this.miss = c, 
            this.mods = p, this.underLayer = this.game.prodigy.create.element(a, 0, 0), 
            this.overLayer = this.game.prodigy.create.element(n, 0, 0), this.game.time.events.add(o.Util.isValid(u) ? u : 0, function() {
                d.setup(), d.game.time.events.add(r + 1e3, d.complete, d), d.delayComplete = !1, 
                d.shieldTime = 0;
            }, this);
        }
        return t.prototype.setup = function(t, e) {
            this.miss ? this.game.time.events.add(t, this.missed, this) : (o.Util.isValid(t) && this.game.time.events.add(t, this.damage, this), 
            o.Util.isValid(e) && this.game.time.events.add(e, this.heal, this));
        }, t.prototype.calculateDamageDone = function() {
            var t = o.Util.isValid(this.mod) ? this.mod : 0, e = 1, i = 1;
            if (t += this.source.source.getDamageBonus(), o.Util.isValid(this.mods) && (o.Util.isValid(this.mods.dmgMod) && (t += this.mods.dmgMod), 
            o.Util.isValid(this.mods.comboBonus) && (e = this.mods.comboBonus), 
            o.Util.isValid(this.mods.nFactor) && (i = this.mods.nFactor)), this.damageDone = this.game.prodigy.attacks.calculateDamage(this.atk, this.source.source, this.target.source, t, e), 
            this.damageDone > 0 && "PVP" !== this.game.state.current && (this.damageDone *= this.nFactorMap[i], 
            this.damageDone = Math.round(this.damageDone * (.1 * Math.random() + .95))), 
            this.criticalThresholdBonus = 0, o.Util.isValid(this.source.source.modifiers) && (this.damageDone = Math.round(this.damageDone * this.source.source.modifiers.damage), 
            o.Util.isValid(this.source.source.modifiers.potion))) {
                var a = n.Items.getItem("item", this.source.source.modifiers.potion).data;
                "damage" === a.element ? (this.damageDone += a.potency * this.damageDone / 10, 
                this.damageDone = Math.round(this.damageDone)) : "critical" === a.element && (this.criticalThresholdBonus = a.potency > 1 ? 1 : this.CRITICAL_HIT_THRESHOLD);
            }
        }, t.prototype.damage = function() {
            if (this.calculateDamageDone(), o.Util.isValid(this.atk.data.type) && "epic-attack" === this.atk.data.type) if (o.Util.isValid(this.epic)) this.game.prodigy.effects.characterImage(this.game.prodigy.create.sprite(this.epic.x, this.epic.y, "atlas-17", "text-epic-attack")); else {
                var t = this.game.prodigy.create.sprite(this.source.x, this.source.y, "atlas-17", "text-epic-attack");
                t.y += 150 - this.source.height, this.game.prodigy.effects.characterImage(t);
            }
            this.shieldTime = 0;
            var e = 0;
            if (o.Util.isValid(this.target.source.modifiers) && o.Util.isValid(this.target.source.modifiers.potion)) {
                var i = n.Items.getItem("item", this.target.source.modifiers.potion).data;
                if (o.Util.isValid(i.subType) && "elemental" === i.subType && o.Util.isValid(this.atk.data.element) && ("all" === i.element || this.atk.data.element === i.element)) {
                    this.shieldTime = 1e3, e = i.potency * this.damageDone / 10, 
                    this.damageDone -= Math.round(e);
                    var r = this.target.sprites.add(this.game.prodigy.create.sprite(0, -75, "atlas-21", "potion-buff-" + i.element));
                    r.anchor.setTo(.5, .5);
                    var s = this.game.add.tween(r).to({
                        alpha: 0
                    }, 1300, Phaser.Easing.Quadratic.Out), l = this.game.add.tween(r.scale).to({
                        x: 4,
                        y: 4
                    }, 1300, Phaser.Easing.Quadratic.Out);
                    s.start(), l.onComplete.add(function() {
                        r.destroy();
                    }, r), l.start();
                }
            }
            var h = "", c = !1, p = 1;
            o.Util.isValid(this.mods) && o.Util.isValid(this.mods.criticalChance) && (p = this.mods.criticalChance), 
            "PVP" !== this.game.state.current && ("epic-attack" === this.atk.data.type ? c = !0 : o.Util.isValid(a.GameConstants.get("GameConstants.Debug.SET_CRIT")) ? c = Math.random() < a.GameConstants.get("GameConstants.Debug.SET_CRIT") : Math.random() < (this.CRITICAL_HIT_THRESHOLD + this.criticalThresholdBonus) * p && (c = !0)), 
            c ? (this.damageDone = Math.round(1.25 * this.damageDone), this.game.prodigy.effects.characterImage(this.game.prodigy.create.sprite(this.target.x, this.source.y + 50, "atlas-17", "text-critical-hit"), this.shieldTime + 1e3), 
            h = "critical-hit") : h = "normal-hit", this.lastTargetHp = this.target.source.getCurrentHearts(), 
            this.target.source.changeCurrentHearts(-this.damageDone), this.target.source.getCurrentHearts() <= 0 && this.target.source.modifiers.barrier ? (this.game.prodigy.effects.characterText("-999", this.target.x, this.source.y, this.shieldTime, {
                size: 1,
                fontID: 12,
                mono: 44
            }), c = !0, this.game.prodigy.effects.characterImage(this.game.prodigy.create.sprite(this.target.x, this.source.y + 50, "atlas-17", "text-critical-hit"), this.shieldTime + 1e3), 
            h = "critical-hit", o.Util.isValid(this.mods) && o.Util.isValid(this.mods.nFactor) && this.mods.nFactor > 2 && this.game.prodigy.effects.characterText(this.game.prodigy.gameContainer.Localizer.getText("COMBAT_CAST_BONUS_HIT"), this.target.x, this.source.y + 50, this.shieldTime), 
            this.target.retreat()) : (this.game.prodigy.effects.characterText("-" + this.damageDone, this.target.x, this.source.y, this.shieldTime, {
                size: 1,
                fontID: 12,
                mono: 44
            }), o.Util.isValid(this.mods) && o.Util.isValid(this.mods.nFactor) && this.mods.nFactor > 2 && this.game.prodigy.effects.characterText(this.game.prodigy.gameContainer.Localizer.getText("COMBAT_CAST_BONUS_HIT"), this.target.x, this.source.y + 50, this.shieldTime)), 
            this.target.source.modifiers.barrier && o.Util.isValid(this.target.barrierSprite) && (this.target.source.getCurrentHearts() > 0 ? this.target.doBarrierAnimation() : this.target.doBarrierBreakAnimation()), 
            this.game.prodigy.audio.playSFX(8, h);
            var u = null;
            c || 0 !== this.target.source.modifiers.ignoreElement || (this.game.prodigy.attacks.isStrong(this.atk.data.element, this.target.source.getElement()) ? u = this.game.prodigy.gameContainer.Localizer.getText("EFFECT_ATTACK_POWERFUL") : this.game.prodigy.attacks.isWeak(this.atk.data.element, this.target.source.getElement()) && (u = this.game.prodigy.gameContainer.Localizer.getText("EFFECT_ATTACK_WEAK"))), 
            o.Util.isValid(u) && (this.delayComplete = !0, this.game.prodigy.effects.characterText(u, this.target.x, this.source.y + 50, this.shieldTime + 1e3));
        }, t.prototype.missed = function() {
            this.game.prodigy.audio.playSFX(8, "miss"), this.game.prodigy.effects.fadeFlyingImage(this.target.x, this.target.y - (this.target.height >> 1), "atlas-17", "text-miss");
        }, t.prototype.heal = function() {
            var t = o.Util.isValid(this.damageDone);
            o.Util.isValid(this.damageDone) || this.calculateDamageDone();
            var e = Math.floor(.5 * this.damageDone);
            this.target.source.getCurrentHearts() <= 0 && (e = Math.floor(.5 * this.lastTargetHp)), 
            this.source.source.changeCurrentHearts(e), t || (this.damageDone = 0);
            var i = this.game.prodigy.event.create();
            i.sound(18, "heart"), i.delay(200), i.sound(18, "heart"), i.delay(200), 
            i.sound(18, "heart"), i.start(), this.game.prodigy.effects.characterText("+" + e, this.source.x, this.source.y, this.shieldTime, {
                size: 3,
                fontID: 12,
                mono: 44
            });
        }, t.prototype.showOverlay = function(t, e, i, a, n) {
            var o = t;
            this.overLayer.add(o), this.game.add.tween(o.tilePosition).to({
                x: i * e,
                y: a * e
            }, e, Phaser.Easing.Linear.None).delay(n).start(), this.game.add.tween(o).to({
                alpha: 0
            }, 100, Phaser.Easing.Linear.None).delay(n + e - 100).start();
        }, t.prototype.complete = function() {
            this.underLayer.destroy(), this.overLayer.destroy(), this.game.time.events.add(this.delayComplete ? this.shieldTime + 1e3 : this.shieldTime + 300, this.callback, this);
        }, t.BX = 2e3, t.BY = 1e3, t;
    }();
    e.Attack = r;
}, function(t, e, i) {
    var a = i(156);
    t.exports = function(t, e, i) {
        var n = null == t ? void 0 : a(t, e);
        return void 0 === n ? i : n;
    };
}, function(t, e) {
    t.exports = window.inversify;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = i(5), l = function(t) {
        function e(e, i, a, n, o) {
            var s = t.call(this, e, i, a, n) || this;
            return s.buttons = [], s.renderTexture = null, s.background = null, 
            s.renderImage = null, s.page = 0, s.disableModeSet = !1, r.Util.isValid(s.game.prodigy.notifications) && s.game.prodigy.notifications.clearNotifications(), 
            s.renderTexture = o, s.background = e.prodigy.create.element(s), s.renderTexture.clear(), 
            s.renderImage = s.add(new Phaser.Image(e, 0, 0, s.renderTexture)), s.renderImage.inputEnabled = !0, 
            s;
        }
        return n(e, t), e.prototype.create = function() {
            this.game.prodigy.open.setActiveRenderMenu(this), this.process(), this.game.broadcaster.broadcast(o.EPlayerLocomotionEvents.StopPlayer);
        }, e.prototype.setMode = function(t) {
            if (r.Util.isValid(this.buttons)) for (var e = 0; e < this.buttons.length; e++) this.buttons[e].setActive(t !== e);
        }, e.prototype.setActive = function(t) {
            this.visible = t, t && (r.Util.isValid(this.game) && r.Util.isValid(this.game.prodigy.notifications) && this.game.prodigy.notifications.clearNotifications(), 
            this.process()), this.disableModeSet || this.setMode(r.Util.isValid(this.page) ? this.page : 0);
        }, e.prototype.addTransparent = function(t) {
            void 0 === t && (t = .5);
            var e = this.background.add(this.game.prodigy.create.sprite(-10, -10, "atlas-18", "overlay-small"));
            e.width = 1300, e.height = 740, e.alpha = t;
        }, e.prototype.createBaseSetup = function(t, e, i, a, n, o, s, l) {
            this.disableModeSet = o;
            var h = this.game.prodigy.create.element(this, (1280 - 40 * t) / 2, (720 - 40 * e) / 2);
            h.setRenderState(!0), this.game.prodigy.create.panel(h, 0, 0, t, e, i);
            var c, p, u = "banner", d = null, g = 0;
            if (r.Util.isValid(n) && n.length > 0 && (g = 3 * n.length + 6), r.Util.isValid(l) && r.Util.isValid(l.banner) && (u = l.banner.frameName, 
            d = {
                atlasID: l.banner.atlasID
            }, g = l.banner.width), r.Util.isValid(n) && n.length > 0) this.game.prodigy.create.panel(h, 40, 40, g, 2, u, d); else if (r.Util.isValid(s)) {
                var y = this.game.prodigy.create.panel(h, 40, 40, 18, 2, u);
                this.game.prodigy.create.font(y, 200, 15, s, {
                    size: 36,
                    fontID: 9
                });
            }
            var f = {
                x: -40,
                y: -10
            };
            if (r.Util.isValid(l) && r.Util.isValid(l.closeButton) ? (c = l.closeButton.key, 
            p = l.closeButton.frameName, f = l.closeButton.offset) : (c = "atlas-21", 
            p = "close"), this.game.prodigy.create.button(this, h.x + 40 * t + f.x, h.y + f.y, c, p, this.close.bind(this)), 
            this.buttons = [], r.Util.isValid(n) && n.length > 0) {
                var m = {
                    x: 0,
                    y: 0
                }, _ = {
                    x: 0,
                    y: 0
                };
                r.Util.isValid(l) && r.Util.isValid(l.buttons) && (m = l.buttons.offset, 
                _ = l.buttons.iconOffset), r.Util.isValid(a) && (h.add(this.game.prodigy.create.sprite(_.x + 80, -10, "atlas-21", "menu-crest")), 
                this.game.prodigy.create.font(h, _.x + 80, 70, a, {
                    width: 140,
                    align: "center"
                }));
                for (var v = 0; v < n.length; v++) this.buttons.push(this.game.prodigy.create.advButton(this, h.x + m.x + 240 + 120 * v, h.y + 30, n[v], this.setMode.bind(this, v)));
            }
            return h;
        }, e.prototype.init = function(t) {
            t.add(this), this.process();
        }, e.prototype.close = function() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            r.Util.isValid(this.game) && r.Util.isValid(this.game.prodigy) && (r.Util.isValid(this.game.broadcaster) && (this.game.broadcaster.removeAppListener(o.EDebugEvents.AutoClickUI, this, this.game), 
            this.game.broadcaster.removeAppListener(o.EDebugEvents.AutoClickList, this, this.game)), 
            this.game.prodigy.open.setActiveRenderMenu());
            try {
                r.Util.isValid(this.onClose) && this.onClose.apply(this, t);
            } catch (t) {}
            r.Util.isValid(this.game) && this.game.prodigy.open.close(this), this.destroy();
        }, e.prototype.startLoad = function(t, e) {
            this.game.prodigy.load.assets(t, e);
        }, e.prototype.process = function() {
            this.renderTexture.clear(), this.background.visible = !0, this.renderTexture.renderXY(this.background, 0, 0, !0), 
            this.background.visible = !1;
            for (var t = 0; t < this.children.length; t++) if (this.children[t] instanceof s.Element) {
                var e = this.children[t];
                e.tintElement && e.setAllChildren("tint", 10066329), e.renderOnly ? (e.visible = !0, 
                this.renderTexture.renderXY(e, e.x, e.y), e.visible = !1) : e.visible = !0;
            }
        }, e.prototype.hideActiveElements = function() {
            for (var t = 0; t < this.children.length; t++) {
                var e = this.children[t];
                e !== this.background && (e instanceof s.Element && (e.visible = !1));
            }
        }, e;
    }(s.Element);
    e.RenderMenu = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(81), s = i(2), l = i(3), h = i(17), c = i(0), p = i(4), u = i(924), d = i(264), g = i(923), y = i(38), f = i(901), m = i(900), _ = i(896), v = i(15), E = i(895), b = i(65), O = i(885), T = i(884), A = i(883), I = function(t) {
        function e(e, i) {
            void 0 === i && (i = !1);
            var a = t.call(this, e) || this;
            return a.saveEnabled = !1, a.equipment = null, a.tutorial = null, a.appearance = null, 
            a.kennel = null, a.quests = null, a.house = null, a.backpack = null, 
            a.achievements = null, a.state = null, a.isMember = !1, a.mount = null, 
            a.userID = 0, a.curriculumTreeID = null, a.parentEmail = null, a.registerDate = null, 
            a.owners = [], a.classIDs = null, a.playerParents = [], a.playerTeachers = [], 
            a.battleCounter = 0, a.memberStartDate = null, a.memberEndDate = null, 
            a.memberPrompt = !1, a.transformID = null, a.locationSelectionType = "none", 
            a.username = null, a.password = null, a.chatID = null, a.emoteID = null, 
            a.danceID = null, a.grade = null, a.world = null, a.eventSignClicked = 0, 
            a.earlyBirdLastChance = !1, a.spellStreak = 0, a.timer = null, a.parentalLink = !1, 
            a.isOnline = !1, a.isOnline = i, a.init(null), a;
        }
        return n(e, t), e.prototype.createRandom = function() {
            this.equipment.data.hat = p.Items.getRandomItem("hat").ID, this.equipment.data.weapon = p.Items.getRandomItem("weapon").ID, 
            this.equipment.data.outfit = p.Items.getRandomItem("outfit").ID;
        }, e.prototype.canCatch = function(t) {
            return !1;
        }, e.prototype.getID = function() {
            return this.userID;
        }, e.prototype.getUpdatedData = function(t) {
            void 0 === t && (t = !1);
            var e = {};
            return (this.equipment.updated || t) && (e.equipment = this.equipment.getDataAndClear(), 
            c.Util.deleteFieldsWithNullsOrEmptyStrings(e.equipment, !0)), (this.tutorial.updated || t) && (e.tutorial = this.tutorial.getDataAndClear(), 
            c.Util.deleteFieldsWithNullsOrEmptyStrings(e.tutorial, !0)), (this.appearance.updated || t) && (e.appearance = this.appearance.getDataAndClear(), 
            c.Util.deleteFieldsWithNullsOrEmptyStrings(e.appearance, !0)), (this.kennel.updated || t) && (e.pets = this.kennel.getDataAndClear(), 
            c.Util.deleteFieldsWithNullsOrEmptyStrings(e.pets, !0)), (this.quests.updated || t) && (e.quests = this.quests.getDataAndClear(), 
            c.Util.deleteFieldsWithNullsOrEmptyStrings(e.quests, !0)), (this.house.updated || t) && (e.house = this.house.getDataAndClear(), 
            c.Util.deleteFieldsWithNullsOrEmptyStrings(e.house, !0)), (this.updated || t) && (e.data = this.getDataAndClear(), 
            c.Util.deleteFieldsWithNullsOrEmptyStrings(e.data, !0)), (this.backpack.updated || t) && (e.inventory = this.backpack.getDataAndClear(), 
            c.Util.deleteFieldsWithNullsOrEmptyStrings(e.inventory, !0)), (this.state.updated || t) && (e.state = this.state.getDataAndClear(), 
            c.Util.deleteFieldsWithNullsOrEmptyStrings(e.state, !0)), (this.achievements.updated || t) && (e.achievements = this.achievements.getDataAndClear(), 
            c.Util.deleteFieldsWithNullsOrEmptyStrings(e.achievements, !0)), e;
        }, e.prototype.init = function(t) {
            if (this.backpack = new g.Backpack(), this.equipment = new f.Equipment(this.game), 
            this.isOnline ? this.appearance = this.game.prodigy.gameContainer.resolve(b.OnlinePlayerAppearance) : this.appearance = new d.Appearance(), 
            this.achievements = new u.Achievements(), this.kennel = new _.Kennel(this), 
            this.quests = new O.Quests(), this.state = new T.State(), this.house = new m.House(), 
            this.tutorial = new A.Tutorial(), this.mount = new E.MountEntity(), 
            !c.Util.isValid(t)) return this.house.setItems(this.house.data), !1;
            if (c.Util.isValid(t.userID) ? this.userID = t.userID : c.Util.isValid(t.id) && (this.userID = parseInt(t.id)), 
            c.Util.isValid(t.curriculumTreeID) && (this.curriculumTreeID = t.curriculumTreeID), 
            c.Util.isValid(t.data) && (this.data = c.Util.getObject(t.data)), c.Util.isValid(t.pets) && this.kennel.setPets(c.Util.getObject(t.pets)), 
            c.Util.isValid(t.tutorial) && this.tutorial.setData(c.Util.getObject(t.tutorial)), 
            c.Util.isValid(t.state) && this.state.setData(c.Util.getObject(t.state)), 
            this.house.setItems(c.Util.isValid(t.house) ? c.Util.getObject(t.house) : this.house.data), 
            c.Util.isValid(t.inventory) && (this.backpack.setItems(c.Util.getObject(t.inventory)), 
            this.backpack.consumeLegacyBounties()), c.Util.isValid(t.equipment) && this.equipment.setEquipment(c.Util.getObject(t.equipment)), 
            c.Util.isValid(t.quests) && this.quests.setQuests(c.Util.getObject(t.quests)), 
            c.Util.isValid(t.appearance) && this.appearance.setAppearance(c.Util.getObject(t.appearance)), 
            c.Util.isValid(t.achievements) && this.achievements.init(c.Util.getObject(t.achievements)), 
            c.Util.isValid(t.isMember) && this.setMembership(t), c.Util.isValid(t.mount) && this.mount.setMountData(c.Util.getObject(t.mount)), 
            this.parentEmail = c.Util.isValid(t.parentEmail) ? t.parentEmail : "", 
            this.registerDate = c.Util.isValid(t.registerDate) ? new Date(t.registerDate) : null, 
            c.Util.isValid(this.getPlayerData().dailyLoginBonus) && (this.getPlayerData().dailyLoginBonus.session++, 
            this.updated = !0), c.Util.isValid(t.classIDs)) {
                this.owners = t.classIDs, this.classIDs = [];
                for (var e = 0; e < t.classIDs.length; e++) this.classIDs.push(t.classIDs[e].id);
            }
            if (this.playerParents = [], this.playerTeachers = [], c.Util.isValid(t.ownerIDs)) for (e = 0; e < t.ownerIDs.length; e++) {
                var i = t.ownerIDs[e];
                "parent" === i.type ? this.playerParents.push(i) : "teacher" === i.type && this.playerTeachers.push(i);
            }
            return this.isOnline && this.checkVersion(), !0;
        }, e.prototype.getLatestClassIDLegacy = function() {
            return c.Util.isValid(this.classIDs) && this.classIDs.length > 0 ? this.classIDs[this.classIDs.length - 1] : 0;
        }, e.prototype.getRegisterDate = function() {
            return c.Util.isValid(this.registerDate) && "string" == typeof this.registerDate && (this.registerDate = c.Util.isValid(this.registerDate) ? new Date(this.registerDate) : null), 
            this.registerDate;
        }, e.prototype.setParentEmail = function(t) {
            this.parentEmail = t, this.battleCounter = 0, this.updated = !0;
        }, e.prototype.setSurvey = function(t) {
            this.getPlayerData().survey = t, this.updated = !0;
        }, e.prototype.hasMembership = function() {
            return this.isMember;
        }, e.prototype.hasValidatedParentEmail = function() {
            return c.Util.isValid(this.playerParents) && this.playerParents.length > 0;
        }, e.prototype.getSpellStreak = function() {
            return this.spellStreak;
        }, e.prototype.getSurvey = function() {
            return c.Util.isValid(this.getPlayerData().survey) ? this.getPlayerData().survey : 0;
        }, e.prototype.getBountyScore = function() {
            return c.Util.isValid(this.getPlayerData().bountyScore) ? this.getPlayerData().bountyScore : 0;
        }, e.prototype.addBountyScore = function(t) {
            this.getPlayerData().bountyScore = this.getBountyScore() + t, this.updated = !0;
        }, e.prototype.fx = function(t, e) {
            void 0 === e && (e = !1), this[t] = !e || {
                action: "emit",
                data: {
                    userID: this.userID,
                    type: t
                }
            };
        }, e.prototype.heal = function() {
            this.changeCurrentHearts(s.GameConstants.MAX_SAFE_INTEGER);
            for (var t = this.kennel.getPets(), e = 0; e < t.length; e++) delete t[e].hp;
            this.kennel.updated = !0;
        }, e.prototype.castSpell = function(t) {
            c.Util.isValid(this.spellStreak) || (this.spellStreak = 0), t ? (this.achievements.increment("qC", 1), 
            this.spellStreak++) : this.spellStreak = 0;
        }, e.prototype.addSpell = function(t) {
            var e = this.data;
            c.Util.isValid(e.spells) || (e.spells = []), c.Util.inArray(e.spells, t) || (e.spells.push(t), 
            c.Util.isValid(e.spellbook) && !c.Util.inArray(e.spellbook, t) && e.spellbook.length < 6 && e.spellbook.push(t)), 
            this.updated = !0;
        }, e.prototype.setMembership = function(t) {
            c.Util.isValid(t) ? (this.isMember = 1 === t.isMember, c.Util.isValid(t.memberStartDate) ? this.memberStartDate = t.memberStartDate : this.memberStartDate = new Date().toISOString(), 
            c.Util.isValid(t.memberEndDate) ? this.memberEndDate = t.memberEndDate : this.memberEndDate = null) : (this.isMember = !0, 
            this.memberStartDate = new Date().toISOString(), this.memberEndDate = null), 
            this.memberPrompt = !1, this.updated = !0, this.isMember && (c.Util.isValid(this.getPlayerData().nm) ? this.getPlayerData().nm = 2 : (c.Util.isValid(this.getPlayerData().startDate) && this.getPlayerData().startDate < new Date().getTime() && (this.getPlayerData().daysToConvert = (new Date().getTime() - this.getPlayerData().startDate) / 864e5), 
            this.getPlayerData().nm = 1, this.updated = !0), this.backpack.unlockAllItems());
        }, e.prototype.getArenaPoints = function() {
            var t = this.game.prodigy.pvpNetworkHandler;
            return c.Util.isValid(t.userRank) && c.Util.isValid(t.userRank.points) ? t.userRank.points : 0;
        }, e.prototype.healTeam = function(t) {
            this.changeCurrentHearts(t);
            for (var e = this.kennel.getPets(), i = 0; i < e.length; i++) {
                var a = new v.Monster(this.game, e[i]);
                c.Util.isValid(e[i].hp) && (e[i].hp + t > a.getMaxHearts() ? delete e[i].hp : e[i].hp = e[i].hp + t);
            }
            this.kennel.updated = !0;
        }, e.prototype.healTeamMember = function(t, e, i) {
            void 0 === i && (i = null);
            for (var a = this.kennel.getPets(), n = 0; n < a.length; n++) if (a[n].ID === e) {
                var o = new v.Monster(this.game, a[n]);
                c.Util.isValid(a[n].hp) && (a[n].hp + t > o.getMaxHearts() ? a[n].hp = o.getMaxHearts() : a[n].hp = a[n].hp + t);
                break;
            }
            this.kennel.updated = !0, c.Util.isValid(i) && i();
        }, e.prototype.setZone = function(t) {
            c.Util.isValid(t) && t.indexOf("scene") > -1 || (this.getPlayerData().zone = t, 
            this.updated = !0);
        }, e.prototype.transform = function(t, e) {
            void 0 === t && (t = null), void 0 === e && (e = 0), this.transformID = t, 
            c.Util.isValid(this.timer) && window.clearInterval(this.timer), this.timer = setInterval(this.transform.bind(this), e);
        }, e.prototype.transformPlayer = function(t, e, i) {
            void 0 === i && (i = 0), this.getPlayerData().playerTransformation = {
                transformType: t,
                transformID: e,
                maxTime: i,
                timeRemaining: i
            }, this.updated = !0;
        }, e.prototype.isPlayerTransformed = function() {
            return !(!c.Util.isValid(this.getPlayerData().playerTransformation) || -1 === this.getPlayerData().playerTransformation.transformType || this.getPlayerData().playerTransformation.timeRemaining <= 0);
        }, e.prototype.getAttacks = function(t) {
            return void 0 === t && (t = null), c.Util.isValid(this.getPlayerData().spellbook) ? this.getPlayerData().spellbook.length < 6 && (this.getPlayerData().spellbook = this.getAllAttacks().splice(0, 6)) : this.getPlayerData().spellbook = this.getAllAttacks().splice(0, 6), 
            c.Util.isValid(t) ? y.Creature.getAttacksOfType(this.getPlayerData().spellbook, t) : this.getPlayerData().spellbook;
        }, e.prototype.getAllAttacks = function() {
            var t = y.Creature.getAttacksFromCurve(e.LEVEL_CURVE, 1, this.getLevel());
            if (c.Util.isValid(this.getPlayerData().spells)) for (var i = 0; i < this.getPlayerData().spells.length; i++) c.Util.inArray(t, this.getPlayerData().spells[i]) || t.push(this.getPlayerData().spells[i]);
            return t;
        }, e.prototype.getNumAttacks = function() {
            return this.getAllAttacks().length;
        }, e.prototype.getName = function() {
            return this.appearance.getName();
        }, e.prototype.getSourceName = function() {
            return this.appearance.getFirstName();
        }, e.prototype.getMaxHearts = function(t) {
            void 0 === t && (t = null);
            var e = Math.min(Math.floor(this.getBaseMaxHearts(t) + this.getHeartBonus()), y.Creature.MAX_HEARTS);
            return Math.round(e * this.modifiers.maxHearts);
        }, e.prototype.getBaseMaxHearts = function(e) {
            return t.prototype.getMaxHearts.call(this, e) + 200;
        }, e.prototype.getHeartBonus = function() {
            return this.equipment.getHeartBonuses();
        }, e.prototype.getDamageBonus = function() {
            return this.equipment.getDamageBonuses();
        }, e.prototype.getGold = function(t) {
            return void 0 === t && (t = !1), o(this.getPlayerData(), "gold", 0);
        }, e.prototype.changeGold = function(t, e) {
            void 0 === e && (e = null), c.Util.isValid(e) && this.game.prodigy.network.sendItemChangeEvent(e, {
                type: "gold",
                ID: -1,
                N: t
            }), t > 0 ? this.achievements.increment("gE", t) : t < 0 && this.achievements.increment("gS", Math.min(Math.max(this.getPlayerData().gold, 0), Math.abs(t))), 
            this.getPlayerData().gold = this.getGold() + t, this.getPlayerData().gold < 0 && delete this.getPlayerData().gold, 
            this.getPlayerData().gold > s.GameConstants.MAX_SAFE_INTEGER && (this.getPlayerData().gold = 1e9), 
            this.updated = !0;
        }, e.prototype.equip = function(t, e) {
            return this.game.broadcaster.broadcast(l.EPlayerContainerEvents.PlayerEquipmentEquip, this.game, [ e, t ]), 
            this.equipment.equip(t, e);
        }, e.prototype.unEquip = function(t) {
            return this.game.broadcaster.broadcast(l.EPlayerContainerEvents.PlayerEquipmentUnequip, this.game, [ t ]), 
            this.equipment.unEquip(t);
        }, e.prototype.setDefault = function(t) {
            "male" === t ? (this.appearance.setHair(19, Math.floor(5 * Math.random() + 1)), 
            this.appearance.setFace(4)) : (this.appearance.setHair(5, Math.floor(5 * Math.random() + 1)), 
            this.appearance.setFace(12)), this.appearance.setGender(t), this.appearance.setEyeColor(Math.floor(5 * Math.random() + 1)), 
            this.appearance.setSkinColor(Math.floor(5 * Math.random() + 1)), this.equipment.unEquip("hat");
        }, e.prototype.getLevelingCurve = function(t) {
            void 0 === t && (t = null);
            for (var i = [], a = 0; a < e.LEVEL_CURVE.length; a++) {
                var n = e.LEVEL_CURVE[a];
                n.lvl === t && i.push(n);
            }
            return i;
        }, e.prototype.setDailyDate = function(t) {
            var e = new Date();
            this.getPlayerData()[t].date = {
                d: e.getUTCDate(),
                m: e.getUTCMonth(),
                y: e.getUTCFullYear()
            }, this.updated = !0;
        }, e.prototype.canDoDaily = function(t, e) {
            var i = this.getPlayerData()[t], a = c.Util.isValid(i) ? i.date : null;
            return c.Util.isValid(i) ? c.Util.isValid(a) && c.Util.isDateToday(new Date(a.y, a.m, a.d)) || this.resetDaily(t, e) : (this.getPlayerData()[t] = {}, 
            this.resetDaily(t, e)), 0 === this.getPlayerData()[t].isComplete;
        }, e.prototype.completeDaily = function(t, e) {
            this.getPlayerData()[t].isComplete = e, this.updated = !0;
        }, e.prototype.setSpinDate = function(t) {
            this.getPlayerData()["spinDate" + t] = c.Util.getDateTime(), this.updated = !0;
        }, e.prototype.spinWheel = function(t) {
            this.getPlayerData()["numSpins" + t]++, this.updated = !0;
        }, e.prototype.canSpin = function(t) {
            return c.Util.isValid(this.getPlayerData()["numSpins" + t]) ? this.getPlayerData()["spinDate" + t] !== c.Util.getDateTime() ? (this.setSpinDate(t), 
            this.getPlayerData()["numSpins" + t] = 0, !0) : 0 === this.getPlayerData()["numSpins" + t] || 1 === this.getPlayerData()["numSpins" + t] && this.hasMembership() || s.GameConstants.get("GameConstants.Debug.UNLIMITED_WHEEL_SPINS") : (this.setSpinDate(t), 
            this.getPlayerData()["numSpins" + t] = 0, !0);
        }, e.prototype.setColiseum = function(t) {
            this.getPlayerData().arena = t;
        }, e.prototype.getColiseum = function() {
            return c.Util.isValid(this.getPlayerData().arena) ? this.getPlayerData().arena : 0;
        }, e.prototype.getTeamScore = function() {
            return this.kennel.getTeamScore();
        }, e.prototype.getWins = function() {
            return c.Util.isValid(this.getPlayerData().win) ? this.getPlayerData().win : 0;
        }, e.prototype.getLosses = function() {
            return c.Util.isValid(this.getPlayerData().loss) ? this.getPlayerData().loss : 0;
        }, e.prototype.addWin = function() {
            this.getPlayerData().win = this.getWins() + 1, this.updated = !0;
        }, e.prototype.addLoss = function() {
            this.getPlayerData().loss = this.getLosses() + 1, this.updated = !0;
        }, e.prototype.processDeserter = function() {
            return !!c.Util.isValid(this.getPlayerData().deserter) && (delete this.getPlayerData().deserter, 
            this.updated = !0, !0);
        }, e.prototype.getTowerProgress = function() {
            return o(this.getPlayerData(), "tower", 0);
        }, e.prototype.completeTower = function(t) {
            t > this.getTowerProgress() && (this.getPlayerData().tower = t, this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "dark_tower",
                name: t
            })), this.updated = !0;
        }, e.prototype.isBlockedByDarkTowerMemberGate = function() {
            var t = this.getTowerProgress();
            return !this.hasMembership() && t < 100 && t >= s.GameConstants.get("GameConstants.Tower.MAX_FREE_MEMBER_FLOOR");
        }, e.prototype.swapSpells = function(t, e) {
            if (c.Util.isValid(t) && c.Util.isValid(e)) {
                c.Util.isValid(this.getPlayerData().spellbook) || (this.getPlayerData().spellbook = this.getAllAttacks().slice(0, 6));
                for (var i = 0; i < this.getPlayerData().spellbook.length; i++) this.getPlayerData().spellbook[i] !== t ? this.getPlayerData().spellbook[i] === e && (this.getPlayerData().spellbook[i] = t) : this.getPlayerData().spellbook[i] = e;
                this.updated = !0;
            }
        }, e.prototype.hasCompletedTutorial = function() {
            var t = o(this.game.prodigy.world.zones, "house", null);
            return c.Util.isValid(t) && o(t.getQuestState(), "ID", 0) > 1;
        }, e.prototype.setAllowsHouseVisitors = function(t) {
            this.getPlayerData().allowsHouseVisitors = t, this.updated = !0;
        }, e.prototype.getAllowsHouseVisitors = function() {
            return !!c.Util.isValid(this.getPlayerData().allowsHouseVisitors) && this.getPlayerData().allowsHouseVisitors;
        }, e.prototype.setBGMVolume = function(t) {
            this.getSettings().bgmVolume = t, this.updated = !0;
        }, e.prototype.setSFXVolume = function(t) {
            this.getSettings().sfxVolume = t, this.updated = !0;
        }, e.prototype.setVoiceVolume = function(t) {
            this.getSettings().voiceVolume = t, this.updated = !0;
        }, e.prototype.getSettings = function() {
            return c.Util.isValid(this.getPlayerData().settings) || (this.getPlayerData().settings = {
                bgmVolume: s.GameConstants.get("GameConstants.Audio.DEFAULT_MUSIC_VOLUME"),
                sfxVolume: s.GameConstants.get("GameConstants.Audio.DEFAULT_SOUND_VOLUME"),
                voiceVolume: s.GameConstants.get("GameConstants.Audio.DEFAULT_VOICE_VOLUME")
            }, this.updated = !0), this.getPlayerData().settings;
        }, e.prototype.rewardMembershipPrizes = function(t) {
            var e = this;
            return !(!this.game.prodigy.player.isMember || 0 !== this.game.prodigy.player.backpack.hasItem("mount", 1)) && (this.game.prodigy.open.membershipInfo(function() {
                e.game.prodigy.network.sendEvent("new-member", {
                    startDate: o(e.game.prodigy.player.data, "startDate", -1),
                    daysToConvert: o(e.game.prodigy.player.data, "daysToConvert", -1)
                }), e.game.prodigy.open.gotItem([ {
                    type: "mount",
                    ID: 1
                } ], t);
            }, null, null, !0), !0);
        }, e.prototype.onTutorialComplete = function() {
            this.game.prodigy.pvpNetworkHandler.initUserLeaderboard(), this.game.prodigy.open.map(!0, [ "WORLD_DYNO_DIG_OASIS", "WORLD_EPICS_SUBSPACE", "WORLD_DARK_TOWER", "WORLD_LAMPLIGHT_TOWN", "WORLD_THE_ACADEMY", "WORLD_LOST_ISLAND", "WORLD_YOUR_HOUSE", "DISABLE_TITAN" ]);
        }, e.prototype.isItemOwned = function(t) {
            var e = this.backpack.hasItem(t.type, t.ID) > 0;
            if ("dorm" === t.type) e = this.house.getOwned(t.ID) >= 9; else if ("dormbg" === t.type) {
                var i = p.Items.getItem("dormbg", t.ID).data;
                e = c.Util.isValid(i) && i.tag === this.house.getCurrentHouseTag();
            } else "pet" === t.type ? e = this.kennel.hasPet(t.ID) : "item" === t.type ? e = this.backpack.hasItem(t.type, t.ID) >= 99 : "gender" === t.type ? e = ("male" === this.appearance.getGender() ? 1 : 2) === t.ID : "hair" === t.type ? e = this.appearance.getHair().style === t.ID : "eyeColor" === t.type ? e = this.appearance.getEyeColor() === t.ID : "skinColor" === t.type ? e = this.appearance.getSkinColor() === t.ID : "hairColor" === t.type ? e = this.appearance.getHair().color === t.ID : "face" === t.type && (e = this.appearance.getFace() === t.ID);
            return e;
        }, e.prototype.anyPetsAboveLevel = function(t) {
            for (var e = this.kennel.getPets(), i = 0; i < e.length; i++) if (e[i].level > t) return !0;
            return !1;
        }, e.prototype.getDrops = function() {
            var t = [ {
                type: "gold",
                N: 100
            } ];
            return t = t.concat(p.Items.getItemDrops());
        }, e.prototype.checkVersion = function() {
            var t = c.Util.isValid(this.getPlayerData().versionID) ? this.getPlayerData().versionID : 0;
            if (t < 1 && (c.Util.isValid(this.state.data.zone) && c.Util.isValid(this.state.data.zone.lamplight) && delete this.state.data.zone.lamplight, 
            c.Util.isValid(this.state.data.zone) && c.Util.isValid(this.state.data.zone.house) && delete this.state.data.zone.house, 
            this.state.updated = !0), t < 2 && this.kennel.hasPet(125) && this.backpack.add("follow", 125), 
            t < 3) {
                var e = this.state.get("zone-forest-quest-ID");
                c.Util.isValid(e) && e >= 12 && this.state.set("zone-forest-quest", {
                    ID: 13
                }), e = this.state.get("zone-shiverchill-quest-ID"), c.Util.isValid(e) && e >= 15 && this.state.set("zone-shiverchill-quest", {
                    ID: 16
                }), e = this.state.get("zone-skywatch-quest-ID"), c.Util.isValid(e) && e >= 13 && this.state.set("zone-skywatch-quest", {
                    ID: 14
                }), e = this.state.get("zone-bonfire_spire-quest-ID"), c.Util.isValid(e) && e >= 14 && this.state.set("zone-bonfire_spire-quest", {
                    ID: 15
                });
            }
            if (t < 4) {
                c.Util.isValid(this.getPlayerData().stars) || (this.getPlayerData().stars = 0), 
                this.getPlayerData().stars = 10 * this.getPlayerData().stars, this.changeCurrentHearts(s.GameConstants.MAX_SAFE_INTEGER);
                for (var i = this.kennel.getPets(), a = 0; a < i.length; a++) i[a].hp = s.GameConstants.MAX_SAFE_INTEGER, 
                c.Util.isValid(i[a].stars) || (i[a].stars = 0), c.Util.isValid(i[a].level) || (i[a].level = 1), 
                0 === i[a].stars ? i[a].stars = y.Creature.starsToLevel(i[a].level - 1) : i[a].stars = 10 * i[a].stars;
            }
            if (t < 6 && (this.backpack.hasItem("weapon", 1e3) > 0 && this.backpack.consume("weapon", 1e3, 1), 
            1e3 === this.equipment.getEquipment("weapon") && this.equipment.unEquip("weapon")), 
            t < 9) {
                var n = this.backpack.hasItem("weapon", 1e3);
                n > 0 && this.backpack.consume("weapon", 1e3, n), 1e3 === this.equipment.getEquipment("weapon") && this.equipment.unEquip("weapon"), 
                (n = this.backpack.hasItem("weapon", 96)) > 0 && this.backpack.consume("weapon", 96, n), 
                96 === this.equipment.getEquipment("weapon") && this.equipment.unEquip("weapon");
            }
            if (t < 10 || t < 14) {
                var l = c.Util.isValid(Number.MAX_SAFE_INTEGER) ? Number.MAX_SAFE_INTEGER : 9007199254740991;
                if (c.Util.isValid(this.getPlayerData().playerTransformation) && (c.Util.isValid(this.getPlayerData().playerTransformation.maxTime) && this.getPlayerData().playerTransformation.maxTime === l || c.Util.isValid(this.getPlayerData().playerTransformation.timeRemaining) && this.getPlayerData().playerTransformation.timeRemaining === l)) {
                    var u = this.getMaxTimeForCurrentMorphMarbleEffect();
                    this.getPlayerData().playerTransformation.maxTime = u, this.getPlayerData().playerTransformation.timeRemaining = u;
                }
            }
            if (t < 11 && c.Util.isValid(this.getPlayerData().playerTransformation) && c.Util.isValid(this.getPlayerData().playerTransformation.transformID) && this.getPlayerData().playerTransformation.transformID > -1 && !c.Util.isValid(this.getPlayerData().playerTransformation.timeRemaining)) {
                u = this.getMaxTimeForCurrentMorphMarbleEffect();
                this.getPlayerData().playerTransformation.maxTime = u, this.getPlayerData().playerTransformation.timeRemaining = u;
            }
            if (t < 12) {
                var d = this.game.prodigy.world.getZone("house");
                d.getState("hasClickedPlayerCardVisit") && this.game.prodigy.breadcrumbManager.completeBreadcrumb(h.Breadcrumbs.FEATURE_HOUSE_VISITING, h.Breadcrumbs.BREADCRUMB_CLICKED_CARD_VISIT_BUTTON), 
                d.getState("hasClickedWorldMap") && this.game.prodigy.breadcrumbManager.completeBreadcrumb(h.Breadcrumbs.FEATURE_HOUSE_VISITING, h.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON), 
                d.getState("hasClickedLockButton") && this.game.prodigy.breadcrumbManager.completeBreadcrumb(h.Breadcrumbs.FEATURE_HOUSE_VISITING, h.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON);
                var g = d.getState("houseMovingBreadcrumbs");
                c.Util.isValid(g) && (g >= 0 && this.game.prodigy.breadcrumbManager.completeBreadcrumb(h.Breadcrumbs.FEATURE_HOUSE_MOVING, h.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON), 
                g >= 1 && this.game.prodigy.breadcrumbManager.completeBreadcrumb(h.Breadcrumbs.FEATURE_HOUSE_MOVING, h.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE), 
                g >= 2 && this.game.prodigy.breadcrumbManager.completeBreadcrumb(h.Breadcrumbs.FEATURE_HOUSE_MOVING, h.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_MOVE_BUTTON)), 
                c.Util.safeDeleteObjectProperty(this.getPlayerData(), "arenaRank"), 
                c.Util.safeDeleteObjectProperty(this.getPlayerData(), "arenaScore"), 
                c.Util.isValid(this.achievements) && delete this.achievements.data.progress[13];
            }
            if (t < 13 && c.Util.safeDeleteObjectProperty(this.getPlayerData(), "reward"), 
            t < 15 && c.Util.isValid(this.kennel.data)) {
                var f, m = [], _ = function(t) {
                    var e = v.kennel.data[t];
                    if (!c.Util.isValid(e.ID) && c.Util.isValid(e.name)) {
                        var i = 0, a = p.Items.data.pet.find(function(t) {
                            return e.name === t.data.name;
                        });
                        if (null !== a && (i = a.ID), i > 0) {
                            for (var n = !0, o = 0; o < m.length; o++) if (i === m[o]) {
                                v.kennel.data.splice(t, 1), t--, n = !1;
                                break;
                            }
                            n && (m.push(i), v.kennel.data[t] = {
                                ID: i,
                                stars: 0,
                                level: 1
                            }), v.kennel.updated = !0;
                        }
                    }
                    f = t;
                }, v = this;
                for (a = 0; a < this.kennel.data.length; a++) _(a), a = f;
            }
            if (t < 16 && (delete this.state.data.useOldTutorialPath, !this.hasCompletedTutorial())) {
                delete this.getPlayerData().zone, delete this.state.data.zone.house, 
                delete this.state.data.zone.lamplight;
                var E = [ 1, 4, 7, 10 ];
                this.kennel.data = this.kennel.data.filter(function(t) {
                    return !r(E, t.ID);
                });
            }
            if (t < 17 && this.game.prodigy.world.getZone("lamplight").isOnSequence(1, 3) && (this.getPlayerData().zone = "lamplight-B0"), 
            t < 18 && (delete this.getPlayerData().spinDate, delete this.getPlayerData().numSpins), 
            t < 19 && this.hasCompletedTutorial() && (null !== this.appearance.data.name && "object" == typeof this.appearance.data.name || (this.appearance.data.name = {}), 
            null === o(this.appearance.data, "name.first", null) && (this.appearance.data.name.first = b.OnlinePlayerAppearance.getRandomFirstName(this.appearance.data.gender)), 
            null !== o(this.appearance.data, "name.middle", null) && null !== o(this.appearance.data, "name.last", null) || (this.appearance.data.name.middle = b.OnlinePlayerAppearance.getRandomMiddleName(), 
            this.appearance.data.name.last = b.OnlinePlayerAppearance.getRandomLastName(), 
            this.appearance.updated = !0)), t < 20) {
                var O = this.state.get("zone-lamplight");
                o(this.data, "isNewTutorial", !1) && (O = this.state.get("zone-house")), 
                o(O, "quest.ID", 0) >= 2 && c.Util.isValid(this.backpack) && this.backpack.hasItem("key", 13) > 0 || (this.state.data.tutorial = {}, 
                this.state.data.zone = {}, this.state.data.world = {}, this.state.data.breadcrumbs = {}, 
                this.state.updated = !0, this.backpack.data.key = [], this.backpack.updated = !0), 
                delete this.data.isNewTutorial;
            }
            if (45690944 === this.userID) {
                c.Util.log("SessionCam Activated! SessionCam Client Integration v6.0", c.Util.INFO);
                var T = document.createElement("SCRIPT");
                T.type = "text/javascript", T.src = "//d2oh4tlt9mrke9.cloudfront.net/Record/js/sessioncam.recorder.js", 
                document.getElementsByTagName("head")[0].appendChild(T);
            }
            t < 20 && (this.getPlayerData().versionID = 20, this.updated = !0);
        }, e.prototype.getMaxTimeForCurrentMorphMarbleEffect = function() {
            if (c.Util.isValid(this.getPlayerData().playerTransformation.transformType) && c.Util.isValid(this.getPlayerData().playerTransformation.transformID) && this.getPlayerData().playerTransformation.transformID > -1) for (var t = 117; t <= 122; t++) {
                var e = p.Items.getItem("item", t).data;
                if (c.Util.isValid(e.effect) && c.Util.isValid(e.effect.transform) && e.effect.transform === this.getPlayerData().playerTransformation.transformType && c.Util.isValid(e.effect.ID) && e.effect.ID === this.getPlayerData().playerTransformation.transformID) return c.Util.isValid(e.effect.time) ? e.effect.time : 0;
            }
            return 0;
        }, e.prototype.resetDaily = function(t, e) {
            this.setDailyDate(t), this.getPlayerData()[t].isComplete = 0, c.Util.isValid(e) && e();
        }, e.prototype.getPlayerData = function() {
            return this.data;
        }, e.LEVEL_CURVE = [ {
            lvl: 1,
            a: 31
        }, {
            lvl: 5,
            a: 32
        }, {
            lvl: 12,
            a: 33
        }, {
            lvl: 22,
            a: 34
        }, {
            lvl: 38,
            a: 35
        }, {
            lvl: 52,
            a: 36
        } ], e;
    }(y.Creature);
    e.Player = I;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(804), s = i(2), l = i(5), h = i(3), c = i(99), p = i(138), u = i(4), d = i(13), g = i(25), y = i(787), f = i(0), m = i(18), _ = i(786), v = i(785), E = i(784), b = i(22), O = function(t) {
        function e(e, i, a, n, o, r) {
            var s = t.call(this, e, i) || this;
            s.complete = !1, s.captured = null, s.potionIcon = null, s.potencyIcon = null, 
            s.statusEffects = null, s.evolveTextTween = null, s.pairs = null, s.evtProc = !1, 
            s.chatColour = 16758272, s.nameColour = 16777215, s.source = a, s.setScale = f.Util.isValid(n) ? n : 1, 
            s.x = Math.floor(o), s.y = Math.floor(r), s.locomotion = null, s.speed = 10, 
            s.walkSpeed = 1.2, s.sprites = s.game.prodigy.create.element(s, 0, 0), 
            s.indicatorE = s.game.prodigy.create.element(s);
            var l = 0, h = -150, c = "";
            return s.source.npc ? (f.Util.isValid(s.source.nameX) && (l = s.source.nameX), 
            f.Util.isValid(s.source.nameY) && (h = s.source.nameY), f.Util.isValid(s.source.name) && (c = s.source.name)) : f.Util.isValid(s.source.modifiers) && s.source.modifiers.barrier && (s.barrierSprite = s.game.prodigy.create.sprite(60, -160, "atlas-141", "1", new Phaser.Point(.5, .5), s.addBarrierSpritesheet.bind(s, "deflect")), 
            s.barrierSpriteBreak = s.game.prodigy.create.sprite(60, -160, "atlas-142", "1", new Phaser.Point(.5, .5), s.addBarrierSpritesheet.bind(s, "break")), 
            s.barrierSpriteSpark = s.game.prodigy.create.sprite(-325, -115, "atlas-143", "1", new Phaser.Point(.5, .5), s.addBarrierSpritesheet.bind(s, "spark")), 
            s.add(s.barrierSprite), s.add(s.barrierSpriteBreak), s.add(s.barrierSpriteSpark)), 
            s.nameText = s.game.prodigy.create.nameFont(s, l, s.source.npc ? h : 1 === n ? -130 : -230, c), 
            s.nameText.oldY = s.nameText.y, s.fxQueue = 0, s.onDestroy.add(s.stopListeners, s), 
            s.initListeners(), s;
        }
        return n(e, t), e.prototype.showName = function(t, e) {
            var i = "";
            f.Util.isValid(this.source.getName) ? (i = this.source.getName(), f.Util.isValid(i) || (i = "")) : f.Util.isValid(this.source.name) && (i = this.source.name), 
            this.source instanceof d.Player && this.source.hasMembership() && (i = "@ " + i), 
            f.Util.isValid(e) && (i = e), this.nameText.setText(i), this.nameText.updateText(), 
            f.Util.isValid(this.source.nameX) ? this.nameText.x = this.source.nameX : this.nameText.hasOwnProperty("width") ? this.nameText.x = Math.round(-.5 * this.nameText.width) : this.nameText.hasOwnProperty("textWidth") && (this.nameText.x = Math.round(-.5 * this.nameText.textWidth)), 
            f.Util.isValid(this.nameText) && (this.nameText.visible = t);
        }, e.prototype.float = function(t) {
            f.Util.isValid(this.floatTween) ? t || (this.sprites.y = this.sprites.oldY, 
            this.floatTween.stop(), delete this.floatTween) : t && (this.sprites.oldY = this.sprites.y, 
            this.sprites.y = this.sprites.y - 10, this.floatTween = this.game.add.tween(this.sprites).to({
                y: "-20"
            }, 1400, Phaser.Easing.Quadratic.InOut).to({
                y: "20"
            }, 1400, Phaser.Easing.Quadratic.InOut).loop(), this.floatTween.start());
        }, e.prototype.chat = function(t, e, i) {
            f.Util.isValid(this.game) && (f.Util.isValid(this.chatBubble) || (this.chatBubble = new v.ChatBubble(this.game, this, 0, f.Util.isValid(e) ? -e : -100, i)), 
            this.chatBubble.setID(t + 12));
        }, e.prototype.chatText = function(t) {
            var e = this;
            if (f.Util.isValid(this.game)) {
                var i = this.game.prodigy.chat.getPhrase(t);
                f.Util.isValid(i) && (f.Util.isValid(this.timer) && window.clearInterval(this.timer), 
                this.nameText.tint = this.chatColour, this.game.add.tween(this.name).to({
                    y: this.nameText.oldY - 10
                }, 500, Phaser.Easing.Quadratic.Out).to({
                    y: this.nameText.oldY
                }, 500, Phaser.Easing.Quadratic.In).start(), this.nameText.setText('"' + i + '"'), 
                this.nameText.x = Math.round(f.Util.isValid(this.source.nameX) ? this.source.nameX : -.5 * this.nameText.width), 
                this.timer = window.setInterval(function() {
                    e.endChat();
                }, 5e3));
            }
        }, e.prototype.endChat = function() {
            this.nameText.tint = this.nameColour, f.Util.isValid(this.timer) && window.clearInterval(this.timer), 
            this.showName(this.nameText.visible);
        }, e.prototype.hop = function(t, e, i, a) {
            void 0 === t && (t = 100), void 0 === e && (e = null), void 0 === i && (i = 0), 
            void 0 === a && (a = 20);
            var n = this.game.add.tween(this).to({
                y: this.y - a
            }, t, Phaser.Easing.Quadratic.Out).to({
                y: this.y
            }, t, Phaser.Easing.Quadratic.In).start();
            this.game.add.tween(this).to({
                x: this.x + Math.floor(i / 2)
            }, t, Phaser.Easing.Linear.None).to({
                x: this.x + i
            }, t, Phaser.Easing.Linear.None).start(), f.Util.isValid(e) && n.onComplete.addOnce(e);
        }, e.prototype.setPath = function(t, e, i) {
            if (f.Util.isValid(t) && f.Util.isValid(this.game)) {
                this.stopTweens();
                for (var a = f.Util.isValid(i) ? i : this.walkSpeed, n = null, o = null, r = this.x, s = this.y, l = t.length - 1; l >= 0; l--) {
                    var h = t[l];
                    f.Util.isValid(h.x) || (h.x = r), f.Util.isValid(h.y) || (h.y = s);
                    var c = Phaser.Math.distance(h.x, h.y, r, s);
                    if (0 !== c) {
                        f.Util.isValid(n) || (n = this.game.add.tween(this), o = this.game.add.tween(this.sprites.scale));
                        var p = Math.abs(this.sprites.scale.x);
                        n.to({
                            x: h.x,
                            y: h.y
                        }, 6 * c / a, Phaser.Easing.Linear.None), o.to({
                            x: h.x > r ? p : -p
                        }, 1, Phaser.Easing.Linear.None), o.to({}, 6 * c / a - 100, Phaser.Easing.Linear.None), 
                        r = h.x, s = h.y;
                    }
                }
                f.Util.isValid(n) ? (n.onComplete.addOnce(this.stand, this), f.Util.isValid(e) && n.onComplete.addOnce(e), 
                this.walk(), f.Util.isValid(n) && n.start(), f.Util.isValid(o) && o.start()) : (f.Util.isValid(e) && e(), 
                this.stand());
            }
        }, e.prototype.setValidPath = function(t, e, i, a) {
            var n = this;
            f.Util.isValid(a) ? t.findPath(this.x, this.y, e, i, function(t) {
                n.setPath(t, a);
            }) : t.findPath(this.x, this.y, e, i, this.setPath.bind(this));
        }, e.prototype.walk = function() {
            this.sprites.callAll("play", null, "walk", this.speed), this.mode = 0;
        }, e.prototype.flip = function() {
            this.sprites.scale.x = -1 * this.sprites.scale.x;
        }, e.prototype.faceToward = function(t) {
            this.x > t ? this.sprites.scale.x = -1 * this.setScale : this.sprites.scale.x = this.setScale;
        }, e.prototype.stand = function() {
            this.sprites.callAll("play", null, "stand", this.speed), this.x = Math.round(this.x), 
            this.y = Math.round(this.y), this.mode = 1;
        }, e.prototype.stopTweens = function() {
            f.Util.isValid(this.game) && (this.game.tweens.removeFrom(this, !1), 
            this.game.tweens.removeFrom(this.sprites));
        }, e.prototype.startLoad = function() {
            this.outOfDate = !1;
        }, e.prototype.initListeners = function() {
            this.game.broadcaster.addAppListener(h.ECreatureEvents.LevelUp, this.onCreatureLevelUp.bind(this), this, this.source), 
            this.game.broadcaster.addAppListener(h.ECreatureEvents.StarsAdded, this.onStarsAdded.bind(this), this, this.source), 
            this.game.broadcaster.addAppListener(h.EFlyingStarsEvents.Done, this.onFxAnimationDone.bind(this), this, this.game), 
            this.game.broadcaster.addAppListener(h.EBattleEvents.PopupClosed, this.processLevelEvent.bind(this), this, this);
        }, e.prototype.stopListeners = function() {
            this.game.broadcaster.removeAppListener(h.ECreatureEvents.LevelUp, this, this.source), 
            this.game.broadcaster.removeAppListener(h.ECreatureEvents.StarsAdded, this, this.source), 
            this.game.broadcaster.removeAppListener(h.EFlyingStarsEvents.Done, this, this.game), 
            this.game.broadcaster.removeAppListener(h.EBattleEvents.PopupClosed, this, this);
        }, e.prototype.enableLocomotion = function(t, e) {
            f.Util.isValid(this.locomotion) || (this.locomotion = new r.PlayerLocomotion(this.game), 
            this.locomotion.setup(t, e, this.source === this.game.prodigy.player));
        }, e.prototype.setNewTarget = function(t, e) {
            f.Util.isValid(this.locomotion) && this.locomotion.setNewTarget(t, e);
        }, e.prototype.reload = function(t) {
            this.outOfDate = !0, this.loadedCallback = t;
        }, e.prototype.update = function() {
            var e;
            (t.prototype.update.call(this), !this.loading && this.outOfDate && this.startLoad(), 
            f.Util.isValid(this.source.emoteID) && (this.emote(this.source.emoteID), 
            this.source.emoteID = null), f.Util.isValid(this.source.chatID) && (this.chatText(this.source.chatID), 
            this.source.chatID = null), f.Util.isValid(this.source.danceID) && (this.dance(this.source.danceID, this.game.prodigy.player.appearance.getGender()), 
            this.source.danceID = null), f.Util.isValid(this.source.chatID) && (this.chatText(this.source.chatID), 
            this.source.chatID = null), this.source.firework) && ("object" == typeof this.source.firework && this.game.prodigy.network.emitMessage(this.source.firework), 
            (e = this.game.prodigy.event.create()).firework(this.x + 20, this.y - 200), 
            e.start(), delete this.source.firework);
            this.source.confetti && ("object" == typeof this.source.confetti && this.game.prodigy.network.emitMessage(this.source.confetti), 
            (e = this.game.prodigy.event.create()).confetti(this.x + 20, this.y - 200), 
            e.start(), delete this.source.confetti);
            this.source.goldwork && ("object" == typeof this.source.goldwork && this.game.prodigy.network.emitMessage(this.source.goldwork), 
            (e = this.game.prodigy.event.create()).goldwork(this.x + 20, this.y - 200), 
            e.start(), delete this.source.goldwork);
        }, e.prototype.emote = function(t, e, i) {
            void 0 === e && (e = 100), void 0 === i && (i = !1);
            var a = u.Items.getItem("emote", t);
            if (f.Util.isValid(this.chatBubble) && this.chatBubble.destroy(), f.Util.isValid(this.game) && f.Util.isValid(a)) if (a.data.isAnimated) {
                if (f.Util.isValid(this.animatedEmote) && f.Util.isValid(this.animatedEmote.emoteAnimation) && this.animatedEmote.emoteAnimation.isPlaying) return this.animatedEmote.emoteAnimation.stop(!0, !0), 
                void this.animatedEmote.setEmoteData(a);
                this.animatedEmote = new _.AnimatedEmote(this.game, this, a);
            } else f.Util.isValid(this.animatedEmote) && this.animatedEmote.emoteAnimation.isPlaying && this.animatedEmote.emoteAnimation.stop(!0, !0), 
            this.chatBubble = new v.ChatBubble(this.game, this, 0, -e, i), this.chatBubble.setID(t);
        }, e.prototype.moonwalk = function() {
            this.sprites.callAll("play", null, "walk", this.speed), this.mode = 2;
        }, e.prototype.attack = function() {}, e.prototype.damaged = function() {}, 
        e.prototype.isFacingLeft = function() {
            return this.sprites.scale.x < 0;
        }, e.prototype.addOnClick = function(t) {
            for (var e = 0; e < this.sprites.length; e++) this.sprites.children[e].inputEnabled = !0, 
            this.sprites.children[e].events.onInputDown.add(t.bind(this));
        }, e.prototype.onFxAnimationDone = function() {
            this.fxQueue > 0 && (this.fxQueue--, 0 === this.fxQueue && this.game.broadcaster.broadcast(h.ECreatureEvents.AnimationDone, this.source, []));
        }, e.prototype.onStarsAdded = function() {
            !0 === this.game.broadcaster.broadcast(h.EBattleEvents.GetIsRunning, this.game) && (this.fxQueue++, 
            this.flyingStars = new E.FlyingStars(this.game, this.x, this.y - (this.height - 35)));
        }, e.prototype.onCreatureLevelUp = function(t, e) {
            "TileScreen" !== this.game.state.current && "Arena" !== this.game.state.current && this.fxQueue++;
        }, e.prototype.onLevelUpAnimationDone = function() {
            this.processLevelEvent();
        }, e.prototype.processLevelEvent = function() {
            var t = this.source.getUnprocessedLevelEvents(), e = null;
            if (f.Util.isValid(t) && t.length > 0) {
                var i = t.pop();
                f.Util.isValid(i.h) && this.levelEventNewHeart(i.h), f.Util.isValid(i.a) && this.levelEventNewSpell(this.game.prodigy.attacks.getAttack(i.a)), 
                f.Util.isValid(i.e) && this.levelEventEvolve(i.e), f.Util.isValid(i.g) && (e = u.Items.getItem("giftBox", 1)), 
                f.Util.isValid(e) && i.lvl <= this.game.prodigy.player.data.level ? this.game.prodigy.giftBoxController.receiveGiftBox(this.processLevelEvent.bind(this), e) : this.processLevelEvent();
            } else this.game.broadcaster.broadcast(h.ECreatureEvents.ProcessedAllEvents, this.game, []), 
            this.onFxAnimationDone();
        }, e.prototype.levelEventNewHeart = function(t) {
            for (var e = 0; e < 10; e++) {
                var i = this.game.prodigy.create.sprite(this.x, this.y - 50, "atlas-19", "user-heart");
                this.game.broadcaster.broadcast(h.EScreenEvents.AddChild, this.game, [ i, "content" ]), 
                i.anchor.setTo(.5, .5), i.alpha = .5, this.game.add.tween(i).to({
                    x: 470
                }, 600, Phaser.Easing.Linear.None).delay(300 * e).to({
                    alpha: 0
                }, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(i).to({
                    y: 55
                }, 600, Phaser.Easing.Quadratic.Out).delay(300 * e).start();
            }
            this.source.changeCurrentHearts(s.GameConstants.MAX_SAFE_INTEGER), this.callBattlePopup({
                type: p.BattleBase.LEVEL_UP,
                hearts: 10 * t,
                source: this.source
            });
        }, e.prototype.levelEventNewSpell = function(t) {
            for (var e = 0; e < 6; e++) {
                var i = this.game.prodigy.icon.createFromData(t, this.x, this.y - 50);
                i.onTextureLoaded = this.onLevelEventSpellIconLoaded.bind(this, i, e);
            }
            this.game.time.events.add(3e3, this.callBattlePopup.bind(this, {
                type: p.BattleBase.SPELL,
                source: this.source,
                spell: t
            }), this);
        }, e.prototype.onLevelEventSpellIconLoaded = function(t, e) {
            this.game.broadcaster.broadcast(h.EScreenEvents.AddChild, this.game, [ t, "content" ]), 
            t.anchor.setTo(3, 3), t.angle = 60 * e, this.game.add.tween(t).to({
                angle: "+1000"
            }, 3500, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(t.anchor).to({
                x: .5,
                y: .5
            }, 1500, Phaser.Easing.Linear.None).delay(2e3).to({
                x: 5,
                y: 5
            }, 500, Phaser.Easing.Linear.None).start();
        }, e.prototype.levelEventEvolve = function(t) {
            var e = this;
            this.game.broadcaster.broadcast(h.ECreatureEvents.EvolveStart, this.game), 
            this.chat(1, this.sprites.height, !0), this.loadCompleted = !1, this.blinkCount = 0, 
            this.stopEvolve = !1, this.evolveTextTween = this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.Localizer.getText("CREATURE_TRYING_TO_EVOLVE", this.source.getName()), null, c.EffectFactory.PVP, c.EffectFactory.SMALL, s.GameConstants.MAX_SAFE_INTEGER, !0);
            var i = this.game.prodigy.create.sprite(this.x, 0, "atlas-16", "core-beam2");
            this.game.broadcaster.broadcast(h.EScreenEvents.AddChild, this.game, [ i, "content" ]), 
            i.alpha = .75, i.anchor.setTo(.5, 0), this.game.add.tween(i).to({
                height: 720
            }, 250, Phaser.Easing.Linear.None).delay(500).start();
            var a = this.game.add.tween(i).to({
                alpha: .25
            }, 780, Phaser.Easing.Linear.None, !0, 0, -1, !0);
            if (this.game.prodigy.player.hasMembership()) {
                var n = this.createEvolutionOverlay("memberEvolve", t, a, i);
                a.onLoop.add(function() {
                    e.blinkComplete(t, a, i, [ n ]);
                }, this);
            } else this.hasOpenedEvolve = !1, this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: m.EFunnelEventIDs.FunnelEvolutionMemberLock,
                name: m.EFunnelEventIDs.StageEvolutionSeeButton
            }, !0), this.createEvolutionOverlay("nonMemberEvolve", t, a, i);
            this.game.prodigy.load.assets(b.MonsterContainer.getAssets(this.source), function() {
                e.loadComplete();
            });
        }, e.prototype.createEvolutionOverlay = function(t, e, i, a) {
            var n = this, o = this.game.state.states.Battle.menus, r = new y.Overlay(this.game, 15, o);
            return r.addOnLoadCallback(function() {
                var o = r.getUiElement("evolveButton"), s = r.getUiElement("evolveLaterButton"), l = r.getUiElement("stopEvolveButton");
                r.getUiElement(t).visible = !0;
                var h = function() {
                    n.blinkComplete(e, i, a, [ r ]);
                }, c = function() {
                    r.visible = !1, setTimeout(h, 3700);
                };
                o.onUpCallback = function() {
                    n.openMembershipEvolve(c);
                }, s.onUpCallback = function() {
                    n.skipEvolveNonMember(h);
                }, l.onUpCallback = function() {
                    n.stopEvolving();
                };
            }), r.x = this.x, r.y = 530, r;
        }, e.prototype.openMembershipEvolve = function(t) {
            var e = this;
            this.hasOpenedEvolve || (this.hasOpenedEvolve = !0, this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: m.EFunnelEventIDs.FunnelEvolutionMemberLock,
                name: m.EFunnelEventIDs.StageEvolutionClickButton
            }, !0));
            this.game.prodigy.open.membershipInfo(function() {
                e.game.prodigy.player.hasMembership() && (e.evolveTextTween.stop(!0), 
                e.game.prodigy.effects.flashText(e.game.prodigy.gameContainer.Localizer.getText("CREATURE_IS_EVOLVING", e.source.getName()), null, c.EffectFactory.PVP, c.EffectFactory.SMALL, 3500), 
                e.blinkCount = 20, t());
            }, {
                conversionFunnelName: m.EFunnelEventIDs.FunnelEvolutionMemberLock,
                conversionStage: m.EFunnelEventIDs.StageEvolutionConverted
            }, g.MembershipInfo.EVOLVE_PETS);
        }, e.prototype.skipEvolveNonMember = function(t) {
            this.stopEvolve = !0, t();
        }, e.prototype.loadComplete = function(t, e) {
            f.Util.isValid(this.game) && e && (this.loadCompleted = !0);
        }, e.prototype.stopEvolving = function() {
            this.stopEvolve = !0;
        }, e.prototype.blinkComplete = function(t, e, i, a) {
            if (this.loadCompleted && !(this.blinkCount < 5) || this.stopEvolve) {
                if (f.Util.isValid(a)) for (var n = 0; n < a.length; n++) a[n].visible = !1;
                if (f.Util.isValid(this.evolveTextTween) && this.evolveTextTween.stop(!0), 
                e.stop(), this.game.add.tween(i).to({
                    alpha: 0
                }, 300, Phaser.Easing.Linear.None, !0), this.game.add.tween(i.scale).to({
                    x: 5
                }, 300, Phaser.Easing.Linear.None, !0), this.stopEvolve) this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.Localizer.getText("CREATURE_STOPPED_EVOLVING", this.source.getName()), null, c.EffectFactory.BOTTOM, c.EffectFactory.SMALL, 2500), 
                this.game.time.events.add(3e3, this.processLevelEvent.bind(this), this); else {
                    this.source.evolve(t), this.reload();
                    var r = u.Items.getItem("pet", t).metadata, s = .5;
                    null !== o(r, "assets.default.battleScale", null) && (s = r.assets.default.battleScale), 
                    this.scale.x = s, this.scale.y = s, this.game.prodigy.effects.flashText(this.source.getSourceName() + "!", null, c.EffectFactory.BOTTOM, c.EffectFactory.MEDIUM, 2500), 
                    this.game.time.events.add(3e3, this.processLevelEvent.bind(this), this);
                }
                this.game.time.events.add(3e3, this.broadcastEvolveEnd.bind(this)), 
                this.chatBubble.visible = !1;
            } else this.blinkCount++;
        }, e.prototype.broadcastEvolveEnd = function() {
            this.game.broadcaster.broadcast(h.ECreatureEvents.EvolveEnd, this.game, [ this ]);
        }, e.prototype.callBattlePopup = function(t) {
            this.game.prodigy.open.battleLevel(this, t);
        }, e.prototype.doBarrierAnimation = function() {
            this.barrierSprite.alpha = 1, this.barrierSpriteSpark.alpha = 1, this.barrierSprite.play("deflect"), 
            this.barrierSpriteSpark.play("spark");
        }, e.prototype.doBarrierBreakAnimation = function() {
            this.barrierSpriteBreak.alpha = 1, this.barrierSpriteSpark.alpha = 1, 
            this.barrierSpriteBreak.play("break"), this.barrierSpriteSpark.play("spark");
        }, e.prototype.addBarrierSpritesheet = function(t, e) {
            e.alpha = 0, e.scale.x = 2.33, e.scale.y = 2.33, e.smoothed = !1, e.animations.add(t, null, 10, !1), 
            e.animations.getAnimation(t).onComplete.add(function() {
                e.alpha = 0;
            }, this);
        }, e.prototype.destroy = function() {
            f.Util.isValid(this.locomotion) && (this.locomotion.destroy(), this.locomotion = null), 
            t.prototype.destroy.call(this);
        }, e.prototype.retreat = function() {}, e;
    }(l.Element);
    e.CreatureContainer = O;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(4), s = i(38), l = function(t) {
        function e(e, i) {
            var a = t.call(this, e) || this;
            return a.nickname = null, a.setData(i), a;
        }
        return n(e, t), e.prototype.setData = function(e) {
            if (t.prototype.setData.call(this, e), o.Util.isValid(this.data)) {
                this.data.ID = o.Util.isValid(e.ID) ? e.ID : e.gameID, this.nickname = this.data.nickname, 
                delete this.data.R;
                var i = r.Items.getItem("pet", this.data.ID);
                this.source = i.data, o.Util.isValid(i.metadata.assets.default) && (this.source.assetType = i.metadata.assets.default.type), 
                this.type = this.source.life;
            }
        }, e.prototype.canCatch = function(t) {
            return !!o.Util.isValid(t.bounty) || !o.Util.isValid(this.nickname);
        }, e.prototype.getAttacks = function(t) {
            if (o.Util.isValid(this.data.attacks)) return this.data.attacks;
            var e = [];
            if (o.Util.isValid(this.data.evolve)) {
                for (var i = 1, a = 0; a < this.data.evolve.length; a++) {
                    var n = this.data.evolve[a], l = r.Items.getItem("pet", n.ID).data.curve;
                    e = e.concat(s.Creature.getAttacksFromCurve(l, i, n.lvl)), i = n.lvl;
                }
                e = e.concat(s.Creature.getAttacksFromCurve(r.Items.getItem("pet", this.getID()).data.curve, i, this.getLevel()));
            } else e = e.concat(s.Creature.getAttacksFromCurve(r.Items.getItem("pet", this.getID()).data.curve, 1, this.getLevel()));
            return s.Creature.getAttacksOfType(o.Util.removeDuplicates(e), t);
        }, e.prototype.getMaxHearts = function(e) {
            void 0 === e && (e = null);
            var i = 120;
            if (o.Util.isValid(this.data.evolve)) {
                for (var a = 1, n = 0; n < this.data.evolve.length; n++) {
                    var l = this.data.evolve[n], h = r.Items.getItem("pet", l.ID).data.life;
                    i += s.Creature.getHeartsFromCurve(h, a, l.lvl - 1), a = l.lvl;
                }
                i += s.Creature.getHeartsFromCurve(this.type, a, this.getLevel());
            } else i += t.prototype.getMaxHearts.call(this, e);
            return i = Math.round(i * this.modifiers.maxHearts), Math.min(i, s.Creature.MAX_HEARTS);
        }, e.prototype.evolve = function(t, e) {
            var i = o.Util.isValid(e) ? e : this.getLevel();
            o.Util.isValid(this.data.evolve) || (this.data.evolve = []), this.data.evolve.push({
                ID: this.data.ID,
                lvl: i
            }), this.data.ID = t, this.source = r.Items.getItem("pet", this.data.ID).data, 
            this.type = this.source.life;
        }, e.prototype.getID = function() {
            return this.data.ID;
        }, e.prototype.getName = function() {
            return o.Util.isValid(this.nickname) ? this.nickname : this.source.name;
        }, e.prototype.getSourceName = function() {
            return this.source.name;
        }, e.prototype.getElement = function() {
            return this.source.element;
        }, e.prototype.generate = function(t, e) {
            var i = Math.max(1, t - e);
            this.data.stars = s.Creature.starsToLevel(i - 1), this.data.level = i;
        }, e.prototype.getLevelingCurve = function(t) {
            for (var e = [], i = [], a = r.Items.getItem("pet", this.getID()).data.curve, n = 0; n < a.length; n++) {
                var s = a[n];
                o.Util.isValid(s.e) && s.lvl <= t ? i.push(s) : s.lvl === t && e.push(s);
            }
            return i.concat(e);
        }, e.prototype.getDrops = function() {
            return r.Items.getItemDrops(this.data.drops).concat([ {
                type: "gold",
                N: 100
            } ]);
        }, e;
    }(s.Creature);
    e.Monster = l;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t(t) {
            this.current = null, this.noSkipFrames = !1, this.tweens = [], this.tweenVars = {}, 
            this.onEndCallbacks = [], this.index = 0, this.src = t;
        }
        return t.prototype.start = function(t, e, i) {
            this.current = null, this.index = 0, this.startTime = a.Util.isValid(t) ? t : new Date().getTime();
            for (var n = 0; n < this.tweens.length; n++) {
                var o = this.tweens[n];
                o.start = 0 === n ? this.startTime : this.tweens[n - 1].end, o.end = o.start + o.duration;
            }
            this.noSkipFrames = !!a.Util.isValid(i) && i, this.onComplete = e;
        }, t.prototype.end = function(t) {
            a.Util.isValid(t) && this.onEndCallbacks.push(t);
        }, t.prototype.set = function(t, e, i, a) {
            void 0 === a && (a = 1), this.tweens.push({
                type: "set",
                tag: t,
                duration: e.length * i * a,
                delay: i,
                frames: e,
                lastUpdate: 0
            });
        }, t.prototype.delay = function(t) {
            this.tweens.push({
                type: "delay",
                duration: t
            });
        }, t.prototype.update = function(t) {
            if (a.Util.isValid(this.startTime)) {
                var e = a.Util.isValid(t) ? t : new Date().getTime();
                if (a.Util.isValid(this.current)) {
                    var i = Math.floor((e - this.current.start) / this.current.delay) * this.current.delay + this.current.start, n = e - this.current.delay, o = n - this.current.lastUpdate > this.current.delay;
                    if (!this.noSkipFrames && n <= this.current.lastUpdate || o) return "set" !== this.current.type || a.Util.isValid(this.tweenVars.next) || (this.tweenVars.next = this.current.start + this.current.delay, 
                    this.tweenVars.frame = 0, this.src[this.current.tag] = this.current.frames[0]), 
                    o && (this.current.lastUpdate = i), null;
                    if (this.current.lastUpdate = i, "set" === this.current.type) if (a.Util.isValid(this.tweenVars.next) || (this.tweenVars.next = this.current.start + this.current.delay, 
                    this.tweenVars.frame = 0, this.src[this.current.tag] = this.current.frames[0]), 
                    e >= this.current.end) this.src[this.current.tag] = this.current.frames[this.current.frames.length - 1]; else if (e >= this.tweenVars.next) {
                        if (this.tweenVars.next += this.current.delay, this.tweenVars.frame++, 
                        this.tweenVars.frame >= this.current.frames.length) {
                            this.tweenVars.frame = 0;
                            for (var r = 0; r < this.onEndCallbacks.length; r++) this.onEndCallbacks[r]();
                        }
                        this.src[this.current.tag] = this.current.frames[this.tweenVars.frame];
                    }
                    e >= this.current.end && (this.current = null, a.Util.isValid(this.onComplete) && this.onComplete());
                }
                a.Util.isValid(this.current) || (this.tweenVars = {}, this.index >= this.tweens.length ? this.startTime = null : (this.current = this.tweens[this.index], 
                this.index++));
            }
        }, t;
    }();
    e.TweenController = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t() {}
        return t.FEATURE_HOUSE_MOVING = "FEATURE_HOUSE_MOVING", t.FEATURE_HOUSE_VISITING = "FEATURE_HOUSE_VISITING", 
        t.FEATURE_STYLIST = "FEATURE_STYLIST", t.FEATURE_CLOUD_MOUNT = "FEATURE_CLOUD_MOUNT", 
        t.FEATURE_SOCIAL_FEED = "FEATURE_SOCIAL_FEED", t.FEATURE_BADGES = "FEATURE_BADGES", 
        t.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON = "BREADCRUMB_CLICKED_WORLD_MAP_BUTTON", 
        t.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE = "BREADCRUMB_CLICKED_WORLD_MAP_HOUSE", 
        t.BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON = "BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON", 
        t.BREADCRUMB_CLICKED_HOUSE_MOVE_BUTTON = "BREADCRUMB_CLICKED_HOUSE_MOVE_BUTTON", 
        t.BREADCRUMB_CLICKED_CARD_VISIT_BUTTON = "BREADCRUMB_CLICKED_CARD_VISIT_BUTTON", 
        t.BREADCRUMB_CLICKED_CARD_STYLIST_BUTTON = "BREADCRUMB_CLICKED_CARD_STYLIST_BUTTON", 
        t.BREADCRUMB_CLICKED_DAB = "BREADCRUMB_CLICKED_DAB", t.BREADCRUMB_CLICKED_DAB_EMOTE_BUTTON = "BREADCRUMB_CLICKED_DAB_EMOTE_BUTTON", 
        t.BREADCRUMB_CLICKED_DAB_DANCE_BUTTON = "BREADCRUMB_CLICKED_DAB_DANCE_BUTTON", 
        t.BREADCRUMB_CLICKED_DAB_DAB_BUTTON = "BREADCRUMB_CLICKED_DAB_DAB_BUTTON", 
        t.BREADCRUMB_TITAN_INTRO = "BREADCRUMB_TITAN_INTRO", t.BREADCRUMB_TITAN_WATCHED_INTRO = "BREADCRUMB_TITAN_WATCHED_INTRO", 
        t.BREADCRUMB_TITAN_HARVEY_TALKED = "BREADCRUMB_TITAN_HARVEY_TALKED", t.BREADCRUMB_CLOUD_MOUNT_TOGGLED = "BREADCRUMB_CLOUD_MOUNT_TOGGLED", 
        t.BREADCRUMB_SOCIAL_FEED_OPENED = "BREADCRUMB_SOCIAL_FEED_OPENED", t.BREADCRUMB_CLICKED_SOCIAL_BUTTON = "BREADCRUMB_CLICKED_SOCIAL_BUTTON", 
        t.BREADCRUMB_CLICKED_BADGES_BUTTON = "BREADCRUMB_CLICKED_BADGES_BUTTON", 
        t;
    }();
    e.Breadcrumbs = a;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t.FunnelBuyMemberItem = "Buy-Member-Item", t.FunnelSecondWheelSpin = "Second-Wheel-Spin", 
        t.FunnelEnterDarkTower = "Enter-Dark-Tower", t.FunnelCatchMorePets = "Catch-More-Pets", 
        t.FunnelOpenMemberChestBattle = "Open-Member-Chest-Battle", t.FunnelOpenMemberChestWorld = "Open-Member-Chest-World", 
        t.FunnelEquipNewLockedItem = "Equip-New-Locked-Item", t.FunnelEquipBackpackLockedItem = "Equip-Backpack-Locked-Item", 
        t.FunnelEquipCardLockedItem = "Equip-Card-Locked-Item", t.FunnelCatchPetAgain = "Catch-Pet-Again", 
        t.FunnelUseBoost = "Use-Boost", t.FunnelClickHUDButton = "Click-HUD-Button", 
        t.FunnelEvolutionMemberLock = "Evolution-Member-Lock", t.StageClickItem = "Click-Item", 
        t.StageClickBuy = "Click-Buy", t.StageClickMembership = "Click-Membership", 
        t.StageClickParentConfirmation = "Click-Parent-Confirmation", t.StageClickSpinAgain = "Click-Spin-Again", 
        t.StageEnterTower = "Enter-Tower", t.StageCatchPet = "Catch-Pet", t.StageOpenChest = "Open-Chest", 
        t.StageEquipItem = "Equip-Item", t.StageCatchPetFail = "Catch-Pet-Fail", 
        t.StageTryAgain = "Try-Again", t.StageClickBoost = "Click-Boost", t.StageClickStars = "Click-Stars", 
        t.StageClickButton = "Click-Button", t.StageEvolutionSeeButton = "Evolution-See-Button", 
        t.StageEvolutionClickButton = "Evolution-Click-Button", t.StageEvolutionConverted = "Evolution-Converted";
    }(e.EFunnelEventIDs || (e.EFunnelEventIDs = {}));
}, function(t, e) {
    var i = Array.isArray;
    t.exports = i;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e;
    }(i(7).Map);
    e.BonfireSpireMap = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(3), s = i(4), l = i(0), h = function(t) {
        function e(i, a, n, h, c, p) {
            void 0 === c && (c = {}), void 0 === p && (p = null);
            var u = t.call(this, i, a, n, h) || this;
            u.icon = null, u.selected = !1, u.callback = null, u.btnGroup = null, 
            u.bg = null, u.text = null, u.iconSide = null, u.isActive = !0, u.callback = p, 
            u.btnGroup = u.game.prodigy.create.element(u, 0, 0);
            var d = c, g = l.Util.isValid(d.size) ? d.size : e.SMALL, y = null;
            switch (g) {
              case e.CONFIRM:
                y = "btn-med-confirm";
                break;

              case e.TALL:
                y = "btn-tall";
                break;

              case e.MED:
                y = "btn-med";
                break;

              case e.MINI:
                y = "btn-mini";
                break;

              case e.LG:
                y = "btn-lg";
                break;

              case e.GRADE:
                y = "btn-grade";
                break;

              default:
                y = "btn-small";
            }
            var f = l.Util.isValid(d.text) ? d.text : "", m = 0, _ = l.Util.isValid(d.textY) ? d.textY : 0, v = g - 85, E = l.Util.isValid(d.atlas) ? d.atlas : s.Items.getIconAtlas(d.icon), b = d.icon, O = l.Util.isValid(d.needsMemberIcon) && d.needsMemberIcon;
            if (u.iconSide = d.iconSide, u.bg = u.game.prodigy.create.sprite(0, 0, "atlas-18", y), 
            u.btnGroup.add(u.bg), l.Util.isValid(b) ? (u.icon = u.btnGroup.add(u.game.prodigy.create.sprite(0, 0, E, b)), 
            u.setIcon(b), m = "right" === d.iconSide ? 10 : u.icon.width + 15, v = u.bg.width - 25 - u.icon.width) : (v = g - 20, 
            m = 10), u.text = u.game.prodigy.create.font(u.btnGroup, m, _, "" + f, {
                size: 36,
                fontID: 9,
                width: v,
                align: "center"
            }), O) {
                var T = u.game.prodigy.create.sprite(0, 0, "atlas-21", "mail-member");
                T.x = u.bg.width - T.width / 2, T.y = -T.height / 2, u.btnGroup.add(T);
            }
            if (u.bg.inputEnabled = !0, u.bg.events.onInputDown.add(u.mouseDown, u), 
            u.bg.events.onInputUp.add(u.mouseUp, u), u.bg.events.onInputOver.add(u.mouseOver, u), 
            u.bg.events.onInputOut.add(u.mouseOut, u), o.GameConstants.get("GameConstants.Build.DEBUG")) {
                var A = null;
                l.Util.isValid(d.text) ? (A = d.text, u.game.broadcaster.addAppListener(r.EDebugEvents.AutoClick, u.onDebugAutoClick.bind(u), u)) : l.Util.isValid(d.icon) && (A = d.icon), 
                l.Util.isValid(A) || u.game.prodigy.automation.addTrigger({
                    ID: "autoclick-" + A,
                    context: u,
                    callback: function() {
                        return {
                            x: u.worldPosition.x + .5 * u.bg.width,
                            y: u.worldPosition.y + .5 * u.bg.height
                        };
                    }
                });
            }
            return u.onDestroy.add(u.handleDestroy.bind(u)), u;
        }
        return n(e, t), e.prototype.setActive = function() {
            this.isActive = !0, this.bg.tint = 16777215, this.tintActive();
        }, e.prototype.setInactive = function() {
            this.isActive = !1, this.bg.tint = 5789784, this.icon && (this.icon.tint = 5789784);
        }, e.prototype.select = function() {
            this.selected = !0, this.bg.tint = 7447253, this.icon && (this.icon.tint = 7447253);
        }, e.prototype.deselect = function() {
            this.selected = !1, this.bg.tint = 16777215, this.tintActive();
        }, e.prototype.setIcon = function(t) {
            this.icon.frameName = l.Util.isString(t) ? t : null, this.icon.x = "right" === this.iconSide ? this.bg.width - this.icon.width - 10 : 10, 
            this.icon.y = -Math.floor((this.icon.height - 50) / 2), "btn-tall" === this.bg.frameName && (this.icon.x = Math.floor((100 - this.icon.width) / 2), 
            this.icon.y = Math.floor((200 - this.icon.height) / 2));
        }, e.prototype.setEnabled = function(t) {
            this.isActive = t, this.alpha = this.isActive ? 1 : .5;
        }, e.prototype.setText = function(t) {
            this.text.setText(t);
        }, e.prototype.mouseDown = function() {
            this.isActive && (this.game.prodigy.audio.playSFX(18, "pop"), l.Util.isValid(this.callback) && this.callback(), 
            this.btnGroup.y = 0);
        }, e.prototype.mouseUp = function() {
            this.isActive && (this.btnGroup.y = -3);
        }, e.prototype.mouseOver = function() {
            this.isActive && (this.btnGroup.y = -3);
        }, e.prototype.mouseOut = function() {
            this.isActive && (this.btnGroup.y = 0);
        }, e.prototype.tintActive = function() {
            this.icon && (this.icon.tint = 16777215);
        }, e.prototype.handleDestroy = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && l.Util.isValid(this.text.text) && (this.game.prodigy.automation.removeAllTriggers(this), 
            this.game.broadcaster.removeAppListener(r.EDebugEvents.AutoClick, this));
        }, e.prototype.onDebugAutoClick = function(t) {
            l.Util.isValid(this.text.text) && (l.Util.isValid(t) ? t === this.text.text && this.mouseDown() : l.Util.log("Button Text: " + this.text.text));
        }, e.createNextButton = function(t, e, i, a, n) {
            return t.prodigy.create.textButton(e, i, a, {
                icon: "next",
                iconSide: "right",
                text: t.prodigy.gameContainer.Localizer.getText("BUTTON_NEXT")
            }, n);
        }, e.createCloseButton = function(t, e, i, a, n) {
            return t.prodigy.create.textButton(e, i, a, {
                icon: "close",
                text: t.prodigy.gameContainer.Localizer.getText("BUTTON_CLOSE")
            }, n);
        }, e.createYesButton = function(t, e, i, a, n) {
            return t.prodigy.create.textButton(e, i, a, {
                icon: "yes",
                text: t.prodigy.gameContainer.Localizer.getText("BUTTON_YES")
            }, n);
        }, e.createNoButton = function(t, e, i, a, n) {
            return t.prodigy.create.textButton(e, i, a, {
                icon: "close",
                text: t.prodigy.gameContainer.Localizer.getText("BUTTON_NO")
            }, n);
        }, e.MINI = 100, e.SMALL = 200, e.TALL = 100.1, e.MED = 300, e.CONFIRM = 301, 
        e.LG = 350, e.GRADE = 80, e;
    }(i(5).Element);
    e.TextButton = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(4), s = i(0), l = function(t) {
        function e(i, a, n, o, l, h, c, p) {
            var u = t.call(this, i, a, n, o, l, h) || this;
            return 2 !== o || s.Util.isValid(r.Items.getItem("pet", n.data.ID).metadata.assets.default) || (u.sprites.scale.x = u.sprites.scale.y = 2), 
            u.forceSimple = c, u.assets = e.getAssets(u.source, u.setScale, u.forceSimple), 
            u.onClick = p, u;
        }
        return n(e, t), e.getAssets = function(t, e, i, a) {
            var n = r.Items.getItem("pet", t.data.ID).metadata.assets, o = null, l = [];
            if ("default" === (o = 1 !== e && s.Util.isValid(n.default) ? "default" : "reduced") && i && !a && (o = "small"), 
            s.Util.isValid(n.default) && "spine" === n.default.type) l.push("spine-" + n.default.ID); else {
                var h = t.getID();
                switch (l.push(o + "-pet-" + h), h) {
                  case 125:
                    l = l.concat([ "sfx-5" ]);
                    break;

                  case 126:
                    l = l.concat([ "sfx-2" ]);
                    break;

                  case 127:
                    l = l.concat([ "sfx-3" ]);
                    break;

                  case 128:
                    l = l.concat([ "sfx-6" ]);
                    break;

                  case 129:
                    l = l.concat([ "sfx-4" ]);
                }
            }
            return l;
        }, e.prototype.startLoad = function(i) {
            var a = this;
            t.prototype.startLoad.call(this), this.loading = !0, this.assets = e.getAssets(this.source, this.setScale, this.forceSimple), 
            s.Util.isValid(i) && (this.assets = this.assets.concat(i)), this.game.prodigy.load.assets(this.assets, function() {
                a.setup();
            });
        }, e.prototype.setup = function(t, e) {
            if (s.Util.isValid(this.game) && (!s.Util.isValid(e) || e) && s.Util.isValid(this.assets)) {
                this.sprites.removeAll(!0);
                var i = this.assets[0], a = null, n = r.Items.getItem("pet", this.source.data.ID).metadata.assets.default;
                s.Util.isValid(n) && (a = n.battleScale);
                var o = this.game.prodigy.assets.getAsset(i);
                if (s.Util.isValid(o) && s.Util.isValid(o.battleScale) ? this.battleScale = o.battleScale : s.Util.isValid(a) ? this.battleScale = a : this.battleScale = 1, 
                this.forceSimple) {
                    l = this.game.prodigy.assets.getImageBounds(i);
                    this.body = this.game.prodigy.create.sprite(0, 0, i), this.sprites.add(this.body), 
                    this.body.x = -l[0], this.body.y = -this.body.height, this.onClick && (this.body.inputEnabled = !0, 
                    this.body.events.onInputDown.add(this.onClick));
                } else {
                    var l, h = -(l = this.game.prodigy.assets.getImageBounds(i))[0], c = -l[3];
                    this.body = this.game.prodigy.create.sprite(h, c, i), this.sprites.add(this.body), 
                    this.onClick && (this.body.inputEnabled = !0, this.body.events.onInputDown.add(this.onClick)), 
                    this.sprites.callAll("animations.add", "animations", "walk", [ 0, 1, 2, 3, 4, 5, 6, 7 ], 10, !0, !0), 
                    this.sprites.callAll("animations.add", "animations", "stand", [ 8, 9, 10, 11, 12, 13, 14, 15 ], 10, !0, !0);
                    try {
                        this.body.animations.add("attack", [ 16, 17, 18, 19, 20, 21, 22, 23 ], 10).onComplete.add(this.stand, this);
                    } catch (t) {}
                    this.sprites.callAll("play", null, "stand");
                }
                Math.abs(this.sprites.scale.x) > 1 && this.sprites.setAll("smoothed", !1), 
                this.complete = !0, this.loading = !1, s.Util.isValid(this.loadedCallback) && this.loadedCallback(this);
            }
        }, e.prototype.attack = function() {
            this.sprites.callAll("play", null, "attack");
        }, e.prototype.damaged = function() {
            this.game.add.tween(this).to({
                alpha: .5
            }, 100, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER).start(), 
            this.speed = 0;
        }, e;
    }(i(14).CreatureContainer);
    e.MonsterContainer = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e;
    }(i(7).Map);
    e.SkywatchMap = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e;
    }(i(7).Map);
    e.ShiverchillMap = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(803), r = i(802), s = i(10), l = i(2), h = i(32), c = i(4), p = i(29), u = i(0), d = i(18), g = i(37), y = i(236), f = function(t) {
        function e(e, i, a, n, o, r, s) {
            var l = this;
            e.prodigy.player.memberPrompt = !0;
            var h = [], c = 0;
            if (u.Util.isValid(s)) h.push(s); else if (r) h.push("congrats"), h.push("amazingThings"); else {
                var p = e.prodigy.player;
                p.isMember || 0 !== p.backpack.hasItem("mount", 1) || h.push("cloudMount"), 
                h.push("monthlyPackage"), h.push("amazingThings");
            }
            return u.Util.isValid(o) && (c = h.length - 1), (l = t.call(this, e, i, 11, h, null, [ "atlas-128" ], c) || this).promotedAd = o, 
            l.analyticEvents = u.Util.isValid(n) ? n : {
                conversionFunnelName: "",
                conversionFunnelMetadata: ""
            }, l.hideSignup = e.prodigy.player.isMember, l.dialogue = null, l.setCloseCallback(a), 
            l;
        }
        return n(e, t), e.prototype.preprocess = function() {
            this.queuePostCreateCallback(this.playRandomNootCongrats.bind(this)), 
            t.prototype.preprocess.call(this);
        }, e.prototype.close = function() {
            this.game.prodigy.audio.stopVoice(), t.prototype.close.call(this);
        }, e.prototype.setup = function() {
            this.loadAds(), u.Util.isValid(this.leftArrowSprite) && this.leftArrowSprite.flipHorizontally(), 
            t.prototype.setup.call(this);
        }, e.prototype.setCallbacks = function() {
            this.buttonCallbacks.signUpButton = this.onMembershipButtonClick.bind(this, "MemberButton"), 
            this.buttonCallbacks.closeButton = this.close.bind(this), t.prototype.setCallbacks.call(this);
        }, e.prototype.loadAds = function() {
            if (this.availableIndices = this.getFilteredIconArray().map(function(t, e) {
                return e;
            }), u.Util.isValid(this.promotedAd)) for (var t = 0; t < e.featureIconConfigs.length; t++) if (o(this.promotedAd, e.featureIconConfigs[t])) {
                this.currentConfigIndex = t;
                break;
            }
            this.adIcons = [], u.Util.isValid(this.currentConfigIndex) && (this.adIcons.push(this.availableIndices[this.currentConfigIndex]), 
            this.availableIndices.splice(this.currentConfigIndex, 1)), this.adIcons = this.adIcons.concat(r(this.availableIndices, 15));
        }, e.prototype.playRandomNootCongrats = function() {
            if ("congrats" === this.pageSets[0]) {
                var t = p.Random.integerInRange(184, 190);
                this.dialogue = this.game.prodigy.dialogue.create(), this.dialogue.setText(t), 
                this.dialogue.start("noot", !0, null, 2, !0, this.dialogue.cleanup.bind(this.dialogue));
            }
        }, e.prototype.onMembershipButtonClick = function(t) {
            if (!this.game.prodigy.player.isMember) {
                this.game.prodigy.network.sendEvent("member-ad", {
                    status: "convert",
                    type: "new",
                    feature: t
                }), this.game.prodigy.network.sendAnalytics("Purchase-Membership-Click", t), 
                u.Util.isValid(this.analyticEvents) && this.game.prodigy.network.sendConversionFunnelEvent(this.analyticEvents.conversionFunnelName, d.EFunnelEventIDs.StageClickMembership, this.analyticEvents.conversionFunnelMetadata), 
                this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                    type: this.analyticEvents.conversionFunnelName,
                    name: d.EFunnelEventIDs.StageClickMembership
                }, !0);
                var e = this.game.prodigy.player.locationSelectionType === l.GameConstants.get("GameConstants.LocationSelection.SCHOOL");
                this.game.prodigy.open.isMenuOpen(y.MembershipParent) || (this.game.prodigy.audio.stopVoice(), 
                this.game.prodigy.open.membershipParent(this, !e, null, null, this.analyticEvents));
            }
        }, e.prototype.onPageLoaded = function() {
            if (t.prototype.onPageLoaded.call(this), this.hideSignup && u.Util.isValid(this.page.signUpButton) && (this.page.signUpButton.visible = !1), 
            "monthlyPackage" === this.pageName ? this.page[this.pageName].children[4].visible = !this.game.prodigy.player.isMember : "amazingThings0" === this.pageName ? this.renderFeatureIcons(0, this.page[this.pageName].children[4]) : "amazingThings1" === this.pageName ? (this.renderFeatureIcons(3, this.page[this.pageName].children[4]), 
            this.renderFeatureIcons(6, this.page[this.pageName].children[5])) : "amazingThings2" === this.pageName && (this.renderFeatureIcons(9, this.page[this.pageName].children[4]), 
            this.renderFeatureIcons(12, this.page[this.pageName].children[5])), 
            "amazingThings0" === this.pageName) {
                var e = this.page[this.pageName].children[3];
                this.generateGearIcons(6, e);
            }
            "memberLockedPets" === this.pageName && u.Util.isValid(this.spineMonsterConfig) && new g.UIParser(this.game).createUIElements([ this.spineMonsterConfig ], this.page.spineBG);
            this.game.prodigy.audio.stopVoice();
        }, e.prototype.generateGearIcons = function(t, e) {
            for (var i = null, a = [ {
                category: "boots",
                count: 0
            }, {
                category: "hat",
                count: 0
            }, {
                category: "outfit",
                count: 0
            }, {
                category: "weapon",
                count: 0
            } ], n = [], o = 0; o < a.length; o++) for (var l = c.Items.getCategoryItems(a[o].category), p = 0; p < l.length; p++) (i = l[p]).category = a[o].category, 
            1 === s(i, "data.member", 0) && (u.Util.isValid(i.data.memberAd) || s(i, "data.memberAd", 0) > 0) && (n.push(i), 
            a[o].count++);
            var d = r(n, t);
            for (o = 0; o < t; o++) this.game.prodigy.create.item(e, 102 * o + 20, 60, {
                ID: d[o].ID,
                type: d[o].category
            }, h.EItemInfoMode.IconNoBackground);
        }, e.prototype.renderFeatureIcons = function(t, i, a, n) {
            void 0 === a && (a = 3), void 0 === n && (n = 19);
            for (var o = t; o < this.adIcons.length && o < t + a; o++) {
                var r = void 0, s = this.adIcons[o];
                r = e.featureIconConfigs[s], 2 === o && (r = e.MEMBER_BOX, 0 === this.game.prodigy.player.backpack.hasItem("mount", 1) && Math.random() >= .5 && (r = e.CLOUD_MOUNT)), 
                this.game.prodigy.create.button(i, (n + 166) * (o - t), 0, "atlas-128", r.frameName, this.onMembershipButtonClick.bind(this, r.trackingEvent));
            }
        }, e.prototype.getFilteredIconArray = function() {
            var t = this;
            return e.featureIconConfigs.filter(function(e) {
                return !u.Util.isValid(e.splitTestDefinition) || u.Util.inTestGroups.apply(t, [ t.game.prodigy.player, e.splitTestDefinition ]);
            });
        }, e.prototype.setSpineMonsterConfig = function(t) {
            this.spineMonsterConfig = t;
        }, e.DEFAULT = {
            frameName: "icons/iconbox-TEST",
            trackingEvent: "Feature-MemberChests"
        }, e.MEMBER_CHESTS = {
            frameName: "icons/member-chests",
            trackingEvent: "Feature-MemberChests"
        }, e.BUDDIES = {
            frameName: "icons/cute-and-cool-buddies",
            trackingEvent: "Feature-Buddies"
        }, e.HOUSE_ITEMS = {
            frameName: "icons/special-house-furniture",
            trackingEvent: "Feature-HouseItems"
        }, e.NEW_HOUSE = {
            frameName: "icons/new-house",
            trackingEvent: "Feature-NewHouse"
        }, e.MORE_GOLD = {
            frameName: "icons/more-gold",
            trackingEvent: "Feature-MoreGold"
        }, e.MORE_EXP = {
            frameName: "icons/level-faster",
            trackingEvent: "Feature-LevelFaster"
        }, e.WHEEL_SPIN = {
            frameName: "icons/more-spins",
            trackingEvent: "Feature-MoreSpins"
        }, e.MEMBER_PETS = {
            frameName: "icons/catch-more-pets",
            trackingEvent: "Feature-MorePets"
        }, e.CATCH = {
            frameName: "icons/second-catch",
            trackingEvent: "Feature-SecondCatchChance"
        }, e.BOOSTS = {
            frameName: "icons/minigame-boosts",
            trackingEvent: "Feature-MinigameBoosts"
        }, e.STYLE = {
            frameName: "icons/cool-new-styles",
            trackingEvent: "Feature-NewStyles"
        }, e.TOWER = {
            frameName: "icons/climb-the-dark-tower",
            trackingEvent: "Feature-DarkTower"
        }, e.POTIONS = {
            frameName: "icons/potions",
            trackingEvent: "Feature-PowerfulPotions"
        }, e.DANCE = {
            frameName: "icons/dab-dance",
            trackingEvent: "Feature-Dab"
        }, e.CLOUD_MOUNT = {
            frameName: "icons/cloud-mount",
            trackingEvent: "Feature-CloudMount"
        }, e.MEMBER_BOX = {
            frameName: "icons/memberbox-popup-icon",
            trackingEvent: "memberbox"
        }, e.MORPH_MARBLE = {
            frameName: "icons/morph-marble",
            trackingEvent: "Feature-MorphMarble"
        }, e.PREMIUM_ITEM = {
            frameName: "icons/iconbox-TEST",
            trackingEvent: "PremiumItems"
        }, e.VISIT_HOUSE = {
            frameName: "icons/friends-visit-house",
            trackingEvent: "Feature-VisitHouse"
        }, e.BIGGER_ROSTER = {
            frameName: "icons/iconbox-TEST",
            trackingEvent: "BiggerRoster"
        }, e.NICKNAME = {
            frameName: "icons/iconbox-TEST",
            trackingEvent: "Nickname"
        }, e.EVOLVE_PETS = {
            frameName: "icons/evolve-pets",
            trackingEvent: "Nickname"
        }, e.featureIconConfigs = [ e.MEMBER_CHESTS, e.TOWER, e.BUDDIES, e.MORE_GOLD, e.MORE_EXP, e.WHEEL_SPIN, e.MEMBER_PETS, e.CATCH, e.BOOSTS, e.STYLE, e.HOUSE_ITEMS, e.NEW_HOUSE, e.POTIONS, e.DANCE, e.MORPH_MARBLE, e.EVOLVE_PETS ], 
        e;
    }(i(235).PaginatedMenu);
    e.MembershipInfo = f;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(4), s = i(0), l = i(27), h = i(37), c = function(t) {
        function e(e, i, a, n, o) {
            void 0 === a && (a = null), void 0 === o && (o = []);
            var r = t.call(this, e, i) || this;
            return r.isModal = !0, r.isLoaded = !1, r.assetID = null, r.isNotificationCell = !0, 
            r.background = null, r.uiElementTemplates = [], r.onClose = null, r.uiElements = [], 
            r.uiRoot = null, r.configModifiers = null, r.onLoadCallbacks = [], r.configObj = null, 
            s.Util.isValid(r.game.prodigy.notifications) && r.game.prodigy.notifications.clearNotifications(), 
            r.background = e.prodigy.create.element(r), r.configModifiers = s.Util.isValid(n) ? n : {}, 
            s.Util.isValid(r.configModifiers.isModal) && (r.isModal = r.configModifiers.isModal), 
            s.Util.isValid(a) && (r.assetID = a), s.Util.isValid(r.assetID) ? r.startLoad(o.concat("atlas-157"), r.startLoadComplete.bind(r)) : s.Util.log("Config file for this UI has not been specified", s.Util.ERROR), 
            r.onLoadCallbacks = [], r;
        }
        return n(e, t), e.prototype.init = function(t) {
            t.add(this), this.process();
        }, e.prototype.close = function() {
            s.Util.isValid(this.game) && s.Util.isValid(this.game.prodigy) && (s.Util.isValid(this.game.broadcaster) && (this.game.broadcaster.removeAppListener(o.EDebugEvents.AutoClickUI, this, this.game), 
            this.game.broadcaster.removeAppListener(o.EDebugEvents.AutoClickList, this, this.game)), 
            this.game.prodigy.open.setActiveMenu());
            try {
                s.Util.isValid(this.onClose) && this.onClose.apply(this, arguments);
            } catch (t) {}
            s.Util.isValid(this.game) && this.game.prodigy.open.close(this), this.destroy();
        }, e.prototype.processConfigObj = function() {
            if (s.Util.isValid(this.assetID) && (this.configObj = r.Items.getItem("ui", this.assetID).data), 
            s.Util.isValid(this.configModifiers) && s.Util.isValid(this.configObj.elements)) {
                if (s.Util.isValid(this.configModifiers.modifyProperty)) for (var t = 0; t < this.configModifiers.modifyProperty.length; t++) {
                    var e = this.configModifiers.modifyProperty[t];
                    this.updateConfigProperty(this.configObj.elements, e.element, e.property, e.value);
                }
                if (s.Util.isValid(this.configModifiers.addChildren)) for (t = 0; t < this.configModifiers.addChildren.length; t++) {
                    e = this.configModifiers.addChildren[t];
                    this.addConfigChild(this.configObj.elements, e.parent, e.child);
                }
                if (s.Util.isValid(this.configModifiers.modifyTemplateProperty) && s.Util.isValid(this.configObj.templates)) for (t = 0; t < this.configModifiers.modifyTemplateProperty.length; t++) {
                    e = this.configModifiers.modifyTemplateProperty[t];
                    this.updateConfigProperty(this.configObj.templates, e.element, e.property, e.value);
                }
            }
            this.create();
        }, e.prototype.addTransparent = function(t) {
            void 0 === t && (t = .75);
            var e = this.background.add(this.game.prodigy.create.sprite(-10, -10, "atlas-18", "overlay-small"));
            e.width = 1300, e.height = 740, e.alpha = t, e.inputEnabled = !0;
        }, e.prototype.create = function() {
            var t = s.Util.isValid(this.configModifiers.backgroundAlpha) ? this.configModifiers.backgroundAlpha : .75;
            this.addTransparent(t), this.createUIElements(this.configObj, this);
            for (var e = 0; e < this.uiElements.length; e++) s.Util.isValid(this.uiElements[e].name) && (this[this.uiElements[e].name] = this.uiElements[e]);
            this.onLoad(), this.isModal && this.game.prodigy.open.hideActiveMenu(), 
            this.game.prodigy.open.setActiveMenu(this), this.process(), this.game.broadcaster.addAppListener(o.EDebugEvents.AutoClickUI, this.onDebugAutoClick.bind(this), this, this.game), 
            this.game.broadcaster.addAppListener(o.EDebugEvents.AutoClickList, this.onDebugAutoClickList.bind(this), this, this.game), 
            s.Util.isValid(this.isNotificationCell) || this.game.broadcaster.broadcast(o.EPlayerLocomotionEvents.StopPlayer), 
            this.game.broadcaster.broadcast(o.EUIEvents.MenuOpened, this.game, [ this.assetID ]);
        }, e.prototype.queuePostCreateCallback = function() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            for (var i = 0; i < t.length; i++) this.onLoadCallbacks.push(t[i]);
        }, e.prototype.findConfigElement = function(t, e) {
            for (var i = 0; i < t.length; i++) {
                if (s.Util.isValid(t[i].name) && t[i].name === e) return t[i];
                if (s.Util.isValid(t[i].children)) {
                    var a = this.findConfigElement(t[i].children, e);
                    if (s.Util.isValid(a)) return a;
                }
            }
            return null;
        }, e.prototype.updateConfigProperty = function(t, e, i, a) {
            var n = this.findConfigElement(t, e);
            null !== n ? n[i] = a : s.Util.log("Config file for this UI does not have " + e + " element!", s.Util.ERROR);
        }, e.prototype.updateConfigModifierProperty = function(t, e, i) {
            s.Util.isValid(this.configModifiers) || (this.configModifiers = {}), 
            s.Util.isValid(this.configModifiers.modifyProperty) || (this.configModifiers.modifyProperty = []), 
            this.configModifiers.modifyProperty.push({
                element: t,
                property: e,
                value: i
            });
        }, e.prototype.addConfigChild = function(t, e, i) {
            var a = this.findConfigElement(t, e);
            null !== a ? s.Util.isValid(a.children) ? a.children.push(i) : a.children = [ i ] : s.Util.log("Config file for this UI does not have " + e + " element!", s.Util.ERROR);
        }, e.prototype.instantiateTemplate = function(t, e) {
            for (var i = 0; i < this.uiElementTemplates.length; i++) if (this.uiElementTemplates[i].name === t) {
                for (var a = new h.UIParser(this.game).createUIElements(new Array(this.uiElementTemplates[i]), e), n = {}, o = 0; o < a.length; o++) n[a[o].name] = a[o];
                return n;
            }
            return s.Util.log("Could not find template with name: " + t), null;
        }, e.prototype.update = function() {
            t.prototype.update.call(this), this.isLoaded && (this.isLoaded = !1, 
            this.processConfigObj());
        }, e.prototype.setCloseCallback = function(t) {
            this.onClose = t;
        }, e.prototype.openTween = function() {
            if (s.Util.isValid(this.uiRoot)) {
                var t = this.uiRoot;
                t.pivot.x = t.width / 2, t.pivot.y = t.height / 2, t.x += t.pivot.x, 
                t.y += t.pivot.y, t.scale.x = .1, t.scale.y = .1, t.alpha = 0, this.game.add.tween(t.scale).to({
                    x: 1,
                    y: 1
                }, 200, Phaser.Easing.Back.Out, !0).frameBased = !1, this.game.add.tween(t).to({
                    alpha: 1
                }, 120, "Linear", !0).frameBased = !1;
            }
        }, e.prototype.findUIElement = function(t) {
            for (var e = null, i = 0; i < this.uiElements.length; i++) if ((e = this.uiElements[i]).name === t) return e;
            return s.Util.log("Menu.findUIElement - couldn't find UIElement with name: " + t, s.Util.ERROR), 
            null;
        }, e.prototype.debugDrawUIElementBounds = function(t) {
            for (var e = 0; e < this.uiElements.length; e++) this.uiElements[e].debugDrawBounds(t);
        }, e.prototype.setActive = function(t) {
            this.visible = t, t && this.process();
        }, e.prototype.onDebugAutoClick = function(t) {
            if (this.visible) for (var e = 0; e < this.uiElements.length; e++) if (this.uiElements[e].name === t && s.Util.isValid(this.uiElements[e].onDown)) {
                this.uiElements[e].onDown();
                break;
            }
        }, e.prototype.onDebugAutoClickList = function() {
            for (var t = 0; t < this.uiElements.length; t++) s.Util.isValid(this.uiElements[t].onClickCallback) && s.Util.log("Clickable UI - Name: " + this.uiElements[t].name);
        }, e.prototype.process = function(t) {
            void 0 === t && (t = null);
            var e = t;
            s.Util.isValid(e) || (e = this, this.isModal && s.Util.isValid(this.game) && this.game.prodigy.textureMenu.clear());
            for (var i = 0; i < e.children.length; i++) if (e.children[i] instanceof l.UIElement && !0 === e.children[i].renderOnly) {
                for (var a = 0; a < e.children[i].images.length; a++) {
                    var n = e.children[i].images[a];
                    this.game.prodigy.textureMenu.renderXY(n, n.x + e.children[i].x, n.y + e.children[i].y), 
                    n.visible = !1;
                }
                this.process(e.children[i]);
            }
        }, e.prototype.onLoad = function() {
            this.onLoadCallbacks.forEach(function(t) {
                t();
            }), this.onLoadCallbacks = [];
        }, e.prototype.startLoadComplete = function() {
            this.isLoaded = !0;
        }, e.prototype.startLoad = function(t, e) {
            this.game.prodigy.load.assets(t, e);
        }, e.prototype.createUIElements = function(t, e) {
            var i = new h.UIParser(this.game);
            s.Util.isValid(t.elements) && (this.uiRoot = new l.UIElement(this.game, e), 
            this.uiRoot.populate({
                type: "UIELement",
                width: e.width,
                height: e.height
            }), this.uiElements = i.createUIElements(t.elements, this.uiRoot)), 
            s.Util.isValid(t.templates) && (this.uiElementTemplates = t.templates);
        }, e;
    }(l.UIElement);
    e.Menu = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            return a.name = "", a.layoutElement = null, a.dimensionPlaceholderImage = null, 
            a.debugOverlay = null, a;
        }
        return n(e, t), e.prototype.processRelativeFields = function(t, e) {
            r.Util.isValid(t.relativeWidth) && (t.width = Math.floor(e.width * t.relativeWidth)), 
            r.Util.isValid(t.relativeHeight) && (t.height = Math.floor(e.height * t.relativeHeight)), 
            r.Util.isValid(t.relativeX) ? t.x = Math.floor(e.width * t.relativeX) : r.Util.isValid(t.x) || (t.x = 0), 
            r.Util.isValid(t.relativeY) ? t.y = Math.floor(e.height * t.relativeY) : r.Util.isValid(t.y) || (t.y = 0), 
            r.Util.isValid(t.visible) && (this.visible = t.visible);
        }, e.prototype.populate = function(t) {
            var e = 0, i = 0;
            r.Util.isValid(t.name) && (this.name = t.name), (r.Util.isValid(t.width) && t.width > this.width || r.Util.isValid(t.height) && t.height > this.height) && (r.Util.isValid(this.dimensionPlaceholderImage) && this.dimensionPlaceholderImage.destroy(), 
            this.dimensionPlaceholderImage = new Phaser.Image(this.game, 0, 0, "atlas-18", "empty"), 
            this.add(this.dimensionPlaceholderImage), r.Util.isValid(t.width) && (this.dimensionPlaceholderImage.width = t.width), 
            r.Util.isValid(t.height) && (this.dimensionPlaceholderImage.height = t.height)), 
            r.Util.isValid(t.anchorX) && (e = -Math.floor(t.anchorX * this.width)), 
            r.Util.isValid(t.anchorY) && (i = -Math.floor(t.anchorY * this.height)), 
            r.Util.isValid(t.x) && (this.x = t.x), r.Util.isValid(t.y) && (this.y = t.y), 
            this.x += e, this.y += i;
        }, e.prototype.postPopulate = function() {}, e.prototype.setActive = function(t) {
            this.isActive = t;
            for (var e = 0; e < this.children.length; e++) r.Util.isValid(this.children[e].setActive) && this.children[e].setActive(t);
        }, e.prototype.debugDrawBounds = function(t) {
            if (t && !r.Util.isValid(this.debugOverlay)) {
                var e = new Phaser.Graphics(this.game, 0, 0);
                e.lineStyle(2, 16711680, .5), e.drawRect(0, 0, this.width, this.height), 
                this.debugOverlay = this.add(e);
            } else !t && r.Util.isValid(this.debugOverlay) && (this.debugOverlay.destroy(), 
            this.debugOverlay = null);
        }, e.prototype.addChild = function(e) {
            var i = t.prototype.addChild.call(this, e);
            return r.Util.isValid(this.game) && this.game.broadcaster.broadcast(o.EUIEvents.ChildAdded, this), 
            i;
        }, e.prototype.removeChild = function(e) {
            var i = t.prototype.removeChild.call(this, e);
            return r.Util.isValid(this.game) && this.game.broadcaster.broadcast(o.EUIEvents.ChildRemoved, this), 
            i;
        }, e;
    }(Phaser.Group);
    e.UIElement = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(116), r = i(0), s = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            var c = t.call(this, e, i, a, n, o, r, s) || this;
            return c.fixedWidth = 0, c.fixedHeight = 0, c.indicatorImage = null, 
            c.fixedWidth = l, c.fixedHeight = h, c;
        }
        return n(e, t), e.prototype.showIndicator = function(t) {
            if (t) {
                if (!r.Util.isValid(this.indicatorImage)) {
                    this.indicatorImage = new Phaser.Image(this.game, 0, 0, "atlas-21", "exclamation"), 
                    this.sprite.addChild(this.indicatorImage);
                    var e = r.Util.getCenteredXY(this.indicatorImage.width, this.indicatorImage.height + 2 * this.indicatorImage.height, this.sprite.x, this.sprite.y, r.Util.isValid(this.fixedWidth) ? this.fixedWidth : this.sprite.width, r.Util.isValid(this.fixedHeight) ? this.fixedHeight : this.sprite.width);
                    this.indicatorImage.x = e.x, this.indicatorImage.y = e.y;
                    var i = 400 - new Date().getTime() % 400;
                    this.game.add.tween(this.indicatorImage).to({
                        y: this.indicatorImage.y - 10
                    }, 400, Phaser.Easing.Quadratic.InOut, !0, i, -1, !0);
                }
            } else r.Util.isValid(this.indicatorImage) && (this.indicatorImage.destroy(), 
            this.indicatorImage = null);
        }, e;
    }(o.Button);
    e.HUDButton = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(829), n = i(827), o = i(0), r = function() {
        function t() {}
        return t.integerInRange = function(e, i) {
            return Math.floor(t.realInRange(e, i));
        }, t.realInRange = function(t, e, i) {
            return o.Util.isValid(i) ? new Phaser.RandomDataGenerator([ i ]).realInRange(t, e) : Math.random() * (e - t) + t;
        }, t.weightedArrayElement = function(t, e) {
            var i = 0, r = [];
            if (!o.Util.isValid(a(t, function(t) {
                return t.weight <= 0;
            })) && t.length > 0) {
                for (var s = Math.round(1 / (n(t, "weight").weight / 100)), l = 0; l < t.length; l++) o.Util.isValid(t[l].weight) && (i += t[l].weight * s), 
                r.push(i);
                var h = this.realInRange(0, i, e);
                for (l = 0; l < t.length; l++) if (h < r[l]) return t[l];
            }
            return null;
        }, t;
    }();
    e.Random = r;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t() {}
        return t.isDesktopOrTablet = function(t) {
            return t.device.desktop || navigator.userAgent.indexOf("iPad") >= 0 || navigator.userAgent.indexOf("Android") >= 0 && -1 === navigator.userAgent.indexOf("Mobile");
        }, t.isTablet = function() {
            return navigator.userAgent.indexOf("iPad") >= 0 || navigator.userAgent.indexOf("Android") >= 0 && -1 === navigator.userAgent.indexOf("Mobile");
        }, t.isIE = function() {
            return -1 !== navigator.userAgent.indexOf("Trident");
        }, t.isChrome = function() {
            return navigator.userAgent.indexOf("Chrome") >= 0 || navigator.userAgent.indexOf("CriOS") >= 0;
        }, t.iPadMini = function() {
            return navigator.userAgent.indexOf("iPad") >= 0 && (screen.width <= 1024 && screen.height <= 768 || screen.height <= 1024 && screen.width <= 768);
        }, t.isIOS = function() {
            return navigator.userAgent.indexOf("iPad") >= 0 || navigator.userAgent.indexOf("iPhone") >= 0 || navigator.userAgent.indexOf("iPod") >= 0;
        }, t.isAndroid = function() {
            return navigator.userAgent.indexOf("Android") >= 0;
        }, Object.defineProperty(t, "isEdge", {
            get: function() {
                return navigator.userAgent.indexOf("Edge") > -1;
            },
            enumerable: !0,
            configurable: !0
        }), t.getMetricsPlatformName = function() {
            var e = "web";
            return t.isIOS() ? e = "ios" : t.isTablet() && (e = "android"), e;
        }, t.nativeAppVersion = function() {
            return "1" === a.Util.getUrlVariable("iosApp") ? 1 : "1" === a.Util.getUrlVariable("nativeApp") && 2;
        }, t.isNativeApp = function() {
            return !!t.nativeAppVersion();
        }, t.getIOSVersion = function() {
            if (/iP(hone|od|ad)/.test(navigator.platform)) {
                var t = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
                return parseInt(t[1], 10);
            }
            return null;
        }, t;
    }();
    e.Device = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(95), n = i(94), o = i(0), r = function() {
        function t(t) {
            this.util = null, this.states = [], this.maps = {}, this.quests = {}, 
            this.store = {}, this.scenes = {}, this.monsters = {}, this.bgmID = 3, 
            this.debugBounties = !1, this.battleBG = "", this.game = t;
        }
        return t.prototype.getMap = function(t) {
            return this.maps[t];
        }, t.prototype.getScene = function(t) {
            return this.scenes[t];
        }, t.prototype.getDailyQuestDescription = function(t) {
            return {};
        }, t.prototype.teleport = function(t, e, i, a, n) {
            var r = null;
            o.Util.isValid(this.game.prodigy.world.currentZone) && (r = this.game.prodigy.world.currentZone, 
            this.game.prodigy.world.previousZone = this.game.prodigy.world.currentZone), 
            this.game.prodigy.world.currentZone = this.ID + "-" + t;
            var s = this.getMap(t);
            if (o.Util.isValid(s)) {
                this.game.state.states.TileScreen.initMap(s, this, e, i);
                var l = n || {};
                l.assets = l.assets || [], l.assets = l.assets.concat([ "map-pathing" ]).concat(s.assets), 
                l.assets = l.assets.concat(this.game.prodigy.skin.getAssets(s.zoneName));
                var h = this.getCurrentQuest();
                o.Util.isValid(h) && (l.assets = l.assets.concat(h.assets)), l.title = o.Util.isValid(l.title) ? l.title : s.getName(), 
                l.x = e, l.y = i, this.game.prodigy.start("TileScreen", l), o.Util.isValid(r) && r === this.game.prodigy.world.getCurrentMap() || this.game.prodigy.network.sendZoneEvent("map-enter");
            }
        }, t.prototype.playScene = function(t) {
            var e = this.getScene(t);
            if (o.Util.isValid(e)) {
                this.game.state.states.TileScreen.initScene(e, this), this.game.prodigy.user.unmount();
                var i = e.loadingData;
                i.assets = [], i.assets = i.assets.concat([ "map-pathing" ]).concat(e.assets), 
                i.title = e.name, this.game.prodigy.start("TileScreen", i);
            }
        }, t.prototype.init = function(t, e, i) {}, t.prototype.setup = function(t, e, i) {
            var a = this.getCurrentQuest();
            return i.questParams = {}, o.Util.isValid(a) && !i.isScene ? a.setup(t, e, i) : null;
        }, t.prototype.start = function(t, e, i) {
            var a = this.getCurrentQuest();
            o.Util.isValid(a) && a.start(t, e, i);
        }, t.prototype.update = function(t, e, i) {
            var a = this.getCurrentQuest();
            o.Util.isValid(a) && a.update(t, e, i);
        }, t.prototype.cleanup = function() {}, t.prototype.process = function(t, e, i) {
            o.Util.isValid(this.monsters) && (o.Util.isValid(this.getState("daily")) ? o.Util.getDate() !== this.getState("daily").date && this.setState("daily", {
                date: o.Util.getDate(),
                flags: [ 1, 1, 1, 1, 1 ],
                rewards: this.getState("daily").rewards
            }) : this.setState("daily", {
                date: o.Util.getDate(),
                flags: [ 1, 1, 1, 1, 1 ],
                rewards: 0
            }));
            var a = this.getCurrentQuest();
            o.Util.isValid(a) && a.process(t, e, i);
        }, t.prototype.getQuest = function(t) {
            return this.quests[t];
        }, t.prototype.getCurrentQuest = function() {
            var t = this.getQuestState();
            return o.Util.isValid(t) ? this.getQuest(t.ID) : null;
        }, t.prototype.getState = function(t) {
            var e = -1;
            if ("quest" !== t) for (var i = 0; i < this.states.length; i++) this.states[i] === t && (e = i); else e = t;
            return -1 === e ? null : this.game.prodigy.player.state.get("zone-" + this.ID + "-" + e);
        }, t.prototype.setState = function(t, e) {
            var i = -1;
            if ("quest" !== t) for (var a = 0; a < this.states.length; a++) this.states[a] === t && (i = a); else i = t;
            if (-1 === i) return null;
            this.game.prodigy.player.state.set("zone-" + this.ID + "-" + i, e);
        }, t.prototype.getQuestState = function() {
            return this.getState("quest");
        }, t.prototype.getRemainingQuestAreas = function(t) {
            var e = this.getQuestState(), i = this.getQuest(t);
            if (o.Util.isValid(e) && o.Util.isValid(i)) {
                if (o.Util.isValid(i.getRemainingQuestAreas)) return i.getRemainingQuestAreas();
                if (o.Util.isValid(i.collectionMaps)) {
                    var a = [];
                    for (var n in i.collectionMaps) {
                        i.collectionMaps[n].filter(function(t) {
                            return !o.Util.isValid(e.state[t]) || 1 !== e.state[t];
                        }).length > 0 && a.push(this.ID + "-" + n);
                    }
                    return a;
                }
                return i.area;
            }
        }, t.prototype.startQuest = function(t) {
            var e = this.getQuestState();
            if (o.Util.isValid(e) || (e = {
                ID: 1
            }), e.ID !== t) return null;
            var i = this.getQuest(e.ID);
            return e.req = o.Util.copyObject(i.req), e.state = o.Util.copyObject(i.state) || {}, 
            e.seq = 0, this.game.prodigy.player.state.set("zone-" + this.ID + "-quest", e), 
            i;
        }, t.prototype.isQuestStarted = function(t) {
            var e = this.getQuestState();
            return !(!o.Util.isValid(e) || !o.Util.isValid(e.req) || e.ID !== t);
        }, t.prototype.isQuestComplete = function(t) {
            if (!this.isQuestStarted(t)) return !1;
            var e = this.getQuestState(), i = this.getQuest(t);
            return this.getQuestState().ID === t && (!("pet" === e.req.type && e.req.N > 0) && (!("clear" === e.req.type && e.req.N > 0) && (!(o.Util.inArray([ "item", "weapon", "hat", "outfit", "boots", "key" ], e.req.type) && this.game.prodigy.player.backpack.hasItem(e.req.type, e.req.ID) < e.req.N) && (("state" !== e.req.type || this.game.prodigy.player.state.get(e.req.state) === e.req.target) && (("zone" !== e.req.type || this.game.prodigy.player.data.zone === i.area[0]) && (("zstate" !== e.req.type || e.req.N === this.getState(e.req.ID)) && (!("zgteState" === e.req.type && this.getState(e.req.ID) < e.req.N) && !("seq" === e.req.type && e.req.N !== e.seq))))))));
        }, t.prototype.completeQuest = function(t) {
            if (!this.isQuestStarted(t)) return !1;
            var e = this.getQuestState();
            return e.ID === t && ("item" !== e.req.type || e.req.K || this.game.prodigy.player.backpack.consume(e.req.type, e.req.ID, e.req.N), 
            this.game.prodigy.player.state.set("zone-" + this.ID + "-quest", {
                ID: e.ID + 1
            }), this.game.prodigy.network.sendZoneEvent("quest-complete", String(t)), 
            this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "quest",
                name: o.Util.validateString([ this.name, this.ID ]),
                id: t
            }), !0);
        }, t.prototype.isQuestProcessed = function(t) {
            return this.isQuestStarted(t) && this.isQuestComplete(t) && this.getQuestState().proc;
        }, t.prototype.processQuest = function(t) {
            this.isQuestStarted(t) && this.isQuestComplete(t) && this.game.prodigy.player.state.set("zone-" + this.ID + "-quest-proc", 1);
        }, t.prototype.isOnQuest = function(t) {
            var e = this.getQuestState();
            return o.Util.isValid(e) && e.ID === t;
        }, t.prototype.getCurrentQuestID = function() {
            var t = this.getQuestState();
            return o.Util.isValid(t) ? t.ID : 0;
        }, t.prototype.defeatMonster = function(t, e, i) {
            var a = this.getQuestState();
            if (o.Util.isValid(a) && o.Util.isValid(a.req)) {
                var n = o.Util.isValid(a.req.U) && a.req.U;
                "pet" === a.req.type && a.req.ID === t && n === i ? (a.req.N--, 
                i && (a.state[e] = 1), this.game.prodigy.player.state.updated = !0) : "clear" === a.req.type && n === i && (a.req.N--, 
                i && (a.state[e] = 1), this.game.prodigy.player.state.updated = !0);
            }
        }, t.prototype.isOnSequence = function(t, e) {
            var i = this.getQuestState();
            return !(!o.Util.isValid(i) || i.ID !== t || !o.Util.isValid(i.req) || i.seq !== e);
        }, t.prototype.isSequenceComplete = function(t, e) {
            var i = this.getQuestState();
            return o.Util.isValid(i) && i.ID === t && i.seq > e;
        }, t.prototype.completeSequence = function(t, e) {
            var i = this.getQuestState();
            o.Util.isValid(i) && i.ID === t && o.Util.isValid(i.req) && i.seq === e && (i.seq++, 
            this.game.prodigy.player.state.updated = !0);
        }, t.prototype.getDailyMaps = function() {
            var t = [];
            for (var e in this.maps) t.push(e);
            return t;
        }, t.prototype.hasDaily = function(t) {
            if (o.Util.isValid(this.getState("daily"))) {
                var e = new n.SeededRandomGenerator(this.getState("daily").date), i = this.getDailyMaps();
                if (o.Util.isValid(i)) for (var a = 0; a < 5; a++) if (i[Math.floor(e.jumpFromStart(a) * (i.length - 1))] === t.tag && 0 !== this.getState("daily").flags[a]) return !0;
            }
            return !1;
        }, t.prototype.testQuest = function(t, e, i) {
            this.game.prodigy.player.state.data.zone[this.ID] = {};
            for (var a = 1; a < t; a++) this.startQuest(a), this.completeQuest(a);
            e && this.startQuest(t);
            for (a = 0; a < i; a++) this.completeSequence(t, a);
        }, t.prototype.placeDaily = function(t, e, i) {}, t.prototype.hasDailyQuestExpired = function() {
            return !o.Util.isValid(this.getState("dailyQuest")) || this.getState("dailyQuest").dateId !== o.Util.getDateId();
        }, t.prototype.startNewDailyQuest = function(t, e) {
            for (var i = [], a = 0; a < e; a++) i.push(!1);
            this.setState("dailyQuest", {
                questId: t,
                dateId: o.Util.getDateId(),
                questState: i
            }), this.game.prodigy.player.getUpdatedData();
        }, t.prototype.isDailyQuestComplete = function() {
            if (!o.Util.isValid(this.getState("dailyQuest"))) return !1;
            if (this.getState("dailyQuest").dateId !== o.Util.getDateId()) return !1;
            for (var t = this.getState("dailyQuest").questState, e = 0; e < t.length; e++) if (!t[e]) return !1;
            return !0;
        }, t.prototype.updateDailyQuest = function(t) {
            if (o.Util.isValid(this.getState("dailyQuest"))) {
                var e = this.getState("dailyQuest").questState;
                e[t] = !0, this.setState("dailyQuest", {
                    questId: this.getState("dailyQuest").questId,
                    dateId: this.getState("dailyQuest").dateId,
                    questState: e
                });
            }
        }, t.prototype.getRemainingQuestObjectives = function() {
            for (var t = 0, e = this.getState("dailyQuest").questState, i = 0; i < e.length; i++) e[i] || t++;
            return t;
        }, t.prototype.hideFollow = function(t) {
            t.removeFollow(this.game.prodigy.player.userID);
        }, t.patrol = function(e, i, n) {
            e instanceof a.MonsterEvent && e.encountered || e.setPath(i, t.patrol.bind(t, e, i, n), n);
        }, t.prototype.getBattle = function(t, e, i, a, n) {
            var r = {
                intro: e,
                catch: !1,
                run: !1,
                screen: t.zone.battleBG
            };
            return o.Util.isValid(i.screen) && (r.screen = i.screen), o.Util.isValid(i.starMod) && (r.starMod = i.starMod), 
            o.Util.isValid(i.drops) && (r.drops = i.drops), o.Util.isValid(i.difficulty) && (r.difficulty = i.difficulty), 
            o.Util.isValid(i.events) && (r.events = i.events), o.Util.isValid(i.opponent) ? (r.opponent = i.opponent, 
            r.pets = i.pets) : o.Util.isValid(i.boss) ? r.boss = i.boss : r.pets = i.pets, 
            this.game.prodigy.battle.start.bind(this.game.prodigy.battle, r, null, a, n, this.onFaint);
        }, t;
    }();
    e.Zone = r;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t[t.Key = 0] = "Key", t[t.View = 1] = "View", t[t.Icon = 2] = "Icon", t[t.IconNoBackground = 3] = "IconNoBackground", 
        t[t.Store = 4] = "Store", t[t.Inventory = 5] = "Inventory", t[t.Card = 6] = "Card", 
        t[t.Info = 7] = "Info", t[t.StylistCard = 8] = "StylistCard", t[t.Buy = 9] = "Buy", 
        t[t.Equip = 10] = "Equip", t[t.Item = 11] = "Item";
    }(e.EItemInfoMode || (e.EItemInfoMode = {}));
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, n = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, o = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(11), s = i(54), l = i(71), h = i(169), c = i(168), p = function() {
        function t(t) {
            this.logger = null, this.data = null, this.parameters = {}, this.variables = null, 
            this.onComplete = new h.Signal(), this.logger = t;
        }
        return Object.defineProperty(t.prototype, "Logger", {
            get: function() {
                return this.logger;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "Parameters", {
            get: function() {
                return this.parameters;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "Variables", {
            get: function() {
                return this.variables;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "OnComplete", {
            get: function() {
                return this.onComplete;
            },
            enumerable: !0,
            configurable: !0
        }), t.prototype.init = function(t, e) {
            this.data = t, this.variables = e;
        }, t.prototype.validate = function() {
            return !0;
        }, t.prototype.execute = function() {}, t.prototype.finish = function(t) {
            if (void 0 === t && (t = null), t) for (var e in t) {
                var i = this.findResult(e);
                null !== i && (this.variables[i] = t[e]);
            }
            this.OnComplete.dispatch();
        }, t.prototype.findParameter = function(t) {
            return this.parameters.hasOwnProperty(t) ? c.StateMachine.parseVariable(this.parameters[t], this.variables) : this.variables.hasOwnProperty(t) ? c.StateMachine.parseVariable("$" + t, this.variables) : (this.logger.log("Action [" + this.constructor.name + "] could not find parameter with name [" + t + "].", l.LogLevel.Error), 
            null);
        }, t.prototype.validateParameters = function(t, e) {
            void 0 === e && (e = null);
            for (var i = 0; i < t.length; i++) {
                var a = t[i];
                if (this.data.Parameters.hasOwnProperty(a)) this.parameters[a] = this.data.Parameters[a]; else if (!this.variables.hasOwnProperty(a)) return this.logger.log("Parameter validation failed for action [" + this.constructor.name + "]. Missing parameter [" + a + "].", l.LogLevel.Error), 
                !1;
            }
            if (e) for (var n in e) this.data.Parameters.hasOwnProperty(n) ? this.parameters[n] = this.data.Parameters[n] : this.parameters[n] = e[n];
            return !0;
        }, t.prototype.findResult = function(t) {
            return this.data.Results.hasOwnProperty(t) ? this.data.Results[t] : null;
        }, t = a([ r.injectable(), o(0, r.inject(s.GameIdentifiers.LoggerService)), n("design:paramtypes", [ Object ]) ], t);
    }();
    e.Action = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n, o) {
            void 0 === n && (n = 0), void 0 === o && (o = 0);
            var r, s = t.call(this, e, i) || this;
            for (s.initialized = !1, s.components = [], r = 0; r < a.length; r++) s.addComponent(a[r], !1);
            for (r = 0; r < a.length; r++) a[r].create();
            return s.x = n, s.y = o, s;
        }
        return n(e, t), e.prototype.update = function() {
            for (var t = 0; t < this.components.length; t++) {
                var e = this.components[t];
                o.Util.isValid(e.update) && e.update();
            }
        }, e.prototype.addComponent = function(t, e) {
            if (void 0 === e && (e = !0), !o.Util.isValid(t.gameObject) && o.Util.isValid(this.game)) {
                if (t.hasUniqueInstance()) for (var i = 0, a = this.components; i < a.length; i++) {
                    if (a[i].constructor === t.constructor) return;
                }
                this.components.push(t), t.gameObject = this, e && t.create();
            }
        }, e.prototype.findComponent = function(t) {
            for (var e = 0, i = this.components; e < i.length; e++) {
                var a = i[e];
                if (a instanceof t) return a;
            }
            return null;
        }, e.prototype.hasComponent = function(t) {
            return o.Util.isValid(this.findComponent(t));
        }, e.prototype.removeComponent = function(t) {
            for (var e = 0; e < this.components.length; ++e) if (this.components[e] === t) {
                this.components.splice(e, 1);
                break;
            }
        }, e.prototype.destroy = function() {
            for (var e = 0; e < this.components.length; ++e) o.Util.isValid(this.components[e].destroy) && this.components[e].destroy();
            t.prototype.destroy.call(this);
        }, e;
    }(Phaser.Group);
    e.GameObject = r;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(167);
    e.actionable = function(t) {
        return function(e) {
            a.Actions[t] = e;
        };
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e;
    }(i(7).Map);
    e.ForestMap = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = i(77), o = i(799), r = i(798), s = i(797), l = i(243), h = i(796), c = i(795), p = i(794), u = i(240), d = i(136), g = i(793), y = i(791), f = i(790), m = i(242), _ = i(27), v = i(789), E = i(788), b = function() {
        function t(t) {
            this.game = null, this.game = t;
        }
        return t.parseJSON = function(t) {
            try {
                return JSON.parse(t);
            } catch (t) {
                a.Util.log("Error parsing config file", a.Util.ERROR);
            }
        }, t.prototype.createUIElements = function(e, i) {
            for (var n = null, o = null, r = null, l = [], h = i.width, c = i.height, p = 0; p < e.length; p++) n = e[p], 
            a.Util.isValid(n.type) ? (o = t.ELEMENTS[n.type], a.Util.isValid(o) || (o = t.ELEMENTS.UIElement, 
            a.Util.log("UIParser.instantiateUIElements - parser has no definition for element of type: " + n.type + ".  Creating UIElement instead.", a.Util.ERROR)), 
            (r = new o(this.game, i)).processRelativeFields(n, {
                width: h,
                height: c
            }), r.populate(n), l.push(r), a.Util.isValid(n.children) && (l = l.concat(this.createUIElements(n.children, r))), 
            a.Util.isValid(n.layoutConfig) && (r.layoutElement = new s.LayoutElement(this.game, r, n.layoutConfig)), 
            r.postPopulate()) : a.Util.log("UIParser.instantiateUIElements - element is missing type field.  Skipping.", a.Util.ERROR);
            return l;
        }, t.ELEMENTS = {
            UIElement: _.UIElement,
            Text: m.Text,
            Button: n.Button,
            ButtonToggle: o.ButtonToggle,
            PhaserButtonWrapper: l.PhaserButtonWrapper,
            Graphic: r.Graphic,
            SlicedGraphic: u.SlicedGraphic,
            SlicedBanner: p.SlicedBanner,
            WoodSlicedPanel: E.WoodSlicedPanel,
            Slider: d.Slider,
            TabButton: f.TabButton,
            Tab: y.Tab,
            ScrollView: c.ScrollView,
            ScrollBar: h.ScrollBar,
            WebFontText: v.WebFontText,
            SpineUI: g.SpineUI
        }, t;
    }();
    e.UIParser = b;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(149), n = i(10), o = i(257), r = i(903), s = i(2), l = i(3), h = i(0), c = i(4), p = function() {
        function t(t) {
            this.justLeveled = !1, this.appearanceChanged = !1, this.starsEarned = 0, 
            this.updated = !1, this.data = {}, this.modifiers = null, this.type = "B", 
            this.team = null, this.source = null, this.game = null, this.inPVP = !1, 
            this.catchAttempt = 0, this.starsToProcess = 0, this.starsRewardBase = 100, 
            this.starsReward = 100, this.pvpHP = 0, this.levelEvents = [], this.isOpponent = !1, 
            this.game = t, this.resetModifiers();
        }
        return t.prototype.createDataClone = function() {
            var t = new this.constructor(this.game);
            return t.setData(a(this.data)), t;
        }, t.prototype.setData = function(t) {
            this.data = t;
        }, t.getHeartsFromCurve = function(e, i, a) {
            var n = t.HP_BONUS[e];
            return 20 * (Math.floor((n + 20) * a / 100) - Math.floor((n + 20) * (i - 1) / 100));
        }, t.getLevelPercent = function(e) {
            var i = t.levelFromStars(e), a = t.starsToLevel(i), n = t.starsToLevel(i - 1);
            return (e - n) / (a - n);
        }, t.getAttacksFromCurve = function(t, e, i) {
            for (var a = [], n = 0; n < t.length; n++) {
                var o = t[n];
                o.lvl >= e && o.lvl <= i && h.Util.isValid(o.a) && a.push(o.a);
            }
            return a;
        }, t.getEvolutionsFromCurve = function(t, e, i) {
            for (var a = [], n = 0; n < t.length; n++) {
                var o = t[n];
                o.lvl >= e && o.lvl <= i && h.Util.isValid(o.e) && a.push(o);
            }
            return a;
        }, t.getAttacksOfType = function(t, e) {
            void 0 === e && (e = null);
            for (var i = [], a = 0; a < t.length; a++) {
                var o = c.Items.getItem("spell", t[a]);
                null !== e && n(o, "data.element", "") !== e || i.push(t[a]);
            }
            return i;
        }, t.starsToLevel = function(e) {
            if (e < 1) return 0;
            for (var i = 0, a = 1; a <= e; a++) i += t.enemiesPerLevel(a);
            return 100 * i;
        }, t.levelFromStars = function(e) {
            for (var i = 1; i <= 100; i++) if (e < t.starsToLevel(i)) return i;
            return 100;
        }, t.enemiesPerLevel = function(t) {
            return Math.max(0, Math.floor(Math.pow(1.7, .085 * t) + .8));
        }, t.prototype.resetModifiers = function() {
            this.modifiers = {
                maxHearts: 1,
                damage: 1,
                miss: 0,
                ignoreElement: 0,
                potion: null,
                barrier: !1
            }, this.clearUnprocessedLevelEvents();
        }, t.prototype.getDataAndClear = function() {
            return this.updated = !1, this.data;
        }, t.prototype.getID = function() {
            return 0;
        }, t.prototype.canCatch = function(t) {
            return !1;
        }, t.prototype.getAttacks = function(t) {
            return [ 1 ];
        }, t.prototype.evolve = function(t, e) {
            h.Util.log("You're calling evolve on a Creature subclass that hasn't overridden the evolve function");
        }, t.prototype.isKnockedOut = function() {
            return this.getCurrentHearts() <= 0;
        }, t.prototype.getMyUniqueAttacks = function(t) {
            for (var e = [], i = this.getAttacks(), a = t.getAttacks(), n = 0; n < i.length; n++) {
                var o = i[n];
                a.indexOf(o) < 0 && e.push(o);
            }
            return e;
        }, t.prototype.getAvailableEvolutions = function() {
            var e = this.getLevel(), i = t.getEvolutionsFromCurve(this.getLevelingCurve(e), 1, e), a = this.getID(), n = [];
            i.sort(function(t, e) {
                return t.lvl - e.lvl;
            });
            var r = o(i, function(t) {
                return t.e === a;
            }) + 1;
            return r >= 0 && r < i.length && (n = i.slice(r, i.length)), n;
        }, t.prototype.getCurrentHearts = function() {
            return this.inPVP ? (h.Util.isValid(this.pvpHP) || (this.pvpHP = this.getMaxHearts()), 
            this.pvpHP) : h.Util.isValid(this.data.hp) ? (this.data.hp > this.getMaxHearts() && (this.data.hp = this.getMaxHearts()), 
            this.data.hp) : this.getMaxHearts();
        }, t.prototype.getMaxHearts = function(e) {
            var i = h.Util.isValid(e) ? e : this.getLevel();
            return t.getHeartsFromCurve(this.type, 1, i);
        }, t.prototype.getBaseMaxHearts = function(t) {
            return this.getMaxHearts(t);
        }, t.prototype.updateModifier = function(t, e) {
            if ("potion" === t) {
                if (this.modifiers.potion = e, null !== e) {
                    var i = c.Items.getItem("item", e).data;
                    this.game.prodigy.network.sendAnalytics("potion-use-activity", i.name, "Events");
                }
            } else "barrier" === t ? this.modifiers.barrier = e : h.Util.isValid(this.modifiers[t]) && (this.modifiers[t] += e, 
            this.modifiers[t] <= 0 && (this.modifiers[t] = .01));
        }, t.prototype.changeCurrentHearts = function(t, e) {
            void 0 === e && (e = 0);
            var i = this.getCurrentHearts() + t;
            i < e && (i = e), i > this.getMaxHearts() && (i = this.getMaxHearts()), 
            this.inPVP ? this.pvpHP = Math.round(i) : this.data.hp = Math.round(i), 
            this.updated = !0;
        }, t.prototype.processStars = function() {
            this.starsToProcess > 0 ? this.addStars(this.starsToProcess) : this.game.broadcaster.broadcast(l.ECreatureEvents.AnimationDone, this);
        }, t.prototype.addStars = function(e, i, a, n) {
            if (void 0 === i && (i = !1), void 0 === a && (a = !1), void 0 === n && (n = !1), 
            this.isOpponent) return !1;
            var o = Math.round(e), r = !1;
            if (i) {
                var c = this.game.prodigy.player;
                return c.hasValidatedParentEmail() && c.hasCompletedTutorial() && (o *= s.GameConstants.get("GameConstants.Battle.VALID_PARENT_EMAIL_STARS_PERCENTAGE")), 
                this.starsToProcess += o, !1;
            }
            this.starsToProcess = 0;
            var p = this.getLevel();
            if (this.game.broadcaster.broadcast(l.ECreatureEvents.StarsAdded, this, null), 
            p >= 100) return !1;
            if (h.Util.isValid(this.data.stars) ? this.data.stars += o : this.data.stars = o, 
            a || (this.starsEarned += o), this.data.level = t.levelFromStars(this.data.stars), 
            p !== this.data.level) {
                this.levelEvents = [];
                var u = this.data.level - p;
                if (u > 0 && this.game.prodigy.player.data === this.data) for (var d = p + 1; d <= this.data.level; d++) this.game.prodigy.network.sendAdvancedEvent("game_level_up", {}, !0);
                this.justLeveled = !0, r = !0, this.game.broadcaster.broadcast(l.ECreatureEvents.LevelUp, this, [ u ]);
            }
            return n && this.clearUnprocessedLevelEvents(), this.updated = !0, r;
        }, t.prototype.getUnprocessedLevelEvents = function() {
            return this.levelEvents;
        }, t.prototype.hasHeartsEventInQueue = function() {
            return r(this.levelEvents, function(t) {
                return h.Util.isValid(t.h);
            });
        }, t.prototype.getStarsToLevel = function() {
            var e = this.getStars(), i = t.starsToLevel(this.getLevel());
            return Math.max(0, i - e);
        }, t.prototype.getPercentToLevel = function() {
            if (this.getLevel() >= 100) return 0;
            var e = t.starsToLevel(this.getLevel() - 1), i = t.starsToLevel(this.getLevel());
            return (this.getStars() - e) / (i - e);
        }, t.prototype.getStars = function() {
            return n(this.data, "stars", 0);
        }, t.prototype.getStarRewardByDamage = function(t) {
            var e = this.getMaxHearts(this.getLevel()), i = this.getCurrentHearts(), a = 0, n = t;
            return n >= i ? (n = i, (a = Math.floor(this.starsRewardBase * (n / e))) < this.starsReward && (a = this.starsReward)) : a = Math.floor(this.starsRewardBase * (n / e)), 
            a <= 0 && (a = 1), this.starsReward -= a, a;
        }, t.prototype.getStarReward = function() {
            return 0;
        }, t.prototype.getLevel = function() {
            return n(this.data, "level", 1);
        }, t.prototype.getLevelingCurve = function(t) {
            return [];
        }, t.prototype.getElement = function() {
            return "wizard";
        }, t.prototype.getDamageBonus = function() {
            return 0;
        }, t.prototype.getDrops = function() {
            return [];
        }, t.prototype.getSourceName = function() {
            return "";
        }, t.prototype.getName = function() {
            return null;
        }, t.prototype.clearUnprocessedLevelEvents = function() {
            this.levelEvents = [];
        }, t.MAX_HEARTS = 8e3, t.HP_BONUS = {
            "A+": 4,
            A: 3,
            "A-": 2,
            "B+": 1,
            B: 0,
            "B-": -1,
            "C+": -2,
            C: -3,
            "C-": -4
        }, t;
    }();
    e.Creature = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, "MAP_LAMPLIGHT_PET_PARK", 0, 0, [], a, n) || this;
            return o.zoneName = null, o.isScene = !0, o.isScene = !0, o.loadingData = {
                fadeIn: !0,
                time: 1,
                fadeOut: !0,
                save: !1
            }, o;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            this.zone.hideFollow(i), e.prodigy.player.saveEnabled = !1, i.walkEnabled = !1, 
            i.user.clickEnabled = !1, i.menuBar.show(!1), e.prodigy.notifications.stopFriendTimer(), 
            e.prodigy.notifications.clearNotifications(), t.prototype.setup.call(this, e, i, a);
        }, e.prototype.start = function(e, i, a) {
            t.prototype.start.call(this, e, i, a);
        }, e.prototype.end = function(t, e) {}, e.prototype.enterScene = function(t, e, i) {
            this.sceneTop = e.menus.add(new Phaser.TileSprite(t, 0, -50, 1280, 50, "atlas-161", "overlay-small")), 
            this.sceneBot = e.menus.add(new Phaser.TileSprite(t, 0, 720, 1280, 50, "atlas-161", "overlay-small"));
            var a = t.add.tween(this.sceneTop).to({
                y: 0
            }, 1e3, Phaser.Easing.Quadratic.Out).start();
            o.Util.isValid(i) && a.onComplete.add(i), t.add.tween(this.sceneBot).to({
                y: 670
            }, 1e3, Phaser.Easing.Quadratic.Out).start(), e.user.unmount();
        }, e;
    }(i(7).Map);
    e.Scene = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(4), s = i(0), l = function(t) {
        function e(e, i, a, n) {
            void 0 === n && (n = {
                hideMenu: !0,
                hideContent: !0,
                tile: "bg-tile-brown"
            });
            var o = t.call(this, e, i) || this;
            return o.menuID = -1, o.style = null, o.btns = [], o.currentBtn = null, 
            o.setupComplete = !1, o.overlay = null, o.isHidden = !1, o.spinner = null, 
            o.bg = null, o.fg = null, o.title = null, o.bar = null, o.barSpeedX = 0, 
            o.barSpeedY = 0, o.menuID = a, o.style = n, e.prodigy.open.menuOpen(!o.style.hideMenu), 
            s.Util.isValid(o.game.prodigy.notifications) && o.game.prodigy.notifications.clearNotifications(), 
            o.style.hideOverlay || (o.overlay = o.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small"), 
            o.overlay.width = o.game.world.width, o.overlay.height = o.game.world.height, 
            o.overlay.alpha = .01, o.overlay.inputEnabled = !0, o.add(o.overlay)), 
            o;
        }
        return n(e, t), e.prototype.hide = function(t) {
            void 0 === t && (t = !1), t ? (this.isHidden = !0, this.visible = !1) : this.isHidden && (this.isHidden = !1, 
            this.visible = !0);
        }, e.prototype.onMenuOpen = function(t) {}, e.prototype.setup = function() {
            this.loadComplete();
        }, e.prototype.update = function() {
            t.prototype.update.call(this), this.setupComplete && this.menuUpdate();
        }, e.prototype.loadComplete = function() {
            this.alive && (s.Util.isValid(this.spinner) && this.spinner.destroy(), 
            this.menuSetup());
        }, e.prototype.menuSetup = function() {
            s.Util.isValid(this.style.open) && this.style.open(), this.bg = this.game.prodigy.create.element(this, 0, 0), 
            s.Util.isValid(this.style.tile) && this.setBackgroundTile("atlas-161", this.style.tile, .25, .25, this.style.full), 
            this.fg = this.game.prodigy.create.element(this, 0, 0), this.style.hideContent && (this.game.broadcaster.broadcast(o.EScreenEvents.EnableBackground, this, [ !1 ]), 
            this.game.broadcaster.broadcast(o.EScreenEvents.EnableContent, this, [ !1 ]));
        }, e.prototype.close = function() {
            s.Util.isValid(this.game) && (this.style.hideContent && (this.game.broadcaster.broadcast(o.EScreenEvents.EnableBackground, this, [ !0 ]), 
            this.game.broadcaster.broadcast(o.EScreenEvents.EnableContent, this, [ !0 ])), 
            this.game.prodigy.open.menuOpen(!0), s.Util.isValid(this.style.close) && this.style.close(), 
            this.game.prodigy.open.close(this), this.destroy());
        }, e.prototype.showFrame = function(t, e, i, a) {
            if (void 0 === a && (a = null), this.fg.add(new Phaser.TileSprite(this.game, 0, 0, this.game.world.width, 50, "atlas-161", "panel-mid")), 
            this.fg.add(new Phaser.TileSprite(this.game, 0, 50, this.game.world.width, 50, "atlas-161", "panel-top2")), 
            this.fg.add(new Phaser.TileSprite(this.game, 0, 620, this.game.world.width, 50, "atlas-161", "panel-top")), 
            this.fg.add(new Phaser.TileSprite(this.game, 0, 670, this.game.world.width, 50, "atlas-161", "panel-mid")), 
            s.Util.isValid(t)) {
                this.fg.add(this.game.prodigy.create.sprite(30, 5, "atlas-21", "icon-base"));
                var n = this.fg.add(this.game.prodigy.create.sprite(30, 5, r.Items.getIconAtlas(t), r.Items.getIconFrame(t), null, null, 80, 80));
                n.x += Math.floor(.5 * (80 - n.width)), n.y += Math.floor(.5 * (80 - n.height));
            }
            if (s.Util.isValid(e) && (this.title = this.game.prodigy.create.font(this.fg, 125, 10, e, {
                fontID: 9,
                size: 36
            })), s.Util.isValid(i)) {
                var o = this.game.prodigy.create.element(this.fg, 0, 5);
                this.btns = [];
                for (var l = 0; l < i.length; l++) {
                    var h = i[l];
                    o.add(this.game.prodigy.create.sprite(90 * l, 0, "atlas-21", "icon-base-active")), 
                    this.btns[l] = this.game.prodigy.create.button(o, 90 * l, 0, r.Items.getIconAtlas(h.icon), r.Items.getIconFrame(h.icon), this.clickBtn.bind(this, l, this.btns, h.callback, h.title), null, null, !1, 80, 80), 
                    this.btns[l].oldY = this.btns[l].y;
                }
                o.x = 1250 - o.width, s.Util.isValid(a) && this.btns[a].onDown();
            }
        }, e.prototype.clickBtn = function(t, e, i, a) {
            if (this.currentBtn !== t) {
                this.currentBtn = t, s.Util.isValid(a) && s.Util.isValid(this.title) && this.title.setText(a);
                for (var n = 0; n < e.length; n++) this.resetButton(n, e);
                this.game.add.tween(e[t]).to({
                    y: e[t].y - 10
                }, 500, Phaser.Easing.Quadratic.Out).to({
                    y: e[t].y
                }, 500, Phaser.Easing.Quadratic.In).loop().start(), i();
            }
        }, e.prototype.resetButton = function(t, e) {
            void 0 === e && (e = this.btns), this.game.tweens.removeFrom(e[t], !1), 
            e[t].y = e[t].oldY;
        }, e.prototype.showBtns = function(t, e) {
            if (s.Util.isValid(e)) for (var i = 0, a = e.length - 1; a >= 0; a--) e[a].y = 650, 
            i += e[a].width, e[a].x = 1230 - i, i += 30;
            if (s.Util.isValid(t)) for (i = 0, a = 0; a < t.length; a++) t[a].y = 650, 
            t[a].x = i + 50, i += t[a].width + 30;
        }, e.prototype.menuUpdate = function() {
            s.Util.isValid(this.bar) && (this.bar.tilePosition.x += this.barSpeedX, 
            this.bar.tilePosition.y += this.barSpeedY);
        }, e.prototype.setBackgroundTile = function(t, e, i, a, n) {
            s.Util.isValid(this.bar) && this.bar.destroy(), this.bg.removeAll(!0), 
            this.bar = n ? new Phaser.TileSprite(this.game, 0, 0, this.game.world.width, this.game.world.height, t, e) : new Phaser.TileSprite(this.game, 0, 100, this.game.world.width, this.game.world.height - 200, t, e), 
            this.bar.tilePosition.x = -6, this.bar.tilePosition.y = -20, this.bg.add(this.bar), 
            s.Util.isValid(i) && (this.barSpeedX = i), s.Util.isValid(a) && (this.barSpeedY = a);
        }, e;
    }(i(5).Element);
    e.LegacyMenu = l;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t.StoreService = "StoreService", t.HttpClient = "HttpClient", t.SessionRecorder = "ISessionRecorder";
    }(e.ProdigyInjectionIdentifiers || (e.ProdigyInjectionIdentifiers = {}));
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(16), s = i(0), l = function(t) {
        function e(e, i, a, n, o, r) {
            var s = t.call(this, e, i, {
                name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_TOY_MERCHANT"),
                npc: !0
            }, null, a, n) || this;
            return s.tweens = [], s.epicName = o, s.zone = r, s.setup(), s.onDestroy.add(s.handleDestroy.bind(s)), 
            s;
        }
        return n(e, t), e.prototype.handleDestroy = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this);
        }, e.prototype.setup = function() {
            var t = this, e = "atlas-90", i = "machav2-";
            this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), 
            this.shadow = this.sprite.add(this.game.prodigy.create.sprite(19, 19, e, i + "shadow")), 
            this.shadow.anchor.setTo(.5, .5), this.body = this.sprite.add(this.game.prodigy.create.sprite(-4, -43, e, i + "body1")), 
            this.head = this.sprite.add(this.game.prodigy.create.sprite(-17, -107, e, i + "head1")), 
            s.Util.isValid(this.epicName) && "default" !== this.epicName || this.sprite.add(this.game.prodigy.create.sprite(50, -150, e, "toy-merchant-cart"));
            for (var a = 0; a < this.sprite.children.length; a++) this.sprite.children[a].inputEnabled = !0, 
            s.Util.isValid(this.epicName) && s.Util.isValid(this.zone) && "default" !== this.epicName || this.sprite.children[a].events.onInputDown.add(this.clicked.bind(this));
            this.sprite.x -= Math.floor(this.sprite.width / 2), this.standTween = [], 
            this.standTween.push(new r.TweenController(this.head)), this.standTween[0].set("y", [ this.head.y, this.head.y + 1, this.head.y + 2, this.head.y + 3, this.head.y + 4, this.head.y + 3, this.head.y + 2, this.head.y + 1 ], 150, 9999), 
            this.standTween.push(new r.TweenController(this.head)), this.standTween[1].set("frameName", [ i + "head1", i + "head2", i + "head3", i + "head4", i + "head1", i + "head6", i + "head7", i + "head8" ], 150, 9999), 
            this.standTween.push(new r.TweenController(this.body)), this.standTween[2].set("y", [ this.body.y, this.body.y + 1, this.body.y + 2, this.body.y + 3, this.body.y + 4, this.body.y + 3, this.body.y + 2, this.body.y + 1 ], 150, 9999), 
            this.standTween.push(new r.TweenController(this.body)), this.standTween[3].set("frameName", [ i + "body1", i + "body2", i + "body1", i + "body2", i + "body1", i + "body2", i + "body1", i + "body2" ], 150, 9999), 
            this.standTween.push(new r.TweenController(this.shadow)), this.standTween[4].set("scale", [ {
                x: 1,
                y: 1
            }, {
                x: 1.1,
                y: 1.1
            }, {
                x: 1.2,
                y: 1.2
            }, {
                x: 1.3,
                y: 1.3
            }, {
                x: 1.3,
                y: 1.3
            }, {
                x: 1.2,
                y: 1.2
            }, {
                x: 1.1,
                y: 1.1
            }, {
                x: 1,
                y: 1
            } ], 150, 9999), this.standTween.push(new r.TweenController(this.shadow)), 
            this.standTween[5].set("alpha", [ .2, .3, .4, .5, .5, .4, .3, .2 ], 150, 9999), 
            this.stand(), o.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
                ID: "autoclick-mapEvent-toyMerchant",
                context: this,
                callback: function() {
                    return {
                        x: t.x,
                        y: t.y
                    };
                }
            });
        }, e.prototype.update = function() {
            t.prototype.update.call(this);
            for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update();
        }, e.prototype.walk = function() {
            this.stand();
        }, e.prototype.stand = function() {
            this.tweens = this.standTween;
            for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start();
        }, e.prototype.clicked = function() {
            var t = this.game.prodigy.event.create();
            s.Util.isValid(this.epicName) && s.Util.isValid(this.zone) && "default" !== this.epicName ? "Arctursus" === this.epicName ? s.Util.isValid(this.zone.getState("a1Visited")) && !1 !== this.zone.getState("a1Visited") ? t.text(8, "toy") : (t.text(3, "toy"), 
            t.function(this.zone.setState.bind(this.zone, "a1Visited", !0))) : "Florafox" === this.epicName ? s.Util.isValid(this.zone.getState("a2Visited")) && !1 !== this.zone.getState("a2Visited") ? t.text(8, "toy") : (t.text(4, "toy"), 
            t.function(this.zone.setState.bind(this.zone, "a2Visited", !0))) : "BigHex" === this.epicName ? s.Util.isValid(this.zone.getState("b1Visited")) && !1 !== this.zone.getState("b1Visited") ? t.text(8, "toy") : (t.text(5, "toy"), 
            t.function(this.zone.setState.bind(this.zone, "b1Visited", !0))) : "Magmischief" === this.epicName ? s.Util.isValid(this.zone.getState("c1Visited")) && !1 !== this.zone.getState("c1Visited") ? t.text(8, "toy") : (t.text(6, "toy"), 
            t.function(this.zone.setState.bind(this.zone, "c1Visited", !0))) : "Diveodile" === this.epicName ? s.Util.isValid(this.zone.getState("c2Visited")) && !1 !== this.zone.getState("c2Visited") ? t.text(8, "toy") : (t.text(7, "toy"), 
            t.function(this.zone.setState.bind(this.zone, "c2Visited", !0))) : "Arena" === this.epicName && t.text(8, "toy") : (t.text(0, "toy"), 
            t.text(1, "toy"), t.function(this.game.prodigy.open.toyStore.bind(this.game.prodigy.open))), 
            t.start();
        }, e;
    }(i(14).CreatureContainer);
    e.ToyMerchant = l;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t() {
            this.gameObject = null;
        }
        return t.prototype.create = function() {}, t.prototype.update = function() {}, 
        t.prototype.destroy = function() {}, t.prototype.hasUniqueInstance = function() {
            return !1;
        }, t;
    }();
    e.Component = a;
}, function(t, e, i) {
    var a = i(164), n = i(159);
    t.exports = function(t) {
        return null != t && n(t.length) && !a(t);
    };
}, function(t, e) {
    t.exports = function(t) {
        return null != t && "object" == typeof t;
    };
}, function(t, e) {
    t.exports = function(t) {
        var e = typeof t;
        return null != t && ("object" == e || "function" == e);
    };
}, function(t, e, i) {
    var a = i(286), n = "object" == typeof self && self && self.Object === Object && self, o = a || n || Function("return this")();
    t.exports = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e) || this;
            return a.data.level = i.level, a.source = i, a;
        }
        return n(e, t), e.prototype.getAttacks = function(t) {
            return this.source.attacks || [];
        }, e.prototype.getMaxHearts = function() {
            return this.source.maxHP;
        }, e.prototype.getName = function() {
            return this.source.name;
        }, e.prototype.getElement = function() {
            return this.source.element;
        }, e.prototype.getID = function() {
            return this.source.ID;
        }, e.prototype.getStarReward = function() {
            return o.Util.isValid(this.source.starBonus) ? this.source.starBonus : t.prototype.getStarReward.call(this);
        }, e.prototype.canCatch = function(t) {
            return !1;
        }, e.prototype.chooseAction = function(t, e, i, a, n) {}, e;
    }(i(38).Creature);
    e.Boss = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(i, a, n, o, r) {
            var s = t.call(this, i, a, n, 2, o, r) || this;
            return s.game = i, s.source = n, s.assets = e.getAssets(s.source), s;
        }
        return n(e, t), e.prototype.startLoad = function() {
            t.prototype.startLoad.call(this), this.loading = !0, this.assets = e.getAssets(this.source), 
            this.game.prodigy.load.assets(this.assets, this.setup.bind(this));
        }, e.prototype.setup = function(t) {
            if (o.Util.isValid(this.game) && t && o.Util.isValid(this.assets)) {
                this.sprites.removeAll(!0);
                var e, i = this.assets[0];
                e = this.game.prodigy.assets.getImageBounds(i), this.body = this.game.prodigy.create.sprite(0, 0, i), 
                this.sprites.add(this.body), this.body.x = -e[0], this.body.y = -e[3];
                var a = null;
                try {
                    this.sprites.callAll("animations.add", "animations", "walk", [ 0, 1, 2, 3, 4, 5, 6, 7 ], 10, !0, !0), 
                    this.sprites.callAll("animations.add", "animations", "stand", [ 0, 1, 2, 3, 4, 5, 6, 7 ], 10, !0, !0), 
                    a = this.body.animations.add("attack", [ 8, 9, 10, 11, 12, 13, 14, 15 ], 10);
                } catch (t) {
                    this.sprites.callAll("animations.add", "animations", "walk", [ 0 ], 10, !0, !0), 
                    this.sprites.callAll("animations.add", "animations", "stand", [ 0 ], 10, !0, !0), 
                    a = this.body.animations.add("attack", [ 0 ], 10);
                }
                a.onComplete.add(this.stand, this), this.sprites.callAll("play", null, "stand"), 
                this.complete = !0, this.loading = !1;
            }
        }, e.prototype.attack = function() {
            try {
                this.sprites.callAll("play", null, "attack");
            } catch (t) {
                o.Util.log("Error trying to play BossContainer Attack animation", o.Util.ERROR);
            }
        }, e.getAssets = function(t) {
            return [ "default-boss-" + t.getID() ];
        }, e;
    }(i(14).CreatureContainer);
    e.BossContainer = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this) || this;
            return a.resetAfterDrag = !1, a.source = e, a.metadata = i, a.onLoaded = new Phaser.Signal(), 
            a;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this);
        }, e.prototype.setAnchor = function(t, e) {}, e.prototype.setScale = function(t, e) {}, 
        e.prototype.getScale = function() {
            return new Phaser.Point(1, 1);
        }, e.prototype.setAlpha = function(t) {}, e.prototype.getWorld = function() {
            return new Phaser.Point();
        }, e.prototype.getWidth = function() {
            return 0;
        }, e.prototype.getHeight = function() {
            return 0;
        }, e.prototype.getEvents = function() {
            return null;
        }, e.prototype.setInputEnabled = function(t) {
            void 0 === t && (t = !0);
        }, e.prototype.enableDragging = function(t, e, i, a) {}, e.prototype.disableDragging = function() {}, 
        e.prototype.getBounds = function() {
            return new Phaser.Rectangle(0, 0, 0, 0);
        }, e.prototype.resetToOrigin = function() {}, e.prototype.hasAnimations = function() {
            return !1;
        }, e.prototype.getAnimationLength = function(t) {
            return 0;
        }, e.prototype.playAnimation = function(t, e, i) {}, e.prototype.setAsset = function(t, e) {}, 
        e.prototype.getInputHandler = function() {
            return null;
        }, e.prototype.hasUniqueInstance = function() {
            return !0;
        }, e;
    }(i(43).Component);
    e.Renderer = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(3), s = i(34), l = i(854), h = i(250), c = i(0), p = i(849), u = function(t) {
        function e(e, i, a, n) {
            void 0 === i && (i = "zero"), void 0 === a && (a = ""), void 0 === n && (n = []);
            var o = t.call(this) || this;
            return o.screenData = null, o.showMenu = !1, o.game = e, o.screenName = a, 
            o.zoneName = i, o.assets = n, o;
        }
        return n(e, t), e.prototype.initListeners = function() {
            this.game.broadcaster.addAppListener(r.EScreenEvents.AddChild, this.onAddChild.bind(this), this, this.game), 
            this.game.broadcaster.addAppListener(r.EScreenEvents.GetLayer, this.onGetLayer.bind(this), this, this.game), 
            this.game.broadcaster.addAppListener(r.EScreenEvents.EnableBackground, this.onEnableBackground.bind(this), this, this.game), 
            this.game.broadcaster.addAppListener(r.EScreenEvents.EnableContent, this.onEnableContent.bind(this), this, this.game);
        }, e.prototype.stopListeners = function() {
            this.game.broadcaster.removeAppListener(r.EScreenEvents.AddChild, this, this.game), 
            this.game.broadcaster.removeAppListener(r.EScreenEvents.GetLayer, this, this.game), 
            this.game.broadcaster.removeAppListener(r.EScreenEvents.EnableBackground, this, this.game), 
            this.game.broadcaster.removeAppListener(r.EScreenEvents.EnableContent, this, this.game);
        }, e.prototype.onEnableBackground = function(t) {
            this.background.visible = t, this.foreground.visible = t;
        }, e.prototype.onEnableContent = function(t) {
            this.content.visible = t;
        }, e.prototype.onAddChild = function(t, e, i) {
            c.Util.isValid(this.stage) && c.Util.isValid(this[e]) && (c.Util.isValid(i) ? this[e].addChildAt(t, i) : this[e].addChild(t));
        }, e.prototype.onGetLayer = function(t) {
            return c.Util.isValid(this.stage) && c.Util.isValid(this[t]) ? this[t] : null;
        }, e.prototype.shutdown = function() {
            this.game.prodigy.cleanup(), this.stopListeners(), this.game.prodigy.network.stopInactiveTimer(), 
            this.background.destroy(), this.content.destroy(), this.foreground.destroy(), 
            this.menus.destroy(), this.dialogue.destroy(), this.overlay.destroy(), 
            this.opaque.destroy(), this.background = null, this.content = null, 
            this.foreground = null, this.menus = null, this.dialogue = null, this.overlay = null, 
            this.opaque = null, t.prototype.shutdown.call(this, this.game);
        }, e.prototype.preload = function() {
            if (this.background = this.game.add.group(), this.content = this.game.add.group(), 
            this.foreground = this.game.add.group(), this.menus = this.game.add.group(), 
            this.dialogue = this.game.add.group(), this.overlay = this.game.add.group(), 
            this.opaque = this.game.add.group(), this.opaque.add(new Phaser.TileSprite(this.game, 0, 0, 1280, 720, "atlas-161", "load")).inputEnabled = !0, 
            o.GameConstants.get("GameConstants.Build.DEBUG")) {
                this.debugLayout = new l.DebugLayout(), this.menus.add(new s.GameObject(this.game, this.menus, [ this.debugLayout ]));
                var e = o.GameConstants.get("GameConstants.Build.SHOW_DEBUG_VALUES");
                o.GameConstants.get("GameConstants.Build.SHOW_FPS") && e.indexOf("AVERAGE_FPS") < 0 && e.push("AVERAGE_FPS");
                for (var i = 0; i < e.length; ++i) {
                    var a = h[e[i]];
                    c.Util.isValid(a) && this.debugLayout.addRenderer(new a());
                }
            }
            this.game.prodigy.open.menuLayer = this.menus, this.game.prodigy.dialogue.create().menuLayer = this.dialogue, 
            this.game.prodigy.effects.setSource(this), t.prototype.preload.call(this, this.game), 
            this.initListeners(), this.game.prodigy.network.startInactiveTimer();
        }, e.prototype.create = function(e) {
            t.prototype.create.call(this, this.game), this.screenSetup(), this.complete = !0;
        }, e.prototype.fadeIn = function() {
            this.fadeInSet ? this.game.add.tween(this.opaque).to({
                alpha: 0
            }, 1e3, Phaser.Easing.Quadratic.Out).start().onComplete.add(this.start.bind(this, !0, !1)) : (this.opaque.visible = !1, 
            this.start(!0, !1));
        }, e.prototype.fadeOut = function(t, e) {
            (this.opaque.visible = !0, this.game.prodigy.notifications.notificationPlayed(), 
            this.game.prodigy.notifications.stopFriendTimer(), t) ? this.game.add.tween(this.opaque).to({
                alpha: 1
            }, 1e3, Phaser.Easing.Quadratic.Out).start().onComplete.add(e) : e();
        }, e.prototype.start = function(t, e) {
            this.opaque.visible = !1;
        }, e.prototype.update = function() {
            t.prototype.update.call(this, this.game), this.complete && this.screenUpdate();
        }, e.prototype.screenSetup = function() {
            this.start();
        }, e.prototype.screenUpdate = function() {
            this.game.prodigy.update();
        }, e.prototype.showMessage = function(t, e) {
            c.Util.isValid(this.msg) || (this.msg = new p.ScreenMessage(this.game, this.overlay, 140, 10)), 
            this.msg.setMsg(t, e);
        }, e.prototype.enableOverlay = function(t) {
            void 0 === t && (t = .5), c.Util.isValid(this.rearOverlay) && this.rearOverlay.kill(), 
            this.rearOverlay = this.foreground.add(this.game.prodigy.create.sprite(-10, -10, "atlas-18", "overlay-small")), 
            this.rearOverlay.width = 1300, this.rearOverlay.height = 740, this.rearOverlay.alpha = t, 
            this.rearOverlay.inputEnabled = !0, this.game.add.tween(this.rearOverlay).from({
                alpha: 0
            }, 500, Phaser.Easing.Linear.None, !0);
        }, e.prototype.disableOverlay = function(t) {
            var e = this;
            if (c.Util.isValid(this.rearOverlay)) {
                var i = this.game.add.tween(this.rearOverlay).to({
                    alpha: 0
                }, 500, Phaser.Easing.Linear.None);
                i.onComplete.add(function() {
                    e.rearOverlay.kill(), c.Util.isValid(t) && t();
                }, this), i.start();
            }
        }, e;
    }(Phaser.State);
    e.Screen = u;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = i(238), o = i(237), r = i(792), s = function() {
        function t() {}
        return t.createRenderer = function(t, e) {
            switch (e.type) {
              case "spine":
                return new n.SpineRenderer(t, e);

              case "singleImage":
                return new o.SpriteRenderer(t, e);

              case "spritesheet":
                return new r.SpritesheetRenderer(t, e);

              default:
                return new o.SpriteRenderer(t, e);
            }
        }, t.createRendererWithItem = function(e, i, n) {
            var o = null;
            return o = a.Util.isValid(n.type) ? e + "-" + i : "icon-" + e + "-" + i, 
            t.createRenderer(o, n);
        }, t;
    }();
    e.RenderFactory = s;
}, function(t, e, i) {
    var a = i(987), n = i(940), o = i(82), r = i(19), s = i(932);
    t.exports = function(t) {
        return "function" == typeof t ? t : null == t ? o : "object" == typeof t ? r(t) ? n(t[0], t[1]) : a(t) : s(t);
    };
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t.FSMController = "FSMController", t.FSMFactories = "FSMFactories", t.FSMDataProvider = "FSMDataProvider", 
        t.FSMService = "FSMService", t.LocalizationData = "LocalizationData", t.LocalizationService = "LocalizationService", 
        t.LoggerService = "LoggerService";
    }(e.GameIdentifiers || (e.GameIdentifiers = {}));
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), o.Util.isValid(this.monsterCoords)) {
                var n = this.game.prodigy.gameContainer.Localizer.getText("NO_CATCHING_MONSTER_ON_ISLAND");
                if (this.zone.hasDailyQuestExpired() || this.zone.isDailyQuestComplete()) this.defaultMonsterSetup(e, i, n); else if (0 === this.zone.getState("dailyQuest").questId) if (this.zone.getState("dailyQuest").questState[this.mapId]) this.defaultMonsterSetup(e, i, n); else for (var r = this.zone.getMonsterId(), s = Math.floor(this.game.seededRandom.frac(this.zone.getState("dailyQuest").dateId) * this.mapId) % this.monsterCoords.length, l = {
                    randDir: !0,
                    encounter: this.zone.getMonsterList(),
                    catchOverrideMessage: n
                }, h = {
                    randDir: !0,
                    encounter: [ r ],
                    catchOverrideMessage: n,
                    highlight: !0,
                    dailyQuest: this.mapId,
                    zoneID: this.zone.ID,
                    drops: [ {
                        type: "currency",
                        ID: 9,
                        N: 2
                    } ]
                }, c = !1, p = 0; p < this.monsterCoords.length; p++) p !== s ? (c = o.Util.isValid(this.mapMonsters[p + 1]) && o.Util.isValid(this.mapMonsters[p + 1].data) && o.Util.isValid(this.mapMonsters[p + 1].data.ID) && this.mapMonsters[p + 1].data.ID === r.ID, 
                this.addMonster(e, i, p + 1, this.monsterCoords[p].x, this.monsterCoords[p].y, !1, l, !1, null, c)) : this.addMonster(e, i, p + 1, this.monsterCoords[p].x, this.monsterCoords[p].y, !0, h, !1, null, !0);
            }
        }, e.prototype.start = function(e, i, a) {
            t.prototype.start.call(this, e, i, a);
            var n = this.game.prodigy.event.create();
            if (o.Util.isValid(this.zone.getState("questCompleteDialogue")) && !1 === this.zone.getState("questCompleteDialogue") && this.zone.isDailyQuestComplete()) {
                var r = this.zone.ID.replace("_", "-");
                this.game.prodigy.network.sendAnalytics(r + "-quests", "quests-completed-MVP", "Events"), 
                n.text(41, "noot"), n.function(this.zone.setState.bind(this.zone, "questCompleteDialogue", !0)), 
                n.start();
            } else o.Util.isValid(this.zone.getState("questExpiredDialogue")) && !1 === this.zone.getState("questExpiredDialogue") && !1 === this.zone.getState("handedOverQuest") && this.zone.hasDailyQuestExpired() && (n.text(166, "noot"), 
            n.function(this.zone.setState.bind(this.zone, "questExpiredDialogue", !0)), 
            n.start());
        }, e.prototype.defaultMonsterSetup = function(t, e, i) {
            for (var a = {
                randDir: !0,
                encounter: this.zone.getMonsterList(),
                catchOverrideMessage: i
            }, n = 0; n < this.monsterCoords.length; n++) this.addMonster(t, e, n + 1, this.monsterCoords[n].x, this.monsterCoords[n].y, !1, a);
        }, e;
    }(i(7).Map);
    e.ActivityZoneMap = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(12), s = i(4), l = i(29), h = i(0), c = i(18), p = i(32), u = function(t) {
        function e(i, a, n, o, r) {
            var s = t.call(this, i, a, 0, 0, i.prodigy.textureMenu) || this;
            if (s.currentConfigIndex = 0, s.analyticEvents = {}, s.membershipParentOpen = !1, 
            s.gearIcons = [], s.onClose = o, e.callback = s.finishUpgrade.bind(s), 
            s.currentConfigIndex = null, h.Util.isValid(r) && (s.analyticEvents = r), 
            h.Util.isValid(n)) for (var l = 0; l < e.featureIconConfigs.length; l++) if (n === e.featureIconConfigs[l]) {
                s.currentConfigIndex = l;
                break;
            }
            h.Util.isValid(s.analyticEvents.upgradeButtonClick) && (h.Util.isValid(s.analyticEvents.upgradeButtonClick.action) || (h.Util.log("MemberPanelAd - analyticEvents.upgradeButtonClick was provided but action property was missing.  Defaulting to action='upgradeButtonClick'", h.Util.ERROR), 
            s.analyticEvents.upgradeButtonClick.action = "upgradeButtonClick")), 
            s.analyticEvents.conversionFunnelName = h.Util.isValid(s.analyticEvents.conversionFunnelName) ? s.analyticEvents.conversionFunnelName : "", 
            s.analyticEvents.conversionFunnelMetadata = h.Util.isValid(s.analyticEvents.conversionFunnelMetadata) ? s.analyticEvents.conversionFunnelMetadata : "", 
            s.create();
            try {
                var c = h.Util.isValid(s.currentConfigIndex) ? e.featureIconConfigs[s.currentConfigIndex].trackingEvent : "unknown";
                s.game.prodigy.network.sendEvent("member-ad", {
                    status: "open",
                    type: "new",
                    feature: c
                });
            } catch (t) {}
            return s;
        }
        return n(e, t), e.reconcileConfig = function(t) {
            var i = t;
            return t === e.DEFAULT ? i = e.MEMBER_CHESTS : t === e.PREMIUM_ITEM ? i = e.MEMBER_CHESTS : t === e.BIGGER_ROSTER ? i = e.MEMBER_PETS : t === e.NICKNAME && (i = e.MEMBER_CHESTS), 
            i;
        }, e.prototype.create = function() {
            t.prototype.create.call(this), this.addTransparent(), this.gearIcons = this.generateGearIcons(6, null), 
            this.startLoad([ "atlas-128" ], this.onAssetsLoaded.bind(this));
        }, e.prototype.onAssetsLoaded = function() {
            var t = this, e = 0, i = 502, a = 734, n = 37, o = 0, r = 333, s = 113, l = 143, c = 542, p = 163, u = this.game.prodigy.create.element(this, 0, 0);
            u.setRenderState(!0);
            var d = this.game.prodigy.create.sprite(0, 0, "atlas-128", "popup-box");
            u.add(d);
            var g = h.Util.getCenteredXY(d.width, d.height, 0, 0, this.width, this.height);
            d.x = g.x, d.y = g.y;
            var y = this.generateFeatureIcons(3, this, this.currentConfigIndex);
            if (h.Util.centerItemsWithinContainer(y, {
                x: d.x + s,
                y: d.y + l,
                width: c,
                height: p
            }, !1), !this.game.prodigy.player.hasMembership()) {
                var f = this.game.prodigy.create.button(this, 0, 0, "atlas-128", "member-button", this.onMembershipButtonClick.bind(this, "MemberButton"));
                g = h.Util.getCenteredXY(f.width, f.height, this.x, this.y, this.width, this.height), 
                f.x = g.x + e, f.y = d.y + i;
            }
            var m = this.game.prodigy.create.button(this, 0, 0, "atlas-128", "exit-button", this.close.bind(this));
            m.x = d.x + a, m.y = d.y + n;
            var _ = this.game.prodigy.create.element(this, 0, 0), v = this.game.prodigy.create.sprite(0, 0, "atlas-128", "gear-box");
            _.add(v), g = h.Util.getCenteredXY(v.width, v.height, 0, 0, this.width, this.height), 
            v.x = g.x + o, v.y = d.y + r, v.inputEnabled = !0, v.events.onInputDown.add(this.onMembershipButtonClick.bind(this, "GearPanel")), 
            h.Util.centerItemsWithinContainer(this.gearIcons, v, !1, {
                x: 0,
                y: 24
            }, {
                width: 90,
                height: 90
            }), this.gearIcons.forEach(function(e) {
                t.add(e);
            }, this);
            var E = [];
            (E = E.concat(y).concat(this.gearIcons)).forEach(function(e, i) {
                t.game.add.tween(e).to({
                    y: e.y - 20
                }, 125, Phaser.Easing.Quadratic.InOut, !0, 125 * i, 0, !0);
            }, this), this.process();
        }, e.prototype.getFilteredIconArray = function() {
            var t = this;
            return e.featureIconConfigs.filter(function(e) {
                return !h.Util.isValid(e.splitTestDefinition) || h.Util.inTestGroups.apply(t, [ t.game.prodigy.player, e.splitTestDefinition ]);
            });
        }, e.prototype.generateFeatureIcons = function(t, i, a) {
            for (var n = this.getFilteredIconArray().map(function(t, e) {
                return e;
            }), o = [], r = 0; r < t; r++) {
                var s = 0, c = n[s = 0 === r && h.Util.isValid(a) ? a : l.Random.integerInRange(0, n.length - r)], p = e.featureIconConfigs[c], u = this.game.prodigy.create.button(i, 0, 0, "atlas-128", p.frameName, this.onMembershipButtonClick.bind(this, p.trackingEvent));
                o.push(u);
                var d = n.length - (r + 1);
                n[s] = n[d], n[d] = c;
            }
            return h.Util.isValid(this.analyticEvents.upgradeButtonClick) && this.game.prodigy.network.sendAnalytics(this.analyticEvents.upgradeButtonClick.action, this.analyticEvents.upgradeButtonClick.value, this.analyticEvents.upgradeButtonClick.category), 
            this.process(), o;
        }, e.prototype.generateGearIcons = function(t, e) {
            var i, a, n = null, o = [], r = [ {
                category: "boots",
                count: 0
            }, {
                category: "hat",
                count: 0
            }, {
                category: "outfit",
                count: 0
            }, {
                category: "weapon",
                count: 0
            } ], c = [];
            for (i = 0; i < r.length; i++) {
                var u = s.Items.data[r[i].category];
                for (a = 0; a < u.length; a++) (n = u[a]).category = r[i].category, 
                h.Util.isValid(n.data) && h.Util.isValid(n.data.member) && 1 === n.data.member && (!h.Util.isValid(n.data.memberAd) || n.data.memberAd > 0) && (c.push(n), 
                r[i].count++);
            }
            for (i = 0; i < t; i++) {
                var d = l.Random.integerInRange(0, c.length - i);
                n = c[d], o.push(this.game.prodigy.create.item(e, 0, 0, {
                    ID: n.ID,
                    type: n.category
                }, p.EItemInfoMode.IconNoBackground));
                var g = c.length - (i + 1);
                c[d] = c[g], c[g] = n;
            }
            return o;
        }, e.prototype.onMembershipButtonClick = function(t) {
            if (!this.game.prodigy.player.hasMembership()) {
                try {
                    this.game.prodigy.network.sendEvent("member-ad", {
                        status: "convert",
                        type: "new",
                        feature: t
                    });
                } catch (t) {}
                this.game.prodigy.network.sendAnalytics("Purchase-Membership-Click", t), 
                this.game.prodigy.network.sendConversionFunnelEvent(this.analyticEvents.conversionFunnelName, c.EFunnelEventIDs.StageClickMembership, this.analyticEvents.conversionFunnelMetadata), 
                this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                    type: this.analyticEvents.conversionFunnelName,
                    name: c.EFunnelEventIDs.StageClickMembership
                }, !0), h.Util.isValid(this.analyticEvents.upgradeButtonClick) && this.game.prodigy.network.sendAnalytics(this.analyticEvents.upgradeButtonClick.action, this.analyticEvents.upgradeButtonClick.value, this.analyticEvents.upgradeButtonClick.category);
                var e = this.game.prodigy.player, i = h.Util.isValid(e.locationSelectionType) && e.locationSelectionType === o.default.get("GameConstants.LocationSelection.SCHOOL");
                this.membershipParentOpen || (this.membershipParentOpen = !0, this.game.prodigy.open.membershipParent(this, !i, null, null, this.analyticEvents));
            }
        }, e.prototype.finishUpgrade = function(t) {
            var e = this.game.prodigy.gameContainer.Localizer;
            if (this.game.prodigy.network.startInactiveTimer(), t) {
                var i = null;
                this.game.prodigy.player.setMembership(), i = 0 === this.game.prodigy.player.backpack.hasItem("mount", 1) ? this.game.prodigy.player.rewardMembershipPrizes.bind(this) : this.close.bind(this), 
                this.game.prodigy.open.message(e.getText("MEMBER_AD_SUCCESS_BODY"), i, null, e.getText("MEMBER_AD_SUCCESS_TITLE"));
                try {
                    this.game.prodigy.network.sendEvent("new-member", {});
                } catch (t) {}
            } else this.game.prodigy.open.message(e.getText("MEMBER_AD_PURCHASE_FAILED_BODY"));
        }, e.callback = null, e.DEFAULT = {
            frameName: "icons/iconbox-TEST",
            trackingEvent: "Feature-MemberChests"
        }, e.MEMBER_CHESTS = {
            frameName: "icons/member-chests",
            trackingEvent: "Feature-MemberChests"
        }, e.BUDDIES = {
            frameName: "icons/cute-and-cool-buddies",
            trackingEvent: "Feature-Buddies"
        }, e.HOUSE_ITEMS = {
            frameName: "icons/special-house-furniture",
            trackingEvent: "Feature-HouseItems"
        }, e.NEW_HOUSE = {
            frameName: "icons/new-house",
            trackingEvent: "Feature-NewHouse"
        }, e.MORE_GOLD = {
            frameName: "icons/more-gold",
            trackingEvent: "Feature-MoreGold"
        }, e.MORE_EXP = {
            frameName: "icons/level-faster",
            trackingEvent: "Feature-LevelFaster"
        }, e.WHEEL_SPIN = {
            frameName: "icons/more-spins",
            trackingEvent: "Feature-MoreSpins"
        }, e.MEMBER_PETS = {
            frameName: "icons/catch-more-pets",
            trackingEvent: "Feature-MorePets"
        }, e.CATCH = {
            frameName: "icons/second-catch",
            trackingEvent: "Feature-SecondCatchChance"
        }, e.BOOSTS = {
            frameName: "icons/minigame-boosts",
            trackingEvent: "Feature-MinigameBoosts"
        }, e.STYLE = {
            frameName: "icons/cool-new-styles",
            trackingEvent: "Feature-NewStyles"
        }, e.CLOUD_MOUNT = {
            frameName: "icons/cloud-mount",
            trackingEvent: "Feature-CloudMount"
        }, e.TOWER = {
            frameName: "icons/climb-the-dark-tower",
            trackingEvent: "Feature-DarkTower"
        }, e.VISIT_HOUSE = {
            frameName: "icons/friends-visit-house",
            trackingEvent: "Feature-VisitHouse"
        }, e.POTIONS = {
            frameName: "icons/potions",
            trackingEvent: "Feature-PowerfulPotions"
        }, e.DANCE = {
            frameName: "icons/dab-dance",
            trackingEvent: "Feature-Dab"
        }, e.PREMIUM_ITEM = {
            frameName: "icons/iconbox-TEST",
            trackingEvent: "PremiumItems"
        }, e.BIGGER_ROSTER = {
            frameName: "icons/iconbox-TEST",
            trackingEvent: "BiggerRoster"
        }, e.NICKNAME = {
            frameName: "icons/iconbox-TEST",
            trackingEvent: "Nickname"
        }, e.EVOLVE_PETS = {
            frameName: "icons/evolve-pets",
            trackingEvent: "Nickname"
        }, e.featureIconConfigs = [ e.MEMBER_CHESTS, e.TOWER, e.BUDDIES, e.MORE_GOLD, e.MORE_EXP, e.WHEEL_SPIN, e.MEMBER_PETS, e.CATCH, e.BOOSTS, e.STYLE, e.CLOUD_MOUNT, e.VISIT_HOUSE, e.HOUSE_ITEMS, e.NEW_HOUSE, e.POTIONS, e.DANCE, e.EVOLVE_PETS ], 
        e;
    }(r.RenderMenu);
    e.MemberAd = u;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__assign || Object.assign || function(t) {
        for (var e, i = 1, a = arguments.length; i < a; i++) for (var n in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        return t;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n, o = i(694), r = i(0);
    !function(t) {
        t[t.DEFAULT = 0] = "DEFAULT", t[t.ACHIEVEMENTS = 1] = "ACHIEVEMENTS", t[t.ITEMRARE = 2] = "ITEMRARE", 
        t[t.MEMBERSHIP = 3] = "MEMBERSHIP", t[t.STOREPURCHASE = 4] = "STOREPURCHASE", 
        t[t.MEMBERBOX = 5] = "MEMBERBOX", t[t.PARENTREWARD = 6] = "PARENTREWARD", 
        t[t.ITEMGENERIC = 7] = "ITEMGENERIC", t[t.LAMPLIGHTPURCHASE = 8] = "LAMPLIGHTPURCHASE", 
        t[t.ITEMWHEEL = 9] = "ITEMWHEEL";
    }(n = e.NotificationType || (e.NotificationType = {}));
    var s = function() {
        function t(t) {
            this.game = null, this.isPlaying = !1, this.currentNotification = null, 
            this.notificationQueue = [], this.friendNotificationQueue = [], this.notificationSocialLogin = !1, 
            this.dialogueOpen = !1, this.getFeedDate = null, this.notificationTimer = null, 
            this.friendNotificationTimer = null, this.timerOverride = !1, this.fetchTimeout = 15e4, 
            this.DEFAULT = {
                category: "",
                header: "",
                mapping: [],
                metaData: {}
            }, this.ITEMRARE = {
                category: "item",
                header: "{id} got a super rare item: '{p0}'!",
                mapping: [],
                metaData: {}
            }, this.ACHIEVEMENTS = {
                category: "award",
                header: "{id} ranked up in the '{p0}' Achievement!",
                mapping: [],
                metaData: {}
            }, this.MEMBERSHIP = {
                category: "membership",
                header: "{id} became a Member!",
                mapping: [],
                metaData: {}
            }, this.STOREPURCHASE = {
                category: "item",
                header: "{id} bought the {p0} from the {p1} shop.",
                mapping: [],
                metaData: {}
            }, this.MEMBERBOX = {
                category: "membership",
                header: "{id} opened a Monthly Member Box with cool prizes inside!",
                mapping: [],
                metaData: {}
            }, this.PARENTREWARD = {
                category: "item",
                header: "{id} opened a Parent Reward Box with cool prizes inside!",
                mapping: [],
                metaData: {}
            }, this.ITEMGENERIC = {
                category: "item",
                header: "{id} got the '{p0}' item",
                mapping: [],
                metaData: {}
            }, this.LAMPLIGHTPURCHASE = {
                category: "item",
                header: "{id} bought the {p0} from a shop in Lamplight Town",
                mapping: [],
                metaData: {}
            }, this.ITEMWHEEL = {
                category: "item",
                header: "{id} got the {p0} from the {p1}!",
                mapping: [],
                metaData: {}
            }, this.notificationConfigs = [ this.DEFAULT, this.ACHIEVEMENTS, this.ITEMRARE, this.MEMBERSHIP, this.STOREPURCHASE, this.MEMBERBOX, this.PARENTREWARD, this.ITEMGENERIC, this.LAMPLIGHTPURCHASE, this.ITEMWHEEL ], 
            this.game = t, this.isPlaying = !1;
        }
        return t.prototype.startFriendTimer = function() {
            this.stopFriendTimer(), this.friendNotificationTimer = this.game.time.events.add(this.fetchTimeout, this.getSocialNotifications, this, 3);
        }, t.prototype.stopFriendTimer = function() {
            this.game.time.events.remove(this.friendNotificationTimer), this.friendNotificationTimer = null;
        }, t.prototype.startTimer = function(e) {
            void 0 === e && (e = !1), this.timerOverride && !e || (this.timerOverride = !1, 
            this.stopTimer(), this.notificationTimer = this.game.time.events.add(t.toasterTimeout, this.playNextNotification, this));
        }, t.prototype.stopTimer = function() {
            this.game.time.events.remove(this.notificationTimer), this.notificationTimer = null;
        }, t.prototype.playNextNotification = function() {
            if (!this.isPlaying && 0 === this.game.prodigy.open.menus.length && 0 === this.game.prodigy.open.renderMenus.length && null === this.game.prodigy.open.chatMenu && !this.dialogueOpen) if (this.notificationQueue.length > 0) {
                var t = this.notificationQueue.shift();
                this.playNotification(t.id, t.data, t.callback, t.isSharing);
            } else if (this.friendNotificationQueue.length > 0) {
                t = this.friendNotificationQueue.shift();
                this.playNotification(t.id, t.data, t.callback, t.isSharing);
            }
            this.startTimer();
        }, t.prototype.clearNotifications = function(t) {
            void 0 === t && (t = !1), r.Util.isValid(this.currentNotification) && (this.currentNotification.forceClose(), 
            this.notificationPlayed()), r.Util.isValid(this.notificationTimer) && (this.timerOverride = t, 
            this.stopTimer());
        }, t.prototype.playNotification = function(t, e, i, a) {
            void 0 === i && (i = null), void 0 === a && (a = !0), !this.isPlaying && this.game.prodigy.player.hasCompletedTutorial() ? (this.isPlaying = !0, 
            a ? this.createUserFeed(t, e, "false") : (this.currentNotification = new o.NotificationCell(this.game, this.menuLayer, e, i, null), 
            this.currentNotification.preprocess())) : this.pushNotification({
                id: t,
                data: e,
                callback: i,
                isSharing: a
            });
        }, t.prototype.notificationPlayed = function() {
            this.isPlaying = !1, this.currentNotification = null;
        }, t.prototype.pushNotification = function(t) {
            if (this.notificationQueue.length < 3 && t.id !== n.MEMBERSHIP) this.notificationQueue.unshift(t); else {
                var e = t.id !== n.MEMBERSHIP ? "false" : "true";
                this.game.prodigy.network.createUserFeed(t.id, t.data.metaData, t.data.mapping, e, null, null);
            }
        }, t.prototype.getSocialNotifications = function(t) {
            var e = r.Util.getFriendAndClassmateIds(this.game);
            e.length > 0 && this.notificationQueue.length < 3 && this.game.prodigy.network.getUserFeed("", e, 0, t - this.notificationQueue.length, this.getFeedDate.toISOString(), this.getUserFeedSuccess.bind(this), this.getUserFeedFailure.bind(this));
        }, t.prototype.getUserFeedSuccess = function(t) {
            var e = r.Util.isValid(t.events) ? t.events : [];
            t.fetchTimeout > 0 && (this.fetchTimeout = 1e3 * t.fetchTimeout);
            for (var i = 0; i < e.length; i++) {
                var a = {
                    category: this.notificationConfigs[e[i].feedTypeID].category,
                    header: e[i].responseHeader.value,
                    mapping: e[i].mapping,
                    metaData: {
                        userID: e[i].userID,
                        isLike: !0
                    }
                };
                this.friendNotificationQueue.push({
                    id: e[i].feedTypeID,
                    data: a,
                    callback: this.likeNotification.bind(this, e[i], "toaster"),
                    isSharing: !1
                }), this.getFeedDate = new Date();
            }
            r.Util.getFriendAndClassmateIds(this.game).length > 0 && this.startFriendTimer();
        }, t.prototype.getUserFeedFailure = function() {
            r.Util.getFriendAndClassmateIds(this.game).length > 0 && this.startFriendTimer();
        }, t.prototype.playNootDialogue = function(t) {
            void 0 === t && (t = !1);
            var e = [ {
                s: 0,
                d: 1
            }, {
                s: 6,
                d: 1
            }, {
                s: 16,
                d: 1
            }, {
                s: 4,
                d: 1
            } ], i = t ? e.length : e.length - 2, a = Math.floor(Math.random() * i);
            this.game.prodigy.load.assets([ "voice-10-85" ], this.game.prodigy.audio.playVoice.bind(this.game.prodigy.audio, "voice-10-85", null, e[a].s, e[a].d));
        }, t.prototype.shareNotification = function(t, e) {
            this.playNootDialogue(!0), this.shareUserFeed(t, e);
        }, t.prototype.likeNotification = function(t, e) {
            this.playNootDialogue(), this.likeUserFeed(t, e);
        }, t.prototype.createUserFeed = function(t, e, i) {
            this.game.prodigy.network.createUserFeed(t, e.metaData, e.mapping, i, this.createUserFeedSuccess.bind(this, e), this.createUserFeedFailure.bind(this));
        }, t.prototype.createUserFeedSuccess = function(t, e) {
            this.game.prodigy.network.sendAdvancedEvent("game_social", {
                meta: JSON.stringify({
                    name: "game_social",
                    type: "feed",
                    action: "generated",
                    source: "toaster",
                    num_friends: this.game.prodigy.friendsListNetworkHandler.friendsList.length,
                    num_classmates: this.game.prodigy.friendsListNetworkHandler.classList.length,
                    category: this.notificationConfigs[e.feedTypeID].category
                })
            }), this.currentNotification = new o.NotificationCell(this.game, this.menuLayer, t, this.shareNotification.bind(this, e, "toaster"), null), 
            this.currentNotification.preprocess();
        }, t.prototype.createUserFeedFailure = function() {
            this.isPlaying = !1, this.currentNotification = null;
        }, t.prototype.likeUserFeed = function(t, e) {
            this.game.prodigy.network.likeUserFeed(t.id, this.likeUserFeedSuccess.bind(this, t, e), null);
        }, t.prototype.likeUserFeedSuccess = function(t, e) {
            this.game.prodigy.network.sendAdvancedEvent("game_social", {
                meta: JSON.stringify({
                    name: "game_social",
                    type: "feed",
                    action: "like",
                    source: e,
                    num_friends: this.game.prodigy.friendsListNetworkHandler.friendsList.length,
                    num_classmates: this.game.prodigy.friendsListNetworkHandler.classList.length,
                    category: this.notificationConfigs[t.feedTypeID].category,
                    rarity: "item" === this.notificationConfigs[t.feedTypeID].category ? t.metaData.rarity : null
                })
            });
        }, t.prototype.shareUserFeed = function(t, e) {
            this.game.prodigy.network.shareUserFeed(t.id, this.shareUserFeedSuccess.bind(this, t, e), null);
        }, t.prototype.shareUserFeedSuccess = function(t, e) {
            this.game.prodigy.network.sendAdvancedEvent("game_social", {
                meta: JSON.stringify({
                    name: "game_social",
                    type: "feed",
                    action: "share",
                    source: e,
                    num_friends: this.game.prodigy.friendsListNetworkHandler.friendsList.length,
                    num_classmates: this.game.prodigy.friendsListNetworkHandler.classList.length,
                    category: this.notificationConfigs[t.feedTypeID].category
                })
            });
        }, t.prototype.initNotificationTemplate = function(t, e, i) {
            void 0 === e && (e = []), void 0 === i && (i = {});
            var n = a({}, this.notificationConfigs[t]);
            return n.mapping = e, n.metaData = i, n;
        }, t.toasterTimeout = 3e3, t;
    }();
    e.NotificationController = s;
}, function(t, e, i) {
    var a = i(275), n = i(157), o = i(44);
    t.exports = function(t) {
        return o(t) ? a(t) : n(t);
    };
}, function(t, e, i) {
    var a = i(70), n = i(974), o = i(973), r = "[object Null]", s = "[object Undefined]", l = a ? a.toStringTag : void 0;
    t.exports = function(t) {
        return null == t ? void 0 === t ? s : r : l && l in Object(t) ? n(t) : o(t);
    };
}, function(t, e, i) {
    var a = i(975), n = i(970);
    t.exports = function(t, e) {
        var i = n(t, e);
        return a(i) ? i : void 0;
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(143), r = i(0), s = function(t) {
        function e(e, i, a, n, r, s, l, h, c) {
            void 0 === c && (c = null);
            var p = t.call(this, e, i) || this;
            return p.input = null, p.style = {}, p.ID = "", p.canvas = null, p.allowEvents = !1, 
            p.inputWidth = 0, p.inputHeight = 0, p.label = null, p.input = document.createElement("input"), 
            p.input.setAttribute("value", ""), p.input.setAttribute("id", a), p.input.setAttribute("class", "game-input"), 
            p.input.setAttribute("autocapitalize", "off"), p.style = c, p.ID = "#" + a, 
            document.getElementById("external-ui").appendChild(p.input), p.canvas = o("#game-container canvas"), 
            p.x = r, p.y = s, p.inputWidth = l, p.inputHeight = h, p.createEvents(), 
            p;
        }
        return n(e, t), e.createInputField = function(t, i, a, n, s, l, h, c, p) {
            void 0 === p && (p = "textProdigy123");
            var u = o("#" + a);
            r.Util.isValid(u) && u.remove();
            var d = new e(t, i, a, n, s, l, h - 15, c);
            return d.setAttribute("type", p), d;
        }, e.prototype.setFocus = function(t) {
            t && o(this.ID).trigger("focus");
        }, e.prototype.clearEvents = function(t) {
            this.allowEvents = t;
        }, e.prototype.getValue = function() {
            return o(this.ID).val();
        }, e.prototype.setValue = function(t) {
            o(this.ID).val(t);
        }, e.prototype.hide = function(t) {
            this.visible = !1, o(this.ID).fadeOut(t), r.Util.isValid(this.label) && (this.label.alpha = 0), 
            o(this.ID).trigger("focusout");
        }, e.prototype.show = function(t, e) {
            void 0 === e && (e = null), this.visible = !0, r.Util.isValid(e) ? setTimeout(this.fadeIn.bind(this, t), e) : this.fadeIn(t);
        }, e.prototype.fadeIn = function(t) {
            o(this.ID).fadeIn(t), r.Util.isValid(this.label) && (this.label.alpha = 1);
        }, e.prototype.setEnabled = function(t) {
            o(this.ID).attr("disabled", t ? null : "disabled");
        }, e.prototype.setLabel = function(t, e, i, a) {
            void 0 === e && (e = null), void 0 === i && (i = !1), void 0 === a && (a = null), 
            r.Util.isValid(this.label) ? this.label.setText(e) : this.label = this.game.prodigy.create.font(t, r.Util.isValid(a) ? a : this.x + 10, this.y - 30, e, {
                size: 20
            });
        }, e.prototype.update = function() {
            t.prototype.update.call(this);
            var e = o(this.ID), i = this.canvas.height() / this.game.world.height;
            e.height(i * this.inputHeight);
            var a = this.canvas.width() / this.game.world.width;
            e.width(a * this.inputWidth);
            var n = i * this.y, s = a * this.x + parseInt(o("#game-container canvas").css("margin-left")), l = i * this.inputHeight * .5;
            o(this.ID).css({
                top: n,
                left: s,
                "font-size": l + "px"
            }), r.Util.isValid(this.style) && o(this.ID).css(this.style);
        }, e.prototype.setAttribute = function(t, e) {
            this.input.setAttribute(t, e);
        }, e.prototype.destroy = function() {
            o(this.ID).trigger("focusout"), o(this.ID).remove(), t.prototype.destroy.call(this);
        }, e.prototype.createEvents = function() {
            var t = this;
            this.allowEvents = !0;
            var e = o(this.ID);
            e.on("focus", null, {
                game: this.game
            }, function() {
                t.focus(!0);
            }), e.on("focusout", null, {
                game: this.game
            }, function() {
                t.focus(!1);
            });
        }, e.prototype.focus = function(t) {
            this.allowEvents && (t ? this.game.input.keyboard.clearCaptures() : this.game.input.keyboard.addKeyCapture([ Phaser.Keyboard.BACKSPACE ]));
        }, e.HEIGHT_MEDIUM = 45, e.WIDTH_MEDIUM = 300, e;
    }(i(5).Element);
    e.InputField = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(10), n = i(2), o = i(41), r = i(3), s = i(212), l = i(196), h = i(640), c = i(30), p = i(0), u = i(639), d = i(190), g = function() {
        function t(t, e) {
            var i = this;
            this.api = null, this.game = null, this.loggedIn = !1, this.player = null, 
            this.eventsQueue = [], this.nonRegisteredEventsQueue = [], this.eventFlags = null, 
            this.UUID = "", this.typeTimeStamps = {}, this.offlineTimer = -1, this.offlineMessage = null, 
            this.open = null, this.socketConnected = !0, this.inactiveTimer = null, 
            this.updateFailedTime = null, this.zone = null, this.loginTimer = null, 
            this.saveCallback = null, this.forceUpdate = !1, this.saving = !1, this.processPlayer = !1, 
            this.processFriendsList = !1, this.lastUpdate = null, this.hasFailedUpdate = !1, 
            this.isActivityDialogOpen = !1, this.player = null, this.game = t, this.open = new s.MenuFactory(t), 
            this.api = new u.APIClient({
                clientVersion: this.game.clientVersion
            }, {
                503: function() {
                    i.initGoingOffline();
                }
            }, e), this.api.setErrorHandler(this.onError.bind(this)), setInterval(this.updateCharacter.bind(this), 3e3), 
            this.UUID = p.Util.generateUUID(), this.eventFlags = d.APIGameData.getEventFlags(), 
            this.typeTimeStamps = {}, this.eventsQueue = [], this.nonRegisteredEventsQueue = [], 
            setInterval(this.sendQueuedEvents.bind(this), this.eventFlags.time);
        }
        return t.prototype.getKey = function() {
            return this.api.getUserToken();
        }, t.openWebsite = function(t, e) {
            void 0 === e && (e = !0);
            try {
                var i = "https://" + t;
                e ? window.open(i) : c.Device.isNativeApp() && c.Device.nativeAppVersion() > 1 ? window.postMessage(JSON.stringify({
                    type: "OPEN_URL_IN_BROWSER",
                    payload: i
                }), "*") : window.location.href = i;
            } catch (t) {}
        }, t.prototype.getErrorMessage = function(t, e) {
            var i = this.game.prodigy.gameContainer.Localizer;
            return p.Util.isValid(t) && p.Util.isValid(e) ? i.getText(e[t]) : p.Util.isValid(e) ? i.getText(e[0]) : i.getText("NETWORK_ERROR");
        }, t.prototype.sendAnalytics = function(t, e, i) {
            if (p.Util.isValid(this.player) && this.loggedIn) {
                var a = i;
                p.Util.isValid(i) || (a = this.player.isMember ? "Member-Events" : "Non-Member-Events", 
                this.player.isMember && 1 === this.player.data.nm && (a = "New-Member-Events")), 
                p.Util.log("GAQ " + a + ", " + t + ", " + e);
                try {
                    _gaq.push([ "_trackEvent", "" + a, "" + t, "" + e ]);
                } catch (t) {}
            } else p.Util.log("GAQ " + i + ", " + t + ", " + e);
        }, t.prototype.sendToyEvent = function(t, e, i) {
            try {
                var a = {
                    stage: e,
                    type: t
                };
                p.Util.isValid(i) && (a.toy_id = i), this.sendEvent("toy-event", a);
            } catch (t) {}
        }, t.prototype.sendZoneEvent = function(t, e) {
            void 0 === e && (e = "");
            try {
                var i = this.game.prodigy.world.getCurrentMap();
                if (p.Util.isValid(i)) {
                    var a = i.split("-");
                    2 === a.length && this.sendEvent("zone-event", {
                        type: t,
                        zoneName: a[0],
                        mapName: a[1],
                        metadata: e
                    });
                }
            } catch (t) {}
        }, t.prototype.sendItemChangeEvent = function(t, e) {
            try {
                var i = this.game.prodigy.world.getCurrentMap();
                if (p.Util.isValid(i)) {
                    var a = i.split("-");
                    2 === a.length && this.sendEvent("item-change-event", {
                        type: t,
                        zoneName: a[0],
                        mapName: a[1],
                        itemType: e.type,
                        itemID: e.ID,
                        itemN: p.Util.isValid(e.N) ? e.N : 1
                    });
                }
            } catch (t) {}
        }, t.prototype.sendGiftBoxEvent = function() {
            try {
                this.sendEvent("item-change-event", {
                    name: "open-gift-box"
                });
            } catch (t) {
                p.Util.log(t.message, p.Util.ERROR);
            }
        }, t.prototype.sendConversionFunnelEvent = function(t, e, i) {
            if (void 0 === i && (i = ""), !c.Device.isNativeApp()) try {
                this.sendEvent("conversion-funnel-event", {
                    funnelName: t,
                    stageTag: e,
                    selectedPlayingFromHome: this.game.prodigy.player.locationSelectionType === n.GameConstants.get("GameConstants.LocationSelection.HOME"),
                    metadata: i
                });
            } catch (t) {}
        }, t.prototype.sendBattleStartTypeEvent = function(t) {
            this.game.prodigy.network.sendEvent("battle-start-type", {
                battleType: t,
                seasonID: a(this.game.prodigy.pvpNetworkHandler, "seasonID", null),
                points: a(this.game.prodigy.pvpNetworkHandler, "userRank.points", 0),
                grade: this.game.prodigy.player.grade,
                level: this.game.prodigy.player.getLevel()
            });
        }, t.prototype.sendEvent = function(e, i, a) {
            void 0 === a && (a = !1);
            try {
                var o = this.game.prodigy.player, r = i, s = a;
                p.Util.isValid(i) || (r = {}, s = !0), s && (o.isMember ? r.member = "true" : r.member = o.data.isTrialMember ? "trial" : "false", 
                r.data = o.data, r.backpack = p.Util.isValid(o.backpack.data) ? o.backpack.data : {}, 
                r.kennel = p.Util.isValid(o.kennel.data) ? o.kennel.data : {}, r.equipment = p.Util.isValid(o.equipment.data) ? o.equipment.data : {}, 
                r.state = p.Util.isValid(o.state.data) ? o.state.data : {}, r.mount = p.Util.isValid(o.mount.data) ? o.mount.data : {}), 
                r.gradeTest = (p.Util.isValid(o.grade) ? o.grade : 0) % 4, r.classTest = p.Util.isValid(o.classIDs) && o.classIDs.length > 0 ? o.classIDs[o.classIDs.length - 1] % 4 : 4, 
                r.token = this.api.getUserToken(), r.date = new Date().getTime();
                var l = {
                    name: e,
                    details: r,
                    user: {
                        userID: p.Util.isValid(o.userID) ? o.userID : 0
                    },
                    device: t.getDeviceInfoForEvent()
                };
                n.GameConstants.get("GameConstants.Build.DEBUG") && t.VERBOSE_ANALYTICS ? p.Util.log("NetworkManager.sendEvent " + JSON.stringify(l)) : p.Util.log("NetworkManager.sendEvent " + l.name), 
                this.eventsQueue.push(l);
            } catch (t) {}
        }, t.prototype.sendAdvancedEvent = function(e, i, a) {
            if (void 0 === a && (a = !0), p.Util.isValid(this.eventFlags.events[e]) && this.eventFlags.events[e].enabled) {
                var o = this.game.prodigy.player, r = i;
                p.Util.isValid(i) || (r = {});
                var s = p.Util.isValid(o.userID) ? o.userID : 0;
                try {
                    if (a && (r.UUID = this.UUID, p.Util.isValid(r.timestamp) || (r.timestamp = new Date().getTime()), 
                    r.user_id = s, r.level = o.data.level, r.grade = p.Util.isValid(o.grade) ? o.grade : 0, 
                    r.location = p.Util.isValid(o.locationSelectionType) ? o.locationSelectionType : "", 
                    r.gold = o.data.gold, r.token = this.api.getUserToken(), o.isMember ? r.is_member = "true" : r.is_member = o.data.isTrialMember ? "trial" : "false", 
                    r.curriculumTreeID = p.Util.isValid(o.curriculumTreeID) ? o.curriculumTreeID : 0, 
                    r.platform = c.Device.getMetricsPlatformName(), p.Util.isValid(o.data.zone))) {
                        var l = o.data.zone.split("-");
                        r.zone = p.Util.isValid(l[0]) ? l[0] : "", r.map = p.Util.isValid(l[1]) ? l[1] : "";
                    }
                    if (p.Util.isValid(r.type)) {
                        var h = this.typeTimeStamps[r.type];
                        p.Util.isValid(h) ? r.timeDelta = r.timestamp - h : r.timeDelta = 0, 
                        this.typeTimeStamps[r.type] = r.timestamp;
                    }
                    var u = {
                        name: e,
                        user: {
                            userID: s
                        },
                        details: r,
                        device: t.getDeviceInfoForEvent()
                    };
                    n.GameConstants.get("GameConstants.Build.DEBUG") && t.VERBOSE_ANALYTICS ? p.Util.log("NetworkManager.sendAdvancedEvent " + JSON.stringify(u)) : p.Util.log("NetworkManager.sendAdvancedEvent " + u.name + " " + r.type + " " + r.name), 
                    this.eventsQueue.push(u);
                } catch (t) {}
            }
        }, t.prototype.sendAnonymousEvent = function(e, i, a) {
            if (void 0 === a && (a = !0), p.Util.isValid(this.eventFlags.events[e]) && this.eventFlags.events[e].enabled) {
                var o = this.game.prodigy.player, r = i;
                p.Util.isValid(i) || (r = i);
                try {
                    if (a && (r.UUID = this.UUID, p.Util.isValid(r.timestamp) || (r.timestamp = new Date().getTime()), 
                    r.user_id = p.Util.isValid(o.userID) ? o.userID : 0, r.level = o.data.level, 
                    r.grade = p.Util.isValid(o.grade) ? o.grade : 0, r.location = p.Util.isValid(o.locationSelectionType) ? o.locationSelectionType : "", 
                    r.gold = o.data.gold, r.token = this.api.getUserToken(), r.is_member = o.isMember, 
                    r.curriculumTreeID = p.Util.isValid(o.curriculumTreeID) ? o.curriculumTreeID : 0, 
                    p.Util.isValid(o.data.zone))) {
                        var s = o.data.zone.split("-");
                        r.zone = p.Util.isValid(s[0]) ? s[0] : "", r.map = p.Util.isValid(s[1]) ? s[1] : "";
                    }
                    if (p.Util.isValid(r.type)) {
                        var l = this.typeTimeStamps[r.type];
                        p.Util.isValid(l) ? r.timeDelta = r.timestamp - l : r.timeDelta = 0, 
                        this.typeTimeStamps[r.type] = r.timestamp;
                    }
                    var h = {
                        name: e,
                        details: r,
                        device: t.getDeviceInfoForEvent()
                    };
                    n.GameConstants.get("GameConstants.Build.DEBUG") && t.VERBOSE_ANALYTICS ? p.Util.log("NetworkManager.sendAnonymousEvent " + JSON.stringify(h)) : p.Util.log("NetworkManager.sendAnonymousEvent " + h.name), 
                    this.nonRegisteredEventsQueue.push(h);
                } catch (t) {}
            }
        }, t.prototype.onError = function(t, e) {
            p.Util.log("FAIL : " + t + ", " + e), null === this.updateFailedTime && this.loggedIn && p.Util.isValid(t) && -1 !== t.indexOf("update") && (this.updateFailedTime = new Date().getTime(), 
            p.Util.log("logout countdown"));
        }, t.prototype.getCharData = function(t, e, i, a) {
            void 0 === i && (i = function() {}), void 0 === a && (a = function() {}), 
            this.api.getUser(t, e, {
                200: i,
                401: a,
                206: a,
                503: a,
                340: a,
                0: a,
                500: a
            });
        }, t.prototype.initGoingOffline = function() {
            -1 === this.offlineTimer && this.loggedIn && (this.offlineTimer = new Date().getTime() + 7e4, 
            this.offlineMessage = "NETWORK_GOING_OFFLINE");
        }, t.prototype.sendQueuedEvents = function() {
            this.eventsQueue.length > 0 && this.loggedIn && (this.api.trackEvent(this.eventsQueue, {
                200: function() {}
            }), this.eventsQueue = []), this.nonRegisteredEventsQueue.length > 0 && (this.api.trackEventAnonymous(this.nonRegisteredEventsQueue, {
                200: function() {}
            }), this.nonRegisteredEventsQueue = []);
        }, t.getDeviceInfoForEvent = function() {
            var t = "Desktop";
            return c.Device.isIOS() ? t = "iOS" : c.Device.isAndroid() && (t = "Android"), 
            {
                availHeight: window.screen.availHeight,
                availWidth: window.screen.availWidth,
                os: t + "-" + (c.Device.isNativeApp() ? "App" : "Browser")
            };
        }, t.prototype.getWorldList = function(t, e) {
            this.api.getWorldList({
                200: t,
                400: e,
                500: e,
                503: e,
                0: e
            });
        }, t.prototype.startMatchmaking = function(t, e, i, a, n, o) {
            this.api.startMatchmaking(t, e, i, {
                200: a,
                400: n,
                500: n,
                0: n,
                503: o
            });
        }, t.prototype.quitMatchmaking = function(t, e) {
            this.api.quitMatchmaking({
                200: t,
                400: e,
                500: e,
                0: e
            });
        }, t.prototype.joinMultiplayerServer = function(t, e, i, a, n) {
            var o = this.onDisconnect.bind(this, a);
            this.api.joinMultiplayerServer(t.id, e, {
                200: this.joinSuccess.bind(this, t, i),
                400: o,
                500: o,
                0: o,
                503: o,
                409: o,
                504: o,
                502: n
            }, this.onMessage.bind(this), this.onPlayerList.bind(this), this.onDisconnect.bind(this, null), this.onPlayerJoined.bind(this), this.onPlayerLeft.bind(this));
        }, t.prototype.joinZone = function(t) {
            this.zone = t, this.loggedIn && this.api.joinZone(t.zoneName);
        }, t.prototype.leaveZone = function() {
            this.zone = null, this.loggedIn && this.api.leaveZone();
        }, t.prototype.setZone = function(t) {
            this.zone = t;
        }, t.prototype.verifyClassCode = function(t, e, i) {
            this.api.verifyClassCode(t, {
                200: e,
                400: i,
                500: i,
                0: i,
                404: i,
                503: i,
                504: i
            });
        }, t.prototype.attachClassCode = function(t, e, i) {
            this.api.attachStudentUsingClassCode(t, {
                200: e,
                400: i,
                500: i,
                0: i,
                404: i,
                503: i,
                504: i
            });
        }, t.prototype.emitMessage = function(e) {
            if (!this.canUseMP()) return !1;
            t.emitMessageCount++, p.Util.isValid(e.action) && p.Util.isValid(e.data) && p.Util.log("[" + t.emitMessageCount + "] emitMessage called action: " + e.action);
            var i = t.MESSAGE_SCHEMAS[e.action];
            return p.Util.isValid(i) && t.compressMessage(e, i), this.api.emitMessage(e, {
                200: function() {}
            });
        }, t.prototype.onMessage = function(e) {
            if (this.canUseMP()) {
                var i = t.MESSAGE_SCHEMAS[e.action];
                p.Util.isValid(i) && t.decompressMessage(e, i), this.game.prodigy.messageListener.onMessage(e), 
                p.Util.isValid(this.zone) && p.Util.isValid(this.zone.onMessage) && this.zone.onMessage(e);
            }
        }, t.prototype.getFriendsList = function(t, e) {
            n.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (p.Util.log("Test get friend list", p.Util.DEV), 
            this.game.time.events.add(1e3, t.bind(this, {
                data: [ {
                    userID: 5339281,
                    status: 0
                }, {
                    userID: 5339282,
                    status: 1
                }, {
                    userID: 5339279,
                    status: 1
                } ],
                meta: {
                    friendsCap: 20,
                    totalFriends: 3
                }
            }), this)) : this.api.getFriendList({
                200: t,
                400: e,
                401: e,
                404: e,
                406: e,
                409: e,
                423: e,
                500: e,
                503: e,
                0: e
            });
        }, t.prototype.getTotalFriendRequests = function(t, e) {
            n.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (p.Util.log("Test get total friend requests", p.Util.DEV), 
            this.game.time.events.add(2, t.bind(this, {
                data: {
                    pendingRequests: 1
                },
                meta: {
                    friendsCap: 20,
                    totalFriends: 3
                }
            }), this)) : this.api.getTotalFriendRequests({
                200: t,
                400: e,
                401: e,
                404: e,
                406: e,
                409: e,
                423: e,
                500: e,
                503: e,
                0: e
            });
        }, t.prototype.getFriendRequestList = function(t, e, i, a) {
            n.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (p.Util.log("Test get friend request list", p.Util.DEV), 
            this.game.time.events.add(2, i.bind(this, {
                data: [ {
                    userID: 15263772
                } ],
                meta: {
                    friendsCap: 20,
                    totalFriends: 3
                }
            }), this)) : this.api.getFriendRequestList(t, e, {
                200: i,
                400: a,
                401: a,
                404: a,
                406: a,
                409: a,
                423: a,
                500: a,
                503: a,
                0: a
            });
        }, t.prototype.sendFriendRequest = function(t, e, i) {
            n.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (p.Util.log("Test send friend request", p.Util.DEV), 
            this.game.time.events.add(2, e.bind(this, t), this)) : this.api.sendFriendRequest(t, {
                200: e,
                400: i,
                401: i,
                404: i,
                406: i,
                409: i,
                423: i,
                500: i,
                503: i,
                0: i
            });
        }, t.prototype.cancelFriendRequest = function(t, e, i) {
            n.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (p.Util.log("Test cancel friend request", p.Util.DEV), 
            this.game.time.events.add(2, e.bind(this, t), this)) : this.api.cancelFriendRequest(t, {
                200: e,
                400: i,
                401: i,
                404: i,
                406: i,
                409: i,
                423: i,
                500: i,
                503: i,
                0: i
            });
        }, t.prototype.acceptFriendRequest = function(t, e, i) {
            n.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (p.Util.log("Test accept friend request", p.Util.DEV), 
            this.game.time.events.add(2, e.bind(this, t), this)) : this.api.acceptFriendRequest(t, {
                200: e,
                400: i,
                401: i,
                404: i,
                406: i,
                409: i,
                423: i,
                500: i,
                503: i,
                0: i
            });
        }, t.prototype.rejectFriendRequest = function(t, e, i) {
            n.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (p.Util.log("Test reject friend request", p.Util.DEV), 
            this.game.time.events.add(2, e.bind(this, t), this)) : this.api.rejectFriendRequest(t, {
                200: e,
                400: i,
                401: i,
                404: i,
                406: i,
                409: i,
                423: i,
                500: i,
                503: i,
                0: i
            });
        }, t.prototype.removeFriend = function(t, e, i) {
            n.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (p.Util.log("Test remove friend", p.Util.DEV), 
            this.game.time.events.add(2, e.bind(this, t), this)) : this.api.removeFriend(t, {
                200: e,
                400: i,
                401: i,
                404: i,
                406: i,
                409: i,
                423: i,
                500: i,
                503: i,
                0: i
            });
        }, t.prototype.getUserClass = function(t, e, i) {
            this.api.getUserClass(t, {
                200: e,
                400: i,
                401: i,
                404: i,
                406: i,
                409: i,
                423: i,
                500: i,
                503: i,
                0: i
            });
        }, t.prototype.getTotalMail = function(t, e) {
            n.GameConstants.get("GameConstants.Mailer.TEST_MAIL") ? (p.Util.log("Test get total mail", p.Util.DEV), 
            this.game.time.events.add(2, t.bind(this, h.TestMail.DATA.length), this)) : this.api.getTotalMail(this.game.prodigy.player.getRegisterDate(), this.game.prodigy.player.isMember, this.game.prodigy.player.memberStartDate, this.game.prodigy.player.memberEndDate, {
                200: t,
                400: e,
                409: e,
                500: e,
                502: e,
                503: e,
                0: e
            });
        }, t.prototype.getAllMail = function(t, e, i, a) {
            n.GameConstants.get("GameConstants.Mailer.TEST_MAIL") ? this.game.time.events.add(2, i.bind(this, h.TestMail.DATA.slice(t * e, e)), this) : this.api.getAllMail(this.game.prodigy.player.getRegisterDate(), this.game.prodigy.player.isMember, this.game.prodigy.player.memberStartDate, this.game.prodigy.player.memberEndDate, t, e, {
                200: i,
                400: a,
                409: a,
                500: a,
                502: a,
                503: a,
                0: a
            });
        }, t.prototype.markAsRead = function(t, e, i, a) {
            if (n.GameConstants.get("GameConstants.Mailer.TEST_MAIL")) {
                h.TestMail.TOTAL_MAIL = {
                    totalUnread: 0
                };
                for (var o = 0; o < h.TestMail.DATA.length; o++) {
                    h.TestMail.DATA[o].isOpened || h.TestMail.TOTAL_MAIL.totalUnread++;
                }
                this.game.time.events.add(2, i.bind(this), this);
            } else this.api.openMail(t, e, {
                200: i,
                400: a,
                409: a,
                500: a,
                502: a,
                503: a,
                0: a
            });
        }, t.prototype.deleteMail = function(t, e, i) {
            if (n.GameConstants.get("GameConstants.Mailer.TEST_MAIL")) {
                for (var a = 0; a < h.TestMail.DATA.length; a++) if (h.TestMail.DATA[a].id === t) {
                    h.TestMail.DATA.splice(a, 1);
                    break;
                }
                h.TestMail.TOTAL_MAIL = {
                    totalUnread: 0
                };
                for (a = 0; a < h.TestMail.DATA.length; a++) {
                    h.TestMail.DATA[a].isOpened || h.TestMail.TOTAL_MAIL.totalUnread++;
                }
                this.game.time.events.add(2, e.bind(this), this);
            } else this.api.deleteMail(t, {
                200: e,
                400: i,
                409: i,
                500: i,
                502: i,
                503: i,
                0: i
            });
        }, t.prototype.getTitans = function(t, e) {
            this.api.getTitans({
                200: t,
                400: e,
                409: e,
                500: e,
                502: e,
                503: e,
                0: e
            });
        }, t.prototype.getTitan = function(t, e, i) {
            this.api.getTitan(t, {
                200: e,
                400: i,
                409: i,
                500: i,
                502: i,
                503: i,
                0: i
            });
        }, t.prototype.hitTitan = function(t, e, i) {
            this.api.hitTitan(t, {
                200: e,
                400: i,
                409: i,
                500: i,
                502: i,
                503: i,
                0: i
            });
        }, t.prototype.getTitanUserData = function(t, e) {
            this.api.getTitanUserData({
                200: t,
                400: e,
                409: e,
                500: e,
                502: e,
                503: e,
                0: e
            });
        }, t.prototype.createUserFeed = function(t, e, i, a, n, o) {
            this.api.createUserFeed(t, JSON.stringify(e), JSON.stringify(i), a, {
                200: n,
                400: o,
                409: o,
                500: o,
                502: o,
                503: o,
                0: o
            });
        }, t.prototype.getUserFeed = function(t, e, i, a, n, o, r) {
            this.api.getUserFeed(t, p.Util.isValid(e) ? e.toString() : null, i, a, n, {
                200: o,
                400: r,
                409: r,
                500: r,
                502: r,
                503: r,
                0: r
            });
        }, t.prototype.likeUserFeed = function(t, e, i) {
            this.api.likeUserFeed(t, {
                200: e,
                400: i,
                409: i,
                500: i,
                502: i,
                503: i,
                0: i
            });
        }, t.prototype.shareUserFeed = function(t, e, i) {
            this.api.shareUserFeed(t, {
                200: e,
                400: i,
                409: i,
                500: i,
                502: i,
                503: i,
                0: i
            });
        }, t.prototype.getGiftBoxes = function(t, e) {
            this.api.getGiftBoxes({
                200: t,
                400: e,
                401: e,
                403: e,
                409: e,
                500: e,
                503: e,
                0: e
            });
        }, t.prototype.updateGiftBox = function(t, e, i, a) {
            this.api.updateGiftBox(t, e, {
                200: i,
                400: a,
                401: a,
                403: a,
                409: a,
                500: a,
                503: a,
                0: a
            });
        }, t.prototype.addGiftBox = function(t, e, i) {
            this.api.addGiftBox(t, {
                200: e,
                400: i,
                401: i,
                403: i,
                409: i,
                500: i,
                503: i,
                0: i
            });
        }, t.prototype.initUserLeaderboard = function(t, e) {
            this.api.initUserLeaderboard({
                200: t,
                400: e,
                401: e,
                403: e,
                409: e,
                500: e,
                503: e,
                0: e
            });
        }, t.prototype.updateUserLeaderboard = function(t, e, i) {
            this.api.updateUserLeaderboard(this.game.prodigy.pvpNetworkHandler.seasonID, t, {
                200: e,
                400: i,
                401: i,
                403: i,
                409: i,
                500: i,
                503: i,
                0: i
            });
        }, t.prototype.getClassLeaderboard = function(t, e, i, a) {
            this.api.getClassLeaderboard(t, e, 30, {
                200: i,
                400: a,
                500: a,
                503: a,
                0: a
            });
        }, t.prototype.getSeasonLeaderboard = function(t, e, i, a) {
            this.api.getSeasonLeaderboard(this.game.prodigy.pvpNetworkHandler.seasonID, t, e, {
                200: i,
                400: a,
                500: a,
                503: a,
                0: a
            });
        }, t.prototype.getUserLeaderboard = function(t, e) {
            this.api.getUserLeaderboard(this.game.prodigy.pvpNetworkHandler.seasonID, {
                200: t,
                400: e,
                500: e,
                503: e,
                0: e
            });
        }, t.prototype.getUserRank = function(t, e, i) {
            this.api.getUserRank(t, this.game.prodigy.pvpNetworkHandler.seasonID, {
                200: e,
                400: i,
                500: i,
                503: i,
                0: i
            });
        }, t.prototype.completeAssignment = function(t) {
            this.api.completeAssignment(t, {
                200: function() {}
            });
        }, t.prototype.answerQuestion = function(t) {
            this.api.saveAnswer(t, {
                200: function() {}
            });
        }, t.prototype.updatePlanStudent = function(t) {
            this.api.updatePlanStudent(t.id, t.currentSkillId, t.hasFailed, {
                200: function() {}
            });
        }, t.prototype.updateStrandBasedPlacementTest = function(t) {
            var e = t.placementTestInstanceId, i = t;
            delete i.placementTestInstanceId, this.api.updateStrandBasedPlacementTest(e, i, {
                200: null
            });
        }, t.prototype.finishPlacement = function(t, e) {
            this.api.updatePlacementTest(t, e, {
                200: function() {}
            });
        }, t.prototype.updateUser = function(t, e) {
            this.api.updateUser(t, {
                200: e,
                400: e,
                500: e,
                401: e,
                0: e
            });
        }, t.prototype.loadSkills = function(t, e, i, a) {
            this.loggedIn && this.api.loadSkills(t, e, {
                200: i,
                401: a,
                409: a
            });
        }, t.prototype.createPlayer = function(t, e, i, a, n) {
            this.api.create(t, e, i, {
                200: n,
                400: this.processCreate.bind(this, !0, a),
                426: this.processCreate.bind(this, "versionError", a),
                500: this.processCreate.bind(this, !0, a),
                503: this.processCreate.bind(this, "disabled", a),
                0: this.processCreate.bind(this, !0, a)
            });
        }, t.prototype.createPlayerWithGoogle = function(t, e, i, a, n) {
            this.api.create(t, e, i, {
                200: n,
                400: this.processCreate.bind(this, !0, a),
                426: this.processCreate.bind(this, "versionError", a),
                500: this.processCreate.bind(this, !0, a),
                503: this.processCreate.bind(this, "disabled", a),
                0: this.processCreate.bind(this, !0, a)
            });
        }, t.prototype.createCharacter = function(t, e, i, a) {
            this.api.createCharacter(t, e, {
                200: a,
                400: i,
                500: i,
                503: i,
                0: i
            });
        }, t.prototype.adminLogin = function(t, e, i, a, n, o, r) {
            if (void 0 === r && (r = 0), this.player = a, null !== this.loginTimer && (window.clearInterval(this.loginTimer), 
            this.loginTimer = null), r + 1 > 5) n(); else {
                var s = this.adminLogin.bind(this, t, e, i, a, n, o, r);
                this.api.adminLogin(t, e, i, {
                    401: this.processLogin.bind(this, !1, n, s),
                    403: this.processLogin.bind(this, !1, n, s),
                    206: this.processLogin.bind(this, !0, o, s),
                    200: this.processLogin.bind(this, !0, o, s),
                    503: this.processLogin.bind(this, !1, n, s),
                    340: this.processLogin.bind(this, !1, n, s),
                    0: this.processLogin.bind(this, !1, n, s),
                    500: this.processLogin.bind(this, !1, n, s)
                });
            }
        }, t.prototype.login = function(t, e, i, a, n, o) {
            if (void 0 === o && (o = 0), this.player = i, null !== this.loginTimer && (window.clearInterval(this.loginTimer), 
            this.loginTimer = null), o + 1 > 5) n(); else {
                var r = this.login.bind(this, t, e, i, n, a, o);
                this.api.login({
                    username: t,
                    password: e
                }, {
                    400: this.processLogin.bind(this, !1, n, r),
                    401: this.processLogin.bind(this, !1, n, r),
                    426: this.processLogin.bind(this, "versionError", n, r),
                    206: this.processLogin.bind(this, !0, a, r),
                    200: this.processLogin.bind(this, !0, a, r),
                    503: this.processLogin.bind(this, !1, n, r),
                    340: this.processLogin.bind(this, !1, n, r),
                    0: this.processLogin.bind(this, !1, n, r),
                    500: this.processLogin.bind(this, !1, n, r)
                });
            }
        }, t.prototype.loginWithGoogle = function(t, e, i, a) {
            this.player = e, this.api.login({
                idToken: t
            }, {
                400: this.processLogin.bind(this, !1, i, null),
                401: this.processLogin.bind(this, !1, i, null),
                426: this.processLogin.bind(this, "versionError", i, null),
                206: this.processLogin.bind(this, !0, a, null),
                200: this.processLogin.bind(this, !0, a, null),
                503: this.processLogin.bind(this, !1, i, null),
                340: this.processLogin.bind(this, !1, i, null),
                0: this.processLogin.bind(this, !1, i, null),
                500: this.processLogin.bind(this, !1, i, null)
            });
        }, t.prototype.logout = function(t) {
            if (void 0 === t && (t = !1), this.loggedIn = !1, this.api.logout({
                200: function() {}
            }), !t) {
                var e = p.Util.removeParamsFromUrl(window.location.href, [ "action", "idToken", "email" ]);
                e.length === window.location.href.length ? window.location.reload() : window.location.href = e;
            }
        }, t.prototype.setSaveCallback = function(t, e) {
            this.saveCallback = t, this.forceUpdate = e;
        }, t.prototype.updateCharacter = function() {
            if (!this.saving) if (this.forceUpdate || this.loggedIn && p.Util.isValid(this.player) && p.Util.isValid(this.zone)) {
                if (p.Util.isValid(this.updateFailedTime) && null === this.offlineTimer && (new Date().getTime() - this.updateFailedTime) / 1e3 > n.GameConstants.get("GameConstants.Inactivity.CANNOT_CONNECT_TIMER_SECONDS") && (this.offlineTimer = new Date().getTime() + n.GameConstants.get("GameConstants.Inactivity.NETWORK_BOOT_TIMER_SECONDS"), 
                this.offlineMessage = "NETWORK_CANNOT_CONNECT"), null !== this.offlineTimer) {
                    var t = this.offlineTimer - new Date().getTime();
                    t < 0 ? this.logout() : this.zone.showMessage(this.game.prodigy.gameContainer.Localizer.getText(this.offlineMessage, Math.floor(t / 1e3)), 5e3);
                }
                if (this.player.saveEnabled) {
                    var e = this.player.getUpdatedData(this.processPlayer);
                    this.processFriendsList && this.game.prodigy.friendsListNetworkHandler.getTotalFriendRequests(), 
                    this.processPlayer = !1, this.processFriendsList = !1;
                    var i = !p.Util.isEmptyObject(e);
                    i || p.Util.isValid(this.lastUpdate) && !(new Date().getTime() - this.lastUpdate > 3e4) || (i = !0), 
                    i && (n.GameConstants.get("GameConstants.Debug.AUTOSAVE_ENABLED") || (i = !1)), 
                    this.saving = i, i ? this.api.updateCharacter(e, {
                        401: this.processUpdate.bind(this, !1, !1, null),
                        404: this.processUpdate.bind(this, !1, !1, null),
                        409: this.processUpdate.bind(this, !1, !0, null),
                        503: this.processUpdate.bind(this, !1, !0, null),
                        0: this.processUpdate.bind(this, !1, !1, null),
                        200: this.processUpdate.bind(this, !0, !1, this.saveCallback)
                    }) : null !== this.saveCallback && (this.saveCallback(), this.saveCallback = null);
                } else null !== this.saveCallback && (this.saveCallback(), this.saveCallback = null);
            } else p.Util.isValid(this.saveCallback) && (this.saveCallback(), delete this.saveCallback);
        }, t.prototype.startInactiveTimer = function() {
            this.stopInactiveTimer(), this.loggedIn && (this.game.input.onDown.add(this.startInactiveTimer.bind(this), this), 
            this.inactiveTimer = setTimeout(this.showInactiveDialog.bind(this), 1e3 * n.GameConstants.get("GameConstants.Inactivity.DIALOG_TIMER_SECONDS")));
        }, t.prototype.stopInactiveTimer = function() {
            null !== this.inactiveTimer && (this.game.input.onDown.removeAll(this), 
            clearTimeout(this.inactiveTimer), this.inactiveTimer = null);
        }, t.prototype.showInactiveDialog = function() {
            var t = this;
            if (!this.isActivityDialogOpen) {
                this.isActivityDialogOpen = !0;
                var e = new l.MessageBox(this.game);
                e.preprocess(this.game.prodigy.gameContainer.Localizer.getText("INACTIVITY_MESSAGE")), 
                e.queuePostCreateCallback(e.setOkay.bind(e, this.game.prodigy.gameContainer.Localizer.getText("INACTIVITY_BUTTON"), null)), 
                e.setCloseCallback(function() {
                    t.isActivityDialogOpen = !1;
                }), this.game.add.existing(e);
            }
            this.inactiveTimer = setTimeout(this.logout.bind(this), 1e3 * n.GameConstants.get("GameConstants.Inactivity.LOG_OUT_TIMER_SECONDS"));
        }, t.prototype.onPlayerList = function(t) {
            p.Util.log("playerList " + t), this.canUseMP() && p.Util.isValid(this.zone) && p.Util.isValid(this.zone.onPlayerList) && this.zone.onPlayerList(t);
        }, t.prototype.onDisconnect = function(t, e) {
            p.Util.log("disconnect " + e), this.socketConnected = !1, p.Util.isValid(t) && t();
        }, t.prototype.onPlayerJoined = function(t) {
            p.Util.log("join " + t), this.canUseMP() && p.Util.isValid(this.zone) && p.Util.isValid(this.zone.onPlayerJoined) && this.zone.onPlayerJoined(t);
        }, t.prototype.onPlayerLeft = function(t) {
            p.Util.log("left " + t), this.canUseMP() && p.Util.isValid(this.zone) && p.Util.isValid(this.zone.onPlayerLeft) && this.zone.onPlayerLeft(t);
        }, t.prototype.canUseMP = function() {
            return this.loggedIn && this.socketConnected && null !== this.zone;
        }, t.prototype.joinSuccess = function(t, e) {
            this.game.prodigy.player.world = t, this.socketConnected = !0, e();
        }, t.compressMessage = function(t, e) {
            for (var i = [], a = 0; a < e.length; a++) {
                for (var n = e[a].split("."), o = t.data, r = 0; r < n.length; r++) {
                    var s = n[r];
                    if (!o.hasOwnProperty(s)) {
                        i.push(null), o = null;
                        break;
                    }
                    if (o = o[s], !p.Util.isValid(o)) {
                        i.push(null);
                        break;
                    }
                }
                p.Util.isValid(o) && i.push(o);
            }
            t.data = LZString.compressToUTF16(JSON.stringify(i));
        }, t.decompressMessage = function(t, e) {
            for (var i = JSON.parse(LZString.decompressFromUTF16(t.data)), a = {}, n = 0; n < e.length && n < i.length; n++) {
                var o = i[n];
                if (p.Util.isValid(o)) {
                    for (var r = e[n].split("."), s = r[0], l = a, h = 0; h < r.length; h++) s = r[h], 
                    l.hasOwnProperty(s) || (l[s] = {}), h + 1 < r.length && (l = l[s]);
                    l[s] = o;
                }
            }
            t.data = a;
        }, t.prototype.processCreate = function(t, e) {
            "versionError" !== t ? "disabled" !== t ? e() : this.disabled() : this.versionError();
        }, t.prototype.processLogin = function(t, e, i, a, n) {
            if ("versionError" !== t) if (null !== t || !p.Util.isValid(i) || 0 !== n && 500 !== n && 340 !== n) {
                if (t) this.loggedIn = !0, this.offlineTimer = null, this.updateFailedTime = null, 
                this.player.init(a), this.game.broadcaster.broadcast(r.EGameObjEvents.PlayerInitialized, null, []), 
                this.game.prodigy.gameContainer.get(o.ProdigyInjectionIdentifiers.HttpClient).setAuthenticationData({
                    userID: this.api.userID,
                    userToken: this.api.getUserToken()
                }), p.Util.isSchoolHours() ? (this.sendAnalytics("School", "", "Login-Events"), 
                this.sendEvent("login", {
                    loginFrom: "school"
                })) : (this.sendAnalytics("Home", "", "Login-Events"), this.sendEvent("login", {
                    loginFrom: "home"
                }));
                p.Util.isValid(e) && e(a, n);
            } else this.loginTimer = setInterval(i, 1e3); else this.versionError();
        }, t.prototype.versionError = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            this.open.messageBoxOkay(t.getText("NETWORK_OUT_OF_DATE"), t.getText("BUTTON_OKAY_UPPERCASE"), function() {
                window.location.reload();
            });
        }, t.prototype.disabled = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            this.open.messageBoxOkay(t.getText("NETWORK_TRY_LATER"), t.getText("BUTTON_OKAY_UPPERCASE"), window.location.reload.bind(window.location));
        }, t.prototype.processUpdate = function(t, e, i) {
            this.saving = !1, this.sendAnalytics("Player-Alive", "", "Login-Events"), 
            t || (!p.Util.isValid(this.updateFailedTime) && this.loggedIn && (this.updateFailedTime = new Date().getTime()), 
            e && null === this.offlineTimer && this.loggedIn && (this.offlineMessage = "NETWORK_LOGGED_IN_ELSEWHERE", 
            this.offlineTimer = new Date().getTime() + 5e3), p.Util.log("network update fail"), 
            this.hasFailedUpdate = !0), t && (this.forceUpdate = null, i === this.saveCallback && (this.saveCallback = null), 
            p.Util.isValid(i) && i(), this.updateFailedTime = null, this.lastUpdate = new Date().getTime(), 
            this.processFriendsList = this.hasFailedUpdate, this.hasFailedUpdate = !1), 
            this.processPlayer = !t;
        }, t.VERBOSE_ANALYTICS = !1, t.emitMessageCount = 0, t.MESSAGE_SCHEMAS = {
            info: [ "userID", "target.x", "target.y", "appearance.name", "appearance.name.first", "appearance.name.middle", "appearance.name.last", "appearance.name.nick", "appearance.gender", "appearance.hair.style", "appearance.hair.color", "appearance.skinColor", "appearance.eyeColor", "appearance.face", "isMember", "equipment.boots", "equipment.follow", "equipment.hat", "equipment.outfit", "equipment.weapon", "data.level", "data.win", "data.loss", "data.gold", "data.tower", "data.stars", "data.hp", "data.allowsHouseVisitors", "data.versionID", "data.playerTransformation.transformType", "data.playerTransformation.transformID", "mount.mountID" ],
            catapult: []
        }, t;
    }();
    e.NetworkManager = g;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        return function() {};
    }();
    e.Data = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(0), s = function(t) {
        function e(e, i, a, n, s, l, h, c, p, u) {
            void 0 === s && (s = 0), void 0 === l && (l = null);
            var d = this, g = "atlas-18", y = "empty", f = e.prodigy.load.isFileLoaded(n);
            f ? (g = n, y = s) : u && (y = "icon-loading"), (d = t.call(this, e, i, a, g, y) || this).forcedWidth = c, 
            d.forcedHeight = p, d.onTextureLoaded = h, d.loadingTween = null;
            var m = !1;
            return f ? (d.checkSpriteDimension(), m = !0, r.Util.isValid(l) && d.anchor.setTo(l.x, l.y)) : (r.Util.isValid(u) && u && (d.anchor.setTo(.5, .5), 
            d.x += 40, d.y += 40, d.loadingTween = d.game.add.tween(d).to({
                angle: 360
            }, 2e3, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !1)), 
            d.checkSpriteDimension(), e.prodigy.load.assets(n, d.onSourceAssetLoaded.bind(d, i, a, n, s, l))), 
            m && d.checkCallback(), d;
        }
        return n(e, t), e.prototype.loadNewTexture = function(t, e, i, a) {
            void 0 === e && (e = 0), void 0 === i && (i = null), void 0 === a && (a = !1), 
            r.Util.isValid(this.loadingTween) && (this.loadingTween.stop(), this.loadingTween = null, 
            this.anchor.setTo(0, 0), this.x -= 40, this.y -= 40, this.angle = 0), 
            this.game.prodigy.load.isFileLoaded(t) ? this.onSourceAssetLoaded(this.x, this.y, t, e, i) : (a ? (this.loadTexture("atlas-18", "icon-loading"), 
            this.anchor.setTo(.5, .5), this.x += 40, this.y += 40, this.loadingTween = this.game.add.tween(this).to({
                angle: 360
            }, 2e3, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !1)) : this.loadTexture("atlas-18", "empty"), 
            this.game.prodigy.load.assets(t, this.onSourceAssetLoaded.bind(this, this.x, this.y, t, e, i)));
        }, e.prototype.checkSpriteDimension = function() {
            r.Util.isValid(this.forcedWidth) && (this.width = this.forcedWidth), 
            r.Util.isValid(this.forcedHeight) && (this.height = this.forcedHeight);
        }, e.prototype.rotateMiddleBased = function(t) {
            this.middleRotatedAngle = t, this.anchor.set(.5, .5), this.angle = this.middleRotatedAngle;
        }, e.prototype.onSourceAssetLoaded = function(t, e, i, a, n) {
            if (void 0 === n && (n = null), r.Util.isValid(this.game)) {
                if (r.Util.isValid(this.loadingTween) && (this.loadingTween.stop(), 
                this.loadingTween = null, this.anchor.setTo(0, 0), this.x -= 40, 
                this.y -= 40, this.angle = 0), this.key = i, this.components.Animation && (this.animations = new Phaser.AnimationManager(this)), 
                this.components.LoadTexture && null !== this.key) {
                    var o = a;
                    0 === i.indexOf("icon-") && (o = 0), this.loadTexture(i, o);
                }
                this.components.FixedToCamera && (this.cameraOffset = new Phaser.Point(t, e)), 
                r.Util.isValid(this.middleRotatedAngle) ? this.rotateMiddleBased(this.middleRotatedAngle) : r.Util.isValid(n) && this.anchor.setTo(n.x, n.y), 
                this.checkSpriteDimension(), 16777215 !== this.tint && (this.tintedTexture = PIXI.CanvasTinter.getTintedTexture(this, this.tint)), 
                this.checkCallback();
            }
        }, e.prototype.checkCallback = function() {
            r.Util.isValid(this.onTextureLoaded) && this.onTextureLoaded(this);
        }, e;
    }(Phaser.Sprite);
    e.Sprite = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, r = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, s = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var l = i(8), h = i(11), c = i(10), p = i(256), u = i(78), d = i(887), g = i(0), y = i(4), f = function(t) {
        function e(e) {
            var i = t.call(this) || this;
            return i.localization = null, i.localization = e, i;
        }
        return n(e, t), i = e, e.prototype.getData = function() {
            return this.validateNameData(), this.data;
        }, e.prototype.setAppearance = function(e) {
            t.prototype.setAppearance.call(this, e), g.Util.isValid(this.data) && delete e.nick;
        }, e.prototype.generateRandomName = function() {
            this.data.name = {
                first: i.getRandomFirstName(this.data.gender),
                middle: i.getRandomMiddleName(),
                last: i.getRandomLastName()
            }, this.updated = !0;
        }, e.prototype.getName = function() {
            this.validateNameData();
            var t = this.data.name;
            if (null !== c(t, "nick", null)) {
                for (var e = "", i = y.Items.getItem("nickname", t.nick).data.value.split("{"), a = 0; a < i.length; ++a) {
                    var n = i[a].indexOf("}");
                    if (n > -1) {
                        var o = i[a].substr(0, n);
                        e += "" + y.Items.getItem("name", t[o]).data.value + i[a].substr(n + 1);
                    } else e += i[a];
                }
                return e;
            }
            return this.getFullName(!1);
        }, e.prototype.getFirstName = function() {
            var t = c(this.data.name, "first", 0);
            return t > 0 ? y.Items.getItem("name", t).data.value : this.localization.getText("NAME_APPRENTICE");
        }, e.prototype.getFullName = function(t) {
            void 0 === t && (t = !0), t && this.validateNameData();
            var e = this.data.name;
            if (g.Util.isValid(e) && null !== c(e, "first", null)) {
                var i = y.Items.getItem("name", e.first).data.value;
                if (null === c(e, "middle", null) || null === c(e, "last", null)) return i;
                var a = "" + y.Items.getItem("name", e.middle).data.value + y.Items.getItem("name", e.last).data.value;
                return i + " " + p(a);
            }
            return this.localization.getText("NAME_APPRENTICE");
        }, e.prototype.setNickname = function(t) {
            this.data.name.nick = t, this.updated = !0;
        }, e.prototype.validateNameData = function() {
            if (g.Util.isValid(this.data.name)) if (this.data.name instanceof Object) {
                var t = this.data.name, e = c(t, "first", null);
                null !== e && 0 === y.Items.getItemsWithFilter("name", function(t) {
                    return 0 === t.data.type && t.ID === e;
                }).length && (e = i.getRandomFirstName(this.data.gender), t.first = e, 
                this.updated = !0);
                var a = c(t, "middle", null), n = c(t, "last", null);
                if (null === a || null === n) (null !== a || null !== n || g.Util.isValid(t.nick)) && (t.middle = null, 
                t.last = null, t.nick = null, this.updated = !0); else if (null === e && (t.first = i.getRandomFirstName(this.data.gender), 
                this.updated = !0), 0 === y.Items.getItemsWithFilter("name", function(t) {
                    return 1 === t.data.type && t.ID === a;
                }).length && (t.middle = i.getRandomMiddleName(), this.updated = !0), 
                0 === y.Items.getItemsWithFilter("name", function(t) {
                    return 2 === t.data.type && t.ID === n;
                }).length && (t.last = i.getRandomLastName(), this.updated = !0), 
                g.Util.isValid(t.nick)) {
                    var o = c(t, "nick", 0);
                    0 === y.Items.getItemsWithFilter("nickname", function(t) {
                        return t.ID === o;
                    }).length && (t.nick = null, this.updated = !0);
                }
            } else this.generateRandomName();
        }, e.getRandomFirstName = function(t) {
            return u(d(y.Items.data.name, function(e) {
                return e.data.gender === ("female" === t ? 1 : 2) && 0 === e.data.type;
            })).ID;
        }, e.getRandomMiddleName = function() {
            return u(d(y.Items.data.name, function(t) {
                return 1 === t.data.type;
            })).ID;
        }, e.getRandomLastName = function() {
            return u(d(y.Items.data.name, function(t) {
                return 2 === t.data.type;
            })).ID;
        }, e = i = o([ h.injectable(), s(0, h.inject(l.GameIdentifiers.LocalizationService)), r("design:paramtypes", [ l.BaseLocalizer ]) ], e);
        var i;
    }(i(264).Appearance);
    e.OnlinePlayerAppearance = f;
}, function(t, e, i) {
    var a = i(87), n = i(44), o = i(105), r = i(46);
    t.exports = function(t, e, i) {
        if (!r(i)) return !1;
        var s = typeof e;
        return !!("number" == s ? n(i) && o(e, i.length) : "string" == s && e in i) && a(i[e], t);
    };
}, function(t, e, i) {
    var a = i(263), n = i(148);
    t.exports = function(t, e, i, o) {
        var r = !i;
        i || (i = {});
        for (var s = -1, l = e.length; ++s < l; ) {
            var h = e[s], c = o ? o(i[h], t[h], h, i, t) : void 0;
            void 0 === c && (c = t[h]), r ? n(i, h, c) : a(i, h, c);
        }
        return i;
    };
}, function(t, e, i) {
    var a = i(59), n = i(45), o = "[object Symbol]";
    t.exports = function(t) {
        return "symbol" == typeof t || n(t) && a(t) == o;
    };
}, function(t, e, i) {
    var a = i(945), n = i(165), o = i(944), r = i(943), s = i(942), l = i(59), h = i(285), c = h(a), p = h(n), u = h(o), d = h(r), g = h(s), y = l;
    (a && "[object DataView]" != y(new a(new ArrayBuffer(1))) || n && "[object Map]" != y(new n()) || o && "[object Promise]" != y(o.resolve()) || r && "[object Set]" != y(new r()) || s && "[object WeakMap]" != y(new s())) && (y = function(t) {
        var e = l(t), i = "[object Object]" == e ? t.constructor : void 0, a = i ? h(i) : "";
        if (a) switch (a) {
          case c:
            return "[object DataView]";

          case p:
            return "[object Map]";

          case u:
            return "[object Promise]";

          case d:
            return "[object Set]";

          case g:
            return "[object WeakMap]";
        }
        return e;
    }), t.exports = y;
}, function(t, e, i) {
    var a = i(47).Symbol;
    t.exports = a;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t[t.Verbose = 0] = "Verbose", t[t.Warning = 1] = "Warning", t[t.Error = 2] = "Error";
    }(e.LogLevel || (e.LogLevel = {}));
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.ParentLinkBenefitsConfig = {
        ANALYTICS_SOURCE_BADGE: "Parental-Benefits-Badge",
        ANALYTICS_SOURCE_SETTINGS: "Parental-Benefits-Settings",
        ANALYTICS_SOURCE_LOGIN: "Parental-Benefits-Login",
        XP_BONUS: {
            frameName: "icons/small-star-boost",
            trackingEvent: "XPBonus-Icon-Click"
        },
        BUDDY: {
            frameName: "icons/get-fox-buddy",
            trackingEvent: "Buddy-Icon-Click"
        },
        APPLES: {
            frameName: "icons/get-free-apples",
            trackingEvent: "Apples-Icon-Click"
        },
        TRACKING_EVENT_MOBILE: "Mobile-Message-Displayed",
        TRACKING_EVENT_SIGN_UP: "Signup-Button-Click",
        TRACKING_EVENT_POPUP_SHOWN: "Popup-Shown",
        TRACKING_EVENT_SCHOOL_HOURS: "School-Hours-Message-Displayed",
        TRACKING_EVENT_RECEIVED_REWARDS: "Parent-Benefits-Rewards-Received",
        MESSAGE_MOBILE: "PARENT_LINK_MOBILE_MESSAGE",
        MESSAGE_POST_CLICK: "PARENT_LINK_POST_CLICK",
        MESSAGE_SCHOOL_HOURS: "PARENT_LINK_SCHOOL_HOURS",
        URL_SIGN_UP_STAGING: "www.prodigygame.org/#start-now?usertype=parent&utm_source=student-referral&utm_medium=register-prompt",
        URL_SIGN_UP_PROD: "www.prodigygame.com/#start-now?usertype=parent&utm_source=student-referral&utm_medium=register-prompt",
        ATLAS: "atlas-132",
        DESCRIPTION_TEXT_BG_HEIGHT_PERCENT: .25,
        REWARD_ICONS_BG_HEIGHT_PERCENT: .5,
        LINK_ACCOUNT_BG_HEIGHT_PERCENT: .88,
        CLOSE_BTN_OFFSET: {
            x: -10,
            y: 10
        },
        BODY_TEXT_OFFSET: {
            x: 40,
            y: 0
        },
        ICON_TWEEN_TIME_MS: 125,
        ICON_TWEEN_DELAY_MS: 125,
        ICON_TWEEN_AMOUNT_Y: 20,
        SUCCESS_POPUP_CONFIG: {
            headerFrameName: "parent-link-title-success",
            bodyText: "PARENT_LINK_SUCCESS_BODY",
            submitButtonFrameName: "parent-link-button-success",
            showCloseButton: !1
        },
        INFO_POPUP_CONFIG: {
            headerFrameName: "parent-link-title",
            bodyText: "PARENT_LINK_INFO_BODY",
            submitButtonFrameName: "parent-link-button",
            showCloseButton: !0
        }
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(21), s = i(0), l = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i) || this;
            return n.data = a, n.visible = !1, n.backBtn = n.game.prodigy.create.textButton(n, 180, 160, {
                icon: "back",
                size: r.TextButton.TALL
            }, function() {
                n.back();
            }), n.nextBtn = n.game.prodigy.create.textButton(n, 1e3, 160, {
                icon: "next",
                size: r.TextButton.TALL
            }, function() {
                n.next();
            }), n.counter = 11, n;
        }
        return n(e, t), e.prototype.init = function(t, e) {
            this.backCallback = t, this.nextCallback = e, this.backBtn.visible = s.Util.isValid(t), 
            this.nextBtn.visible = s.Util.isValid(e);
        }, e.prototype.open = function(t) {
            this.visible = !0;
        }, e.prototype.close = function() {
            this.visible = !1, s.Util.isValid(this.dialogue) && this.dialogue.close();
        }, e.prototype.back = function() {
            s.Util.isValid(this.backCallback) && (this.close(), this.backCallback());
        }, e.prototype.next = function() {
            s.Util.isValid(this.nextCallback) && (this.nextCallback(), this.close());
        }, e;
    }(o.Element);
    e.RegisterPage = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(8), r = i(75), s = i(2), l = i(41), h = i(4), c = i(30), p = i(0), u = i(62), d = i(32), g = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            return a.petImage = null, a.currencyLabel = null, a.itemContainer = null, 
            a.buyButtonIcon = null, a.epicNameLabel = null, a.epicElementSprite = null, 
            a.buyNowButton = null, a.storeID = 16, e.prodigy.network.sendToyEvent("toy-store", 4), 
            a.create(), a.onItemPurchased.add(function() {
                a.currencyLabel.setText("" + a.game.prodigy.player.backpack.hasItem("currency", 3));
            }), a.onItemRecieved.add(function() {
                a.setMode(a.page);
            }), a;
        }
        return n(e, t), e.prototype.create = function() {
            var e = this;
            this.addTransparent(), this.createBaseSetup(29, 16, "shine2", null, null, !0);
            var i = this.game.prodigy.create.element(this, 20, 0);
            i.setRenderState(!0), i.add(new Phaser.TileSprite(this.game, 51, 100, 1138, 40, "atlas-161", "orange-top")), 
            i.add(new Phaser.TileSprite(this.game, 51, 140, 1138, 40, "atlas-161", "orange-mid")), 
            i.add(new Phaser.TileSprite(this.game, 51, 180, 1138, 40, "atlas-161", "orange-top2")), 
            this.spinner = this.add(this.game.prodigy.create.sprite(640, 360, "atlas-18", "loading")), 
            this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
                angle: 360
            }, 2e3, Phaser.Easing.Linear.None, !0, 0, s.GameConstants.MAX_SAFE_INTEGER, !1), 
            t.prototype.create.call(this), this.startLoad([ "atlas-98" ], function() {
                i.add(e.game.prodigy.create.sprite(55, 74, "atlas-98", "logo")), 
                e.process();
            }), this.game.prodigy.gameContainer.get(l.ProdigyInjectionIdentifiers.StoreService).getStore(16).then(this.onGetStoreSuccess.bind(this)).catch(this.onGetStoreFailure.bind(this));
        }, e.prototype.onGetStoreSuccess = function(t) {
            p.Util.isValid(this.game) && (this.storeData = t, this.storeData.setPages(r(this.storeData.getPages())), 
            this.spinner.destroy(), this.spinner = null, this.setupTabs(), this.setupItemPanel(), 
            this.setupEpicDescription(), this.setMode(0));
        }, e.prototype.onGetStoreFailure = function(t) {
            t instanceof Error && this.game.prodigy.gameContainer.Logger.log(t.message, o.LogLevel.Error);
            var e = this.game.prodigy.gameContainer.Localizer;
            this.game.prodigy.open.message(e.getText("STORE_OPEN_FAILED_MESSAGE"), this.close.bind(this), null, e.getText("STORE_OPEN_FAILED_TITLE"));
        }, e.prototype.setupTabs = function() {
            for (var t = this, e = this.storeData.getPages(), i = function(i) {
                var n = e[i].getButton();
                a.buttons.push(a.game.prodigy.create.advButton(a, 102 * i + 283, 110, {
                    top: n.getTopText(),
                    bot: n.getBottomText(),
                    icon: {
                        iconAtlas: n.getItemType() + "-" + n.getItemID()
                    }
                }, function() {
                    t.setMode(i);
                }));
            }, a = this, n = 0; n < e.length; n++) i(n);
        }, e.prototype.setupItemPanel = function() {
            var t = this.game.prodigy.create.panel(this, 780, 240, 10, 9, "orange");
            t.add(new Phaser.TileSprite(this.game, 0, 30, 400, 60, "atlas-161", "overlay-small")).alpha = .15, 
            this.game.prodigy.create.font(t, 30, 45, "[mail-leaf] ", {
                size: 40
            }), this.currencyLabel = this.game.prodigy.create.font(t, 65, 32, "" + this.game.prodigy.player.backpack.hasItem("currency", 3), {
                size: 40
            }), this.itemContainer = this.game.prodigy.create.element(this, 60, 240);
        }, e.prototype.setupEpicDescription = function() {
            var t = this, i = this.game.prodigy.gameContainer.Localizer, a = h.Items.getItem("singleImage", this.storeData.getPages()[this.page].getButton().getItemID()).metadata.petID, n = h.Items.getItem("pet", a).data;
            this.epicNameLabel = this.game.prodigy.create.font(this, 480, 280, n.name, {
                size: 36,
                fontID: 9
            }), this.epicElementSprite = this.add(this.game.prodigy.create.sprite(410, 269, "atlas-21", "icon-bar-" + n.element)), 
            this.buyNowButton = this.game.prodigy.create.panelButton(this, 240, 530, 9, 2, "button", function() {
                e.openWebsite(t.game, "buy-toy-now", void 0, a);
            }), this.game.prodigy.create.font(this.buyNowButton.content, 100, 15, i.getText("BUY_TOY_BUY_NOW"), {
                width: 250,
                size: 36,
                fontID: 9,
                align: "center"
            }), this.buyButtonIcon = this.buyNowButton.content.add(this.game.prodigy.icon.createFromData({
                type: "pet",
                ID: a
            }, 10, -10)), this.game.prodigy.create.font(this, 369, 340, i.getText("BUY_TOY_ASK_PARENT"), {
                size: 16,
                width: 370
            });
        }, e.prototype.setMode = function(e) {
            var i = this;
            t.prototype.setMode.call(this, e), this.page = e, this.itemContainer.removeAll(!0);
            for (var a = this.storeData.getPages()[e], n = function(t) {
                var e = a.getStoreItems()[t], n = e.getCost()[0];
                o.game.prodigy.create.item(o.itemContainer, t % 2 * 180 + 750, 130, {
                    ID: e.getID(),
                    type: e.getType(),
                    cost: {
                        ID: n.getID(),
                        type: n.getType(),
                        N: n.getAmount()
                    }
                }, d.EItemInfoMode.Store, function() {
                    i.itemClicked(e);
                });
            }, o = this, r = 0; r < a.getStoreItems().length; r++) n(r);
            this.updateSelectedEpicData();
        }, e.prototype.updateSelectedEpicData = function() {
            var t = this;
            p.Util.isValid(this.petImage) && (this.game.tweens.removeFrom(this.petImage), 
            this.petImage.destroy());
            var i = h.Items.getItem("singleImage", this.storeData.getPages()[this.page].getButton().getItemID()).metadata.petID;
            this.petImage = this.add(this.game.prodigy.create.animatedSprite(0, 0, "atlas-98", [ i + "_1", "" + i ], new Phaser.Point(.5, .5), [ .715, 1 ], [ {
                x: 235,
                y: 399
            }, {
                x: 245,
                y: 385
            } ]));
            var a = this.game.add.tween(this.petImage).to({
                alpha: 1
            }, 2800, Phaser.Easing.Quadratic.In), n = this.game.add.tween(this.petImage).to({
                alpha: 0
            }, 1e3, Phaser.Easing.Quadratic.In), o = this.game.add.tween(this.petImage).to({
                frameNumber: 1
            }, 1, Phaser.Easing.Linear.None), r = this.game.add.tween(this.petImage).to({
                alpha: 1
            }, 1e3, Phaser.Easing.Quadratic.In), s = this.game.add.tween(this.petImage).to({
                alpha: 1
            }, 2800, Phaser.Easing.Quadratic.In), l = this.game.add.tween(this.petImage).to({
                alpha: 0
            }, 1e3, Phaser.Easing.Quadratic.In), c = this.game.add.tween(this.petImage).to({
                frameNumber: 0
            }, 1, Phaser.Easing.Linear.None), u = this.game.add.tween(this.petImage).to({
                alpha: 1
            }, 1e3, Phaser.Easing.Quadratic.In);
            a.chain(n), n.chain(o), o.chain(r), r.chain(s), s.chain(l), l.chain(c), 
            c.chain(u), u.chain(a), a.start();
            var d = h.Items.getItem("pet", i).data;
            this.epicNameLabel.setText(d.name), this.epicElementSprite.loadNewTexture("atlas-21", "icon-bar-" + d.element, null), 
            this.buyButtonIcon.loadNewTexture("icon-pet-" + i, 0, null), this.buyNowButton.callback = function() {
                e.openWebsite(t.game, "buy-toy-now", void 0, i);
            };
        }, e.prototype.close = function() {
            p.Util.isValid(this.petImage) && this.game.tweens.removeFrom(this.petImage), 
            t.prototype.close.call(this);
        }, e.openWebsite = function(t, e, i, a) {
            if (void 0 === i && (i = !1), void 0 === a && (a = -1), c.Device.iPadMini() || c.Device.isTablet() || c.Device.isNativeApp()) t.prodigy.open.message(t.prodigy.gameContainer.Localizer.getText("BUY_TOY_REQUIRE_COMPUTER_MESSAGE")); else try {
                t.prodigy.network.sendToyEvent(e, 5, a);
                var n = t.prodigy.player, o = p.Util.isValid(n.classIDs) && n.classIDs.length > 0 ? n.classIDs[n.classIDs.length - 1] % 4 : 4, r = "www.prodigygame.com/toys/#", s = "";
                switch (a) {
                  case 125:
                    s = "/toys/big-hex";
                    break;

                  case 126:
                    s = "/toys/florafox";
                    break;

                  case 127:
                    s = "/toys/arctursus";
                    break;

                  case 128:
                    s = "/toys/diveodile";
                    break;

                  case 129:
                    s = "/toys/magmischief";
                    break;

                  case 130:
                    s = "/toys/chillnchar";
                    break;

                  case 131:
                    s = "/toys/tidus";
                    break;

                  case 132:
                    s = "/toys/luma";
                    break;

                  case 133:
                    s = "/toys/eclipse";
                    break;

                  default:
                    s = "";
                }
                i ? u.NetworkManager.openWebsite("" + r + s + "?id=" + t.prodigy.player.userID + "&epoch=" + new Date().valueOf() + "&version=" + e + "&token=" + t.prodigy.network.api.getUserToken() + "&uTest=" + n.userID % 10 + "&cTest=" + o + "&vid=1#toys") : u.NetworkManager.openWebsite("" + r + s + "?id=" + t.prodigy.player.userID + "&epoch=" + new Date().valueOf() + "&version=" + e + "&token=" + t.prodigy.network.api.getUserToken() + "&uTest=" + n.userID % 10 + "&cTest=" + o);
            } catch (t) {
                p.Util.log(t);
            }
        }, e;
    }(i(200).StoreBase);
    e.ToyStore = g;
}, function(t, e, i) {
    var a = i(736), n = i(735), o = i(19);
    t.exports = function(t) {
        return (o(t) ? a : n)(t);
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(5), s = i(0), l = function(t) {
        function e(e, i, a, n, r, l, h) {
            void 0 === h && (h = !1);
            var c = t.call(this, e, i, a, n) || this;
            return c.clickCallback = l, c.npcSprite = c.game.prodigy.create.sprite(0, 0, "atlas-" + r.atlasID, 0), 
            c.npcSprite.animations.add("stand", [ "npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7" ], 10, !0, !1), 
            c.npcSprite.animations.play("stand"), c.npcSprite.inputEnabled = !0, 
            c.npcSprite.anchor.setTo(.5, 1), c.npcSprite.events.onInputDown.add(c.onNPCClick.bind(c), c), 
            h && (c.npcSprite.scale.x = -1), c.add(c.npcSprite), s.Util.isValid(r) && s.Util.isValid(r.indicator) && (c.indicator = c.game.prodigy.create.sprite(0, -(c.npcSprite.height - 10), "atlas-21", r.indicator), 
            c.indicator.anchor.setTo(.5, 1), c.add(c.indicator), c.game.add.tween(c.indicator).to({
                y: c.indicator.y - 50
            }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0)), 
            c.game.prodigy.create.nameFont(c, 0, 0 - c.npcSprite.height - 20, r.name), 
            c;
        }
        return n(e, t), e.prototype.onNPCClick = function() {
            s.Util.isValid(this.clickCallback) && this.clickCallback();
        }, e;
    }(r.Element);
    e.QuestNPC = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            return a.onClickCallback = null, a.onUpCallback = null, a.onOverCallback = null, 
            a.onOutCallback = null, a.defaultY = 0, a.broadcasts = [], a.collisionBlock = null, 
            a.isActive = !0, a.onDestroy.add(function() {
                a.handleDestroy();
            }), a;
        }
        return n(e, t), e.prototype.populate = function(e) {
            var i = this;
            t.prototype.populate.call(this, e), o.GameConstants.get("GameConstants.Build.DEBUG") && r.Util.isValid(this.name) && this.game.prodigy.automation.addTrigger({
                ID: "autoclick-" + this.name,
                context: this,
                callback: function() {
                    return {
                        x: i.worldPosition.x,
                        y: i.worldPosition.y
                    };
                }
            }), this.onClickCallback = null, this.onUpCallback = null, this.onOverCallback = null, 
            this.onOutCallback = null, this.defaultY = this.y, this.broadcasts = e.broadcasts, 
            this.setupCollisionBlock(e);
        }, e.prototype.setActive = function(e) {
            t.prototype.setActive.call(this, e), this.y = this.defaultY;
        }, e.prototype.onDown = function() {
            this.visible && this.isActive && (this.y = this.defaultY, this.game.prodigy.audio.playSFX(18, "pop"), 
            r.Util.isValid(this.onClickCallback) && this.onClickCallback(), this.broadcastAll());
        }, e.prototype.setupCollisionBlock = function(t) {
            var e = this;
            this.collisionBlock = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "empty")), 
            this.collisionBlock.width = t.width, this.collisionBlock.height = t.height, 
            this.collisionBlock.inputEnabled = !0, this.collisionBlock.events.onInputDown.add(function() {
                e.onDown();
            }), this.collisionBlock.events.onInputUp.add(function() {
                e.onUp();
            }), this.collisionBlock.events.onInputOver.add(function() {
                e.onOver();
            }), this.collisionBlock.events.onInputOut.add(function() {
                e.onOut();
            });
        }, e.prototype.broadcastAll = function() {
            var t = this;
            r.Util.isValid(this.broadcasts) && this.broadcasts.forEach(function(e) {
                t.game.broadcaster.broadcast(e.type, t.game.prodigy.open.menus[t.game.prodigy.open.menus.length - 1], e.params);
            });
        }, e.prototype.onUp = function() {
            this.visible && this.isActive && (this.y = this.defaultY - 3, r.Util.isValid(this.onUpCallback) && this.onUpCallback());
        }, e.prototype.onOver = function() {
            this.visible && this.isActive && (this.y = this.defaultY - 3, r.Util.isValid(this.onOverCallback) && this.onOverCallback());
        }, e.prototype.onOut = function() {
            this.visible && this.isActive && (this.y = this.defaultY, r.Util.isValid(this.onOutCallback) && this.onOutCallback());
        }, e.prototype.handleDestroy = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && r.Util.isValid(this.name) && this.game.prodigy.automation.removeAllTriggers(this);
        }, e;
    }(i(27).UIElement);
    e.Button = s;
}, function(t, e, i) {
    var a = i(254), n = i(888), o = i(19);
    t.exports = function(t) {
        return (o(t) ? a : n)(t);
    };
}, function(t, e, i) {
    var a = i(157), n = i(69), o = i(44), r = i(265), s = i(899), l = "[object Map]", h = "[object Set]";
    t.exports = function(t) {
        if (null == t) return 0;
        if (o(t)) return r(t) ? s(t) : t.length;
        var e = n(t);
        return e == l || e == h ? t.size : a(t).length;
    };
}, function(t, e, i) {
    var a = i(275), n = i(918), o = i(44);
    t.exports = function(t) {
        return o(t) ? a(t, !0) : n(t);
    };
}, function(t, e, i) {
    var a = i(267), n = i(44), o = i(265), r = i(151), s = i(102), l = Math.max;
    t.exports = function(t, e, i, h) {
        t = n(t) ? t : s(t), i = i && !h ? r(i) : 0;
        var c = t.length;
        return i < 0 && (i = l(c + i, 0)), o(t) ? i <= c && t.indexOf(e, i) > -1 : !!c && a(t, e, i) > -1;
    };
}, function(t, e) {
    t.exports = function(t) {
        return t;
    };
}, function(t, e, i) {
    var a = i(68), n = 1 / 0;
    t.exports = function(t) {
        if ("string" == typeof t || a(t)) return t;
        var e = t + "";
        return "0" == e && 1 / t == -n ? "-0" : e;
    };
}, function(t, e) {
    t.exports = function(t) {
        return function(e) {
            return t(e);
        };
    };
}, function(t, e, i) {
    (function(t) {
        var a = i(47), n = i(948), o = "object" == typeof e && e && !e.nodeType && e, r = o && "object" == typeof t && t && !t.nodeType && t, s = r && r.exports === o ? a.Buffer : void 0, l = (s ? s.isBuffer : void 0) || n;
        t.exports = l;
    }).call(this, i(106)(t));
}, function(t, e, i) {
    var a = i(949), n = i(45), o = Object.prototype, r = o.hasOwnProperty, s = o.propertyIsEnumerable, l = a(function() {
        return arguments;
    }()) ? a : function(t) {
        return n(t) && r.call(t, "callee") && !s.call(t, "callee");
    };
    t.exports = l;
}, function(t, e) {
    t.exports = function(t, e) {
        return t === e || t != t && e != e;
    };
}, function(t, e) {
    t.exports = function(t, e) {
        for (var i = -1, a = null == t ? 0 : t.length, n = Array(a); ++i < a; ) n[i] = e(t[i], i, t);
        return n;
    };
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        return function() {};
    }();
    e.BaseData = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = function(t) {
        function e(e, i, a, n, o, r, s, l) {
            var h = t.call(this, e, i, a, n) || this;
            return h.SPRITE_ALIAS = {
                slurpy: 88,
                bok: 62
            }, h.npcTag = o, h.onComplete = l, h.updateCallback = s, h;
        }
        return n(e, t), e.prototype.setup = function(t, e, i) {
            this.npc = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-" + this.SPRITE_ALIAS[e], 0)), 
            this.npc.animations.add("stand", [ "npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7" ], 10, !0, !1), 
            this.npc.animations.play("stand"), this.npc.inputEnabled = !0, this.npc.anchor.setTo(.5, 1), 
            this.npc.events.onInputDown.add(this.process.bind(this, t, null, !0), this), 
            i && (this.npc.scale.x = -1), this.game.prodigy.create.nameFont(this, 0, 0 - this.npc.height - 20, e.charAt(0).toUpperCase() + e.slice(1));
        }, e.prototype.process = function(t, e, i) {
            var a;
            if (!r.Util.isValid(t.getQuestState())) return t.startQuest(1), (a = this.queueEventText(t, "onStart", 1)).function(this.updateCallback), 
            a.start(), null;
            var n = t.getQuestState().ID, o = t.getQuest(n);
            t.isQuestComplete(n) && !o.chain ? ((a = this.queueEventText(t, "onComplete", n)).enableSave(!1), 
            r.Util.isValid(o.reward) && a.reward(o.reward, "quest-event-reward"), 
            a.function(t.completeQuest.bind(t, n)), a.enableSave(!0), a.function(this.updateCallback), 
            a.start()) : !t.isQuestStarted(n) && r.Util.isValid(o) ? ((a = this.queueEventText(t, "onStart", n)).function(t.startQuest.bind(t, n)), 
            a.function(this.updateCallback), a.start()) : i && r.Util.isValid(o) ? this.queueEventText(t, "onStart", n).start() : i && this.onComplete();
        }, e.prototype.queueEventText = function(t, e, i) {
            var a = t.getQuest(i), n = this.game.prodigy.event.create();
            if (r.Util.isValid(a[e])) for (var o = 0; o < a[e].length; o++) n.text(a[e][o], this.npcTag);
            return n;
        }, e.prototype.flip = function(t) {
            this.npc.scale.x = t ? -1 : 1;
        }, e;
    }(o.Element);
    e.QuestEvent = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t(t, e, i) {
            this.assets = [], this.locations = [], this.overrideNames = {}, this.festivalName = "", 
            this.game = t, this.assets = e, this.locations = i;
        }
        return t.prototype.getOverrideName = function(t) {
            return this.overrideNames[t];
        }, t.prototype.active = function(t) {
            for (var e = 0; e < this.locations.length; e++) {
                if (this.locations[e] === t) return this.game.prodigy.player.backpack.hasItem("key", 13) > 0;
            }
            return !1;
        }, t.prototype.getButtons = function() {
            return [];
        }, t.prototype.getAssets = function(t) {
            return a.Util.isValid(this.getOverrideName(t)) ? this.assets.concat(this.getOverrideName(t)) : this.assets;
        }, t.prototype.init = function(t) {
            return {};
        }, t.prototype.applySkin = function(t) {}, t;
    }();
    e.Skin = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        return function(t) {
            this.game = t;
        };
    }();
    e.NetworkHandler = a;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t.StoreDataProvider = "StoreDataProvider", t.CacheExpirationStrategy = "CacheExpirationStrategy", 
        t.CacheStorageStrategy = "CacheStorageStrategy";
    }(e.InjectionIdentifiers || (e.InjectionIdentifiers = {}));
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t(t) {
            this.seed = t, this.currentSeed = t;
        }
        return t.prototype.next = function() {
            return this.currentSeed = this.currentSeed + t.CONSTANT, this.generate(this.currentSeed);
        }, t.prototype.jumpFromStart = function(e) {
            for (var i = 0, a = 0; a <= e; a++) i = this.generate(this.seed + a * t.CONSTANT);
            return i;
        }, t.prototype.jump = function(t) {
            for (var e = this.generate(), i = 0; i < t; i++) e = this.next();
            return e;
        }, t.prototype.generate = function(t) {
            return (9301 * (a.Util.isValid(t) ? t : this.seed) + 49297) % 233280 / 233280;
        }, t.CONSTANT = 2949751391065249e4, t;
    }();
    e.SeededRandomGenerator = n;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(2), s = i(22), l = i(4), h = i(15), c = i(0), p = function(t) {
        function e(e, i, a, n, s, l, p, u, d, g, y, f, m) {
            var _ = t.call(this, e, i, new h.Monster(e, {
                ID: u.monsterData.ID
            }), 1, a, n, null, f) || this;
            if (c.Util.isValid(_.monsterData) || (_.monsterData = u.monsterData), 
            _.unique = d || !1, _.onEnc = g, _.encountered = !1, _.ID = p, _.user = s, 
            _.path = l, _.screen = m, c.Util.isValid(u.range) || (u.range = 4e4 * r.GameConstants.get("GameConstants.Debug.SCALE_ENCOUNTER_DISTANCE")), 
            r.GameConstants.get("GameConstants.Debug.MONSTER_RADIUS_VISIBLE") && c.Util.isValid(_.screen)) {
                var v = e.add.graphics(0, 0);
                v.beginFill(16711680, .5), v.drawCircle(a, n, 2 * Math.sqrt(u.range)), 
                _.screen.above.add(v);
            }
            return u.ignorePathfindingForAlert = o(u, "ignorePathfindingForAlert", !1), 
            u.unique = d, _.mods = u, u.randDir && Math.random() < .5 && _.flip(), 
            _.mods.encounter = [ _.monsterData ], y && (_.alpha = .5, _.respawnTimer = new Date().getTime() + 1e4), 
            _.reload(), _.visible = !1, _;
        }
        return n(e, t), e.prototype.process = function(t) {
            this.zone = t;
            var e = !1;
            this.highlight(!1), this.visible = !0, c.Util.isValid(this.mods.highlight) && this.mods.highlight && this.highlight(!0, -40, -90);
            var i = t.getQuestState();
            if (c.Util.isValid(i) && c.Util.isValid(i.req)) {
                this.unique && 1 === i.state[this.ID] && (this.visible = !1);
                var a = c.Util.isValid(i.req.U) && i.req.U;
                if ("pet" === i.req.type && i.req.N > 0 && this.source.getID() === i.req.ID && this.unique === a) e = !0; else if ("item" === i.req.type && this.game.prodigy.player.backpack.hasItem("item", i.req.ID) < i.req.N) {
                    if (c.Util.isValid(this.mods.drops)) for (var n = 0; n < this.mods.drops.length; n++) {
                        "item" === (o = this.mods.drops[n]).type && o.ID === i.req.ID && (e = !0);
                    }
                    if (c.Util.isValid(this.monsterData.drops)) for (n = 0; n < this.monsterData.drops.length; n++) {
                        var o;
                        "item" === (o = this.monsterData.drops[n]).type && o.ID === i.req.ID && (e = !0);
                    }
                }
                e && this.highlight(!0, -40, -90);
            }
        }, e.prototype.update = function() {
            t.prototype.update.call(this), this.respawnTimer < new Date().getTime() && (delete this.respawnTimer, 
            this.alpha = 1), this.checkPlayerInRange();
        }, e.prototype.checkPlayerInRange = function() {
            var t = Phaser.Math.distanceSq(this.x, this.y, this.user.x, this.user.y);
            !this.visible || c.Util.isValid(this.respawnTimer) || this.started || this.user.evtProc || !(t < this.mods.range) || !this.mods.ignorePathfindingForAlert && this.path.isPathBlocked(this.x, this.y, this.user.x, this.user.y) || this.alert();
        }, e.prototype.alert = function() {
            this.started = !0, this.encountered = !0, this.highlight(!1), this.game.prodigy.audio.pauseBGM(), 
            this.game.prodigy.audio.playSFX(19, "monster"), this.user.evtProc = !0, 
            this.chat(1, 80), this.user.setPath([]), this.user.x = Math.floor(this.user.x), 
            this.user.y = Math.floor(this.user.y), this.game.input.enabled = !1, 
            this.game.prodigy.network.emitMessage({
                action: "move",
                data: {
                    userID: this.game.prodigy.player.userID,
                    path: [ {
                        x: this.user.x,
                        y: this.user.y
                    } ]
                }
            }), this.hop(300, this.engage.bind(this));
        }, e.prototype.engage = function() {
            this.setPath([ {
                x: this.user.x,
                y: this.user.y
            } ], this.startBattle.bind(this));
        }, e.prototype.onEndBattle = function(t, e, i, a, n, o, r, s) {
            o && (e.defeatMonster(a, n, r), c.Util.isDefined(s) && s()), o ? t.prodigy.world.teleport(i, this.x, this.y) : t.prodigy.world.teleport(i);
        }, e.prototype.startBattle = function() {
            if (this.game.input.enabled = !0, c.Util.isValid(this.zone.currency) && c.Util.isValid(this.mods) && (c.Util.isValid(this.mods.drops) || (this.mods.drops = []), 
            this.mods.drops.push({
                type: "currency",
                ID: this.zone.currency,
                N: 20
            })), r.GameConstants.get("GameConstants.Debug.AUTO_RESOLVE_BATTLES_ENABLED")) {
                this.user.evtProc = !1;
                var t = this.game.prodigy.event.create();
                if (t.explode(this.x - 80, this.y - 80, 160, 160, 1, !1, !0), t.function(this.setVisible.bind(this, !1)), 
                t.reward(l.Items.getRandomizedDropsFromCreatures(this.mods.drops, this.source, !(c.Util.isValid(this.mods) && this.mods.dropsDisabled))), 
                t.function(this.zone.defeatMonster.bind(this.zone, this.source.getID(), this.ID, this.unique)), 
                c.Util.isValid(this.onEnc) && t.function(this.onEnc), c.Util.isValid(this.screen)) {
                    var e = this.screen.events.indexOf(this);
                    e > -1 && this.screen.events.splice(e, 1), t.function(this.screen.process.bind(this.screen));
                }
                t.function(this.destroy.bind(this)), t.start();
            } else this.game.prodigy.network.sendBattleStartTypeEvent("RandomMonsterEncounter"), 
            this.game.prodigy.battle.start(this.mods, this.onEndBattle.bind(this, this.game, this.zone, this.mods.onEnd, this.source.getID(), this.ID, !1, this.unique, this.onEnc), this.onEndBattle.bind(this, this.game, this.zone, this.mods.onEnd, this.source.getID(), this.ID, !0, this.unique, this.onEnc), null, this.mods.onFaint);
        }, e.prototype.setVisible = function(t) {
            this.visible = t;
        }, e.prototype.patrol = function(t) {
            this.encountered || this.setPath(t, this.patrol.bind(this, t));
        }, e;
    }(s.MonsterContainer);
    e.MonsterEvent = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(i, a) {
            return t.call(this, i, a, e.data.stateName, e.data.questId, e.data.defaultValue, e.data.completeDialogue) || this;
        }
        return n(e, t), e.prototype.getSpawn = function() {
            var t = new Date().getDate() + this.game.prodigy.player.getLatestClassIDLegacy();
            return this.game.seededRandom.pick(e.data.spawns, t);
        }, e.data = {
            stateName: "world-dailyQuests-0",
            questId: 0,
            defaultValue: 0,
            completeValue: 1,
            completeDialogue: 8,
            bonusStars: 100,
            spawns: [ {
                location: "forest-B7",
                dialogue: 3
            }, {
                location: "skywatch-B1",
                dialogue: 5
            }, {
                location: "bonfire_spire-C1",
                dialogue: 6
            }, {
                location: "shipwreck_shore-C12",
                dialogue: 7
            }, {
                location: "shipwreck_shore-C11",
                dialogue: 7
            } ]
        }, e;
    }(i(769).Daily);
    e.PippetEncounter = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(2), s = i(16), l = i(3), h = i(34), c = i(52), p = i(773), u = i(4), d = i(15), g = i(0), y = i(14), f = i(22), m = function(t) {
        function e(i, a, n, o, s, h, c, p, u, d) {
            var y = t.call(this, i, a, n, o, s, h) || this;
            return y.clickEnabled = !0, y.digSetup = !1, y.showHandIK = !1, y.animState = "", 
            y.lastSmoothing = null, y.activeMount = null, y.isInTransformedMode = !1, 
            y.showTransformationEffect = !1, y.isMainPlayer = !1, y.transformationCompleted = !1, 
            y.timerForPlayerDataUpdate = 0, y.hideHat = !1, y.transformID = null, 
            y.animStates = null, y.anchorOffsetY = 0, y.fixedIKPositions = null, 
            y.tweenAnimations = {}, y.transforming = !1, y.transformationTimer = null, 
            y.smoke = null, y.data = {}, y.outfitTag = null, y.hatTag = null, y.hairTag = null, 
            y.faceTag = null, y.weaponTag = null, y.hairMetadata = null, y.hatMetadata = null, 
            y.outfitMetadata = null, y.faceMetadata = null, y.weaponMetadata = null, 
            y.flagsToComplete = 0, y.transformedObject = null, y.rightArm = null, 
            y.leftArm = null, y.shirt = null, y.legs = null, y.hat = null, y.weapon = null, 
            y.neck = null, y.head = null, y.eyes = null, y.hair = null, y.collisionHead = null, 
            y.collisionBody = null, y.clickCallback = null, y.petWalkTrigger = null, 
            y.updateTime = null, y.transformedPet = null, y.forceWeaponVisual = !1, 
            y.hideMount = p, y.headOnly = c, y.isMainPlayer = !!g.Util.isValid(u) && u, 
            y.hideHat = !!g.Util.isValid(d) && d, g.Util.isValid(e.smoothOverride) && (y.lastSmoothing = e.smoothOverride), 
            y.animStates = {
                STAND: "stand",
                WALK: "walk",
                DIG: "dig",
                ATTACK: "attack",
                ATTACK_BIG: "attackBig",
                STAND_FLOAT: "standFloat",
                WALK_FLOAT: "walkFloat",
                FLOAT_DIG: "floatDig",
                ATTACK_FLOAT: "attackFloat",
                SETUP: "setup",
                STATIC: "static"
            }, y.anchorOffsetY = o > 1 ? 0 : -12, y.fixedIKPositions = {
                head: {
                    x: 1,
                    y: y.anchorOffsetY - 43
                },
                neck: {
                    x: -5,
                    y: y.anchorOffsetY - 14
                }
            }, r.GameConstants.get("GameConstants.Build.DEBUG") && (y.game.prodigy.automation.addTrigger({
                ID: "autoclick-" + y.source.appearance.data.name,
                context: y,
                callback: function() {
                    return {
                        x: y.worldPosition.x,
                        y: y.worldPosition.y
                    };
                }
            }), y.game.broadcaster.addAppListener(l.EDebugEvents.AutoClick, y.onDebugAutoClick.bind(y), y)), 
            y.isMainPlayer && y.game.broadcaster.addAppListener(l.EUIEvents.MountTogglePressed, y.toggleMount.bind(y), y, "mount"), 
            y;
        }
        return n(e, t), e.overrideSmoothing = function(t) {
            e.smoothOverride = t;
        }, e.prototype.forceOutfit = function(t) {
            this.digSetup = 39 === t;
        }, e.prototype.startLoad = function() {
            var e = this;
            if (t.prototype.startLoad.call(this), this.loading = !0, this.transforming = this.transformID !== this.source.transformID, 
            this.transformID = this.source.transformID, this.game.input.enabled = !0, 
            g.Util.isValid(this.transformationTimer) && (this.transformationTimer.destroy(), 
            this.transformationTimer = null), this.showTransformationEffect) {
                this.game.broadcaster.broadcast(l.EPlayerLocomotionEvents.StopPlayer), 
                this.showTransformationEffect = !1, this.showTransformationSmoke(function() {
                    g.Util.isValid(e.game) && e.setup();
                }.bind(this));
            } else this.setup();
        }, e.prototype.showTransformationSmoke = function(t) {
            var e = this, i = this.game.prodigy.event.create();
            this.isMainPlayer && i.enableInput(!1), this.isInTransformedMode || (this.setNewAnimationState(this.animStates.ATTACK, this.stand.bind(this), !0), 
            i.delay(900)), i.function(function() {
                if (g.Util.isValid(e.game) && g.Util.isValid(e.parent)) {
                    var t = c.RenderFactory.createRenderer("spine-13", {
                        type: "spine",
                        anchor: {
                            x: 0,
                            y: 0
                        }
                    });
                    new h.GameObject(e.game, e.parent, [ t ], e.x, e.y), t.playAnimation("spine-smoke-2", !1);
                }
            }.bind(this)), i.delay(700), i.function(t), this.isMainPlayer && i.enableInput(!0), 
            i.start();
        }, e.prototype.showSmoke = function() {
            g.Util.isValid(this.smoke) && this.smoke.destroy(), this.smoke = this.game.prodigy.create.element(this, 0, 0);
            for (var t = 0; t < 10; t++) {
                var e = this.game.prodigy.create.sprite(0, 0, "atlas-21", "smoke");
                e.scale.x = e.scale.y = .5 * this.setScale, e.anchor.setTo(.5, .5);
                var i = Math.floor(60 * Math.random() - 30), a = Math.floor(50 * Math.random() - 50) * this.setScale;
                this.game.add.tween(e).to({
                    y: a.toString(),
                    x: i.toString(),
                    angle: Math.floor(200 * Math.random() - 100),
                    alpha: 0
                }, Math.floor(1e3 * Math.random()) + 500, Phaser.Easing.Quadratic.Out).start(), 
                this.smoke.add(e);
            }
        }, e.prototype.setupAssetsToLoad = function() {
            u.Items.doesExist("outfit", this.data.outfit) || (this.data.outfit = 1);
            var t = this.source.appearance.getGender();
            if (this.outfitTag = t + "-outfit-" + this.data.outfit, this.hatTag = "player-hat-" + this.data.hat, 
            this.hairTag = "player-hair-" + this.data.hair.style, this.faceTag = "player-face-" + this.data.face, 
            this.weaponTag = "player-weapon-" + this.data.weapon, this.hairMetadata = u.Items.getItemMetadata("hair", this.data.hair.style), 
            this.hatMetadata = g.Util.isValid(this.data.hat) ? u.Items.getItemMetadata("hat", this.data.hat) : null, 
            this.outfitMetadata = u.Items.getItemMetadata("outfit", this.data.outfit).assets[t], 
            this.faceMetadata = u.Items.getItemMetadata("face", this.data.face), 
            this.weaponMetadata = g.Util.isValid(this.data.weapon) ? u.Items.getItemMetadata("weapon", this.data.weapon) : null, 
            g.Util.isValid(this.hatMetadata) && g.Util.isValid(this.hatMetadata.hairHide) && this.hatMetadata.hideReplace >= 0 && !this.hideHat) for (var e = 0; e < this.hatMetadata.hairHide.length; e++) if (-1 === this.hatMetadata.hairHide[e] || this.data.hair.style === this.hatMetadata.hairHide[e]) {
                this.hairTag = "player-hair-" + this.hatMetadata.hideReplace, this.hairMetadata = u.Items.getItemMetadata("hair", this.hatMetadata.hideReplace);
                break;
            }
            var i = {
                "player-head-1": {
                    type: "singleImage",
                    v: 5
                },
                "player-neck-1": {
                    type: "singleImage",
                    v: 1
                }
            };
            i[this.hairTag] = this.hairMetadata, i[this.faceTag] = this.faceMetadata, 
            g.Util.isValid(this.data.weapon) && (i[this.weaponTag] = this.weaponMetadata), 
            g.Util.isValid(this.data.hat) && !this.hideHat && (i[this.hatTag] = this.hatMetadata), 
            this.game.prodigy.assets.appendAssets(i);
        }, e.prototype.setup = function(t, e) {
            this.visible = !1, this.setData(), this.setupAssetsToLoad(), this.flagsToComplete = 8, 
            this.destroyMount(), this.sprites.removeAll(!0), g.Util.isValid(this.source.data.playerTransformation) && this.source.data.playerTransformation.transformID > -1 ? (this.flagsToComplete++, 
            this.setTransformationContainer(this.source.data.playerTransformation.transformType, this.source.data.playerTransformation.transformID), 
            this.transformationCompleted = !0, this.isInTransformedMode = !0) : (this.transformedPet = null, 
            this.transformedObject = null, this.isInTransformedMode = !1), this.rightArm = this.game.prodigy.create.sprite(this.outfitMetadata.rightArm.x, this.outfitMetadata.rightArm.y + this.anchorOffsetY, this.outfitTag, "rightArm_0", null, this.updateRightArm.bind(this)), 
            this.leftArm = this.game.prodigy.create.sprite(this.outfitMetadata.leftArm.x, this.outfitMetadata.leftArm.y + this.anchorOffsetY, this.outfitTag, "leftArm_0", null, this.updateLeftArm.bind(this)), 
            this.shirt = this.game.prodigy.create.sprite(this.outfitMetadata.shirt.x, this.outfitMetadata.shirt.y + this.anchorOffsetY, this.outfitTag, "outfit", null, this.updateShirt.bind(this)), 
            this.legs = this.game.prodigy.create.sprite(this.outfitMetadata.legs.x, this.outfitMetadata.legs.y + this.anchorOffsetY, this.outfitTag, "legs_0", null, this.updateLegs.bind(this)), 
            g.Util.isValid(this.data.hat) && !this.hideHat ? (this.flagsToComplete++, 
            this.hat = this.game.prodigy.create.sprite(this.hatMetadata.x, this.hatMetadata.y + this.anchorOffsetY, this.hatTag, null, null, this.updateHat.bind(this))) : this.hat = null, 
            (this.setScale > 1 || this.forceWeaponVisual) && g.Util.isValid(this.data.weapon) || this.digSetup ? (this.flagsToComplete++, 
            this.weapon = this.game.prodigy.create.sprite(this.leftArm.x + this.outfitMetadata.leftArm.handIK.x, this.leftArm.y + this.outfitMetadata.leftArm.handIK.y, this.weaponTag, null, null, this.updateWeapon.bind(this))) : this.weapon = null, 
            this.game.prodigy.colorReplaceController.checkColorAsset("player-head-1", [ {
                color: this.data.skinColor,
                itemColor: "skinColor"
            } ], this.updateHead.bind(this)), this.game.prodigy.colorReplaceController.checkColorAsset("player-neck-1", [ {
                color: this.data.skinColor,
                itemColor: "skinColor"
            } ], this.updateNeck.bind(this)), this.game.prodigy.colorReplaceController.checkColorAsset(this.faceTag, [ {
                color: this.data.faceColor,
                itemColor: "faceColor"
            }, {
                color: this.data.eyeColor,
                itemColor: "eyeColor",
                base: [ [ 85, 85, 85 ] ]
            } ], this.updateFace.bind(this)), this.game.prodigy.colorReplaceController.checkColorAsset(this.hairTag, [ {
                color: this.data.hair.color,
                itemColor: "hairColor"
            } ], this.updateHair.bind(this));
        }, e.prototype.mountSprites = function() {
            var t = 1 === this.setScale;
            g.Util.isValid(e.smoothOverride) && (t = e.smoothOverride), this.headOnly || this.sprites.add(this.leftArm), 
            this.headOnly || this.digSetup || g.Util.isValid(this.weapon) && (this.sprites.add(this.weapon), 
            this.weapon.smoothed = t), this.headOnly || this.sprites.add(this.neck), 
            this.sprites.add(this.head), this.head.addChild(this.eyes), this.head.addChild(this.hair), 
            this.headOnly || (this.sprites.add(this.legs), this.sprites.add(this.shirt), 
            this.sprites.add(this.rightArm)), g.Util.isValid(this.hat) && !this.hideHat && (this.sprites.add(this.hat), 
            this.hat.smoothed = t), !this.headOnly && this.digSetup && g.Util.isValid(this.weapon) && (this.sprites.add(this.weapon), 
            this.weapon.smoothed = t), g.Util.isValid(this.transformedObject) && (this.sprites.add(this.transformedObject), 
            this.transformedObject.smoothed = t), this.neck.smoothed = t, this.head.smoothed = t, 
            this.hair.smoothed = t, this.eyes.smoothed = t, this.leftArm.smoothed = t, 
            this.rightArm.smoothed = t, this.shirt.smoothed = t, this.legs.smoothed = t, 
            this.sprites.scale.setTo(this.sprites.scale.x < 0 ? -this.setScale : this.setScale, this.setScale), 
            this.setupCollisionBlock(), this.x = Math.round(this.x), this.y = Math.round(this.y);
        }, e.prototype.onLoadComplete = function() {
            if (this.flagsToComplete--, !(this.flagsToComplete > 0) && g.Util.isValid(this.game)) {
                this.mountSprites(), this.setupAnimations(), g.Util.isValid(this.source.data.playerTransformation) && this.source.data.playerTransformation.transformID > -1 && this.showTransformationContainer(this.source.data.playerTransformation.transformType), 
                this.transforming && this.showSmoke(), this.stand();
                var t = this.source.mount.getMountID();
                !this.hideMount && g.Util.isValid(t) ? this.createMountByID(t) : this.destroyMount(), 
                g.Util.isValid(this.loadedCallback) && this.loadedCallback(), this.complete = !0, 
                this.loading = !1, this.visible = !0, g.Util.isValid(this.game) && this.game.broadcaster.broadcast(l.ECreatureEvents.PlayerLoaded, this.game, [ this ]);
            }
        }, e.prototype.updateRightArm = function(t) {
            g.Util.isValid(this.outfitMetadata) && g.Util.isValid(this.outfitMetadata.rightArm.pivot) ? (t.anchor.x = this.outfitMetadata.rightArm.pivot.x / t.width, 
            t.anchor.y = this.outfitMetadata.rightArm.pivot.y / t.height) : (t.anchor.x = .625, 
            t.anchor.y = .35), this.onLoadComplete();
        }, e.prototype.updateLeftArm = function(t) {
            if (g.Util.isValid(this.outfitMetadata) && g.Util.isValid(this.outfitMetadata.leftArm.pivot) ? (t.anchor.x = this.outfitMetadata.leftArm.pivot.x / t.width, 
            t.anchor.y = this.outfitMetadata.leftArm.pivot.y / t.height) : (t.anchor.x = .3125, 
            t.anchor.y = .35), this.showHandIK && g.Util.isValid(this.game)) {
                var e = this.game.prodigy.create.sprite(this.outfitMetadata.leftArm.handIK.x, this.outfitMetadata.leftArm.handIK.y, "atlas-21", "empty");
                e.anchor.set(.5, .5), e.scale.set(.1), t.addChild(e);
            }
            this.onLoadComplete();
        }, e.prototype.updateShirt = function(t) {
            g.Util.has(this, "outfitMetadata.shirt.pivot") ? (t.anchor.x = this.outfitMetadata.shirt.pivot.x / t.width, 
            t.anchor.y = this.outfitMetadata.shirt.pivot.y / t.height) : (t.anchor.x = 62 / 96, 
            t.anchor.y = .5), this.onLoadComplete();
        }, e.prototype.updateLegs = function(t) {
            g.Util.has(this, "outfitMetadata.legs.pivot") ? (t.anchor.x = this.outfitMetadata.legs.pivot.x / t.width, 
            t.anchor.y = this.outfitMetadata.legs.pivot.y / t.width) : (t.anchor.x = .5, 
            t.anchor.y = .2), this.onLoadComplete();
        }, e.prototype.updateHair = function() {
            if (g.Util.isValid(this.game)) {
                if (this.hair = this.game.prodigy.create.sprite(this.hairMetadata.x, this.hairMetadata.y, this.hairTag + "-" + this.data.hair.color), 
                g.Util.isValid(this.hairMetadata) && g.Util.isValid(this.hairMetadata.pivot) ? (this.hair.anchor.x = this.hairMetadata.pivot.x / this.hair.width, 
                this.hair.anchor.y = this.hairMetadata.pivot.y / this.hair.height) : (this.hair.anchor.x = 64 / 112, 
                this.hair.anchor.y = 36 / 112), g.Util.isValid(this.hatMetadata) && -1 === this.hatMetadata.hideReplace && this.hatMetadata.hairHide.length > 0 && !this.hideHat) for (var t = 0; t < this.hatMetadata.hairHide.length; t++) if (-1 === this.hatMetadata.hairHide[t] || this.hatMetadata.hairHide[t] === this.data.hair.style) {
                    this.hair.visible = !1;
                    break;
                }
                this.onLoadComplete();
            }
        }, e.prototype.updateHat = function(t) {
            g.Util.isValid(this.hatMetadata) && g.Util.isValid(this.hatMetadata.pivot) ? (t.anchor.x = this.hatMetadata.pivot.x / t.width, 
            t.anchor.y = this.hatMetadata.pivot.y / t.height) : (t.anchor.x = 71 / 128, 
            t.anchor.y = .4375), this.onLoadComplete();
        }, e.prototype.updateFace = function() {
            g.Util.isValid(this.game) && (this.eyes = this.game.prodigy.create.sprite(0, 0, "player-face-" + this.data.face + "-" + this.data.faceColor + "-" + this.data.eyeColor), 
            this.eyes.anchor.set(26 / 48, 21 / 32), this.onLoadComplete());
        }, e.prototype.updateHead = function() {
            g.Util.isValid(this.game) && (this.game.broadcaster.addAppListener(l.EDebugEvents.AutoClickScene, this.onDebugAutoClick.bind(this), this), 
            this.game.broadcaster.addAppListener(l.EDebugEvents.AutoClickList, this.onDebugAutoClickList.bind(this), this), 
            this.head = this.game.prodigy.create.sprite(this.fixedIKPositions.head.x, this.fixedIKPositions.head.y, "player-head-1-" + this.data.skinColor), 
            this.head.anchor.set(31 / 52, 37 / 49), this.onLoadComplete());
        }, e.prototype.setupCollisionBlock = function() {
            g.Util.isValid(this.game) && (this.collisionHead = this.sprites.add(this.game.prodigy.create.sprite(-40, -100, "atlas-18", "empty")), 
            this.collisionHead.width = 70, this.collisionHead.height = 60, this.collisionHead.inputEnabled = !0, 
            this.collisionHead.alpha = .5, this.collisionHead.events.onInputDown.add(this.playerClicked.bind(this)), 
            this.collisionBody = this.sprites.add(this.game.prodigy.create.sprite(-30, -41, "atlas-18", "empty")), 
            this.collisionBody.width = 50, this.collisionBody.height = 40, this.collisionBody.inputEnabled = !0, 
            this.collisionBody.alpha = .5, this.collisionBody.events.onInputDown.add(this.playerClicked.bind(this)));
        }, e.prototype.updateNeck = function() {
            g.Util.isValid(this.game) && (this.neck = this.game.prodigy.create.sprite(this.fixedIKPositions.neck.x, this.fixedIKPositions.neck.y, "player-neck-1-" + this.data.skinColor), 
            this.neck.anchor.x = 5 / 6, this.neck.anchor.y = 2, this.neck.angle = 0, 
            this.onLoadComplete());
        }, e.prototype.updateWeapon = function(t) {
            g.Util.isValid(this.weaponMetadata) ? (t.anchor.x = 0 !== o(this.weaponMetadata, "anchor.x", 0) ? this.weaponMetadata.anchor.x : .5, 
            t.anchor.y = 0 !== o(this.weaponMetadata, "anchor.y", 0) ? this.weaponMetadata.anchor.y : .85, 
            t.angle = g.Util.isValid(this.weaponMetadata.angle) ? this.weaponMetadata.angle : 45) : (t.anchor.x = .5, 
            t.anchor.y = .85, t.angle = 45), this.onLoadComplete();
        }, e.prototype.randomSetup = function() {
            this.source.appearance.data.gender = Math.random() > .5 ? "male" : "female", 
            this.source.equipment.data.outfit = Math.floor(56 * Math.random() + 1), 
            this.source.equipment.data.hat = Math.random() > .4 ? Math.floor(56 * Math.random() + 1) : null, 
            this.source.equipment.data.weapon = Math.floor(56 * Math.random() + 1), 
            this.source.appearance.data.hair = {
                style: Math.floor(15 * Math.random()) + 1,
                color: Math.floor(21 * Math.random()) + 1
            }, this.source.appearance.data.eyeColor = Math.floor(15 * Math.random()) + 1, 
            this.source.appearance.data.face = Math.floor(15 * Math.random()) + 1, 
            this.source.appearance.data.skinColor = Math.floor(5 * Math.random()) + 1;
        }, e.prototype.setData = function() {
            this.data = {
                hair: this.source.appearance.getHair(),
                eyeColor: this.source.appearance.getEyeColor(),
                face: this.source.appearance.getFace(),
                skinColor: this.source.appearance.getSkinColor(),
                weapon: this.digSetup ? 96 : this.source.equipment.getEquipment("weapon"),
                hat: this.source.equipment.getEquipment("hat"),
                outfit: g.Util.isValid(this.source.equipment.getEquipment("outfit")) ? this.source.equipment.getEquipment("outfit") : 1,
                mountID: this.source.mount.getMountID()
            }, this.data.faceColor = u.Items.getItemMetadata("skinColor", this.data.skinColor).faceColor;
        }, e.prototype.playerClicked = function() {
            g.Util.isValid(this.clickCallback) && this.clickEnabled && this.clickCallback();
        }, e.prototype.onDebugAutoClick = function(t) {
            g.Util.isValid(this.clickCallback) && t === "player_" + this.x + "_" + this.y && this.clickCallback();
        }, e.prototype.onDebugAutoClickList = function() {
            g.Util.log("Scene Tag: player_" + this.x + "_" + this.y);
        }, e.prototype.stopListeners = function() {
            t.prototype.stopListeners.call(this), r.GameConstants.get("GameConstants.Build.DEBUG") && (this.game.prodigy.automation.removeAllTriggers(this), 
            this.game.broadcaster.removeAppListener(l.EDebugEvents.AutoClickScene, this, this.game), 
            this.game.broadcaster.removeAppListener(l.EDebugEvents.AutoClickList, this, this.game));
        }, e.prototype.damaged = function() {
            this.game.add.tween(this).to({
                alpha: .5
            }, 100, Phaser.Easing.Quadratic.InOut, !0, 0, r.GameConstants.MAX_SAFE_INTEGER).start(), 
            this.speed = 0;
        }, e.prototype.broadcastPlayerFullInfo = function(t) {
            if (g.Util.isValid(this.locomotion)) {
                var e = {
                    action: "info",
                    data: {
                        userID: this.source.userID,
                        target: this.locomotion.target,
                        appearance: this.source.appearance.getData(),
                        isMember: this.source.hasMembership() ? 1 : 0,
                        equipment: this.source.equipment.data,
                        data: this.source.data,
                        mount: this.source.mount.getMountData()
                    }
                };
                g.Util.isValid(t) && (e.target = t), this.game.prodigy.network.emitMessage(e);
            }
        }, e.prototype.setupAnimations = function() {
            if (!this.headOnly) {
                this.tweenAnimations = {};
                var t = [], e = 0, a = i(771);
                for (var n in a) for (var o in this.tweenAnimations[n] = [], a[n]) if (g.Util.isValid(this[o])) for (var l in a[n][o]) {
                    t = [];
                    var h = l, c = new s.TweenController(this[o]);
                    for (e = 0; e < a[n][o][l].frames.length; e++) "x" === l || "y" === l || "angle" === l ? "walk" === n && "legs" === o && "y" === l ? t.push(a[n][o][l].frames[e] + this[o][l] + ("male" === this.source.appearance.getGender() ? 2 : 4)) : t.push(a[n][o][l].frames[e] + this[o][l]) : "xScale" === l ? (h = "x", 
                    t.push(a[n][o][l].frames[e])) : "yScale" === l ? (h = "y", t.push(a[n][o][l].frames[e])) : "images/right-arm" === a[n][o][l].frames[e] ? t.push("rightArm_0") : t.push(o + "_" + a[n][o][l].frames[e]);
                    if ("xScale" !== l && "yScale" !== l || (c = new s.TweenController(this[o].scale)), 
                    c.set(h, t, a[n][o][l].interval, a[n].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), 
                    this.tweenAnimations[n].push(c), "head" === o) {
                        for (var p = [ "hat" ], u = l, d = !1, y = 0; y < p.length; y++) if (!1 === a[n].hasOwnProperty(p[y]) && this[p[y]]) {
                            if (t = [], "x" !== l || !d) for (e = 0; e < a[n][o][l].frames.length; e++) "x" === l || "y" === l || "angle" === l ? t.push(a[n][o][l].frames[e] + this[p[y]][l]) : "xScale" === l ? (u = "x", 
                            t.push(a[n][o][l].frames[e])) : "yScale" === l && (u = "y", 
                            t.push(a[n][o][l].frames[e]));
                            var f = new s.TweenController(this[p[y]]);
                            if ("yScale" === l) {
                                var m = new s.TweenController(this[p[y]].scale);
                                m.set(u, t, a[n][o][l].interval, a[n].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), 
                                this.tweenAnimations[n].push(m);
                            } else if ("xScale" === l) {
                                var _ = new s.TweenController(this[p[y]].scale);
                                if (_.set(u, t, a[n][o][l].interval, a[n].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), 
                                this.tweenAnimations[n].push(_), t.length > 1) {
                                    for (var v = [], E = this[p[y]].x, b = 0; b < t.length; b++) -1 === t[b] ? v.push(-1 * E + a[n][o].x.frames[b] / 2 - 2) : g.Util.isValid(a[n][o].x) && g.Util.isValid(a[n][o].x.frames) && g.Util.isValid(g.Util.isValid(a[n][o].x.frames[b])) ? v.push(E + a[n][o].x.frames[b]) : v.push(E);
                                    var O = new s.TweenController(this[p[y]]);
                                    O.set("x", v, a[n][o][l].interval, a[n].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), 
                                    d || (d = !0, this.tweenAnimations[n].push(O));
                                }
                            } else f.set(u, t, a[n][o][l].interval, a[n].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), 
                            this.tweenAnimations[n].push(f);
                        }
                    } else if ("shirt" === o) for (p = [ "neck" ], y = 0; y < p.length; y++) if (!1 === a[n].hasOwnProperty(p[y]) && this[p[y]]) {
                        for (t = [], e = 0; e < a[n][o][l].frames.length; e++) "x" !== l && "y" !== l && "angle" !== l || t.push(a[n][o][l].frames[e] + this[p[y]][l]);
                        (f = new s.TweenController(this[p[y]])).set(l, t, a[n][o][l].interval, a[n].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), 
                        this.tweenAnimations[n].push(f);
                    }
                } else if ("character" === o) for (var l in a[n][o]) {
                    c = new s.TweenController(this.sprites), h = l;
                    for (t = [], e = 0; e < a[n][o][l].frames.length; e++) "x" === l ? t.push(a[n][o][l].frames[e]) : "y" === l ? t.push(a[n][o][l].frames[e]) : "xScale" === l ? (h = "x", 
                    t.push(a[n][o][l].frames[e])) : "yScale" === l && (h = "y", 
                    t.push(a[n][o][l].frames[e]));
                    "xScale" !== l && "yScale" !== l || (c = new s.TweenController(this.sprites.scale)), 
                    c.set(h, t, a[n][o][l].interval, a[n].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), 
                    this.tweenAnimations[n].push(c);
                }
            }
        }, e.prototype.setNewAnimationState = function(t, e, i) {
            if (!(this.animState === t && t === this.animStates.WALK || this.headOnly)) {
                g.Util.isValid(this.game) && this.game.broadcaster.broadcast(l.EPlayerContainerEvents.NewAnimationStateSet, this, [ t ]), 
                this.animState = t;
                var a = new Date().getTime();
                if (this.tweenAnimations.hasOwnProperty(this.animState)) for (var n = 0; n < this.tweenAnimations[this.animState].length; n++) this.tweenAnimations[this.animState][n].start(a, 0 === n ? e : null, i);
            }
        }, e.prototype.walk = function() {
            this.sprites.x = 0, this.sprites.y = 0, this.isMounted() ? this.activeMount.startParticles() : (this.setNewAnimationState(this.animStates.WALK, null), 
            g.Util.isValid(this.transformedPet) && (this.petWalkTrigger = !0));
        }, e.prototype.stand = function() {
            this.x = Math.round(this.x), this.y = Math.round(this.y), this.isMounted() ? this.activeMount.stopParticles() : (this.setNewAnimationState(this.animStates.STAND, null, !0), 
            g.Util.isValid(this.transformedPet) && this.transformedPet.stand());
        }, e.prototype.standStill = function() {
            this.setNewAnimationState(this.animStates.STATIC);
        }, e.prototype.moonwalk = function() {
            this.setNewAnimationState(this.animStates.WALK);
        }, e.prototype.dig = function(t, e) {
            this.setNewAnimationState(this.animStates.DIG, this.stand.bind(this), !0), 
            setTimeout(e, 1e3);
        }, e.prototype.attack = function() {
            this.setNewAnimationState(this.animStates.ATTACK, this.stand.bind(this), !0), 
            g.Util.isValid(this.transformedPet) && this.transformedPet.attack();
        }, e.prototype.dance = function(t, e) {
            this.stopTweens(), !this.isMounted() && g.Util.isValid(this.rightArm) && g.Util.isValid(this.leftArm) && (this.rightArm.angle = 0, 
            this.leftArm.angle = 0);
            var i = t;
            this.tweenAnimations.hasOwnProperty("" + t + e) && (i = "" + t + e), 
            this.setNewAnimationState(i, this.stand.bind(this), !0);
        }, e.prototype.isMounted = function() {
            return g.Util.isValid(this.activeMount);
        }, e.prototype.toggleMount = function() {
            if (this.isMounted()) this.unmount(); else {
                var t = this.source.mount.getMountID();
                if (!g.Util.isValid(t)) {
                    var e = this.source.backpack.getBackpackItemsByType("mount");
                    e.length > 0 && (t = e[0].ID);
                }
                this.mount(t);
            }
            this.game.prodigy.player.appearanceChanged = !0;
        }, e.prototype.mount = function(t) {
            g.Util.isValid(t) && (g.Util.isValid(this.activeMount) && !this.hideMount && this.doesMountIDMatchCurrentMountID(t) || this.unmount(), 
            this.createMountByID(t), this.source.mount.setMountData({
                mountID: t
            }));
        }, e.prototype.doesMountIDMatchCurrentMountID = function(t) {
            return t === this.activeMount.id;
        }, e.prototype.unmount = function() {
            this.isMounted() && (this.destroyMount(), this.float(!1), this.stand(), 
            this.source.mount.clearMountID());
        }, e.prototype.createMountByID = function(t) {
            this.isMounted() && !this.doesMountIDMatchCurrentMountID(t) && this.destroyMount(), 
            this.isMounted() || (this.float(!0), this.activeMount = new p.MountRenderer(this.game, this, t), 
            this.sprites.add(this.activeMount.mountAboveGameObject), this.sprites.addAt(this.activeMount.mountBelowGameObject, 0));
        }, e.prototype.destroyMount = function() {
            this.isMounted() && (this.activeMount.destroy(), this.activeMount = null);
        }, e.prototype.setTransformationContainer = function(t, e) {
            var i = this, a = 0;
            if (this.headOnly && (a = -15), "pet" === t) {
                var n = function() {
                    i.onLoadComplete(), i.transformedPet.sprites.scale.setTo(1 / i.setScale);
                };
                this.transformedPet = new f.MonsterContainer(this.game, this.sprites, new d.Monster(this.game, {
                    ID: e
                }), this.setScale, 0, a, !1), this.transformedPet.reload(n.bind(this));
            } else if ("dorm" === t) {
                n = function(t) {
                    i.transformedObject = t, i.transformedObject.anchor.setTo(.5, 1), 
                    i.onLoadComplete();
                };
                this.game.prodigy.create.sprite(0, a, "vertical-dorm-" + e, "", null, n.bind(this));
            }
        }, e.prototype.showTransformationContainer = function(t) {
            this.sprites.setAll("visible", !1), g.Util.isValid(this.collisionHead) && (this.collisionHead.visible = !0), 
            g.Util.isValid(this.collisionHead) && (this.collisionBody.visible = !0), 
            g.Util.isValid(this.transformedPet) && "pet" === t && (this.transformedPet.visible = !0), 
            g.Util.isValid(this.transformedObject) && "dorm" === t && (this.transformedObject.visible = !0);
        }, e.prototype.transformToItem = function(t, e, i, a) {
            this.isMainPlayer ? (this.game.prodigy.network.emitMessage({
                action: "transform",
                data: {
                    userID: this.source.userID,
                    transformType: t,
                    transformID: e,
                    showEffect: i
                }
            }), this.game.prodigy.player.transformPlayer(t, e, a)) : (g.Util.isValid(this.source.data.playerTransformation) || (this.source.data.playerTransformation = {}), 
            this.source.data.playerTransformation.transformType = t, this.source.data.playerTransformation.transformID = e, 
            this.source.data.playerTransformation.maxTime = 0, this.source.data.playerTransformation.timeRemaining = 0), 
            this.showTransformationEffect = i, g.Util.isValid(this.game) && this.reload();
        }, e.prototype.resetItemTransformation = function(t) {
            this.isMainPlayer ? (this.game.prodigy.network.emitMessage({
                action: "transform",
                data: {
                    userID: this.source.userID,
                    showEffect: t
                }
            }), this.game.prodigy.player.transformPlayer(-1)) : (g.Util.isValid(this.source.data.playerTransformation) || (this.source.data.playerTransformation = {}), 
            this.source.data.playerTransformation.transformID = -1, this.source.data.playerTransformation.maxTime = 0, 
            this.source.data.playerTransformation.timeRemaining = 0), this.transformationCompleted = !1, 
            this.showTransformationEffect = t, g.Util.isValid(this.game) && this.reload(), 
            g.Util.isValid(this.transformationTimer) && (this.transformationTimer.endTimer(), 
            this.transformationTimer = null);
        }, e.prototype.update = function() {
            t.prototype.update.call(this), g.Util.isValid(this.updateTime) || (this.updateTime = new Date().getTime());
            var i = new Date().getTime();
            if (g.Util.isValid(this.locomotion) && this.locomotion.update(), this.isMounted() && this.activeMount.update(), 
            g.Util.isValid(this.tweenAnimations) && "" !== this.animState && g.Util.isValid(this.tweenAnimations[this.animState])) for (var a = 0; a < this.tweenAnimations[this.animState].length; a++) this.tweenAnimations[this.animState][a].update(i);
            this.lastSmoothing !== e.smoothOverride && (this.lastSmoothing = e.smoothOverride, 
            this.reload()), this.petWalkTrigger && g.Util.isValid(this.transformedPet) && !this.transformedPet.loading && (this.transformedPet.walk(), 
            this.petWalkTrigger = !1);
            var n = this.game.state.states.TileScreen, o = g.Util.isValid(n) && n.isMapScreen && n.complete;
            if (this.isMainPlayer && this.isTransformationTimerDefined() && this.transformationCompleted && o) if (this.getRemainingTransformationTime() > 0) {
                var r = i - this.updateTime;
                this.game.prodigy.player.data.playerTransformation.timeRemaining -= r, 
                this.timerForPlayerDataUpdate += r, this.timerForPlayerDataUpdate >= 3e4 && (this.game.prodigy.player.updated = !0, 
                this.timerForPlayerDataUpdate = 0);
                var s = this.game.prodigy.player.data.playerTransformation.maxTime;
                if (!g.Util.isValid(this.transformationTimer)) {
                    var l = [];
                    g.Util.isValid(n.menuBar) && g.Util.isValid(n.menuBar.conjureCubeButton) && l.push(n.menuBar.conjureCubeButton), 
                    this.transformationTimer = this.game.prodigy.create.countdownTimer(n.above, this.game.width - 100, 100, {
                        maxTime: s,
                        timeDelta: 15e3,
                        hideElements: l,
                        clickMessage: this.game.prodigy.gameContainer.Localizer.getText("MORPH_END_MESSAGE")
                    }, this.resetItemTransformation.bind(this, !0));
                }
                this.transformationTimer.updateTimerValue(s - this.getRemainingTransformationTime());
            } else this.game.prodigy.player.data.playerTransformation.transformID > -1 && (this.resetItemTransformation(!0), 
            this.timerForPlayerDataUpdate = 0);
            this.updateTime = new Date().getTime();
        }, e.prototype.destroy = function() {
            this.isMainPlayer && this.game.broadcaster.removeAppListener(l.EUIEvents.MountTogglePressed, this, "mount"), 
            this.isMounted() && this.destroyMount(), t.prototype.destroy.call(this);
        }, e.prototype.isTransformationTimerDefined = function() {
            return g.Util.isValid(this.source.data.playerTransformation) && g.Util.isValid(this.source.data.playerTransformation.timeRemaining);
        }, e.prototype.getRemainingTransformationTime = function() {
            return this.isTransformationTimerDefined() ? this.source.data.playerTransformation.timeRemaining : 0;
        }, e.smoothOverride = null, e;
    }(y.CreatureContainer);
    e.PlayerContainer = m;
}, function(t, e, i) {
    var a = i(144);
    t.exports = function(t, e) {
        var i = -1, n = t.length, o = n - 1;
        for (e = void 0 === e ? n : e; ++i < e; ) {
            var r = a(i, o), s = t[r];
            t[r] = t[i], t[i] = s;
        }
        return t.length = e, t;
    };
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(3), n = i(29), o = i(0), r = function() {
        function t(t) {
            this.game = t;
        }
        return t.prototype.setSource = function(t) {
            this.screen = t;
        }, t.prototype.bountyComplete = function(t, e) {
            var i = this.screen.menus.add(new Phaser.TileSprite(this.game, 0, 280, 1280, 200, "atlas-161", "bounty-runner"));
            i.alpha = 0, i.height = 200;
            var a = this.screen.menus.add(this.game.prodigy.create.sprite(640, 250, "atlas-19", "emblem-bounty"));
            a.anchor.setTo(.5, .5), a.scale.x = a.scale.y = 2, a.alpha = 0;
            var n = "" + t, r = this.game.prodigy.create.font(this.screen.menus, 520, 175, n, {
                size: 80,
                width: 240,
                align: "center"
            });
            r.alpha = 0;
            var s = this.game.prodigy.create.font(this.screen.menus, 1280, 330, this.game.prodigy.gameContainer.Localizer.getText("EFFECT_BOUNTY_COMPLETE"), {
                size: 80,
                width: 1280,
                align: "center"
            });
            this.game.add.tween(a).to({
                alpha: 1
            }, 200, Phaser.Easing.Quadratic.In).to({}, 4100, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 250, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(a.scale).to({
                x: 1,
                y: 1
            }, 200, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(r).to({
                alpha: 1
            }, 200, Phaser.Easing.Quadratic.In).to({}, 4100, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 250, Phaser.Easing.Quadratic.Out).start();
            var l = this.game.add.tween(i);
            l.to({}, 100, Phaser.Easing.Linear.None), l.to({
                alpha: .9
            }, 250, Phaser.Easing.Quadratic.In), l.to({}, 4e3, Phaser.Easing.Linear.None), 
            l.to({
                alpha: 0
            }, 250, Phaser.Easing.Quadratic.Out), l.start(), this.game.add.tween(s).to({}, 100, Phaser.Easing.Linear.None).to({
                x: 25
            }, 250, Phaser.Easing.Quadratic.Out).to({
                x: -25
            }, 4e3, Phaser.Easing.Linear.None).to({
                x: -1280
            }, 250, Phaser.Easing.Quadratic.Out).start(), o.Util.isValid(e) && (l.onComplete.add(this.cleanup.bind(this, [ i, s, a ]), this), 
            l.onComplete.add(e, this));
        }, t.prototype.cleanup = function(t) {
            for (var e = 0; e < t.length; e++) t[e].destroy();
        }, t.prototype.fire = function(t, e, i, a, n, r, s) {
            for (var l = r ? Math.ceil(i / 120) : Math.ceil(i / 100), h = r ? Math.ceil(a / 120) : Math.ceil(a / 100), c = [], p = 0; p < l; p++) for (var u = 0; u < h; u++) c.push(this.screen.menus.add(this.game.prodigy.create.sprite(t + 80 * p + 40, e + 80 * u + 40, "atlas-122", r ? "fire-ball-small" : "fire-ball")));
            for (p = 0; p < l - 1; p++) for (u = 0; u < h - 1; u++) c.push(this.screen.menus.add(this.game.prodigy.create.sprite(t + 80 * p + 80, e + 80 * u + 80, "atlas-122", r ? "fire-ball-small" : "fire-ball")));
            for (p = 0; p < c.length; p++) {
                var d = c[p];
                d.anchor.setTo(.5, .5), d.scale.x = d.scale.y = 0;
                var g = this.game.add.tween(d), y = this.game.add.tween(d.scale), f = Math.floor(1e3 / c.length) * p + 10;
                0 === p && (f = 1e3), g.to({}, f, Phaser.Easing.Linear.None), y.to({}, f, Phaser.Easing.Linear.None);
                var m = Math.floor((d.x - t - Math.floor(80 * l / 2)) / 2);
                for (u = 0; u < n; u++) 0 === p && this.game.time.events.add(1e3 * u, this.game.prodigy.audio.playSFX.bind(this.game.prodigy.audio, 18, "dig")), 
                g.to({
                    x: d.x,
                    y: d.y,
                    alpha: 1
                }, 10, Phaser.Easing.Linear.None), g.to({
                    x: d.x + m,
                    y: d.y - 50,
                    alpha: 1
                }, 1e3, Phaser.Easing.Linear.None), y.to({
                    x: .5,
                    y: .5
                }, 10, Phaser.Easing.Linear.None), y.to({
                    x: 1.4,
                    y: 1.4
                }, 1e3, Phaser.Easing.Quadratic.Out);
                g.to({
                    alpha: 0
                }, 10, Phaser.Easing.Linear.None), 0 === p && o.Util.isValid(s) && g.onComplete.addOnce(s), 
                0 === p && g.onComplete.addOnce(this.cleanup.bind(this, c), this), 
                g.start(), y.start();
            }
        }, t.prototype.flashText = function(e, i, a, n, r, s) {
            void 0 === a && (a = t.MIDDLE), void 0 === n && (n = t.MEDIUM), void 0 === r && (r = 2700), 
            void 0 === s && (s = !1);
            var l = this.screen.menus.add(new Phaser.TileSprite(this.game, 0, a - 20, 1280, 200, "atlas-161", "dialogue"));
            l.alpha = 0, l.height = 200 / n;
            var h = this.game.prodigy.create.font(this.screen.menus, 1280, a, e, {
                size: 80 / n,
                width: 1280,
                align: "center"
            });
            h.y = a + Math.floor((l.height - h.height) / (4 * n));
            var c = this.game.add.tween(l);
            c.to({
                alpha: .5
            }, 250, Phaser.Easing.Quadratic.In), c.to({}, r, Phaser.Easing.Linear.None), 
            c.to({
                alpha: 0
            }, 250, Phaser.Easing.Quadratic.Out), c.start();
            var p = this.game.add.tween(h);
            return s ? (h.x = 0, p.to({
                alpha: 1
            }, 125, Phaser.Easing.Quadratic.In), p.to({}, r, Phaser.Easing.Linear.None), 
            p.to({
                alpha: 0
            }, 125, Phaser.Easing.Quadratic.Out), p.start()) : (p.to({
                x: 25
            }, 250, Phaser.Easing.Quadratic.Out), p.to({
                x: -25
            }, r, Phaser.Easing.Linear.None), p.to({
                x: -1280
            }, 250, Phaser.Easing.Quadratic.Out), p.start()), c.onComplete.add(this.cleanup.bind(this, [ l, h ]), this), 
            o.Util.isValid(i) && c.onComplete.add(i, this), c;
        }, t.prototype.characterText = function(t, e, i, a, n) {
            var r = this.game.prodigy.create.font(this.screen.overlay, e, i, t, o.Util.isValid(n) ? n : {
                size: 40
            });
            r.y -= 150, r.setCenterAnchor(), r.scale.setTo(0, 0);
            var s = this.game.add.tween(r.scale).to({
                y: 1,
                x: 1
            }, 800, Phaser.Easing.Elastic.InOut), l = this.game.add.tween(r).to({
                y: "-100"
            }, 1600, Phaser.Easing.Quadratic.Out).to({
                alpha: 0
            }, 200, Phaser.Easing.Quadratic.Out);
            l.onComplete.add(function() {
                r.destroy();
            }), o.Util.isValid(a) && (l.delay(a), s.delay(a)), l.start(), s.start();
        }, t.prototype.characterImage = function(t, e) {
            t.y -= 150, t.anchor.setTo(.5, .5), t.scale.setTo(0, 0), this.game.broadcaster.broadcast(a.EScreenEvents.AddChild, this.game, [ t, "overlay" ]);
            var i = this.game.add.tween(t.scale).to({
                y: 1,
                x: 1
            }, 800, Phaser.Easing.Elastic.InOut), n = this.game.add.tween(t).to({
                y: "-100"
            }, 1600, Phaser.Easing.Quadratic.Out).to({
                alpha: 0
            }, 200, Phaser.Easing.Quadratic.Out);
            n.onComplete.add(t.kill), o.Util.isValid(e) && (n.delay(e), i.delay(e)), 
            n.start(), i.start();
        }, t.prototype.explode = function(t, e, i, a, r, s, l) {
            for (var h, c, p = Math.ceil(i / 80), u = Math.ceil(a / 80), d = [], g = 0; g < p; g++) for (var y = 0; y < u; y++) c = "", 
            l && (c = (h = n.Random.integerInRange(0, 3)) < 1 ? "-blue" : h < 2 ? "-green" : "-red"), 
            d.push(this.screen.menus.add(this.game.prodigy.create.sprite(t + 80 * g + 40, e + 80 * y + 40, "atlas-19", "smoke" + c)));
            for (g = 0; g < p - 1; g++) for (y = 0; y < u - 1; y++) c = "", l && (c = (h = n.Random.integerInRange(0, 3)) < 1 ? "-blue" : h < 2 ? "-green" : "-red"), 
            d.push(this.screen.menus.add(this.game.prodigy.create.sprite(t + 80 * g + 80, e + 80 * y + 80, "atlas-19", "smoke" + c)));
            for (g = 0; g < d.length; g++) {
                var f = d[g];
                f.anchor.setTo(.5, .5), f.scale.x = f.scale.y = 0, f.angle = Math.floor(1e3 * Math.random());
                var m = this.game.add.tween(f), _ = this.game.add.tween(f.scale), v = Math.floor(1e3 / d.length) * g + 10;
                0 === g && (v = 1e3), m.to({}, v, Phaser.Easing.Linear.None), _.to({}, v, Phaser.Easing.Linear.None);
                var E = Math.floor((f.x - t - Math.floor(80 * p / 2)) / 2);
                for (y = 0; y < r; y++) 0 === g && this.game.time.events.add(1e3 * y, this.game.prodigy.audio.playSFX.bind(this.game.prodigy.audio, 18, "dig")), 
                m.to({
                    x: f.x,
                    y: f.y,
                    alpha: 1,
                    angle: f.angle
                }, 10, Phaser.Easing.Linear.None), m.to({
                    x: f.x + E,
                    y: f.y - 50,
                    alpha: 1,
                    angle: f.angle + 100
                }, 1e3, Phaser.Easing.Linear.None), _.to({
                    x: .5,
                    y: .5
                }, 10, Phaser.Easing.Linear.None), _.to({
                    x: 1.4,
                    y: 1.4
                }, 1e3, Phaser.Easing.Quadratic.Out);
                m.to({
                    alpha: 0
                }, 10, Phaser.Easing.Linear.None), 0 === g && o.Util.isValid(s) && m.onComplete.addOnce(s), 
                0 === g && m.onComplete.addOnce(this.cleanup.bind(this, d), this), 
                m.start(), _.start();
            }
        }, t.prototype.shake = function(t, e, i, a, n) {
            void 0 === i && (i = 10), void 0 === a && (a = "v"), void 0 === n && (n = null);
            for (var r = [], s = [ this.screen.background, this.screen.content, this.screen.foreground ], l = Math.floor(e / 50), h = 0; h < l; h++) for (var c = this.game.rnd.integerInRange(-i, i), p = this.game.rnd.integerInRange(-i, i), u = 0; u < s.length; u++) 0 === h && (r[u] = this.game.add.tween(s[u]), 
            o.Util.isValid(n) && 0 === u && r[u].onComplete.add(n)), r[u].to({
                x: "v" === a ? 0 : c,
                y: "h" === a ? 0 : p
            }, 50, Phaser.Easing.Linear.None), h === l - 1 && (r[u].to({
                x: 0,
                y: 0
            }, 100, Phaser.Easing.Linear.None), r[u].delay(t), r[u].start());
        }, t.prototype.firework = function(t, e, i, a, n) {
            var r = this;
            void 0 === n && (n = 0);
            var s = o.Util.isValid(a) ? a : this.screen.foreground, l = 75 * Math.random() + 25, h = Math.random(), c = 100 * h - 50, p = Math.random() + 1, u = s.add(this.game.prodigy.create.sprite(t - 20, e + 100, "atlas-19", "rocket")), d = s.add(this.game.prodigy.create.sprite(t + c, e - l, "atlas-19", "fireworks"));
            u.anchor.setTo(.5, .5), d.anchor.setTo(.5, .5), d.angle = 360 * Math.random(), 
            d.scale.x = 0, d.scale.y = 0;
            var g = this.game.add.tween(u).to({
                y: e - l
            }, 500, Phaser.Easing.Quadratic.Out, !0, n);
            this.game.add.tween(u).to({
                x: t + c
            }, 500, Phaser.Easing.Quadratic.Out, !0, n), this.game.add.tween(u).to({
                angle: 35 * (2 * h - 1)
            }, 500, Phaser.Easing.Linear.None, !0), this.game.add.tween(d.scale).to({
                x: p,
                y: p
            }, 500, Phaser.Easing.Back.Out, !0, n + 500);
            var y = this.game.add.tween(d).to({
                alpha: 0
            }, 1e3, Phaser.Easing.Linear.None, !0, n + 1e3);
            g.onComplete.addOnce(function() {
                r.game.prodigy.audio.playSFX(18, "dig");
            }, this), g.onComplete.addOnce(function() {
                u.destroy();
            }), y.onComplete.addOnce(function() {
                d.destroy();
            }), o.Util.isValid(i) && y.onComplete.add(i);
        }, t.prototype.confetti = function(t, e, i) {
            var a = Math.random() + 1, n = this.screen.foreground.add(this.game.prodigy.create.sprite(t - 20, e + 100, "atlas-19", "confetti1"));
            n.animations.add("confetti", [ "confetti1", "confetti2", "confetti3", "confetti4" ], 10, !0, !1), 
            n.anchor.setTo(.5, .5), n.scale.x = .1, n.scale.y = .1, n.animations.play("confetti");
            var r = this.game.add.tween(n).to({
                y: "-25"
            }, 500, Phaser.Easing.Linear.None, !0, 0);
            this.game.add.tween(n.scale).to({
                x: a,
                y: a
            }, 500, Phaser.Easing.Quadratic.In, !0, 0);
            var s = this.game.add.tween(n).to({
                y: "+100"
            }, 2e3, Phaser.Easing.Sinusoidal.Out, !1, 250), l = this.game.add.tween(n).to({
                alpha: 0
            }, 1e3, Phaser.Easing.Linear.None, !0, 2500);
            this.game.prodigy.audio.playSFX(18, "dig"), r.chain(s), l.onComplete.addOnce(function() {
                n.destroy();
            }), o.Util.isValid(i) && l.onComplete.add(i);
        }, t.prototype.portalEffect = function(t, e, i) {
            var a = this.screen.background.add(this.game.prodigy.create.sprite(t - 110, e - 160, "atlas-19", "portal1-b")), n = this.screen.foreground.add(this.game.prodigy.create.sprite(t - 110, e - 160, "atlas-19", "portal1"));
            n.animations.add("portalF", [ "portal1", "portal2", "portal3", "portal4", "portal5", "portal6", "portal7", "portal8", "portal9" ], 7, !0, !1), 
            a.animations.add("portalB", [ "portal1-b", "portal2-b", "portal3-b", "portal4-b", "portal5-b", "portal6-b", "portal7-b", "portal8-b", "portal9-b" ], 7, !0, !1), 
            a.animations.play("portalB"), n.animations.play("portalF"), this.game.add.tween(a).to({
                alpha: 1
            }, 800, Phaser.Easing.Linear.None, !0, 1).onComplete.addOnce(function() {
                o.Util.isValid(i) && i(), a.destroy(), n.destroy();
            });
        }, t.prototype.goldWork = function(t, e, i) {
            for (var a = 75 * Math.random() + 25, n = Math.random(), o = 100 * n - 50, r = Math.floor(3 * Math.random() + 1), s = [], l = 1; l < r + 1; l++) s.push(this.screen.addClickableEvent(t + 100 * l + n, e - 100 * l + n, 80, 80)), 
            s[l - 1].img = s[l - 1].add(new Phaser.Image(this.game, 0, 0, "atlas-21", "gold"));
            var h = this.screen.foreground.add(this.game.prodigy.create.sprite(t - 20, e + 100, "atlas-19", "rocket"));
            h.anchor.setTo(.5, .5);
            var c = this.game.add.tween(h).to({
                y: e - a
            }, 500, Phaser.Easing.Quadratic.Out, !0, 0);
            this.game.add.tween(h).to({
                x: t + o
            }, 500, Phaser.Easing.Quadratic.Out, !0, 0);
            var p = this.game.add.tween(h).to({
                angle: 35 * (2 * n - 1)
            }, 500, Phaser.Easing.Linear.None, !0);
            c.onComplete.addOnce(function() {
                h.destroy();
            }), p.onComplete.add(i);
        }, t.prototype.fadeFlyingImage = function(t, e, i, n) {
            var o = this.game.prodigy.create.sprite(t, e, i, n);
            o.anchor.setTo(.5, .5), this.game.broadcaster.broadcast(a.EScreenEvents.AddChild, this.game, [ o, "overlay" ]);
            var r = this.game.add.tween(o).to({
                y: o.y - 100
            }, 1300, Phaser.Easing.Quadratic.Out).to({
                alpha: 0
            }, 200, Phaser.Easing.Quadratic.Out);
            r.onComplete.add(function() {
                o.kill();
            }, o), r.start();
        }, t.prototype.spellLearned = function(t, e, i) {
            for (var a = this, n = !1, r = function(t, r) {
                e.add(r), r.anchor.setTo(3, 3), r.angle = 60 * t;
                var s = a.game.add.tween(r).to({
                    angle: "+1000"
                }, 3500, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 500, Phaser.Easing.Linear.None);
                s.onComplete.add(function() {
                    r.destroy(), o.Util.isValid(i) && !n && (n = !0, i());
                }), s.start(), a.game.add.tween(r.anchor).to({
                    x: .5,
                    y: .5
                }, 1500, Phaser.Easing.Linear.None).delay(2e3).to({
                    x: 5,
                    y: 5
                }, 500, Phaser.Easing.Linear.None).start();
            }, s = 0; s < 6; s++) this.game.prodigy.icon.createFromData(t, e.width / 2, e.height / 2, null, r.bind(this, s));
        }, t.PVP = 230, t.MIDDLE = 300, t.BOTTOM = 500, t.BASE = 600, t.TOP = 100, 
        t.SMALL = 2, t.MEDIUM = 1, t;
    }();
    e.EffectFactory = r;
}, function(t, e) {
    t.exports = function(t, e) {
        var i = -1, a = t.length;
        for (e || (e = Array(a)); ++i < a; ) e[i] = t[i];
        return e;
    };
}, function(t, e, i) {
    var a = i(157), n = i(69), o = i(86), r = i(19), s = i(44), l = i(85), h = i(103), c = i(104), p = "[object Map]", u = "[object Set]", d = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        if (null == t) return !0;
        if (s(t) && (r(t) || "string" == typeof t || "function" == typeof t.splice || l(t) || c(t) || o(t))) return !t.length;
        var e = n(t);
        if (e == p || e == u) return !t.size;
        if (h(t)) return !a(t).length;
        for (var i in t) if (d.call(t, i)) return !1;
        return !0;
    };
}, function(t, e, i) {
    var a = i(925), n = i(58);
    t.exports = function(t) {
        return null == t ? [] : a(t, n(t));
    };
}, function(t, e) {
    var i = Object.prototype;
    t.exports = function(t) {
        var e = t && t.constructor;
        return t === ("function" == typeof e && e.prototype || i);
    };
}, function(t, e, i) {
    var a = i(947), n = i(84), o = i(158), r = o && o.isTypedArray, s = r ? n(r) : a;
    t.exports = s;
}, function(t, e) {
    var i = 9007199254740991, a = /^(?:0|[1-9]\d*)$/;
    t.exports = function(t, e) {
        var n = typeof t;
        return !!(e = null == e ? i : e) && ("number" == n || "symbol" != n && a.test(t)) && t > -1 && t % 1 == 0 && t < e;
    };
}, function(t, e) {
    t.exports = function(t) {
        return t.webpackPolyfill || (t.deprecate = function() {}, t.paths = [], 
        t.children || (t.children = []), Object.defineProperty(t, "loaded", {
            enumerable: !0,
            get: function() {
                return t.l;
            }
        }), Object.defineProperty(t, "id", {
            enumerable: !0,
            get: function() {
                return t.i;
            }
        }), t.webpackPolyfill = 1), t;
    };
}, function(t, e, i) {
    var a = i(961);
    t.exports = function(t, e) {
        var i = t.__data__;
        return a(e) ? i["string" == typeof e ? "string" : "hash"] : i.map;
    };
}, function(t, e, i) {
    var a = i(60)(Object, "create");
    t.exports = a;
}, function(t, e, i) {
    var a = i(87);
    t.exports = function(t, e) {
        for (var i = t.length; i--; ) if (a(t[i][0], e)) return i;
        return -1;
    };
}, function(t, e, i) {
    var a = i(985), n = i(984), o = i(983), r = i(982), s = i(981);
    function l(t) {
        var e = -1, i = null == t ? 0 : t.length;
        for (this.clear(); ++e < i; ) {
            var a = t[e];
            this.set(a[0], a[1]);
        }
    }
    l.prototype.clear = a, l.prototype.delete = n, l.prototype.get = o, l.prototype.has = r, 
    l.prototype.set = s, t.exports = l;
}, function(t, e, i) {
    var a = i(110), n = i(980), o = i(979), r = i(978), s = i(977), l = i(976);
    function h(t) {
        var e = this.__data__ = new a(t);
        this.size = e.size;
    }
    h.prototype.clear = n, h.prototype.delete = o, h.prototype.get = r, h.prototype.has = s, 
    h.prototype.set = l, t.exports = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, r = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, s = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var l = i(11), h = i(54), c = i(71), p = i(293), u = function(t) {
        function e(e) {
            var i = t.call(this) || this;
            return i.logger = null, i.logger = e, i;
        }
        return n(e, t), e.prototype.getText = function(t) {
            for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
            if (p.Utils.isDefined(this.dataSource)) {
                var a = this.dataSource.getValue(t);
                if (p.Utils.isDefined(a)) {
                    for (var n = 0; n < e.length; n++) a = a.split("{" + n + "}").join(e[n].toString());
                    return a;
                }
            }
            return this.logger.log("Localized value was not found in language data for key [" + t + "].", c.LogLevel.Error), 
            t;
        }, e = o([ l.injectable(), s(0, l.inject(h.GameIdentifiers.LoggerService)), r("design:paramtypes", [ Object ]) ], e);
    }(i(292).BaseLocalizer);
    e.Localizer = u;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(174), r = i(3), s = i(4), l = i(38), h = i(136), c = i(37), p = i(0), u = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, "Titan", "MAP_TITAN_GROUNDS", a.entry.x, a.entry.y, [ a.map ], i.concat("spine-2", "atlas-41", "atlas-140", "spine-19", "spine-20", "singleImage-44", "sfx-27", "sfx-28")) || this;
            return n.catapultBattle = !1, n.finishedBattle = !1, n.catapultQueue = 0, 
            n.isCatapultAnimating = !1, n.titanHealthBar = null, n.titanAsset = null, 
            n.titanMapData = null, n.impactContainer = null, n.impactSpine = null, 
            n.catapultContainer = null, n.catapultSpine = null, n.cannonBall = null, 
            n.catapultTweenX = null, n.catapultTweenY = null, n.titanSpine = null, 
            n.spineContainer = null, n.collisionBlock = null, n.minLevel = 0, n.titanMapData = a, 
            n;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.titanHealthBar = null, this.catapultQueue = 0, 
            this.isCatapultAnimating = !1, this.game.broadcaster.addAppListener(r.ETitanEvents.GotTitan, this.startTitanBattle.bind(this), this, "Titan"), 
            this.game.broadcaster.addAppListener(r.ETitanEvents.GotTitans, this.gotTitanCallback.bind(this), this, "Titan"), 
            p.Util.isValid(e.prodigy.titansNetworkHandler.titan) ? this.gotTitanCallback() : e.prodigy.titansNetworkHandler.getTitans();
        }, e.prototype.cleanup = function() {
            t.prototype.cleanup.call(this), this.game.broadcaster.removeAppListener(r.ETitanEvents.GotTitan, this, "Titan"), 
            this.game.broadcaster.removeAppListener(r.ETitanEvents.GotTitans, this, "Titan"), 
            this.game.broadcaster.removeAppListener(r.ETitanEvents.Catapult, this, "Catapult");
        }, e.prototype.process = function(e, i, a) {
            t.prototype.process.call(this, e, i, a), p.Util.isValid(this.screen.questProgress) && (this.screen.questProgress.visible = !1);
        }, e.prototype.gotTitanCallback = function() {
            if (this.game.broadcaster.removeAppListener(r.ETitanEvents.GotTitans, this, "Titan"), 
            this.game.prodigy.titansNetworkHandler.isTitanAlive()) {
                var t = this.game.prodigy.titansNetworkHandler.titan.assetID;
                this.titanAsset = s.Items.getItem("titan", t).data, -1 !== this.game.prodigy.world.currentZone.indexOf(this.titanAsset.zone) && (this.game.prodigy.load.assets([ "default-titan-" + t ], this.titanLoadComplete.bind(this)), 
                this.renderMapElements());
            }
        }, e.prototype.titanLoadComplete = function() {
            var t = this;
            this.renderTitan(), this.playCutscene(this.game), this.renderHealthBar();
            var e = this.titanMapData.titan.x + this.titanMapData.titan.impactOffset.x, i = this.titanMapData.titan.y + this.titanMapData.titan.impactOffset.y;
            this.impactContainer = this.game.prodigy.create.element(this.screen.content, e, i), 
            this.impactSpine = this.game.add.spine(0, 0, "spine-20"), this.impactContainer.add(this.impactSpine), 
            this.impactContainer.visible = !1, this.catapultContainer = this.game.prodigy.create.element(this.screen.content, this.titanMapData.catapult.x, this.titanMapData.catapult.y), 
            this.catapultSpine = this.game.add.spine(0, 0, "spine-19"), this.catapultContainer.add(this.catapultSpine), 
            this.setupCollisionBlock(this.catapultSpine, this.onCatapultClick.bind(this)), 
            this.cannonBallStartPos = {
                x: this.titanMapData.catapult.x - 35,
                y: this.titanMapData.catapult.y - 175
            }, this.cannonBall = this.game.prodigy.create.sprite(this.cannonBallStartPos.x, this.cannonBallStartPos.y, "singleImage-44"), 
            this.cannonBall.visible = !1, this.screen.above.add(this.cannonBall), 
            this.catapultTweenX = this.game.add.tween(this.cannonBall.position), 
            this.catapultTweenX.to({
                x: this.impactContainer.x
            }, 600, Phaser.Easing.Linear.None, !1, 867), this.catapultTweenX.onStart.add(function() {
                t.cannonBall.visible = !0;
            }), this.catapultTweenX.onComplete.add(function() {
                t.cannonBall.visible = !1, t.playImpact();
            }), this.catapultTweenY = this.game.add.tween(this.cannonBall.position), 
            this.catapultTweenY.to({
                y: this.impactContainer.y - this.titanMapData.catapult.arcHeight
            }, 300, Phaser.Easing.Quadratic.Out, !1, 867), this.catapultTweenY.to({
                y: this.impactContainer.y
            }, 300, Phaser.Easing.Quadratic.In, !1), this.game.broadcaster.addAppListener(r.ETitanEvents.Catapult, this.onShootCatapult.bind(this), this, "Catapult"), 
            this.catapultBattle && (this.catapultBattle = !1, this.game.broadcaster.broadcast(r.ETitanEvents.Catapult, "Catapult"), 
            this.game.prodigy.network.emitMessage({
                action: "catapult"
            })), this.finishedBattle || this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "Titan-Member-Bonus",
                name: "Titan-Map-Entered"
            }), this.finishedBattle = !1;
        }, e.prototype.playCutscene = function(t) {
            var e = t.prodigy.player.data.titanID, i = t.prodigy.titansNetworkHandler.titan;
            !p.Util.isValid(i) || p.Util.isValid(e) && e === i.id || (t.prodigy.player.data.titanID = t.prodigy.titansNetworkHandler.titan.id, 
            t.prodigy.world.playScene(this.titanMapData.cutscene));
        }, e.prototype.renderMapElements = function() {
            new o.Harvey(this.game, this.screen, this.titanMapData.harvey.x, this.titanMapData.harvey.y, !0);
            var t = this.screen.content.add(this.game.prodigy.create.sprite(this.titanMapData.sign.x, this.titanMapData.sign.y, "atlas-140", "harveySign"));
            t.anchor.x = .5, t.anchor.y = 1, t.inputEnabled = !0, t.events.onInputDown.add(this.onSignClicked.bind(this));
        }, e.prototype.renderTitan = function() {
            var t = this.game.prodigy.titansNetworkHandler.titan.assetID;
            this.spineContainer = this.game.prodigy.create.element(this.screen.content, this.titanMapData.titan.x, this.titanMapData.titan.y), 
            this.titanSpine = this.game.add.spine(0, 0, "default-titan-" + t), this.titanSpine.setAnimationByName(0, "idle", !0), 
            this.spineContainer.add(this.titanSpine), this.setupCollisionBlock(this.spineContainer, this.onTitanClicked.bind(this));
        }, e.prototype.renderHealthBar = function() {
            if (!p.Util.isValid(this.titanHealthBar)) {
                for (var t = new c.UIParser(this.game).createUIElements([ {
                    type: "UIElement",
                    name: "healthBarContainer",
                    relativeWidth: 1,
                    relativeHeight: 1,
                    children: [ {
                        type: "Slider",
                        name: "healthSlider",
                        relativeY: -.4,
                        anchorX: .6,
                        anchorY: 1,
                        relativeWidth: .85,
                        height: 80,
                        atlasName: "atlas-144",
                        activeTrackBaseFrameName: "scroll-tracks/red-large-fill",
                        inactiveTrackBaseFrameName: "scroll-tracks/red-large-track",
                        showHead: !1,
                        isVertical: !1,
                        isInteractive: !1
                    } ]
                } ], this.spineContainer), e = 0; e < t.length; e++) if (t[e] instanceof h.Slider) {
                    this.titanHealthBar = t[e];
                    break;
                }
                this.spineContainer.add(this.game.prodigy.create.nameFont(this.spineContainer, -25, -265, this.game.prodigy.gameContainer.Localizer.getText("TITAN_HEARTS")));
            }
            if (p.Util.isValid(this.game.prodigy.titansNetworkHandler.titan.health)) {
                var i = this.titanAsset.maxHealth, a = this.game.prodigy.titansNetworkHandler.titan.health / i;
                a < 1 && (a = Math.min(Math.max(a, .04), .96)), this.titanHealthBar.setPercentComplete(a);
            } else this.titanHealthBar.setPercentComplete(0);
        }, e.prototype.setupCollisionBlock = function(t, e) {
            this.collisionBlock = t.add(this.game.prodigy.create.sprite(-.5 * t.width, -t.height, "atlas-18", "empty")), 
            this.collisionBlock.width = t.width, this.collisionBlock.height = t.height, 
            this.collisionBlock.inputEnabled = !0, this.collisionBlock.events.onInputDown.add(e);
        }, e.prototype.onSignClicked = function() {
            this.game.prodigy.open.titanProgress(!1);
        }, e.prototype.onCatapultClick = function() {
            this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "Titan-Member-Bonus",
                name: "Titan-Catapult-Clicked"
            }), this.game.prodigy.player.hasMembership() ? this.moveToCatapult() : this.game.prodigy.open.membershipInfo(null, null, null, !1, "titanCatapult");
        }, e.prototype.onShootCatapult = function() {
            this.catapultQueue++, this.isCatapultAnimating || this.shootCatapult();
        }, e.prototype.shootCatapult = function() {
            var t = this;
            if (this.catapultQueue > 0) {
                this.catapultQueue--, this.isCatapultAnimating = !0, this.catapultSpine.setToSetupPose(), 
                this.catapultSpine.setAnimationByName(0, "shoot", !1), this.cannonBall.x = this.cannonBallStartPos.x, 
                this.cannonBall.y = this.cannonBallStartPos.y, this.catapultTweenX.start(), 
                this.catapultTweenY.start();
                var e = this.game.add.tween(this);
                e.to(null, 300), e.onComplete.add(function() {
                    t.game.prodigy.audio.playSFX(27, "launch");
                }), e.start();
            }
        }, e.prototype.playImpact = function() {
            var t = this;
            this.impactContainer.visible = !0, this.impactSpine.setToSetupPose(), 
            this.impactSpine.setAnimationByName(0, "animation", !1), this.impactSpine.onComplete.addOnce(function() {
                t.isCatapultAnimating = !1, t.shootCatapult();
            }), this.game.prodigy.audio.playSFX(28, "hit"), this.game.prodigy.effects.shake(0, 300, 10, "v"), 
            this.titanSpine.setAnimationByName(0, "attack", !1), this.titanSpine.onComplete.addOnce(function() {
                t.titanSpine.setAnimationByName(0, "idle", !0);
            });
        }, e.prototype.onTitanClicked = function() {
            this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "Titan-Member-Bonus",
                name: "Titan-Clicked"
            }), this.moveToTitan();
        }, e.prototype.moveToTitan = function() {
            var t = this;
            this.screen.path.findPath(this.screen.user.x, this.screen.user.y, this.titanMapData.titan.x - 300, this.titanMapData.titan.y, function(e) {
                p.Util.isValid(e) && t.screen.user.setPath(e, t.callNetworkToStartBattle.bind(t));
            });
        }, e.prototype.moveToCatapult = function() {
            var t = this;
            this.screen.path.findPath(this.screen.user.x, this.screen.user.y, this.titanMapData.catapult.x + 110, this.titanMapData.catapult.y, function(e) {
                p.Util.isValid(e) && t.screen.user.setPath(e, t.startCatapultBattle.bind(t));
            });
        }, e.prototype.titanDeadKick = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            this.game.prodigy.open.message(t.getText("TITAN_DEFEATED_MESSAGE"), this.titanDeadTeleport.bind(this), null, t.getText("TITAN_DEFEATED_TITLE"));
        }, e.prototype.titanDeadTeleport = function() {
            this.game.prodigy.world.teleport("lamplight-B3");
        }, e.prototype.callNetworkToStartBattle = function() {
            this.game.prodigy.titansNetworkHandler.getTitan(this.game.prodigy.titansNetworkHandler.titan.id);
        }, e.prototype.startCatapultBattle = function() {
            this.tryTitanBattle() ? (this.catapultBattle = !0, this.callNetworkToStartBattle()) : this.game.prodigy.open.message(this.game.prodigy.gameContainer.Localizer.getText("TITAN_LEVEL_LOCKED", this.minLevel));
        }, e.prototype.startTitanBattle = function() {
            var t = this;
            if (this.tryTitanBattle()) if (this.game.prodigy.titansNetworkHandler.isTitanAlive()) {
                this.game.prodigy.network.sendBattleStartTypeEvent("TitanBattle");
                var e = [ {
                    ID: 11,
                    type: "currency"
                } ];
                this.catapultBattle && e.push({
                    ID: 11,
                    type: "currency"
                }), this.zone.getBattle(this, this.game.prodigy.gameContainer.Localizer.getText("COMBAT_TITAN_BATTLE"), {
                    boss: {
                        level: this.game.prodigy.player.kennel.getAvgTeamLv(),
                        element: this.titanAsset.element,
                        attacks: this.titanAsset.spellList,
                        name: this.game.prodigy.gameContainer.Localizer.getText("NPC_NAME_TITAN_BARRIER"),
                        starBonus: 0,
                        tag: "titan",
                        showHP: !0,
                        maxHP: this.getTitanHP(),
                        catapult: this.catapultBattle,
                        ID: this.game.prodigy.titansNetworkHandler.titan.assetID
                    },
                    drops: e,
                    difficulty: this.titanAsset.difficulty
                }, this.endBattle.bind(this, this.game, !0), this.endBattle.bind(this, this.game, !1))();
            } else this.titanDeadKick(); else {
                var i = this.game.prodigy.event.create();
                i.enableInput(!1), i.function(function() {
                    t.titanSpine.setAnimationByName(0, "attack", !1), t.titanSpine.onComplete.addOnce(function() {
                        t.titanSpine.setAnimationByName(0, "idle", !0);
                    });
                    var e = t.screen.user;
                    t.game.add.tween(e.position).to({
                        x: t.titanMapData.entry.x
                    }, 300, Phaser.Easing.Quadratic.Out, !0, 800), t.game.prodigy.effects.shake(600, 600, 20, "v");
                }), i.delay(1500), i.function(function() {
                    t.game.prodigy.open.message(t.game.prodigy.gameContainer.Localizer.getText("TITAN_LEVEL_LOCKED", t.minLevel));
                }), i.enableInput(!0), i.start();
            }
        }, e.prototype.endBattle = function(t, e) {
            this.finishedBattle = !0, this.catapultBattle ? (e || (this.catapultBattle = !1), 
            t.prodigy.world.teleport(this.titanMapData.map, this.titanMapData.catapult.x + 110, this.titanMapData.catapult.y)) : t.prodigy.world.teleport(this.titanMapData.map, this.titanMapData.entry.x, this.titanMapData.entry.y);
        }, e.prototype.getTitanHP = function() {
            var t = this.game.prodigy.player.kennel.getAvgTeamLv() + 1;
            return l.Creature.getHeartsFromCurve("A", 1, Math.max(50, Math.min(100, t)));
        }, e.prototype.tryTitanBattle = function() {
            for (var t = this.game.prodigy.player, e = [ {
                lanes: [ 2, 3 ],
                minLevel: 20
            }, {
                lanes: [ 4, 5 ],
                minLevel: 30
            }, {
                lanes: [ 6, 7 ],
                minLevel: 40
            } ], i = 0; i < e.length; i++) if (p.Util.inTestGroups(t, e[i].lanes, 1e3, 10) && t.getLevel() < e[i].minLevel) return this.minLevel = e[i].minLevel, 
            !1;
            return !0;
        }, e;
    }(i(7).Map);
    e.TitanMap = u;
}, function(t) {
    t.exports = {
        ACCOUNT_LOCATION_TITLE_CANADA: "[canada] Canada",
        ACCOUNT_LOCATION_ONTARIO: "ontario",
        ACCOUNT_LOCATION_TITLE_USA: "[us] USA",
        ACCOUNT_LOCATION_COLORADO: "colorado",
        ACCOUNT_LOCATION_NEW_YORK: "new york",
        ACCOUNT_LOCATION_TENNESSEE: "tennessee",
        ACCOUNT_LOCATION_VIRGINIA: "virginia",
        ACCOUNT_LOCATION_FLORIDA: "florida",
        ACCOUNT_LOCATION_TEXAS: "texas",
        ACCOUNT_LOCATION_TITLE_OTHER: "Other",
        ACCOUNT_LOCATION_ENGLAND: "england",
        ACCOUNT_LOCATION_AUSTRALIA: "australia",
        ACCOUNT_LOCATION_INDIA: "india",
        ACCOUNT_LOCATION_OTHER: "other",
        ACCOUNT_CREATE_PRIVACY_POLICY: "+Privacy Policy",
        ACCOUNT_CREATE_USERNAME: "username:",
        ACCOUNT_CREATE_PASSWORD: "password:",
        SURVEY_YES: "Yes.",
        SURVEY_NO: "No.",
        SURVEY_YES_EXCLAMATION: "Yes!",
        SURVEY_WIZARD_QUESTION: "How many characters or wizards do you have?",
        SURVEY_MEMBERSHIP_ANSWER_1: "1",
        SURVEY_MEMBERSHIP_ANSWER_2: "2",
        SURVEY_MEMBERSHIP_ANSWER_3: "3",
        SURVEY_MEMBERSHIP_ANSWER_MORE: "More than 3",
        BUTTON_NEXT: "next",
        BUTTON_NEXT_CAPITAL: "Next",
        BUTTON_BACK: "back",
        BUTTON_CLOSE: "close",
        BUTTON_CANCEL: "cancel",
        BUTTON_CANCEL_UPPERCASE: "CANCEL",
        BUTTON_YES: "yes",
        BUTTON_YES_UPPERCASE: "YES",
        BUTTON_NO: "no",
        BUTTON_NO_UPPERCASE: "NO",
        BUTTON_OKAY_EXCLAMATION: "okay!",
        BUTTON_OKAY: "okay",
        BUTTON_OK_EXCLAMATION: "ok!",
        BUTTON_OK_UPPERCASE: "OK",
        BUTTON_OKAY_UPPERCASE: "OKAY",
        BUTTON_OKAY_CAPITAL: "Okay",
        BUTTON_APPLY: "apply",
        BUTTON_CLICK_HERE: "Click here!",
        BUTTON_GO_BACK: "GO BACK",
        MINI_GAME_BUTTON_START: "Start!",
        MINI_GAME_BUTTON_HOW_TO: "How to Play",
        MINI_GAME_BUTTON_CANCEL: "Cancel",
        MINI_GAME_NOT_ENOUGH_GOLD: "Uh oh! You don't have enough gold!",
        DANCE_DANCE_START: "DANCE!",
        DANCE_DANCE_READY: "READY?",
        DANCE_DANCE_SPEED_UP: "Speed Up!",
        DANCE_DANCE_SUCCESS: "Dance Complete!",
        DANCE_DANCE_FAILED: "Dance Failed",
        DANCE_DANCE_INSTRUCTIONS_0: "This game is all about showing your moves and leveling up your TEK-Y4!",
        DANCE_DANCE_INSTRUCTIONS_1: "When a dance move is shown up top, select the matching dance card below before the timer runs out.",
        DANCE_DANCE_INSTRUCTIONS_2: "But look out! The timer speeds up over time! For each correct dance move, you earn gears to level up!",
        DANCE_DANCE_UH_OH: "Uh oh",
        DANCE_DANCE_NEW_HIGH_SCORE: "Looks like we have a new HIGH SCORE!",
        DANCE_DANCE_EARNED_GEARS: "Great moves! Let's see how many gears you earned!",
        DANCE_DANCE_LOWER_DIFFICULTY: "Oh dear...you got too many poses wrong. Perhaps try again on a lower difficulty?",
        DANCE_DANCE_TRY_AGAIN: "Oh dear...you got too many poses wrong. Try again another time!",
        DANCE_DANCE_LEVEL_UP_UNDER_5: "You leveled up your TEK-Y4! Now he can try the level {0} challenge and earn even more gears!",
        DANCE_DANCE_LEVEL_UP_UNDER_10: "You leveled up your TEK-Y4! Get him to level 10, and there will be a fantastic reward!",
        DANCE_DANCE_LEVEL_UP_MAX: "You leveled up your TEK-Y4 to the maximum level!",
        DANCE_DANCE_REWARD: "I almost forgot...here's your reward!",
        DANCE_DANCE_TRY_NEW_DIFFICULTY: "Good job! Level up your TEK-Y4 to try new difficulties, get more gear and cool rewards!",
        DANCE_DANCE_MAX_LEVEL: "Your TEK-Y4 is at the highest level! Try again to beat your friends' high scores!",
        DANCE_DANCE_GET_ROBOT_0: "Welcome to the Dance Stage! Ready to show everyone what your TEK-Y4 robot can do?",
        DANCE_DANCE_GET_ROBOT_1: "OH! You don't have a TEK-Y4? Well now, only the TEK-Y4 dancing robot can use the stage...",
        DANCE_DANCE_GET_ROBOT_2: "Here, you can have this one!",
        DANCE_DANCE_GET_ROBOT_3: "It's just a little TEK-Y4, so it hasn't learned how to dance yet. It'll be your job to teach it some moves!",
        DANCE_DANCE_BUTTON_GO: "GO!",
        DANCE_DANCE_BUTTON_BACK: "Back",
        DANCE_DANCE_READY_TO_START: "Ready to start robo-dancing? \n\nIt will cost you [gold] 200.",
        DANCE_DANCE_BEST_SCORE: "my best ",
        DANCE_DANCE_CHOOSE_DIFFICULTY: "Choose Difficulty",
        DANCE_DANCE_HIGHER_LEVEL: "Higher levels = more gears!",
        DANCE_DANCE_MESSAGE_LEVEL_BODY: "Your TEK-Y4 needs to be a higher level! Try a lower difficulty to earn gears and level up!",
        DYNO_DIG_START: "START DIGGING!",
        DYNO_DIG_TIMES_UP: "TIME'S UP!",
        DYNO_DIG_INSTRUCTIONS_0: "This game is all about digging up fossils!",
        DYNO_DIG_INSTRUCTIONS_1: "To find fossils, just click around the dig site to start digging.",
        DYNO_DIG_INSTRUCTIONS_2: "Your shovel will tell you how close to the fossil you are! \nCold means you're far away. \nHot means you're close!",
        DYNO_DIG_INSTRUCTIONS_3: "When you find something, the shovel button will pop up. Keep clicking it to dig up your new find!",
        DYNO_DIG_INSTRUCTIONS_4: "Once you dig it up, you can start looking for the next item!",
        DYNO_DIG_INSTRUCTIONS_5: "You have 90 seconds to dig up as many fossils as you can.",
        DYNO_DIG_EXTEND_TIME: "Ponduberous! Since you got so many items, I'll give you another 15 seconds!",
        DYNO_DIG_TIMES_UP_REWARD: "Time's up! Now let's see what items you dug up!",
        DYNO_DIG_TIMES_UP_TRY_AGAIN: "Time's up! Come back to try again sometime!",
        DYNO_DIG_FOUND_FOSSIL: "Looks like you got a fossil! Be sure to visit the museum to see your progress - maybe you completed a skeleton!",
        DYNO_DIG_START_NO_SHOVEL: "You want to start digging? First you'll need a shovel!",
        DYNO_DIG_START_NO_MORE_FOSSILS: "The museum is full, so we don't need any fossils, but do you want to dig anyways? \nIt will cost you [gold] 200",
        DYNO_DIG_READY_TO_START: "Ready to start digging for fossils? \n\nIt will cost you [gold] 300.",
        DYNO_DIG_DISTANCE_DIG: "DIG DIG DIG!",
        DYNO_DIG_DISTANCE_HOT: "Hot!",
        DYNO_DIG_DISTANCE_WARM: "Warm...",
        DYNO_DIG_DISTANCE_COLD: "Cold",
        DYNO_DIG_DISTANCE_ICE_COLD: "Ice cold!",
        DYNO_DIG_TITLE: "Dyno Dig",
        DYNO_DIG_ITEMS_RECOVERED: "Items recovered : {0}",
        DYNO_DIG_FOUND_ITEM: "YOU FOUND SOMETHING!",
        BOOST_MENU_BUTTON_NONE: "none",
        BOOST_MENU_TITLE: "Choose Your Boost!",
        BOOST_DESCRIPTION_MORE_GEARS: "More gears",
        BOOST_DESCRIPTION_SLOW_TIME: "Slow time",
        BOOST_DESCRIPTION_MULTIPLIER: "Multiplier",
        BOOST_DESCRIPTION_MORE_FOSSILS: "More fossils!",
        BOOST_DESCRIPTION_WALK_FASTER: "Walk faster!",
        BOOST_DESCRIPTION_DIG_FASTER: "Dig faster!",
        CHOOSE_PET_BUTTON: "Choose {0}",
        COLISEUM_BUTTON_CHALLENGE: "challenge!",
        COLISEUM_PROMPT_CHALLENGE: "Do you want to challenge {0}?",
        COLISEUM_REWARD: "Reward",
        COLISEUM_PROMPT_REQUIRE_LEVEL: "You must be at least level {0} to challenge {1}.",
        COLISEUM_PROMPT_REQUIRE_DEFEAT_PLURAL: "You must defeat the previous wizards to challenge {0}.",
        COLISEUM_PROMPT_REQUIRE_DEFEAT_SINGLE: "You must defeat the previous wizard to challenge {0}.",
        COLISEUM_PROMPT_REQUIRE_LEVEL_DEFEAT_PLURAL: "You must be at least level {0} and you must defeat the previous wizards to challenge {1}.",
        COLISEUM_PROMPT_REQUIRE_LEVEL_DEFEAT_SINGLE: "You must be at least level {0} and you must defeat the previous wizard to challenge {1}.",
        COLISEUM_OPPONENT_NEW_GIRL_TITLE: "The New Girl",
        COLISEUM_OPPONENT_NEW_GIRL_NAME: "Gina",
        COLISEUM_OPPONENT_NEW_GIRL_DESCRIPTION: "Gina arrived at the Academy a few weeks ago. She doesn't know many spells, but she can't wait to test them out on new challengers.",
        COLISEUM_OPPONENT_COPYCAT_TITLE: "The Copycat",
        COLISEUM_OPPONENT_COPYCAT_NAME: "Cameron",
        COLISEUM_OPPONENT_COPYCAT_DESCRIPTION: "When Cameron first came to the Academy, he challenged Crios and was beaten by his powerful fire spells. Now, Cameron has chosen fire as his new element.",
        COLISEUM_OPPONENT_VETERAN_TITLE: "The Veteran Wizard",
        COLISEUM_OPPONENT_VETERAN_NAME: "Mila",
        COLISEUM_OPPONENT_VETERAN_DESCRIPTION: "Mila didn't get her outfit from the Academy... in fact, she came here dressed like this. She's been casting spells for years, and uses all of them to defeat challengers.",
        COLISEUM_OPPONENT_NAMELESS_TITLE: "The Nameless",
        COLISEUM_OPPONENT_NAMELESS_NAME: "Benjamyn",
        COLISEUM_OPPONENT_NAMELESS_DESCRIPTION: "There are plenty of Bens at the Academy, but only one Benjamyn. Most students say his name is REALLY spelled 'Benjamin' and think he just changed it to be different. Interesting fact: It's really spelled Binjumun.",
        COLISEUM_OPPONENT_SWEETHEART_TITLE: "The Sweetheart",
        COLISEUM_OPPONENT_SWEETHEART_NAME: "Fuchsia",
        COLISEUM_OPPONENT_SWEETHEART_DESCRIPTION: "Pink is Fuchsia's favorite color, which is obvious to anyone who sees her. She doesn't know many spells, mostly because she spends too much time with her pet Peppermint.",
        COLISEUM_OPPONENT_LOUDMOUTH_TITLE: "The Loudmouth",
        COLISEUM_OPPONENT_LOUDMOUTH_NAME: "Bannard",
        COLISEUM_OPPONENT_LOUDMOUTH_DESCRIPTION: "Most students avoid Bannard, but not because he's too tough. In fact, he's a pretty normal student, except for the fact that he talks really loud... in fact, students can hear him coming from a mile away.",
        COLISEUM_OPPONENT_METALHEAD_TITLE: "The Metalhead",
        COLISEUM_OPPONENT_METALHEAD_NAME: "Leena",
        COLISEUM_OPPONENT_METALHEAD_DESCRIPTION: "Leena was raised in a small mining town in the mountains of the northern regions. Her appreciation of the rare rocks and ores that come from the planet have earned her her nickname, but it isn't earth spells that she's been practicing...",
        COLISEUM_OPPONENT_ADVENTURER_TITLE: "The Adventurer",
        COLISEUM_OPPONENT_ADVENTURER_NAME: "Finneas",
        COLISEUM_OPPONENT_ADVENTURER_DESCRIPTION: "Finn has a wild thirst for adventure, travel, and new challenges. He is a gifted student, but many teachers wish he would spend more time in the classroom and less out exploring the wilderness.",
        COLISEUM_OPPONENT_ENIGMA_TITLE: "The Enigma",
        COLISEUM_OPPONENT_ENIGMA_NAME: "Djinna",
        COLISEUM_OPPONENT_ENIGMA_DESCRIPTION: "One of the stranger students at the Academy, Djinna comes and goes as she pleases, often disappearing for days at a time. There is a rumor going around that she's not a student at all, but a spirit who watches over the Academy.",
        COLISEUM_OPPONENT_FOREST_SPRITE_TITLE: "The Forest Sprite",
        COLISEUM_OPPONENT_FOREST_SPRITE_NAME: "Jess",
        COLISEUM_OPPONENT_FOREST_SPRITE_DESCRIPTION: "Jess loves nature and everything about it. His respect for nature is second only to his twin sister, who taught him all she knows. He will accept any challenge to prove himself worthy of her teachings.",
        COLISEUM_OPPONENT_FOREST_GUARDIAN_TITLE: "The Forest Guardian",
        COLISEUM_OPPONENT_FOREST_GUARDIAN_NAME: "Flora",
        COLISEUM_OPPONENT_FOREST_GUARDIAN_DESCRIPTION: "The forests of the Academy are full of life, and Flora loves being a part of it. She spends her time in the forest, using earth spells to rejuvenate the plant life. Every once in a while, she'll return to the Academy, looking for new challengers.",
        COLISEUM_OPPONENT_CAROLER_TITLE: "The Caroler",
        COLISEUM_OPPONENT_CAROLER_NAME: "Nick",
        COLISEUM_OPPONENT_CAROLER_DESCRIPTION: "A lot of students at the Academy like the holiday season, but no one loves it as much as Nick. Nick sings festive carols all year long, even in the middle of July.",
        COLISEUM_OPPONENT_PET_ENTHUSIAST_TITLE: "The Pet Enthusiast",
        COLISEUM_OPPONENT_PET_ENTHUSIAST_NAME: "Lillian",
        COLISEUM_OPPONENT_PET_ENTHUSIAST_DESCRIPTION: "Lillian knows everything there is to know about pets, from their favorite activity to their favorite flavor of yogurt. She hopes to one day befriend every kind of pet and earn the title of 'Pet Master'.",
        COLISEUM_OPPONENT_BEASTMASTER_TITLE: "The Beastmaster",
        COLISEUM_OPPONENT_BEASTMASTER_NAME: "Korathius",
        COLISEUM_OPPONENT_BEASTMASTER_DESCRIPTION: "It is not real fur that Korathius wears, though his outfit correctly symbolizes his power and respect for all beasts. He never enters combat without a pet, though he instead refers to them as his 'brothers'.",
        COLISEUM_OPPONENT_TIMED_TRAVELLER_TITLE: "The Timed Traveller",
        COLISEUM_OPPONENT_TIMED_TRAVELLER_NAME: "Jen",
        COLISEUM_OPPONENT_TIMED_TRAVELLER_DESCRIPTION: "Many students dream of travelling the world, and Jen is no different. What separates her from the other students is that she's actually done it, in only 79 days!",
        COLISEUM_OPPONENT_CURIOUS_ONE_TITLE: "The Curious One",
        COLISEUM_OPPONENT_CURIOUS_ONE_NAME: "George",
        COLISEUM_OPPONENT_CURIOUS_ONE_DESCRIPTION: "George has a blooming curiosity for anything and everything. He loves playing with gadgets and gizmos, and often tries to invent his own... with varying degrees of success.",
        COLISEUM_OPPONENT_ICE_QUEEN_TITLE: "The Ice Queen",
        COLISEUM_OPPONENT_ICE_QUEEN_NAME: "Aurora",
        COLISEUM_OPPONENT_ICE_QUEEN_DESCRIPTION: "Students come to the Academy by many means, but Aurora's tale takes the cake. She arrived at the Academy floating on an iceberg, telling of her long journey across the sea. True or not, there is truth in her power over the spells of ice.",
        COLISEUM_OPPONENT_EMERALD_KNIGHT_TITLE: "The Emerald Knight",
        COLISEUM_OPPONENT_EMERALD_KNIGHT_NAME: "Ziang",
        COLISEUM_OPPONENT_EMERALD_KNIGHT_DESCRIPTION: "One night, Ziang disappeared into the mountains alone. For days, students could hear the sounds of battle, and a green glow filled the sky. He returned wearing a mysterious emerald armor, which he claims he took from a Dragon.",
        COLISEUM_OPPONENT_WELL_ROUNDED_TITLE: "The Well Rounded",
        COLISEUM_OPPONENT_WELL_ROUNDED_NAME: "Nova",
        COLISEUM_OPPONENT_WELL_ROUNDED_DESCRIPTION: "Few students stand out the way Nova does. She is friendly, smart and generally fun to be around. She practices hard, and helps others when they ask. She'll accept your challenge, of course, and she'll even shake your hand when she beats you.",
        COLISEUM_OPPONENT_PRODIGY_TITLE: "The Prodigy",
        COLISEUM_OPPONENT_PRODIGY_NAME: "Crios",
        COLISEUM_OPPONENT_PRODIGY_DESCRIPTION: "Crios is by far the most gifted student the Academy has ever seen. He has never lost a duel, and at least 20 students a year leave because of him. And now he challenges you.",
        EMAIL_PROMPT_LATER: "do later",
        EMAIL_PROMPT_SUBMIT: "submit!",
        EMAIL_PROMPT_TITLE: "Parent Email Link!",
        EMAIL_PROMPT_ERROR: "Oops, that didn't work. Would you like to try a different email address?",
        EMAIL_PROMPT_GET_GOLD: "Enter your parent or guardian's email below to link your account to it, and get 500 gold!",
        EMAIL_PROMPT_GET_APPLES: "Enter your parent or guardian's email below to link your account to it, and get 4 apples!",
        EMAIL_PROMPT_MESSAGE_TITLE: "Link Successful",
        EMAIL_PROMPT_MESSAGE_BODY: "Great job! Now ask your parent or guardian to check their email for a message from Prodigy!",
        EMAIL_PROMPT_FAIL_MESSAGE_BODY: "Looks like we weren't able to link your account to your parent or guardian's email.\n\nWould you like to retry submitting it?",
        FRIENDS_LIST_BUTTON_REQUESTS: "friend requests",
        FRIENDS_LIST_SENT_MESSAGE_TITLE: "Friend Request Sent",
        FRIENDS_LIST_SENT_MESSAGE_BODY: "You have sent this player a request to become friends!",
        FRIENDS_LIST_CANCEL_MESSAGE_TITLE: "Friend Request Cancelled",
        FRIENDS_LIST_CANCEL_MESSAGE_BODY: "You have cancelled your friend request with this player.",
        FRIENDS_LIST_FULL_MESSAGE_BODY: "You can't add any more friends because your friends list is full!",
        FRIENDS_LIST_ERROR_MESSAGE_BODY: "Oops! Sorry, we cannot show your Friends List right now. We are working on it. Please try again later.",
        GOT_ITEM_YOU_GOT_SOMETHING: "You got something!",
        GOT_ITEM_YOU_GOT_PET: "You got a new pet!",
        GOT_ITEM_YOU_GOT_FURNITURE: "You got furniture for your house!",
        GOT_ITEM_MOVED_HOUSE: "You've moved to a new house! I'll clean up all your furniture for you.",
        GOT_ITEM_BOUNTY_POINTS: "You earned bounty points!",
        GOT_ITEM_GOLD: "You got gold!",
        GOT_ITEM_SPELL: "You learned a new spell!",
        GOT_ITEM_GENERIC: "Wow! A new {0}. Would you like to put it on?",
        GOT_ITEM_BOOTS: "Wow! A new pair of {0}. Would you like to put it on?",
        GOT_ITEM_FOLLOW: "Wow! A new buddy! Would you like them to follow you?",
        GOT_ITEM_GIFT_BOX: "You got a Conjure Cube!",
        GOT_ITEM_LOOK: "You got a new look!",
        GOT_ITEM_OTHER: "You got an item!",
        HOUSE_BUTTON_VISIT: "Visit",
        ITEM_BUTTON_HIDE: "hide",
        ITEM_BUTTON_REMOVE: "remove",
        ITEM_BUTTON_SHOW: "show",
        ITEM_BUTTON_WEAR: "wear",
        ITEM_BUTTON_USE: "use",
        ITEM_BUTTON_BUY: "Buy",
        LEADER_PROMPT_CHECK_IT_OUT: "check it out!",
        LEADER_PROMPT_LOADING: "Loading...",
        LEADER_PROMPT_HEY_THERE: "Hey There!",
        LEADER_PROMPT_PLAY_HOME: "You can play prodigy at home!\n\nJust go to prodigygame.com and click PLAY!",
        MEMBER_PROMPT_BUY_NOW: "buy now!",
        MEMBER_PROMPT_REWARD_GOLD: "Here's your reward of 2000 gold!",
        MEMBER_PROMPT_JOIN_GOLD: "Join now and get 2000 GOLD!",
        MEMBER_PROMPT_BECOME_MEMBER: "Become a Member Today!",
        MEMBER_PROMPT_MEMBERSHIP: "You Have a Membership!",
        NAME_CHANGE_BUTTON_DONE: "I'm Done!",
        PETS_BUTTON_SET_FREE: "Set Free",
        POUCH_BUTTON_SEARCH: "search",
        QUESTS_BUTTON_START_QUEST: "Start Quest",
        SERVERS_BUTTON_PLAY_OFFLINE: "play offline",
        SERVERS_BUTTON_MORE_WORLDS: "more worlds",
        SERVERS_BUTTON_MY_WORLDS: "my worlds",
        SERVERS_BUTTON_BACK_TO_WORLDS: "back to worlds",
        SURVEY_BUTTON_DONE: "Done!",
        SYSTEM_BUTTON_SMALL_SCREEN: "Small Screen",
        SYSTEM_BUTTON_MEDIUM_SCREEN: "Medium Screen",
        SYSTEM_BUTTON_LARGE_SCREEN: "Large Screen",
        CHARACTER_SELECT_UPDATE: "update",
        CHARACTER_SELECT_LEARN: "learn more!",
        CHARACTER_SELECT_NEW_TEACHER: "New Teacher?",
        CHARACTER_SELECT_ADD_CHARACTER: "Click the button below to add your character to your new class!",
        CHARACTER_SELECT_TOYS: "Collect the new Prodigy Dragon toys! Click to learn more!",
        CHARACTER_SELECT_ENTER_CLASS: "Enter your teacher's class code",
        CHARACTER_SELECT_NO_CLASS_CODE: "Teachers: Don't have a class code? Click here!",
        CHARACTER_SELECT_NEW_CLASS_TITLE: "success!",
        CHARACTER_SELECT_NEW_CLASS_BODY: "You were added to a new class!",
        CHARACTER_SELECT_ERROR_INVALID_CLASS_CODE: "That class code is not valid",
        CHARACTER_SELECT_ERROR_NO_CLASS_CODE: "Please enter a class code",
        CHARACTER_CREATE_SKIN_COLOR: "Skin Color",
        CHARACTER_CREATE_EYE_COLOR: "Eye Color",
        CHARACTER_CREATE_HAIR_COLOR: "Hair Color",
        CHARACTER_CREATE_HAIR_STYLE: "Hair Style",
        STORE_PROMPT_WELCOME: "Welcome to {0}! \nWant to see what I have for sale?",
        STORE_PROMPT_WELCOME_API: "Welcome to my store! \nWant to see what I have for sale?",
        STORE_PROMPT_NEED_GOLD: "Need gold? Become a member and get",
        STORE_PROMPT_UNLOCK_ALL: "Want to unlock all items?",
        STORE_NAME_DYNO: "Sky-High Values",
        STORE_CLOSE_TIMER: "until the shop closes!",
        PARENT_LINK_POST_CLICK: "If you successfully linked a parent account, you will receive your rewards the next time you log in.",
        PARENT_LINK_SCHOOL_HOURS: "To receive these benefits, ask your parent to create a parent account and link it to yours.",
        PARENT_LINK_MOBILE_MESSAGE: "Visit www.prodigygame.com to link a parent account for great in-game rewards!",
        PARENT_LINK_SUCCESS_BODY: "Congratulations on linking a parent account! Please enjoy these great rewards!",
        PARENT_LINK_INFO_BODY: "Have your parent or guardian link their account to your player account and receive awesome stuff!",
        DIALOGUE_NOOT_0: "Look out below!",
        DIALOGUE_NOOT_1: "Ouch!\n...\nAnother happy landing!",
        DIALOGUE_NOOT_2: "I'm Noot, and I'll be your fairy guide! All new wizards need a guide, and I'm ALL YOURS!",
        DIALOGUE_NOOT_3: "This is a wizard battle! The goal is to reduce your opponent's hearts to zero by casting spells.",
        DIALOGUE_NOOT_4: "It's okay, try again! The scarecrow won't fight back, so practice away!",
        DIALOGUE_NOOT_5: "When you cast a spell, your opponent loses hearts! When they have no hearts left, you win!",
        DIALOGUE_NOOT_6: "Don't know how to walk, huh? Click the ground to walk, and follow me to the edge of the map!",
        DIALOGUE_NOOT_7: "I think you're ready for the next lesson...follow me!",
        DIALOGUE_NOOT_8: "To cast a spell, press the Attack button. Then choose your spell from the list!",
        DIALOGUE_NOOT_9: "Uh oh! Your hearts are low! At times like this, it might be best to change team members!",
        DIALOGUE_NOOT_10: "Just click the Switch button and choose another teammate.",
        DIALOGUE_NOOT_11: "Your opponent is getting tired! Now's the time to try to catch it!",
        DIALOGUE_NOOT_12: "Just click the Catch button when you want to catch a new pet!",
        DIALOGUE_NOOT_13: "All you have to do is click this button when the arrow is pointing to the green area! Give it a try!",
        DIALOGUE_NOOT_14: "I think it's time you got a pet of your own! Choose a pet to join you on your adventures!",
        DIALOGUE_NOOT_15: "This is your backpack! All the items you collect are stored here!",
        DIALOGUE_NOOT_16: "To equip an item, click on one of your items and select 'wear'.",
        DIALOGUE_NOOT_17: "To unequip an item, click on an equipped item here. Looking good!",
        DIALOGUE_NOOT_18: "Your map shows all the areas on the island! To travel to a new area, just click the area's icon!",
        DIALOGUE_NOOT_19: "This is where you select your battle team!",
        DIALOGUE_NOOT_20: "First click one of your pets in the boxes here...",
        DIALOGUE_NOOT_21: "Then, click an open slot on your team. You can do this to remove pets from your team too!",
        DIALOGUE_NOOT_22: "Oh no! You ran out of hearts... You must be exhausted!",
        DIALOGUE_NOOT_23: "Don't worry, I'll heal you and your pets! But I'll have to charge you [gold] 100...",
        DIALOGUE_NOOT_24: "Let's keep going! There's still so much to explore!",
        DIALOGUE_NOOT_25: "Uh oh! A monster is blocking our path!",
        DIALOGUE_NOOT_26: "The Academy is full of monsters, and monsters love a good wizard battle! Click on the monster to challenge it!",
        DIALOGUE_NOOT_27: "Pets are very useful - they level up and cast spells just like you! They can also help you in battle!",
        DIALOGUE_NOOT_28: "But before we go anywhere, you need to know how to defend yourself from monsters!",
        DIALOGUE_NOOT_29: "Oh no! It looks like a monster broke the bridge! How will we get across now?",
        DIALOGUE_NOOT_30: "Oh, nice! It looks like there are some pieces nearby...go collect them and we can rebuild the bridge ourselves!",
        DIALOGUE_NOOT_31: "Just click on the items around the map to pick them up...but watch out for monsters!",
        DIALOGUE_NOOT_32: "Great job! Now step back and watch this!",
        DIALOGUE_NOOT_33: "TADA! Not bad, huh? Okay, follow me!",
        DIALOGUE_NOOT_34: "In battle, monsters also cast spells. The first to defeat the other wins the battle!",
        DIALOGUE_NOOT_35: "Well, that's all I have left to teach you, but your wizard quest has only just begun!",
        DIALOGUE_NOOT_36: "Follow the path to the left to meet the first master wizard, Flora!",
        DIALOGUE_NOOT_37: "Don't you worry, though, because I'll always be here to help you out!",
        DIALOGUE_NOOT_38: "Do you want to heal you and your pets?",
        DIALOGUE_NOOT_39: "Oh dear! Try again!",
        DIALOGUE_NOOT_40: "Whoa, great job!",
        DIALOGUE_NOOT_41: "All finished! Let's head back, okay?",
        DIALOGUE_NOOT_42: "To become a true PRODIGY, you must travel all over the island and meet the master wizards!",
        DIALOGUE_NOOT_43: "Each master will teach you new spells, and award you a gemstone for completing their trials!",
        DIALOGUE_NOOT_44: "First, ask your teacher for your class code, and enter it here!",
        DIALOGUE_NOOT_45: "Now, enter your first and last name!",
        DIALOGUE_NOOT_46: "Create a password for your account! Remember to enter it twice!",
        DIALOGUE_NOOT_47: "Where do you live?",
        DIALOGUE_NOOT_48: "What grade are you in?",
        DIALOGUE_NOOT_49: "What does your wizard look like?",
        DIALOGUE_NOOT_50: "What is your wizard's name?",
        DIALOGUE_NOOT_51: "Here is your login information. Be sure to write these down!",
        DIALOGUE_NOOT_52: "Uh oh! Something went wrong...do you want to try again?",
        DIALOGUE_NOOT_53: "There's the healstone! When you're low on health, just click it to heal you and your pets!",
        DIALOGUE_NOOT_54: "There are the Sprikes! In battle, monsters drop items, and some items are used for quests!",
        DIALOGUE_NOOT_55: "Defeat the Sprikes until one of them drops some evidence for Flora!",
        DIALOGUE_NOOT_56: "Um...I think we found the TripTrop Trio!",
        DIALOGUE_NOOT_57: "Whew, that wasn't so bad...good job!",
        DIALOGUE_NOOT_58: "See that gate? It leads to the icy Shiverchill Mountains... but you need the Firefly Gem to open it!",
        DIALOGUE_NOOT_59: "WOW! That must be Gerald! I guess he's sleeping...thank goodness! We should probably tell Flora.",
        DIALOGUE_NOOT_60: "Oh no! A monster stole the flute! We'd better go tell Flora...",
        DIALOGUE_NOOT_61: "All we have to do is play this flute? Piece of cake, I used to take lessons!",
        DIALOGUE_NOOT_62: "Pftfbpfffppfbt!",
        DIALOGUE_NOOT_63: "What? I never said I was any good at it!",
        DIALOGUE_NOOT_64: "You opened the gate and got your first gemstone! Well done!",
        DIALOGUE_NOOT_65: "Next stop, Shiverchill Mountains!",
        DIALOGUE_NOOT_66: "Enter your parent's email if you're playing at home!",
        DIALOGUE_NOOT_67: "It looks like all the furnaces are out...no wonder it's so cold!",
        DIALOGUE_NOOT_68: "Whoa...what was that about?",
        DIALOGUE_NOOT_69: "We'd better tell Bok about this...",
        DIALOGUE_NOOT_70: "What the...this is NOT a shovel! We'd better go tell Bok.",
        DIALOGUE_NOOT_71: "Wait, those weren't the monsters?",
        DIALOGUE_NOOT_72: "Hmmm...well, you wouldn't happen to know where we could find some power crystals, would you?",
        DIALOGUE_NOOT_73: "Ummm...I think that's the REAL monster!",
        DIALOGUE_NOOT_74: "I'll bet that's the throne room, but it looks like the entrance is still frozen...",
        DIALOGUE_NOOT_75: "Look there! It's another power crystal...we can light another furnace!",
        DIALOGUE_NOOT_76: "Or maybe not? I guess the wyrm is still around...",
        DIALOGUE_NOOT_77: "Hey look! The furnace melted some of the ice!",
        DIALOGUE_NOOT_78: "You got your second gemstone and opened the second gate! Well done!",
        DIALOGUE_NOOT_79: "Next stop, Skywatch!",
        DIALOGUE_NOOT_80: "Welcome to Lamplight, the most magical town on the island and home of the Academy!",
        DIALOGUE_NOOT_81: "This is a great little town. I'm sure you'll find yourself right at home.",
        DIALOGUE_NOOT_82: "Let's go on a quick tour around town, shall we? There's so much to see!",
        DIALOGUE_NOOT_83: "Here is the Coliseum. Inside you can face the best wizards around, and earn great rewards!",
        DIALOGUE_NOOT_84: "But you should probably level up a bit first...some are pretty tricky! Let's keep moving!",
        DIALOGUE_NOOT_85: "This is the Shopping District - most of the shops in Lamplight are here.",
        DIALOGUE_NOOT_86: "Here is the Equipment Store. They sell wands, outfits and hats.",
        DIALOGUE_NOOT_87: "This is the Stylist Shop, where wizards can change their appearance! Let's continue, shall we?",
        DIALOGUE_NOOT_88: "This is the Town Square, the heart of Lamplight!",
        DIALOGUE_NOOT_89: "Many special events and festivals are hosted here...be sure to check in often!",
        DIALOGUE_NOOT_90: "All right! Only one more stop to go.",
        DIALOGUE_NOOT_91: "Down that way is the eastern gate, which leads to the Academy...",
        DIALOGUE_NOOT_92: "Unfortunately, it's been closed down ever since the Wardens disappeared... Maybe someday you'll get to see it for yourself!",
        DIALOGUE_NOOT_93: "Anyways, that's it for the tour! Come back often...the town changes all the time!",
        DIALOGUE_NOOT_94: "Great job! Be sure to talk to Boardy in Lamplight to get your reward.",
        DIALOGUE_NOOT_95: "That monster has the device! We'd better catch it!",
        DIALOGUE_NOOT_96: "HAHA! We've got you now!",
        DIALOGUE_NOOT_97: "Look, a note! It says that Broccolina is trimming the Bean-o-vator... Let's go find her.",
        DIALOGUE_NOOT_98: "What is THAT?!",
        DIALOGUE_NOOT_99: "Uh oh, those vines look too strong for our Vine Pruner. We should tell Benni and Broccolina about this!",
        DIALOGUE_NOOT_100: "We'd better help him out!",
        DIALOGUE_NOOT_101: "You got your third gemstone and opened the third gate! Well done!",
        DIALOGUE_NOOT_102: "Next stop, Bonfire Spire!",
        DIALOGUE_NOOT_103: "Uh, I think that's our cue to leave - fast!",
        DIALOGUE_NOOT_104: "Hey! Where do you think you're going!?",
        DIALOGUE_NOOT_105: "We get tricked a lot, don't we?",
        DIALOGUE_NOOT_106: "Sigh... Here we go again.",
        DIALOGUE_NOOT_107: "Well, actually, we didn't cook it.",
        DIALOGUE_NOOT_108: "Your Majesty, I present to you your new chef! Slurpy!",
        DIALOGUE_NOOT_109: "You got your fourth gemstone and opened the fourth gate! Well done!",
        DIALOGUE_NOOT_110: "Next stop, Barnacle Cove!",
        DIALOGUE_NOOT_111: "Let's head back, okay?",
        DIALOGUE_NOOT_112: "Oh no! Looks like we'll need to slip by Cebollini to get to the pot.",
        DIALOGUE_NOOT_113: "If you step into his circle of vision, he'll catch you and kick you out!",
        DIALOGUE_NOOT_114: "Hey, look there! There's a cauldron you can use to hide.",
        DIALOGUE_NOOT_115: "Press the button above your head to hide!",
        DIALOGUE_NOOT_116: "Walk around to take off the cauldron.",
        DIALOGUE_NOOT_117: "Now, enter your first name and last-name initial!",
        DIALOGUE_NOOT_118: "Hello?",
        DIALOGUE_NOOT_119: "Hey, listen!",
        DIALOGUE_NOOT_120: "C'mon, wake up sleepy head! You're going to be late for your first day of classes at the Academy!",
        DIALOGUE_NOOT_121: "Whoa! Hold up!",
        DIALOGUE_NOOT_122: "I haven't even introduced myself. The name's Noot. I help bring new students to the Academy on their first day of class!",
        DIALOGUE_NOOT_123: "Who might you be?",
        DIALOGUE_NOOT_124: "Nice to meet you!",
        DIALOGUE_NOOT_125: "Let's head over. Don't wanna be late on your first day!",
        DIALOGUE_NOOT_126: "Hey look, a monster! Monsters can be found everywhere, but they're pretty tame.",
        DIALOGUE_NOOT_127: "Uh...this one seems a bit grumpy. Looks like it wants to battle!",
        DIALOGUE_NOOT_128: "Since you're new at this, I'll shield you from spells for now!",
        DIALOGUE_NOOT_129: "Something really DID seem odd about that monster. Let's hurry up and get to the Academy.",
        DIALOGUE_NOOT_130: "By the way, if you're ever not sure what to do, just follow the magical guide hand I've created!",
        DIALOGUE_NOOT_131: "Click on the hand now!",
        DIALOGUE_NOOT_132: "Welcome to Lamplight Town! This place is just FULL of interesting people to meet and things to do!",
        DIALOGUE_NOOT_133: "Now, before we go further, you'll need to choose your very own pet!",
        DIALOGUE_NOOT_134: "Every wizard that studies at the Academy chooses a pet to train with.",
        DIALOGUE_NOOT_135: "When you train a pet, it becomes smarter and learns new spells, just like you!",
        DIALOGUE_NOOT_136: "Some pets even change to stronger forms if you train them enough!",
        DIALOGUE_NOOT_137: "Whoa, what has gotten into these pets?!",
        DIALOGUE_NOOT_138: "Looks like they've settled down, thank goodness! Choose which one you'd like to train!",
        DIALOGUE_NOOT_139: "This is the Town Square, the heart of Lamplight Town.",
        DIALOGUE_NOOT_140: "Let's keep heading to the Academy. We can come back later, and I'll give you the full tour.",
        DIALOGUE_NOOT_141: "Another monster that wants to battle us? We need to scare it away before it causes trouble around here.",
        DIALOGUE_NOOT_142: "Come oooon, we have to get going!",
        DIALOGUE_NOOT_143: "Whew! We MADE IT! Well, it's time for you to get to class.",
        DIALOGUE_NOOT_144: "I have to go help other wizards find their way here, AND find out what's going on with all the monsters nearby, but I'm sure I'll see you around!",
        DIALOGUE_NOOT_145: "Do you feel that?",
        DIALOGUE_NOOT_146: "I...can sense something. A presence I've not felt since...",
        DIALOGUE_NOOT_147: "What WAS that?! Whoa...I don't feel so good...",
        DIALOGUE_NOOT_148: "AND WHERE DID THE WARDEN KEYSTONES GO?!",
        DIALOGUE_NOOT_149: "Without the Warden Keystones on their pedestals...",
        DIALOGUE_NOOT_150: "Oh no! It's the Puppet Master! This IS NOT good!",
        DIALOGUE_NOOT_151: "The name's Noot, and this here is my pal.",
        DIALOGUE_NOOT_152: "With the help of the power of the Wardens, we're going to put a stop to the Order's evil plans, once and for all!",
        DIALOGUE_NOOT_153: "I think it's time for us to get outta here...",
        DIALOGUE_NOOT_154: "I have a little secret I was keeping from the Puppet Master: the Warden Keystones can't be destroyed!",
        DIALOGUE_NOOT_155: "All that blast did was scatter them around the island.",
        DIALOGUE_NOOT_156: "Once we collect them all, we should be able to defeat the Puppet Master!",
        DIALOGUE_NOOT_157: "The Puppet Master must be the one who cast the mind spells on the monsters...",
        DIALOGUE_NOOT_158: "But thanks to you, the town is safe once again!",
        DIALOGUE_NOOT_159: "I think you've earned your wizard name. What shall you be known as?",
        DIALOGUE_NOOT_160: "It's PERFECT!",
        DIALOGUE_NOOT_161: "Let's start the search for the Warden Keystones in Firefly Forest!",
        DIALOGUE_NOOT_162: "Here, take this map. It'll let you jump to places around the island.",
        DIALOGUE_NOOT_163: "One last thing. That shadow blast drained most of my magic, so I can't block spells for you anymore.",
        DIALOGUE_NOOT_164: "With the Wardens weakened, it's up to us to stop the evil Order of Influence and save the Academy!",
        DIALOGUE_NOOT_165: "Okay, follow me!",
        DIALOGUE_NOOT_166: "Uh oh, the quest you were working on has ended. Let's go talk to Swoopy and get another quest!",
        DIALOGUE_NOOT_167: "Hello! I'm Noot, pleasure to meet you.",
        DIALOGUE_NOOT_168: "Eve sent us. She said that the local people saw an ancient monster swimming around here.",
        DIALOGUE_NOOT_169: "Do you know anything about that?",
        DIALOGUE_NOOT_170: "Let's search the nearby areas Jelly Jim mentioned.",
        DIALOGUE_NOOT_171: "What IS this stuff? Oh no, I don't think we can go any further. Maybe Eve will know what to do.",
        DIALOGUE_NOOT_172: "Whoa... what is that tunnel in the sand from?! That does NOT look normal. And it's HUGE!",
        DIALOGUE_NOOT_173: "Let's go back and tell Eve about this right away!",
        DIALOGUE_NOOT_174: "Looks like the door's locked. Let's finish our tasks, then we can try to get it open later.",
        DIALOGUE_NOOT_175: "Let's go take that photo!",
        DIALOGUE_NOOT_176: "The door's locked. Let's let Eve know.",
        DIALOGUE_NOOT_177: "Are you playing from home or from school?",
        DIALOGUE_NOOT_178: "This wizard will become more powerful than you could possibly imagine!",
        DIALOGUE_NOOT_179: "Stopping a Titan won't be easy. It will be up to you and all the wizards in the world to bring it down by weakening it in Wizard Battles.",
        DIALOGUE_NOOT_180: "Select the Titan when you want to battle it.",
        DIALOGUE_NOOT_181: "In Titan battles, you first need to break through the Titan's barrier. Once its barrier breaks, it will lose some hearts.",
        DIALOGUE_NOOT_182: "Once this is done enough times by you and other wizards, it will be defeated!",
        DIALOGUE_NOOT_183: "You aren't alone in this fight. Get help from other wizards!",
        DIALOGUE_NOOT_184: "",
        DIALOGUE_NOOT_185: "",
        DIALOGUE_NOOT_186: "",
        DIALOGUE_NOOT_187: "",
        DIALOGUE_NOOT_188: "",
        DIALOGUE_NOOT_189: "",
        DIALOGUE_NOOT_190: "",
        DIALOGUE_NOOT_191: "Look at this stuff! Isn't it neat?!",
        DIALOGUE_NOOT_192: "Wow! You got some awesome stuff!",
        DIALOGUE_NOOT_193: "Wow! You got some cool stuff!",
        DIALOGUE_NOOT_194: "Wow! You got some neat stuff!",
        DIALOGUE_NOOT_195: "Whoa! That's some awesome stuff!",
        DIALOGUE_NOOT_196: "You just got some really cool stuff!",
        DIALOGUE_NOOT_197: "Isn't being a member awesome!?!",
        DIALOGUE_NOOT_198: "Choose which one you'd like to train!",
        DIALOGUE_NOOT_199: "Let's keep going!",
        DIALOGUE_FLORA_0: "Well hello there! The name's Flora - master wizard of Firefly Forest!",
        DIALOGUE_FLORA_1: "Complete my trials to learn earth spells. Complete them all to earn the Firefly Gem!",
        DIALOGUE_FLORA_2: "But first, I have an itty bitty favor to ask...",
        DIALOGUE_FLORA_3: "Can you go rescue my friend? He's been surrounded by monsters!",
        DIALOGUE_FLORA_4: "Quick question - what does every wizard need?",
        DIALOGUE_FLORA_5: "A wand, silly! I'm fresh out of wands, but I think there's a special one in a chest in the forest!",
        DIALOGUE_FLORA_6: "Or you can always buy one from the store!",
        DIALOGUE_FLORA_7: "Oh! You got one!",
        DIALOGUE_FLORA_8: "Challenge some Saplettes for your next trial!",
        DIALOGUE_FLORA_9: "After a few battles, your hearts get low and you need to heal.",
        DIALOGUE_FLORA_10: "And while you're there, challenge some Saplettes for your next trial!",
        DIALOGUE_FLORA_11: "To become a true Prodigy, you must learn spells! And the best way to learn new spells is by helping people!",
        DIALOGUE_FLORA_12: "Firefly Forest has a problem...vandals! Someone's been littering at the crossroads!",
        DIALOGUE_FLORA_13: "Do me a favor and help clean it up, okay?",
        DIALOGUE_FLORA_14: "The paper you picked up seems to be part of a note... but it's written in 'monster'.",
        DIALOGUE_FLORA_15: "Try bringing it to the traveller in the northern woods!",
        DIALOGUE_FLORA_16: "The note says 'don't tell Flora' \n...HEY! I'M FLORA!",
        DIALOGUE_FLORA_17: "So, those Sprikes are up to something secret, huh? Defeat a few until they drop some evidence!",
        DIALOGUE_FLORA_18: "Hmmm, this is a Mandrake... \nMandrakes are the best spies in the whole forest!",
        DIALOGUE_FLORA_19: "Collect more for me and bring them in for questioning...maybe they can tell us more!",
        DIALOGUE_FLORA_20: "Be sure to look around...they may be in more than one place!",
        DIALOGUE_FLORA_21: "According to the Mandrakes, the TripTrop Trio ordered the Sprikes to steal something from me.",
        DIALOGUE_FLORA_22: "This forest is mischievious! \n...and confusing!",
        DIALOGUE_FLORA_23: "Track down the TripTrop Trio, defeat them, and bring back what they stole!",
        DIALOGUE_FLORA_24: "So, they stole my flute? And they BROKE IT?! THE NERVE!",
        DIALOGUE_FLORA_25: "This can only mean one thing... \nCan you head into the forest to find my Golem, Gerald?",
        DIALOGUE_FLORA_26: "WHAT?! That boulder-brain is asleep again?!",
        DIALOGUE_FLORA_27: "Monsters lull Gerald to sleep all the time...I guess he's a bit loud when he walks around.",
        DIALOGUE_FLORA_28: "We can wake him up, but first we need to fix my broken flute!",
        DIALOGUE_FLORA_29: "Easy Peasy! Just bring it to the 'magic stump' in the woods!",
        DIALOGUE_FLORA_30: "WHAT?! It's been stolen again?!",
        DIALOGUE_FLORA_31: "That's the last straw! Now I'm REAL MAD, and nobody wants to mess with an angry forest fairy!",
        DIALOGUE_FLORA_32: "Go find that monster and bring back my flute! He could be anywhere!",
        DIALOGUE_FLORA_33: "Now that we have the flute, it's time for your final challenge!",
        DIALOGUE_FLORA_34: "Take this to Gerald and wake him up! Careful, though...he can get REAL grumpy!",
        DIALOGUE_FLORA_35: "Wow! You did it! As promised, here is the Firefly Gem!",
        DIALOGUE_FLORA_36: "You're ready to head into Shiverchill Mountains, where you'll meet your second master, Bok!",
        DIALOGUE_FLORA_37: "Just take the gem to the gate and open it!",
        DIALOGUE_FLORA_38: "Just follow the arrows!",
        DIALOGUE_FLORA_39: "Well done!",
        DIALOGUE_BOK_0: "Hahaha! Bok knew you could do it!",
        DIALOGUE_BOK_1: "Slip say it time you learn new spell. Bok agree - you the best!",
        DIALOGUE_BOK_2: "Hoot hoot!",
        DIALOGUE_BOK_3: "Welcome to Bok cave! New wizard seek gem, learn spells? You come to right place!",
        DIALOGUE_BOK_4: "Bok teach wizard, but first we have problem...IT FREEZING IN HERE!",
        DIALOGUE_BOK_5: "Need to check on furnaces, but room full of chilly monsters...",
        DIALOGUE_BOK_6: "But you wizard! Wizard strong! Head to furnace room...first door on right.",
        DIALOGUE_BOK_7: "Furnaces ALL broken? Bok use power crystal to light furnace, but last crystal stolen...",
        DIALOGUE_BOK_8: "What?! Bok tell Slip to hide crystal...it not Bok fault it stolen!",
        DIALOGUE_BOK_9: "Go to treasure room and find chilly monster that stole Bok crystal!",
        DIALOGUE_BOK_10: "Now that wizard have crystal, time to light furnace!",
        DIALOGUE_BOK_11: "Go to furnace room and light furnace. Bok counting on wizard!",
        DIALOGUE_BOK_12: "Wizard do good, but much of mountain still frozen. Need more crystals, Bok think.",
        DIALOGUE_BOK_13: "Crystals rare, but Bok used to find them in caves. Go explore caves, see what can find!",
        DIALOGUE_BOK_14: "You find miner? BOK NOT LIKE MINERS ONE BIT!",
        DIALOGUE_BOK_15: "Before miners, Bok king of mountain. Then miners come with scary wizard, chase Bok to this cave.",
        DIALOGUE_BOK_16: "Slip right...miners good at finding crystals. Okay, Bok help...take key to chest - shovel there.",
        DIALOGUE_BOK_17: "Wizard can find chest in mines...but be careful! Shovel prized possession, passed to Bok from dear mother.",
        DIALOGUE_BOK_18: "Wizard say shovel is spoon? That mean Bok been using real shovel as spoon for WEEKS!",
        DIALOGUE_BOK_19: "NO LAUGHING, SLIP!",
        DIALOGUE_BOK_20: "Now you have real shovel, go help miner and get crystal for Bok!",
        DIALOGUE_BOK_21: "All miner say is that power crystal in mines? BOK ALREADY KNOW THAT!",
        DIALOGUE_BOK_22: "Head into mines, and find that crystal!",
        DIALOGUE_BOK_23: "Giant ice wyrm? That must be what cause all these cavequakes...",
        DIALOGUE_BOK_24: "Well, it sound like you defeat it, so back to plan - head back into mines!",
        DIALOGUE_BOK_25: "What? Oh, Slip want you to defeat ghosties in mines first...",
        DIALOGUE_BOK_26: "Okay, no more delay! Head to mines, ghosties or not, and bring back power crystal!",
        DIALOGUE_BOK_27: "With two furnaces on, Bok throne room should be open, and Bok can be king of mountain again!",
        DIALOGUE_BOK_28: "But before I go, check throne room for Bok, make sure it safe.",
        DIALOGUE_BOK_29: "Throne room still frozen? And wyrm eat last power crystal? This not good...",
        DIALOGUE_BOK_30: "Okay, Bok have plan!",
        DIALOGUE_BOK_31: "BOK HAVE GOOD PLANS SOMETIMES! LOTS OF TIMES!",
        DIALOGUE_BOK_32: "Monster eat crystals, so wizard go collect lots of crystals!",
        DIALOGUE_BOK_33: "Lure monster, defeat, and get crystal! Off you go, hero wizard!",
        DIALOGUE_BOK_34: "You have crystals, now it time to face the ice wyrm...good luck!",
        DIALOGUE_BOK_35: "Slip wish you luck too!",
        DIALOGUE_BOK_36: "For this, wizard deserve the Shiverchill Gem!",
        DIALOGUE_BOK_37: "...But, Bok leave in throne room. As final test, go to throne room and pick up reward!",
        DIALOGUE_BOK_38: "Well, that all Bok have to teach! Now it time for wizard to face new journey!",
        DIALOGUE_BOK_39: "Bring gem to gate at top of mountain, open, and find Benni, the next master!",
        DIALOGUE_MERCHANT_0: "Boy, have I got some deals for you!",
        DIALOGUE_MERCHANT_1: "Oh dear...I'm in quite a pickle now!",
        DIALOGUE_MERCHANT_2: "Those monsters almost got away with my loot!!",
        DIALOGUE_MERCHANT_3: "What have we here? A note written by monsters, huh? Let me read it...",
        DIALOGUE_MERCHANT_4: "It says... \n'Big plans happening, don't tell Flora!'",
        DIALOGUE_MERCHANT_5: "Well it looks like it was written by a Sprike - strange little monsters, they are!",
        DIALOGUE_MERCHANT_6: "Well hello there, young one!",
        DIALOGUE_MERCHANT_7: "You there, help! The earthquake trapped me under some rubble!",
        DIALOGUE_MERCHANT_8: "Please find something to dig me out before the monster comes back!",
        DIALOGUE_MERCHANT_9: "Thank goodness you came before the monster returned!",
        DIALOGUE_MERCHANT_10: "Goodness no! I speak of the ice demon lurking in the mountains! Scary stuff, it is!",
        DIALOGUE_MERCHANT_11: "I was trying to escape with the other miners, but I got trapped here!",
        DIALOGUE_MERCHANT_12: "Power crystals, huh? There might be one or two left in the mines...",
        DIALOGUE_MERCHANT_13: "Thanks for all your hard work completing bounties. Here is your reward!",
        DIALOGUE_MERCHANT_14: "Do you want to open the Arena Rewards shop?",
        DIALOGUE_MERCHANT_15: "Are you ready to take part in the ARENA? Face the toughest wizards around the world and work your way to the top!",
        DIALOGUE_MERCHANT_16: "You cannot take part in the Arena in Offline Mode!",
        DIALOGUE_MERCHANT_17: "Do you want to open the Bounty Rewards shop?",
        DIALOGUE_MERCHANT_18: "Collect fireflies for me.",
        DIALOGUE_MERCHANT_19: "Your next reward is at 5.",
        DIALOGUE_MERCHANT_20: "Your next reward is at 10.",
        DIALOGUE_MERCHANT_21: "Your next reward is at 25.",
        DIALOGUE_MERCHANT_22: "Your next reward is at 50.",
        DIALOGUE_MERCHANT_23: "Your next reward is at 75.",
        DIALOGUE_MERCHANT_24: "Your next reward is at 99.",
        DIALOGUE_MERCHANT_25: "1 more to go!",
        DIALOGUE_MERCHANT_26: "Congrats, here is your reward!",
        DIALOGUE_MERCHANT_27: "Collect Ice Crystals for me.",
        DIALOGUE_MERCHANT_28: "A few of them should appear every day. Explore the forest to find them!",
        DIALOGUE_MERCHANT_29: "They are really tricky to catch while they are moving, so wait until they stop to rest.",
        DIALOGUE_MERCHANT_30: "A few frozen blocks of ice should appear every day. Explore the mountains to find them!",
        DIALOGUE_MERCHANT_31: "Once you have them, take them to any lit furnace to thaw them out.",
        DIALOGUE_MERCHANT_32: "If you happen to find any Ice Crystals, bring them to me for rewards.",
        DIALOGUE_MERCHANT_33: "Hold on! There is something else you can help me with.",
        DIALOGUE_MERCHANT_34: "Would you be able to collect fireflies for me? They appear every day. Explore the forest to find them!",
        DIALOGUE_MERCHANT_35: "If you don't mind, there is another task you can help me with.",
        DIALOGUE_MERCHANT_36: "That's all that I need. Thanks so much for your help!",
        DIALOGUE_MERCHANT_37: "Thank you so very much for taking care of those brutes! I was simply TERRIFIED.",
        DIALOGUE_MERCHANT_38: "Please take this wizard hat. It will help protect you on your travels!",
        DIALOGUE_MERCHANT_39: "South of here, a monster stole a wand from the magic shop! Defeat it, and you may keep the wand as your prize!",
        DIALOGUE_WINTERFEST_0: "Open the present to get your daily gift!",
        DIALOGUE_WINTERFEST_1: "You've already gotten your gift for today. Come back tomorrow.",
        DIALOGUE_BENNI_0: "You helped me out... Thanks, I guess.",
        DIALOGUE_BENNI_1: "Wow, what a champ!",
        DIALOGUE_BENNI_2: "We're lookin' at a COMPLETE shutdown here, and it's all because of your STUPID PLANTS!",
        DIALOGUE_BENNI_3: "At least they're smarter than YOU, bolt-head!",
        DIALOGUE_BENNI_4: "Um...hello?",
        DIALOGUE_BENNI_5: "Just do your JOB and trim those vines before GRAMPS finds out!",
        DIALOGUE_BENNI_6: "I WOULD if I COULD, squirt! The greenhouse is full of monsters again!",
        DIALOGUE_BENNI_7: "Let's head to that greenhouse and help them out...Maybe then they'll stop fighting!",
        DIALOGUE_BENNI_8: "Now you can get back to WORK!",
        DIALOGUE_BENNI_9: "I didn't see you there! The name's Benni, and this is my sister Broccolina!",
        DIALOGUE_BENNI_10: "This is SKYWATCH, home of the famous Grand Weather Factory! I take care of the machines that make the weather, and my sister takes care of the plants.",
        DIALOGUE_BENNI_11: "Since you're a wizard, we could sure use your help!",
        DIALOGUE_BENNI_12: "Head to my place and pick up my Weather O Meter! I need it to take some readings around Skywatch.",
        DIALOGUE_BENNI_13: "That monster chewed my Weather O Meter to BITS! Guess we'll have to do this the old-fashioned way!",
        DIALOGUE_BENNI_14: "I'll have to check the machines manually, but I'll need my sister first.",
        DIALOGUE_BENNI_15: "Check the greenhouse for me. She's always there murkin' around.",
        DIALOGUE_BENNI_16: "Well, now that we have your trimmers, you can fix up the trolley to the rest of Skywatch!",
        DIALOGUE_BENNI_17: "But...the monsters...",
        DIALOGUE_BENNI_18: "Quit being a baby, Broc! Okay wizard, time to help out again! First, trim the vines covering the trolley, then check on the Wind Machine for me, okay?",
        DIALOGUE_BENNI_19: "Oh no! Those nasty clouds have clogged up the machines AGAIN!",
        DIALOGUE_BENNI_20: "They seem to come back a lot... But don't worry, we just need to upgrade the trimmer...",
        DIALOGUE_BENNI_21: "Hmmm, not a bad idea. The parts are in the factory, but it's locked and gramps has hidden the key again.",
        DIALOGUE_BENNI_22: "Look for clues around Skywatch... They'll tell us where to find the key!",
        DIALOGUE_BENNI_23: "Ugh! Gramps hid it at the entrance of the factory! I KNEW it would be there!",
        DIALOGUE_BENNI_24: "He ALWAYS hides it in there...",
        DIALOGUE_BENNI_25: "Head to the factory and collect spare parts! The monsters there should have plenty!",
        DIALOGUE_BENNI_26: "Voila! You now have the power of the Vinecinerator 2000!",
        DIALOGUE_BENNI_27: "This should to the trick.",
        DIALOGUE_BENNI_28: "First stop, the Snow Machine! Go teach that cloud a lesson and clear those vines!",
        DIALOGUE_BENNI_29: "The Rain Machine is next...",
        DIALOGUE_BENNI_30: "Last up, the Wind Machine! You got this, wiz!",
        DIALOGUE_BENNI_31: "It's time for you to meet GRAMPS! Tell him about those nasty clouds!",
        DIALOGUE_BENNI_32: "He's the Cloudmaster General. He'll know what to do.",
        DIALOGUE_BENNI_33: "He sits around all day in the factory in that stupid massage chair...",
        DIALOGUE_BENNI_34: "Uh...you want the key...? Benni...?",
        DIALOGUE_BENNI_35: "See, we had the key, but, uh...we...uh...broke it.",
        DIALOGUE_BENNI_36: "I'm pretty sure the pieces are around here...somewhere...",
        DIALOGUE_BENNI_37: "So it seems gramps wants you to head to the Cumulus Room...strange, he ALWAYS sends wizards there...",
        DIALOGUE_BENNI_38: "He never lets US go in there...",
        DIALOGUE_BENNI_39: "Gramps, what are YOU doing out here?!",
        DIALOGUE_BENNI_40: "And when was the last time you took a bath...?",
        DIALOGUE_BENNI_41: "This wizard here is a TRUE hero! And the hero of Skywatch always gets a deserving reward!",
        DIALOGUE_BENNI_42: "It's time for our goodbyes, friend! Take that gem and head through the Cumulus Room to the gate.",
        DIALOGUE_BENNI_43: "Things are about to get REAL spicy for you!",
        DIALOGUE_BENNI_44: "Did you just make a JOKE, sis!?",
        DIALOGUE_BENNI_45: "Wow! Ya did it!",
        DIALOGUE_BENNI_46: "I'd say it's time for you to learn a new spell!",
        DIALOGUE_BROCCOLINA_0: "Oh, hi there. Benni wants my help again? Huh. Figures...",
        DIALOGUE_BROCCOLINA_1: "I'll meet you topside.",
        DIALOGUE_EUGENE_0: "You pesky robots! Leave me be!",
        DIALOGUE_EUGENE_1: "My now, a wizard, are ya? Pleasure to meetcha!",
        DIALOGUE_EUGENE_2: "The name is Eugene Gramps, otherwise known as the all-powerful Cloudmaster! Um...",
        DIALOGUE_EUGENE_3: "Cloudmaster GENERAL!",
        DIALOGUE_EUGENE_4: "So, I bet them clouds have my grandkids runnin' wild, huh?",
        DIALOGUE_EUGENE_5: "Every time those two scamps get arguin', I send out my clouds. Thing is, they never realize it's me what does it! Hehehehehe!",
        DIALOGUE_EUGENE_6: "Tell Benni to give you the Master Key... It's time for the finale of my little prank!",
        DIALOGUE_CEBOLLINI_0: "What is this!? Get out of here - I am creating art!",
        DIALOGUE_CEBOLLINI_1: "Yes, Madame, I live to cook!",
        DIALOGUE_CEBOLLINI_2: "But Madame... I assure you...",
        DIALOGUE_CEBOLLINI_3: "WHAT?! FIRED?! ME!? This is an outrage!",
        DIALOGUE_CEBOLLINI_4: "You have not heard the last of Chef Cebollini Carpaccio!",
        DIALOGUE_CEBOLLINI_5: "What do you think you are doing?!",
        DIALOGUE_CEBOLLINI_6: "Bringing a dish to my Queen!? Usurper! Fiend! This is MY job!",
        DIALOGUE_CEBOLLINI_7: "If I cannot feed the Queen, then SHE WILL NOT EAT!",
        DIALOGUE_CEBOLLINI_8: "What? How did you get over here? You are slime-less!",
        DIALOGUE_CEBOLLINI_9: "No matter! This dish will never see the light of day! En garde!",
        DIALOGUE_CEBOLLINI_10: "Always start battle with an appetizer!",
        DIALOGUE_CEBOLLINI_11: "Still hungry? Time for the main course!",
        DIALOGUE_CEBOLLINI_12: "There is always room for dessert!",
        DIALOGUE_CEBOLLINI_13: "I must admit, you have not just bested me in battle...but also in the kitchen. Your cooking, it is exquisite!",
        DIALOGUE_CEBOLLINI_14: "That dish of yours... I must have your recipe!",
        DIALOGUE_CEBOLLINI_15: "Then you must bring the chef to the Queen! She will demand such talent in her kitchen!",
        DIALOGUE_CEBOLLINI_16: "'Tis no joke, Madame. Here is but a taste of talent!",
        DIALOGUE_CEBOLLINI_17: "Ahem! I think what he is trying to say is that Slurpy wants to become my new apprentice in the Royal Kitchen.",
        DIALOGUE_CEBOLLINI_18: "Of course, I would need my job back...",
        DIALOGUE_CEBOLLINI_19: "But of course! Never in my life, Madame!",
        DIALOGUE_SLIME_QUEEN_0: "OOOOOOOH look at this! It smells divine, Cebollini, as always!",
        DIALOGUE_SLIME_QUEEN_1: "...",
        DIALOGUE_SLIME_QUEEN_2: "WHAT IS THIS, CEBOLLINI!? RAISINS?",
        DIALOGUE_SLIME_QUEEN_3: "You have broken the ROYAL RULE! NO RAISINS IN THE QUEEN'S DISHES!",
        DIALOGUE_SLIME_QUEEN_4: "You have left me no choice, Cebollini... You are FIRED!",
        DIALOGUE_SLIME_QUEEN_5: "What? This little slimeling? Is this a joke?",
        DIALOGUE_SLIME_QUEEN_6: "Cebollini?!",
        DIALOGUE_SLIME_QUEEN_7: "MMMMMMMMM! Why, Cebollini, this is even better than YOUR turnip stew!",
        DIALOGUE_SLIME_QUEEN_8: "It is decided, then. Slurpy, you will become the new Royal Chef!",
        DIALOGUE_SLIME_QUEEN_9: "Well, I... haven't eaten in hours and... as long as you don't break the ROYAL RULE again...",
        DIALOGUE_SLIME_QUEEN_10: "Guard! Inform this wizard that I will not be addressing their presence!",
        DIALOGUE_SLIME_GUARD_0: "Let the Royal Dinner commence!",
        DIALOGUE_SLIME_GUARD_1: "You want to cook a meal for the Queen? Not a bad idea.",
        DIALOGUE_SLIME_GUARD_2: "Her screaming is starting to get on my nerves...",
        DIALOGUE_SLIME_GUARD_3: "She loves turnips, can't go wrong there.",
        DIALOGUE_SLIME_GUARD_4: "I'd give anything for a pair of earplugs...or ears.",
        DIALOGUE_SLIME_GUARD_5: "The Queen will not pay attention to you... I suggest you move along.",
        DIALOGUE_SLIME_WORKER_0: "Dear me... This is an unfortunate situation.",
        DIALOGUE_SLIME_WORKER_1: "Oh my, thank you for your help! Here, please take this small token of my appreciation!",
        DIALOGUE_SLURPY_0: "Valiant effort, my wizard sidekick!",
        DIALOGUE_SLURPY_1: "I bestow upon thee the gift of fire!",
        DIALOGUE_SLURPY_2: "Oh, hello there! You're not a slime; what are you doing in a volcano, silly?",
        DIALOGUE_SLURPY_3: "Slurpy the Valiant, at your service! I'm on a super important quest, and I could sure use a sidekick!",
        DIALOGUE_SLURPY_4: "Buuuuut we need to get to the bottom of the volcano, and you'll have to drain the lava.",
        DIALOGUE_SLURPY_5: "Head to the right and find a lever there. All the best quests have levers, right?",
        DIALOGUE_SLURPY_6: "That takes care of the first lever. Now find the next one.",
        DIALOGUE_SLURPY_7: "GO FORTH, brave wizard, you know what to do!",
        DIALOGUE_SLURPY_8: "The plot thickens! Slurpy the Brave has found the ULTIMATE INGREDIENT, while you were off levering. All we gotta do is add it to the Chef's food!",
        DIALOGUE_SLURPY_9: "We're close now, wizard, just one lever left! Head to Outer Slimeburbia and give it a pull!",
        DIALOGUE_SLURPY_10: "We reach the end of our quest - Slurpy the Gallant and his faithful wizard companion, against all odds, drained the lava to the final level!",
        DIALOGUE_SLURPY_11: "Only one more obstacle in their path...",
        DIALOGUE_SLURPY_12: "I... uh... forgot I left my ingredient somewhere in Slime Shanty... Help?",
        DIALOGUE_SLURPY_13: "It's almost time for the Royal Dinner! Take the ingredient to the Royal Kitchen and put it in the Royal Stew.",
        DIALOGUE_SLURPY_14: "Watch out for the Chef, though. He's kind of a grump...",
        DIALOGUE_SLURPY_15: "Well, we did it! Now all there is to do is attend the Royal Dinner and take allll the credit!",
        DIALOGUE_SLURPY_16: "You'll have to go for me, though... Kids aren't allowed there; Dad says the Queen has no table manners...",
        DIALOGUE_SLURPY_17: "We broke a ROYAL RULE? I didn't know she didn't like raisins... They don't tell kids ANYTHING!",
        DIALOGUE_SLURPY_18: "Oh no! What are we gonna do? Without her dinner, the Queen is gonna be REAL angry!",
        DIALOGUE_SLURPY_19: "Looks like another quest for Slurpy the Wise and his loyal companion!",
        DIALOGUE_SLURPY_20: "I got a plan, and it's a good one!",
        DIALOGUE_SLURPY_21: "Head to the 3 levers and collect my cooking supplies; I always leave them there!",
        DIALOGUE_SLURPY_22: "I'll bet you didn't know I could cook, huh? Yup, there's more to Slurpy than meets the eye!",
        DIALOGUE_SLURPY_23: "But I need to know what the Queen actually LIKES... I know! Go talk to her guards, Mike and Hank!",
        DIALOGUE_SLURPY_24: "If they don't know, nobody will!",
        DIALOGUE_SLURPY_25: "Oh no, not turnips! They're super rare here, and the Royal Collectors are the only ones allowed to pick them.",
        DIALOGUE_SLURPY_26: "I only need a couple... Maybe you can convince them to give you some?",
        DIALOGUE_SLURPY_27: "Well, it took lots of effort, but I'd say this quest is nearly complete! Slurpy the Great and his wizard will save the Kingdom with Turnip Stew!",
        DIALOGUE_SLURPY_28: "Now, all you have to do is bring it to her... Easy as Turnip Pie!",
        DIALOGUE_SLURPY_29: "This is stupid! Why couldn't the Royal Chef make his OWN food for the Queen?",
        DIALOGUE_SLURPY_30: "...",
        DIALOGUE_SLURPY_31: "Oh, right. Well, I guess it WAS kinda your fault he got fired.",
        DIALOGUE_SLURPY_32: "But either way, we need to get that dish back! If only you could walk across lava...",
        DIALOGUE_SLURPY_33: "Hey! All you have to do is find the Boots of Hotwalk! They're in a chest, but legends say that only a fire monster has the key.",
        DIALOGUE_SLURPY_34: "So, head out there and defeat the fire monsters!",
        DIALOGUE_SLURPY_35: "Yup! That's the key alright!",
        DIALOGUE_SLURPY_36: "Now, the chest should be pretty easy to find. The hard part is the 'Guardian'.",
        DIALOGUE_SLURPY_37: "That's what we call the guy who guards it. Clever, huh? Don't worry, should be a piece of cake for a wizard!",
        DIALOGUE_SLURPY_38: "Well, it's time for revenge! Slurpy the Fab and his almost-equally fab wizard friend against the fiendish Chef!",
        DIALOGUE_SLURPY_39: "Now THAT'S a quest, right?",
        DIALOGUE_SLURPY_40: "Of course, you'll be going alone. I got more important things to do. Like planning, and stuff.",
        DIALOGUE_SLURPY_41: "The Chef wants ME to meet the Queen?! Wow... What an honor!",
        DIALOGUE_SLURPY_42: "I hope he's still not mad about the whole 'getting fired' thing.",
        DIALOGUE_SLURPY_43: "WHAT!? But I only know how to make one dish...",
        DIALOGUE_SLURPY_44: "This is way too much pressure!",
        DIALOGUE_SLURPY_45: "Maybe if I study as the Chef's apprentice, I can learn more about being a chef before I have a lot of responsibility.",
        DIALOGUE_SLURPY_46: "Thanks for your help!",
        DIALOGUE_SLURPY_47: "And now that you've proven you're worthy, I can give you this: the Bonfire Gem!",
        DIALOGUE_SLURPY_48: "Well, I can finally say it for real this time... QUEST COMPLETE!",
        DIALOGUE_SLURPY_49: "We did it, friend! I couldn't have done it without you! Now, it's time for you to move on. There are other quests out there for you to discover!",
        DIALOGUE_PUPPET_MASTER_0: "It is finally done. With the Warden Keystones destroyed, no one will EVER be able to enter the Academy and fill their minds with knowledge.",
        DIALOGUE_PUPPET_MASTER_1: "And without knowledge, they will not be able to resist our mind illusions!",
        DIALOGUE_PUPPET_MASTER_2: "You seem to know me, but I have no idea who YOU are.",
        DIALOGUE_PUPPET_MASTER_3: "Bold words. Unfortunately for you, the shadow blast that destroyed the Warden Keystones also drained power from the 6 Wardens themselves.",
        DIALOGUE_PUPPET_MASTER_4: "Now, nothing stands in our way.",
        DIALOGUE_PUPPET_MASTER_5: "Are...you...KIDDING ME?! HOW DID WE MISS ONE?!",
        DIALOGUE_PUPPET_MASTER_6: "WHY CAN'T I GET MY WAY!?!?!",
        DIALOGUE_PUPPET_MASTER_7: "COME ON! How is this even possible?! They had no idea we were coming!",
        DIALOGUE_PUPPET_MASTER_8: "...That sounds like a good idea.",
        DIALOGUE_PUPPET_MASTER_9: "Now then, we must make plans for our next steps.",
        DIALOGUE_PUPPET_MASTER_10: "So, you've gotten quite a lot smarter since our last encounter. No wonder our mind illusions aren't working on you...",
        DIALOGUE_PUPPET_MASTER_11: "No matter how strong any one wizard is, they cannot defeat our Titan. This magic has survived for thousands of years, and it won't fail now!",
        DIALOGUE_PUPPET_MASTER_12: "Good luck! YOU'RE GOING TO NEED IT! Hahahahaha!",
        DIALOGUE_PUPPET_MASTER_13: "If our mind illusions won't work, we'll just have to put a stop to your efforts the old fashioned way.",
        DIALOGUE_PUPPET_MASTER_14: "This magic has survived for thousands of years. It won't fail now.",
        DIALOGUE_PIPPIT_0: "6 Wardens? Uh, master, there were only 5 in there...",
        DIALOGUE_PIPPIT_1: "It was a great try though, master, really. Why, no one else in the Order's history has come this close to total victory!",
        DIALOGUE_PIPPIT_2: "Hey there, I have an idea. How about we calm down and figure out a new plan! That sound like a good idea?",
        DIALOGUE_PIPPIT_3: "Master says we need to stop you from becoming powerful. I will do as Master commands!",
        DIALOGUE_PIPPIT_4: "These mountains seem like a perfect hiding place for a Warden. Don't you think?",
        DIALOGUE_PIPPIT_5: "You know where the final Warden is, don't you? Tell me!",
        DIALOGUE_PIPPIT_6: "The less you learn, the stronger our mind illusions get. Let's see what you know!",
        DIALOGUE_PIPPIT_7: "The Order of Influence was defeated here long ago. We won't lose again!",
        DIALOGUE_PIPPIT_8: "You've beaten me this time, but if you stop learning, our mind illusions will overpower you!",
        DIALOGUE_JULIA_GHOULIA_0: "Why hello again! Looking to purchase some spooky specials?",
        DIALOGUE_JULIA_GHOULIA_1: "Welcome to Pumpkinfest!",
        DIALOGUE_JULIA_GHOULIA_2: "Until October 31st, you can purchase Pumpkinfest items from my shop with candy corn cash.",
        DIALOGUE_JULIA_GHOULIA_3: "Candy corn cash can be earned from wizard battles during the festival.",
        DIALOGUE_JULIA_GHOULIA_4: "You can also get a LOT of candy corn by rescuing pumpkins. If you find a pumpkin in Lamplight Town that isn't lit, click or tap it.",
        DIALOGUE_JULIA_GHOULIA_5: "If you can defeat the monster that has taken it over, you will get a bunch more candy corn!",
        DIALOGUE_MAMA_STAR_0: "Why hello again! Did you find the fallen star in town tonight?",
        DIALOGUE_MAMA_STAR_1: "Hi there! You can buy Starlight Festival items from my shop right now, but the only way to buy them is by spending Star Shards.",
        DIALOGUE_MAMA_STAR_2: "You can get Star Shards from wizard battles, and find a fallen star in the town to get even more!",
        DIALOGUE_MAMA_STAR_3: "Why hello there! I'm Mama Star! Welcome to the Starlight Festival!",
        DIALOGUE_MAMA_STAR_4: "You can purchase Starlight Festival items from my shop with Star Shards.",
        DIALOGUE_MAMA_STAR_5: "Star Shards can be earned from wizard battles during the festival.",
        DIALOGUE_MAMA_STAR_6: "You can also get a LOT of Star Shards by finding fallen stars. If you find a fallen star in Lamplight Town, click or tap it.",
        DIALOGUE_MAMA_STAR_7: "If you can defeat the monster that is trying to capture it, you will get a bunch more Star Shards!",
        DIALOGUE_MAMA_STAR_8: "Why hello there! I'm Mama Star! Welcome to the Starlight Festival!",
        DIALOGUE_MAMA_STAR_9: "You may be wonderin' why Lamplight Town seems to be in twilight?",
        DIALOGUE_MAMA_STAR_10: "No need to worry darlin', it is all good news! A flight of Epic Dragons are due to arrive in our lands real soon.",
        DIALOGUE_MAMA_STAR_11: "To celebrate their coming I have stocked up on wondrous Dragon themed treasures, treasures that I will sell to you in exchange for Dragon Flies.",
        DIALOGUE_MAMA_STAR_12: "During this festival, you can earn Dragon Flies in wizard battles, or by rescuing fallen stars right here in Lamplight Town.",
        DIALOGUE_MAMA_STAR_13: "Heck, sometimes you can catch em flying wild all over the world.",
        DIALOGUE_MAMA_STAR_14: "Hi there! You can buy Starlight Festival items from my shop right now, but only with Dragon Flies.",
        DIALOGUE_MAMA_STAR_15: "You can get Dragon Flies from wizard battles anywhere in the world. Rescue a fallen star in Lamplight Town to get even more!",
        DIALOGUE_MAMA_STAR_16: "And if you keep your eyes open, you might be able to catch wild ones fluttering about.",
        DIALOGUE_TOY_0: "Welcome to Wandering Wares! We specialize in ancient artifacts for powerful wizards, but I'm not interested in gold!",
        DIALOGUE_TOY_1: "If you find old copper coins, I'll gladly trade for them.",
        DIALOGUE_TOY_2: "Onto the next area, shall we?",
        DIALOGUE_TOY_3: "This is Arctursus, the arctic powerhouse! The air around Arctursus is always cold - the tips of his fur are made from ice that can't melt!",
        DIALOGUE_TOY_4: "Florafox here is guardian of the forests! The bulb on her tail produces a pollen that can heal any plant, no matter how withered it is!",
        DIALOGUE_TOY_5: "Don't forget Big Hex, master of mech! This mechano-man is so tough, his static electricity won't let his enemies near him!",
        DIALOGUE_TOY_6: "Here's Magmischief, the mischievous magma-loving monster! This sneaky guy loves the heat, but that just makes him cool!",
        DIALOGUE_TOY_7: "There's Diveodile, the ocean lord! He can swim faster than a sailboat, and create whirlpools with the smallest flick of his tail!",
        DIALOGUE_TOY_8: "Want to try your hand at the Epic Arena? Use your Epic to challenge hordes of enemies and gain awesome rewards!",
        DIALOGUE_TOY_9: "Well, now that you've met the Epics, you can see their potential! Just imagine how strong they would be on YOUR team!",
        DIALOGUE_TOY_10: "Welcome to the Epics Subspace! This is a world where the Epics live, while resting in their statue forms.",
        DIALOGUE_TOY_11: "It's up to wizards like you to rescue them! When you do, they will join you on your quests!",
        DIALOGUE_TOY_12: "Come back soon to challenge the Epic Arena!",
        DIALOGUE_TOY_13: "Here you can visit the new Dragons, or the other Epics.",
        DIALOGUE_TOY_14: "Chill & Char are inseparable! Their combo of ice and fire make them a great choice for all kinds of enemies!",
        DIALOGUE_TOY_15: "Tidus is rarely seen on land! His power surges upward from the deepest depths of the sea!",
        DIALOGUE_TOY_16: "Luma is a small but powerful dragon. Her spells are powered by the sun, making her almost unstoppable during the day.",
        DIALOGUE_TOY_17: "Here is Eclipse, master of twilight. His giant wings gather energy as he soars through the night sky.",
        DIALOGUE_HOWARD_CORNELIUS_0: "Ice to see you again, wizard. I have lots of cool trinkets on sale!",
        DIALOGUE_HOWARD_CORNELIUS_1: "Do you have any Magic Snowflakes for Hanz?",
        DIALOGUE_HOWARD_CORNELIUS_2: "Let me tell you, he won't chill out until he gets some.",
        DIALOGUE_HOWARD_CORNELIUS_3: "Ice to meet you young wizard! What a fantastically chilly day it is today!",
        DIALOGUE_HOWARD_CORNELIUS_4: "Hanz and I have brought a lot of cool items with us. We're super excited to be bringing Winterfest cheer to Lamplight Town!",
        DIALOGUE_HOWARD_CORNELIUS_5: "You got any Magic Snowflakes? Hanz absolutely loves munching on them.",
        DIALOGUE_SIR_VEY_0: "Good day, wizard! Unfortunately, I don't have any questions right now, but be sure to come back soon, and I might have something new to ask you!",
        DIALOGUE_SIR_VEY_1: "Greetings, wizard! I have a quick question for you. If you answer it, you shall be rewarded for your assistance!",
        DIALOGUE_MOZZA_ELLE_0: "This place feels cozy. What do you think?",
        DIALOGUE_MOZZA_ELLE_1: 'This place is very "you!"',
        DIALOGUE_MOZZA_ELLE_2: "This house is not too big, or too small. It's just right!",
        DIALOGUE_MOZZA_ELLE_3: "You won't run out of room in here any time soon!",
        DIALOGUE_MOZZA_ELLE_4: "This place is so big, you might even get lost in it!",
        DIALOGUE_MOZZA_ELLE_5: "This would make for a cool clubhouse!",
        DIALOGUE_MOZZA_ELLE_6: "Wow! What a great place to relax in.",
        DIALOGUE_MOZZA_ELLE_7: "This place is cool!",
        DIALOGUE_MOZZA_ELLE_8: "You could really chill out in here.",
        DIALOGUE_MOZZA_ELLE_9: "This type of house is very popular among wizards who study Fire magic.",
        DIALOGUE_MOZZA_ELLE_10: "I bet you'd feel warm in here even in the middle of Winterfest!",
        DIALOGUE_MOZZA_ELLE_11: "So, what do you think?",
        DIALOGUE_POTION_0: "Hey there, how's it goin'?!",
        DIALOGUE_POTION_1: "I'm Scientist Slimerella, great to meetcha!",
        DIALOGUE_POTION_2: "I've come to town all the way from Bonfire Spire to sell rare and powerful potions I created using my science skills.",
        DIALOGUE_POTION_3: "Here, have a free sample!",
        DIALOGUE_POTION_4: "Now let me show you what else I've got!",
        DIALOGUE_POTION_5: "Feel free to come back any time!",
        DIALOGUE_POTION_6: "Check out what I got in stock - you'll find some pretty awesome stuff in there!",
        DIALOGUE_POTION_7: "Science for the win! Yeah!",
        DIALOGUE_SWOOPY_0: "The Puppet Master's goons have destroyed our village and taken our wood! Can you help us get it back?",
        DIALOGUE_SWOOPY_1: "Complete as many daily quests here as you can before the real adventure begins later this year!",
        DIALOGUE_SWOOPY_2: "Take one of the two paths behind me to complete today's quest!",
        DIALOGUE_SWOOPY_3: "You completed today's quest. Thanks for getting some of our wood back!",
        DIALOGUE_SWOOPY_4: "Don't forget to come back tomorrow!",
        DIALOGUE_EVE_0: "You did it! Way to go, kid!",
        DIALOGUE_EVE_1: "Hey, you!",
        DIALOGUE_EVE_2: "The name's Eve, pleasure to meet you! You must be the Prodigy-in-training that everyone's talking about.",
        DIALOGUE_EVE_3: "This means that if you pass my test, I'll give you my Warden Keystone, just like the other Guardians on the island.",
        DIALOGUE_EVE_4: "You'll be one step closer to stopping the Puppet Master!",
        DIALOGUE_EVE_5: "Ever since the Puppet Master returned, the sea people have reported spotting an ancient monster lurking just off the coast.",
        DIALOGUE_EVE_6: "I want you to find out if this monster is real, and if so, defeat it.",
        DIALOGUE_EVE_7: "But first things first - you'll have to spend some time underwater if you're gonna complete this challenge.",
        DIALOGUE_EVE_8: "In order to do that, you'll need to locate a Breathing Bubble so you can go underwater.",
        DIALOGUE_EVE_9: "Just head east, then north. You should find one near the wreckage. Bring it back here and I'll get it working for you.",
        DIALOGUE_EVE_10: "Allllllright! Now the adventure can REALLY begin!",
        DIALOGUE_EVE_11: "There's an archaeologist around these parts. Goes by the name Jelly Jim.",
        DIALOGUE_EVE_12: "He spends so much time in the water, there's NO WAY he'd miss a giant monster, if there is one.",
        DIALOGUE_EVE_13: "Go chat with him, and see if he knows anything about it.",
        DIALOGUE_EVE_14: "We ran into some black goop while trying to search for the monster.",
        DIALOGUE_EVE_15: "Without knowing for sure what we're dealing with, we won't know HOW to deal with it.",
        DIALOGUE_EVE_16: "Can you grab a sample of the black goop for me to check out?",
        DIALOGUE_EVE_17: "I think you can handle this now. The Order of Influence better watch out!",
        DIALOGUE_EVE_18: "Yup, that's definitely monster ink. Just as I thought.",
        DIALOGUE_EVE_19: "You're going to need a Sonic Blaster to get through that stuff.",
        DIALOGUE_EVE_20: "Fortunately, any sailor worth their sea salt carried one with them, for situations just like this one.",
        DIALOGUE_EVE_21: "You should be able to find one in the wreckage of the ships!",
        DIALOGUE_EVE_22: "Caaaaan you just give us yours?",
        DIALOGUE_EVE_23: "This is your trial, not mine. Sorry kiddo, you'll just have to find one yourself!",
        DIALOGUE_EVE_24: "Once you find it, bring it back to me, and I'll make sure it's in working order.",
        DIALOGUE_EVE_25: "I know you can do it!",
        DIALOGUE_EVE_26: "Allllright! The next task ahead of you is to clear out that ink with the Sonic Blaster. Give it your best shot!",
        DIALOGUE_EVE_27: "Keep your guard up, kiddo. If the Puppet Master's behind this, who knows what's lurking in that ink...",
        DIALOGUE_EVE_28: "Not only am I a pretty good pirate, but I'm also a keen tracker - I could track a falcon on a cloudy day!",
        DIALOGUE_EVE_29: "It sounds like the ancient creature IS real after all, based on the description of that tunnel.",
        DIALOGUE_EVE_30: "If you bring me back more details about it, I'll be able to figure out exactly what we're going up against!",
        DIALOGUE_EVE_31: "Talk to Jelly Jim. He'll be able to think of a way to do that.",
        DIALOGUE_EVE_32: "Woooowie. According to the tunnel, this monster is HUGE!",
        DIALOGUE_EVE_33: "Just to make sure we know as much about this beast as possible before taking it on, see if you can find anything else it may have left behind.",
        DIALOGUE_EVE_34: "The more we know about it, the better.",
        DIALOGUE_EVE_35: "Uh oh. It's not just big, but it's got tough skin to boot! These scales are super sturdy.",
        DIALOGUE_EVE_36: "I had heard stories about the power of the beast my grandpappy battled, but I didn't ACTUALLY believe it was this strong...",
        DIALOGUE_EVE_37: "You've gotta toughen yourself up if you're gonna go toe-to-tentacle with a beast like that. Battle strong monsters to make sure you're ready.",
        DIALOGUE_EVE_38: "Looks like you're tough enough now!",
        DIALOGUE_EVE_39: "Now that you're ready, I can tell you where I think the beast is.",
        DIALOGUE_EVE_40: "The ink, the tunnel, the scales - they were all found around the wreckage of the pirate ship Antilles. The beast MUST be hiding there.",
        DIALOGUE_EVE_41: "It's time to show the Puppet Master's monster who's boss. Good luck.",
        DIALOGUE_EVE_42: "Sounds like that door needs a key. Check the ship wreckage, it shouldn't be too far from there.",
        DIALOGUE_EVE_43: "This is it, kid. Good luck.",
        DIALOGUE_EVE_44: "Here's the Shipwreck Gem, you've earned it!",
        DIALOGUE_EVE_45: "Well kid, best be movin' along. I've got things under control here now.",
        DIALOGUE_EVE_46: "I heard the Warden Keystones can't be placed on the pedestals yet. I'm not sure why, but don't worry - I'm sure they'll work soon.",
        DIALOGUE_EVE_47: "And the Academy will be free for everyone once again!",
        DIALOGUE_JELLY_JIM_0: "Well hello there! My name's Jelly Jim. What brings you to these parts?",
        DIALOGUE_JELLY_JIM_1: "Now that I think about it, I do recall seeing some sort of large, terrible creature floating around. Just the other day in fact.",
        DIALOGUE_JELLY_JIM_2: "It looked like it could have been the old sea monster that the evil Order of Influence used here a long time ago against the pirates.",
        DIALOGUE_JELLY_JIM_3: "Whatever I saw was close by, no doubt.",
        DIALOGUE_JELLY_JIM_4: "Oh, and one last thing. Here is some gold to help you on your journey. Best of luck!",
        DIALOGUE_JELLY_JIM_5: "Why hello again, friend! Grand to see you. What can I help you with?",
        DIALOGUE_JELLY_JIM_6: "You want to show Eve something you found down here? Well, an underwater camera would be perfect for that!",
        DIALOGUE_JELLY_JIM_7: "Well, I'll be off on other adventures soon. If you see me, could you stop by and say hello? That would be splendid!",
        DIALOGUE_HARVEY_0: "So, you're joining the battle against the Titan, are you?",
        DIALOGUE_HARVEY_1: "As you battle it, Titan Shards will break off. Bring them to me, and I can remove the Shadow Magic from them. I'll sell you powerful armor in return.",
        DIALOGUE_HARVEY_2: "Battle the Titan to earn Titan Shards.",
        DIALOGUE_HARVEY_3: "Win lots of battles against the Titan to get a BUNCH of Titan Shards, once it's defeated by wizards around the world.",
        DIALOGUE_HARVEY_4: "Check my sign for more details.",
        DIALOGUE_PROFESSOR_SCOOG_0: "Ponduberous! You certainly are helpful, young chap!",
        DIALOGUE_PROFESSOR_SCOOG_1: "Let's get to it, then! Ready to help OINC?",
        DIALOGUE_PROFESSOR_SCOOG_2: "Well now, what have we here? A young explorer in training, perhaps?",
        DIALOGUE_PROFESSOR_SCOOG_3: "Oh, but where are my manners? I, my young friend, am Professor Scoog...perhaps you've heard of me?",
        DIALOGUE_PROFESSOR_SCOOG_4: "...no?",
        DIALOGUE_PROFESSOR_SCOOG_5: "Hm, well that's quite alright. I am the leader of the Oasis Institute of Natural Creatures! Or, OINC, for short.",
        DIALOGUE_PROFESSOR_SCOOG_6: "Right now we're in the middle of a very important dig, and we sure could use your help!",
        DIALOGUE_PROFESSOR_SCOOG_7: "First, let's see what you're made of! We've been overrun by Scallys the last few days...makes it hard to dig. Go challenge a few for me, will you?",
        DIALOGUE_PROFESSOR_SCOOG_8: "You did it, young wizard! As a token of my gratitude, take this shovel!",
        DIALOGUE_PROFESSOR_SCOOG_9: "The shovel will allow you to help us dig for fossils! To do so, just click the spinning star nearby!",
        DIALOGUE_PROFESSOR_SCOOG_10: "Now then, OINC has chosen this site for its greatest quest - the search for Dynos!",
        DIALOGUE_PROFESSOR_SCOOG_11: "Dynos are monsters that are long extinct, and have left their fossilized remains here in the oasis.",
        DIALOGUE_PROFESSOR_SCOOG_12: "We want to learn more about them, so we work hard to dig them up!",
        DIALOGUE_PROFESSOR_SCOOG_13: "Now that you have a shovel, you can help! Try digging for a Terrosaur bone, or challenge some monsters who carry them.",
        DIALOGUE_PROFESSOR_SCOOG_14: "While you were away, a monster came and STOLE MY HAT! Be a dear and go fetch it for me, will you?",
        DIALOGUE_PROFESSOR_SCOOG_15: "THAT'S IT! Ah, my lucky hat...though truth is, I do have quite a few lucky hats...",
        DIALOGUE_PROFESSOR_SCOOG_16: "...",
        DIALOGUE_PROFESSOR_SCOOG_17: "WHAT!?!?!",
        DIALOGUE_PROFESSOR_SCOOG_18: "YOU SAW A DYNO?!?! PONDUBEROUS!",
        DIALOGUE_PROFESSOR_SCOOG_19: "You know what? Keep the hat! Consider yourself an honorary member of OINC!",
        DIALOGUE_PROFESSOR_SCOOG_20: "A real dyno! Oh my...we have much to do! First, we must ensure that these Dynos are safe!",
        DIALOGUE_PROFESSOR_SCOOG_21: "Defeat a few fire monsters for me...fire monsters in a dry forest are BAD NEWS!",
        DIALOGUE_PROFESSOR_SCOOG_22: "Well now, I think it is time to find our new dyno friends! First, let's see if you can track down some Terromites! Let's see how they battle!",
        DIALOGUE_PROFESSOR_SCOOG_23: "Oh, and bring back anything they might be carrying!",
        DIALOGUE_PROFESSOR_SCOOG_24: "OH NO! This item you brought me is an animal tag...this can only mean one thing...",
        DIALOGUE_PROFESSOR_SCOOG_25: "This animal tag proves that someone has been mistreating these Dynos...and only one man would do such a thing...",
        DIALOGUE_PROFESSOR_SCOOG_26: "PROFESSOR MOOG!",
        DIALOGUE_PROFESSOR_SCOOG_27: "Moog is a despicable dastardly deviant, who believes that monsters are meant to be kept in cages. Preposterous!",
        DIALOGUE_PROFESSOR_SCOOG_28: "We must help the Dynos! Go out there and remove all the tags you can find!",
        DIALOGUE_PROFESSOR_SCOOG_29: "Good work! Here's a new shovel...it will help you dig faster when looking for fossils!",
        DIALOGUE_PROFESSOR_SCOOG_30: "We've slowed down Moog for now, but his men are probably out there right now, capturing these Dynos...",
        DIALOGUE_PROFESSOR_SCOOG_31: "I have an idea! Go find Moog's men, and challenge them. Perhaps one of them will have a written copy of Moog's evil scheme.",
        DIALOGUE_PROFESSOR_SCOOG_32: "Moog is dastardly, but he isn't the sharpest tool in the shed...",
        DIALOGUE_PROFESSOR_SCOOG_33: "According to this novel, Moog plans to capture the Dynos and put them in some kind of dyno theme park...",
        DIALOGUE_PROFESSOR_SCOOG_34: "...",
        DIALOGUE_PROFESSOR_SCOOG_35: "That's not very original at all.",
        DIALOGUE_PROFESSOR_SCOOG_36: "Regardless, we must stop him at all costs! Go out there and find his head assistant, Spokes. If you defeat him, maybe he and his men will leave.",
        DIALOGUE_PROFESSOR_SCOOG_37: "It looks like Spokes and his men have left...for now. But they will be back, I assure you!",
        DIALOGUE_PROFESSOR_SCOOG_38: "For now, we have other matters. A new dyno has been stealing equipment from the dig site...see if you can bring it back.",
        DIALOGUE_PROFESSOR_SCOOG_39: "Ponduberous! That's 3 Dynos you've found now, alive and well! Oh, how I would love to study them in their natural habitat.",
        DIALOGUE_PROFESSOR_SCOOG_40: "Alas, the world of science must wait. With Moog still out there, the Dynos will never be safe.",
        DIALOGUE_PROFESSOR_SCOOG_41: "According to his novel, he next plans to steal dyno eggs. The audacity!",
        DIALOGUE_PROFESSOR_SCOOG_42: "We must act quickly! Go out there, face his egg collectors, and bring back the eggs!",
        DIALOGUE_PROFESSOR_SCOOG_43: "You're doing great work, my friend! We're stopping Moog at every turn!",
        DIALOGUE_PROFESSOR_SCOOG_44: "But all is not well in the natural world. Some pterrotell have been attacking anyone who comes near...perhaps something has them spooked?",
        DIALOGUE_PROFESSOR_SCOOG_45: "Find and challenge them for me...perhaps the battle will sooth these Dynos.",
        DIALOGUE_PROFESSOR_SCOOG_46: "OH NO! It looks like one of Moog's men have captured a team of Dynos!",
        DIALOGUE_PROFESSOR_SCOOG_47: "You'd better defeat him and release those poor Dynos!",
        DIALOGUE_PROFESSOR_SCOOG_48: "Enough is enough! It's time to get rid of Moog once and for all!",
        DIALOGUE_PROFESSOR_SCOOG_49: "I have a theory about Dynos...I believe that a large group of Dynos is run by a single dyno, which I call the Primo Dyno.",
        DIALOGUE_PROFESSOR_SCOOG_50: "This dyno would be big! And mean! And scary! Scary enough to frighten off Moog forever!",
        DIALOGUE_PROFESSOR_SCOOG_51: "So, I say we track down this Primo Dyno! First, you'll need to find the nest. Defeat a few Dynos, and they should lead us there.",
        DIALOGUE_PROFESSOR_SCOOG_52: "Good! I think we know where the nest is! No sign of the Primo Dyno, so we may have to lure it back somehow...",
        DIALOGUE_PROFESSOR_SCOOG_53: "I know! The digging equipment! The loud noises must have disrupted the Dynos...that's why they were stealing it!",
        DIALOGUE_PROFESSOR_SCOOG_54: "I'll turn on the equipment now...you may have to defeat a few larger Dynos before the Primo Dyno gets here...",
        DIALOGUE_PROFESSOR_SCOOG_55: "I hear something coming! It must be the Primo Dyno!",
        DIALOGUE_PROFESSOR_SCOOG_56: "...what's that on his back...?",
        DIALOGUE_PROFESSOR_SCOOG_57: "No...IT CAN'T BE!",
        DIALOGUE_PROFESSOR_SCOOG_58: "PROFESSOR MOOG!",
        DIALOGUE_PROFESSOR_SCOOG_59: "You did it!",
        DIALOGUE_PROFESSOR_SCOOG_60: "It appears that Professor Moog wasn't riding the Primo Dyno after all...he was a captive himself! Oh, the irony!",
        DIALOGUE_PROFESSOR_SCOOG_61: "Well my friend, I don't think Moog will be bothering these Dynos anymore, and we have you to thank!",
        DIALOGUE_PROFESSOR_SCOOG_62: "Here, take this shovel - it's the strongest one we have! As a member of OINC, keep up the digging! Who knows what you might find!",
        DIALOGUE_BOOMBOX_0: "We have a winner!",
        DIALOGUE_BOOMBOX_1: "Are you ready for your next challenger?",
        DIALOGUE_BOOMBOX_2: "Welcome to the Robolympics!",
        DIALOGUE_BOOMBOX_3: "Today we have 3 tough teams for you to face, but if you beat them all, there's a FANTASTIC prize!",
        DIALOGUE_BOOMBOX_4: "Today's prize is...{0}",
        DIALOGUE_BOOMBOX_5: "Did you catch any new robots? If not, come back tomorrow to train with and catch a new one!",
        DIALOGUE_BOOMBOX_6: "Today's winner is...",
        DIALOGUE_BOOMBOX_7: "{0}!",
        DIALOGUE_BOOMBOX_8: "As promised, here is your grand prize!",
        DIALOGUE_MIRA_REWARD: "Hey, you're doing great! Here's a little reward...",
        DIALOGUE_MIRA_DEFEAT_0: "Wow...You beat me...I'm speechless...",
        DIALOGUE_MIRA_DEFEAT_1: "I can't believe I lost to a wizard from the Academy...I thought I was the strongest!",
        DIALOGUE_MIRA_DEFEAT_2: "Well then! It looks like I was wrong about you...and about the Academy! You really are the best of the best!",
        DIALOGUE_MIRA_DEFEAT_3: "Here...please accept this new robe as a gift from me. And tell all your friends to come here as well!",
        DIALOGUE_MIRA_DEFEAT_4: "I'd love to meet as many wizards as possible...especially if they're as strong as you!",
        DIALOGUE_MIRA_0: "Oh no! Only members can access the tower right now!",
        DIALOGUE_MIRA_1: "Hello there, young one...welcome to the Dark Tower.",
        DIALOGUE_MIRA_2: "The name's Mira, and this tower was once the home to a powerful wizard, who built it to test the power of other wizards.",
        DIALOGUE_MIRA_3: "It is said that whoever can conquer every floor and make it to the top is a true wizard.",
        DIALOGUE_MIRA_4: "But there is a catch! The battles here are harder, and once you leave the tower, you must start over.",
        DIALOGUE_MIRA_5: "However, if you defeat the opponents on every 5th floor, you can return to that floor if you leave.",
        DIALOGUE_MIRA_6: "Well hello there! If it isn't mister fancy wizard?",
        DIALOGUE_MIRA_7: "You already beat my tower...but come back someday... I may have more challenges for you!",
        DIALOGUE_MIRA_8: "Oh no....you don't have enough gold!",
        DIALOGUE_MIRA_9: "Here's your first boss...there is one on every fifth floor. Let's see how well you do!",
        DIALOGUE_MIRA_10: "The wizard of this tower was once a student at the Academy, just like you...",
        DIALOGUE_MIRA_11: "But the wizard was MUCH stronger! WAAAAAY stronger!",
        DIALOGUE_MIRA_12: "The wizard practiced alone, not wanting any help from the other Academy students.",
        DIALOGUE_MIRA_13: "He didn't want to waste time on them - they would only hold him back.",
        DIALOGUE_MIRA_14: "So the wizard left the Academy a long long time ago...to train alone.",
        DIALOGUE_MIRA_15: "He came here and built this tower using his awesome power! What a guy!",
        DIALOGUE_MIRA_16: "You made it to floor 25! One quarter of the way there...not bad, but not great.",
        DIALOGUE_MIRA_17: "For years and years the wizard trained here alone. He mastered all the elements, learned all the spells.",
        DIALOGUE_MIRA_18: "...But the wizard didn't need any help from the dumb Academy to do it!",
        DIALOGUE_MIRA_19: "One day, the wizard decided he was done training - he was already the best wizard ever!",
        DIALOGUE_MIRA_20: "So he decided to challenge the other wizards at the Academy, to prove he was the best.",
        DIALOGUE_MIRA_21: "No wizard could match him, and so the wizard created this super-cool test to challenge wizards instead!",
        DIALOGUE_MIRA_22: "He called it the 'Really Really Hard Test of Trials'!",
        DIALOGUE_MIRA_23: "For this test, the wizard summoned the strongest monsters possible to challenge wizards at each floor.",
        DIALOGUE_MIRA_24: "These monsters are the bosses of this tower. Here's another one now!",
        DIALOGUE_MIRA_25: "Floor 50 already....you've come all this way to challenge the strongest, have you?",
        DIALOGUE_MIRA_26: "If so, then you must first challenge the father of all dragons...Grandoff!",
        DIALOGUE_MIRA_27: "You are certainly something special...are you sure you're from the Academy?",
        DIALOGUE_MIRA_28: "The test you are on now...this is the very same test created by the wizard himself.",
        DIALOGUE_MIRA_29: "Many wizards from the Academy tried it, but they ALL failed!",
        DIALOGUE_MIRA_30: "For each new student that tried the test and failed, the wizard added a new floor...and a new challenge.",
        DIALOGUE_MIRA_31: "When no more floors could be added, the wizard made the challenges harder and harder.",
        DIALOGUE_MIRA_32: "Eventually, it became obvious that no wizards would be able to climb the tower.",
        DIALOGUE_MIRA_33: "So the legendary wizard disappeared, and the tower began to crumble.",
        DIALOGUE_MIRA_34: "The wizard has not been seen since, but students from the Academy still try to climb the tower.",
        DIALOGUE_MIRA_35: "He hoped that someday a student would be strong enough to challenge him, and so he would return to accept the challenge.",
        DIALOGUE_MIRA_36: "Things have been easy up until now...I think it's time to step things up!",
        DIALOGUE_MIRA_37: "You're still going? I'm...impressed!",
        DIALOGUE_MIRA_38: "This can't be...no wizards have ever made it this far...",
        DIALOGUE_MIRA_39: "...Who are you...?",
        DIALOGUE_MIRA_40: "No...you will NOT make it to the top of this tower!",
        DIALOGUE_MIRA_41: "Face your next challenge...it will be your last here!",
        DIALOGUE_MIRA_42: "Astounding. You have made it to the top of my tower...",
        DIALOGUE_MIRA_43: "And so you have earned the greatest of rewards...you must challenge the legendary wizard herself...",
        DIALOGUE_MIRA_44: "ME! THE GREAT AND POWERFUL MIRA SHADE!",
        DIALOGUE_MIRA_45: "HAHAHA! It was me all along! You should see the look on your face right now!",
        DIALOGUE_MIRA_46: "Come, wizard! It's time for you to face the strongest wizard of all time!",
        DIALOGUE_DON_ZORRO_0: "Only Foxes should have our Magic Eggs! I, the great Don Zorro of the noble Fox Knights, refuse to let these sneaky rabbits get one single egg.",
        DIALOGUE_DON_ZORRO_1: "Excuse me!? How dare you speak to me in that way. You should be grateful that we Knights don't run you right out of town.",
        DIALOGUE_DON_ZORRO_2: "Hah! We'll see about that. Not even the Puppet Master stands a chance against the great Don Zorro!",
        DIALOGUE_DON_ZORRO_3: "And don't think riffraff like bunnies are welcome into Fort Fox! Only friends of the Foxes are allowed past our guard.",
        DIALOGUE_DON_ZORRO_4: "Here Wizard, take a Fox cap. Wear it if you want to get in...",
        DIALOGUE_DON_ZORRO_5: "Well well, what do we have here? I am the magnificent Don Zorro, captain of the Fox forces.",
        DIALOGUE_DON_ZORRO_6: "You have permission to admire me while I tell you of our tale.",
        DIALOGUE_DON_ZORRO_7: "Every spring the sneaky bunnies seek to steal the Magic Eggs that rightfully should go to us Foxes. What impudence!",
        DIALOGUE_DON_ZORRO_8: "Bring ME any Eggs you find while fighting monsters out in the world.",
        DIALOGUE_DON_ZORRO_9: "You look brave, so I will give you a quest. Search for a clutch of Magic Eggs that spawns someplace in Lamplight Town.",
        DIALOGUE_DON_ZORRO_10: "But the Puppet Master also wants the Magic Eggs, and you may have to thrash his minions to get the eggs.",
        DIALOGUE_DON_ZORRO_11: "I am willing to trade some of our wondrous Fox items to whoever brings me Magic Eggs. Yes, even you. Here, look upon our fine goods!",
        DIALOGUE_DON_ZORRO_12: "Who approaches the brave Don Zorro, champion of the Foxes? Oh, it is just you.",
        DIALOGUE_DON_ZORRO_13: "Did you defeat any Puppet Master minions in Lamplight, or monsters in the wide world? Ahem...you HAVE brought us Magic Eggs, correct?",
        DIALOGUE_DON_ZORRO_14: "Then look at our store full of fine fox goods, and see if you can look more like...ME!",
        DIALOGUE_HARRIET_0: "YOUR Magic Eggs? Hah! You crack me up. The Forest Bunny Bandits don't take orders from anyone. You got that foxy?",
        DIALOGUE_HARRIET_1: "Ooo, I'm scared. Well you can tell your fuzzy orange servants that I, Harriet Hood, will never let you get your dirty paws on all the Magic Eggs.",
        DIALOGUE_HARRIET_2: "Blah blah blah. Look Wizard, here is a Bunny Cap. Wear it when you come see us. Only Bunny Bandit buddies are allowed into The Burrow.",
        DIALOGUE_HARRIET_3: "The name's Harriet Hood. Welcome to The Burrow. You've made the right decision coming here.",
        DIALOGUE_HARRIET_4: "I'm sorry that you had to listen to that crazy Fox. No one takes what rightfully belongs to us, the Bunny Bandits!",
        DIALOGUE_HARRIET_5: "Those sly Foxes are always meddling in our business, taking all the Magic Eggs they can find. No need to worry though, we have YOU on our side!",
        DIALOGUE_HARRIET_6: "Listen, you can do me a favor by collecting Magic Eggs from monsters out in the world and bringing them here, to me.",
        DIALOGUE_HARRIET_7: "And a little birdy told me that once a day a pile of Magic Eggs spawns someplace in Lamplight Town.",
        DIALOGUE_HARRIET_8: "The Puppet Master also wants the Magic Eggs, so you may have to fight for them.",
        DIALOGUE_HARRIET_9: "In exchange for the Eggs, I promise you some of our best wares, which we came by totally honestly. What do you say?",
        DIALOGUE_HARRIET_10: "Look who we have here. I told the other buddies we could count on you. We CAN count on you right?",
        DIALOGUE_HARRIET_11: "All you gotta do is just keep fighting monsters and collecting OUR Magic Eggs. I heard there was a bundle somewhere in Lamplight today.",
        DIALOGUE_HARRIET_12: "Enough chit-chat. if you brought something we want, maybe we have something you want?",
        DIALOGUE_VERNA_0: "HALT! Who do you think you are? Only those who show loyalty to the noble Foxes may enter.  Don't you have a Fox hat of some kind?",
        DIALOGUE_VERNA_1: "You need to be wearing a Fox hat like this!",
        DIALOGUE_VERNA_2: "Halt! No Bunny buddies allowed! Only Foxes past this point!",
        DIALOGUE_VERNA_3: "Welcome fellow Fox! Boo to the Bunnies!",
        DIALOGUE_BARGO_0: "Hold up bub, you don't look like a Bandit. What are you trying to pull?",
        DIALOGUE_BARGO_1: "Don't you have some Bunny swag?  You wanna get in with the bunnies, you need to look like a bunny.",
        DIALOGUE_BARGO_2: "You need to be wearing a Bunny hat like this!",
        DIALOGUE_BARGO_3: "Heyo Holdup!!! Listen Foxface, just turn your long tail around and scram. You get my drift?",
        DIALOGUE_BARGO_4: "Hey there good bunny buddy! Hop right in, fresh carrots on the table.",
        TECH_START_0: "Ladies and gentlemen...it looks like we have a new competitor!",
        TECH_START_1: "The name's Boombox! Come on over here, shortstuff!",
        TECH_COMPLETED: "Come back tomorrow for new opponents and prizes!",
        HINT_0: "Low on hearts? Try switching to one of your pets in battle.",
        HINT_1: "Lost on a quest? Follow the white hand to your next goal!",
        HINT_2: "When you're low on hearts, find a healstone to heal you and your pets!",
        HINT_3: "Want to change your team? Open the Pet Menu from the Main Menu.",
        HINT_4: "Your hearts are fully restored when you level up!",
        HINT_5: "Want a new look? Head to the Stylist in Lamplight Town.",
        HINT_6: "The latest and greatest equipment can be bought at the Item Shop in Lamplight Town.",
        HINT_7: "You can fast-travel to any zone by opening the Map from the Main Menu.",
        HINT_8: "Be sure to return to Prodigy every so often...new content is added all the time!",
        HINT_9: "Become a World Champion by challenging other wizards in the Arena!",
        HINT_10: "Earn stars to level up...the strongest wizards are Level 100!",
        HINT_11: "Want to play with your friends? Make sure you select the same world as they do!",
        HINT_12: "Check your achievement progress by opening the Awards Menu from the Main Menu.",
        HINT_13: "Complete bounties from the Bounty Board in Lamplight Town to earn awesome rewards!",
        HINT_14: "Rumor has it that there is a powerful wizard at the top of the Dark Tower...",
        HINT_15: "Need more gold? Head out and battle monsters!",
        HINT_16: "Keep your team at its best! Level up your pets alongside your wizard.",
        HINT_17: "Show off your latest rewards and outfits in Lamplight Town!",
        HINT_18: "Want to see what other wizards are wearing? Just click on them!",
        HINT_19: "Pets can be caught when their hearts are low, but make sure not to defeat them by accident!",
        HINT_20: "You learn new spells by leveling up, but can also learn them from completing quests.",
        HINT_21: "Explore each zone thoroughly...there are secrets hidden everywhere!",
        HINT_22: "Can't beat a boss or another wizard? Level up your team and try again!",
        HINT_23: "Practice makes perfect! If you get a question wrong, try using a hint for the next one!",
        HINT_24: "The Academy in Lamplight Town floats in the sky, just out of reach.",
        HINT_25: "Merchants are found all over the island. Some offer new items, others offer quests!",
        HINT_26: "Want to change your equipment? Open up the Backpack from the Main Menu!",
        MUSEUM_INTRO: "Welcome to the Museum! Be sure to bring all your newly-discovered fossils.",
        MUSEUM_CRAFT_FOSSILS_0: "Ponduberous! You collected enough fossils to create the {0}! \nLet's see what it looks like!",
        MUSEUM_CRAFT_FOSSILS_1: "WOW! That looks great!",
        MUSEUM_COLLECTED_ALL_FOSSILS: "Ponduberous! You collected all the fossils and completed all the skeletons! Take this as a reward!",
        ARENA_CONFIRM_TRAINING: "Do you want to train in the arena?",
        ARENA_CHALLENGE_WIZARDS: "[mail-star] Challenge other wizards around the world and earn rewards from the shop!",
        ARENA_EARN_BRONZE: "Earn a score of [arena]100 or more to reach Bronze Rank!",
        ARENA_MY_SCORE: "My Score {{0}",
        ARENA_MUST_BE_IN_CLASS: "You must be in a class to view the leaderboard",
        ARENA_FIND_CHALLENGER: "Find Challenger",
        ARENA_RANK_UP_FASTER: "Rank Up  Faster!",
        ARENA_TITLE: "THE ARENA",
        ARENA_LEADERBOARD_WORLD_TOP_PLAYER: "Top Player in the World",
        ARENA_LEADERBOARD_TOP_PLAYERS: "Top Arena Players",
        ARENA_OFFLINE_MESSAGE: "Cannot take part in the Arena in Offline Mode.",
        ARENA_CHECK_INTERNET_MESSAGE: "Cannot take part in the Arena when offline. Please check your Internet connection.",
        ARENA_DOWN_MESSAGE: "Arena battles are currently down as we make them even better. Please check back later.",
        LEADERBOARD_ERROR_LOADING_BOARD: "There was an error loading the leaderboard...try again later",
        LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE: "Oops! Sorry, we cannot show the Leaderboard right now. We are working on it. Please try again later.",
        LEADERBOARD_ERROR_LOADING_PLAYER: "Error loading player info",
        LEADERBOARD_NOT_APPLICABLE: "N/A",
        LEADERBOARD_RANK_1: "You're at rank 1! Keep leveling to make sure your friends don't catch up!",
        LEADERBOARD_NOT_RANKED: "You're not on the leaderboard yet...get to level {0} or higher!",
        LEADERBOARD_RANK_UP: "You're at rank {0}! Get to level {1} to go up a rank!",
        LEADERBOARD_CHECK_FRIENDS: "Check out the leaderboard and see where your friends are!",
        WONDER_WHEEL_PROMPT_SPIN: "Hello there! Do you want to spin the Wheel of Wonder?",
        WONDER_WHEEL_SPIN: "Let's spin that wheel!",
        WONDER_WHEEL_SPIN_TOMORROW: "Sorry, you'll have to come back tomorrow to spin again!",
        WONDER_WHEEL_SPIN_AGAIN: "Fantastic! Want to spin again?",
        TWILIGHT_WHEEL_COME_BACK_LATER: "Please come back between 4pm and 11pm to spin the Twilight Wheel for great prizes!",
        TWILIGHT_WHEEL_SPIN: "Hi there! Do you want to Spin the Twilight Wheel?",
        TWILIGHT_WHEEL_WATCH_SPIN: "Watch that wheel spin!",
        TWILIGHT_WHEEL_SPIN_AGAIN: "Fantastic! Want to spin again?",
        TWILIGHT_WHEEL_COME_BACK_TOMORROW: "Please come back tomorrow between 4pm and 11pm to spin the Twilight Wheel again for great prizes!",
        TOWER_CHANCE_WHEEL: "Chance Wheel Time!",
        TOWER_CHANCE_LOSE_HEARTS: "Lose {0} hearts...",
        TOWER_CHANCE_GAIN_HEARTS: "Gain {0} hearts!",
        TOWER_CHANCE_DAMAGE_INCREASED: "Damage increase!",
        TOWER_CHANCE_DAMAGE_REDUCED: "Damage reduced...",
        TOWER_CHANCE_DOUBLE_STARS: "Double stars!",
        TOWER_CHANCE_DISABLE_SWITCHING: "Switching disabled!",
        TOWER_PROMPT_MUST_DEFEAT: "Before you can move on, you must defeat the challenger on this floor. Click on the orb in the room to begin!",
        TOWER_NEXT_CHALLENGER: "The next challenge awaits!",
        TOWER_ALL_DEFEATED: "You already beat my tower...but come back someday... I may have more challenges for you!",
        TOWER_PROMPT_LEAVE: "If you leave now, you'll have to start back at floor {0}. Are you sure you want to leave?",
        TOWER_PROMPT_START: "Do you want to start climbing the tower from floor {0}?",
        TOWER_PROMPT_START_GOLD: "Do you want to continue climbing the tower from floor {0}? \n\nIt will cost you [gold] 500.",
        BATTLE_INTRO: "BATTLE",
        PVP_INTRO: "Player vs. Player!",
        PVP_SELECT_ACTION: "Select your action",
        PVP_TIME_REMAINING: "Time left",
        PVP_WAITING_ON_PLAYER: "Waiting on player",
        PVP_ARENA_POINTS: "{Arena Points",
        PVP_PLAYERNAME: "[mail-star] Playername",
        PVP_WIN_LOSS: "win/loss - 0/0",
        PVP_RANK_UP: "You ranked up to {0}!",
        PVP_RANK_DOWN: "You ranked down to {0}...",
        PVP_VERSUS_SHORT: "VS.",
        PVP_DISCONNECT_WARNING_TITLE: "You Deserted...",
        PVP_DISCONNECT_WARNING_BODY: "You closed the browser or got disconnected from an arena battle. Be a good sport and finish your battles!",
        PVP_FINDING_MATCH_TITLE: "Finding Challenger",
        PVP_FINDING_MATCH_BODY: "Searching for a good match based on your current level... please wait. \n\n(It could take up to a minute or more.) \n\nTime waiting: XTIMERX",
        PVP_CONNECTING_NOW: "Match found! Connecting now...",
        CLASS_CODE_PROMPT_TEACHER_CLICK_0: "Teachers: click here",
        CLASS_CODE_PROMPT_TEACHER_CLICK_1: "to get a class code!",
        CLASS_CODE_PLAYING_AT_HOME: "Playing at home?",
        CLASS_CODE_PLAYING_AT_SCHOOL: "Playing at school?",
        BOUNTY_BOARD_BOUNTY_TITLE: "Bounty Note",
        BOUNTY_BOARD_COMPLETED_TURN_IN: "You have completed this bounty. Talk to Boardy to turn it in for a reward!",
        BOUNTY_BOARD_COMPLETED: "This bounty has been completed. Come back tomorrow for a new one!",
        BOUNTY_BOARD_GO_TO_LAMPLIGHT: "Head to the bounty board in Lamplight Town and accept a new bounty!",
        BOUNTY_BOARD_UNLOCK_MESSAGE: "Reach Firefly Forest to unlock the bounty board!",
        BOUNTY_BOARD_MEMBER_BUTTON_TOP: "Member",
        BOUNTY_BOARD_MEMBER_BUTTON_BOT: "Bounty",
        BOUNTY_BOARD_BUTTON_TOP: "Accept",
        BOUNTY_BOARD_BUTTON_BOT: "Bounty",
        BOUNTY_DEFEAT_MONSTER_TEXT_0_AN: "Defeat {0}, an {1} at {2} in {3}.",
        BOUNTY_DEFEAT_MONSTER_TEXT_0_A: "Defeat {0}, a {1} at {2} in {3}.",
        BOUNTY_DEFEAT_MONSTER_TEXT_1: "{0} is causing trouble in {1}. Stop him at {2}.",
        BOUNTY_DEFEAT_MONSTER_TEXT_2: "{0} has finally come out of hiding. Find her at {1} in {2}.",
        BOUNTY_DEFEAT_MONSTER_TEXT_3: "{0} has appeared at {1} in {2}.",
        BOUNTY_DEFEAT_MONSTER_TEXT_4: "{0} has appeared at {1} in {2}. Get him before he vanishes!",
        BOUNTY_POINTS_5: "5 Bounty Pts.",
        BOUNTY_POINTS_20: "20 Bounty Pts.",
        BOUNTY_POINTS_50: "50 Bounty Pts.",
        BOUNTY_POINTS_100: "100 Bounty Pts.",
        BOUNTIES_INCREASE_RANK: "Get bounties and defeat monsters to increase your rank!",
        CHEST_OPEN_MULTI: "open a chest!",
        CHEST_OPEN_SINGLE: "open the chest!",
        ITEM_HEAL_HP: "Heals {0} hearts",
        ITEM_MAX: "MAX",
        ITEM_CURRENT: "CURRENT",
        ITEM_OWNED: "OWNED",
        ITEM_FREE: "FREE",
        RANKS_UNRANKED: "Unranked",
        RANKS_BRONZE: "Bronze",
        RANKS_SILVER: "Silver",
        RANKS_GOLD: "Gold",
        RANKS_PLATINUM: "Platinum",
        RANKS_DIAMOND: "Diamond",
        RANKS_RANK_WRAPPER: "{0} Rank",
        BATTLE_REQUEST_NAME: "{0} (lvl {1})",
        BATTLE_REQUEST_ACCEPT: "Accept challenge?",
        LEADERBOARD_CLASS_TOP: "Class Leader",
        LEADERBOARD_CATCH_UP: "Catch Up to Your Class!",
        LEADERBOARD_CLASS_LEADERS: "Your Class Leaders",
        LEADERBOARD_CLASS_ERROR_LOADING: "There was an error loading your class...try again later",
        LEADERBOARD_CLASS_LEVEL_SHORT: "lvl {0}",
        LEADERBOARD_CLASS_LEVEL_LONG: "Level {0}",
        QUEST_JOB_COMPLETE: "Job Complete!",
        QUEST_PROGRESS_DEFEAT_MORE: "Defeat {0} more",
        QUEST_FOLLOW_PATH: "Follow Path",
        QUEST_PROGRESS_COLLECT_MORE: "Collect {0} more",
        QUEST_CLEAR: "Clear the {0}",
        QUEST_TODAY: "Today's Quest",
        QUEST_COMPLETE: "Quest Complete!",
        EFFECT_BOUNTY_COMPLETE: "Bounty Complete!",
        EFFECT_ATTACK_POWERFUL: "Powerful!",
        EFFECT_ATTACK_WEAK: "Weak...",
        ATTACK_SELECT_ATTACK: "Attack",
        ATTACK_SELECT_LEVEL: "Lvl. {0}",
        ATTACK_SELECT_ACTIONS: "actions",
        ATTACK_SELECT_CAPTURE: "capture?",
        ATTACK_SELECT_ESCAPE: "escape?",
        ATTACK_SELECT_MY_TEAM: "my team",
        ATTACK_SELECT_EPIC_SPELLS: "epic spells",
        ATTACK_SELECT_SPELLS: "spells",
        ATTACK_SELECT_ELEMENTS: "elements",
        EPIC_ARENA_BATTLE_SELECT: "EPICS ARENA BATTLE SELECT",
        EPIC_ARENA_CHALLENGE: "Challenge {0}",
        EPIC_ARENA_BUY_TOY: "buy toy",
        BUY_TOY_BUY_NOW: "buy toy now!",
        BUY_TOY_MESSAGE: "If you want to play this game, you need",
        BUY_TOY_EPIC_ATTACK: "To do this POWERFUL Epic attack, you need this Epic!",
        BUY_TOY_ASK_PARENT: "When you get an Epic, you get a REAL TOY, AND a POWERFUL level 20 pet to join your team!\n\n Ask your parents to help you get them on your team today!",
        BUY_TOY_REQUIRE_COMPUTER_MESSAGE: "Unfortunately, you cannot purchase toys from a mobile device at this time. \n\nPlease log into the game from the website on a computer to do so. We apologize for the inconvenience.",
        EPIC_NOT_READY_MESSAGE: "This Epic pet is not ready for battle right now.",
        EPIC_ATTACK_MESSAGE_TITLE: "epic attacks!",
        TOY_UNLOCK_JOINED: "{0} joined you!",
        TOY_UNLOCK_USE: "Use the Pets Menu to battle with him!",
        PLAYER_CARD_HEARTS: "[mail-heart] Hearts",
        PLAYER_CARD_STARS: "[mail-star] Stars",
        PLAYER_CARD_MAX: "MAX",
        PLAYER_CARD_GOLD: "[mail-gold] Gold",
        PLAYER_CARD_TOWER: "[mail-tower] Tower",
        PLAYER_CARD_FLOOR: "Floor {0}",
        PLAYER_CARD_ARENA: "[mail-challenge] Arena",
        PLAYER_CARD_WIN_LOSS: "[mail-challenge] W / L",
        PLAYER_CARD_CHANGE_STYLE_BUTTON_TOP: "Change",
        PLAYER_CARD_CHANGE_STYLE_BUTTON_BOT: "Style",
        PLAYER_CARD_GO_TO_HOUSE_BUTTON_TOP: "Go To",
        PLAYER_CARD_GO_TO_HOUSE_BUTTON_BOT: "House",
        PLAYER_CARD_VISIT_HOUSE_BUTTON_TOP: "Visit",
        PLAYER_CARD_VISIT_HOUSE_BUTTON_BOT: "House",
        PLAYER_CARD_GEAR_BUTTON_TOP: "View",
        PLAYER_CARD_GEAR_BUTTON_BOT: "Gear",
        PLAYER_CARD_KEY_ITEMS_BUTTON_TOP: "Key",
        PLAYER_CARD_KEY_ITEMS_BUTTON_BOT: "Items",
        PLAYER_CARD_GEMS_BUTTON_BOT: "Gems",
        PLAYER_CARD_STATS_BUTTON_TOP: "View",
        PLAYER_CARD_STATS_BUTTON_BOT: "Stats",
        PLAYER_CARD_BATTLE_BUTTON_TOP: "Battle!",
        PLAYER_CARD_CONFIRM_REMOVE_TITLE: "Removing Friend",
        PLAYER_CARD_CONFIRM_REMOVE_BODY: "Are you sure you want to remove {0} from your friends list?",
        PLAYER_CARD_REMOVE_FRIEND_TOP: "Remove",
        PLAYER_CARD_REMOVE_FRIEND_BOT: "Friend",
        PLAYER_CARD_CANCEL_FRIEND_TOP: "Cancel",
        PLAYER_CARD_CANCEL_FRIEND_BOT: "Request",
        PLAYER_CARD_ADD_FRIEND_TOP: "Friend",
        PLAYER_CARD_ADD_FRIEND_BOT: "Request",
        SPELLBOOK_TITLE: "My Spellbook",
        SPELLBOOK_DESCRIPTION: "Here are the spells you will see in battle.\n\nClick on a card to switch a spell.",
        CHOOSE_SPELL_TITLE: "Choose a Spell",
        DAILY_LOGIN_BONUS_TITLE: "Daily Login\nBonus!",
        DAILY_LOGIN_COME_BACK: "Come back tomorrow to get the next prize!",
        DAILY_LOGIN_DAY: "Day {0}",
        EPICS_ERROR_TOO_POWERFUL: "Epic attacks are too powerful for the Wizard Battle Arena!",
        EPICS_ERROR_ONCE_PER_CHALLENGE: "Oops! You can only use an Epic attack once per challenge set in the Epic Arena!",
        EPICS_ERROR_ONCE_PER_BATTLE: "You can only use one Epic attack per battle!",
        NO_CATCHING_MONSTER_ON_ISLAND: "Oops! You can't capture any monsters on this island.",
        ADD_FRIEND_PROMPT_USERNAME: "Enter your friend's username here!",
        FRIEND_REQUESTS_TITLE: "FRIEND REQUESTS",
        FRIEND_REQUEST_ADD_FRIEND: "Add friend?",
        FRIENDS_LIST_TITLE: "FRIENDS LIST",
        FRIENDS_LIST_COUNTER: "{0}/{1} Friends",
        FRIENDS_LIST_WAITING: "Waiting: ",
        FRIENDS_LIST_CONFIRM_CANCEL_BODY: "Are you sure you want to cancel this friend request?",
        FRIENDS_LIST_CONFIRM_CANCEL_TITLE: "Removing Friend Request",
        LOADING_LOWERCASE: "loading",
        LOADING_CAPITALIZE: "Loading",
        MAILBOX_DELETE_MESSAGE: "Are you sure you want to delete? It may contain something cool!",
        NAME_CHANGE_NAME_WIZARD: "Name Your Wizard",
        NAME_CHANGE_CHOOSE_TITLE: "Choose your Title",
        NAME_CHANGE_CHANGE_TO: "Change my name to...",
        NAME_CHANGE_REVERT_CHANGE: "Change back to original",
        NICKNAME_REQUIRE_MEMBERSHIP: "You need to become a member to unlock!",
        NICKNAME_REQUIRE_TECH_GOBBLER: "You need to catch a Tech Gobbler to unlock!",
        NICKNAME_REQUIRE_ROBOLYMPICS: "You need to win the Ribbon from the Robolympics to unlock!",
        NICKNAME_REQUIRE_ROBOT_SET: "You need to buy the Robot set to unlock!",
        NICKNAME_REQUIRE_PIRATE_SET: "You need to buy the Pirate set to unlock!",
        NICKNAME_REQUIRE_SHIPWRECK_COMPLETE: "You need to complete the Shipwreck Shore quest to unlock!",
        NICKNAME_REQUIRE_CATCH_MIMIC: "You need to catch a Mimic to unlock!",
        PETS_I_OWN: "Prodigy Pets I Own",
        PETS_MY_TEAM: "My Team",
        PETS_DESCRIPTION: "Description",
        PETS_DONT_OWN: "- you do not have this pet -",
        PETS_TYPE: "TYPE: {0}",
        PETS_LIFE: "LIFE: {0}",
        PETS_POWER: "POWER: {0}",
        PETS_GROWTH: "GROWTH: {0}",
        PETS_CONFIRM_LEAVE: "Are you sure you want to leave your pet? You will lose them forever.",
        PLAY_HOME_ENJOY_EVERYWHERE: "ENJOY PRODIGY EVERYWHERE!",
        PLAY_HOME_CONTINUE_ADVENTURE: "You can always continue your adventure at school AND at home! Just remember your username and password for wherever you wish to play!",
        PLAY_HOME_WRITE_DOWN_CREDENTIALS: "Here they are one more time, in case you forgot to write them down!",
        PLAY_HOME_DISPLAY_USERNAME: "Username: {0}",
        PLAY_HOME_DISPLAY_PASSWORD: "Password: {0}",
        POTION_USE_ALREADY_ONE: "There is already a potion in effect. Are you sure you want to use another one instead?",
        POTION_USE_UNSPORTSMAN: "Using items against fellow wizards is quite unsportsmanlike!",
        POTION_USE_ONLY_WILD: "Sorry, you can only use items in battles against wild monsters.",
        POUCH_CHOOSE_FOLLOW: "Choose your buddy",
        POUCH_CHOOSE_HAT: "Choose your hat",
        POUCH_CHOOSE_OUTFIT: "Choose your outfit",
        POUCH_CHOOSE_BOOTS: "Choose your boots",
        POUCH_CHOOSE_RING: "Choose your ring",
        POUCH_CHOOSE_SPELL: "Choose your spell",
        POUCH_CHOOSE_WEAPON: "Choose your wand",
        POUCH_SEARCH_FAILED: "No items containing your search were found",
        RANK_STORE_NOT_REACHED: "You have not reached this rank yet!",
        RANK_STORE_THIS_RANK: "this",
        RANK_STORE_HIGHER_BOUNTY_MESSAGE: "You need to reach {0} Bounty Points to unlock this item!",
        RANK_STORE_HIGHER_RANK_MESSAGE: "You need to reach {0} rank to unlock this item!",
        RATING_PROMPT: "How would you rate Prodigy?",
        SERVER_CHOOSE_WORLD_TITLE: "CHOOSE YOUR WORLD",
        SERVER_PICK_SAME_WORLD: "Pick the same world as your friends to play together!",
        SERVER_LOADING_LIST: "Loading world list...",
        SERVER_WIZARDS_ONLINE: " = wizards online",
        SERVER_CONNECTING_MESSAGE: "Connecting to {0}...",
        SERVER_ERROR_WORLD_FULL: "This world is full. Please select another world",
        SERVER_ERROR_WORLD_SELECTED_FULL: "The world you selected is full. Please try another.",
        SERVER_ERROR_FAILED_LOAD: "Could not load world list. Check your connection and try again.",
        SERVER_ERROR_FALLBACK: "Could not connect to world. Try again, or select another world.",
        SLOT_MACHINE_BONUS_STARS: "Bonus stars",
        SLOT_MACHINE_BONUS_DAMAGE: "Damage bonus",
        SLOT_MACHINE_REDUCE_DAMAGE: "Damage reduced",
        SLOT_MACHINE_HEAL_HP: "Heal HP",
        SLOT_MACHINE_DRAIN: "Drain",
        SLOT_MACHINE_BONUS_GOLD: "Bonus gold",
        SLOT_MACHINE_EVASION_UP: "Evasion up",
        STARTUP_TITLE: "Welcome to Prodigy!",
        STYLIST_TITLE: "STYLIST",
        STYLIST_BUY_LOOK: "Click to buy this look!",
        STYLIST_HAIR_COLOR: "Hair Color",
        STYLIST_MESSAGE_NEED_MORE_GOLD_BODY: "You need [gold]{0} to style your wizard. You only have [gold]{1}.",
        STYLIST_CONFIRM_MESSAGE_BODY: "Are you sure you want to style your wizard for {0} gold? \nThis will change your wizard's appearance.",
        STYLIST_CHOOSE_HAIR_STYLE: "CHOOSE HAIR STYLE",
        STYLIST_CHOOSE_HAIR_COLOR: "CHOOSE HAIR COLOR",
        STYLIST_CHOOSE_EYE_COLOR: "CHOOSE EYE COLOR",
        SETTINGS_TITLE: "OPTIONS",
        SETTINGS_SOUND: "Sound",
        SETTINGS_NETWORK: "Network",
        SETTINGS_GRAPHICS: "Graphics",
        SETTINGS_PARENT: "Parent",
        SETTINGS_ACCOUNT: "Account",
        SETTINGS_SOUND_VOLUME: "Sound Volume",
        SETTINGS_MUSIC_VOLUME: "Music Volume",
        SETTINGS_VOICE_VOLUME: "Voice Volume",
        SETTINGS_YOUR_WORLD: "Your world is: {0}",
        SETTINGS_OFFLINE: "You are playing in Offline Mode.",
        SETTINGS_LOGOUT: "Log Out",
        SETTINGS_RESTORE_DEFAULTS: "Restore Defaults",
        CUTSCENE_SKIP: "skip",
        PET_MENU_MY_TEAM: "MY PET TEAM",
        PET_MENU_BESTIARY: "PRODIGY BESTIARY",
        LOGIN_PRIVACY_POLICY: "Privacy Policy",
        LOGIN_WEBSITE: "Website",
        LOGIN_LOGGING_IN: "Logging in...",
        LOGIN_LOGGING_IN_GOOGLE: "Logging in with Google...",
        LOGIN_LOADING_SKILLS: "Loading skills...",
        LOGIN_LOADING_WORLDS: "Loading worlds...",
        LOGIN_USERNAME: "username",
        LOGIN_PASSWORD: "password",
        COMBAT_WON: "YOU WON!",
        COMBAT_LOST: "YOU LOST...",
        COMBAT_DRAW: "DRAW!",
        COMBAT_TITAN_HIT: "TITAN HIT!",
        COMBAT_WIZARD_BATTLE: "Wizard Battle!",
        COMBAT_BOSS_TIME: "Boss Time!",
        COMBAT_BOSS_BATTLE: "Boss Battle!",
        COMBAT_BOUNTY_BATTLE: "Bounty Battle!",
        COMBAT_PIPPET_BATTLE: "Pippet Battle!",
        COMBAT_TITAN_BATTLE: "Titan Battle!",
        COMBAT_DEFEAT_GUARDIAN: "Defeat the Guardian!",
        COMBAT_WEATHER_METER: "Recover the Weather O Meter!",
        COMBAT_SNOWBALL_FIGHT: "Snowball Fight!!",
        COMBAT_CLOUD_FIGHT: "Cloud Battle!",
        COMBAT_TRIPTROP_TRIO: "TripTrop Trio!",
        COMBAT_DEFEAT_AMBUSHERS: "Defeat the Ambushers!",
        COMBAT_SAVE_EUGENE: "Save Eugene!",
        COMBAT_SCARY_WORM: "Scary Wyrm Battle!",
        COMBAT_ATTACK_USED: "{0} used {1}",
        COMBAT_RAN_AWAY: "YOU RAN AWAY...",
        COMBAT_RUN_FAILED: "YOU COULDN'T RUN",
        COMBAT_CATCH_TOO_MANY_MESSAGE_BODY: "You have too many pets! You must release some before you can catch any more...",
        COMBAT_CATCH_GOLD_MESSAGE_BODY: "You need [gold]500 to catch this pet. You only have [gold]{0}.",
        COMBAT_CAST_BONUS_HIT: "Spell Power Bonus",
        CREATURE_IS_EVOLVING: "{0} is evolving into...",
        CREATURE_TRYING_TO_EVOLVE: "{0} is Trying to Evolve!",
        EVOLVE_STOP: "STOP EVOLVING",
        EVOLVE_NOW: "EVOLVE NOW!",
        DO_NOT_EVOLVE: "DO NOT EVOLVE",
        EVOLVE_LATER: "LATER",
        CREATURE_STOPPED_EVOLVING: "{0} stopped evolving!",
        SHIVERCHILL_FURNACE_LIT: "This furnace is already lit!",
        SHIVERCHILL_FURNACE_IN_ORDER: "You must light the furnaces in order!",
        SHIVERCHILL_FURNACE_FUEL: "This furnace needs some kind of fuel source...",
        SKYWATCH_REQUIRE_MASTER_KEY: "The door is locked. You require the Master Key.",
        SKYWATCH_REQUIRE_FACTORY_KEY: "The door is locked. You require the Factory Key.",
        CHEST_LOCKED_MESSAGE: "This chest is locked!\n\nYou need a [icon-{0}-{1}] to open it!",
        SEND_GIFT_FEATURE_SOON_MESSAGE_TITLE: "Send Gift",
        SEND_GIFT_FEATURE_SOON_MESSAGE_BODY: "This feature is coming soon!",
        MESSAGE_TITLE_UH_OH: "Uh oh!",
        MESSAGE_TITLE_OOPS: "Oops!",
        HOUSE_EDITOR_TITLE: "DESIGN-A-HOUSE",
        HOUSE_EDITOR_CONFIRM_PACK_UP: "Do you want to store all of your furniture? \n\nTo place it back in your room, just choose one of the above categories and select it from the bottom storage menu!",
        MOVE_HOUSE_CONFIRM: "Would you like to move here? The movers will put all of your items back in your inventory, and you won't be able to use your current house until you buy it again and move back.",
        HOUSE_VISITING_LOCKED: "Wizards can no longer visit your house.",
        HOUSE_VISITING_UNLOCKED: "Wizards can visit your house now!",
        HOUSE_PREVIEW_PURCHASE_MESSAGE: "Would you like to buy this house, or go back to your own?",
        COMING_SOON_MESSAGE: "Coming soon!",
        MEMBER_AD_VISIT_SITE_BODY: "Visit the Prodigy website to purchase a membership!",
        MEMBER_AD_ERROR_BODY: "There was an error contacting our server. Please try again later.",
        MEMBER_AD_SUCCESS_BODY: "Your membership will be applied after the next loading screen, however you may need to log out for the change to take effect.",
        MEMBER_AD_SUCCESS_TITLE: "SUCCESS!",
        MEMBER_AD_PURCHASE_FAILED_BODY: "Your purchase did not go through.",
        PURCHASING_MESSAGE_HAVE_ITEM_BODY: "You already have this item!",
        PURCHASING_MESSAGE_NEED_MORE_GOLD_BODY: "You need [gold]{0} for this item. You only have [gold]{1}.",
        PURCHASING_MESSAGE_NEED_MORE_CURRENCY_BODY: "You need [{0}]{1} for this item.\n\nYou only have [{0}]{2}.",
        PURCHASING_MESSAGE_TOO_MANY_ITEMS_BODY: "You already have too many of this item!",
        PURCHASING_MESSAGE_ALREADY_LIVE_BODY: "You already own this house!",
        PURCHASING_MESSAGE_ALREADY_LOOK_BODY: "You already look like this!",
        PURCHASING_MESSAGE_HAVE_PET_BODY: "You already have this pet!",
        PURCHASING_MESSAGE_TOO_MANY_PETS_BODY: "You have too many pets! You must release some in order to buy a new one.",
        WORLD_MAP_CONFIRM_TRAVEL: "{0}\n\nDo you want to travel here?",
        WORLD_MAP_ACADEMY_LOCKED: "The Academy is unreachable...for now!",
        WORLD_MAP_ZONE_LOCKED: "Choose one of the highlighted zones to travel to. You can come back here later.",
        WINTERFEST_CONFIRM_TRAVEL: "Do you want to travel to town and take part in Winterfest?",
        WINTERFEST_SIGN_TITLE: "Event Daily Task",
        WINTERFEST_SIGN_MESSAGE: "Every day during Winterfest, one of the Puppet Master's scouts tries to sneak into Lamplight Town, by disguising themselves as a snowman.\n\nFind the snowman and defeat the monster inside. If you do, you'll collect a bunch of Magic Snowflakes!",
        PUMPKINFEST_CONFIRM_TRAVEL: "Do you want to travel to town and take part in Pumpkinfest?",
        PUMPKINFEST_SIGN_TITLE: "Pumpkinfest Daily Task",
        PUMPKINFEST_SIGN_MESSAGE: "Each day, some tricksters are putting out the light of a pumpkin somewhere in Lamplight Town.\n\nIf you find that pumpkin, click on it, and defeat the trickster. You will receive a big prize of candy corn cash if you do!",
        STARLIGHT_CONFIRM_TRAVEL: "Do you want to travel to town and take part in the Starlight Festival?",
        STARLIGHT_MESSAGE_RETURN_LATER: "Come back after 3:00 pm to participate in the Starlight Festival.\n\nStar Shards can only be collected from wizard battles after that time!",
        STARLIGHT_SIGN_TITLE: "Starlight Festival Daily Task",
        STARLIGHT_SIGN_MESSAGE: "Once a day, a star falls somewhere into Lamplight Town. You must find and save it from the Puppet Master's evil forces! If you do, you'll collect a bunch of Star Shards!",
        SPRINGFEST_CONFIRM_TRAVEL: "Do you want to travel to town and take part in the Springfest?",
        SPRINGFEST_SIGN_TITLE: "Springfest Daily Task",
        SPRINGFEST_SIGN_MESSAGE: "Minions of the Puppet Master are searching for a clutch of Magic Eggs in Lamplight Town. Foxes and Bunnies agree you need to find those Eggs before the Puppet Master does!",
        LAMPLIGHT_DOOR_COMING_SOON_TITLE: "Locked!",
        LAMPLIGHT_DOOR_COMING_SOON_MESSAGE: 'A message on the door says "Coming Soon!"',
        BACKPACK_BUTTON_HATS: "Hats",
        BACKPACK_BUTTON_OUTFITS: "Outfits",
        BACKPACK_BUTTON_WANDS: "Wands",
        BACKPACK_BUTTON_BOOTS: "Boots",
        BACKPACK_BUTTON_BUDDIES: "Buddies",
        BACKPACK_BUTTON_ITEMS: "Items",
        BACKPACK_BUTTON_CURRENCY: "Currency",
        SOCIAL_MENU_SEASON_DETAILS_TOP: "Season",
        SOCIAL_MENU_SEASON_DETAILS_BOT: "Details",
        SOCIAL_MENU_SEASON_LEADERS_TOP: "Season",
        SOCIAL_MENU_SEASON_LEADERS_BOT: "Leaders",
        SOCIAL_MENU_SEASON_CLASS_LEADERS_TOP: "Class",
        SOCIAL_MENU_SEASON_CLASS_LEADERS_BOT: "Leaders",
        SOCIAL_MENU_BATTLE_REQUESTS_BUTTON_TOP: "Battle",
        SOCIAL_MENU_BATTLE_REQUESTS_BUTTON_BOT: "Requests",
        SOCIAL_MENU_BOUNTIES_BUTTON_BOT: "Bounties",
        SOCIAL_MENU_AWARDS_BUTTON_BOT: "Awards",
        SOCIAL_MENU_BADGES_BUTTON_BOT: "Badges",
        WORLD_LAMPLIGHT_TOWN_CLASS_MODE: "Lamplight Town is very busy during school time. Come back after school to explore this fun town!",
        WORLD_YOUR_HOUSE_CLASS_MODE: "Every wizard needs a place to relax. Play Prodigy after school to decorate your house!",
        WORLD_DYNO_DIG_OASIS_CLASS_MODE: "Professor Scoog is busy at the Dyno Dig Oasis. Play Prodigy at home to build your fossil collection!",
        AWARDS_TITLE: "AWARDS",
        ACHIEVEMENT_UNLOCKED_TITLE: "Achievement Unlocked!",
        ACHIEVEMENT_GROUP_GENERAL: "General",
        ACHIEVEMENT_GROUP_BATTLE: "Battle",
        ACHIEVEMENT_GROUP_PVP: "PvP",
        ACHIEVEMENT_GROUP_LAMPLIGHT: "Lamplight Town",
        ACHIEVEMENT_GROUP_FIREFLY: "Firefly Forest",
        ACHIEVEMENT_GROUP_SHIVERCHILL: "Shiverchill Mountains",
        ACHIEVEMENT_GROUP_SKYWATCH: "Skywatch",
        ACHIEVEMENT_GROUP_BONFIRE: "Bonfire Spire",
        ACHIEVEMENT_GROUP_SHIPWRECK: "Shipwreck Shore",
        ACHIEVEMENT_GROUP_EDUCATION: "Education",
        ACHIEVEMENT_GROUP_EXPLORATION: "Exploration",
        ACHIEVEMENT_NEWBIE_NAME: "Newbie",
        ACHIEVEMENT_NEWBIE_DESC: "Complete the tutorial",
        ACHIEVEMENT_COIN_COLLECT_NAME: "Coin Collector",
        ACHIEVEMENT_COIN_COLLECT_DESC: "Earn [X] gold",
        ACHIEVEMENT_SHOPAHOLIC_NAME: "Shopaholic",
        ACHIEVEMENT_SHOPAHOLIC_DESC: "Spend [X] gold",
        ACHIEVEMENT_RUNWAY_MODEL_NAME: "Runway Model",
        ACHIEVEMENT_RUNWAY_MODEL_DESC: "Collect [X] different equipment items",
        ACHIEVEMENT_PACKRAT_NAME: "Packrat",
        ACHIEVEMENT_PACKRAT_DESC: "Collect [X] different collectable items",
        ACHIEVEMENT_ANTIQUARIAN_NAME: "Antiquarian",
        ACHIEVEMENT_ANTIQUARIAN_DESC: "Collect [X] different house items",
        ACHIEVEMENT_DECORATOR_NAME: "Interior Decorator",
        ACHIEVEMENT_DECORATOR_DESC: "Place [X] items in your house",
        ACHIEVEMENT_CATCH_PET_NAME: "Catch'm",
        ACHIEVEMENT_CATCH_PET_DESC: "Collect [X] pets",
        ACHIEVEMENT_PRODIGY_NAME: "Prodigy",
        ACHIEVEMENT_PRODIGY_DESC: "Reach level [X]",
        ACHIEVEMENT_SPELLMASTER_NAME: "Spellmaster",
        ACHIEVEMENT_SPELLMASTER_DESC: "Learn [X] spells",
        ACHIEVEMENT_MONSTER_HUNTER_NAME: "Monster Hunter",
        ACHIEVEMENT_MONSTER_HUNTER_DESC: "Defeat [X] monsters",
        ACHIEVEMENT_CHALLENGER_NAME: "Supreme Challenger",
        ACHIEVEMENT_CHALLENGER_DESC: "Win [X] Arena matches",
        ACHIEVEMENT_CHAMP_NAME: "The Champ",
        ACHIEVEMENT_CHAMP_DESC: "Get [X] points in the Arena",
        ACHIEVEMENT_TOURIST_NAME: "Tourist",
        ACHIEVEMENT_TOURIST_DESC: "Complete the tour of Lamplight Town",
        ACHIEVEMENT_FOREST_QUESTS_NAME: "Forestwalker",
        ACHIEVEMENT_FOREST_QUESTS_DESC: "Complete all quests in Firefly Forest",
        ACHIEVEMENT_FOREST_SET_NAME: "Forest Model",
        ACHIEVEMENT_FOREST_SET_DESC: "Purchase the full Firefly Outfit set",
        ACHIEVEMENT_FOREST_CHESTS_NAME: "Forest Explorer",
        ACHIEVEMENT_FOREST_CHESTS_DESC: "Open all chests in Firefly Forest",
        ACHIEVEMENT_FOREST_DEFEAT_WIZARDS_NAME: "Forest Champion",
        ACHIEVEMENT_FOREST_DEFEAT_WIZARDS_DESC: "Defeat all wizards in Firefly Forest",
        ACHIEVEMENT_SHIVERCHILL_QUESTS_NAME: "Iceclimber",
        ACHIEVEMENT_SHIVERCHILL_QUESTS_DESC: "Complete all quests in Shiverchill Mountains",
        ACHIEVEMENT_SHIVERCHILL_SET_NAME: "Mountaineer",
        ACHIEVEMENT_SHIVERCHILL_SET_DESC: "Purchase the full Shiverchill Outfit set",
        ACHIEVEMENT_SHIVERCHILL_CHESTS_NAME: "Mountain Explorer",
        ACHIEVEMENT_SHIVERCHILL_CHESTS_DESC: "Open all chests in Shiverchill Mountains",
        ACHIEVEMENT_SHIVERCHILL_DEFEAT_WIZARDS_NAME: "Mountain Champion",
        ACHIEVEMENT_SHIVERCHILL_DEFEAT_WIZARDS_DESC: "Defeat all wizards in Shiverchill Mountains",
        ACHIEVEMENT_TURN_UP_HEAT_NAME: "Turn Up the Heat",
        ACHIEVEMENT_TURN_UP_HEAT_DESC: "Light all of Bok's furnaces",
        ACHIEVEMENT_SKYWATCH_QUESTS_NAME: "Cloud Catcher",
        ACHIEVEMENT_SKYWATCH_QUESTS_DESC: "Complete all quests in Skywatch",
        ACHIEVEMENT_SKYWATCH_SET_NAME: "Air Ace",
        ACHIEVEMENT_SKYWATCH_SET_DESC: "Purchase the full Skywatch Outfit set",
        ACHIEVEMENT_SKYWATCH_CHESTS_NAME: "Skylarking",
        ACHIEVEMENT_SKYWATCH_CHESTS_DESC: "Open all chests in Skywatch",
        ACHIEVEMENT_SKYWATCH_DEFEAT_WIZARDS_NAME: "Champion of the Clouds",
        ACHIEVEMENT_SKYWATCH_DEFEAT_WIZARDS_DESC: "Defeat all wizards in Skywatch",
        ACHIEVEMENT_BONFIRE_QUESTS_NAME: "Master Chef",
        ACHIEVEMENT_BONFIRE_QUESTS_DESC: "Complete all quests in Bonfire Spire",
        ACHIEVEMENT_BONFIRE_SET_NAME: "Fire Fashion",
        ACHIEVEMENT_BONFIRE_SET_DESC: "Purchase the full Bonfire Spire Outfit set",
        ACHIEVEMENT_BONFIRE_CHESTS_NAME: "Volcanic Spelunker",
        ACHIEVEMENT_BONFIRE_CHESTS_DESC: "Open all chests in Bonfire Spire",
        ACHIEVEMENT_BONFIRE_DEFEAT_WIZARDS_NAME: "Magma Master",
        ACHIEVEMENT_BONFIRE_DEFEAT_WIZARDS_DESC: "Defeat all wizards in Bonfire Spire",
        ACHIEVEMENT_SHIPWRECK_QUESTS_NAME: "Check, Matey!",
        ACHIEVEMENT_SHIPWRECK_QUESTS_DESC: "Complete all quests in Shipwreck Shore",
        ACHIEVEMENT_SHIPWRECK_SET_NAME: "Inconceivable!",
        ACHIEVEMENT_SHIPWRECK_SET_DESC: "Collect all pieces of the Dire Pirate armor",
        ACHIEVEMENT_SHIPWRECK_CHESTS_NAME: "Treasure Hunter",
        ACHIEVEMENT_SHIPWRECK_CHESTS_DESC: "Open all chests in Shipwreck Shore",
        ACHIEVEMENT_SHIPWRECK_DEFEAT_WIZARDS_NAME: "Water Wizard",
        ACHIEVEMENT_SHIPWRECK_DEFEAT_WIZARDS_DESC: "Defeat all wizards in Shipwreck Shore",
        ACHIEVEMENT_SHIPWRECK_CLEAR_INK_NAME: "Ink-be-Gone",
        ACHIEVEMENT_SHIPWRECK_CLEAR_INK_DESC: "Clear all ink in Shipwreck Shore",
        ACHIEVEMENT_QUESTIONNAIRE_NAME: "Questionnaire",
        ACHIEVEMENT_QUESTIONNAIRE_DESC: "Answer [X] questions correctly",
        ACHIEVEMENT_SEQUENCING_NAME: "Sequencing",
        ACHIEVEMENT_SEQUENCING_DESC: "Answer [X] questions correctly in a row",
        ACHIEVEMENT_MASTER_SKILLS_NAME: "Don't Stop Me Now",
        ACHIEVEMENT_MASTER_SKILLS_DESC: "Master [X] skills",
        ACHIEVEMENT_TOWER_FLOORS_NAME: "Stairmaster",
        ACHIEVEMENT_TOWER_FLOORS_DESC: "Reach floor [X] of the Dark Tower",
        ACHIEVEMENT_COLISEUM_DEFEAT_NAME: "The Fall of Crios",
        ACHIEVEMENT_COLISEUM_DEFEAT_DESC: "Defeat [X] Coliseum opponents",
        ACHIEVEMENT_FINISHED: "Finished!",
        ACHIEVEMENT_COMPLETED: "Completed!",
        CHAT_ALL_RIGHT: "all right",
        CHAT_ALL_GOOD: "all good",
        CHAT_ABRACADABRA: "abracadabra!",
        CHAT_ANIMALS: "animals!",
        CHAT_ARE_YOU_COMING: "are you coming?",
        CHAT_ARE_YOU_LEAVING: "are you leaving?",
        CHAT_ARE_YOU_STAYING: "are you staying?",
        CHAT_ARE_YOU_HAVING_FUN: "are you having fun?",
        CHAT_BAD: "bad",
        CHAT_BUSY: "busy",
        CHAT_BYE: "bye",
        CHAT_BYE_BYE: "bye bye",
        CHAT_BORING: "boring",
        CHAT_BOUGHT_IT: "bought it",
        CHAT_BUT: "but...",
        CHAT_BARELY: "barely",
        CHAT_BECAUSE: "because",
        CHAT_CANT_RIGHT_NOW: "can't right now",
        CHAT_CHECK_IT_OUT: "check it out",
        CHAT_COME_OVER_HERE: "come over here",
        CHAT_CRUD: "crud",
        CHAT_DO_YOU_HAVE_A_MIN: "do you have a minute?",
        CHAT_DO_YOU_HAVE: "do you have...",
        CHAT_DID_YOU_SEE_THAT: "did you see that?",
        CHAT_DID_YOU_CATCH: "did you catch...",
        CHAT_DONT_BOTHER: "don't bother",
        CHAT_DUDE: "dude",
        CHAT_DEPENDS: "depends",
        CHAT_EVERYONE_LOOK: "everyone look!",
        CHAT_ELEMENTARY: "elementary",
        CHAT_FOLLOW_ME: "follow me",
        CHAT_FRIENDS: "friends?",
        CHAT_FORGET_IT: "forget it",
        CHAT_FUN: "fun!",
        CHAT_FOUND_YOU: "found you!",
        CHAT_FOUND_IT: "found it!",
        CHAT_FUNDERFUL: "funderful",
        CHAT_FREAKY: "freaky",
        CHAT_GO_AWAY: "go away",
        CHAT_GOOD: "good",
        CHAT_GOODBYE: "goodbye",
        CHAT_GREETINGS: "greetings!",
        CHAT_GOOD_MORNING: "good morning",
        CHAT_GOOD_NIGHT: "good night",
        CHAT_GOOD_AFTERNOON: "good afternoon",
        CHAT_GOOD_TO_KNOW: "good to know",
        CHAT_GHOSTS: "ghosts!",
        CHAT_GREAT: "great!",
        CHAT_GUESS_AGAIN: "guess again",
        CHAT_GUESS: "guess",
        CHAT_GOLLY: "golly",
        CHAT_GOT_TO_GO: "got to go",
        CHAT_HI: "hi",
        CHAT_HELLO: "hello",
        CHAT_HELLO_THERE: "hello there!",
        CHAT_HEY: "hey",
        CHAT_HOW_ARE_YOU: "how are you?",
        CHAT_HOW: "how?",
        CHAT_HAPPY: "happy",
        CHAT_HELP_ME: "help me",
        CHAT_I_CAUGHT_A: "i caught a...",
        CHAT_I_GOT_A: "i got a...",
        CHAT_I_HAVE_TO_GO: "i have to go",
        CHAT_I_HAVE_TO_LEAVE: "i have to leave",
        CHAT_I_LEVELED_UP: "i leveled up!",
        CHAT_I_LOVE_PRODIGY: "i love Prodigy!",
        CHAT_I_LIKE_YOUR_HAIR: "i like your hair",
        CHAT_I_LIKE_YOUR_OUTFIT: "i like your outfit",
        CHAT_I_LIKE_YOUR_HAT: "i like your hat",
        CHAT_I_LIKE_YOUR_WAND: "i like your wand",
        CHAT_I_LIKE_YOU_PET: "i like your pet",
        CHAT_I_LIKE_THIS_PLACE: "i like this place",
        CHAT_I_DONT_LIKE_IT_HERE: "i don't like it here",
        CHAT_I_LIKE_IT_HERE: "i like it here",
        CHAT_ITS_SPOOKY_HERE: "it's spooky here",
        CHAT_ITS_SUPER_RARE: "it's super rare!",
        CHAT_ITS_TIME: "it's time",
        CHAT_IM_RICH: "i'm rich!",
        CHAT_JUST_KIDDING: "just kidding!",
        CHAT_JUST_YOU_WAIT: "just you wait",
        CHAT_JOKING: "joking!",
        CHAT_JEALOUS: "jealous?",
        CHAT_KEEP_GOING: "keep going",
        CHAT_KEEP_IT_UP: "keep it up!",
        CHAT_KEEP_WALKING: "keep walking",
        CHAT_LEAVE_ME_ALONE: "leave me alone",
        CHAT_LOOK: "look",
        CHAT_LOOK_AT_THIS: "look at this!",
        CHAT_LOVE_IT: "love it!",
        CHAT_LETS_GO: "let's go!",
        CHAT_LETS_BATTLE: "let's battle!",
        CHAT_LET_ME_SEE: "let me see",
        CHAT_LOCKED: "locked!",
        CHAT_MY_FAVOURITE_IS: "my favorite is...",
        CHAT_MY_FAVOURITE_ITEM_IS: "my favorite item is...",
        CHAT_MY_FAVOURITE_PET_IS: "my favorite pet is...",
        CHAT_MAYBE: "maybe",
        CHAT_MAKE_ME: "make me",
        CHAT_MADE_IT: "made it!",
        CHAT_MANY_THANKS: "many thanks!",
        CHAT_MADE_TONS_OF_GOLD: "made tons of gold!",
        CHAT_NEAT: "neat",
        CHAT_NO: "no",
        CHAT_NOT_RIGHT_NOW: "not right now",
        CHAT_NOT_TODAY: "not today",
        CHAT_NEVER_MIND: "never mind",
        CHAT_NAH: "nah",
        CHAT_NO_CAN_DO: "no can do",
        CHAT_NEVER: "never",
        CHAT_NOW_QUESTION: "now?",
        CHAT_NOW: "now",
        CHAT_NO_WAY: "nooooo way!",
        CHAT_OVER: "over",
        CHAT_OVER_HERE: "over here",
        CHAT_ONE_OF_THESE_IS: "one of these is a...",
        CHAT_OKAY: "okay",
        CHAT_OMINOUS: "ominous",
        CHAT_PUYOY: "puyoy!",
        CHAT_PERHAPS: "perhaps",
        CHAT_PARTY_TIME: "party time!",
        CHAT_PRETTY_COOL: "pretty cool...",
        CHAT_PRACTICE: "practice!",
        CHAT_QUACK_QUACK: "quack quack",
        CHAT_QUITE: "quite",
        CHAT_QUIET: "quiet!",
        CHAT_RIGHT: "right",
        CHAT_RIGHT_BEHIND_YOU: "right behind you",
        CHAT_RIBBIT: "ribbit!",
        CHAT_RIGHT_OVER_HERE: "right over here",
        CHAT_RIGHT_THERE: "right there",
        CHAT_SEE_YOU_LATER: "see you later",
        CHAT_SEE_YA: "see ya",
        CHAT_SEE: "see?",
        CHAT_SORRY: "sorry",
        CHAT_SAFE_AND_SOUND: "safe and sound!",
        CHAT_SHHH: "shhhhh!",
        CHAT_SOUNDS_LIKE: "sounds like...",
        CHAT_SEEMS_LIKE_IT: "seems like it",
        CHAT_SOMEONE_SAID_SO: "someone said so",
        CHAT_SOMEDAY: "someday...",
        CHAT_THANK_YOU: "thank you",
        CHAT_THERE_YOU_ARE: "there you are",
        CHAT_THINK_ABOUT_IT: "think about it",
        CHAT_TIME_FOR_BED: "time for bed",
        CHAT_TIME_FOR_DINNER: "time for dinner!",
        CHAT_TIME_FOR_LUNCH: "time for lunch!",
        CHAT_TIME_FOR_SUPPER: "time for supper!",
        CHAT_TIME_TO_GET_UP: "time to get up",
        CHAT_TIME_TO_GO: "time to go",
        CHAT_TERRIBLE: "terrible",
        CHAT_TELL_YOU_WHAT: "tell you what...",
        CHAT_VERY_GOOD: "very good",
        CHAT_WHATS_UP: "what's up?",
        CHAT_WHO: "who?",
        CHAT_WHO_ARE_YOU: "who are you?",
        CHAT_WHY: "why?",
        CHAT_WHAT: "what?",
        CHAT_WHERE: "where?",
        CHAT_YES: "yes",
        CHAT_YOU_COMING: "you coming?",
        CHAT_YOU_LOOK_COOL: "you look cool!",
        CHAT_YOU_STILL_THERE: "you still there?",
        CHAT_YOLO: "yolo!",
        CHAT_YOURE_WELCOME: "you're welcome",
        CHAT_ZZZ: "zzz",
        CHAT_DRAGONS: "dragons!!!",
        CHAT_DRAGONS_COMING: "dragons are coming!",
        CHAT_DRAGONS_HERE: "dragons are here!",
        CHAT_DRAGONS_COOL: "dragons are COOL!",
        CHAT_DRAGONS_WANT: "i want a Dragon.",
        CHAT_DRAGONS_SEEN: "have you seen the Dragons?",
        CHAT_CHILL_CHAR_COOL: "chill & Char are cool!",
        CHAT_TIDUS_COOL: "tidus is cool!",
        CHAT_ECLIPSE_COOL: "eclipse is cool!",
        CHAT_LUMA_COOL: "luma is cool!",
        CHAT_CHILL_CHAR_FAVOURITE: "chill & Char are my favorite.",
        CHAT_TIDUS_FAVOURITE: "tidus is my favorite.",
        CHAT_ECLIPSE_FAVOURITE: "eclipse is my favorite.",
        CHAT_LUMA_FAVOURITE: "luma is my favorite.",
        CHAT_DRAGONS_LIKE: "i like Dragons.",
        CHAT_ABRACA_DAB_RA: "abracaDABra",
        CHAT_FEEL_LIKE_DANCING: "i feel like DANCING!",
        CHAT_LETS_DANCE: "let's Dance!",
        CHAT_SHOW_FUNNY_FACE: "show me your funny face",
        CHAT_ASK_PARENTS: "i always ask my parents",
        CHAT_PARENTS_BEST: "my parents are the best",
        CHAT_MEMBER_AWESOME: "being a member is the best",
        CHAT_TEACHER_AWESOME: "my teacher is awesome",
        CHAT_BUNNIES_ARE_BEST: "Bunnies are the best!",
        CHAT_I_LIKE_BUNNIES: "I like Bunnies",
        CHAT_GO_BUNNY_BANDITS: "Go Bunny Bandits!",
        CHAT_DO_YOU_LIKE_BUNNIES: "Do you like bunnies?",
        CHAT_HIPPITY_HOP: "Hippity-Hop",
        CHAT_HOP_HOP: "Hop, hop, hop",
        CHAT_HARRIET_HOOD_RULES: "Harriet Hood rules!",
        CHAT_FOXES_ARE_BEST: "Foxes are the best!",
        CHAT_I_LIKE_FOXES: "I like Foxes",
        CHAT_GO_FOX_KNIGHTS: "Go Fox Knights!",
        CHAT_DO_YOU_LIKE_FOXES: "Do you like foxes?",
        CHAT_WHAT_DOES_FOX_SAY: "What does the fox say?",
        CHAT_DON_ZORRO_FANTASTICO: "Don Zorro is fantastico",
        NPC_NAME_GUARD_SLIME: "Guard Slime",
        NPC_NAME_QUEEN_GOO_LIA: "Queen Goo-lia",
        NPC_NAME_HOWARD_CORNELIUS: "Howard Cornelius",
        NPC_NAME_MAMA_STAR: "Mama Star",
        NPC_NAME_MOZZA_ELLE: "Mozza Ella",
        NPC_NAME_SCIENTIST_SLIME: "Scientist Slimerella",
        NPC_NAME_SIR_VEY: "Sir Vey",
        NPC_NAME_SWOOPY: "Swoopy",
        NPC_NAME_TOY_MERCHANT: "Toy Merchant",
        NPC_NAME_ARENA_CALLER: "Arena Caller",
        NPC_NAME_ARENA_MERCHANT: "Arena Merchant",
        NPC_NAME_BROCCOLINA: "Broccolina",
        NPC_NAME_EUGENE: "Eugene",
        NPC_NAME_EVE: "Eve",
        NPC_NAME_CEBOLLINI: "Cebollini",
        NPC_NAME_WORKER_SLIME: "Worker Slime",
        NPC_NAME_SCOOG: "Scoog",
        NPC_NAME_MERCHANT: "Merchant",
        NPC_NAME_MARY_FIRE: "Mary Fire",
        NPC_NAME_BLAZE: "Blaze",
        NPC_NAME_GUARDIAN: "Guardian",
        NPC_NAME_PROFESSOR_SCOOG: "Professor Scoog",
        NPC_NAME_LUMINITE: "Bone-carrying Luminite",
        NPC_NAME_MOOG_ASSISTANT: "Moog's Assistant",
        NPC_NAME_ASSISTANT_SPOKES: "Assistant Spokes",
        NPC_NAME_EGG_COLLECTOR: "Egg Collector",
        NPC_NAME_MOOGS_HENCHMAN: "Moog's Henchman",
        NPC_NAME_ROCKSY: "Rocksy",
        NPC_NAME_STAMPSY: "Stampsy",
        NPC_NAME_CRABBSY: "Crabbsy",
        NPC_NAME_PRIMO_AND_MOOG: "Primo and Moog",
        NPC_NAME_LUCKY_JACK: "Lucky Jack",
        NPC_NAME_WOODSMAN_MIKE: "Woodsman Mike",
        NPC_NAME_CALEB_FORESTMASTER: "Caleb Forestmaster",
        NPC_NAME_MILLY: "Milly",
        NPC_NAME_FOREST_THIEF: "Forest Thief",
        NPC_NAME_GERALD: "Gerald",
        NPC_NAME_TRIPTROP_TED: "TripTrop Ted",
        NPC_NAME_TRIPTROP_TOM: "TripTrop Tom",
        NPC_NAME_TRIPTROP_TAK: "TripTrop Tak",
        NPC_NAME_CLANKBOOT: "Clankboot",
        NPC_NAME_IVIRA: "Ivira of the Greenwood",
        NPC_NAME_FIRIA: "Firia the Chandragon",
        NPC_NAME_RUTHERFORD: "Rutherford Aguafencer",
        NPC_NAME_GEROME: "Gerome of the North",
        NPC_NAME_ICE_WORM: "Ice Wyrm",
        NPC_NAME_CHILLY: "Chilly",
        NPC_NAME_FROSTY: "Frosty",
        NPC_NAME_FREEZY: "Freezy",
        NPC_NAME_UNKNOWN: "???",
        NPC_NAME_MARY_MOSS: "Mary Moss",
        NPC_NAME_BARRY_BOSS: "Barry Boss",
        NPC_NAME_FROSTY_STORM: "Frosty Storm",
        NPC_NAME_STORMY_STORM: "Stormy Storm",
        NPC_NAME_THIEF: "Thief",
        NPC_NAME_RAINY_STORM: "Rainy Storm",
        NPC_NAME_SANDY_STORM: "Sandy Storm",
        NPC_NAME_MIRA_SHADE: "Mira Shade",
        NPC_NAME_BENNI: "Benni",
        NPC_NAME_FLORA: "Flora",
        NPC_NAME_SLURPY: "Slurpy",
        NPC_NAME_HARVEY: "Harvey",
        NPC_NAME_PIPPET: "Pippet",
        NPC_NAME_PUPPETMASTER: "The Puppet Master",
        NPC_NAME_CHESTER_COPPERPAN: "Chester Copperpan",
        NPC_NAME_LOTNEY_CHUNK: "Lotney Chunk",
        NPC_NAME_OLD_ONE: "Old One",
        NPC_NAME_TITAN_BARRIER: "Titan Barrier",
        NPC_NAME_SHOPKEEPER_FIGG: "Shopkeeper Figg",
        NPC_NAME_BOARDY: "Boardy",
        NPC_NAME_JELLY_JIM: "Jelly Jim",
        NPC_NAME_WHEELER: "Wheeler",
        NPC_NAME_SPINNER: "Spinner",
        NPC_NAME_DON_ZORRO: "Don Zorro",
        NPC_NAME_VERNA: "Verna",
        NPC_NAME_BARGO: "Bargo",
        NPC_NAME_HANK: "Hank",
        NPC_NAME_MIKE: "Mike",
        NPC_NAME_HARRIET_HOOD: "Harriet Hood",
        WORLD_FIREFLY_FOREST: "Firefly Forest",
        WORLD_FIREFLY_FOREST_DESC: "Help Flora reclaim her forest from pesky monsters, thieves, and a sleeping giant. Learn Earth spells and earn the Warden Keystone of Firefly Forest!",
        WORLD_SHIVERCHILL_MOUNTAINS: "Shiverchill Mountains",
        WORLD_SHIVERCHILL_MOUNTAINS_DESC: "Bok needs your help! His mountain is frozen over and only a wizard can help reclaim his throne! Learn Ice spells and earn the Warden Keystone of Shiverchill Mountains!",
        WORLD_SKYWATCH: "Skywatch",
        WORLD_SKYWATCH_DESC: "Benni and Broccolina are in need of a wizard to help them get Skywatch back under control. Learn Storm spells and earn the Warden Keystone of Skywatch!",
        WORLD_DYNO_DIG_OASIS: "Dyno Dig Oasis",
        WORLD_DYNO_DIG_OASIS_DESC: "Professor Scoog is in need of a wizard just like you! Encounter extinct monsters and dig up fossils!",
        WORLD_EPICS_SUBSPACE: "Epics Subspace",
        WORLD_EPICS_SUBSPACE_DESC: "A mysterious portal that leads to the realm of the fabled Epics, the most powerful pets in history!",
        WORLD_BONFIRE_SPIRE: "Bonfire Spire",
        WORLD_BONFIRE_SPIRE_DESC: "Slurpy is in need of a wizard just like you! Help him to learn how to cook, learn Fire spells, and earn the Warden Keystone of Bonfire Spire!",
        WORLD_SHIPWRECK_SHORE: "Shipwreck Shore",
        WORLD_SHIPWRECK_SHORE_DESC: "Defeat the Puppet Master's sea beast, a monster from the old war against the Order of Influence; learn Water spells; and earn the Warden Keystone of Shipwreck Shore!",
        WORLD_DARK_TOWER: "Dark Tower",
        WORLD_DARK_TOWER_DESC: "The Dark Tower is home to Mira, who has a challenge for wizards like you! Climb to the top and earn a powerful prize!",
        WORLD_LAMPLIGHT_TOWN: "Lamplight Town",
        WORLD_LAMPLIGHT_TOWN_DESC: "Home of the famous Academy, the town has all sorts of wonderful things for wizards to do!",
        WORLD_THE_ACADEMY: "The Academy",
        WORLD_THE_ACADEMY_DESC: "The Academy floats",
        WORLD_YOUR_HOUSE: "Your House",
        WORLD_YOUR_HOUSE_DESC: "This is your house! Customize it any way you like, and show it off to your friends!",
        WORLD_LOST_ISLAND: "The Lost Island",
        WORLD_LOST_ISLAND_DESC: "A mysterious island has appeared, and adorable critters on it need your help! Who knows what adventures await you here?",
        TITLE_LOGIN: "Login",
        TEXTBOX_TITLE_CLASS_CODE: "Class Code:",
        TEXTBOX_TITLE_PARENT_EMAIL: "Parent Email:",
        TEXTBOX_TITLE_FIRST_NAME: "First Name:",
        TEXTBOX_TITLE_LAST_NAME: "Last Name:",
        TEXTBOX_TITLE_LAST_NAME_INITIAL: "Last-Name Initial:",
        TEXTBOX_TITLE_PASSWORD: "Password:",
        TEXTBOX_TITLE_REENTER_PASSWORD: "Re-enter password:",
        TEXTBOX_TITLE_USERNAME: "Username:",
        PASSWORD_ERROR_TOO_SHORT: "Password is too short\n (4 to 10 letters)",
        PASSWORD_ERROR_TOO_LONG: "Password is too long\n (4 to 10 letters)",
        PASSWORD_ERROR_NO_SPACES: "Password cannot contain spaces",
        PASSWORD_ERROR_NO_MATCH: "Passwords match: no",
        PASSWORD_ERROR_MATCHES: "Passwords match: yes",
        CURRENCY_GOLD_COINS: "Gold Coins",
        CURRENCY_BOUNTY_POINTS: "Bounty Points",
        TIMER_FORMAT: "{0}d {1}h {2}m",
        TIMER_FORMAT_DAYS: "{0} days",
        MAP_ACADEMY_GREATHALL: "Academy - Great Hall",
        MAP_ACTIVITY_NORTHWEST: "Northwest Area",
        MAP_ACTIVITY_WESTERN_SHORE: "Western Shore",
        MAP_ACTIVITY_SWING_BRIDGE: "Swing Bridge",
        MAP_ACTIVITY_ISLAND_CENTER: "Island Center",
        MAP_ACTIVITY_CENTRAL_VILLAGE: "Central Village",
        MAP_ACTIVITY_NORTHEAST: "Northeast Area",
        MAP_ACTIVITY_RIVER_BRIDGE: "River Bridge",
        MAP_BONFIRE_SPIRE_VOLCANO_ENTRANCE: "Volcano Entrance",
        MAP_BONFIRE_SPIRE_ROYAL_KITCHEN: "Royal Kitchen",
        MAP_BONFIRE_SPIRE_GARDEN_GETAWAY: "Garden Getaway",
        MAP_BONFIRE_SPIRE_THRONE_ROOM: "Throne Room",
        MAP_BONFIRE_SPIRE_OUTER_SLIMEBURBIA: "Outer Slimeburbia",
        MAP_BONFIRE_SPIRE_PALM_TERRACE: "Palm Terrace",
        MAP_BONFIRE_SPIRE_THRONE_ROOM_ENTRANCE: "Throne Room: Entrance",
        MAP_BONFIRE_SPIRE_LAVA_PITS: "Lava Pits",
        MAP_BONFIRE_SPIRE_SLIME_SHANTY: "Slime Shanty",
        MAP_BONFIRE_SPIRE_PALM_PATH: "Palm Path",
        MAP_BONFIRE_SPIRE_RED_HOT_RIVER: "Red-Hot River",
        MAP_BONFIRE_SPIRE_VOLCANO_JUNCTION: "Volcanic Junction",
        MAP_BONFIRE_SPIRE_VOLCANO_VILLAGE: "Volcano Village",
        MAP_BONFIRE_SPIRE_PITFALL_TERRACE: "Pitfall Terrace",
        MAP_BONFIRE_SPIRE_VOLCANIC_CAVERN: "Volcanic Cavern",
        MAP_BONFIRE_SPIRE_FIREWATCH_ROAD: "Firewatch Road",
        MAP_BONFIRE_SPIRE_VOLCANIC_SANCTUM: "Volcanic Sanctum",
        MAP_BONFIRE_SPIRE_MOLTEN_ENCLAVE: "Molten Enclave",
        MAP_BONFIRE_SPIRE_FIERY_ALCOVE: "Fiery Alcove",
        MAP_DYNO_DIG_OASIS: "Dyno Dig Oasis",
        MAP_DYNO_DIG_MUSEUM: "Museum",
        MAP_FOREST_THE_OLD_ROAD: "The Old Road",
        MAP_FOREST_STONEFISH_BEACH: "Stonefish Beach",
        MAP_FOREST_BIG_TREE: "The Big Tree",
        MAP_FOREST_OLD_ROAD_REMAINS: "Old Road Remains",
        MAP_FOREST_FIREFLY_CROSSING: "Firefly Crossing",
        MAP_FOREST_CROSSROADS: "The Crossroads",
        MAP_FOREST_GRASSY_CLEARING: "Grassy Clearing",
        MAP_FOREST_FISHERMANS_POND: "Fisherman's Pond",
        MAP_FOREST_FIREFLY_CLEARING: "Firefly Clearing",
        MAP_FOREST_MOUNTAIN_GATE: "Mountain Gate",
        MAP_FOREST_MOUNTAIN_PASS: "Mountain Pass",
        MAP_HOUSE_PALLET_PASS: "Pallet Pass",
        MAP_HOUSE_STARTER_HOUSE: "Starter House",
        MAP_HOUSE_EXTERIOR: "Front Yard",
        MAP_LAMPLIGHT_MARKET: "Market",
        MAP_LAMPLIGHT_COLISEUM: "Coliseum",
        MAP_LAMPLIGHT_HISTORY_DISTRICT: "History District",
        MAP_LAMPLIGHT_SOUTHERN_DOCK: "Southern Dock",
        MAP_LAMPLIGHT_LOWER_INTERSECTION: "Lower Intersection",
        MAP_LAMPLIGHT_TOWN_SQUARE: "Town Square",
        MAP_LAMPLIGHT_OUTSKIRTS: "Lamplight Outskirts",
        MAP_LAMPLIGHT_ACADEMY_CROSSROADS: "Academy Crossroads",
        MAP_LAMPLIGHT_ACADEMY_ENTRANCE: "Academy Entrance",
        MAP_LAMPLIGHT_NORTHWEST_COURT: "Northwest Court",
        MAP_LAMPLIGHT_VENDORS_PLAZA: "Vendor's Plaza",
        MAP_LAMPLIGHT_PET_PARK: "Pet Park",
        MAP_LAMPLIGHT_BURROW: "The Burrow",
        MAP_LAMPLIGHT_FORT_FOX: "Fort Fox",
        MAP_SHIVERCHILL_FURNACE_ROOM: "Furnace Room",
        MAP_SHIVERCHILL_HIDDEN_ROOM: "Hidden Room",
        MAP_SHIVERCHILL_MOUNTAIN_PASS: "Mountain Pass",
        MAP_SHIVERCHILL_RUINED_PASSAGE: "Ruined Passage",
        MAP_SHIVERCHILL_RUINED_STEPS: "Ruined Steps",
        MAP_SHIVERCHILL_ROYAL_PASSAGE: "Royal Passage",
        MAP_SHIVERCHILL_GATE: "Shiverchill Gate",
        MAP_SHIVERCHILL_BORDERLAND: "Borderland",
        MAP_SHIVERCHILL_BOKS_CAVE: "Bok's Cave",
        MAP_SHIVERCHILL_TREASURE_ROOM: "Treasure Room",
        MAP_SHIVERCHILL_RUINED_ENTRANCE: "Ruined Entrance",
        MAP_SHIVERCHILL_RAIL_RUINS: "Rail Ruins",
        MAP_SHIVERCHILL_MOUNTAIN_VALLEY: "Mountain Valley",
        MAP_SHIVERCHILL_WORMS_REST: "Wyrm's Rest",
        MAP_SHIVERCHILL_FROZEN_PASS: "Frozen Pass",
        MAP_SHIVERCHILL_THE_CHASM: "The Chasm",
        MAP_SHIPWRECK_SHORE_FAR_BEACH: "Far Beach",
        MAP_SHIPWRECK_SHORE_SEAWEED_SKYSCRAPERS: "Seaweed Skyscrapers",
        MAP_SHIPWRECK_SHORE_SECRET_SHORE_SPACE: "Secret Shore Space",
        MAP_SHIPWRECK_SHORE_SECLUDED_SHORE: "Secluded Shore",
        MAP_SHIPWRECK_SHORE_UNDERWATER_ALCOVE: "Underwater Alcove",
        MAP_SHIPWRECK_SHORE_LOWER_DECK_HALL: "Lower Deck Hall",
        MAP_SHIPWRECK_SHORE_CROWS_NEST: "Crow's Nest",
        MAP_SHIPWRECK_SHORE_UPPER_DECK: "Upper Deck",
        MAP_SHIPWRECK_SHORE_CARGO_HOLD: "Cargo Hold",
        MAP_SHIPWRECK_SHORE_LOWER_DECK: "Lower Deck",
        MAP_SHIPWRECK_SHORE_SECOND_SHIP_RAMP: "Second Ship Ramp",
        MAP_SHIPWRECK_SHORE_BROKEN_SHIP_BED: "Broken Ship Bed",
        MAP_SHIPWRECK_SHORE_SEAWEED_SANCTUARY: "Seaweed Sanctuary",
        MAP_SHIPWRECK_SHORE_SECRET_SHORE: "Secret Shore",
        MAP_SHIPWRECK_SHORE_SHORELINE: "Shoreline",
        MAP_SHIPWRECK_SHORE_SUNKEN_SECRET: "Sunken Secret",
        MAP_SHIPWRECK_SHORE_CAPNS_QUARTERS: "Cap'n's Quarters",
        MAP_SHIPWRECK_SHORE_SAND_CITY: "Sand City",
        MAP_SHIPWRECK_SHORE_DEEP_WATER: "Deep Water",
        MAP_SHIPWRECK_SHORE_SAND_TOWN: "Sand Town",
        MAP_SHIPWRECK_SHORE_DIVE_DOCK: "Dive Dock",
        MAP_SHIPWRECK_SHORE_DESOLATE_DECK: "Desolate Deck",
        MAP_SHIPWRECK_SHORE_BROKEN_BOWSPRIT: "Broken Bowsprit",
        MAP_SKYWATCH_LOWER_BEANOVATOR: "Lower Bean-o-vator",
        MAP_SKYWATCH_UPPER_BEANOVATOR: "Upper Bean-o-vator",
        MAP_SKYWATCH_END_CHAMBER: "End Chamber",
        MAP_SKYWATCH_BLAST_DOORS: "Blast Doors",
        MAP_SKYWATCH_OLD_MANS_ROOM: "Factory: Old Man's Room",
        MAP_SKYWATCH_MAIN_HALL: "Factory: Main Hall",
        MAP_SKYWATCH_WIND_TUNNEL: "The Wind Tunnel",
        MAP_SKYWATCH_BREEZY_PASS: "Breezy Pass",
        MAP_SKYWATCH_FACTORY_ENTRANCE: "Factory Entrance",
        MAP_SKYWATCH_FACTORY_MAIN_HALL: "Factory: Main Hall",
        MAP_SKYWATCH_SKY_SHOWER: "Sky Shower",
        MAP_SKYWATCH_CLOUDY_PASS: "Cloudy Pass",
        MAP_SKYWATCH_INNER_SCREWBALL_SHACK: "The Screwball Shack: Inner",
        MAP_SKYWATCH_SCREWBALL_SHACK: "The Screwball Shack",
        MAP_SKYWATCH_GREAT_GRATERS: "The Great Graters",
        MAP_SKYWATCH_GARDENERS_HUT_INNER: "Gardener's Hut: Inner",
        MAP_SKYWATCH_GARDENERS_HUT_EXTERIOR: "Gardener's Hut: Exterior",
        MAP_SKYWATCH_OUTSKIRTS: "Skywatch Outskirts",
        MAP_TITAN_GROUNDS: "Titan Grounds",
        MAP_TOY_ZONE_DRAGONS_LAIR: "Dragon Lair",
        MAP_TOY_ZONE_MYSTIC_ROTUNDA: "Mystic Rotunda",
        MAP_TOY_ZONE_EPIC_ZONE: "Epic Zone",
        MAP_DARK_TOWER_ENTRANCE: "Dark Tower Entrance",
        MAP_DARK_TOWER_FLOOR: "Dark Tower Floor ",
        MAP_DARK_TOWER_SHOWDOWN: "Dark Tower Showdown",
        QUESTS_DINO_NAME_0: "Welcome to OINC",
        QUESTS_DINO_DESC_0: "Scallys are causing problems for OINC, challenge a few of them to help out",
        QUESTS_DINO_NAME_1: "Can You Dig It?",
        QUESTS_DINO_DESC_1: "The Professor wants you to bring him a Terrosaur bone",
        QUESTS_DINO_NAME_2: "Hats Off",
        QUESTS_DINO_DESC_2: "Find the monster with the Professor's hat and defeat it",
        QUESTS_DINO_NAME_3: "Getting Hot in Here",
        QUESTS_DINO_DESC_3: "Defeat fire monsters to save the oasis from roasting",
        QUESTS_DINO_NAME_4: "Learning Experience",
        QUESTS_DINO_DESC_4: "Find and defeat Terromites to learn about their behaviour",
        QUESTS_DINO_NAME_5: "TAG! You're it!",
        QUESTS_DINO_DESC_5: "Collect tags from Dynos",
        QUESTS_DINO_NAME_6: "Moog's Evil Scheme - A Novel",
        QUESTS_DINO_DESC_6: "Track down Moog's men and take a copy of his evil scheme",
        QUESTS_DINO_NAME_7: "Spoke Too Soon",
        QUESTS_DINO_DESC_7: "Find and defeat Moog's head assistant, Spokes",
        QUESTS_DINO_NAME_8: "Crabwalking",
        QUESTS_DINO_DESC_8: "Find the Dynos that are stealing equipment from Scoog",
        QUESTS_DINO_NAME_9: "Egg Hunt",
        QUESTS_DINO_DESC_9: "Collect the eggs from Moog's egg collectors",
        QUESTS_DINO_NAME_10: "The Ptrouble with Pterrotells",
        QUESTS_DINO_DESC_10: "Defeat pterrotells for Moog, and discover what has them so cranky",
        QUESTS_DINO_NAME_11: "Dyno Force Four",
        QUESTS_DINO_DESC_11: "Defeat Moog's henchman and his Dynos!",
        QUESTS_DINO_NAME_12: "Nesting Grounds",
        QUESTS_DINO_DESC_12: "Defeat different Dynos, and follow them to the nest",
        QUESTS_DINO_NAME_13: "The Bigger They Are...",
        QUESTS_DINO_DESC_13: "Defeat the incoming Dynos!",
        QUESTS_DINO_NAME_14: "Prehistoric Panic",
        QUESTS_DINO_DESC_14: "It's Professor Moog and the Primo Dyno! Defeat them!",
        QUESTS_BONFIRE_SPIRE_PULL_LEVER: "Pull the Lever",
        QUESTS_BONFIRE_SPIRE_ADD_INGREDIENT: "Add Ingredient",
        QUESTS_BONFIRE_SPIRE_ATTEND_DINNER: "Attend Dinner",
        QUESTS_BONFIRE_SPIRE_TALK_TO_GUARDS: "Talk to Guards",
        QUESTS_BONFIRE_SPIRE_SAVE_GATHERERS: "Save Gatherers",
        QUESTS_BONFIRE_SPIRE_OFFER_DISH: "Offer the Dish",
        QUESTS_BONFIRE_SPIRE_FIND_KEY: "Find the Key",
        QUESTS_BONFIRE_SPIRE_UNLOCK_CHEST: "Unlock the Chest",
        QUESTS_BONFIRE_SPIRE_DEFEAT_CHEF: "Defeat the Chef!",
        QUESTS_BONFIRE_SPIRE_TALK_TO_QUEEN: "Talk to Queen",
        QUESTS_FOREST_TALK_TO_MERCHANT: "Talk to Merchant",
        QUESTS_FOREST_DEFEAT_THE_TRIO: "Defeat the Trio!",
        QUESTS_FOREST_FIND_GERALD: "Find Gerald",
        QUESTS_FOREST_FIX_FLUTE: "Fix the Flute",
        QUESTS_FOREST_WAKE_GERALD: "Wake up Gerald",
        QUESTS_SHIVERCHILL_ACTIVATE_FURNACE: "Activate Furnace",
        QUESTS_SHIVERCHILL_EXPLORE_CAVES: "Explore Caves",
        QUESTS_SHIVERCHILL_FIND_SHOVEL: "Find the Shovel",
        QUESTS_SHIVERCHILL_HELP_MINER: "Help the Miner",
        QUESTS_SHIVERCHILL_UNKNOWN: "???",
        QUESTS_SHIVERCHILL_CHECK_THRONE: "Check Throne",
        QUESTS_SHIVERCHILL_DEFEAT_ICE_WORM: "Defeat Ice Wyrm",
        QUESTS_SKYWATCH_GET_DEVICE: "Get the Device",
        QUESTS_SKYWATCH_FIND_BROCCOLINA: "Find Broccolina",
        QUESTS_SKYWATCH_TRIM_VINES: "Trim the Vines",
        QUESTS_SKYWATCH_INSPECT_MACHINE: "Inspect Machine",
        QUESTS_SKYWATCH_GET_KEY: "Get the Key",
        QUESTS_SKYWATCH_FIND_EUGENE: "Find Eugene",
        QUESTS_SKYWATCH_DEFEAT_BOSS: "Defeat the Boss",
        QUESTS_ACTIVITY_ZONE_DAILY_SINGLE: "Defeat 6 {0}",
        QUESTS_ACTIVITY_ZONE_DAILY_PLURAL: "Defeat 6 {0}s",
        QUESTS_SHIPWRECK_TAKE_PHOTO: "Take Picture",
        QUESTS_SHIPWRECK_LOOK_AROUND: "Look Around",
        QUESTS_SHIPWRECK_FIND_JIM: "Find Jelly Jim",
        QUESTS_SHIPWRECK_CLEAR_INK: "Clear all ink",
        QUESTS_SHIPWRECK_OPEN_DOOR: "Open the Door",
        QUESTS_SHIPWRECK_DEFEAT_BOSS: "Defeat Boss",
        GOOGLE_AUTH_FAIL_DEFAULT: "Signing in with Google was unsuccessful",
        GOOGLE_AUTH_POPUP_BLOCKED: "Your browser is blocking popups. To sign in with Google, please allow popups and try again.",
        GOOGLE_AUTH_USE_BROWSER_INSTEAD: "Google sign-in only works in the browser version of Prodigy. Would you like to open Prodigy in the browser?",
        GOOGLE_AUTH_PROMPT_BROWSER: "Prompting for browser version...",
        GOOGLE_AUTH_CREATING_ACCOUNT: "Creating Account...",
        MORPH_END_MESSAGE: "Would you like to end your Morph?",
        MORPH_START_NEW: "Would you like to end your current Morph and use this new one?",
        INK_BLOT_BLOCKED_MESSAGE: "Blocked by the Old One's Ink Blot spell! Wait a few turns, or switch team members to remove its effects.",
        INK_BLOT_BLOCKED_TITLE: "Ink Blocked!",
        WORLD_MAP_FOREST_QUEST_0: "Save Flora's friend, the merchant, from bullies!",
        WORLD_MAP_FOREST_QUEST_1: "Find a wand in Firefly Forest.",
        WORLD_MAP_FOREST_QUEST_2: "Continue Flora's trials in the Forest by defeating Saplettes.",
        WORLD_MAP_FOREST_QUEST_3: "Clean up the mess that vandals created in the Forest!",
        WORLD_MAP_FOREST_QUEST_4: "Bring the note you found to the traveler in the woods, so that it can be translated.",
        WORLD_MAP_FOREST_QUEST_5: "Get a Mandrake from the sneaky Sprikes!",
        WORLD_MAP_FOREST_QUEST_6: "Bring in Mandrakes for questioning. Get to the bottom of the plot against Flora!",
        WORLD_MAP_FOREST_QUEST_7: "Find and defeat the TripTrop Trio to get back what they stole from Flora.",
        WORLD_MAP_FOREST_QUEST_8: "Find Flora's golem, Gerald.",
        WORLD_MAP_FOREST_QUEST_9: "Find the magic tree stump, and using it, repair Flora's flute.",
        WORLD_MAP_FOREST_QUEST_10: "Defeat the Neek that stole Flora's flute once again!",
        WORLD_MAP_FOREST_QUEST_11: "Wake up Gerald the Golem, and defeat him!",
        WORLD_MAP_SHIVERCHILL_QUEST_0: "Defeat the monsters that have captured the furnace room!",
        WORLD_MAP_SHIVERCHILL_QUEST_1: "Defeat the ice monsters that have stolen the furnace fuel.",
        WORLD_MAP_SHIVERCHILL_QUEST_2: "Light a furnace with the fuel you got back from those icy thieves!",
        WORLD_MAP_SHIVERCHILL_QUEST_3: "Look for more crystals to light the remaining furnaces of Shiverchill.",
        WORLD_MAP_SHIVERCHILL_QUEST_4: "Find the chest that holds Bok's shovel.",
        WORLD_MAP_SHIVERCHILL_QUEST_5: "Save the miner!",
        WORLD_MAP_SHIVERCHILL_QUEST_6: "Find another power crystal in the mines.",
        WORLD_MAP_SHIVERCHILL_QUEST_7: "Hunt down and defeat the spooky Cloakers in the mines.",
        WORLD_MAP_SHIVERCHILL_QUEST_8: "Find the power crystal in the Ruins.",
        WORLD_MAP_SHIVERCHILL_QUEST_9: "Use the fuel you've collected to turn on the next furnace!",
        WORLD_MAP_SHIVERCHILL_QUEST_10: "Check to make sure the Throne Room is safe for Bok!",
        WORLD_MAP_SHIVERCHILL_QUEST_11: "Collect lots of junk crystals so you can lure the evil Ice Worm out!",
        WORLD_MAP_SHIVERCHILL_QUEST_12: "Defeat the Ice Worm to stop the cavequakes, AND get another power crystal!",
        WORLD_MAP_SHIVERCHILL_QUEST_13: "Light the third furnace with the crystal you got from the giant Ice Worm!",
        WORLD_MAP_SHIVERCHILL_QUEST_14: "Collect your reward for your heroic deeds in the Throne Room",
        WORLD_MAP_SKYWATCH_QUEST_0: "Clear out the monsters in the Greenhouse so Benni can get back to work!",
        WORLD_MAP_SKYWATCH_QUEST_1: "Go and collect the Weather O Meter so Benni can take some readings around Skywatch.",
        WORLD_MAP_SKYWATCH_QUEST_2: "Find Broccolina for Benni.",
        WORLD_MAP_SKYWATCH_QUEST_3: "Clear the trolleys of any vines and inspect the Wind Machine for Benni.",
        WORLD_MAP_SKYWATCH_QUEST_4: "Find clues to identify the whereabouts of the Factory Key.",
        WORLD_MAP_SKYWATCH_QUEST_5: "Get the Factory Key.",
        WORLD_MAP_SKYWATCH_QUEST_6: "Head to the factory and collect spare parts for the Vine Pruner.",
        WORLD_MAP_SKYWATCH_QUEST_7: "Defeat the Water Cloud at the Snow Machine!",
        WORLD_MAP_SKYWATCH_QUEST_8: "Defeat the Earth Cloud at the Rain Machine!",
        WORLD_MAP_SKYWATCH_QUEST_9: "Defeat the Ice Cloud at the Wind Machine!",
        WORLD_MAP_SKYWATCH_QUEST_10: "Seek out the Cloudmaster for guidance on how to deal with those pesky Elemental Clouds.",
        WORLD_MAP_SKYWATCH_QUEST_11: "Find pieces of the broken key.",
        WORLD_MAP_SKYWATCH_QUEST_12: "Head to the Cumulus Room and save Skywatch",
        WORLD_MAP_BONFIRE_QUEST_0: "Help Slurpy out by pulling the first lever to drain lava.",
        WORLD_MAP_BONFIRE_QUEST_1: "Help Slurpy out by pulling the second lever to drain lava.",
        WORLD_MAP_BONFIRE_QUEST_2: "Help Slurpy out by pulling the third lever to drain lava.",
        WORLD_MAP_BONFIRE_QUEST_3: "Find Slurpy's special ingredient.",
        WORLD_MAP_BONFIRE_QUEST_4: "Sneak Slurpy's special ingredient into the Chef's pot.",
        WORLD_MAP_BONFIRE_QUEST_5: "Attend the Royal Dinner in Slurpy's place.",
        WORLD_MAP_BONFIRE_QUEST_6: "Collect Slurpy's cooking supplies.",
        WORLD_MAP_BONFIRE_QUEST_7: "Talk to the Queen's guards, Mike and Hank, to find out the Queen's favorite food.",
        WORLD_MAP_BONFIRE_QUEST_8: "Find turnips for Slurpy's next dish.",
        WORLD_MAP_BONFIRE_QUEST_9: "Deliver Slurpy's new dish to the Queen.",
        WORLD_MAP_BONFIRE_QUEST_10: "Find the key that will unlock the chest holding the magical Boots of Hotwalk!",
        WORLD_MAP_BONFIRE_QUEST_11: "Defeat the guardian of the chest of the Boots of Hotwalk.",
        WORLD_MAP_BONFIRE_QUEST_12: "Use the Boots of Hotwalk to get to the Chef, and defeat him!",
        WORLD_MAP_BONFIRE_QUEST_13: "Help the Chef get his job back.",
        WORLD_MAP_SHIPWRECK_QUEST_0: "Find a Breathing Bubble, so you can go underwater!",
        WORLD_MAP_SHIPWRECK_QUEST_1: "Search for the mysterious undersea monster.",
        WORLD_MAP_SHIPWRECK_QUEST_2: "Find and collect a sample of ink for Eve.",
        WORLD_MAP_SHIPWRECK_QUEST_3: "Find a Sonic Blaster to break through the ink.",
        WORLD_MAP_SHIPWRECK_QUEST_4: "Clear ink out of your path through Shipwreck Shore.",
        WORLD_MAP_SHIPWRECK_QUEST_5: "Take pictures of the mysterious monster's tunnel for Eve.",
        WORLD_MAP_SHIPWRECK_QUEST_6: "Collect scales from the boss monster.",
        WORLD_MAP_SHIPWRECK_QUEST_7: "Train to get tough against underwater monsters.",
        WORLD_MAP_SHIPWRECK_QUEST_8: "Pursue the underwater boss.",
        WORLD_MAP_SHIPWRECK_QUEST_9: "Find the key for the Captain's Quarters.",
        WORLD_MAP_SHIPWRECK_QUEST_10: "Defeat the Old One.",
        SO_SLEEPY: "So Sleepy...",
        TITAN_DEFEATED_MESSAGE: "The Titan has been defeated, for now!\nThe Puppet Master is hard at work, summoning it back once again. Keep an eye on the island map for signs of the Titan's return...",
        TITAN_DEFEATED_TITLE: "Titan Defeated!",
        TITAN_HEARTS: "Titan Hearts",
        TITAN_LEVEL_LOCKED: "You're not strong enough to battle the Titan. Come back when you're level {0} or higher.",
        NETWORK_ALL_GOOD: "All Good!",
        NETWORK_INCORRECT_USERNAME_PASSWORD: "Incorrect Username Or Password",
        NETWORK_FORBIDDEN: "Access is Forbidden!",
        NETWORK_OFFLINE: "Prodigy Is Temporarily Offline.",
        NETWORK_ERROR: "There was an error with your request",
        NETWORK_OUT_OF_DATE: "Your game seems to be out-of-date! Press OKAY to reload.",
        NETWORK_TRY_LATER: "Uh oh! It looks like you'll have to try again later.",
        NETWORK_CANNOT_CONNECT: "Cannot connect to Prodigy...you will be logged off in {0} seconds",
        NETWORK_LOGGED_IN_ELSEWHERE: "You have logged in elsewhere...you will be logged off in ",
        NETWORK_GOING_OFFLINE: "Prodigy is going offline, and you will be logged off in {0} seconds",
        INACTIVITY_MESSAGE: "You have been inactive for a while. If you do nothing, you will be logged out soon.",
        INACTIVITY_BUTTON: "I'm Here",
        ARENA_STORE_SILVER_BUTTON_TOP: "Silver",
        ARENA_STORE_SILVER_BUTTON_BOT: "Rank",
        ARENA_STORE_GOLD_BUTTON_TOP: "Gold",
        ARENA_STORE_GOLD_BUTTON_BOT: "Rank",
        ARENA_STORE_PLATINUM_BUTTON_TOP: "Platinum",
        ARENA_STORE_PLATINUM_BUTTON_BOT: "Rank",
        ARENA_STORE_DIAMOND_BUTTON_TOP: "Diamond",
        ARENA_STORE_DIAMOND_BUTTON_BOT: "Rank",
        PVP_PRIZES_TITLE: "SEASON PRIZES",
        PVP_PRIZES_DISCLAIMER: "All earned prizes will appear in your mailbox the following Monday.",
        PVP_PRIZES_RANK_REQUIREMENT: "Leaderboard Top {0}",
        PVP_PRIZES_POINTS_REQUIREMENT: "[arena]{0}",
        PVP_PRIZE_ACHIEVED_POPUP_MESSAGE: "Congratulations! You've earned an Arena prize!\n\n\nCome back next Monday to collect it from your mailbox!",
        PVP_PRIZE_ACHIEVED_POPUP_BUTTON_TEXT: "OKAY",
        SEASON_DETAILS_TAB_TOP: "Season",
        SEASON_DETAILS_TAB_BOTTOM: "Details",
        SEASON_DETAILS_PRIZE_BUTTON: "View Season Prizes",
        SEASON_DETAILS_CHALLENGE_BUTTON_FIND: "find",
        SEASON_DETAILS_CHALLENGE_BUTTON_CHALLENGER: "challenger",
        SEASON_DETAILS_SEASON_ENDS: "Ends in: {0}",
        SEASON_DETAILS_POINTS_TITLE: "My Points: {{0}",
        SEASON_DETAILS_NEXT_PRIZE: "Next Prize",
        SEASON_DETAILS_POINTS: "[arena]{0}",
        SEASON_DETAILS_EARN_BONUS: "Earn {0} bonus points for completing {1} matches in {2}",
        SEASON_DETAILS_REACH_TOP: "Finish in the top {0} players to earn this season's grand prize!",
        SEASON_DETAILS_WEEKLY_EARNED: "Weekly bonus earned! A new bonus will be available next Monday.",
        SEASON_TOP_PLAYERS: "This season's top 1000 players will receive: {0}",
        SEASON_TO_TOP: "To Top 1000: [arena]{0}",
        SEASON_NEXT_RANK: "Next Rank: [arena]{0}",
        SEASON_YOUR_POINTS: "Your Points: [arena]{0}",
        SEASON_YOUR_RANK: "Your Rank: {0}",
        SEASON_YOUR_RANK_TITLE: "Your Rank",
        UI_MAIL_WELCOME: "WELCOME",
        UI_MAIL_CHECK_IT_OUT: "CHECK IT OUT!",
        UI_TAXI_REGULAR_FARE: "Regular Fare",
        UI_TAXI_PAY_HALF: "Pay Half!",
        UI_TITAN_BATTLES_INFO: "The more battles you win against the Titan, the bigger the reward you get when it's defeated.",
        UI_TITAN_APPEAR_INFO: "Once in a while, a Titan will appear somewhere on the island, pointed out by a special notification",
        UI_TITAN_SHARDS_INFO: "Battle the Titan to earn Titan Shards. Once it's defeated, you can get a bunch more. You can't do it alone though. It is SO strong, that MANY wizards around the world will need to work together to defeat it!",
        UI_TITAN_REWARDS_TITLE: "TITAN BATTLE REWARDS",
        UI_MAIL_NO_MAIL: "You have no mail",
        UI_MAIL_YOUR_MAIL: "YOUR MAIL",
        UI_ZONE_CHECK_BACK: "Keep checking out this area for its unique items and interesting challenges!",
        UI_ZONE_NO_FRIENDS: "Add players as friends to see how well you do against them!",
        UI_ZONE_NO_CLASSMATES: "Sorry, you are not part of a valid Class, so you don't have any Classmates! Check with your teacher to get the Class code.",
        UI_ZONE_PLAY: "PLAY",
        UI_ZONE_SHIPWRECK_SHORE: "SHIPWRECK SHORE",
        UI_ZONE_FIREFLY_FOREST: "FIREFLY FOREST",
        UI_ZONE_BONFIRE_SPIRE: "BONFIRE SPIRE",
        UI_ZONE_SHIVERCHILL: "SHIVERCHILL MOUNTAINS",
        UI_ZONE_SKYWATCH: "SKYWATCH",
        UI_PVP_PRIZES: "PVP SEASON PRIZES",
        UI_PVP_PRIZES_DESC: "All earned prizes will appear in your mailbox the following Monday.",
        UI_PVP_COOL_ARMOR: "Really Cool Armor",
        UI_PVP_1000_POINTS: "1000 Points",
        UI_PVP_GRAND_PRIZE: "Grand Prize",
        UI_RESULTS_TITLE: "RESULTS",
        UI_NO_FEED_ALL: "The Wizard Watch is where you can see what your friends and classmates are doing. Check back later to see what they're up to!",
        UI_NO_FEED_ME: "This is where you can see your own activity. Share your adventures with your friends and classmates!",
        UI_NO_FEED_FRIENDS: "This is where you will find only your friends' and classmates' activity. Befriend some Wizards and be sure to give them a thumbs-up when they share their adventures with you!",
        DYNO_DIG_SHOP_WELCOME: "Welcome to Dyno Dig Shop! \nWant to see what I have for sale?",
        COMBAT_CANT_EAT_RIGHT_NOW: "{0} can't eat right now.",
        COMBAT_YOU: "You",
        MEMBERSHIP_CONGRATULATIONS: "CONGRATULATIONS!",
        MEMBERSHIP_CLOUD_MOUNT: "As a Member, you have been given a Cloud Mount. Enjoy floating around on a big fluffy cloud. Thank you for being a Prodigy Member!",
        MEMBERSHIP_MOUNT_EQUIP: "Don't forget to equip your Cloud Mount through your backpack by turning the Cloud Mount switch to 'ON'.",
        MEMBERSHIP_GET_MOUNT: "MEMBER CLOUD MOUNT!",
        MEMBERSHIP_GET_MOUNT_BODY: "Become a Prodigy Member to get a Cloud Mount. Float around on your very own fluffy cloud!",
        MEMBERSHIP_MONTHLY_BOX_TITLE: "MONTHLY MEMBERSHIP BOX",
        MEMBERSHIP_MONTHLY_BOX_DESCRIPTION: "Members get Membership Boxes with awesome Member items every month!",
        MEMBERSHIP_BECOME_MEMBER: "Become a Member and get this month's box TODAY!",
        MEMBERSHIP_GET_MONTHLY_BOX: "You have been given this month's Membership Box with awesome Member items. It will be in your Mail very soon!",
        MEMBERSHIP_TITAN_CATAPULT_TITLE: "A New Way To Fight A Titan!",
        MEMBERSHIP_TITAN_CATAPULT_BODY_0: "Become a Prodigy Member to use",
        MEMBERSHIP_TITAN_CATAPULT_BODY_1: "the",
        MEMBERSHIP_TITAN_CATAPULT_BODY_2: "Catapult",
        MEMBERSHIP_TITAN_CATAPULT_BODY_3: "and get double the Titan Shards.",
        MEMBERSHIP_TITAN_CATAPULT_GRAPHIC_0: "Double the",
        MEMBERSHIP_TITAN_CATAPULT_GRAPHIC_1: "Titan Shards!",
        MEMBERSHIP_LEARN_MORE: "Learn More",
        MAIL_UNAVAILABLE: "Oops! Sorry, we cannot show your Mail right now. We are working on it. Please try again later.",
        STORE_NAME_FIREFLY: "Firefly Outfitters",
        STORE_MACHINE_SHOP: "The Machine Shop",
        STORE_SNOWDAY_SALES: "Snowday Sales",
        STORE_SKY_HIGH: "Sky-High Values",
        STORE_HOT_HOT_THREADS: "Hot Hot Threads",
        STORE_OCEAN_OUTFITTERS: "Ocean Outfitters",
        STORE_OPEN_FAILED_TITLE: "Store Closed",
        STORE_OPEN_FAILED_MESSAGE: "This store is currently unavailable. Please try again later.",
        FRIENDS_LIST_UNAVAILABLE: "Oops! Sorry, we cannot show your Friends List right now. We are working on it. Please try again later.",
        MEMBER_STARS_EARNED: "{0} MEMBER STARS EARNED",
        MAX_STARS_EARNED: "MAX STARS EARNED",
        WORTH: "Worth",
        WIZARD_LEVELS: "Wizard Levels!",
        WIZARD_LEVEL: "Wizard Level!",
        JAR_EXPIRED: "MEMBER STARS DISAPPEARED!",
        JAR_BECOME_MEMBER: "Become a Member to get them before they disappear next time!",
        STARS_IN_JAR_COUNT: "Stars In Jar",
        MONTH_NAME_1: "January",
        MONTH_NAME_2: "February",
        MONTH_NAME_3: "March",
        MONTH_NAME_4: "April",
        MONTH_NAME_5: "May",
        MONTH_NAME_6: "June",
        MONTH_NAME_7: "July",
        MONTH_NAME_8: "August",
        MONTH_NAME_9: "September",
        MONTH_NAME_10: "October",
        MONTH_NAME_11: "November",
        MONTH_NAME_12: "December",
        SEASON_COMPLETED_TITLE: "Season Complete",
        SEASON_COMPLETED: "The current season is over. Check back soon for a new one!",
        TRIAL_MEMBERSHIP_SUCESS_TITLE: "Congratulations!",
        TRIAL_MEMBERSHIP_SUCESS_BODY: "You now have a trial membership until you reach level 10\n\nEnjoy!\n\nYour membership will be applied after the next loading screen. During this trial you will not receive a cloud mount or the monthly member gift box.",
        TRIAL_MEMBERSHIP_AUTO_BODY: "As a new wizard, you get to be a member until you reach",
        TRIAL_MEMBERSHIP_AUTO_FOOTER: "Make sure to explore all the cool things you can do as a member!",
        TRIAL_MEMBERSHIP_AUTO_TITLE: "You'll start as a member!",
        TRIAL_MEMBERSHIP_AUTO_LEVEL: "LEVEL 10!",
        SUMMARY_POPUP_EVOLUTION: "EVOLUTION!",
        SUMMARY_POPUP_NEW_SPELL: "NEW SPELL!",
        SUMMARY_POPUP_NEW_HEARTS: "MORE HEARTS!",
        SUMMARY_POPUP_NEW_SPELL_LEARNED: "{0} learned {1}!",
        SUMMARY_POPUP_HEARTS_EARNED: "{0} gained {1} hearts!",
        SUMMARY_BATTLE_STARS_EARNED: "YOU GOT\n{0} BATTLE STARS EACH!",
        SUMMARY_BATTLE_STARS_EARNED_SINGULAR: "YOU GOT\n{0} BATTLE STARS!",
        OPEN_CHEST: "OPEN CHEST",
        GAINED_MEMBER_STARS: "GAINED\n{0}\nMEMBER STARS",
        GAINED_MEMBER_STARS_EACH: "GAINED\n{0}\nMEMBER STARS EACH",
        MEMBERS_COLLECT_MORE_XP: "MEMBERS GET MORE STARS!",
        COUNTDOWN_SECONDS_LEFT: "SECONDS\nLEFT!",
        COUNTDOWN_MINUTES_LEFT: "MINUTES\nLEFT!",
        COUNTDOWN_HOURS_LEFT: "HOURS\nLEFT!",
        COUNTDOWN_DAYS_LEFT: "DAYS\nLEFT!",
        COUNTDOWN_SECOND_LEFT: "SECOND\nLEFT!",
        COUNTDOWN_MINUTE_LEFT: "MINUTE\nLEFT!",
        COUNTDOWN_HOUR_LEFT: "HOUR\nLEFT!",
        COUNTDOWN_DAY_LEFT: "DAY\nLEFT!",
        EXPLAIN_MEMBERSHIP_STUDENT_BODY_1: "Adventure the way only members can: ride an exclusive cloud mount, unlock member-only chests and explore the infamous dark tower!",
        EXPLAIN_MEMBERSHIP_STUDENT_BODY_2: "Members have more ways to get ahead like faster leveling with bonus stars, room to catch 100 pets, mini-game power ups, and extra spins on the Wheel of Wonder!",
        EXPLAIN_MEMBERSHIP_STUDENT_BODY_3: "Members get to express themselves in all kinds of ways! Wear the coolest and craziest gear, style your character's look, and decorate the biggest houses with exclusive items.",
        EXPLAIN_MEMBERSHIP_STUDENT_BODY_4: "Only members get fun extras like monthly gift boxes filled with one-of-a-kind items, along with unique buddies, potions and morph marbles to use on your quest!",
        EXPLAIN_MEMBERSHIP_STUDENT_TITLE_1: "Explore like a member",
        EXPLAIN_MEMBERSHIP_STUDENT_TITLE_2: "Progress like a member",
        EXPLAIN_MEMBERSHIP_STUDENT_TITLE_3: "Express like a member",
        EXPLAIN_MEMBERSHIP_STUDENT_TITLE_4: "Have fun like a member",
        EXPLAIN_MEMBERSHIP_PARENT_TITLE_1: "Members get more",
        EXPLAIN_MEMBERSHIP_PARENT_BODY_0: "* They master more math!\n* Do more questions!\n* Play and learn longer!\n* Play more from home!\n* Achieve higher levels!",
        EXPLAIN_MEMBERSHIP_PARENT_BODY_1: "Expand the world of Prodigy by adding new stuff to earn and collect! With so much more to do, members answer 125% more questions on average than non-members. its the best way to have more fun and boost learning!",
        EXPLAIN_MEMBERSHIP_PARENT_BODY_HIGHLIGHT: "members answer 125% more questions",
        EXPLAIN_MEMBERSHIP_PARENT_FOOTER: "Get help from a parent and",
        MEMBERSHIP_AWESOME_GEAR: "Awesome Gear!",
        LVL: "Lvl .",
        MEMBERSHIP_AMAZING_THINGS: "Members Get Amazing Things!",
        NAME_APPRENTICE: "Apprentice"
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            void 0 === h && (h = 0);
            var c = t.call(this, e, i, a, n) || this, p = c.add(new Phaser.Image(e, 0, 0, "atlas-18", "overlay-light"));
            return p.width = o, p.height = r, p.inputEnabled = !0, p.alpha = h, 
            c.onProcess = l, c.onClick = s, p.events.onInputDown.add(c.clicked.bind(c)), 
            c;
        }
        return n(e, t), e.prototype.clicked = function(t, e) {
            r.Util.isValid(this.onClick) && this.onClick(this);
        }, e.prototype.process = function(t, e) {
            r.Util.isValid(this.onProcess) && this.onProcess(t, e);
        }, e;
    }(o.Element);
    e.ClickableEvent = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(16), s = i(3), l = i(0), h = function(t) {
        function e(e, i, a, n, h, c, p, u, d, g, y, f) {
            void 0 === g && (g = !1);
            var m = t.call(this, e, i, a, n) || this;
            return m.sprite = null, m.active = !0, m.callback = null, m.animatedSprite = null, 
            m.animatedSpritePos = null, m.animTween = null, m.sfxID = null, m.sfxClip = null, 
            m.spriteOverlay = null, m.spriteOverlayX = 0, m.spriteOverlayY = 0, 
            m.callback = p, m.sprite = m.game.prodigy.create.sprite(0, 0, h, c, null, m.onSpriteLoaded.bind(m), y, f), 
            m.add(m.sprite), l.Util.isValid(u) && l.Util.isValid(d) && (m.animatedSprite = m.game.prodigy.create.sprite(d.x, d.y, h, u[0]), 
            m.animatedSpritePos = d, m.add(m.animatedSprite), m.animTween = new r.TweenController(m.animatedSprite), 
            m.animTween.set("frameName", u, 200, 9999), m.animTween.start()), m.sprite.inputEnabled = !0, 
            m.sprite.events.onInputDown.add(m.onDown, m), g || (m.sprite.events.onInputUp.add(m.onUp, m), 
            m.sprite.events.onInputOver.add(m.onOver, m)), m.sprite.events.onInputOut.add(m.onOut, m), 
            o.GameConstants.get("GameConstants.Build.DEBUG") && l.Util.isValid(c) && (m.game.prodigy.automation.addTrigger({
                ID: "autoclick-" + c,
                context: m,
                callback: function() {
                    return {
                        x: m.worldPosition.x + .5 * m.sprite.width,
                        y: m.worldPosition.y + .5 * m.sprite.height
                    };
                }
            }), m.game.broadcaster.addAppListener(s.EDebugEvents.AutoClick, m.onDebugAutoClick.bind(m), m)), 
            m.sfxID = 18, m.sfxClip = "pop", m.onDestroy.add(m.handleDestroy.bind(m)), 
            m;
        }
        return n(e, t), e.prototype.update = function() {
            t.prototype.update.call(this), l.Util.isValid(this.animTween) && this.animTween.update();
        }, e.prototype.setActive = function() {
            this.active = !0, this.sprite.tint = 16777215;
        }, e.prototype.setInactive = function(t) {
            void 0 === t && (t = 5789784), this.active = !1, this.sprite.tint = t, 
            this.sprite.y = 0, l.Util.isValid(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y), 
            l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY);
        }, e.prototype.select = function() {
            this.sprite.tint = 7447253;
        }, e.prototype.deselect = function() {
            this.active = !0, this.sprite.tint = 16777215, this.sprite.y = 0, l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY), 
            l.Util.isValid(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y);
        }, e.prototype.isActive = function() {
            return this.active;
        }, e.prototype.addOverlay = function(t, e, i, a) {
            l.Util.isValid(this.spriteOverlay) && this.spriteOverlay.destroy(), 
            this.spriteOverlayX = t, this.spriteOverlayY = e, this.spriteOverlay = this.game.prodigy.create.sprite(t, e, i, a), 
            this.add(this.spriteOverlay);
        }, e.prototype.onDown = function() {
            this.active && (this.game.prodigy.audio.playSFX(this.sfxID, this.sfxClip), 
            l.Util.isValid(this.callback) && this.callback(), this.sprite.y = 0, 
            l.Util.isValid(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y), 
            l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY));
        }, e.prototype.handleDestroy = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && l.Util.isValid(this.sprite.frameName) && (this.game.prodigy.automation.removeAllTriggers(this), 
            this.game.broadcaster.removeAppListener(s.EDebugEvents.AutoClick, this));
        }, e.prototype.onUp = function() {
            this.active && this.sprite.input.pointerOver() && (this.sprite.y = -3, 
            l.Util.isValid(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y - 3), 
            l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY - 3));
        }, e.prototype.onOver = function() {
            this.active && (this.sprite.y = -3, l.Util.isValid(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y - 3), 
            l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY - 3));
        }, e.prototype.onOut = function() {
            this.active && (this.sprite.y = 0, l.Util.isValid(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y), 
            l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY));
        }, e.prototype.onSpriteLoaded = function() {
            l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY, 
            this.spriteOverlay.x = this.spriteOverlayX);
        }, e.prototype.onDebugAutoClick = function(t) {
            l.Util.isValid(this.sprite.frameName) && (l.Util.isValid(t) ? t === this.sprite.frameName && this.onDown() : l.Util.log("Button Tag: " + this.sprite.frameName));
        }, e;
    }(i(5).Element);
    e.Button = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(43), r = i(50), s = i(52), l = i(4), h = i(0), c = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this) || this;
            return o.canRevert = null, o.orientation = 0, o.assetData = null, o.assetMetadata = null, 
            o.editable = !1, o.itemID = a, o.orientation = n, o.parentHouse = i, 
            o.onItemDrag = new Phaser.Signal(), o.onItemDropped = new Phaser.Signal(), 
            o.onItemMoved = new Phaser.Signal(), o.onItemInputDown = new Phaser.Signal(), 
            o;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.updateItemData();
        }, e.prototype.setItemID = function(t) {
            this.itemID !== t && (this.itemID = t, this.updateItemData());
        }, e.prototype.updateItemData = function() {
            this.assetData = l.Items.getItem("dorm", this.itemID).data, this.assetMetadata = l.Items.getItem("dorm", this.itemID).metadata, 
            this.updateSprite();
        }, e.prototype.getAssetName = function() {
            return h.Util.isValid(this.assetData) ? this.getOrientation() + "-dorm-" + this.itemID : "";
        }, e.prototype.isAnimated = function() {
            if (h.Util.isValid(this.assetMetadata)) {
                var t = this.getOrientation();
                return h.Util.isValid(this.assetMetadata.assets[t]) && h.Util.isValid(this.assetMetadata.assets[t].animations) && h.Util.isValid(this.assetMetadata.assets[t].animations.idle);
            }
            return !1;
        }, e.prototype.canRotate = function() {
            return h.Util.isValid(this.assetData) && this.assetData.r > 0;
        }, e.prototype.getScaleX = function() {
            return h.Util.isValid(this.assetData) && this.assetData.r > 0 && this.orientation > 1 ? -1 : 1;
        }, e.prototype.updateSprite = function() {
            var t = this.gameObject.findComponent(r.Renderer);
            h.Util.isValid(t) ? t.setAsset(this.getOrientation() + "-dorm-" + this.itemID, this.assetMetadata.assets[this.getOrientation()]) : t = this.initRenderInterface(), 
            t.setScale(this.getScaleX(), 1), t.hasAnimations() && t.playAnimation("idle", !0, Math.random() * t.getAnimationLength("idle"));
        }, e.prototype.initRenderInterface = function() {
            var t = s.RenderFactory.createRenderer(this.getOrientation() + "-dorm-" + this.itemID, this.assetMetadata.assets[this.getOrientation()]);
            return this.gameObject.addComponent(t), t.setAnchor(.5, 0), t.resetAfterDrag = !0, 
            t;
        }, e.prototype.rotateItem = function() {
            this.editable && this.canRotate() && (this.orientation += 1, this.orientation > 3 && (this.orientation = 0), 
            this.updateSprite());
        }, e.prototype.setEditable = function(t) {
            void 0 === t && (t = !0), this.editable !== t && (this.editable = t, 
            this.editable ? this.registerInputHandlers() : this.unregisterInputHandlers());
        }, e.prototype.registerInputHandlers = function() {
            var t = this.getRenderer();
            t.setInputEnabled(), t.enableDragging(!0, !0, 20, 20);
            var e = t.getEvents();
            h.Util.isValid(e) && (e.onDragStart.add(this.dragStarted, this), e.onDragUpdate.add(this.dragUpdated, this), 
            e.onDragStop.add(this.dragStopped, this), e.onInputDown.add(this.itemFocused, this));
        }, e.prototype.unregisterInputHandlers = function() {
            var t = this.getRenderer();
            t.setInputEnabled(!1), t.disableDragging();
            var e = t.getEvents();
            h.Util.isValid(e) && (e.onDragStart.remove(this.dragStarted, this), 
            e.onDragUpdate.remove(this.dragUpdated, this), e.onDragStop.remove(this.dragStopped, this), 
            e.onInputDown.remove(this.itemFocused, this));
        }, e.prototype.getRenderer = function() {
            return this.gameObject.findComponent(r.Renderer);
        }, e.prototype.dragStarted = function() {
            this.gameObject.game.add.existing(this.gameObject), this.onItemDrag.dispatch();
        }, e.prototype.dragUpdated = function() {
            h.Util.isValid(this.parentHouse) && this.getRenderer().setAlpha(this.parentHouse.canPlaceItem(this) ? 1 : .5);
        }, e.prototype.dragStopped = function() {
            if (h.Util.isValid(this.parentHouse) ? this.parentHouse.content.add(this.gameObject) : this.gameObject.game.add.existing(this.gameObject), 
            !h.Util.isValid(this.parentHouse) || this.parentHouse.canPlaceItem(this)) {
                var t = this.getRenderer().getWorld();
                this.onItemDropped.dispatch(this, t.x, t.y), this.onItemMoved.dispatch(this, this.gameObject.x, this.gameObject.y, t.x, t.y), 
                this.canRevert = !0;
            } else if (this.canRevert) {
                var e = this.getRenderer();
                t = e.getWorld();
                this.onItemDropped.dispatch(this, t.x, t.y), e.resetToOrigin(), 
                e.setAlpha(1);
            } else this.gameObject.destroy();
        }, e.prototype.itemFocused = function() {
            this.onItemInputDown.dispatch();
        }, e.prototype.getOrientation = function() {
            return this.assetData.r > 0 && 1 == (1 & this.orientation) ? "horizontal" : "vertical";
        }, e;
    }(o.Component);
    e.HouseItem = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i, o, {
                isModal: !1
            }, [ "sfx-32" ]) || this;
            return r.currentCreature = a, r.originalCreatureCopy = n, r.queuePostCreateCallback(r.openTween.bind(r), function() {
                r.okayButton.onUpCallback = r.closeTween.bind(r), r.resultsTitle.setText(r.game.prodigy.gameContainer.Localizer.getText(r.getBannerLocKey()));
            }), r;
        }
        return n(e, t), e.prototype.create = function() {
            this.isRequired() ? (t.prototype.create.call(this), this.background.visible = !1, 
            o.Util.isValid(this.onCreateCallback) && this.onCreateCallback()) : this.close();
        }, e.prototype.setOnCreateCallback = function(t) {
            this.onCreateCallback = t;
        }, e.prototype.openTween = function() {
            if (o.Util.isValid(this.uiRoot)) {
                var t = this.uiRoot;
                t.pivot.x = t.width / 2, t.pivot.y = t.height / 2, t.x += t.pivot.x, 
                t.y += t.pivot.y, t.scale.x = .1, t.scale.y = .1, t.alpha = 0, this.game.add.tween(t.scale).to({
                    x: 1,
                    y: 1
                }, 200, Phaser.Easing.Back.Out, !0).frameBased = !1, this.game.add.tween(t).to({
                    alpha: 1
                }, 120, "Linear", !0).frameBased = !1;
            }
        }, e.prototype.closeTween = function() {
            if (o.Util.isValid(this.uiRoot)) {
                this.okayButton.setActive(!1);
                var t = this.game.add.tween(this.uiRoot).to({
                    alpha: 0
                }, 200, "Linear", !0);
                t.frameBased = !1, t.onComplete.add(this.close.bind(this));
            }
        }, e.prototype.setActionText = function(t) {
            this.actionText.setText(t), this.game.add.tween(this.actionText).from({
                x: this.actionText.x + 20,
                alpha: 0
            }, 300, Phaser.Easing.Quadratic.Out, !0);
        }, e;
    }(i(26).Menu);
    e.SummaryPopup = r;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(38), n = i(0), o = function() {
        function t(t) {
            this.game = t, n.Util.isValid(this.game.prodigy.player.data.storedMemberStars) || (this.game.prodigy.player.data.storedMemberStars = 0), 
            n.Util.isValid(this.game.prodigy.player.data.memberStarsExpirationDate) || (this.game.prodigy.player.data.memberStarsExpirationDate = this.getNextExpirationDate().getTime());
        }
        return t.prototype.getNextExpirationDate = function() {
            var t = new Date(), e = new Date();
            return 0 !== t.getDay() && e.setDate(t.getDate() + (7 - t.getDay())), 
            e.setSeconds(59), e.setMinutes(59), e.setHours(23), e.setMilliseconds(0), 
            e;
        }, t.prototype.hasExpired = function() {
            return this.getNextExpirationDate().getTime() > this.game.prodigy.player.data.memberStarsExpirationDate && this.getNumberOfStoredStars() > 0;
        }, t.prototype.giveStoredMemberStars = function(t) {
            this.game.prodigy.player.data.storedMemberStars += t, this.game.prodigy.player.data.memberStarsExpirationDate = this.getNextExpirationDate().getTime();
        }, t.prototype.obtainStoredMemberStars = function(t) {
            void 0 === t && (t = null);
            var e = this.game.prodigy.player.data.storedMemberStars;
            return this.game.prodigy.player.data.storedMemberStars = 0, e;
        }, t.prototype.doLoseStars = function() {
            return !!this.hasExpired() && (this.game.prodigy.player.data.storedMemberStars = 0, 
            this.game.prodigy.player.data.memberStarsExpirationDate = this.getNextExpirationDate().getTime(), 
            !0);
        }, t.prototype.getNumberOfLevels = function(t) {
            var e = this.game.prodigy.player.getStars(), i = this.game.prodigy.player.getLevel(), n = this.game.prodigy.player.data.storedMemberStars / t;
            return a.Creature.levelFromStars(e + n) - i;
        }, t.prototype.getNumberOfStoredStars = function() {
            var t = 0;
            return n.Util.isValid(this.game.prodigy.player.data.storedMemberStars) && (t = this.game.prodigy.player.data.storedMemberStars), 
            t;
        }, t.prototype.getStarJarTier = function() {
            return this.calculateStarJarTier(this.getNumberOfStoredStars());
        }, t.prototype.calculateStarJarTier = function(t) {
            return t > 900 ? 4 : t > 600 ? 3 : t > 300 ? 2 : t > 1 ? 1 : 0;
        }, t.prototype.updateExpirationDate = function() {
            this.game.prodigy.player.data.memberStarsExpirationDate = this.getNextExpirationDate().getTime();
        }, t;
    }();
    e.MemberStarController = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o, r = i(679), s = i(678), l = i(677), h = i(202), c = i(676), p = i(675), u = i(12), d = i(674), g = i(17), y = i(0);
    !function(t) {
        t[t.SeasonDetails = 0] = "SeasonDetails", t[t.SeasonLeaders = 1] = "SeasonLeaders", 
        t[t.ClassLeaders = 2] = "ClassLeaders", t[t.BattleRequests = 3] = "BattleRequests", 
        t[t.Bounties = 4] = "Bounties", t[t.Achievements = 5] = "Achievements", 
        t[t.BadgesMenu = 6] = "BadgesMenu";
    }(o = e.ESocialMenuType || (e.ESocialMenuType = {}));
    var f = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return n.mailCount = 0, n.content = null, n.shieldElement = null, n.mailCount = n.game.prodigy.mail.getMailCount(), 
            n.createMenu(a), n;
        }
        return n(e, t), e.prototype.createMenu = function(t) {
            this.addTransparent();
            var e = t, i = this.game.prodigy.gameContainer.Localizer, a = [ {
                icon: "challenge",
                top: i.getText("SOCIAL_MENU_SEASON_DETAILS_TOP"),
                bot: i.getText("SOCIAL_MENU_SEASON_DETAILS_BOT")
            }, {
                icon: "challenge",
                top: i.getText("SOCIAL_MENU_SEASON_LEADERS_TOP"),
                bot: i.getText("SOCIAL_MENU_SEASON_LEADERS_BOT")
            }, {
                icon: "leaderboard",
                top: i.getText("SOCIAL_MENU_SEASON_CLASS_LEADERS_TOP"),
                bot: i.getText("SOCIAL_MENU_SEASON_CLASS_LEADERS_BOT")
            } ], n = 40;
            this.mailCount > 0 && (a.push({
                icon: "battle-request",
                top: i.getText("SOCIAL_MENU_BATTLE_REQUESTS_BUTTON_TOP"),
                bot: i.getText("SOCIAL_MENU_BATTLE_REQUESTS_BUTTON_BOT"),
                hasIndicator: !0
            }), e = o.BattleRequests, n = -10), a = a.concat([ {
                icon: "bounty",
                top: "",
                bot: i.getText("SOCIAL_MENU_BOUNTIES_BUTTON_BOT")
            }, {
                icon: "award",
                top: "",
                bot: i.getText("SOCIAL_MENU_AWARDS_BUTTON_BOT")
            }, {
                icon: "badge",
                top: "",
                bot: i.getText("SOCIAL_MENU_BADGES_BUTTON_BOT"),
                hasIndicator: !0
            } ]), this.createBaseSetup(30, 16, "bases/backgroundwood", "", a, !0, null, {
                closeButton: {
                    key: "atlas-144",
                    frameName: "buttons/close",
                    offset: {
                        x: -20,
                        y: -23
                    }
                },
                banner: {
                    atlasID: 148,
                    frameName: "banner/banner",
                    width: 28
                },
                buttons: {
                    iconOffset: {
                        x: 60,
                        y: 0
                    },
                    offset: {
                        x: n + 120,
                        y: 0
                    }
                }
            }).children[2].visible = !1, this.shieldElement = this.game.prodigy.create.element(this, 0, 0), 
            this.shieldElement.setRenderState(!1);
            var r = this.game.prodigy.create.sprite(150, 25, "atlas-151", "pvp-shield", null);
            this.game.prodigy.create.font(r, 30, 87, i.getText("AWARDS_TITLE"), {
                width: 140,
                align: "center",
                size: 16
            }), this.shieldElement.add(r), this.create(), this.setMode(e);
            for (var s = 0; s < a.length; s++) {
                var l = a[s];
                if (l.hasIndicator) {
                    var h = this.game.prodigy.create.indicator(0, 0), c = this.buttons[s].sprite;
                    c.addChild(h), this.buttons[s].indicator = h, h.visible = !1;
                    var p = y.Util.getCenteredXY(h.width, 0, c.x, 0, c.width, 0);
                    h.x = p.x, h.y = c.y - h.height, h.addTween(), h.visible = "battle-request" === l.icon && this.mailCount > 0 || "badge" === l.icon && !this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(g.Breadcrumbs.FEATURE_BADGES, g.Breadcrumbs.BREADCRUMB_CLICKED_BADGES_BUTTON);
                }
            }
            this.game.prodigy.mail.addUpdateCallback(this.updateMailIndicator.bind(this));
        }, e.prototype.updateMailIndicator = function(t) {
            for (var e = 0; e < this.buttons.length; e++) {
                var i = this.buttons[e];
                "battle-request" === i.data.icon && y.Util.isValid(i.indicator) && (i.indicator.visible = t > 0);
            }
        }, e.prototype.setMode = function(e) {
            t.prototype.setMode.call(this, e), y.Util.isValid(this.content) && (this.content instanceof d.BadgesMenu ? this.content.close() : this.content.destroy(), 
            this.content = null);
            var i = this.mailCount > 0, a = i ? 0 : 1;
            e === o.SeasonDetails ? this.content = new c.SeasonDetails(this.game, this, 80, 200) : e === o.SeasonLeaders ? this.content = new p.SeasonLeaders(this.game, this, 80, 200) : i && e === o.BattleRequests ? this.content = new s.BattleRequestsPanel(this.game, this, 80, 200) : e + a === o.Bounties ? this.content = new l.BountiesPanel(this.game, this, 80, 200) : e + a === o.Achievements ? this.content = new r.AchievementsPanel(this.game, this, 80, 200) : e + a === o.BadgesMenu ? this.content = new d.BadgesMenu(this.game, this) : e === o.ClassLeaders && (this.content = new h.ClassLeadersPanel(this.game, this, 80, 200)), 
            this.page = e, e >= o.BattleRequests && (this.page += a);
        }, e.prototype.close = function() {
            y.Util.isValid(this.content) && this.content instanceof d.BadgesMenu && this.content.close(), 
            t.prototype.close.call(this);
        }, e;
    }(u.RenderMenu);
    e.Social = f;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(12), s = i(3), l = i(4), h = i(17), c = i(0), p = i(74), u = function(t) {
        function e(i, a, n, o) {
            void 0 === n && (n = !1), void 0 === o && (o = []);
            var r = t.call(this, i, a, 0, 0, i.prodigy.textureMenu) || this;
            r.disableClose = n, r.forceLock = o, r.game.prodigy.network.sendToyEvent("open-map", 4);
            for (var s = function(t) {
                var a = e.BUTTONS_CONFIG[t];
                if (!c.Util.isValid(a.localized) || !a.localized) {
                    c.Util.isValid(a.lockKey) && Object.defineProperty(a, "lock", {
                        get: function() {
                            return i.prodigy.gameContainer.Localizer.getText(a.lockKey);
                        }
                    }), Object.defineProperty(a, "name", {
                        get: function() {
                            return i.prodigy.gameContainer.Localizer.getText(a.nameKey);
                        }
                    }), Object.defineProperty(a, "summary", {
                        get: function() {
                            return i.prodigy.gameContainer.Localizer.getText(a.summaryKey);
                        }
                    }), a.msg = {};
                    var n = function(t) {
                        var e = Number(t);
                        Object.defineProperty(a.msg, t, {
                            get: function() {
                                return i.prodigy.gameContainer.Localizer.getText(a.msgKeys[e]);
                            }
                        });
                    };
                    for (var o in a.msgKeys) n(o);
                    a.localized = !0;
                }
            }, l = 0; l < e.BUTTONS_CONFIG.length; l++) s(l);
            return r.create(), r;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.addTransparent(), this.mapPanel = this.game.prodigy.create.panel(this, 180, 60, 23, 15, "shine2"), 
            this.mapPanel.setRenderState(!0), this.map = this.game.prodigy.create.element(this, this.mapPanel.x, this.mapPanel.y), 
            this.disableClose || this.game.prodigy.create.button(this.map, 1060 - this.mapPanel.x, 50 - this.mapPanel.y, "atlas-21", "close", this.close.bind(this)), 
            this.startLoad([ "atlas-27" ], this.showContent.bind(this)), c.Util.isValid(this.titanAsset) || this.game.broadcaster.addAppListener(s.ETitanEvents.GotTitans, this.gotTitanCallback.bind(this), this, "Titan"), 
            this.onClose = this.closeWorldMap.bind(this);
        }, e.prototype.closeWorldMap = function() {
            this.game.broadcaster.removeAppListener(s.ETitanEvents.GotTitans, this, "Titan");
        }, e.prototype.showContent = function() {
            this.mapPanel.add(this.game.prodigy.create.sprite(20, 20, "atlas-27", "map")), 
            this.process();
            for (var t = 0; t < e.BUTTONS_CONFIG.length; t++) {
                var i = e.BUTTONS_CONFIG[t], a = !1;
                (c.Util.isValid(i.item) && 0 === this.game.prodigy.player.backpack.hasItem(i.item.type, i.item.ID) || this.forceLock.indexOf(i.nameKey) > -1) && (a = !0);
                var n = void 0;
                if ((n = c.Util.isValid(i.animatedSprites) ? this.game.prodigy.create.button(this.map, i.x + 20, i.y + 20, "atlas-27", i.map, this.openLocation.bind(this, i, a), i.animatedSprites, i.animatedSpritePos) : this.game.prodigy.create.button(this.map, i.x + 20, i.y + 20, "atlas-27", i.map, this.openLocation.bind(this, i, a))).sprite.input.pixelPerfectOver = !0, 
                n.sprite.input.pixelPerfectClick = !0, a && (n.sprite.tint = 5592405), 
                c.Util.isValid(i.isNew) && i.isNew(this.game) && !a) {
                    var r = this.map.add(this.game.prodigy.create.sprite(i.iconX - this.map.x, i.iconY - this.map.y, "atlas-21", "exclamation"));
                    r.inputEnabled = !0, r.events = n.sprite.events, r.anchor.setTo(.5, .5), 
                    this.game.add.tween(r).to({
                        y: r.y - 10
                    }, 400, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0);
                }
            }
            var l = this.game.prodigy.player;
            if (l.tutorial.getMenuValue(14) < 1) {
                l.tutorial.setMenuValue(14, 0, 1);
                var h = this.game.prodigy.dialogue.create();
                h.setText(18), h.start("noot");
            }
            !c.Util.isValid(this.titanAsset) && this.forceLock.indexOf("DISABLE_TITAN") < 0 && this.game.prodigy.titansNetworkHandler.getTitans(), 
            this.game.broadcaster.broadcast(s.EFriendsListEvents.GetTotalFriendRequests, "FriendsList", [ !1 ]);
        }, e.prototype.openLocation = function(t, e) {
            if (e) !this.disableClose && "WORLD_THE_ACADEMY" !== t.nameKey && this.game.prodigy.classModeController.isClassMode([ 3 ]) ? this.game.prodigy.open.classModeMessage(this.game.prodigy.gameContainer.Localizer.getText(t.classCodeKey), null, null, t.name, t.classModeFrame, {
                isModal: !0
            }) : this.game.prodigy.open.message(t.lock, null, t.icon, t.name, null, {
                isModal: !1
            }); else if (c.Util.isValid(t.tag)) {
                var i = "";
                c.Util.isValid(this.titanAsset) && (i = this.titanAsset.zone + "-Titan"), 
                this.game.prodigy.open.zoneProgress(t, this.goTo.bind(this, t.target, t.clickEventName), this.goTo.bind(this, i, t.clickEventName));
            } else this.game.prodigy.open.messageBox(this.game.prodigy.gameContainer.Localizer.getText("WORLD_MAP_CONFIRM_TRAVEL", t.summary), this.goTo.bind(this, t.target, t.clickEventName), null, t.icon, t.name, null, {
                isModal: !1
            });
        }, e.prototype.goTo = function(t, e) {
            c.Util.isValid(e) && this.game.broadcaster.broadcast(e, "UI"), this.game.broadcaster.removeAppListener(s.ETitanEvents.GotTitans, this, "Titan"), 
            "Dorm" === t ? (this.game.state.states[t].player = this.game.prodigy.player, 
            this.game.prodigy.start(t)) : "Portal" === t ? p.ToyStore.openWebsite(this.game, "portal-btn") : t.indexOf("-") > 0 ? this.game.prodigy.world.teleport(t) : this.game.prodigy.start(t);
        }, e.prototype.gotTitanCallback = function(t) {
            var i;
            if (this.titanAsset = l.Items.getItem("titan", t.assetID).data, c.Util.isValid(this.titanAsset)) {
                for (var a = 0; a < e.BUTTONS_CONFIG.length; a++) if (this.titanAsset.zone === e.BUTTONS_CONFIG[a].zone) {
                    i = e.BUTTONS_CONFIG[a];
                    break;
                }
                if (c.Util.isValid(i)) {
                    var n = this.game.prodigy.create.sprite(i.iconX - this.map.x - 40, i.iconY - this.map.y, "atlas-145", "titan-notification");
                    this.map.add(n), n.inputEnabled = !0, n.events.onInputDown.add(this.openLocation.bind(this, i, !1)), 
                    n.anchor.setTo(.5, .5), this.game.add.tween(n).to({
                        y: n.y - 10
                    }, 400, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0);
                }
            }
            this.game.broadcaster.removeAppListener(s.ETitanEvents.GotTitans, this, "Titan");
        }, e.getZoneData = function(t) {
            return e.BUTTONS_CONFIG.find(function(e) {
                return e.zone === t;
            });
        }, e.BUTTONS_CONFIG = [ {
            nameKey: "WORLD_FIREFLY_FOREST",
            zone: "forest",
            tag: "forest",
            atlasID: 146,
            x: 170,
            y: 285,
            map: "btn-firefly",
            target: "forest-C8",
            summaryKey: "WORLD_FIREFLY_FOREST_DESC",
            lockKey: "WORLD_MAP_ZONE_LOCKED",
            msgKeys: {
                1: "WORLD_MAP_FOREST_QUEST_0",
                2: "WORLD_MAP_FOREST_QUEST_1",
                3: "WORLD_MAP_FOREST_QUEST_2",
                4: "WORLD_MAP_FOREST_QUEST_3",
                5: "WORLD_MAP_FOREST_QUEST_4",
                6: "WORLD_MAP_FOREST_QUEST_5",
                7: "WORLD_MAP_FOREST_QUEST_6",
                8: "WORLD_MAP_FOREST_QUEST_7",
                9: "WORLD_MAP_FOREST_QUEST_8",
                10: "WORLD_MAP_FOREST_QUEST_9",
                11: "WORLD_MAP_FOREST_QUEST_10",
                12: "WORLD_MAP_FOREST_QUEST_11"
            },
            iconX: 466,
            iconY: 419,
            isNew: function(t) {
                return !c.Util.isValid(t.prodigy.player.state.get("zone-forest"));
            }
        }, {
            nameKey: "WORLD_SHIVERCHILL_MOUNTAINS",
            zone: "shiverchill",
            tag: "shiverchill",
            atlasID: 149,
            x: 12,
            y: 76,
            map: "btn-shiverchill",
            target: "shiverchill-A10",
            summaryKey: "WORLD_SHIVERCHILL_MOUNTAINS_DESC",
            lockKey: "WORLD_MAP_ZONE_LOCKED",
            msgKeys: {
                1: "WORLD_MAP_SHIVERCHILL_QUEST_0",
                2: "WORLD_MAP_SHIVERCHILL_QUEST_1",
                3: "WORLD_MAP_SHIVERCHILL_QUEST_2",
                4: "WORLD_MAP_SHIVERCHILL_QUEST_3",
                5: "WORLD_MAP_SHIVERCHILL_QUEST_4",
                6: "WORLD_MAP_SHIVERCHILL_QUEST_5",
                7: "WORLD_MAP_SHIVERCHILL_QUEST_6",
                8: "WORLD_MAP_SHIVERCHILL_QUEST_7",
                9: "WORLD_MAP_SHIVERCHILL_QUEST_8",
                10: "WORLD_MAP_SHIVERCHILL_QUEST_9",
                11: "WORLD_MAP_SHIVERCHILL_QUEST_10",
                12: "WORLD_MAP_SHIVERCHILL_QUEST_11",
                13: "WORLD_MAP_SHIVERCHILL_QUEST_12",
                14: "WORLD_MAP_SHIVERCHILL_QUEST_13",
                15: "WORLD_MAP_SHIVERCHILL_QUEST_14"
            },
            iconX: 340,
            iconY: 260,
            isNew: function(t) {
                return !c.Util.isValid(t.prodigy.player.state.get("zone-shiverchill"));
            }
        }, {
            nameKey: "WORLD_SKYWATCH",
            zone: "skywatch",
            tag: "skywatch",
            atlasID: 150,
            x: 141,
            y: 16,
            map: "btn-skywatch",
            target: "skywatch-A1",
            summaryKey: "WORLD_SKYWATCH_DESC",
            lockKey: "WORLD_MAP_ZONE_LOCKED",
            msgKeys: {
                1: "WORLD_MAP_SKYWATCH_QUEST_0",
                2: "WORLD_MAP_SKYWATCH_QUEST_1",
                3: "WORLD_MAP_SKYWATCH_QUEST_2",
                4: "WORLD_MAP_SKYWATCH_QUEST_3",
                5: "WORLD_MAP_SKYWATCH_QUEST_4",
                6: "WORLD_MAP_SKYWATCH_QUEST_5",
                7: "WORLD_MAP_SKYWATCH_QUEST_6",
                8: "WORLD_MAP_SKYWATCH_QUEST_7",
                9: "WORLD_MAP_SKYWATCH_QUEST_8",
                10: "WORLD_MAP_SKYWATCH_QUEST_9",
                11: "WORLD_MAP_SKYWATCH_QUEST_10",
                12: "WORLD_MAP_SKYWATCH_QUEST_11",
                13: "WORLD_MAP_SKYWATCH_QUEST_12"
            },
            iconX: 562,
            iconY: 163,
            isNew: function(t) {
                return !c.Util.isValid(t.prodigy.player.state.get("zone-skywatch"));
            }
        }, {
            nameKey: "WORLD_DYNO_DIG_OASIS",
            zone: "dyno",
            x: 43,
            y: 347,
            map: "btn-dyno",
            target: "dyno-A0",
            summaryKey: "WORLD_DYNO_DIG_OASIS_DESC",
            lockKey: "WORLD_MAP_ZONE_LOCKED",
            classCodeKey: "WORLD_DYNO_DIG_OASIS_CLASS_MODE",
            classModeFrame: "popup-travel-dinodig",
            iconX: 287,
            iconY: 481,
            isNew: function(t) {
                return !1;
            }
        }, {
            nameKey: "WORLD_EPICS_SUBSPACE",
            x: 670,
            y: 19,
            map: "btn-portal",
            target: "toyzone-B1",
            summaryKey: "WORLD_EPICS_SUBSPACE_DESC",
            lockKey: "WORLD_MAP_ZONE_LOCKED",
            iconX: 940,
            iconY: 150,
            animatedSprites: [ "tz-1", "tz-2", "tz-3", "tz-4" ],
            animatedSpritePos: {
                x: 31,
                y: -16
            },
            isNew: function(t) {
                try {
                    return !c.Util.isValid(t.prodigy.player.state.get("zone-toyzone-0"));
                } catch (t) {
                    return !0;
                }
            }
        }, {
            nameKey: "WORLD_BONFIRE_SPIRE",
            zone: "bonfire_spire",
            tag: "bonfire",
            atlasID: 147,
            x: 546,
            y: 86,
            map: "btn-bonfire",
            target: "bonfire_spire-B1",
            summaryKey: "WORLD_BONFIRE_SPIRE_DESC",
            lockKey: "WORLD_MAP_ZONE_LOCKED",
            msgKeys: {
                1: "WORLD_MAP_BONFIRE_QUEST_0",
                2: "WORLD_MAP_BONFIRE_QUEST_1",
                3: "WORLD_MAP_BONFIRE_QUEST_2",
                4: "WORLD_MAP_BONFIRE_QUEST_3",
                5: "WORLD_MAP_BONFIRE_QUEST_4",
                6: "WORLD_MAP_BONFIRE_QUEST_5",
                7: "WORLD_MAP_BONFIRE_QUEST_6",
                8: "WORLD_MAP_BONFIRE_QUEST_7",
                9: "WORLD_MAP_BONFIRE_QUEST_8",
                10: "WORLD_MAP_BONFIRE_QUEST_9",
                11: "WORLD_MAP_BONFIRE_QUEST_10",
                12: "WORLD_MAP_BONFIRE_QUEST_11",
                13: "WORLD_MAP_BONFIRE_QUEST_12",
                14: "WORLD_MAP_BONFIRE_QUEST_13"
            },
            iconX: 836,
            iconY: 232,
            isNew: function(t) {
                return !c.Util.isValid(t.prodigy.player.state.get("zone-bonfire_spire"));
            }
        }, {
            nameKey: "WORLD_SHIPWRECK_SHORE",
            zone: "shipwreck_shore",
            tag: "shipwreck",
            atlasID: 148,
            x: 717,
            y: 102,
            map: "btn-pirate",
            icon: "zone-water",
            target: "shipwreck_shore-B12",
            summaryKey: "WORLD_SHIPWRECK_SHORE_DESC",
            lockKey: "WORLD_MAP_ZONE_LOCKED",
            msgKeys: {
                1: "WORLD_MAP_SHIPWRECK_QUEST_0",
                2: "WORLD_MAP_SHIPWRECK_QUEST_1",
                3: "WORLD_MAP_SHIPWRECK_QUEST_2",
                4: "WORLD_MAP_SHIPWRECK_QUEST_3",
                5: "WORLD_MAP_SHIPWRECK_QUEST_4",
                6: "WORLD_MAP_SHIPWRECK_QUEST_5",
                7: "WORLD_MAP_SHIPWRECK_QUEST_6",
                8: "WORLD_MAP_SHIPWRECK_QUEST_7",
                9: "WORLD_MAP_SHIPWRECK_QUEST_8",
                10: "WORLD_MAP_SHIPWRECK_QUEST_9",
                11: "WORLD_MAP_SHIPWRECK_QUEST_10"
            },
            iconX: 1004,
            iconY: 289,
            isNew: function(t) {
                return !c.Util.isValid(t.prodigy.player.state.get("zone-shipwreck_shore"));
            }
        }, {
            nameKey: "WORLD_DARK_TOWER",
            x: 598,
            y: 242,
            map: "btn-tower",
            target: "darktower-A1",
            summaryKey: "WORLD_DARK_TOWER_DESC",
            lockKey: "WORLD_MAP_ZONE_LOCKED",
            iconX: 886,
            iconY: 483,
            isNew: function(t) {
                return 0 === t.prodigy.player.getTowerProgress();
            }
        }, {
            nameKey: "WORLD_LAMPLIGHT_TOWN",
            zone: "lamplight",
            x: 315,
            y: 395,
            map: "btn-town",
            target: "lamplight-B3",
            summaryKey: "WORLD_LAMPLIGHT_TOWN_DESC",
            classCodeKey: "WORLD_LAMPLIGHT_TOWN_CLASS_MODE",
            classModeFrame: "popup-travel-lamplight",
            lockKey: "WORLD_MAP_ZONE_LOCKED",
            iconX: 641,
            iconY: 558,
            isNew: function(t) {
                return !c.Util.isValid(t.prodigy.player.state.get("zone-lamplight"));
            }
        }, {
            nameKey: "WORLD_THE_ACADEMY",
            x: 343,
            y: 134,
            map: "btn-academy",
            target: "lamplight-B1",
            summaryKey: "WORLD_THE_ACADEMY_DESC",
            lockKey: "WORLD_MAP_ACADEMY_LOCKED",
            item: {
                type: "key",
                ID: 99
            }
        }, {
            nameKey: "WORLD_YOUR_HOUSE",
            zone: "house",
            x: 200,
            y: 498,
            map: "btn-house",
            target: "house-suburbs",
            summaryKey: "WORLD_YOUR_HOUSE_DESC",
            lockKey: "WORLD_MAP_ZONE_LOCKED",
            classCodeKey: "WORLD_YOUR_HOUSE_CLASS_MODE",
            classModeFrame: "popup-travel-home",
            clickEventName: s.EHouseEvents.ClickedHouseIcon,
            iconX: 420,
            iconY: 558,
            isNew: function(t) {
                return t.prodigy.player.hasCompletedTutorial() && !(t.prodigy.breadcrumbManager.isBreadcrumbComplete(h.Breadcrumbs.FEATURE_HOUSE_VISITING, h.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE) && t.prodigy.breadcrumbManager.isBreadcrumbComplete(h.Breadcrumbs.FEATURE_HOUSE_MOVING, h.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE));
            }
        }, {
            nameKey: "WORLD_LOST_ISLAND",
            x: 740,
            y: 275,
            map: "btn-activity",
            target: "activity_zone-B3",
            summaryKey: "WORLD_LOST_ISLAND_DESC",
            lockKey: "WORLD_MAP_ZONE_LOCKED",
            iconX: 1008,
            iconY: 394,
            isNew: function(t) {
                return !c.Util.isValid(t.prodigy.player.state.get("zone-activity_zone"));
            }
        } ], e;
    }(r.RenderMenu);
    e.WorldMap = u;
}, function(t, e, i) {
    var a = i(82), n = i(728), o = i(726);
    t.exports = function(t, e) {
        return o(n(t, e, a), t + "");
    };
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(730), n = i(2), o = i(49), r = i(22), s = i(249), l = i(48), h = i(134), c = i(133), p = i(232), u = i(231), d = i(132), g = i(130), y = i(129), f = i(38), m = i(15), _ = i(13), v = i(0), E = function() {
        function t(t) {
            this.game = null, this.game = t;
        }
        return t.prototype.start = function(e, i, n, o, r, s) {
            void 0 === s && (s = null);
            var l = this.game.state.states.Battle, h = a({}, t.MOD_DEFAULTS, e), c = v.Util.isValid(s) ? s : this.getTeam(this.game.prodigy.player), p = this.getBattleLevel(c);
            l.teamB = this.initBattle(h, p, c), l.teamA = c, l.drops = h.drops, 
            l.mods = h, l.runAwayCallback = i, l.victoryCallback = n, l.defeatCallback = o, 
            l.defeatZone = v.Util.isValid(r) ? r : "house", l.screenName = h.screen, 
            this.game.prodigy.start("Battle", {
                assets: t.getAssets(l.screenName, l.teamA, l.teamB)
            }), this.game.prodigy.network.sendZoneEvent("battle-start");
        }, t.prototype.startEpicArena = function(t, e, i) {
            var a = this;
            this.game.prodigy.player.healTeamMember(n.GameConstants.MAX_SAFE_INTEGER, t, null);
            var o = "";
            switch (t) {
              case 125:
                o = "battle-skywatch-inside";
                break;

              case 133:
                o = "battle-skywatch-outside";
                break;

              case 126:
                o = "battle-forest-outside";
                break;

              case 127:
                o = "battle-shiverchill-inside";
                break;

              case 128:
              case 131:
                o = "battle-shipwreck-underwater";
                break;

              case 132:
                o = "battle-skywatch-outside";
                break;

              case 129:
                o = "battle-bonfire-inside";
                break;

              default:
                o = "battle-bonfire-outside";
            }
            for (var r = {
                catch: !1,
                run: !1,
                screen: o,
                epicArena: 1,
                switchDisabled: !0,
                invincible: !1,
                starMod: 1,
                challengeLevel: e,
                getAllRewards: i,
                difficulty: 1
            }, s = [], l = this.game.prodigy.player.kennel.getPets(), h = 0; h < l.length; h++) if (l[h].ID === t) {
                s.push(new m.Monster(this.game, l[h]));
                break;
            }
            return 0 === s.length || s[0].getCurrentHearts() <= 0 ? (v.Util.log("The player do not have an valid EPIC to start this battle!", v.Util.ERROR), 
            !1) : (this.start(r, function() {
                a.endEpicArena(t, !0);
            }, function() {
                a.endEpicArena(t);
            }, function() {
                a.endEpicArena(t, !1);
            }, "epicId", s), !0);
        }, t.prototype.chooseAction = function(t, e, i, a, n, o, r, s) {
            var l = e.source.getAttacks();
            if (l.length <= 0) s(); else {
                if (Math.random() < t / 10 * .8) {
                    for (var h = null, c = this.battleScore(e, i, !0, t), p = 0; p < a.getTeamSize(); p++) if (a.team[p] !== e && a.team[p].source.getCurrentHearts() > 0) {
                        var u = this.battleScore(a.team[p], i, !1);
                        c < u && (h = p, c = u);
                    }
                    if (v.Util.isValid(h)) return void r(s, h);
                }
                var d = this.game.prodigy.attacks.getBestAttack(l, i.source, 1 - t);
                if (v.Util.isValid(d)) {
                    if (e.source.getCurrentHearts() / e.source.getMaxHearts() < .25 && Math.random() < t) {
                        var g = this.game.prodigy.attacks.getHealingAttack(l);
                        v.Util.isValid(g) && (d = g);
                    }
                    var y = .25 - .25 * t + e.source.modifiers.miss;
                    o(e, i, s, d, Math.random() < y);
                } else s();
            }
        }, t.prototype.getBattleLevel = function(t) {
            void 0 === t && (t = null);
            var e = 0;
            if (v.Util.isValid(t)) for (var i = 0; i < t.length; i++) e += t[i].getLevel();
            return Math.floor(e / t.length);
        }, t.prototype.getTeam = function(t) {
            return t.kennel.getTeam().filter(function(t) {
                return v.Util.isValid(t);
            });
        }, t.prototype.battleScore = function(t, e, i, a) {
            var n = this.game.prodigy.attacks.getBestAttack(t.source.getAttacks(), e.source, 1 - a), o = this.game.prodigy.attacks.getBestAttack(t.source.getAttacks(), t.source, 1 - a), r = this.game.prodigy.attacks.calculateDamage(n, null, e.source, 0, 1);
            if (0 === r) return Number.NEGATIVE_INFINITY;
            var s = this.game.prodigy.attacks.calculateDamage(o, null, t.source, 0, 1);
            if (0 === s) return Number.POSITIVE_INFINITY;
            var l = t.source.getMaxHearts();
            return i || (l = Math.max(l - s, 0)), l / s - t.source.getMaxHearts() / r;
        }, t.prototype.chooseRandomMonster = function(t) {
            for (var e = 0, i = 0; i < t.length; i++) e += 1 / Math.max(1, v.Util.isValid(t[i].R) ? t[i].R : s.Monsters.getEncounterRate(t[i].ID));
            var a = Math.random() * e;
            e = 0;
            for (i = 0; i < t.length; i++) if (a < (e += 1 / Math.max(1, v.Util.isValid(t[i].R) ? t[i].R : s.Monsters.getEncounterRate(t[i].ID)))) return v.Util.copyObject(t[i]);
            return {
                ID: 1
            };
        }, t.prototype.initBattle = function(t, e, i) {
            var a = [];
            if (v.Util.isValid(t.boss)) {
                var n = v.Util.isValid(t.boss.heartsCurveType) ? t.boss.heartsCurveType : "A", o = v.Util.isValid(t.boss.levelOffset) ? t.boss.levelOffset : 0;
                v.Util.isValid(t.boss.maxHP) || (t.boss.maxHP = 4 * (f.Creature.getHeartsFromCurve(n, 1, Math.min(100, e + o + 1)) + 12));
                var r = {
                    forest: p.ForestBoss,
                    shiverchill: u.IceWyrmBoss,
                    skywatch: c.CloudBoss,
                    bonfire: h.BonfireBoss,
                    shipwreck: d.OldOneBoss,
                    pippet: g.PippetBoss,
                    titan: y.TitanBoss
                };
                v.Util.isValid(t.boss.tag) ? a.push(new r[t.boss.tag](this.game, t.boss)) : a.push(new l.Boss(this.game, t.boss));
            }
            if (v.Util.isValid(t.encounter)) {
                var s = new m.Monster(this.game, this.chooseOpponent(t.encounter)), _ = Math.max(1, e - Math.floor(6 * Math.random()));
                v.Util.isValid(t.level) && (_ = t.level), v.Util.isValid(t.maxLevel) && (_ < t.minLevel && (_ = t.minLevel), 
                _ > t.maxLevel && (_ = t.maxLevel)), s.generate(v.Util.isValid(t.level) ? t.level : _, 0), 
                a.push(s);
            }
            if (v.Util.isValid(t.pets)) for (var E = 0; E < t.pets.length; E++) {
                var b = t.pets[E];
                v.Util.isValid(b.level) && !t.scale || (b.level = e), a.push(new m.Monster(this.game, b));
            }
            a.length > 3 && (a.length = 3);
            var O = a.length;
            if (v.Util.isValid(t.opponent)) for (E = 0; E < t.opponent.length && E < 3; E++) t.scale && (v.Util.isValid(t.opponent[E].data) || (t.opponent[E].data = {}), 
            t.opponent[E].data.level = this.game.prodigy.player.getLevel()), O >= 3 ? a[O - E] = this.initPlayerOpponent(t.opponent[E]) : (a.push(this.initPlayerOpponent(t.opponent[E])), 
            O += 1);
            if (v.Util.isValid(t.teamModifiers)) for (E = 0; E < a.length; E++) for (var T in t.teamModifiers) a[E].updateModifier(T, t.teamModifiers[T]);
            return a;
        }, t.getAssets = function(t, e, i) {
            for (var a = [ t, "atlas-17", "atlas-16", "bgm-2", "bgm-1" ], n = 0; n < e.length; n++) e[n] instanceof _.Player || (e[n] instanceof m.Monster ? a = a.concat(r.MonsterContainer.getAssets(e[n])) : e[n] instanceof l.Boss && (a = a.concat(o.BossContainer.getAssets(e[n]))));
            for (n = 0; n < i.length; n++) i[n] instanceof _.Player || (i[n] instanceof m.Monster ? a = a.concat(r.MonsterContainer.getAssets(i[n])) : i[n] instanceof l.Boss && (a = a.concat(o.BossContainer.getAssets(i[n]))));
            return a;
        }, t.prototype.initPlayerOpponent = function(t) {
            var e = new _.Player(this.game);
            return e.init(t), e;
        }, t.prototype.endEpicArena = function(t, e) {
            var i = this;
            void 0 === e && (e = !1);
            var a = "toyzone-B1";
            switch (t) {
              case 125:
              case 126:
              case 127:
              case 128:
              case 129:
                a = "toyzone-B2";
                break;

              case 130:
              case 131:
              case 132:
              case 133:
                a = "toyzone-A1";
            }
            for (var o = {
                x: void 0,
                y: void 0
            }, r = a.split("-"), s = this.game.prodigy.world.zones[r[0]].maps[r[1]], l = 0; l < s.TOY_SPAWN_DATA.length; ++l) if (s.TOY_SPAWN_DATA[l].ID === t) {
                o = s.TOY_SPAWN_DATA[l].path;
                break;
            }
            e ? this.game.prodigy.world.teleport(a, o.x, o.y) : this.game.prodigy.player.healTeamMember(n.GameConstants.MAX_SAFE_INTEGER, t, function() {
                i.game.prodigy.world.teleport(a, o.x, o.y);
            });
        }, t.prototype.chooseOpponent = function(t) {
            for (var e = 0, i = 0; i < t.length; i++) e += v.Util.isValid(t[i].R) ? t[i].R : s.Monsters.getEncounterRate(t[i].ID);
            var a = Math.random() * e;
            e = 0;
            for (i = 0; i < t.length; i++) if (a < (e += v.Util.isValid(t[i].R) ? t[i].R : s.Monsters.getEncounterRate(t[i].ID))) return v.Util.copyObject(t[i]);
            return {
                ID: 1
            };
        }, t.MOD_DEFAULTS = {
            invincible: !1,
            scale: !1,
            run: !0,
            difficulty: 3,
            dropsDisabled: !1,
            starMod: 1,
            catch: !0,
            switchDisabled: !1,
            itemUsed: !1,
            drops: [],
            encounter: null,
            opponent: null,
            boss: null,
            pets: null,
            dmgMod: 0,
            events: [],
            intro: null,
            allowMember: !0,
            level: null,
            unique: !1,
            potionMode: !0
        }, t;
    }();
    e.BattleController = E;
}, function(t, e, i) {
    (function(t, a) {
        var n;
        (function() {
            var o, r = 200, s = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.", l = "Expected a function", h = "__lodash_hash_undefined__", c = 500, p = "__lodash_placeholder__", u = 1, d = 2, g = 4, y = 1, f = 2, m = 1, _ = 2, v = 4, E = 8, b = 16, O = 32, T = 64, A = 128, I = 256, w = 512, C = 30, S = "...", P = 800, D = 16, L = 1, x = 2, M = 1 / 0, N = 9007199254740991, U = 17976931348623157e292, k = NaN, R = 4294967295, B = R - 1, G = R >>> 1, V = [ [ "ary", A ], [ "bind", m ], [ "bindKey", _ ], [ "curry", E ], [ "curryRight", b ], [ "flip", w ], [ "partial", O ], [ "partialRight", T ], [ "rearg", I ] ], H = "[object Arguments]", F = "[object Array]", j = "[object AsyncFunction]", z = "[object Boolean]", W = "[object Date]", K = "[object DOMException]", Y = "[object Error]", q = "[object Function]", Q = "[object GeneratorFunction]", X = "[object Map]", Z = "[object Number]", J = "[object Null]", $ = "[object Object]", tt = "[object Proxy]", et = "[object RegExp]", it = "[object Set]", at = "[object String]", nt = "[object Symbol]", ot = "[object Undefined]", rt = "[object WeakMap]", st = "[object WeakSet]", lt = "[object ArrayBuffer]", ht = "[object DataView]", ct = "[object Float32Array]", pt = "[object Float64Array]", ut = "[object Int8Array]", dt = "[object Int16Array]", gt = "[object Int32Array]", yt = "[object Uint8Array]", ft = "[object Uint8ClampedArray]", mt = "[object Uint16Array]", _t = "[object Uint32Array]", vt = /\b__p \+= '';/g, Et = /\b(__p \+=) '' \+/g, bt = /(__e\(.*?\)|\b__t\)) \+\n'';/g, Ot = /&(?:amp|lt|gt|quot|#39);/g, Tt = /[&<>"']/g, At = RegExp(Ot.source), It = RegExp(Tt.source), wt = /<%-([\s\S]+?)%>/g, Ct = /<%([\s\S]+?)%>/g, St = /<%=([\s\S]+?)%>/g, Pt = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Dt = /^\w*$/, Lt = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, xt = /[\\^$.*+?()[\]{}|]/g, Mt = RegExp(xt.source), Nt = /^\s+|\s+$/g, Ut = /^\s+/, kt = /\s+$/, Rt = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, Bt = /\{\n\/\* \[wrapped with (.+)\] \*/, Gt = /,? & /, Vt = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, Ht = /\\(\\)?/g, Ft = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, jt = /\w*$/, zt = /^[-+]0x[0-9a-f]+$/i, Wt = /^0b[01]+$/i, Kt = /^\[object .+?Constructor\]$/, Yt = /^0o[0-7]+$/i, qt = /^(?:0|[1-9]\d*)$/, Qt = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, Xt = /($^)/, Zt = /['\n\r\u2028\u2029\\]/g, Jt = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff", $t = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", te = "[\\ud800-\\udfff]", ee = "[" + $t + "]", ie = "[" + Jt + "]", ae = "\\d+", ne = "[\\u2700-\\u27bf]", oe = "[a-z\\xdf-\\xf6\\xf8-\\xff]", re = "[^\\ud800-\\udfff" + $t + ae + "\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]", se = "\\ud83c[\\udffb-\\udfff]", le = "[^\\ud800-\\udfff]", he = "(?:\\ud83c[\\udde6-\\uddff]){2}", ce = "[\\ud800-\\udbff][\\udc00-\\udfff]", pe = "[A-Z\\xc0-\\xd6\\xd8-\\xde]", ue = "(?:" + oe + "|" + re + ")", de = "(?:" + pe + "|" + re + ")", ge = "(?:" + ie + "|" + se + ")" + "?", ye = "[\\ufe0e\\ufe0f]?" + ge + ("(?:\\u200d(?:" + [ le, he, ce ].join("|") + ")[\\ufe0e\\ufe0f]?" + ge + ")*"), fe = "(?:" + [ ne, he, ce ].join("|") + ")" + ye, me = "(?:" + [ le + ie + "?", ie, he, ce, te ].join("|") + ")", _e = RegExp("[']", "g"), ve = RegExp(ie, "g"), Ee = RegExp(se + "(?=" + se + ")|" + me + ye, "g"), be = RegExp([ pe + "?" + oe + "+(?:['](?:d|ll|m|re|s|t|ve))?(?=" + [ ee, pe, "$" ].join("|") + ")", de + "+(?:['](?:D|LL|M|RE|S|T|VE))?(?=" + [ ee, pe + ue, "$" ].join("|") + ")", pe + "?" + ue + "+(?:['](?:d|ll|m|re|s|t|ve))?", pe + "+(?:['](?:D|LL|M|RE|S|T|VE))?", "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", ae, fe ].join("|"), "g"), Oe = RegExp("[\\u200d\\ud800-\\udfff" + Jt + "\\ufe0e\\ufe0f]"), Te = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, Ae = [ "Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout" ], Ie = -1, we = {};
            we[ct] = we[pt] = we[ut] = we[dt] = we[gt] = we[yt] = we[ft] = we[mt] = we[_t] = !0, 
            we[H] = we[F] = we[lt] = we[z] = we[ht] = we[W] = we[Y] = we[q] = we[X] = we[Z] = we[$] = we[et] = we[it] = we[at] = we[rt] = !1;
            var Ce = {};
            Ce[H] = Ce[F] = Ce[lt] = Ce[ht] = Ce[z] = Ce[W] = Ce[ct] = Ce[pt] = Ce[ut] = Ce[dt] = Ce[gt] = Ce[X] = Ce[Z] = Ce[$] = Ce[et] = Ce[it] = Ce[at] = Ce[nt] = Ce[yt] = Ce[ft] = Ce[mt] = Ce[_t] = !0, 
            Ce[Y] = Ce[q] = Ce[rt] = !1;
            var Se = {
                "\\": "\\",
                "'": "'",
                "\n": "n",
                "\r": "r",
                "\u2028": "u2028",
                "\u2029": "u2029"
            }, Pe = parseFloat, De = parseInt, Le = "object" == typeof t && t && t.Object === Object && t, xe = "object" == typeof self && self && self.Object === Object && self, Me = Le || xe || Function("return this")(), Ne = "object" == typeof e && e && !e.nodeType && e, Ue = Ne && "object" == typeof a && a && !a.nodeType && a, ke = Ue && Ue.exports === Ne, Re = ke && Le.process, Be = function() {
                try {
                    var t = Ue && Ue.require && Ue.require("util").types;
                    return t || Re && Re.binding && Re.binding("util");
                } catch (t) {}
            }(), Ge = Be && Be.isArrayBuffer, Ve = Be && Be.isDate, He = Be && Be.isMap, Fe = Be && Be.isRegExp, je = Be && Be.isSet, ze = Be && Be.isTypedArray;
            function We(t, e, i) {
                switch (i.length) {
                  case 0:
                    return t.call(e);

                  case 1:
                    return t.call(e, i[0]);

                  case 2:
                    return t.call(e, i[0], i[1]);

                  case 3:
                    return t.call(e, i[0], i[1], i[2]);
                }
                return t.apply(e, i);
            }
            function Ke(t, e, i, a) {
                for (var n = -1, o = null == t ? 0 : t.length; ++n < o; ) {
                    var r = t[n];
                    e(a, r, i(r), t);
                }
                return a;
            }
            function Ye(t, e) {
                for (var i = -1, a = null == t ? 0 : t.length; ++i < a && !1 !== e(t[i], i, t); );
                return t;
            }
            function qe(t, e) {
                for (var i = null == t ? 0 : t.length; i-- && !1 !== e(t[i], i, t); );
                return t;
            }
            function Qe(t, e) {
                for (var i = -1, a = null == t ? 0 : t.length; ++i < a; ) if (!e(t[i], i, t)) return !1;
                return !0;
            }
            function Xe(t, e) {
                for (var i = -1, a = null == t ? 0 : t.length, n = 0, o = []; ++i < a; ) {
                    var r = t[i];
                    e(r, i, t) && (o[n++] = r);
                }
                return o;
            }
            function Ze(t, e) {
                return !!(null == t ? 0 : t.length) && si(t, e, 0) > -1;
            }
            function Je(t, e, i) {
                for (var a = -1, n = null == t ? 0 : t.length; ++a < n; ) if (i(e, t[a])) return !0;
                return !1;
            }
            function $e(t, e) {
                for (var i = -1, a = null == t ? 0 : t.length, n = Array(a); ++i < a; ) n[i] = e(t[i], i, t);
                return n;
            }
            function ti(t, e) {
                for (var i = -1, a = e.length, n = t.length; ++i < a; ) t[n + i] = e[i];
                return t;
            }
            function ei(t, e, i, a) {
                var n = -1, o = null == t ? 0 : t.length;
                for (a && o && (i = t[++n]); ++n < o; ) i = e(i, t[n], n, t);
                return i;
            }
            function ii(t, e, i, a) {
                var n = null == t ? 0 : t.length;
                for (a && n && (i = t[--n]); n--; ) i = e(i, t[n], n, t);
                return i;
            }
            function ai(t, e) {
                for (var i = -1, a = null == t ? 0 : t.length; ++i < a; ) if (e(t[i], i, t)) return !0;
                return !1;
            }
            var ni = pi("length");
            function oi(t, e, i) {
                var a;
                return i(t, function(t, i, n) {
                    if (e(t, i, n)) return a = i, !1;
                }), a;
            }
            function ri(t, e, i, a) {
                for (var n = t.length, o = i + (a ? 1 : -1); a ? o-- : ++o < n; ) if (e(t[o], o, t)) return o;
                return -1;
            }
            function si(t, e, i) {
                return e == e ? function(t, e, i) {
                    var a = i - 1, n = t.length;
                    for (;++a < n; ) if (t[a] === e) return a;
                    return -1;
                }(t, e, i) : ri(t, hi, i);
            }
            function li(t, e, i, a) {
                for (var n = i - 1, o = t.length; ++n < o; ) if (a(t[n], e)) return n;
                return -1;
            }
            function hi(t) {
                return t != t;
            }
            function ci(t, e) {
                var i = null == t ? 0 : t.length;
                return i ? gi(t, e) / i : k;
            }
            function pi(t) {
                return function(e) {
                    return null == e ? o : e[t];
                };
            }
            function ui(t) {
                return function(e) {
                    return null == t ? o : t[e];
                };
            }
            function di(t, e, i, a, n) {
                return n(t, function(t, n, o) {
                    i = a ? (a = !1, t) : e(i, t, n, o);
                }), i;
            }
            function gi(t, e) {
                for (var i, a = -1, n = t.length; ++a < n; ) {
                    var r = e(t[a]);
                    r !== o && (i = i === o ? r : i + r);
                }
                return i;
            }
            function yi(t, e) {
                for (var i = -1, a = Array(t); ++i < t; ) a[i] = e(i);
                return a;
            }
            function fi(t) {
                return function(e) {
                    return t(e);
                };
            }
            function mi(t, e) {
                return $e(e, function(e) {
                    return t[e];
                });
            }
            function _i(t, e) {
                return t.has(e);
            }
            function vi(t, e) {
                for (var i = -1, a = t.length; ++i < a && si(e, t[i], 0) > -1; );
                return i;
            }
            function Ei(t, e) {
                for (var i = t.length; i-- && si(e, t[i], 0) > -1; );
                return i;
            }
            var bi = ui({
                "": "A",
                "": "A",
                "": "A",
                "": "A",
                "": "A",
                "": "A",
                "": "a",
                "": "a",
                "": "a",
                "": "a",
                "": "a",
                "": "a",
                "": "C",
                "": "c",
                "": "D",
                "": "d",
                "": "E",
                "": "E",
                "": "E",
                "": "E",
                "": "e",
                "": "e",
                "": "e",
                "": "e",
                "": "I",
                "": "I",
                "": "I",
                "": "I",
                "": "i",
                "": "i",
                "": "i",
                "": "i",
                "": "N",
                "": "n",
                "": "O",
                "": "O",
                "": "O",
                "": "O",
                "": "O",
                "": "O",
                "": "o",
                "": "o",
                "": "o",
                "": "o",
                "": "o",
                "": "o",
                "": "U",
                "": "U",
                "": "U",
                "": "U",
                "": "u",
                "": "u",
                "": "u",
                "": "u",
                "": "Y",
                "": "y",
                "": "y",
                "": "Ae",
                "": "ae",
                "": "Th",
                "": "th",
                "": "ss",
                "": "A",
                "": "A",
                "": "A",
                "": "a",
                "": "a",
                "": "a",
                "": "C",
                "": "C",
                "": "C",
                "": "C",
                "": "c",
                "": "c",
                "": "c",
                "": "c",
                "": "D",
                "": "D",
                "": "d",
                "": "d",
                "": "E",
                "": "E",
                "": "E",
                "": "E",
                "": "E",
                "": "e",
                "": "e",
                "": "e",
                "": "e",
                "": "e",
                "": "G",
                "": "G",
                "": "G",
                "": "G",
                "": "g",
                "": "g",
                "": "g",
                "": "g",
                "": "H",
                "": "H",
                "": "h",
                "": "h",
                "": "I",
                "": "I",
                "": "I",
                "": "I",
                "": "I",
                "": "i",
                "": "i",
                "": "i",
                "": "i",
                "": "i",
                "": "J",
                "": "j",
                "": "K",
                "": "k",
                "": "k",
                "": "L",
                "": "L",
                "": "L",
                "": "L",
                "": "L",
                "": "l",
                "": "l",
                "": "l",
                "": "l",
                "": "l",
                "": "N",
                "": "N",
                "": "N",
                "": "N",
                "": "n",
                "": "n",
                "": "n",
                "": "n",
                "": "O",
                "": "O",
                "": "O",
                "": "o",
                "": "o",
                "": "o",
                "": "R",
                "": "R",
                "": "R",
                "": "r",
                "": "r",
                "": "r",
                "": "S",
                "": "S",
                "": "S",
                "": "S",
                "": "s",
                "": "s",
                "": "s",
                "": "s",
                "": "T",
                "": "T",
                "": "T",
                "": "t",
                "": "t",
                "": "t",
                "": "U",
                "": "U",
                "": "U",
                "": "U",
                "": "U",
                "": "U",
                "": "u",
                "": "u",
                "": "u",
                "": "u",
                "": "u",
                "": "u",
                "": "W",
                "": "w",
                "": "Y",
                "": "y",
                "": "Y",
                "": "Z",
                "": "Z",
                "": "Z",
                "": "z",
                "": "z",
                "": "z",
                "": "IJ",
                "": "ij",
                "": "Oe",
                "": "oe",
                "": "'n",
                "": "s"
            }), Oi = ui({
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;"
            });
            function Ti(t) {
                return "\\" + Se[t];
            }
            function Ai(t) {
                return Oe.test(t);
            }
            function Ii(t) {
                var e = -1, i = Array(t.size);
                return t.forEach(function(t, a) {
                    i[++e] = [ a, t ];
                }), i;
            }
            function wi(t, e) {
                return function(i) {
                    return t(e(i));
                };
            }
            function Ci(t, e) {
                for (var i = -1, a = t.length, n = 0, o = []; ++i < a; ) {
                    var r = t[i];
                    r !== e && r !== p || (t[i] = p, o[n++] = i);
                }
                return o;
            }
            function Si(t, e) {
                return "__proto__" == e ? o : t[e];
            }
            function Pi(t) {
                var e = -1, i = Array(t.size);
                return t.forEach(function(t) {
                    i[++e] = t;
                }), i;
            }
            function Di(t) {
                var e = -1, i = Array(t.size);
                return t.forEach(function(t) {
                    i[++e] = [ t, t ];
                }), i;
            }
            function Li(t) {
                return Ai(t) ? function(t) {
                    var e = Ee.lastIndex = 0;
                    for (;Ee.test(t); ) ++e;
                    return e;
                }(t) : ni(t);
            }
            function xi(t) {
                return Ai(t) ? function(t) {
                    return t.match(Ee) || [];
                }(t) : function(t) {
                    return t.split("");
                }(t);
            }
            var Mi = ui({
                "&amp;": "&",
                "&lt;": "<",
                "&gt;": ">",
                "&quot;": '"',
                "&#39;": "'"
            });
            var Ni = function t(e) {
                var i, a = (e = null == e ? Me : Ni.defaults(Me.Object(), e, Ni.pick(Me, Ae))).Array, n = e.Date, Jt = e.Error, $t = e.Function, te = e.Math, ee = e.Object, ie = e.RegExp, ae = e.String, ne = e.TypeError, oe = a.prototype, re = $t.prototype, se = ee.prototype, le = e["__core-js_shared__"], he = re.toString, ce = se.hasOwnProperty, pe = 0, ue = (i = /[^.]+$/.exec(le && le.keys && le.keys.IE_PROTO || "")) ? "Symbol(src)_1." + i : "", de = se.toString, ge = he.call(ee), ye = Me._, fe = ie("^" + he.call(ce).replace(xt, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), me = ke ? e.Buffer : o, Ee = e.Symbol, Oe = e.Uint8Array, Se = me ? me.allocUnsafe : o, Le = wi(ee.getPrototypeOf, ee), xe = ee.create, Ne = se.propertyIsEnumerable, Ue = oe.splice, Re = Ee ? Ee.isConcatSpreadable : o, Be = Ee ? Ee.iterator : o, ni = Ee ? Ee.toStringTag : o, ui = function() {
                    try {
                        var t = Vo(ee, "defineProperty");
                        return t({}, "", {}), t;
                    } catch (t) {}
                }(), Ui = e.clearTimeout !== Me.clearTimeout && e.clearTimeout, ki = n && n.now !== Me.Date.now && n.now, Ri = e.setTimeout !== Me.setTimeout && e.setTimeout, Bi = te.ceil, Gi = te.floor, Vi = ee.getOwnPropertySymbols, Hi = me ? me.isBuffer : o, Fi = e.isFinite, ji = oe.join, zi = wi(ee.keys, ee), Wi = te.max, Ki = te.min, Yi = n.now, qi = e.parseInt, Qi = te.random, Xi = oe.reverse, Zi = Vo(e, "DataView"), Ji = Vo(e, "Map"), $i = Vo(e, "Promise"), ta = Vo(e, "Set"), ea = Vo(e, "WeakMap"), ia = Vo(ee, "create"), aa = ea && new ea(), na = {}, oa = pr(Zi), ra = pr(Ji), sa = pr($i), la = pr(ta), ha = pr(ea), ca = Ee ? Ee.prototype : o, pa = ca ? ca.valueOf : o, ua = ca ? ca.toString : o;
                function da(t) {
                    if (Ss(t) && !ms(t) && !(t instanceof ma)) {
                        if (t instanceof fa) return t;
                        if (ce.call(t, "__wrapped__")) return ur(t);
                    }
                    return new fa(t);
                }
                var ga = function() {
                    function t() {}
                    return function(e) {
                        if (!Cs(e)) return {};
                        if (xe) return xe(e);
                        t.prototype = e;
                        var i = new t();
                        return t.prototype = o, i;
                    };
                }();
                function ya() {}
                function fa(t, e) {
                    this.__wrapped__ = t, this.__actions__ = [], this.__chain__ = !!e, 
                    this.__index__ = 0, this.__values__ = o;
                }
                function ma(t) {
                    this.__wrapped__ = t, this.__actions__ = [], this.__dir__ = 1, 
                    this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = R, 
                    this.__views__ = [];
                }
                function _a(t) {
                    var e = -1, i = null == t ? 0 : t.length;
                    for (this.clear(); ++e < i; ) {
                        var a = t[e];
                        this.set(a[0], a[1]);
                    }
                }
                function va(t) {
                    var e = -1, i = null == t ? 0 : t.length;
                    for (this.clear(); ++e < i; ) {
                        var a = t[e];
                        this.set(a[0], a[1]);
                    }
                }
                function Ea(t) {
                    var e = -1, i = null == t ? 0 : t.length;
                    for (this.clear(); ++e < i; ) {
                        var a = t[e];
                        this.set(a[0], a[1]);
                    }
                }
                function ba(t) {
                    var e = -1, i = null == t ? 0 : t.length;
                    for (this.__data__ = new Ea(); ++e < i; ) this.add(t[e]);
                }
                function Oa(t) {
                    var e = this.__data__ = new va(t);
                    this.size = e.size;
                }
                function Ta(t, e) {
                    var i = ms(t), a = !i && fs(t), n = !i && !a && bs(t), o = !i && !a && !n && ks(t), r = i || a || n || o, s = r ? yi(t.length, ae) : [], l = s.length;
                    for (var h in t) !e && !ce.call(t, h) || r && ("length" == h || n && ("offset" == h || "parent" == h) || o && ("buffer" == h || "byteLength" == h || "byteOffset" == h) || Yo(h, l)) || s.push(h);
                    return s;
                }
                function Aa(t) {
                    var e = t.length;
                    return e ? t[On(0, e - 1)] : o;
                }
                function Ia(t, e) {
                    return lr(ao(t), Na(e, 0, t.length));
                }
                function wa(t) {
                    return lr(ao(t));
                }
                function Ca(t, e, i) {
                    (i === o || ds(t[e], i)) && (i !== o || e in t) || xa(t, e, i);
                }
                function Sa(t, e, i) {
                    var a = t[e];
                    ce.call(t, e) && ds(a, i) && (i !== o || e in t) || xa(t, e, i);
                }
                function Pa(t, e) {
                    for (var i = t.length; i--; ) if (ds(t[i][0], e)) return i;
                    return -1;
                }
                function Da(t, e, i, a) {
                    return Ga(t, function(t, n, o) {
                        e(a, t, i(t), o);
                    }), a;
                }
                function La(t, e) {
                    return t && no(e, nl(e), t);
                }
                function xa(t, e, i) {
                    "__proto__" == e && ui ? ui(t, e, {
                        configurable: !0,
                        enumerable: !0,
                        value: i,
                        writable: !0
                    }) : t[e] = i;
                }
                function Ma(t, e) {
                    for (var i = -1, n = e.length, r = a(n), s = null == t; ++i < n; ) r[i] = s ? o : $s(t, e[i]);
                    return r;
                }
                function Na(t, e, i) {
                    return t == t && (i !== o && (t = t <= i ? t : i), e !== o && (t = t >= e ? t : e)), 
                    t;
                }
                function Ua(t, e, i, a, n, r) {
                    var s, l = e & u, h = e & d, c = e & g;
                    if (i && (s = n ? i(t, a, n, r) : i(t)), s !== o) return s;
                    if (!Cs(t)) return t;
                    var p = ms(t);
                    if (p) {
                        if (s = function(t) {
                            var e = t.length, i = new t.constructor(e);
                            return e && "string" == typeof t[0] && ce.call(t, "index") && (i.index = t.index, 
                            i.input = t.input), i;
                        }(t), !l) return ao(t, s);
                    } else {
                        var y = jo(t), f = y == q || y == Q;
                        if (bs(t)) return Zn(t, l);
                        if (y == $ || y == H || f && !n) {
                            if (s = h || f ? {} : Wo(t), !l) return h ? function(t, e) {
                                return no(t, Fo(t), e);
                            }(t, function(t, e) {
                                return t && no(e, ol(e), t);
                            }(s, t)) : function(t, e) {
                                return no(t, Ho(t), e);
                            }(t, La(s, t));
                        } else {
                            if (!Ce[y]) return n ? t : {};
                            s = function(t, e, i) {
                                var a, n, o, r = t.constructor;
                                switch (e) {
                                  case lt:
                                    return Jn(t);

                                  case z:
                                  case W:
                                    return new r(+t);

                                  case ht:
                                    return function(t, e) {
                                        var i = e ? Jn(t.buffer) : t.buffer;
                                        return new t.constructor(i, t.byteOffset, t.byteLength);
                                    }(t, i);

                                  case ct:
                                  case pt:
                                  case ut:
                                  case dt:
                                  case gt:
                                  case yt:
                                  case ft:
                                  case mt:
                                  case _t:
                                    return $n(t, i);

                                  case X:
                                    return new r();

                                  case Z:
                                  case at:
                                    return new r(t);

                                  case et:
                                    return (o = new (n = t).constructor(n.source, jt.exec(n))).lastIndex = n.lastIndex, 
                                    o;

                                  case it:
                                    return new r();

                                  case nt:
                                    return a = t, pa ? ee(pa.call(a)) : {};
                                }
                            }(t, y, l);
                        }
                    }
                    r || (r = new Oa());
                    var m = r.get(t);
                    if (m) return m;
                    if (r.set(t, s), Ms(t)) return t.forEach(function(a) {
                        s.add(Ua(a, e, i, a, t, r));
                    }), s;
                    if (Ps(t)) return t.forEach(function(a, n) {
                        s.set(n, Ua(a, e, i, n, t, r));
                    }), s;
                    var _ = p ? o : (c ? h ? Mo : xo : h ? ol : nl)(t);
                    return Ye(_ || t, function(a, n) {
                        _ && (a = t[n = a]), Sa(s, n, Ua(a, e, i, n, t, r));
                    }), s;
                }
                function ka(t, e, i) {
                    var a = i.length;
                    if (null == t) return !a;
                    for (t = ee(t); a--; ) {
                        var n = i[a], r = e[n], s = t[n];
                        if (s === o && !(n in t) || !r(s)) return !1;
                    }
                    return !0;
                }
                function Ra(t, e, i) {
                    if ("function" != typeof t) throw new ne(l);
                    return nr(function() {
                        t.apply(o, i);
                    }, e);
                }
                function Ba(t, e, i, a) {
                    var n = -1, o = Ze, s = !0, l = t.length, h = [], c = e.length;
                    if (!l) return h;
                    i && (e = $e(e, fi(i))), a ? (o = Je, s = !1) : e.length >= r && (o = _i, 
                    s = !1, e = new ba(e));
                    t: for (;++n < l; ) {
                        var p = t[n], u = null == i ? p : i(p);
                        if (p = a || 0 !== p ? p : 0, s && u == u) {
                            for (var d = c; d--; ) if (e[d] === u) continue t;
                            h.push(p);
                        } else o(e, u, a) || h.push(p);
                    }
                    return h;
                }
                da.templateSettings = {
                    escape: wt,
                    evaluate: Ct,
                    interpolate: St,
                    variable: "",
                    imports: {
                        _: da
                    }
                }, da.prototype = ya.prototype, da.prototype.constructor = da, fa.prototype = ga(ya.prototype), 
                fa.prototype.constructor = fa, ma.prototype = ga(ya.prototype), 
                ma.prototype.constructor = ma, _a.prototype.clear = function() {
                    this.__data__ = ia ? ia(null) : {}, this.size = 0;
                }, _a.prototype.delete = function(t) {
                    var e = this.has(t) && delete this.__data__[t];
                    return this.size -= e ? 1 : 0, e;
                }, _a.prototype.get = function(t) {
                    var e = this.__data__;
                    if (ia) {
                        var i = e[t];
                        return i === h ? o : i;
                    }
                    return ce.call(e, t) ? e[t] : o;
                }, _a.prototype.has = function(t) {
                    var e = this.__data__;
                    return ia ? e[t] !== o : ce.call(e, t);
                }, _a.prototype.set = function(t, e) {
                    var i = this.__data__;
                    return this.size += this.has(t) ? 0 : 1, i[t] = ia && e === o ? h : e, 
                    this;
                }, va.prototype.clear = function() {
                    this.__data__ = [], this.size = 0;
                }, va.prototype.delete = function(t) {
                    var e = this.__data__, i = Pa(e, t);
                    return !(i < 0 || (i == e.length - 1 ? e.pop() : Ue.call(e, i, 1), 
                    --this.size, 0));
                }, va.prototype.get = function(t) {
                    var e = this.__data__, i = Pa(e, t);
                    return i < 0 ? o : e[i][1];
                }, va.prototype.has = function(t) {
                    return Pa(this.__data__, t) > -1;
                }, va.prototype.set = function(t, e) {
                    var i = this.__data__, a = Pa(i, t);
                    return a < 0 ? (++this.size, i.push([ t, e ])) : i[a][1] = e, 
                    this;
                }, Ea.prototype.clear = function() {
                    this.size = 0, this.__data__ = {
                        hash: new _a(),
                        map: new (Ji || va)(),
                        string: new _a()
                    };
                }, Ea.prototype.delete = function(t) {
                    var e = Bo(this, t).delete(t);
                    return this.size -= e ? 1 : 0, e;
                }, Ea.prototype.get = function(t) {
                    return Bo(this, t).get(t);
                }, Ea.prototype.has = function(t) {
                    return Bo(this, t).has(t);
                }, Ea.prototype.set = function(t, e) {
                    var i = Bo(this, t), a = i.size;
                    return i.set(t, e), this.size += i.size == a ? 0 : 1, this;
                }, ba.prototype.add = ba.prototype.push = function(t) {
                    return this.__data__.set(t, h), this;
                }, ba.prototype.has = function(t) {
                    return this.__data__.has(t);
                }, Oa.prototype.clear = function() {
                    this.__data__ = new va(), this.size = 0;
                }, Oa.prototype.delete = function(t) {
                    var e = this.__data__, i = e.delete(t);
                    return this.size = e.size, i;
                }, Oa.prototype.get = function(t) {
                    return this.__data__.get(t);
                }, Oa.prototype.has = function(t) {
                    return this.__data__.has(t);
                }, Oa.prototype.set = function(t, e) {
                    var i = this.__data__;
                    if (i instanceof va) {
                        var a = i.__data__;
                        if (!Ji || a.length < r - 1) return a.push([ t, e ]), this.size = ++i.size, 
                        this;
                        i = this.__data__ = new Ea(a);
                    }
                    return i.set(t, e), this.size = i.size, this;
                };
                var Ga = so(Ya), Va = so(qa, !0);
                function Ha(t, e) {
                    var i = !0;
                    return Ga(t, function(t, a, n) {
                        return i = !!e(t, a, n);
                    }), i;
                }
                function Fa(t, e, i) {
                    for (var a = -1, n = t.length; ++a < n; ) {
                        var r = t[a], s = e(r);
                        if (null != s && (l === o ? s == s && !Us(s) : i(s, l))) var l = s, h = r;
                    }
                    return h;
                }
                function ja(t, e) {
                    var i = [];
                    return Ga(t, function(t, a, n) {
                        e(t, a, n) && i.push(t);
                    }), i;
                }
                function za(t, e, i, a, n) {
                    var o = -1, r = t.length;
                    for (i || (i = Ko), n || (n = []); ++o < r; ) {
                        var s = t[o];
                        e > 0 && i(s) ? e > 1 ? za(s, e - 1, i, a, n) : ti(n, s) : a || (n[n.length] = s);
                    }
                    return n;
                }
                var Wa = lo(), Ka = lo(!0);
                function Ya(t, e) {
                    return t && Wa(t, e, nl);
                }
                function qa(t, e) {
                    return t && Ka(t, e, nl);
                }
                function Qa(t, e) {
                    return Xe(e, function(e) {
                        return As(t[e]);
                    });
                }
                function Xa(t, e) {
                    for (var i = 0, a = (e = Yn(e, t)).length; null != t && i < a; ) t = t[cr(e[i++])];
                    return i && i == a ? t : o;
                }
                function Za(t, e, i) {
                    var a = e(t);
                    return ms(t) ? a : ti(a, i(t));
                }
                function Ja(t) {
                    return null == t ? t === o ? ot : J : ni && ni in ee(t) ? function(t) {
                        var e = ce.call(t, ni), i = t[ni];
                        try {
                            t[ni] = o;
                            var a = !0;
                        } catch (t) {}
                        var n = de.call(t);
                        return a && (e ? t[ni] = i : delete t[ni]), n;
                    }(t) : function(t) {
                        return de.call(t);
                    }(t);
                }
                function $a(t, e) {
                    return t > e;
                }
                function tn(t, e) {
                    return null != t && ce.call(t, e);
                }
                function en(t, e) {
                    return null != t && e in ee(t);
                }
                function an(t, e, i) {
                    for (var n = i ? Je : Ze, r = t[0].length, s = t.length, l = s, h = a(s), c = 1 / 0, p = []; l--; ) {
                        var u = t[l];
                        l && e && (u = $e(u, fi(e))), c = Ki(u.length, c), h[l] = !i && (e || r >= 120 && u.length >= 120) ? new ba(l && u) : o;
                    }
                    u = t[0];
                    var d = -1, g = h[0];
                    t: for (;++d < r && p.length < c; ) {
                        var y = u[d], f = e ? e(y) : y;
                        if (y = i || 0 !== y ? y : 0, !(g ? _i(g, f) : n(p, f, i))) {
                            for (l = s; --l; ) {
                                var m = h[l];
                                if (!(m ? _i(m, f) : n(t[l], f, i))) continue t;
                            }
                            g && g.push(f), p.push(y);
                        }
                    }
                    return p;
                }
                function nn(t, e, i) {
                    var a = null == (t = ir(t, e = Yn(e, t))) ? t : t[cr(Tr(e))];
                    return null == a ? o : We(a, t, i);
                }
                function on(t) {
                    return Ss(t) && Ja(t) == H;
                }
                function rn(t, e, i, a, n) {
                    return t === e || (null == t || null == e || !Ss(t) && !Ss(e) ? t != t && e != e : function(t, e, i, a, n, r) {
                        var s = ms(t), l = ms(e), h = s ? F : jo(t), c = l ? F : jo(e), p = (h = h == H ? $ : h) == $, u = (c = c == H ? $ : c) == $, d = h == c;
                        if (d && bs(t)) {
                            if (!bs(e)) return !1;
                            s = !0, p = !1;
                        }
                        if (d && !p) return r || (r = new Oa()), s || ks(t) ? Do(t, e, i, a, n, r) : function(t, e, i, a, n, o, r) {
                            switch (i) {
                              case ht:
                                if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1;
                                t = t.buffer, e = e.buffer;

                              case lt:
                                return !(t.byteLength != e.byteLength || !o(new Oe(t), new Oe(e)));

                              case z:
                              case W:
                              case Z:
                                return ds(+t, +e);

                              case Y:
                                return t.name == e.name && t.message == e.message;

                              case et:
                              case at:
                                return t == e + "";

                              case X:
                                var s = Ii;

                              case it:
                                var l = a & y;
                                if (s || (s = Pi), t.size != e.size && !l) return !1;
                                var h = r.get(t);
                                if (h) return h == e;
                                a |= f, r.set(t, e);
                                var c = Do(s(t), s(e), a, n, o, r);
                                return r.delete(t), c;

                              case nt:
                                if (pa) return pa.call(t) == pa.call(e);
                            }
                            return !1;
                        }(t, e, h, i, a, n, r);
                        if (!(i & y)) {
                            var g = p && ce.call(t, "__wrapped__"), m = u && ce.call(e, "__wrapped__");
                            if (g || m) {
                                var _ = g ? t.value() : t, v = m ? e.value() : e;
                                return r || (r = new Oa()), n(_, v, i, a, r);
                            }
                        }
                        return !!d && (r || (r = new Oa()), function(t, e, i, a, n, r) {
                            var s = i & y, l = xo(t), h = l.length, c = xo(e).length;
                            if (h != c && !s) return !1;
                            for (var p = h; p--; ) {
                                var u = l[p];
                                if (!(s ? u in e : ce.call(e, u))) return !1;
                            }
                            var d = r.get(t);
                            if (d && r.get(e)) return d == e;
                            var g = !0;
                            r.set(t, e), r.set(e, t);
                            for (var f = s; ++p < h; ) {
                                u = l[p];
                                var m = t[u], _ = e[u];
                                if (a) var v = s ? a(_, m, u, e, t, r) : a(m, _, u, t, e, r);
                                if (!(v === o ? m === _ || n(m, _, i, a, r) : v)) {
                                    g = !1;
                                    break;
                                }
                                f || (f = "constructor" == u);
                            }
                            if (g && !f) {
                                var E = t.constructor, b = e.constructor;
                                E != b && "constructor" in t && "constructor" in e && !("function" == typeof E && E instanceof E && "function" == typeof b && b instanceof b) && (g = !1);
                            }
                            return r.delete(t), r.delete(e), g;
                        }(t, e, i, a, n, r));
                    }(t, e, i, a, rn, n));
                }
                function sn(t, e, i, a) {
                    var n = i.length, r = n, s = !a;
                    if (null == t) return !r;
                    for (t = ee(t); n--; ) {
                        var l = i[n];
                        if (s && l[2] ? l[1] !== t[l[0]] : !(l[0] in t)) return !1;
                    }
                    for (;++n < r; ) {
                        var h = (l = i[n])[0], c = t[h], p = l[1];
                        if (s && l[2]) {
                            if (c === o && !(h in t)) return !1;
                        } else {
                            var u = new Oa();
                            if (a) var d = a(c, p, h, t, e, u);
                            if (!(d === o ? rn(p, c, y | f, a, u) : d)) return !1;
                        }
                    }
                    return !0;
                }
                function ln(t) {
                    return !(!Cs(t) || ue && ue in t) && (As(t) ? fe : Kt).test(pr(t));
                }
                function hn(t) {
                    return "function" == typeof t ? t : null == t ? Dl : "object" == typeof t ? ms(t) ? yn(t[0], t[1]) : gn(t) : Gl(t);
                }
                function cn(t) {
                    if (!Jo(t)) return zi(t);
                    var e = [];
                    for (var i in ee(t)) ce.call(t, i) && "constructor" != i && e.push(i);
                    return e;
                }
                function pn(t) {
                    if (!Cs(t)) return function(t) {
                        var e = [];
                        if (null != t) for (var i in ee(t)) e.push(i);
                        return e;
                    }(t);
                    var e = Jo(t), i = [];
                    for (var a in t) ("constructor" != a || !e && ce.call(t, a)) && i.push(a);
                    return i;
                }
                function un(t, e) {
                    return t < e;
                }
                function dn(t, e) {
                    var i = -1, n = vs(t) ? a(t.length) : [];
                    return Ga(t, function(t, a, o) {
                        n[++i] = e(t, a, o);
                    }), n;
                }
                function gn(t) {
                    var e = Go(t);
                    return 1 == e.length && e[0][2] ? tr(e[0][0], e[0][1]) : function(i) {
                        return i === t || sn(i, t, e);
                    };
                }
                function yn(t, e) {
                    return Qo(t) && $o(e) ? tr(cr(t), e) : function(i) {
                        var a = $s(i, t);
                        return a === o && a === e ? tl(i, t) : rn(e, a, y | f);
                    };
                }
                function fn(t, e, i, a, n) {
                    t !== e && Wa(e, function(r, s) {
                        if (Cs(r)) n || (n = new Oa()), function(t, e, i, a, n, r, s) {
                            var l = Si(t, i), h = Si(e, i), c = s.get(h);
                            if (c) Ca(t, i, c); else {
                                var p = r ? r(l, h, i + "", t, e, s) : o, u = p === o;
                                if (u) {
                                    var d = ms(h), g = !d && bs(h), y = !d && !g && ks(h);
                                    p = h, d || g || y ? ms(l) ? p = l : Es(l) ? p = ao(l) : g ? (u = !1, 
                                    p = Zn(h, !0)) : y ? (u = !1, p = $n(h, !0)) : p = [] : Ls(h) || fs(h) ? (p = l, 
                                    fs(l) ? p = zs(l) : (!Cs(l) || a && As(l)) && (p = Wo(h))) : u = !1;
                                }
                                u && (s.set(h, p), n(p, h, a, r, s), s.delete(h)), 
                                Ca(t, i, p);
                            }
                        }(t, e, s, i, fn, a, n); else {
                            var l = a ? a(Si(t, s), r, s + "", t, e, n) : o;
                            l === o && (l = r), Ca(t, s, l);
                        }
                    }, ol);
                }
                function mn(t, e) {
                    var i = t.length;
                    if (i) return Yo(e += e < 0 ? i : 0, i) ? t[e] : o;
                }
                function _n(t, e, i) {
                    var a = -1;
                    return e = $e(e.length ? e : [ Dl ], fi(Ro())), function(t, e) {
                        var i = t.length;
                        for (t.sort(e); i--; ) t[i] = t[i].value;
                        return t;
                    }(dn(t, function(t, i, n) {
                        return {
                            criteria: $e(e, function(e) {
                                return e(t);
                            }),
                            index: ++a,
                            value: t
                        };
                    }), function(t, e) {
                        return function(t, e, i) {
                            for (var a = -1, n = t.criteria, o = e.criteria, r = n.length, s = i.length; ++a < r; ) {
                                var l = to(n[a], o[a]);
                                if (l) {
                                    if (a >= s) return l;
                                    var h = i[a];
                                    return l * ("desc" == h ? -1 : 1);
                                }
                            }
                            return t.index - e.index;
                        }(t, e, i);
                    });
                }
                function vn(t, e, i) {
                    for (var a = -1, n = e.length, o = {}; ++a < n; ) {
                        var r = e[a], s = Xa(t, r);
                        i(s, r) && Cn(o, Yn(r, t), s);
                    }
                    return o;
                }
                function En(t, e, i, a) {
                    var n = a ? li : si, o = -1, r = e.length, s = t;
                    for (t === e && (e = ao(e)), i && (s = $e(t, fi(i))); ++o < r; ) for (var l = 0, h = e[o], c = i ? i(h) : h; (l = n(s, c, l, a)) > -1; ) s !== t && Ue.call(s, l, 1), 
                    Ue.call(t, l, 1);
                    return t;
                }
                function bn(t, e) {
                    for (var i = t ? e.length : 0, a = i - 1; i--; ) {
                        var n = e[i];
                        if (i == a || n !== o) {
                            var o = n;
                            Yo(n) ? Ue.call(t, n, 1) : Gn(t, n);
                        }
                    }
                    return t;
                }
                function On(t, e) {
                    return t + Gi(Qi() * (e - t + 1));
                }
                function Tn(t, e) {
                    var i = "";
                    if (!t || e < 1 || e > N) return i;
                    do {
                        e % 2 && (i += t), (e = Gi(e / 2)) && (t += t);
                    } while (e);
                    return i;
                }
                function An(t, e) {
                    return or(er(t, e, Dl), t + "");
                }
                function In(t) {
                    return Aa(dl(t));
                }
                function wn(t, e) {
                    var i = dl(t);
                    return lr(i, Na(e, 0, i.length));
                }
                function Cn(t, e, i, a) {
                    if (!Cs(t)) return t;
                    for (var n = -1, r = (e = Yn(e, t)).length, s = r - 1, l = t; null != l && ++n < r; ) {
                        var h = cr(e[n]), c = i;
                        if (n != s) {
                            var p = l[h];
                            (c = a ? a(p, h, l) : o) === o && (c = Cs(p) ? p : Yo(e[n + 1]) ? [] : {});
                        }
                        Sa(l, h, c), l = l[h];
                    }
                    return t;
                }
                var Sn = aa ? function(t, e) {
                    return aa.set(t, e), t;
                } : Dl, Pn = ui ? function(t, e) {
                    return ui(t, "toString", {
                        configurable: !0,
                        enumerable: !1,
                        value: Cl(e),
                        writable: !0
                    });
                } : Dl;
                function Dn(t) {
                    return lr(dl(t));
                }
                function Ln(t, e, i) {
                    var n = -1, o = t.length;
                    e < 0 && (e = -e > o ? 0 : o + e), (i = i > o ? o : i) < 0 && (i += o), 
                    o = e > i ? 0 : i - e >>> 0, e >>>= 0;
                    for (var r = a(o); ++n < o; ) r[n] = t[n + e];
                    return r;
                }
                function xn(t, e) {
                    var i;
                    return Ga(t, function(t, a, n) {
                        return !(i = e(t, a, n));
                    }), !!i;
                }
                function Mn(t, e, i) {
                    var a = 0, n = null == t ? a : t.length;
                    if ("number" == typeof e && e == e && n <= G) {
                        for (;a < n; ) {
                            var o = a + n >>> 1, r = t[o];
                            null !== r && !Us(r) && (i ? r <= e : r < e) ? a = o + 1 : n = o;
                        }
                        return n;
                    }
                    return Nn(t, e, Dl, i);
                }
                function Nn(t, e, i, a) {
                    e = i(e);
                    for (var n = 0, r = null == t ? 0 : t.length, s = e != e, l = null === e, h = Us(e), c = e === o; n < r; ) {
                        var p = Gi((n + r) / 2), u = i(t[p]), d = u !== o, g = null === u, y = u == u, f = Us(u);
                        if (s) var m = a || y; else m = c ? y && (a || d) : l ? y && d && (a || !g) : h ? y && d && !g && (a || !f) : !g && !f && (a ? u <= e : u < e);
                        m ? n = p + 1 : r = p;
                    }
                    return Ki(r, B);
                }
                function Un(t, e) {
                    for (var i = -1, a = t.length, n = 0, o = []; ++i < a; ) {
                        var r = t[i], s = e ? e(r) : r;
                        if (!i || !ds(s, l)) {
                            var l = s;
                            o[n++] = 0 === r ? 0 : r;
                        }
                    }
                    return o;
                }
                function kn(t) {
                    return "number" == typeof t ? t : Us(t) ? k : +t;
                }
                function Rn(t) {
                    if ("string" == typeof t) return t;
                    if (ms(t)) return $e(t, Rn) + "";
                    if (Us(t)) return ua ? ua.call(t) : "";
                    var e = t + "";
                    return "0" == e && 1 / t == -M ? "-0" : e;
                }
                function Bn(t, e, i) {
                    var a = -1, n = Ze, o = t.length, s = !0, l = [], h = l;
                    if (i) s = !1, n = Je; else if (o >= r) {
                        var c = e ? null : Ao(t);
                        if (c) return Pi(c);
                        s = !1, n = _i, h = new ba();
                    } else h = e ? [] : l;
                    t: for (;++a < o; ) {
                        var p = t[a], u = e ? e(p) : p;
                        if (p = i || 0 !== p ? p : 0, s && u == u) {
                            for (var d = h.length; d--; ) if (h[d] === u) continue t;
                            e && h.push(u), l.push(p);
                        } else n(h, u, i) || (h !== l && h.push(u), l.push(p));
                    }
                    return l;
                }
                function Gn(t, e) {
                    return null == (t = ir(t, e = Yn(e, t))) || delete t[cr(Tr(e))];
                }
                function Vn(t, e, i, a) {
                    return Cn(t, e, i(Xa(t, e)), a);
                }
                function Hn(t, e, i, a) {
                    for (var n = t.length, o = a ? n : -1; (a ? o-- : ++o < n) && e(t[o], o, t); );
                    return i ? Ln(t, a ? 0 : o, a ? o + 1 : n) : Ln(t, a ? o + 1 : 0, a ? n : o);
                }
                function Fn(t, e) {
                    var i = t;
                    return i instanceof ma && (i = i.value()), ei(e, function(t, e) {
                        return e.func.apply(e.thisArg, ti([ t ], e.args));
                    }, i);
                }
                function jn(t, e, i) {
                    var n = t.length;
                    if (n < 2) return n ? Bn(t[0]) : [];
                    for (var o = -1, r = a(n); ++o < n; ) for (var s = t[o], l = -1; ++l < n; ) l != o && (r[o] = Ba(r[o] || s, t[l], e, i));
                    return Bn(za(r, 1), e, i);
                }
                function zn(t, e, i) {
                    for (var a = -1, n = t.length, r = e.length, s = {}; ++a < n; ) {
                        var l = a < r ? e[a] : o;
                        i(s, t[a], l);
                    }
                    return s;
                }
                function Wn(t) {
                    return Es(t) ? t : [];
                }
                function Kn(t) {
                    return "function" == typeof t ? t : Dl;
                }
                function Yn(t, e) {
                    return ms(t) ? t : Qo(t, e) ? [ t ] : hr(Ws(t));
                }
                var qn = An;
                function Qn(t, e, i) {
                    var a = t.length;
                    return i = i === o ? a : i, !e && i >= a ? t : Ln(t, e, i);
                }
                var Xn = Ui || function(t) {
                    return Me.clearTimeout(t);
                };
                function Zn(t, e) {
                    if (e) return t.slice();
                    var i = t.length, a = Se ? Se(i) : new t.constructor(i);
                    return t.copy(a), a;
                }
                function Jn(t) {
                    var e = new t.constructor(t.byteLength);
                    return new Oe(e).set(new Oe(t)), e;
                }
                function $n(t, e) {
                    var i = e ? Jn(t.buffer) : t.buffer;
                    return new t.constructor(i, t.byteOffset, t.length);
                }
                function to(t, e) {
                    if (t !== e) {
                        var i = t !== o, a = null === t, n = t == t, r = Us(t), s = e !== o, l = null === e, h = e == e, c = Us(e);
                        if (!l && !c && !r && t > e || r && s && h && !l && !c || a && s && h || !i && h || !n) return 1;
                        if (!a && !r && !c && t < e || c && i && n && !a && !r || l && i && n || !s && n || !h) return -1;
                    }
                    return 0;
                }
                function eo(t, e, i, n) {
                    for (var o = -1, r = t.length, s = i.length, l = -1, h = e.length, c = Wi(r - s, 0), p = a(h + c), u = !n; ++l < h; ) p[l] = e[l];
                    for (;++o < s; ) (u || o < r) && (p[i[o]] = t[o]);
                    for (;c--; ) p[l++] = t[o++];
                    return p;
                }
                function io(t, e, i, n) {
                    for (var o = -1, r = t.length, s = -1, l = i.length, h = -1, c = e.length, p = Wi(r - l, 0), u = a(p + c), d = !n; ++o < p; ) u[o] = t[o];
                    for (var g = o; ++h < c; ) u[g + h] = e[h];
                    for (;++s < l; ) (d || o < r) && (u[g + i[s]] = t[o++]);
                    return u;
                }
                function ao(t, e) {
                    var i = -1, n = t.length;
                    for (e || (e = a(n)); ++i < n; ) e[i] = t[i];
                    return e;
                }
                function no(t, e, i, a) {
                    var n = !i;
                    i || (i = {});
                    for (var r = -1, s = e.length; ++r < s; ) {
                        var l = e[r], h = a ? a(i[l], t[l], l, i, t) : o;
                        h === o && (h = t[l]), n ? xa(i, l, h) : Sa(i, l, h);
                    }
                    return i;
                }
                function oo(t, e) {
                    return function(i, a) {
                        var n = ms(i) ? Ke : Da, o = e ? e() : {};
                        return n(i, t, Ro(a, 2), o);
                    };
                }
                function ro(t) {
                    return An(function(e, i) {
                        var a = -1, n = i.length, r = n > 1 ? i[n - 1] : o, s = n > 2 ? i[2] : o;
                        for (r = t.length > 3 && "function" == typeof r ? (n--, 
                        r) : o, s && qo(i[0], i[1], s) && (r = n < 3 ? o : r, n = 1), 
                        e = ee(e); ++a < n; ) {
                            var l = i[a];
                            l && t(e, l, a, r);
                        }
                        return e;
                    });
                }
                function so(t, e) {
                    return function(i, a) {
                        if (null == i) return i;
                        if (!vs(i)) return t(i, a);
                        for (var n = i.length, o = e ? n : -1, r = ee(i); (e ? o-- : ++o < n) && !1 !== a(r[o], o, r); );
                        return i;
                    };
                }
                function lo(t) {
                    return function(e, i, a) {
                        for (var n = -1, o = ee(e), r = a(e), s = r.length; s--; ) {
                            var l = r[t ? s : ++n];
                            if (!1 === i(o[l], l, o)) break;
                        }
                        return e;
                    };
                }
                function ho(t) {
                    return function(e) {
                        var i = Ai(e = Ws(e)) ? xi(e) : o, a = i ? i[0] : e.charAt(0), n = i ? Qn(i, 1).join("") : e.slice(1);
                        return a[t]() + n;
                    };
                }
                function co(t) {
                    return function(e) {
                        return ei(Al(fl(e).replace(_e, "")), t, "");
                    };
                }
                function po(t) {
                    return function() {
                        var e = arguments;
                        switch (e.length) {
                          case 0:
                            return new t();

                          case 1:
                            return new t(e[0]);

                          case 2:
                            return new t(e[0], e[1]);

                          case 3:
                            return new t(e[0], e[1], e[2]);

                          case 4:
                            return new t(e[0], e[1], e[2], e[3]);

                          case 5:
                            return new t(e[0], e[1], e[2], e[3], e[4]);

                          case 6:
                            return new t(e[0], e[1], e[2], e[3], e[4], e[5]);

                          case 7:
                            return new t(e[0], e[1], e[2], e[3], e[4], e[5], e[6]);
                        }
                        var i = ga(t.prototype), a = t.apply(i, e);
                        return Cs(a) ? a : i;
                    };
                }
                function uo(t) {
                    return function(e, i, a) {
                        var n = ee(e);
                        if (!vs(e)) {
                            var r = Ro(i, 3);
                            e = nl(e), i = function(t) {
                                return r(n[t], t, n);
                            };
                        }
                        var s = t(e, i, a);
                        return s > -1 ? n[r ? e[s] : s] : o;
                    };
                }
                function go(t) {
                    return Lo(function(e) {
                        var i = e.length, a = i, n = fa.prototype.thru;
                        for (t && e.reverse(); a--; ) {
                            var r = e[a];
                            if ("function" != typeof r) throw new ne(l);
                            if (n && !s && "wrapper" == Uo(r)) var s = new fa([], !0);
                        }
                        for (a = s ? a : i; ++a < i; ) {
                            var h = Uo(r = e[a]), c = "wrapper" == h ? No(r) : o;
                            s = c && Xo(c[0]) && c[1] == (A | E | O | I) && !c[4].length && 1 == c[9] ? s[Uo(c[0])].apply(s, c[3]) : 1 == r.length && Xo(r) ? s[h]() : s.thru(r);
                        }
                        return function() {
                            var t = arguments, a = t[0];
                            if (s && 1 == t.length && ms(a)) return s.plant(a).value();
                            for (var n = 0, o = i ? e[n].apply(this, t) : a; ++n < i; ) o = e[n].call(this, o);
                            return o;
                        };
                    });
                }
                function yo(t, e, i, n, r, s, l, h, c, p) {
                    var u = e & A, d = e & m, g = e & _, y = e & (E | b), f = e & w, v = g ? o : po(t);
                    return function m() {
                        for (var _ = arguments.length, E = a(_), b = _; b--; ) E[b] = arguments[b];
                        if (y) var O = ko(m), T = function(t, e) {
                            for (var i = t.length, a = 0; i--; ) t[i] === e && ++a;
                            return a;
                        }(E, O);
                        if (n && (E = eo(E, n, r, y)), s && (E = io(E, s, l, y)), 
                        _ -= T, y && _ < p) {
                            var A = Ci(E, O);
                            return Oo(t, e, yo, m.placeholder, i, E, A, h, c, p - _);
                        }
                        var I = d ? i : this, w = g ? I[t] : t;
                        return _ = E.length, h ? E = function(t, e) {
                            for (var i = t.length, a = Ki(e.length, i), n = ao(t); a--; ) {
                                var r = e[a];
                                t[a] = Yo(r, i) ? n[r] : o;
                            }
                            return t;
                        }(E, h) : f && _ > 1 && E.reverse(), u && c < _ && (E.length = c), 
                        this && this !== Me && this instanceof m && (w = v || po(w)), 
                        w.apply(I, E);
                    };
                }
                function fo(t, e) {
                    return function(i, a) {
                        return function(t, e, i, a) {
                            return Ya(t, function(t, n, o) {
                                e(a, i(t), n, o);
                            }), a;
                        }(i, t, e(a), {});
                    };
                }
                function mo(t, e) {
                    return function(i, a) {
                        var n;
                        if (i === o && a === o) return e;
                        if (i !== o && (n = i), a !== o) {
                            if (n === o) return a;
                            "string" == typeof i || "string" == typeof a ? (i = Rn(i), 
                            a = Rn(a)) : (i = kn(i), a = kn(a)), n = t(i, a);
                        }
                        return n;
                    };
                }
                function _o(t) {
                    return Lo(function(e) {
                        return e = $e(e, fi(Ro())), An(function(i) {
                            var a = this;
                            return t(e, function(t) {
                                return We(t, a, i);
                            });
                        });
                    });
                }
                function vo(t, e) {
                    var i = (e = e === o ? " " : Rn(e)).length;
                    if (i < 2) return i ? Tn(e, t) : e;
                    var a = Tn(e, Bi(t / Li(e)));
                    return Ai(e) ? Qn(xi(a), 0, t).join("") : a.slice(0, t);
                }
                function Eo(t) {
                    return function(e, i, n) {
                        return n && "number" != typeof n && qo(e, i, n) && (i = n = o), 
                        e = Vs(e), i === o ? (i = e, e = 0) : i = Vs(i), function(t, e, i, n) {
                            for (var o = -1, r = Wi(Bi((e - t) / (i || 1)), 0), s = a(r); r--; ) s[n ? r : ++o] = t, 
                            t += i;
                            return s;
                        }(e, i, n = n === o ? e < i ? 1 : -1 : Vs(n), t);
                    };
                }
                function bo(t) {
                    return function(e, i) {
                        return "string" == typeof e && "string" == typeof i || (e = js(e), 
                        i = js(i)), t(e, i);
                    };
                }
                function Oo(t, e, i, a, n, r, s, l, h, c) {
                    var p = e & E;
                    e |= p ? O : T, (e &= ~(p ? T : O)) & v || (e &= ~(m | _));
                    var u = [ t, e, n, p ? r : o, p ? s : o, p ? o : r, p ? o : s, l, h, c ], d = i.apply(o, u);
                    return Xo(t) && ar(d, u), d.placeholder = a, rr(d, t, e);
                }
                function To(t) {
                    var e = te[t];
                    return function(t, i) {
                        if (t = js(t), i = null == i ? 0 : Ki(Hs(i), 292)) {
                            var a = (Ws(t) + "e").split("e");
                            return +((a = (Ws(e(a[0] + "e" + (+a[1] + i))) + "e").split("e"))[0] + "e" + (+a[1] - i));
                        }
                        return e(t);
                    };
                }
                var Ao = ta && 1 / Pi(new ta([ , -0 ]))[1] == M ? function(t) {
                    return new ta(t);
                } : Ul;
                function Io(t) {
                    return function(e) {
                        var i = jo(e);
                        return i == X ? Ii(e) : i == it ? Di(e) : function(t, e) {
                            return $e(e, function(e) {
                                return [ e, t[e] ];
                            });
                        }(e, t(e));
                    };
                }
                function wo(t, e, i, n, r, s, h, c) {
                    var u = e & _;
                    if (!u && "function" != typeof t) throw new ne(l);
                    var d = n ? n.length : 0;
                    if (d || (e &= ~(O | T), n = r = o), h = h === o ? h : Wi(Hs(h), 0), 
                    c = c === o ? c : Hs(c), d -= r ? r.length : 0, e & T) {
                        var g = n, y = r;
                        n = r = o;
                    }
                    var f = u ? o : No(t), w = [ t, e, i, n, r, g, y, s, h, c ];
                    if (f && function(t, e) {
                        var i = t[1], a = e[1], n = i | a, o = n < (m | _ | A), r = a == A && i == E || a == A && i == I && t[7].length <= e[8] || a == (A | I) && e[7].length <= e[8] && i == E;
                        if (!o && !r) return t;
                        a & m && (t[2] = e[2], n |= i & m ? 0 : v);
                        var s = e[3];
                        if (s) {
                            var l = t[3];
                            t[3] = l ? eo(l, s, e[4]) : s, t[4] = l ? Ci(t[3], p) : e[4];
                        }
                        (s = e[5]) && (l = t[5], t[5] = l ? io(l, s, e[6]) : s, 
                        t[6] = l ? Ci(t[5], p) : e[6]), (s = e[7]) && (t[7] = s), 
                        a & A && (t[8] = null == t[8] ? e[8] : Ki(t[8], e[8])), 
                        null == t[9] && (t[9] = e[9]), t[0] = e[0], t[1] = n;
                    }(w, f), t = w[0], e = w[1], i = w[2], n = w[3], r = w[4], !(c = w[9] = w[9] === o ? u ? 0 : t.length : Wi(w[9] - d, 0)) && e & (E | b) && (e &= ~(E | b)), 
                    e && e != m) C = e == E || e == b ? function(t, e, i) {
                        var n = po(t);
                        return function r() {
                            for (var s = arguments.length, l = a(s), h = s, c = ko(r); h--; ) l[h] = arguments[h];
                            var p = s < 3 && l[0] !== c && l[s - 1] !== c ? [] : Ci(l, c);
                            return (s -= p.length) < i ? Oo(t, e, yo, r.placeholder, o, l, p, o, o, i - s) : We(this && this !== Me && this instanceof r ? n : t, this, l);
                        };
                    }(t, e, c) : e != O && e != (m | O) || r.length ? yo.apply(o, w) : function(t, e, i, n) {
                        var o = e & m, r = po(t);
                        return function e() {
                            for (var s = -1, l = arguments.length, h = -1, c = n.length, p = a(c + l), u = this && this !== Me && this instanceof e ? r : t; ++h < c; ) p[h] = n[h];
                            for (;l--; ) p[h++] = arguments[++s];
                            return We(u, o ? i : this, p);
                        };
                    }(t, e, i, n); else var C = function(t, e, i) {
                        var a = e & m, n = po(t);
                        return function e() {
                            return (this && this !== Me && this instanceof e ? n : t).apply(a ? i : this, arguments);
                        };
                    }(t, e, i);
                    return rr((f ? Sn : ar)(C, w), t, e);
                }
                function Co(t, e, i, a) {
                    return t === o || ds(t, se[i]) && !ce.call(a, i) ? e : t;
                }
                function So(t, e, i, a, n, r) {
                    return Cs(t) && Cs(e) && (r.set(e, t), fn(t, e, o, So, r), r.delete(e)), 
                    t;
                }
                function Po(t) {
                    return Ls(t) ? o : t;
                }
                function Do(t, e, i, a, n, r) {
                    var s = i & y, l = t.length, h = e.length;
                    if (l != h && !(s && h > l)) return !1;
                    var c = r.get(t);
                    if (c && r.get(e)) return c == e;
                    var p = -1, u = !0, d = i & f ? new ba() : o;
                    for (r.set(t, e), r.set(e, t); ++p < l; ) {
                        var g = t[p], m = e[p];
                        if (a) var _ = s ? a(m, g, p, e, t, r) : a(g, m, p, t, e, r);
                        if (_ !== o) {
                            if (_) continue;
                            u = !1;
                            break;
                        }
                        if (d) {
                            if (!ai(e, function(t, e) {
                                if (!_i(d, e) && (g === t || n(g, t, i, a, r))) return d.push(e);
                            })) {
                                u = !1;
                                break;
                            }
                        } else if (g !== m && !n(g, m, i, a, r)) {
                            u = !1;
                            break;
                        }
                    }
                    return r.delete(t), r.delete(e), u;
                }
                function Lo(t) {
                    return or(er(t, o, _r), t + "");
                }
                function xo(t) {
                    return Za(t, nl, Ho);
                }
                function Mo(t) {
                    return Za(t, ol, Fo);
                }
                var No = aa ? function(t) {
                    return aa.get(t);
                } : Ul;
                function Uo(t) {
                    for (var e = t.name + "", i = na[e], a = ce.call(na, e) ? i.length : 0; a--; ) {
                        var n = i[a], o = n.func;
                        if (null == o || o == t) return n.name;
                    }
                    return e;
                }
                function ko(t) {
                    return (ce.call(da, "placeholder") ? da : t).placeholder;
                }
                function Ro() {
                    var t = da.iteratee || Ll;
                    return t = t === Ll ? hn : t, arguments.length ? t(arguments[0], arguments[1]) : t;
                }
                function Bo(t, e) {
                    var i, a, n = t.__data__;
                    return ("string" == (a = typeof (i = e)) || "number" == a || "symbol" == a || "boolean" == a ? "__proto__" !== i : null === i) ? n["string" == typeof e ? "string" : "hash"] : n.map;
                }
                function Go(t) {
                    for (var e = nl(t), i = e.length; i--; ) {
                        var a = e[i], n = t[a];
                        e[i] = [ a, n, $o(n) ];
                    }
                    return e;
                }
                function Vo(t, e) {
                    var i = function(t, e) {
                        return null == t ? o : t[e];
                    }(t, e);
                    return ln(i) ? i : o;
                }
                var Ho = Vi ? function(t) {
                    return null == t ? [] : (t = ee(t), Xe(Vi(t), function(e) {
                        return Ne.call(t, e);
                    }));
                } : Fl, Fo = Vi ? function(t) {
                    for (var e = []; t; ) ti(e, Ho(t)), t = Le(t);
                    return e;
                } : Fl, jo = Ja;
                function zo(t, e, i) {
                    for (var a = -1, n = (e = Yn(e, t)).length, o = !1; ++a < n; ) {
                        var r = cr(e[a]);
                        if (!(o = null != t && i(t, r))) break;
                        t = t[r];
                    }
                    return o || ++a != n ? o : !!(n = null == t ? 0 : t.length) && ws(n) && Yo(r, n) && (ms(t) || fs(t));
                }
                function Wo(t) {
                    return "function" != typeof t.constructor || Jo(t) ? {} : ga(Le(t));
                }
                function Ko(t) {
                    return ms(t) || fs(t) || !!(Re && t && t[Re]);
                }
                function Yo(t, e) {
                    var i = typeof t;
                    return !!(e = null == e ? N : e) && ("number" == i || "symbol" != i && qt.test(t)) && t > -1 && t % 1 == 0 && t < e;
                }
                function qo(t, e, i) {
                    if (!Cs(i)) return !1;
                    var a = typeof e;
                    return !!("number" == a ? vs(i) && Yo(e, i.length) : "string" == a && e in i) && ds(i[e], t);
                }
                function Qo(t, e) {
                    if (ms(t)) return !1;
                    var i = typeof t;
                    return !("number" != i && "symbol" != i && "boolean" != i && null != t && !Us(t)) || Dt.test(t) || !Pt.test(t) || null != e && t in ee(e);
                }
                function Xo(t) {
                    var e = Uo(t), i = da[e];
                    if ("function" != typeof i || !(e in ma.prototype)) return !1;
                    if (t === i) return !0;
                    var a = No(i);
                    return !!a && t === a[0];
                }
                (Zi && jo(new Zi(new ArrayBuffer(1))) != ht || Ji && jo(new Ji()) != X || $i && "[object Promise]" != jo($i.resolve()) || ta && jo(new ta()) != it || ea && jo(new ea()) != rt) && (jo = function(t) {
                    var e = Ja(t), i = e == $ ? t.constructor : o, a = i ? pr(i) : "";
                    if (a) switch (a) {
                      case oa:
                        return ht;

                      case ra:
                        return X;

                      case sa:
                        return "[object Promise]";

                      case la:
                        return it;

                      case ha:
                        return rt;
                    }
                    return e;
                });
                var Zo = le ? As : jl;
                function Jo(t) {
                    var e = t && t.constructor;
                    return t === ("function" == typeof e && e.prototype || se);
                }
                function $o(t) {
                    return t == t && !Cs(t);
                }
                function tr(t, e) {
                    return function(i) {
                        return null != i && i[t] === e && (e !== o || t in ee(i));
                    };
                }
                function er(t, e, i) {
                    return e = Wi(e === o ? t.length - 1 : e, 0), function() {
                        for (var n = arguments, o = -1, r = Wi(n.length - e, 0), s = a(r); ++o < r; ) s[o] = n[e + o];
                        o = -1;
                        for (var l = a(e + 1); ++o < e; ) l[o] = n[o];
                        return l[e] = i(s), We(t, this, l);
                    };
                }
                function ir(t, e) {
                    return e.length < 2 ? t : Xa(t, Ln(e, 0, -1));
                }
                var ar = sr(Sn), nr = Ri || function(t, e) {
                    return Me.setTimeout(t, e);
                }, or = sr(Pn);
                function rr(t, e, i) {
                    var a = e + "";
                    return or(t, function(t, e) {
                        var i = e.length;
                        if (!i) return t;
                        var a = i - 1;
                        return e[a] = (i > 1 ? "& " : "") + e[a], e = e.join(i > 2 ? ", " : " "), 
                        t.replace(Rt, "{\n/* [wrapped with " + e + "] */\n");
                    }(a, function(t, e) {
                        return Ye(V, function(i) {
                            var a = "_." + i[0];
                            e & i[1] && !Ze(t, a) && t.push(a);
                        }), t.sort();
                    }(function(t) {
                        var e = t.match(Bt);
                        return e ? e[1].split(Gt) : [];
                    }(a), i)));
                }
                function sr(t) {
                    var e = 0, i = 0;
                    return function() {
                        var a = Yi(), n = D - (a - i);
                        if (i = a, n > 0) {
                            if (++e >= P) return arguments[0];
                        } else e = 0;
                        return t.apply(o, arguments);
                    };
                }
                function lr(t, e) {
                    var i = -1, a = t.length, n = a - 1;
                    for (e = e === o ? a : e; ++i < e; ) {
                        var r = On(i, n), s = t[r];
                        t[r] = t[i], t[i] = s;
                    }
                    return t.length = e, t;
                }
                var hr = function(t) {
                    var e = ss(t, function(t) {
                        return i.size === c && i.clear(), t;
                    }), i = e.cache;
                    return e;
                }(function(t) {
                    var e = [];
                    return 46 === t.charCodeAt(0) && e.push(""), t.replace(Lt, function(t, i, a, n) {
                        e.push(a ? n.replace(Ht, "$1") : i || t);
                    }), e;
                });
                function cr(t) {
                    if ("string" == typeof t || Us(t)) return t;
                    var e = t + "";
                    return "0" == e && 1 / t == -M ? "-0" : e;
                }
                function pr(t) {
                    if (null != t) {
                        try {
                            return he.call(t);
                        } catch (t) {}
                        try {
                            return t + "";
                        } catch (t) {}
                    }
                    return "";
                }
                function ur(t) {
                    if (t instanceof ma) return t.clone();
                    var e = new fa(t.__wrapped__, t.__chain__);
                    return e.__actions__ = ao(t.__actions__), e.__index__ = t.__index__, 
                    e.__values__ = t.__values__, e;
                }
                var dr = An(function(t, e) {
                    return Es(t) ? Ba(t, za(e, 1, Es, !0)) : [];
                }), gr = An(function(t, e) {
                    var i = Tr(e);
                    return Es(i) && (i = o), Es(t) ? Ba(t, za(e, 1, Es, !0), Ro(i, 2)) : [];
                }), yr = An(function(t, e) {
                    var i = Tr(e);
                    return Es(i) && (i = o), Es(t) ? Ba(t, za(e, 1, Es, !0), o, i) : [];
                });
                function fr(t, e, i) {
                    var a = null == t ? 0 : t.length;
                    if (!a) return -1;
                    var n = null == i ? 0 : Hs(i);
                    return n < 0 && (n = Wi(a + n, 0)), ri(t, Ro(e, 3), n);
                }
                function mr(t, e, i) {
                    var a = null == t ? 0 : t.length;
                    if (!a) return -1;
                    var n = a - 1;
                    return i !== o && (n = Hs(i), n = i < 0 ? Wi(a + n, 0) : Ki(n, a - 1)), 
                    ri(t, Ro(e, 3), n, !0);
                }
                function _r(t) {
                    return null != t && t.length ? za(t, 1) : [];
                }
                function vr(t) {
                    return t && t.length ? t[0] : o;
                }
                var Er = An(function(t) {
                    var e = $e(t, Wn);
                    return e.length && e[0] === t[0] ? an(e) : [];
                }), br = An(function(t) {
                    var e = Tr(t), i = $e(t, Wn);
                    return e === Tr(i) ? e = o : i.pop(), i.length && i[0] === t[0] ? an(i, Ro(e, 2)) : [];
                }), Or = An(function(t) {
                    var e = Tr(t), i = $e(t, Wn);
                    return (e = "function" == typeof e ? e : o) && i.pop(), i.length && i[0] === t[0] ? an(i, o, e) : [];
                });
                function Tr(t) {
                    var e = null == t ? 0 : t.length;
                    return e ? t[e - 1] : o;
                }
                var Ar = An(Ir);
                function Ir(t, e) {
                    return t && t.length && e && e.length ? En(t, e) : t;
                }
                var wr = Lo(function(t, e) {
                    var i = null == t ? 0 : t.length, a = Ma(t, e);
                    return bn(t, $e(e, function(t) {
                        return Yo(t, i) ? +t : t;
                    }).sort(to)), a;
                });
                function Cr(t) {
                    return null == t ? t : Xi.call(t);
                }
                var Sr = An(function(t) {
                    return Bn(za(t, 1, Es, !0));
                }), Pr = An(function(t) {
                    var e = Tr(t);
                    return Es(e) && (e = o), Bn(za(t, 1, Es, !0), Ro(e, 2));
                }), Dr = An(function(t) {
                    var e = Tr(t);
                    return e = "function" == typeof e ? e : o, Bn(za(t, 1, Es, !0), o, e);
                });
                function Lr(t) {
                    if (!t || !t.length) return [];
                    var e = 0;
                    return t = Xe(t, function(t) {
                        if (Es(t)) return e = Wi(t.length, e), !0;
                    }), yi(e, function(e) {
                        return $e(t, pi(e));
                    });
                }
                function xr(t, e) {
                    if (!t || !t.length) return [];
                    var i = Lr(t);
                    return null == e ? i : $e(i, function(t) {
                        return We(e, o, t);
                    });
                }
                var Mr = An(function(t, e) {
                    return Es(t) ? Ba(t, e) : [];
                }), Nr = An(function(t) {
                    return jn(Xe(t, Es));
                }), Ur = An(function(t) {
                    var e = Tr(t);
                    return Es(e) && (e = o), jn(Xe(t, Es), Ro(e, 2));
                }), kr = An(function(t) {
                    var e = Tr(t);
                    return e = "function" == typeof e ? e : o, jn(Xe(t, Es), o, e);
                }), Rr = An(Lr);
                var Br = An(function(t) {
                    var e = t.length, i = e > 1 ? t[e - 1] : o;
                    return xr(t, i = "function" == typeof i ? (t.pop(), i) : o);
                });
                function Gr(t) {
                    var e = da(t);
                    return e.__chain__ = !0, e;
                }
                function Vr(t, e) {
                    return e(t);
                }
                var Hr = Lo(function(t) {
                    var e = t.length, i = e ? t[0] : 0, a = this.__wrapped__, n = function(e) {
                        return Ma(e, t);
                    };
                    return !(e > 1 || this.__actions__.length) && a instanceof ma && Yo(i) ? ((a = a.slice(i, +i + (e ? 1 : 0))).__actions__.push({
                        func: Vr,
                        args: [ n ],
                        thisArg: o
                    }), new fa(a, this.__chain__).thru(function(t) {
                        return e && !t.length && t.push(o), t;
                    })) : this.thru(n);
                });
                var Fr = oo(function(t, e, i) {
                    ce.call(t, i) ? ++t[i] : xa(t, i, 1);
                });
                var jr = uo(fr), zr = uo(mr);
                function Wr(t, e) {
                    return (ms(t) ? Ye : Ga)(t, Ro(e, 3));
                }
                function Kr(t, e) {
                    return (ms(t) ? qe : Va)(t, Ro(e, 3));
                }
                var Yr = oo(function(t, e, i) {
                    ce.call(t, i) ? t[i].push(e) : xa(t, i, [ e ]);
                });
                var qr = An(function(t, e, i) {
                    var n = -1, o = "function" == typeof e, r = vs(t) ? a(t.length) : [];
                    return Ga(t, function(t) {
                        r[++n] = o ? We(e, t, i) : nn(t, e, i);
                    }), r;
                }), Qr = oo(function(t, e, i) {
                    xa(t, i, e);
                });
                function Xr(t, e) {
                    return (ms(t) ? $e : dn)(t, Ro(e, 3));
                }
                var Zr = oo(function(t, e, i) {
                    t[i ? 0 : 1].push(e);
                }, function() {
                    return [ [], [] ];
                });
                var Jr = An(function(t, e) {
                    if (null == t) return [];
                    var i = e.length;
                    return i > 1 && qo(t, e[0], e[1]) ? e = [] : i > 2 && qo(e[0], e[1], e[2]) && (e = [ e[0] ]), 
                    _n(t, za(e, 1), []);
                }), $r = ki || function() {
                    return Me.Date.now();
                };
                function ts(t, e, i) {
                    return e = i ? o : e, e = t && null == e ? t.length : e, wo(t, A, o, o, o, o, e);
                }
                function es(t, e) {
                    var i;
                    if ("function" != typeof e) throw new ne(l);
                    return t = Hs(t), function() {
                        return --t > 0 && (i = e.apply(this, arguments)), t <= 1 && (e = o), 
                        i;
                    };
                }
                var is = An(function(t, e, i) {
                    var a = m;
                    if (i.length) {
                        var n = Ci(i, ko(is));
                        a |= O;
                    }
                    return wo(t, a, e, i, n);
                }), as = An(function(t, e, i) {
                    var a = m | _;
                    if (i.length) {
                        var n = Ci(i, ko(as));
                        a |= O;
                    }
                    return wo(e, a, t, i, n);
                });
                function ns(t, e, i) {
                    var a, n, r, s, h, c, p = 0, u = !1, d = !1, g = !0;
                    if ("function" != typeof t) throw new ne(l);
                    function y(e) {
                        var i = a, r = n;
                        return a = n = o, p = e, s = t.apply(r, i);
                    }
                    function f(t) {
                        var i = t - c;
                        return c === o || i >= e || i < 0 || d && t - p >= r;
                    }
                    function m() {
                        var t = $r();
                        if (f(t)) return _(t);
                        h = nr(m, function(t) {
                            var i = e - (t - c);
                            return d ? Ki(i, r - (t - p)) : i;
                        }(t));
                    }
                    function _(t) {
                        return h = o, g && a ? y(t) : (a = n = o, s);
                    }
                    function v() {
                        var t = $r(), i = f(t);
                        if (a = arguments, n = this, c = t, i) {
                            if (h === o) return function(t) {
                                return p = t, h = nr(m, e), u ? y(t) : s;
                            }(c);
                            if (d) return h = nr(m, e), y(c);
                        }
                        return h === o && (h = nr(m, e)), s;
                    }
                    return e = js(e) || 0, Cs(i) && (u = !!i.leading, r = (d = "maxWait" in i) ? Wi(js(i.maxWait) || 0, e) : r, 
                    g = "trailing" in i ? !!i.trailing : g), v.cancel = function() {
                        h !== o && Xn(h), p = 0, a = c = n = h = o;
                    }, v.flush = function() {
                        return h === o ? s : _($r());
                    }, v;
                }
                var os = An(function(t, e) {
                    return Ra(t, 1, e);
                }), rs = An(function(t, e, i) {
                    return Ra(t, js(e) || 0, i);
                });
                function ss(t, e) {
                    if ("function" != typeof t || null != e && "function" != typeof e) throw new ne(l);
                    var i = function() {
                        var a = arguments, n = e ? e.apply(this, a) : a[0], o = i.cache;
                        if (o.has(n)) return o.get(n);
                        var r = t.apply(this, a);
                        return i.cache = o.set(n, r) || o, r;
                    };
                    return i.cache = new (ss.Cache || Ea)(), i;
                }
                function ls(t) {
                    if ("function" != typeof t) throw new ne(l);
                    return function() {
                        var e = arguments;
                        switch (e.length) {
                          case 0:
                            return !t.call(this);

                          case 1:
                            return !t.call(this, e[0]);

                          case 2:
                            return !t.call(this, e[0], e[1]);

                          case 3:
                            return !t.call(this, e[0], e[1], e[2]);
                        }
                        return !t.apply(this, e);
                    };
                }
                ss.Cache = Ea;
                var hs = qn(function(t, e) {
                    var i = (e = 1 == e.length && ms(e[0]) ? $e(e[0], fi(Ro())) : $e(za(e, 1), fi(Ro()))).length;
                    return An(function(a) {
                        for (var n = -1, o = Ki(a.length, i); ++n < o; ) a[n] = e[n].call(this, a[n]);
                        return We(t, this, a);
                    });
                }), cs = An(function(t, e) {
                    var i = Ci(e, ko(cs));
                    return wo(t, O, o, e, i);
                }), ps = An(function(t, e) {
                    var i = Ci(e, ko(ps));
                    return wo(t, T, o, e, i);
                }), us = Lo(function(t, e) {
                    return wo(t, I, o, o, o, e);
                });
                function ds(t, e) {
                    return t === e || t != t && e != e;
                }
                var gs = bo($a), ys = bo(function(t, e) {
                    return t >= e;
                }), fs = on(function() {
                    return arguments;
                }()) ? on : function(t) {
                    return Ss(t) && ce.call(t, "callee") && !Ne.call(t, "callee");
                }, ms = a.isArray, _s = Ge ? fi(Ge) : function(t) {
                    return Ss(t) && Ja(t) == lt;
                };
                function vs(t) {
                    return null != t && ws(t.length) && !As(t);
                }
                function Es(t) {
                    return Ss(t) && vs(t);
                }
                var bs = Hi || jl, Os = Ve ? fi(Ve) : function(t) {
                    return Ss(t) && Ja(t) == W;
                };
                function Ts(t) {
                    if (!Ss(t)) return !1;
                    var e = Ja(t);
                    return e == Y || e == K || "string" == typeof t.message && "string" == typeof t.name && !Ls(t);
                }
                function As(t) {
                    if (!Cs(t)) return !1;
                    var e = Ja(t);
                    return e == q || e == Q || e == j || e == tt;
                }
                function Is(t) {
                    return "number" == typeof t && t == Hs(t);
                }
                function ws(t) {
                    return "number" == typeof t && t > -1 && t % 1 == 0 && t <= N;
                }
                function Cs(t) {
                    var e = typeof t;
                    return null != t && ("object" == e || "function" == e);
                }
                function Ss(t) {
                    return null != t && "object" == typeof t;
                }
                var Ps = He ? fi(He) : function(t) {
                    return Ss(t) && jo(t) == X;
                };
                function Ds(t) {
                    return "number" == typeof t || Ss(t) && Ja(t) == Z;
                }
                function Ls(t) {
                    if (!Ss(t) || Ja(t) != $) return !1;
                    var e = Le(t);
                    if (null === e) return !0;
                    var i = ce.call(e, "constructor") && e.constructor;
                    return "function" == typeof i && i instanceof i && he.call(i) == ge;
                }
                var xs = Fe ? fi(Fe) : function(t) {
                    return Ss(t) && Ja(t) == et;
                };
                var Ms = je ? fi(je) : function(t) {
                    return Ss(t) && jo(t) == it;
                };
                function Ns(t) {
                    return "string" == typeof t || !ms(t) && Ss(t) && Ja(t) == at;
                }
                function Us(t) {
                    return "symbol" == typeof t || Ss(t) && Ja(t) == nt;
                }
                var ks = ze ? fi(ze) : function(t) {
                    return Ss(t) && ws(t.length) && !!we[Ja(t)];
                };
                var Rs = bo(un), Bs = bo(function(t, e) {
                    return t <= e;
                });
                function Gs(t) {
                    if (!t) return [];
                    if (vs(t)) return Ns(t) ? xi(t) : ao(t);
                    if (Be && t[Be]) return function(t) {
                        for (var e, i = []; !(e = t.next()).done; ) i.push(e.value);
                        return i;
                    }(t[Be]());
                    var e = jo(t);
                    return (e == X ? Ii : e == it ? Pi : dl)(t);
                }
                function Vs(t) {
                    return t ? (t = js(t)) === M || t === -M ? (t < 0 ? -1 : 1) * U : t == t ? t : 0 : 0 === t ? t : 0;
                }
                function Hs(t) {
                    var e = Vs(t), i = e % 1;
                    return e == e ? i ? e - i : e : 0;
                }
                function Fs(t) {
                    return t ? Na(Hs(t), 0, R) : 0;
                }
                function js(t) {
                    if ("number" == typeof t) return t;
                    if (Us(t)) return k;
                    if (Cs(t)) {
                        var e = "function" == typeof t.valueOf ? t.valueOf() : t;
                        t = Cs(e) ? e + "" : e;
                    }
                    if ("string" != typeof t) return 0 === t ? t : +t;
                    t = t.replace(Nt, "");
                    var i = Wt.test(t);
                    return i || Yt.test(t) ? De(t.slice(2), i ? 2 : 8) : zt.test(t) ? k : +t;
                }
                function zs(t) {
                    return no(t, ol(t));
                }
                function Ws(t) {
                    return null == t ? "" : Rn(t);
                }
                var Ks = ro(function(t, e) {
                    if (Jo(e) || vs(e)) no(e, nl(e), t); else for (var i in e) ce.call(e, i) && Sa(t, i, e[i]);
                }), Ys = ro(function(t, e) {
                    no(e, ol(e), t);
                }), qs = ro(function(t, e, i, a) {
                    no(e, ol(e), t, a);
                }), Qs = ro(function(t, e, i, a) {
                    no(e, nl(e), t, a);
                }), Xs = Lo(Ma);
                var Zs = An(function(t, e) {
                    t = ee(t);
                    var i = -1, a = e.length, n = a > 2 ? e[2] : o;
                    for (n && qo(e[0], e[1], n) && (a = 1); ++i < a; ) for (var r = e[i], s = ol(r), l = -1, h = s.length; ++l < h; ) {
                        var c = s[l], p = t[c];
                        (p === o || ds(p, se[c]) && !ce.call(t, c)) && (t[c] = r[c]);
                    }
                    return t;
                }), Js = An(function(t) {
                    return t.push(o, So), We(sl, o, t);
                });
                function $s(t, e, i) {
                    var a = null == t ? o : Xa(t, e);
                    return a === o ? i : a;
                }
                function tl(t, e) {
                    return null != t && zo(t, e, en);
                }
                var el = fo(function(t, e, i) {
                    null != e && "function" != typeof e.toString && (e = de.call(e)), 
                    t[e] = i;
                }, Cl(Dl)), il = fo(function(t, e, i) {
                    null != e && "function" != typeof e.toString && (e = de.call(e)), 
                    ce.call(t, e) ? t[e].push(i) : t[e] = [ i ];
                }, Ro), al = An(nn);
                function nl(t) {
                    return vs(t) ? Ta(t) : cn(t);
                }
                function ol(t) {
                    return vs(t) ? Ta(t, !0) : pn(t);
                }
                var rl = ro(function(t, e, i) {
                    fn(t, e, i);
                }), sl = ro(function(t, e, i, a) {
                    fn(t, e, i, a);
                }), ll = Lo(function(t, e) {
                    var i = {};
                    if (null == t) return i;
                    var a = !1;
                    e = $e(e, function(e) {
                        return e = Yn(e, t), a || (a = e.length > 1), e;
                    }), no(t, Mo(t), i), a && (i = Ua(i, u | d | g, Po));
                    for (var n = e.length; n--; ) Gn(i, e[n]);
                    return i;
                });
                var hl = Lo(function(t, e) {
                    return null == t ? {} : function(t, e) {
                        return vn(t, e, function(e, i) {
                            return tl(t, i);
                        });
                    }(t, e);
                });
                function cl(t, e) {
                    if (null == t) return {};
                    var i = $e(Mo(t), function(t) {
                        return [ t ];
                    });
                    return e = Ro(e), vn(t, i, function(t, i) {
                        return e(t, i[0]);
                    });
                }
                var pl = Io(nl), ul = Io(ol);
                function dl(t) {
                    return null == t ? [] : mi(t, nl(t));
                }
                var gl = co(function(t, e, i) {
                    return e = e.toLowerCase(), t + (i ? yl(e) : e);
                });
                function yl(t) {
                    return Tl(Ws(t).toLowerCase());
                }
                function fl(t) {
                    return (t = Ws(t)) && t.replace(Qt, bi).replace(ve, "");
                }
                var ml = co(function(t, e, i) {
                    return t + (i ? "-" : "") + e.toLowerCase();
                }), _l = co(function(t, e, i) {
                    return t + (i ? " " : "") + e.toLowerCase();
                }), vl = ho("toLowerCase");
                var El = co(function(t, e, i) {
                    return t + (i ? "_" : "") + e.toLowerCase();
                });
                var bl = co(function(t, e, i) {
                    return t + (i ? " " : "") + Tl(e);
                });
                var Ol = co(function(t, e, i) {
                    return t + (i ? " " : "") + e.toUpperCase();
                }), Tl = ho("toUpperCase");
                function Al(t, e, i) {
                    return t = Ws(t), (e = i ? o : e) === o ? function(t) {
                        return Te.test(t);
                    }(t) ? function(t) {
                        return t.match(be) || [];
                    }(t) : function(t) {
                        return t.match(Vt) || [];
                    }(t) : t.match(e) || [];
                }
                var Il = An(function(t, e) {
                    try {
                        return We(t, o, e);
                    } catch (t) {
                        return Ts(t) ? t : new Jt(t);
                    }
                }), wl = Lo(function(t, e) {
                    return Ye(e, function(e) {
                        e = cr(e), xa(t, e, is(t[e], t));
                    }), t;
                });
                function Cl(t) {
                    return function() {
                        return t;
                    };
                }
                var Sl = go(), Pl = go(!0);
                function Dl(t) {
                    return t;
                }
                function Ll(t) {
                    return hn("function" == typeof t ? t : Ua(t, u));
                }
                var xl = An(function(t, e) {
                    return function(i) {
                        return nn(i, t, e);
                    };
                }), Ml = An(function(t, e) {
                    return function(i) {
                        return nn(t, i, e);
                    };
                });
                function Nl(t, e, i) {
                    var a = nl(e), n = Qa(e, a);
                    null != i || Cs(e) && (n.length || !a.length) || (i = e, e = t, 
                    t = this, n = Qa(e, nl(e)));
                    var o = !(Cs(i) && "chain" in i && !i.chain), r = As(t);
                    return Ye(n, function(i) {
                        var a = e[i];
                        t[i] = a, r && (t.prototype[i] = function() {
                            var e = this.__chain__;
                            if (o || e) {
                                var i = t(this.__wrapped__);
                                return (i.__actions__ = ao(this.__actions__)).push({
                                    func: a,
                                    args: arguments,
                                    thisArg: t
                                }), i.__chain__ = e, i;
                            }
                            return a.apply(t, ti([ this.value() ], arguments));
                        });
                    }), t;
                }
                function Ul() {}
                var kl = _o($e), Rl = _o(Qe), Bl = _o(ai);
                function Gl(t) {
                    return Qo(t) ? pi(cr(t)) : function(t) {
                        return function(e) {
                            return Xa(e, t);
                        };
                    }(t);
                }
                var Vl = Eo(), Hl = Eo(!0);
                function Fl() {
                    return [];
                }
                function jl() {
                    return !1;
                }
                var zl = mo(function(t, e) {
                    return t + e;
                }, 0), Wl = To("ceil"), Kl = mo(function(t, e) {
                    return t / e;
                }, 1), Yl = To("floor");
                var ql, Ql = mo(function(t, e) {
                    return t * e;
                }, 1), Xl = To("round"), Zl = mo(function(t, e) {
                    return t - e;
                }, 0);
                return da.after = function(t, e) {
                    if ("function" != typeof e) throw new ne(l);
                    return t = Hs(t), function() {
                        if (--t < 1) return e.apply(this, arguments);
                    };
                }, da.ary = ts, da.assign = Ks, da.assignIn = Ys, da.assignInWith = qs, 
                da.assignWith = Qs, da.at = Xs, da.before = es, da.bind = is, da.bindAll = wl, 
                da.bindKey = as, da.castArray = function() {
                    if (!arguments.length) return [];
                    var t = arguments[0];
                    return ms(t) ? t : [ t ];
                }, da.chain = Gr, da.chunk = function(t, e, i) {
                    e = (i ? qo(t, e, i) : e === o) ? 1 : Wi(Hs(e), 0);
                    var n = null == t ? 0 : t.length;
                    if (!n || e < 1) return [];
                    for (var r = 0, s = 0, l = a(Bi(n / e)); r < n; ) l[s++] = Ln(t, r, r += e);
                    return l;
                }, da.compact = function(t) {
                    for (var e = -1, i = null == t ? 0 : t.length, a = 0, n = []; ++e < i; ) {
                        var o = t[e];
                        o && (n[a++] = o);
                    }
                    return n;
                }, da.concat = function() {
                    var t = arguments.length;
                    if (!t) return [];
                    for (var e = a(t - 1), i = arguments[0], n = t; n--; ) e[n - 1] = arguments[n];
                    return ti(ms(i) ? ao(i) : [ i ], za(e, 1));
                }, da.cond = function(t) {
                    var e = null == t ? 0 : t.length, i = Ro();
                    return t = e ? $e(t, function(t) {
                        if ("function" != typeof t[1]) throw new ne(l);
                        return [ i(t[0]), t[1] ];
                    }) : [], An(function(i) {
                        for (var a = -1; ++a < e; ) {
                            var n = t[a];
                            if (We(n[0], this, i)) return We(n[1], this, i);
                        }
                    });
                }, da.conforms = function(t) {
                    return function(t) {
                        var e = nl(t);
                        return function(i) {
                            return ka(i, t, e);
                        };
                    }(Ua(t, u));
                }, da.constant = Cl, da.countBy = Fr, da.create = function(t, e) {
                    var i = ga(t);
                    return null == e ? i : La(i, e);
                }, da.curry = function t(e, i, a) {
                    var n = wo(e, E, o, o, o, o, o, i = a ? o : i);
                    return n.placeholder = t.placeholder, n;
                }, da.curryRight = function t(e, i, a) {
                    var n = wo(e, b, o, o, o, o, o, i = a ? o : i);
                    return n.placeholder = t.placeholder, n;
                }, da.debounce = ns, da.defaults = Zs, da.defaultsDeep = Js, da.defer = os, 
                da.delay = rs, da.difference = dr, da.differenceBy = gr, da.differenceWith = yr, 
                da.drop = function(t, e, i) {
                    var a = null == t ? 0 : t.length;
                    return a ? Ln(t, (e = i || e === o ? 1 : Hs(e)) < 0 ? 0 : e, a) : [];
                }, da.dropRight = function(t, e, i) {
                    var a = null == t ? 0 : t.length;
                    return a ? Ln(t, 0, (e = a - (e = i || e === o ? 1 : Hs(e))) < 0 ? 0 : e) : [];
                }, da.dropRightWhile = function(t, e) {
                    return t && t.length ? Hn(t, Ro(e, 3), !0, !0) : [];
                }, da.dropWhile = function(t, e) {
                    return t && t.length ? Hn(t, Ro(e, 3), !0) : [];
                }, da.fill = function(t, e, i, a) {
                    var n = null == t ? 0 : t.length;
                    return n ? (i && "number" != typeof i && qo(t, e, i) && (i = 0, 
                    a = n), function(t, e, i, a) {
                        var n = t.length;
                        for ((i = Hs(i)) < 0 && (i = -i > n ? 0 : n + i), (a = a === o || a > n ? n : Hs(a)) < 0 && (a += n), 
                        a = i > a ? 0 : Fs(a); i < a; ) t[i++] = e;
                        return t;
                    }(t, e, i, a)) : [];
                }, da.filter = function(t, e) {
                    return (ms(t) ? Xe : ja)(t, Ro(e, 3));
                }, da.flatMap = function(t, e) {
                    return za(Xr(t, e), 1);
                }, da.flatMapDeep = function(t, e) {
                    return za(Xr(t, e), M);
                }, da.flatMapDepth = function(t, e, i) {
                    return i = i === o ? 1 : Hs(i), za(Xr(t, e), i);
                }, da.flatten = _r, da.flattenDeep = function(t) {
                    return null != t && t.length ? za(t, M) : [];
                }, da.flattenDepth = function(t, e) {
                    return null != t && t.length ? za(t, e = e === o ? 1 : Hs(e)) : [];
                }, da.flip = function(t) {
                    return wo(t, w);
                }, da.flow = Sl, da.flowRight = Pl, da.fromPairs = function(t) {
                    for (var e = -1, i = null == t ? 0 : t.length, a = {}; ++e < i; ) {
                        var n = t[e];
                        a[n[0]] = n[1];
                    }
                    return a;
                }, da.functions = function(t) {
                    return null == t ? [] : Qa(t, nl(t));
                }, da.functionsIn = function(t) {
                    return null == t ? [] : Qa(t, ol(t));
                }, da.groupBy = Yr, da.initial = function(t) {
                    return null != t && t.length ? Ln(t, 0, -1) : [];
                }, da.intersection = Er, da.intersectionBy = br, da.intersectionWith = Or, 
                da.invert = el, da.invertBy = il, da.invokeMap = qr, da.iteratee = Ll, 
                da.keyBy = Qr, da.keys = nl, da.keysIn = ol, da.map = Xr, da.mapKeys = function(t, e) {
                    var i = {};
                    return e = Ro(e, 3), Ya(t, function(t, a, n) {
                        xa(i, e(t, a, n), t);
                    }), i;
                }, da.mapValues = function(t, e) {
                    var i = {};
                    return e = Ro(e, 3), Ya(t, function(t, a, n) {
                        xa(i, a, e(t, a, n));
                    }), i;
                }, da.matches = function(t) {
                    return gn(Ua(t, u));
                }, da.matchesProperty = function(t, e) {
                    return yn(t, Ua(e, u));
                }, da.memoize = ss, da.merge = rl, da.mergeWith = sl, da.method = xl, 
                da.methodOf = Ml, da.mixin = Nl, da.negate = ls, da.nthArg = function(t) {
                    return t = Hs(t), An(function(e) {
                        return mn(e, t);
                    });
                }, da.omit = ll, da.omitBy = function(t, e) {
                    return cl(t, ls(Ro(e)));
                }, da.once = function(t) {
                    return es(2, t);
                }, da.orderBy = function(t, e, i, a) {
                    return null == t ? [] : (ms(e) || (e = null == e ? [] : [ e ]), 
                    ms(i = a ? o : i) || (i = null == i ? [] : [ i ]), _n(t, e, i));
                }, da.over = kl, da.overArgs = hs, da.overEvery = Rl, da.overSome = Bl, 
                da.partial = cs, da.partialRight = ps, da.partition = Zr, da.pick = hl, 
                da.pickBy = cl, da.property = Gl, da.propertyOf = function(t) {
                    return function(e) {
                        return null == t ? o : Xa(t, e);
                    };
                }, da.pull = Ar, da.pullAll = Ir, da.pullAllBy = function(t, e, i) {
                    return t && t.length && e && e.length ? En(t, e, Ro(i, 2)) : t;
                }, da.pullAllWith = function(t, e, i) {
                    return t && t.length && e && e.length ? En(t, e, o, i) : t;
                }, da.pullAt = wr, da.range = Vl, da.rangeRight = Hl, da.rearg = us, 
                da.reject = function(t, e) {
                    return (ms(t) ? Xe : ja)(t, ls(Ro(e, 3)));
                }, da.remove = function(t, e) {
                    var i = [];
                    if (!t || !t.length) return i;
                    var a = -1, n = [], o = t.length;
                    for (e = Ro(e, 3); ++a < o; ) {
                        var r = t[a];
                        e(r, a, t) && (i.push(r), n.push(a));
                    }
                    return bn(t, n), i;
                }, da.rest = function(t, e) {
                    if ("function" != typeof t) throw new ne(l);
                    return An(t, e = e === o ? e : Hs(e));
                }, da.reverse = Cr, da.sampleSize = function(t, e, i) {
                    return e = (i ? qo(t, e, i) : e === o) ? 1 : Hs(e), (ms(t) ? Ia : wn)(t, e);
                }, da.set = function(t, e, i) {
                    return null == t ? t : Cn(t, e, i);
                }, da.setWith = function(t, e, i, a) {
                    return a = "function" == typeof a ? a : o, null == t ? t : Cn(t, e, i, a);
                }, da.shuffle = function(t) {
                    return (ms(t) ? wa : Dn)(t);
                }, da.slice = function(t, e, i) {
                    var a = null == t ? 0 : t.length;
                    return a ? (i && "number" != typeof i && qo(t, e, i) ? (e = 0, 
                    i = a) : (e = null == e ? 0 : Hs(e), i = i === o ? a : Hs(i)), 
                    Ln(t, e, i)) : [];
                }, da.sortBy = Jr, da.sortedUniq = function(t) {
                    return t && t.length ? Un(t) : [];
                }, da.sortedUniqBy = function(t, e) {
                    return t && t.length ? Un(t, Ro(e, 2)) : [];
                }, da.split = function(t, e, i) {
                    return i && "number" != typeof i && qo(t, e, i) && (e = i = o), 
                    (i = i === o ? R : i >>> 0) ? (t = Ws(t)) && ("string" == typeof e || null != e && !xs(e)) && !(e = Rn(e)) && Ai(t) ? Qn(xi(t), 0, i) : t.split(e, i) : [];
                }, da.spread = function(t, e) {
                    if ("function" != typeof t) throw new ne(l);
                    return e = null == e ? 0 : Wi(Hs(e), 0), An(function(i) {
                        var a = i[e], n = Qn(i, 0, e);
                        return a && ti(n, a), We(t, this, n);
                    });
                }, da.tail = function(t) {
                    var e = null == t ? 0 : t.length;
                    return e ? Ln(t, 1, e) : [];
                }, da.take = function(t, e, i) {
                    return t && t.length ? Ln(t, 0, (e = i || e === o ? 1 : Hs(e)) < 0 ? 0 : e) : [];
                }, da.takeRight = function(t, e, i) {
                    var a = null == t ? 0 : t.length;
                    return a ? Ln(t, (e = a - (e = i || e === o ? 1 : Hs(e))) < 0 ? 0 : e, a) : [];
                }, da.takeRightWhile = function(t, e) {
                    return t && t.length ? Hn(t, Ro(e, 3), !1, !0) : [];
                }, da.takeWhile = function(t, e) {
                    return t && t.length ? Hn(t, Ro(e, 3)) : [];
                }, da.tap = function(t, e) {
                    return e(t), t;
                }, da.throttle = function(t, e, i) {
                    var a = !0, n = !0;
                    if ("function" != typeof t) throw new ne(l);
                    return Cs(i) && (a = "leading" in i ? !!i.leading : a, n = "trailing" in i ? !!i.trailing : n), 
                    ns(t, e, {
                        leading: a,
                        maxWait: e,
                        trailing: n
                    });
                }, da.thru = Vr, da.toArray = Gs, da.toPairs = pl, da.toPairsIn = ul, 
                da.toPath = function(t) {
                    return ms(t) ? $e(t, cr) : Us(t) ? [ t ] : ao(hr(Ws(t)));
                }, da.toPlainObject = zs, da.transform = function(t, e, i) {
                    var a = ms(t), n = a || bs(t) || ks(t);
                    if (e = Ro(e, 4), null == i) {
                        var o = t && t.constructor;
                        i = n ? a ? new o() : [] : Cs(t) && As(o) ? ga(Le(t)) : {};
                    }
                    return (n ? Ye : Ya)(t, function(t, a, n) {
                        return e(i, t, a, n);
                    }), i;
                }, da.unary = function(t) {
                    return ts(t, 1);
                }, da.union = Sr, da.unionBy = Pr, da.unionWith = Dr, da.uniq = function(t) {
                    return t && t.length ? Bn(t) : [];
                }, da.uniqBy = function(t, e) {
                    return t && t.length ? Bn(t, Ro(e, 2)) : [];
                }, da.uniqWith = function(t, e) {
                    return e = "function" == typeof e ? e : o, t && t.length ? Bn(t, o, e) : [];
                }, da.unset = function(t, e) {
                    return null == t || Gn(t, e);
                }, da.unzip = Lr, da.unzipWith = xr, da.update = function(t, e, i) {
                    return null == t ? t : Vn(t, e, Kn(i));
                }, da.updateWith = function(t, e, i, a) {
                    return a = "function" == typeof a ? a : o, null == t ? t : Vn(t, e, Kn(i), a);
                }, da.values = dl, da.valuesIn = function(t) {
                    return null == t ? [] : mi(t, ol(t));
                }, da.without = Mr, da.words = Al, da.wrap = function(t, e) {
                    return cs(Kn(e), t);
                }, da.xor = Nr, da.xorBy = Ur, da.xorWith = kr, da.zip = Rr, da.zipObject = function(t, e) {
                    return zn(t || [], e || [], Sa);
                }, da.zipObjectDeep = function(t, e) {
                    return zn(t || [], e || [], Cn);
                }, da.zipWith = Br, da.entries = pl, da.entriesIn = ul, da.extend = Ys, 
                da.extendWith = qs, Nl(da, da), da.add = zl, da.attempt = Il, da.camelCase = gl, 
                da.capitalize = yl, da.ceil = Wl, da.clamp = function(t, e, i) {
                    return i === o && (i = e, e = o), i !== o && (i = (i = js(i)) == i ? i : 0), 
                    e !== o && (e = (e = js(e)) == e ? e : 0), Na(js(t), e, i);
                }, da.clone = function(t) {
                    return Ua(t, g);
                }, da.cloneDeep = function(t) {
                    return Ua(t, u | g);
                }, da.cloneDeepWith = function(t, e) {
                    return Ua(t, u | g, e = "function" == typeof e ? e : o);
                }, da.cloneWith = function(t, e) {
                    return Ua(t, g, e = "function" == typeof e ? e : o);
                }, da.conformsTo = function(t, e) {
                    return null == e || ka(t, e, nl(e));
                }, da.deburr = fl, da.defaultTo = function(t, e) {
                    return null == t || t != t ? e : t;
                }, da.divide = Kl, da.endsWith = function(t, e, i) {
                    t = Ws(t), e = Rn(e);
                    var a = t.length, n = i = i === o ? a : Na(Hs(i), 0, a);
                    return (i -= e.length) >= 0 && t.slice(i, n) == e;
                }, da.eq = ds, da.escape = function(t) {
                    return (t = Ws(t)) && It.test(t) ? t.replace(Tt, Oi) : t;
                }, da.escapeRegExp = function(t) {
                    return (t = Ws(t)) && Mt.test(t) ? t.replace(xt, "\\$&") : t;
                }, da.every = function(t, e, i) {
                    var a = ms(t) ? Qe : Ha;
                    return i && qo(t, e, i) && (e = o), a(t, Ro(e, 3));
                }, da.find = jr, da.findIndex = fr, da.findKey = function(t, e) {
                    return oi(t, Ro(e, 3), Ya);
                }, da.findLast = zr, da.findLastIndex = mr, da.findLastKey = function(t, e) {
                    return oi(t, Ro(e, 3), qa);
                }, da.floor = Yl, da.forEach = Wr, da.forEachRight = Kr, da.forIn = function(t, e) {
                    return null == t ? t : Wa(t, Ro(e, 3), ol);
                }, da.forInRight = function(t, e) {
                    return null == t ? t : Ka(t, Ro(e, 3), ol);
                }, da.forOwn = function(t, e) {
                    return t && Ya(t, Ro(e, 3));
                }, da.forOwnRight = function(t, e) {
                    return t && qa(t, Ro(e, 3));
                }, da.get = $s, da.gt = gs, da.gte = ys, da.has = function(t, e) {
                    return null != t && zo(t, e, tn);
                }, da.hasIn = tl, da.head = vr, da.identity = Dl, da.includes = function(t, e, i, a) {
                    t = vs(t) ? t : dl(t), i = i && !a ? Hs(i) : 0;
                    var n = t.length;
                    return i < 0 && (i = Wi(n + i, 0)), Ns(t) ? i <= n && t.indexOf(e, i) > -1 : !!n && si(t, e, i) > -1;
                }, da.indexOf = function(t, e, i) {
                    var a = null == t ? 0 : t.length;
                    if (!a) return -1;
                    var n = null == i ? 0 : Hs(i);
                    return n < 0 && (n = Wi(a + n, 0)), si(t, e, n);
                }, da.inRange = function(t, e, i) {
                    return e = Vs(e), i === o ? (i = e, e = 0) : i = Vs(i), function(t, e, i) {
                        return t >= Ki(e, i) && t < Wi(e, i);
                    }(t = js(t), e, i);
                }, da.invoke = al, da.isArguments = fs, da.isArray = ms, da.isArrayBuffer = _s, 
                da.isArrayLike = vs, da.isArrayLikeObject = Es, da.isBoolean = function(t) {
                    return !0 === t || !1 === t || Ss(t) && Ja(t) == z;
                }, da.isBuffer = bs, da.isDate = Os, da.isElement = function(t) {
                    return Ss(t) && 1 === t.nodeType && !Ls(t);
                }, da.isEmpty = function(t) {
                    if (null == t) return !0;
                    if (vs(t) && (ms(t) || "string" == typeof t || "function" == typeof t.splice || bs(t) || ks(t) || fs(t))) return !t.length;
                    var e = jo(t);
                    if (e == X || e == it) return !t.size;
                    if (Jo(t)) return !cn(t).length;
                    for (var i in t) if (ce.call(t, i)) return !1;
                    return !0;
                }, da.isEqual = function(t, e) {
                    return rn(t, e);
                }, da.isEqualWith = function(t, e, i) {
                    var a = (i = "function" == typeof i ? i : o) ? i(t, e) : o;
                    return a === o ? rn(t, e, o, i) : !!a;
                }, da.isError = Ts, da.isFinite = function(t) {
                    return "number" == typeof t && Fi(t);
                }, da.isFunction = As, da.isInteger = Is, da.isLength = ws, da.isMap = Ps, 
                da.isMatch = function(t, e) {
                    return t === e || sn(t, e, Go(e));
                }, da.isMatchWith = function(t, e, i) {
                    return i = "function" == typeof i ? i : o, sn(t, e, Go(e), i);
                }, da.isNaN = function(t) {
                    return Ds(t) && t != +t;
                }, da.isNative = function(t) {
                    if (Zo(t)) throw new Jt(s);
                    return ln(t);
                }, da.isNil = function(t) {
                    return null == t;
                }, da.isNull = function(t) {
                    return null === t;
                }, da.isNumber = Ds, da.isObject = Cs, da.isObjectLike = Ss, da.isPlainObject = Ls, 
                da.isRegExp = xs, da.isSafeInteger = function(t) {
                    return Is(t) && t >= -N && t <= N;
                }, da.isSet = Ms, da.isString = Ns, da.isSymbol = Us, da.isTypedArray = ks, 
                da.isUndefined = function(t) {
                    return t === o;
                }, da.isWeakMap = function(t) {
                    return Ss(t) && jo(t) == rt;
                }, da.isWeakSet = function(t) {
                    return Ss(t) && Ja(t) == st;
                }, da.join = function(t, e) {
                    return null == t ? "" : ji.call(t, e);
                }, da.kebabCase = ml, da.last = Tr, da.lastIndexOf = function(t, e, i) {
                    var a = null == t ? 0 : t.length;
                    if (!a) return -1;
                    var n = a;
                    return i !== o && (n = (n = Hs(i)) < 0 ? Wi(a + n, 0) : Ki(n, a - 1)), 
                    e == e ? function(t, e, i) {
                        for (var a = i + 1; a--; ) if (t[a] === e) return a;
                        return a;
                    }(t, e, n) : ri(t, hi, n, !0);
                }, da.lowerCase = _l, da.lowerFirst = vl, da.lt = Rs, da.lte = Bs, 
                da.max = function(t) {
                    return t && t.length ? Fa(t, Dl, $a) : o;
                }, da.maxBy = function(t, e) {
                    return t && t.length ? Fa(t, Ro(e, 2), $a) : o;
                }, da.mean = function(t) {
                    return ci(t, Dl);
                }, da.meanBy = function(t, e) {
                    return ci(t, Ro(e, 2));
                }, da.min = function(t) {
                    return t && t.length ? Fa(t, Dl, un) : o;
                }, da.minBy = function(t, e) {
                    return t && t.length ? Fa(t, Ro(e, 2), un) : o;
                }, da.stubArray = Fl, da.stubFalse = jl, da.stubObject = function() {
                    return {};
                }, da.stubString = function() {
                    return "";
                }, da.stubTrue = function() {
                    return !0;
                }, da.multiply = Ql, da.nth = function(t, e) {
                    return t && t.length ? mn(t, Hs(e)) : o;
                }, da.noConflict = function() {
                    return Me._ === this && (Me._ = ye), this;
                }, da.noop = Ul, da.now = $r, da.pad = function(t, e, i) {
                    t = Ws(t);
                    var a = (e = Hs(e)) ? Li(t) : 0;
                    if (!e || a >= e) return t;
                    var n = (e - a) / 2;
                    return vo(Gi(n), i) + t + vo(Bi(n), i);
                }, da.padEnd = function(t, e, i) {
                    t = Ws(t);
                    var a = (e = Hs(e)) ? Li(t) : 0;
                    return e && a < e ? t + vo(e - a, i) : t;
                }, da.padStart = function(t, e, i) {
                    t = Ws(t);
                    var a = (e = Hs(e)) ? Li(t) : 0;
                    return e && a < e ? vo(e - a, i) + t : t;
                }, da.parseInt = function(t, e, i) {
                    return i || null == e ? e = 0 : e && (e = +e), qi(Ws(t).replace(Ut, ""), e || 0);
                }, da.random = function(t, e, i) {
                    if (i && "boolean" != typeof i && qo(t, e, i) && (e = i = o), 
                    i === o && ("boolean" == typeof e ? (i = e, e = o) : "boolean" == typeof t && (i = t, 
                    t = o)), t === o && e === o ? (t = 0, e = 1) : (t = Vs(t), e === o ? (e = t, 
                    t = 0) : e = Vs(e)), t > e) {
                        var a = t;
                        t = e, e = a;
                    }
                    if (i || t % 1 || e % 1) {
                        var n = Qi();
                        return Ki(t + n * (e - t + Pe("1e-" + ((n + "").length - 1))), e);
                    }
                    return On(t, e);
                }, da.reduce = function(t, e, i) {
                    var a = ms(t) ? ei : di, n = arguments.length < 3;
                    return a(t, Ro(e, 4), i, n, Ga);
                }, da.reduceRight = function(t, e, i) {
                    var a = ms(t) ? ii : di, n = arguments.length < 3;
                    return a(t, Ro(e, 4), i, n, Va);
                }, da.repeat = function(t, e, i) {
                    return e = (i ? qo(t, e, i) : e === o) ? 1 : Hs(e), Tn(Ws(t), e);
                }, da.replace = function() {
                    var t = arguments, e = Ws(t[0]);
                    return t.length < 3 ? e : e.replace(t[1], t[2]);
                }, da.result = function(t, e, i) {
                    var a = -1, n = (e = Yn(e, t)).length;
                    for (n || (n = 1, t = o); ++a < n; ) {
                        var r = null == t ? o : t[cr(e[a])];
                        r === o && (a = n, r = i), t = As(r) ? r.call(t) : r;
                    }
                    return t;
                }, da.round = Xl, da.runInContext = t, da.sample = function(t) {
                    return (ms(t) ? Aa : In)(t);
                }, da.size = function(t) {
                    if (null == t) return 0;
                    if (vs(t)) return Ns(t) ? Li(t) : t.length;
                    var e = jo(t);
                    return e == X || e == it ? t.size : cn(t).length;
                }, da.snakeCase = El, da.some = function(t, e, i) {
                    var a = ms(t) ? ai : xn;
                    return i && qo(t, e, i) && (e = o), a(t, Ro(e, 3));
                }, da.sortedIndex = function(t, e) {
                    return Mn(t, e);
                }, da.sortedIndexBy = function(t, e, i) {
                    return Nn(t, e, Ro(i, 2));
                }, da.sortedIndexOf = function(t, e) {
                    var i = null == t ? 0 : t.length;
                    if (i) {
                        var a = Mn(t, e);
                        if (a < i && ds(t[a], e)) return a;
                    }
                    return -1;
                }, da.sortedLastIndex = function(t, e) {
                    return Mn(t, e, !0);
                }, da.sortedLastIndexBy = function(t, e, i) {
                    return Nn(t, e, Ro(i, 2), !0);
                }, da.sortedLastIndexOf = function(t, e) {
                    if (null != t && t.length) {
                        var i = Mn(t, e, !0) - 1;
                        if (ds(t[i], e)) return i;
                    }
                    return -1;
                }, da.startCase = bl, da.startsWith = function(t, e, i) {
                    return t = Ws(t), i = null == i ? 0 : Na(Hs(i), 0, t.length), 
                    e = Rn(e), t.slice(i, i + e.length) == e;
                }, da.subtract = Zl, da.sum = function(t) {
                    return t && t.length ? gi(t, Dl) : 0;
                }, da.sumBy = function(t, e) {
                    return t && t.length ? gi(t, Ro(e, 2)) : 0;
                }, da.template = function(t, e, i) {
                    var a = da.templateSettings;
                    i && qo(t, e, i) && (e = o), t = Ws(t), e = qs({}, e, a, Co);
                    var n, r, s = qs({}, e.imports, a.imports, Co), l = nl(s), h = mi(s, l), c = 0, p = e.interpolate || Xt, u = "__p += '", d = ie((e.escape || Xt).source + "|" + p.source + "|" + (p === St ? Ft : Xt).source + "|" + (e.evaluate || Xt).source + "|$", "g"), g = "//# sourceURL=" + ("sourceURL" in e ? e.sourceURL : "lodash.templateSources[" + ++Ie + "]") + "\n";
                    t.replace(d, function(e, i, a, o, s, l) {
                        return a || (a = o), u += t.slice(c, l).replace(Zt, Ti), 
                        i && (n = !0, u += "' +\n__e(" + i + ") +\n'"), s && (r = !0, 
                        u += "';\n" + s + ";\n__p += '"), a && (u += "' +\n((__t = (" + a + ")) == null ? '' : __t) +\n'"), 
                        c = l + e.length, e;
                    }), u += "';\n";
                    var y = e.variable;
                    y || (u = "with (obj) {\n" + u + "\n}\n"), u = (r ? u.replace(vt, "") : u).replace(Et, "$1").replace(bt, "$1;"), 
                    u = "function(" + (y || "obj") + ") {\n" + (y ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (n ? ", __e = _.escape" : "") + (r ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + u + "return __p\n}";
                    var f = Il(function() {
                        return $t(l, g + "return " + u).apply(o, h);
                    });
                    if (f.source = u, Ts(f)) throw f;
                    return f;
                }, da.times = function(t, e) {
                    if ((t = Hs(t)) < 1 || t > N) return [];
                    var i = R, a = Ki(t, R);
                    e = Ro(e), t -= R;
                    for (var n = yi(a, e); ++i < t; ) e(i);
                    return n;
                }, da.toFinite = Vs, da.toInteger = Hs, da.toLength = Fs, da.toLower = function(t) {
                    return Ws(t).toLowerCase();
                }, da.toNumber = js, da.toSafeInteger = function(t) {
                    return t ? Na(Hs(t), -N, N) : 0 === t ? t : 0;
                }, da.toString = Ws, da.toUpper = function(t) {
                    return Ws(t).toUpperCase();
                }, da.trim = function(t, e, i) {
                    if ((t = Ws(t)) && (i || e === o)) return t.replace(Nt, "");
                    if (!t || !(e = Rn(e))) return t;
                    var a = xi(t), n = xi(e);
                    return Qn(a, vi(a, n), Ei(a, n) + 1).join("");
                }, da.trimEnd = function(t, e, i) {
                    if ((t = Ws(t)) && (i || e === o)) return t.replace(kt, "");
                    if (!t || !(e = Rn(e))) return t;
                    var a = xi(t);
                    return Qn(a, 0, Ei(a, xi(e)) + 1).join("");
                }, da.trimStart = function(t, e, i) {
                    if ((t = Ws(t)) && (i || e === o)) return t.replace(Ut, "");
                    if (!t || !(e = Rn(e))) return t;
                    var a = xi(t);
                    return Qn(a, vi(a, xi(e))).join("");
                }, da.truncate = function(t, e) {
                    var i = C, a = S;
                    if (Cs(e)) {
                        var n = "separator" in e ? e.separator : n;
                        i = "length" in e ? Hs(e.length) : i, a = "omission" in e ? Rn(e.omission) : a;
                    }
                    var r = (t = Ws(t)).length;
                    if (Ai(t)) {
                        var s = xi(t);
                        r = s.length;
                    }
                    if (i >= r) return t;
                    var l = i - Li(a);
                    if (l < 1) return a;
                    var h = s ? Qn(s, 0, l).join("") : t.slice(0, l);
                    if (n === o) return h + a;
                    if (s && (l += h.length - l), xs(n)) {
                        if (t.slice(l).search(n)) {
                            var c, p = h;
                            for (n.global || (n = ie(n.source, Ws(jt.exec(n)) + "g")), 
                            n.lastIndex = 0; c = n.exec(p); ) var u = c.index;
                            h = h.slice(0, u === o ? l : u);
                        }
                    } else if (t.indexOf(Rn(n), l) != l) {
                        var d = h.lastIndexOf(n);
                        d > -1 && (h = h.slice(0, d));
                    }
                    return h + a;
                }, da.unescape = function(t) {
                    return (t = Ws(t)) && At.test(t) ? t.replace(Ot, Mi) : t;
                }, da.uniqueId = function(t) {
                    var e = ++pe;
                    return Ws(t) + e;
                }, da.upperCase = Ol, da.upperFirst = Tl, da.each = Wr, da.eachRight = Kr, 
                da.first = vr, Nl(da, (ql = {}, Ya(da, function(t, e) {
                    ce.call(da.prototype, e) || (ql[e] = t);
                }), ql), {
                    chain: !1
                }), da.VERSION = "4.17.10", Ye([ "bind", "bindKey", "curry", "curryRight", "partial", "partialRight" ], function(t) {
                    da[t].placeholder = da;
                }), Ye([ "drop", "take" ], function(t, e) {
                    ma.prototype[t] = function(i) {
                        i = i === o ? 1 : Wi(Hs(i), 0);
                        var a = this.__filtered__ && !e ? new ma(this) : this.clone();
                        return a.__filtered__ ? a.__takeCount__ = Ki(i, a.__takeCount__) : a.__views__.push({
                            size: Ki(i, R),
                            type: t + (a.__dir__ < 0 ? "Right" : "")
                        }), a;
                    }, ma.prototype[t + "Right"] = function(e) {
                        return this.reverse()[t](e).reverse();
                    };
                }), Ye([ "filter", "map", "takeWhile" ], function(t, e) {
                    var i = e + 1, a = i == L || 3 == i;
                    ma.prototype[t] = function(t) {
                        var e = this.clone();
                        return e.__iteratees__.push({
                            iteratee: Ro(t, 3),
                            type: i
                        }), e.__filtered__ = e.__filtered__ || a, e;
                    };
                }), Ye([ "head", "last" ], function(t, e) {
                    var i = "take" + (e ? "Right" : "");
                    ma.prototype[t] = function() {
                        return this[i](1).value()[0];
                    };
                }), Ye([ "initial", "tail" ], function(t, e) {
                    var i = "drop" + (e ? "" : "Right");
                    ma.prototype[t] = function() {
                        return this.__filtered__ ? new ma(this) : this[i](1);
                    };
                }), ma.prototype.compact = function() {
                    return this.filter(Dl);
                }, ma.prototype.find = function(t) {
                    return this.filter(t).head();
                }, ma.prototype.findLast = function(t) {
                    return this.reverse().find(t);
                }, ma.prototype.invokeMap = An(function(t, e) {
                    return "function" == typeof t ? new ma(this) : this.map(function(i) {
                        return nn(i, t, e);
                    });
                }), ma.prototype.reject = function(t) {
                    return this.filter(ls(Ro(t)));
                }, ma.prototype.slice = function(t, e) {
                    t = Hs(t);
                    var i = this;
                    return i.__filtered__ && (t > 0 || e < 0) ? new ma(i) : (t < 0 ? i = i.takeRight(-t) : t && (i = i.drop(t)), 
                    e !== o && (i = (e = Hs(e)) < 0 ? i.dropRight(-e) : i.take(e - t)), 
                    i);
                }, ma.prototype.takeRightWhile = function(t) {
                    return this.reverse().takeWhile(t).reverse();
                }, ma.prototype.toArray = function() {
                    return this.take(R);
                }, Ya(ma.prototype, function(t, e) {
                    var i = /^(?:filter|find|map|reject)|While$/.test(e), a = /^(?:head|last)$/.test(e), n = da[a ? "take" + ("last" == e ? "Right" : "") : e], r = a || /^find/.test(e);
                    n && (da.prototype[e] = function() {
                        var e = this.__wrapped__, s = a ? [ 1 ] : arguments, l = e instanceof ma, h = s[0], c = l || ms(e), p = function(t) {
                            var e = n.apply(da, ti([ t ], s));
                            return a && u ? e[0] : e;
                        };
                        c && i && "function" == typeof h && 1 != h.length && (l = c = !1);
                        var u = this.__chain__, d = !!this.__actions__.length, g = r && !u, y = l && !d;
                        if (!r && c) {
                            e = y ? e : new ma(this);
                            var f = t.apply(e, s);
                            return f.__actions__.push({
                                func: Vr,
                                args: [ p ],
                                thisArg: o
                            }), new fa(f, u);
                        }
                        return g && y ? t.apply(this, s) : (f = this.thru(p), g ? a ? f.value()[0] : f.value() : f);
                    });
                }), Ye([ "pop", "push", "shift", "sort", "splice", "unshift" ], function(t) {
                    var e = oe[t], i = /^(?:push|sort|unshift)$/.test(t) ? "tap" : "thru", a = /^(?:pop|shift)$/.test(t);
                    da.prototype[t] = function() {
                        var t = arguments;
                        if (a && !this.__chain__) {
                            var n = this.value();
                            return e.apply(ms(n) ? n : [], t);
                        }
                        return this[i](function(i) {
                            return e.apply(ms(i) ? i : [], t);
                        });
                    };
                }), Ya(ma.prototype, function(t, e) {
                    var i = da[e];
                    if (i) {
                        var a = i.name + "";
                        (na[a] || (na[a] = [])).push({
                            name: e,
                            func: i
                        });
                    }
                }), na[yo(o, _).name] = [ {
                    name: "wrapper",
                    func: o
                } ], ma.prototype.clone = function() {
                    var t = new ma(this.__wrapped__);
                    return t.__actions__ = ao(this.__actions__), t.__dir__ = this.__dir__, 
                    t.__filtered__ = this.__filtered__, t.__iteratees__ = ao(this.__iteratees__), 
                    t.__takeCount__ = this.__takeCount__, t.__views__ = ao(this.__views__), 
                    t;
                }, ma.prototype.reverse = function() {
                    if (this.__filtered__) {
                        var t = new ma(this);
                        t.__dir__ = -1, t.__filtered__ = !0;
                    } else (t = this.clone()).__dir__ *= -1;
                    return t;
                }, ma.prototype.value = function() {
                    var t = this.__wrapped__.value(), e = this.__dir__, i = ms(t), a = e < 0, n = i ? t.length : 0, o = function(t, e, i) {
                        for (var a = -1, n = i.length; ++a < n; ) {
                            var o = i[a], r = o.size;
                            switch (o.type) {
                              case "drop":
                                t += r;
                                break;

                              case "dropRight":
                                e -= r;
                                break;

                              case "take":
                                e = Ki(e, t + r);
                                break;

                              case "takeRight":
                                t = Wi(t, e - r);
                            }
                        }
                        return {
                            start: t,
                            end: e
                        };
                    }(0, n, this.__views__), r = o.start, s = o.end, l = s - r, h = a ? s : r - 1, c = this.__iteratees__, p = c.length, u = 0, d = Ki(l, this.__takeCount__);
                    if (!i || !a && n == l && d == l) return Fn(t, this.__actions__);
                    var g = [];
                    t: for (;l-- && u < d; ) {
                        for (var y = -1, f = t[h += e]; ++y < p; ) {
                            var m = c[y], _ = m.iteratee, v = m.type, E = _(f);
                            if (v == x) f = E; else if (!E) {
                                if (v == L) continue t;
                                break t;
                            }
                        }
                        g[u++] = f;
                    }
                    return g;
                }, da.prototype.at = Hr, da.prototype.chain = function() {
                    return Gr(this);
                }, da.prototype.commit = function() {
                    return new fa(this.value(), this.__chain__);
                }, da.prototype.next = function() {
                    this.__values__ === o && (this.__values__ = Gs(this.value()));
                    var t = this.__index__ >= this.__values__.length;
                    return {
                        done: t,
                        value: t ? o : this.__values__[this.__index__++]
                    };
                }, da.prototype.plant = function(t) {
                    for (var e, i = this; i instanceof ya; ) {
                        var a = ur(i);
                        a.__index__ = 0, a.__values__ = o, e ? n.__wrapped__ = a : e = a;
                        var n = a;
                        i = i.__wrapped__;
                    }
                    return n.__wrapped__ = t, e;
                }, da.prototype.reverse = function() {
                    var t = this.__wrapped__;
                    if (t instanceof ma) {
                        var e = t;
                        return this.__actions__.length && (e = new ma(this)), (e = e.reverse()).__actions__.push({
                            func: Vr,
                            args: [ Cr ],
                            thisArg: o
                        }), new fa(e, this.__chain__);
                    }
                    return this.thru(Cr);
                }, da.prototype.toJSON = da.prototype.valueOf = da.prototype.value = function() {
                    return Fn(this.__wrapped__, this.__actions__);
                }, da.prototype.first = da.prototype.head, Be && (da.prototype[Be] = function() {
                    return this;
                }), da;
            }();
            Me._ = Ni, (n = function() {
                return Ni;
            }.call(e, i, e, a)) === o || (a.exports = n);
        }).call(this);
    }).call(this, i(170), i(106)(t));
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, n = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, o = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(11), s = i(93), l = function() {
        function t(t) {
            this.storageExpiration = null, this.storageExpiration = t;
        }
        return t.prototype.getValue = function(t) {
            return this.hasValue(t) && !this.storageExpiration.hasExpired(t) ? this.retrieveValueFromStorage(t) : null;
        }, t.prototype.invalidate = function() {
            this.storageExpiration.invalidate();
        }, t.prototype.storeValue = function(t, e) {
            this.storageExpiration.cacheItem(t), this.storeValueInStorage(t, e);
        }, t = a([ r.injectable(), o(0, r.inject(s.InjectionIdentifiers.CacheExpirationStrategy)), n("design:paramtypes", [ Object ]) ], t);
    }();
    e.CacheStorage = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(31), r = i(758), s = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            i.store = {
                items: [ {
                    ID: 41,
                    type: "hat"
                }, {
                    ID: 67,
                    type: "weapon"
                }, {
                    ID: 37,
                    type: "outfit"
                }, {
                    ID: 15,
                    type: "pet"
                }, {
                    ID: 35,
                    type: "pet"
                } ]
            }, Object.defineProperty(i.store, "name", {
                get: function() {
                    return e.prodigy.gameContainer.Localizer.getText("STORE_NAME_DYNO");
                }
            }), i.name = "Dyno", i.ID = "dyno", i.bgmID = 3, i.battleBG = "battle-shipwreck-outside", 
            i.onFaint = "dyno-A0", i.questHub = "dyno-A0", i.states = [ "daily" ];
            return i.maps = {
                A0: new r.DynoA0(i, [ "tileset-generic", "tileset-outsidesnow", "atlas-91", "tileset-town", "atlas-122", "tileset-volcano", "battle-shipwreck-outside", "tileset-generic-new", "tileset-ship-exterior", "tileset-water-new" ])
            }, i;
        }
        return n(e, t), e.AUDIO = [ {
            tag: "voice-9",
            s: 0,
            d: 3
        }, {
            tag: "voice-9",
            s: 3,
            d: 2
        }, {
            tag: "voice-9",
            s: 5,
            d: 2
        }, {
            tag: "voice-9",
            s: 7,
            d: 2
        }, {
            tag: "voice-9",
            s: 9,
            d: 2
        }, {
            tag: "voice-9",
            s: 11,
            d: 3
        } ], e.DATA = {
            ID: 6,
            tag: "dyno-A0",
            zoneName: "zone-dino",
            atlas: "atlas-114",
            icon: "icon-fossil-1",
            shopkeeperTag: "atlas-53",
            shopkeeperFrame: "face_0",
            scaleX: .89,
            scaleY: .89,
            battle: {
                screen: "bg-battle-dino",
                encounter: [ {
                    ID: 105
                }, {
                    ID: 106
                }, {
                    ID: 107
                }, {
                    ID: 108
                }, {
                    ID: 109
                }, {
                    ID: 110
                }, {
                    ID: 111
                }, {
                    ID: 112
                } ]
            },
            quests: []
        }, e;
    }(o.Zone);
    e.DynoZone = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(76), s = i(64), l = i(51), h = i(4), c = i(226), p = i(0), u = i(126), d = i(756), g = function(t) {
        function e(e) {
            var i = t.call(this, e, "game-dino", "atlas-15", [ "atlas-15", "bgm-5", "atlas-84", "reduced-outfit-male-39", "reduced-outfit-female-39", "sfx-12" ]) || this;
            return i.area = [ [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ], 
            i.digging = !1, i.walkSpeed = 1, i.fossilOff = 0, i.power = 0, i.targetDigs = 0, 
            i.digs = 0, i;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.game.prodigy.audio.pauseBGM(), this.game.prodigy.player.saveEnabled = !1;
        }, e.prototype.screenSetup = function() {
            t.prototype.screenSetup.call(this), this.path = new c.Pathfinder(this.area), 
            this.bg = this.game.prodigy.create.sprite(0, 0, "atlas-15", "bg"), this.bg.inputEnabled = !0, 
            this.bg.events.onInputDown.add(this.listener, this), this.background.add(this.bg), 
            this.npc = new r.QuestNPC(this.game, this.content, 130, 640, {
                atlas: "scoog",
                atlasID: 84,
                name: this.game.prodigy.gameContainer.Localizer.getText("NPC_NAME_SCOOG")
            }), this.playerContainer = this.game.prodigy.create.player(this.content, this.game.prodigy.player, 1, 600, 350, !1, !0), 
            this.playerContainer.forceOutfit(39), this.playerContainer.setup(null, !0), 
            this.playerContainer.showName(!1);
            for (var e = 0; e < this.playerContainer.sprites.children.length; e++) this.playerContainer.sprites.children[e] instanceof s.Sprite && (this.playerContainer.sprites.children[e].inputEnabled = !0, 
            this.playerContainer.sprites.children[e].events.onInputDown.add(this.listener, this));
            this.content.add(this.game.prodigy.create.sprite(694, 32, "atlas-15", "platform")), 
            this.digBtn = this.game.prodigy.create.element(this.content, this.playerContainer.x - 40, this.playerContainer.y - 160);
            var i = this.digBtn.add(this.game.prodigy.create.sprite(0, 0, "atlas-21", "icon-base"));
            i.inputEnabled = !0, i.events.onInputDown.add(this.dig.bind(this), this);
            var a = this.digBtn.add(this.game.prodigy.create.sprite(0, 0, "icon-key-1"));
            this.game.add.tween(a).to({
                y: -10
            }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0), 
            this.digBtn.visible = !1, this.timer = this.game.prodigy.create.timer(this.foreground, 15, 15), 
            this.timer.setTime(9e4), this.timer.setMsg(this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_ITEMS_RECOVERED", 0)), 
            this.botPanel = this.game.prodigy.create.panel(this.foreground, 965, 605, 6, 2), 
            this.botPanel.alpha = .8, this.rewards = [], this.setNextDig(), this.menu = new d.DinoDigMenu(this.game, this.content, this.showBoosts.bind(this), this.showInstructions.bind(this), this.toDino.bind(this)), 
            this.showUI(!1), this.digging = !1;
        }, e.prototype.listener = function() {
            if (this.playGame && !this.digging) {
                if (this.game.input.x === this.playerContainer.x && this.game.input.y === this.playerContainer.y) return;
                this.path.findPath(this.playerContainer.x, this.playerContainer.y, this.game.input.x, this.game.input.y, this.onPathFound.bind(this));
            }
        }, e.prototype.shutdown = function() {
            t.prototype.shutdown.call(this);
            try {
                this.bg.destroy(), this.bg = null;
            } catch (t) {}
            try {
                this.playerContainer.destroy(), this.playerContainer = null;
            } catch (t) {}
        }, e.prototype.showUI = function(t) {
            this.npc.visible = this.playerContainer.visible = this.timer.visible = this.botPanel.visible = t, 
            this.menu.visible = !t;
        }, e.prototype.onPathFound = function(t) {
            if (p.Util.isValid(t)) {
                var e = Math.floor(t[0].x / 20), i = Math.floor(t[0].y / 20);
                this.digBtn.visible = !1, 1 === this.area[i][e] && this.playerContainer.setPath(t, this.askDig.bind(this, !0, e, i), this.walkSpeed);
            }
        }, e.prototype.showInstructions = function() {
            this.showUI(!0);
            var t = this.game.prodigy.dialogue.create();
            t.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_INSTRUCTIONS_0"),
                face: 0,
                anim: 4
            }), t.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_INSTRUCTIONS_1"),
                face: 2
            }), t.setText({
                callback: this.dig.bind(this)
            }), t.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_INSTRUCTIONS_2"),
                face: 0
            }), t.setText({
                callback: this.showDigButton.bind(this)
            }), t.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_INSTRUCTIONS_3"),
                face: 0
            }), t.setText({
                callback: this.dig.bind(this)
            }), t.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_INSTRUCTIONS_4"),
                face: 1
            }), t.setText({
                callback: this.timer.blink.bind(this.timer)
            }), t.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_INSTRUCTIONS_5"),
                face: 1,
                anim: 2
            }), t.setText({
                callback: this.showUI.bind(this, !1)
            }), t.start("scoog");
        }, e.prototype.showDigButton = function() {
            this.digBtn.visible = !0;
        }, e.prototype.showBoosts = function() {
            var t = e.getNewFossils(this.game.prodigy.player.backpack);
            this.showUI(!0);
            var i = this.game.prodigy.gameContainer.Localizer, a = [ {
                icon: {
                    type: "boots",
                    ID: 7
                },
                d: i.getText("BOOST_DESCRIPTION_WALK_FASTER")
            }, t.length > 0 ? {
                icon: {
                    type: "fossil",
                    ID: 1
                },
                d: i.getText("BOOST_DESCRIPTION_MORE_FOSSILS")
            } : null, {
                icon: {
                    type: "key",
                    ID: 1
                },
                d: i.getText("BOOST_DESCRIPTION_DIG_FASTER")
            } ];
            this.game.prodigy.open.boostSelect(a, this.startGame.bind(this));
        }, e.getNewFossils = function(t) {
            for (var e = [], i = h.Items.getCategoryItems("fossil"), a = t.getBackpackItemsByType("fossil"), n = 0; n < i.length; n++) {
                var o = i[n];
                if (!(t.hasItem("fossil", o.ID + 12) > 0)) {
                    for (var r = o.data.count, s = 0; s < a.length; s++) if (a[s].ID === o.ID) {
                        r -= p.Util.isValid(a[s].N) ? a[s].N : 1;
                        break;
                    }
                    for (s = 0; s < r; s++) e.push(o.ID);
                }
            }
            return e;
        }, e.prototype.startGame = function(t) {
            this.walkSpeed = 0 === t ? 1.5 : 1, this.fossilOff = 1 === t ? .1 : 0, 
            this.power = 2 === t ? 2 : 0, this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_START"), this.begin.bind(this));
        }, e.prototype.begin = function() {
            this.playGame = !0, this.timer.start(9e4, this.endGame.bind(this)), 
            this.game.prodigy.audio.playBGM(5, !0);
        }, e.prototype.setNextItem = function() {
            var t = Math.random();
            if (t < .2) this.item = {
                type: "gold",
                N: 10
            }, this.targetDigs = 3; else if (t < .33) this.item = {
                type: "gold",
                N: 25
            }, this.targetDigs = 4; else if (t < this.fossilOff + .66) {
                var i = e.getNewFossils(this.game.prodigy.player.backpack);
                i.length <= 0 ? (this.item = {
                    type: "gold",
                    N: 50
                }, this.targetDigs = 5) : (this.item = {
                    type: "fossil",
                    ID: i[Math.floor(Math.random() * i.length)]
                }, this.targetDigs = 8);
            } else {
                for (var a = []; a.length <= 0; ) a = h.Items.getItemDrops();
                this.item = a[0];
                var n = this.item.type;
                this.targetDigs = "outfit" === n ? 10 : "weapon" === n ? 12 : "item" === n ? 5 : 8;
            }
            this.targetDigs -= this.power;
        }, e.prototype.setNextDig = function() {
            for (this.setNextItem(), this.targetCoords = {
                x: 0,
                y: 0
            }; 1 !== this.area[this.targetCoords.y][this.targetCoords.x]; ) this.targetCoords.x = Math.floor(64 * Math.random()), 
            this.targetCoords.y = Math.floor(36 * Math.random());
        }, e.prototype.askDig = function(t, e, i) {
            t && (this.digX = e, this.digY = i, this.dig());
        }, e.prototype.dig = function() {
            this.game.prodigy.audio.playSFX(18, "dig");
            var t, e = 100;
            p.Util.isValid(this.digX) && (e = Phaser.Math.distance(this.digX, this.digY, this.targetCoords.x, this.targetCoords.y)), 
            this.digging || (this.digging = !0, e < 3 && (this.timer.setMsg(this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_FOUND_ITEM")), 
            (t = this.game.prodigy.create.sprite(20 * this.digX, 20 * this.digY, "atlas-15", "hole1")).visible = !0, 
            this.background.add(t), this.digs = 0)), e < 3 && p.Util.isValid(t) && (t.frameName = "hole" + Math.max(1, Math.floor(this.digs / this.targetDigs * 3) + 1));
            var i = "";
            i = e < 3 ? this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_DISTANCE_DIG") : e < 5 ? this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_DISTANCE_HOT") : e < 8 ? this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_DISTANCE_WARM") : e < 15 ? this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_DISTANCE_COLD") : this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_DISTANCE_ICE_COLD"), 
            p.Util.isValid(this.text) && this.text.destroy(), this.text = this.game.prodigy.create.font(this.foreground, this.playerContainer.x - 100, this.playerContainer.y - 100, i, {
                width: 200,
                align: "center"
            }), this.game.add.tween(this.text).to({
                y: this.playerContainer.y - 200,
                alpha: 0
            }, 2e3, Phaser.Easing.Quadratic.Out).start();
            var a = this.game.prodigy.player.backpack.getKeyItemData(1, "lvl"), n = 2 === a ? 12 : 3 === a ? 16 : 8;
            this.playerContainer.dig(n, this.digEnd.bind(this, e)), this.digBtn.visible = !1;
        }, e.prototype.digEnd = function(t) {
            if (t < 3 && this.timer.isInProgress()) if (this.digs++, this.digs >= this.targetDigs) {
                this.game.prodigy.audio.playSFX(18, "heart"), this.rewards.push(this.item), 
                this.timer.setMsg(this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_ITEMS_RECOVERED", this.rewards.length));
                var e = this.game.prodigy.icon.createFromData(this.item, 20 * this.digX + 10, 20 * this.digY + 10, {
                    x: 0,
                    y: 0
                });
                this.foreground.add(e), e.scale.x = e.scale.y = 0;
                var i = (this.rewards.length - 1) % 5 * 60 + 995, a = 50 * Math.floor((this.rewards.length - 1) / 5) + 630;
                this.game.add.tween(e.scale).to({
                    x: 1.2,
                    y: 1.2
                }, 1e3, Phaser.Easing.Quadratic.Out).to({
                    x: .8,
                    y: .8
                }, 1e3, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(e).to({
                    x: i,
                    y: a
                }, 2e3, Phaser.Easing.Quadratic.Out).start(), this.rewards.length % 3 == 0 && this.extendTime(), 
                this.digging = !1, this.setNextDig();
            } else this.digBtn.x = this.playerContainer.x - 40, this.digBtn.y = this.playerContainer.y < 160 ? this.playerContainer.y : this.playerContainer.y - 160, 
            this.digBtn.visible = !0; else this.digging = !1;
        }, e.prototype.extendTime = function() {
            this.timer.add(15e3), this.timer.pause();
            var t = this.game.prodigy.dialogue.create();
            t.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_EXTEND_TIME"),
                face: 1,
                anim: 4,
                audio: u.DynoZone.AUDIO[1]
            }), t.setText({
                callback: this.resumeTimer.bind(this)
            }), t.start("scoog");
        }, e.prototype.resumeTimer = function() {
            this.timer.resume();
        }, e.prototype.endGame = function() {
            this.game.prodigy.audio.playSFX(12, "bell"), this.game.prodigy.audio.pauseBGM(), 
            this.digBtn.visible = !1, this.playGame = !1, this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_TIMES_UP"), this.end.bind(this));
        }, e.prototype.end = function() {
            var t = this.game.prodigy.dialogue.create();
            this.rewards.length > 0 ? (t.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_TIMES_UP_REWARD"),
                face: 1,
                anim: 2
            }), t.setText({
                callback: this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, this.rewards, this.examineResults.bind(this), null, "dino-dig")
            })) : (t.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_TIMES_UP_TRY_AGAIN"),
                face: 2
            }), t.setText({
                callback: this.toDino.bind(this)
            })), t.start("scoog");
        }, e.prototype.examineResults = function() {
            for (var t = !1, e = 0; e < this.rewards.length; e++) "fossil" === this.rewards[e].type && (t = !0);
            var i = this.game.prodigy.dialogue.create();
            t ? (i.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_FOUND_FOSSIL"),
                face: 1,
                anim: 2,
                audio: u.DynoZone.AUDIO[1]
            }), i.setText({
                callback: this.toDino.bind(this)
            }), i.start("scoog")) : this.toDino();
        }, e.prototype.toDino = function() {
            p.Util.isValid(this.screenData.playerPosition) ? this.game.prodigy.world.teleport("dyno-A0", this.screenData.playerPosition.x, this.screenData.playerPosition.y) : this.game.prodigy.world.teleport("dyno-A0", 790, 240);
        }, e;
    }(l.Screen);
    e.DinoDig = g;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(4), s = i(29), l = i(0), h = i(43), c = i(50), p = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this) || this;
            return o.emitter = null, o.particleEffectData = null, o.particleAsset = null, 
            o.renderer = null, o.renderType = Phaser.ParticleStorm.SPRITE_BATCH, 
            o.particleStorm = null, o.timeFactory = null, o.burstTimer = null, o.burstEvent = null, 
            o.sortTargets = [], o.particleEffectData = e, o.particleStorm = i, o.timeFactory = a, 
            o.particleAsset = r.Items.getItem("particleEffect", e.ID), l.Util.isValid(n) && (o.renderType = n), 
            o;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.renderer = this.gameObject.findComponent(c.Renderer), 
            this.emitter = this.particleStorm.createEmitter(this.renderType, this.particleAsset.data.force), 
            this.emitter.addToWorld(null === this.gameObject.parent ? void 0 : this.gameObject.parent), 
            l.Util.isValid(this.particleStorm.getData(this.particleEffectData.ID.toString())) || this.particleStorm.addData(this.particleEffectData.ID.toString(), this.particleAsset.data.particle), 
            l.Util.isValid(this.emitter.renderer) && Object.defineProperty(this.emitter.renderer.display, "y", {
                get: this.getEmitterY.bind(this)
            }), l.Util.isValid(this.particleEffectData.autoStart) && !this.particleEffectData.autoStart || this.emitParticles();
            var e = this.particleAsset.data.emitter;
            l.Util.isValid(e.burstFrequency) && e.repeat > -1 && this.setupBursts();
        }, e.prototype.setupBursts = function() {
            var t = this.particleAsset.data.emitter, e = this.getBurstDelay();
            this.burstTimer = this.timeFactory.create(!0), l.Util.isValid(t.burstRepeat) && -1 !== t.burstRepeat ? this.burstEvent = this.burstTimer.repeat(e, t.burstRepeat, this.emitBurst, this) : this.burstEvent = this.burstTimer.loop(e, this.emitBurst, this), 
            this.burstTimer.start();
        }, e.prototype.createEmitterConfig = function(t, e) {
            var i = JSON.parse(JSON.stringify(t));
            return l.Util.isValid(e) && (i.zone = this.createParticleZone(e)), i;
        }, e.prototype.createParticleZone = function(t) {
            return "LINE_ZONE" === t.type ? this.gameObject.game.particleStorm.createLineZone(t.x1, t.y1, t.x2, t.y2) : null;
        }, e.prototype.update = function() {
            var t = this.emitter.timer.events[0];
            if (l.Util.isValid(t)) {
                var e = this.getEmitterPosition();
                t.args[1] = e.x, t.args[2] = e.y, l.Util.isValid(this.renderer) && (this.emitter.emitterScale = this.renderer.getScale());
            }
        }, e.prototype.destroy = function() {
            l.Util.isValid(this.burstTimer) && this.burstTimer.destroy(), this.emitter.paused = !0, 
            this.emitter.parent.removeEmitter(this.emitter), this.emitter.destroy();
        }, e.prototype.getEmitterPosition = function() {
            var t = {
                x: 1,
                y: 1
            };
            return l.Util.isValid(this.renderer) && (t = this.renderer.getScale()), 
            {
                x: this.gameObject.x + this.particleEffectData.x * t.x,
                y: this.gameObject.y + this.particleEffectData.y * t.y
            };
        }, e.prototype.emitBurst = function() {
            "number" != typeof this.particleAsset.data.emitter.burstTimer && (this.burstEvent.delay = this.getBurstDelay()), 
            this.emitParticles();
        }, e.prototype.emitParticles = function() {
            var t = this.getEmitterPosition();
            this.emitter.emit(this.particleEffectData.ID.toString(), t.x, t.y, this.createEmitterConfig(this.particleAsset.data.emitter, this.particleEffectData.zone));
        }, e.prototype.getBurstDelay = function() {
            var t = this.particleAsset.data.emitter.burstFrequency;
            return "number" == typeof t ? t : s.Random.realInRange(t.min, t.max);
        }, e.prototype.getEmitterY = function() {
            if (!l.Util.isValid(this.particleEffectData.inFront) || this.particleEffectData.inFront) {
                if (this.sortTargets.length > 0) {
                    for (var t = this.sortTargets[0].y, e = 1; e < this.sortTargets.length; ++e) this.sortTargets[e].y > t && (t = this.sortTargets[e].y);
                    return t + 1;
                }
                return o.GameConstants.MAX_SAFE_INTEGER;
            }
            if (this.sortTargets.length > 0) {
                var i = this.sortTargets[0].y;
                for (e = 1; e < this.sortTargets.length; ++e) this.sortTargets[e].y < i && (i = this.sortTargets[e].y);
                return i - 1;
            }
            return -o.GameConstants.MAX_SAFE_INTEGER;
        }, e;
    }(h.Component);
    e.ParticleEmitter = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e;
    }(i(48).Boss);
    e.TitanBoss = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(4), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.chooseAction = function(t, e, i, a, n) {
            var r = t / 10, s = e.source.source.attacks, l = this.game.prodigy.attacks.getBestAttack(s, i.source, 1 - r);
            o.Util.isValid(l) ? a(e, i, n, l, Math.random() < .25 - .25 * t) : n();
        }, e.prototype.getDrops = function() {
            return r.Items.getItemDrops().concat([ {
                type: "gold",
                N: 100
            } ]);
        }, e;
    }(i(48).Boss);
    e.PippetBoss = s;
}, function(t, e, i) {
    var a = i(144), n = i(66), o = i(150), r = parseFloat, s = Math.min, l = Math.random;
    t.exports = function(t, e, i) {
        if (i && "boolean" != typeof i && n(t, e, i) && (e = i = void 0), void 0 === i && ("boolean" == typeof e ? (i = e, 
        e = void 0) : "boolean" == typeof t && (i = t, t = void 0)), void 0 === t && void 0 === e ? (t = 0, 
        e = 1) : (t = o(t), void 0 === e ? (e = t, t = 0) : e = o(e)), t > e) {
            var h = t;
            t = e, e = h;
        }
        if (i || t % 1 || e % 1) {
            var c = l();
            return s(t + c * (e - t + r("1e-" + ((c + "").length - 1))), e);
        }
        return a(t, e);
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(131), r = i(2), s = i(0), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.chooseAction = function(t, e, i, a, n) {
            var l = t / 10, h = e.source.source.attacks;
            if (h.length <= 0) n(); else {
                var c, p = r.GameConstants.get("GameConstants.Battle.ATTACK_OVERRIDE");
                if (p < 0 && p < h.length) {
                    if (c = this.game.prodigy.attacks.getBestAttack(h, i.source, 1 - l), 
                    !s.Util.isValid(c)) return void n();
                    o(0, 100) < 30 && (c = this.game.prodigy.attacks.getBestAttack([ 42 ], i.source, 1 - l));
                } else c = this.game.prodigy.attacks.getBestAttack([ h[p] ], i.source, 1 - l);
                a(e, i, n, c, Math.random() < .25 - .25 * l);
            }
        }, e.prototype.getDrops = function() {
            return [ {
                type: "gold",
                N: 100
            }, {
                type: "currency",
                ID: 14,
                N: 20
            } ];
        }, e;
    }(i(48).Boss);
    e.OldOneBoss = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.chooseAction = function(t, e, i, a, n) {
            var r = e, s = t / 10;
            r.updateClouds();
            for (var l = {
                fire: 0,
                ice: 0,
                water: 0,
                earth: 0,
                storm: 0,
                astral: 0
            }, h = i.source.getAttacks(), c = 0; c < h.length; c++) l[this.game.prodigy.attacks.getAttack(h[c]).data.element]++;
            var p = "wizard", u = 0;
            for (var d in l) l[d] > u && (p = d, u = h[d]);
            if ("fire" === p) r.waterMode(); else if ("ice" === p) {
                (g = Math.random()) < .34 ? r.earthMode() : g < .67 ? r.iceMode() : r.waterMode();
            } else if ("earth" === p) {
                (g = Math.random()) < .34 ? r.earthMode() : g < .67 ? r.iceMode() : r.stormMode();
            } else if ("storm" === p) r.iceMode(); else if ("water" === p) Math.random() < .5 ? r.earthMode() : r.stormMode(); else {
                var g;
                (g = Math.random()) < .25 ? r.earthMode() : g < .5 ? r.iceMode() : g < .75 ? r.waterMode() : r.stormMode();
            }
            var y = r.attacks;
            if (y.length <= 0) n(); else {
                var f = this.game.prodigy.attacks.getBestAttack(y, i.source, 1 - s);
                if (o.Util.isValid(f)) {
                    if (e.source.getCurrentHearts() / e.source.getMaxHearts() < .25 && Math.random() < s) {
                        var m = this.game.prodigy.attacks.getHealingAttack(y);
                        o.Util.isValid(m) && (f = m);
                    }
                    a(e, i, n, f, Math.random() < .25 - .25 * s);
                } else n();
            }
        }, e;
    }(i(48).Boss);
    e.CloudBoss = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.chooseAction = function(t, e, i, a, n) {
            var r, s = e, l = t / 10;
            if (e.source.getCurrentHearts() / e.source.getMaxHearts() < .67 && "soup" === s.foodMode) return (r = this.game.prodigy.event.create()).function(s.startEntree.bind(e)), 
            r.function(n.bind(this)), void r.start();
            if (e.source.getCurrentHearts() / e.source.getMaxHearts() < .34 && "burger" === s.foodMode) return (r = this.game.prodigy.event.create()).function(s.startDessert.bind(e)), 
            r.function(n.bind(this)), void r.start();
            var h = e.source.source.attacks;
            if (h.length <= 0) n(); else {
                var c = this.game.prodigy.attacks.getBestAttack(h, i.source, 1 - l);
                if (o.Util.isValid(c)) {
                    if (e.source.getCurrentHearts() / e.source.getMaxHearts() < .25 && Math.random() < l) {
                        var p = this.game.prodigy.attacks.getHealingAttack(h);
                        o.Util.isValid(p) && (c = p);
                    }
                    var u = .25 - .25 * l;
                    a(e, i, n, c, Math.random() < u);
                } else n();
            }
        }, e;
    }(i(48).Boss);
    e.BonfireBoss = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n, o) {
            return a.modifiers.barrier = !0, t.call(this, e, i, a, n, o) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            this.game.prodigy.load.assets("sfx-7");
            var t = this.game.prodigy.create.element(this.sprites, 0, 0);
            this.spine = this.game.add.spine(100, -100, "default-titan-" + this.source.source.ID), 
            this.spine.smoothed = !1, this.idle(), t.add(this.spine), t.scale.x = 1.75, 
            t.scale.y = 1.75, this.complete = !0, this.loading = !1;
        }, e.prototype.idle = function() {
            this.spine.setAnimationByName(0, "idle", !0), this.spine.setToSetupPose();
        }, e.prototype.attack = function() {
            this.spine.setAnimationByName(0, "attack", !1), this.spine.addAnimationByName(0, "idle", !0), 
            this.spine.setToSetupPose();
        }, e.prototype.retreat = function() {
            this.spine.setAnimationByName(0, "knockout", !1);
        }, e;
    }(i(49).BossContainer);
    e.TitanContainer = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(253), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            return a.onScrollChangeCallback = null, a;
        }
        return n(e, t), e.prototype.populate = function(e) {
            this.thumbFrameName = r.Util.isValid(e.thumbFrameName) ? e.thumbFrameName : "", 
            this.activeTrackBaseFrameName = r.Util.isValid(e.activeTrackBaseFrameName) ? e.activeTrackBaseFrameName : "", 
            this.inactiveTrackBaseFrameName = r.Util.isValid(e.inactiveTrackBaseFrameName) ? e.inactiveTrackBaseFrameName : "", 
            this.endCapAtlasID = r.Util.isValid(e.endCapAtlasID) ? e.endCapAtlasID : "", 
            this.endCapFrameName = r.Util.isValid(e.endCapFrameName) ? e.endCapFrameName : "", 
            this.arrowFrameName = r.Util.isValid(e.arrowFrameName) ? e.arrowFrameName : "", 
            this.isVertical = !!r.Util.isValid(e.isVertical) && e.isVertical, this.atlasID = r.Util.isValid(e.atlasID) ? e.atlasID : 144, 
            this.clickPercentageMovement = r.Util.isValid(e.clickPercentageMovement) ? e.clickPercentageMovement : .05, 
            this.isInteractive = !r.Util.isValid(e.isInteractive) || e.isInteractive, 
            this.hideInactive = !!r.Util.isValid(e.hideInactive) && e.hideInactive, 
            this.showHead = !!r.Util.isValid(e.showHead) && e.showHead, this.thumbAnchor = r.Util.isValid(e.thumbAnchor) ? e.thumbAnchor : {
                x: 0,
                y: 0
            };
            var i = r.Util.isValid(e.trackPadding) ? e.trackPadding : 0;
            t.prototype.populate.call(this, e);
            var a = {
                width: 0,
                height: 0
            }, n = 1, o = this.game.cache.getFrameData("atlas-" + this.atlasID);
            if (r.Util.isValid(o)) {
                var s = o.getFrameByName(this.arrowFrameName);
                r.Util.isValid(s) && (a.width = s.width, a.height = s.height), s = o.getFrameByName(this.activeTrackBaseFrameName + "-middle"), 
                r.Util.isValid(s) && (n = s.height);
            }
            r.Util.isValid(e.children) || (e.children = [], a.width > 0 && a.height > 0 && e.children.push({
                type: "Button",
                name: "lessButton",
                anchorX: this.isVertical ? .5 : 0,
                anchorY: this.isVertical ? 1 : .5,
                relativeX: this.isVertical ? .5 : 0,
                relativeY: this.isVertical ? 1 : .5,
                width: a.width,
                height: a.height,
                children: [ {
                    type: "Graphic",
                    name: "lessButtonGraphic",
                    atlasID: this.atlasID,
                    frameName: this.arrowFrameName
                } ]
            }, {
                type: "Button",
                name: "moreButton",
                anchorX: this.isVertical ? .5 : 1,
                anchorY: this.isVertical ? 0 : .5,
                relativeX: this.isVertical ? .5 : 1,
                relativeY: this.isVertical ? 0 : .5,
                width: a.width,
                height: a.height,
                children: [ {
                    type: "Graphic",
                    name: "moreButtonGraphic",
                    atlasID: this.atlasID,
                    frameName: this.arrowFrameName
                } ]
            }), e.children.push({
                type: "SlicedGraphic",
                name: "inactiveTrack",
                anchorX: this.isVertical ? .5 : 0,
                anchorY: this.isVertical ? 0 : .5,
                x: this.isVertical ? 0 : a.width + i,
                y: this.isVertical ? a.height + i : null,
                relativeX: this.isVertical ? .5 : null,
                relativeY: this.isVertical ? null : .5,
                sliceType: "threeScale",
                isVertical: this.isVertical,
                baseFrameName: this.inactiveTrackBaseFrameName,
                width: this.isVertical ? n : this.width - 2 * (a.width + i),
                height: this.isVertical ? this.height - 2 * (a.height + i) : n
            }, {
                type: "SlicedGraphic",
                name: "activeTrack",
                anchorX: this.isVertical ? .5 : 0,
                anchorY: this.isVertical ? 0 : .5,
                x: this.isVertical ? 0 : a.width + i,
                y: this.isVertical ? a.height + i : 0,
                relativeX: this.isVertical ? .5 : null,
                relativeY: this.isVertical ? null : .5,
                sliceType: "threeScale",
                isVertical: this.isVertical,
                baseFrameName: this.activeTrackBaseFrameName,
                width: this.isVertical ? n : this.width - 2 * (a.width + i),
                height: this.isVertical ? this.height - 2 * (a.height + i) : n
            }));
        }, e.prototype.postPopulate = function() {
            if (this.activeTrack = this.iterate("name", "activeTrack", Phaser.Group.RETURN_CHILD), 
            this.inactiveTrack = this.iterate("name", "inactiveTrack", Phaser.Group.RETURN_CHILD), 
            this.isInteractive) {
                this.setupButtons();
                var t = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "empty"));
                t.width = this.activeTrack.width, t.height = this.activeTrack.height, 
                t.x = this.activeTrack.x, t.y = this.activeTrack.y, t.inputEnabled = !0, 
                t.events.onInputDown.add(this.onTrackClick.bind(this));
            }
            if (this.hideInactive && (this.inactiveTrack.visible = !1), this.thumbSprite = this.game.prodigy.create.sprite(0, 0, "atlas-" + this.atlasID, this.thumbFrameName, this.thumbAnchor), 
            "" === this.thumbFrameName && (this.thumbSprite = this.game.prodigy.create.sprite(0, 0, "atlas-18", "empty")), 
            this.thumbSprite.y = r.Util.getCenteredXY(0, this.thumbSprite.height, 0, this.activeTrack.y, 0, this.activeTrack.height).y, 
            "" !== this.endCapAtlasID) {
                var e = this.getMaxThumbPosition();
                this.add(this.game.prodigy.create.sprite(e.x, e.y, "atlas-" + this.endCapAtlasID, this.endCapFrameName));
            }
            this.add(this.thumbSprite), this.showHead && (this.playerHead = this.game.prodigy.create.player(this.thumbSprite, this.game.prodigy.player, 1, 25, 105, !0, !0), 
            this.playerHead.startLoad()), this.clampThumbWithinTrack();
            var i = this.getMinThumbPosition(), a = this.getMaxThumbPosition(), n = new Phaser.Rectangle(this.isVertical ? a.x : i.x, this.isVertical ? a.y : i.y, this.isVertical ? this.thumbSprite.width : this.activeTrack.width + this.thumbSprite.width, this.isVertical ? this.activeTrack.height + this.thumbSprite.height : this.thumbSprite.height), s = o.DrawUtil.createBox(this.game, 0, 0, this.activeTrack.width, this.activeTrack.height, 0, 1);
            this.thumbSprite.addChild(s), s.x = this.isVertical ? this.activeTrack.x - this.thumbSprite.x : -this.activeTrack.width, 
            s.y = this.isVertical ? 0 : this.activeTrack.y - this.thumbSprite.y, 
            s.x += this.isVertical ? 0 : .5 * this.thumbSprite.width, s.y += this.isVertical ? .5 * this.thumbSprite.height : 0, 
            this.activeTrack.mask = s, this.isInteractive && (this.thumbSprite.inputEnabled = !0, 
            this.thumbSprite.input.enableDrag(), this.thumbSprite.input.boundsRect = n, 
            this.thumbSprite.events.onDragStop.add(this.onDragStop, this));
        }, e.prototype.setupButtons = function() {
            var t = this, e = this.iterate("name", "lessButton", Phaser.Group.RETURN_CHILD), i = this.iterate("name", "moreButton", Phaser.Group.RETURN_CHILD);
            r.Util.isValid(e) && (e.iterate("name", "lessButtonGraphic", Phaser.Group.RETURN_CHILD).flipHorizontally(), 
            e.onClickCallback = function() {
                t.onLessButtonClick();
            });
            r.Util.isValid(i) && (i.onClickCallback = function() {
                t.onMoreButtonClick();
            });
        }, e.prototype.setPercentComplete = function(t, e) {
            void 0 === e && (e = !1), this.setPercentCompleteOffset(t, 0, e);
        }, e.prototype.setPercentCompleteOffset = function(t, e, i) {
            void 0 === i && (i = !0);
            var a = this.isVertical ? this.getMinThumbPosition().y : this.getMinThumbPosition().x, n = this.isVertical ? this.getMaxThumbPosition().y : this.getMaxThumbPosition().x, o = Phaser.Math.linear(a, n + e, t);
            this.thumbSprite.x = this.isVertical ? this.thumbSprite.x : o, this.thumbSprite.y = this.isVertical ? o : this.thumbSprite.y, 
            this.clampThumbWithinTrack(), i || this.onScrollChange();
        }, e.prototype.getPositionAtPercent = function(t) {
            var e = this.isVertical ? this.getMinThumbPosition().y : this.getMinThumbPosition().x, i = this.isVertical ? this.getMaxThumbPosition().y : this.getMaxThumbPosition().x;
            return Phaser.Math.linear(e, i, t);
        }, e.prototype.adjustThumbPosition = function(t, e) {
            this.thumbSprite.x += t, this.thumbSprite.y += e, this.clampThumbWithinTrack();
        }, e.prototype.clampThumbWithinTrack = function() {
            var t = this.getMaxThumbPosition(), e = this.getMinThumbPosition();
            this.thumbSprite.x = Phaser.Math.clamp(this.thumbSprite.x, e.x, t.x), 
            this.thumbSprite.y = Phaser.Math.clamp(this.thumbSprite.y, t.y, e.y);
        }, e.prototype.onDragStop = function() {
            this.onScrollChange();
        }, e.prototype.onTrackClick = function(t, e) {
            var i = this.isVertical ? e.y : e.x, a = this.isVertical ? t.world.y : t.world.x, n = this.isVertical ? t.y : t.x, o = this.isVertical ? t.height : t.width, r = this.isVertical ? this.thumbSprite.height : this.thumbSprite.width, s = (i - a) / o, l = Math.floor(n + o * s - .5 * r);
            this.isVertical ? this.thumbSprite.y = l : this.thumbSprite.x = l, this.clampThumbWithinTrack(), 
            this.onScrollChange();
        }, e.prototype.onMoreButtonClick = function() {
            this.adjustThumbPosition(this.isVertical ? 0 : this.activeTrack.width * this.clickPercentageMovement, this.isVertical ? -this.activeTrack.height * this.clickPercentageMovement : 0), 
            this.onScrollChange();
        }, e.prototype.onLessButtonClick = function() {
            this.adjustThumbPosition(this.isVertical ? 0 : -this.activeTrack.width * this.clickPercentageMovement, this.isVertical ? this.activeTrack.height * this.clickPercentageMovement : 0), 
            this.onScrollChange();
        }, e.prototype.onScrollChange = function() {
            if (r.Util.isValid(this.onScrollChangeCallback)) {
                var t = this.isVertical ? this.thumbSprite.y : this.thumbSprite.x, e = this.isVertical ? this.getMinThumbPosition().y : this.getMinThumbPosition().x, i = (this.isVertical ? this.getMaxThumbPosition().y : this.getMaxThumbPosition().x) - e, a = 1;
                0 !== i && (a = (t - e) / i), this.onScrollChangeCallback(a);
            }
        }, e.prototype.getMaxThumbPosition = function() {
            var t, e;
            return this.isVertical ? (t = r.Util.getCenteredXY(this.thumbSprite.width, 0, this.activeTrack.x, 0, this.activeTrack.width, 0).x, 
            e = this.activeTrack.y - .5 * this.thumbSprite.height) : (t = this.activeTrack.x + this.activeTrack.width - .5 * this.thumbSprite.width, 
            e = r.Util.getCenteredXY(0, this.thumbSprite.height, 0, this.activeTrack.y, 0, this.activeTrack.height).y), 
            {
                x: t,
                y: e
            };
        }, e.prototype.getMinThumbPosition = function() {
            var t = 0, e = 0;
            return this.isVertical ? (t = r.Util.getCenteredXY(this.thumbSprite.width, 0, this.activeTrack.x, 0, this.activeTrack.width, 0).x, 
            e = this.activeTrack.y + this.activeTrack.height - .5 * this.thumbSprite.height) : (t = this.activeTrack.x - .5 * this.thumbSprite.width, 
            e = r.Util.getCenteredXY(0, this.thumbSprite.height, 0, this.activeTrack.y, 0, this.activeTrack.height).y), 
            {
                x: t,
                y: e
            };
        }, e.prototype.setActive3SlicedImage = function(t) {
            this.activeTrack.images[0].frameName = t + "-left", this.activeTrack.images[1].frameName = t + "-right", 
            this.activeTrack.images[2].frameName = t + "-middle";
        }, e;
    }(i(27).UIElement);
    e.Slider = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i) || this;
        }
        return n(e, t), e.prototype.createImage = function(t, e) {}, e;
    }(i(27).UIElement);
    e.GraphicBase = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(3), s = i(25), l = i(0), h = i(18), c = function(t) {
        function e(i, a, n, o) {
            var r = t.call(this, i, a) || this;
            return r.memberStarsEarned = 0, r.hearts = 0, r.source = null, r.spell = null, 
            r.scopeApp = null, r.totalStars = 0, r.closing = !1, r.backgound = null, 
            r.getStarsBtn = null, r.jarClicker = null, r.closeBtn = null, r.nextButton = null, 
            r.autoCloseTimer = null, r.type = o.type, r.memberStarsEarned = o.memberStarsEarned, 
            r.hearts = o.hearts, r.source = o.source, r.spell = o.spell, r.totalStars = o.totalStars, 
            r.x = 448, r.y = 122, r.scopeApp = n, r.setupBackground(), r.setupTitle(), 
            r.setupBlockOne(), r.setupBlockTwo(), r.setupNextButton(), r.initListeners(), 
            i.add.tween(r).from({
                y: 720
            }, 700, Phaser.Easing.Back.Out, !0), e.onBattleBaseOpen.dispatch(r.type), 
            r.type === e.SUMMARY && r.enableAutoClose(), r;
        }
        return n(e, t), e.prototype.setupBackground = function() {
            this.add(this.backgound);
        }, e.prototype.initListeners = function() {
            var t = this;
            this.game.broadcaster.addAppListener(r.ECreatureEvents.EvolveStart, function() {
                t.visible = !1;
            }, this, this.game), this.game.broadcaster.addAppListener(r.ECreatureEvents.EvolveEnd, function() {
                t.visible = !0;
            }, this, this.game);
        }, e.prototype.setupTitle = function() {
            this.type === e.SUMMARY ? this.add(this.game.prodigy.create.sprite(125, 12, "atlas-17", "text-battle-summary")) : this.add(this.game.prodigy.create.sprite(112, 30, "atlas-17", "text-well-done"));
        }, e.prototype.setupBlockOne = function() {
            this.type === e.SUMMARY ? (this.add(this.game.prodigy.create.sprite(155, 120, "atlas-17", "text-stars-collected")), 
            this.add(this.game.prodigy.create.sprite(145, 162, "atlas-19", "user-star")), 
            this.game.prodigy.create.font(this, 175, 168, "" + this.totalStars, {
                size: 2,
                fontID: 12,
                width: 70,
                align: "center"
            })) : this.type === e.LEVEL_UP ? l.Util.isValid(this.hearts) ? (this.add(this.game.prodigy.create.sprite(152, 120, "atlas-17", "icon-heart")), 
            this.game.prodigy.create.font(this, 127, 135, "+" + this.hearts, {
                size: 30,
                width: 126,
                align: "center",
                fontID: 10
            })) : (this.add(this.game.prodigy.create.sprite(151, 120, "atlas-17", "icon-star")), 
            this.game.prodigy.create.font(this, 129, 150, "" + this.source.getLevel(), {
                size: 2,
                width: 126,
                align: "center",
                fontID: 12
            }).alpha = .5) : this.type === e.SPELL && this.add(this.game.prodigy.create.sprite(152, 120, "atlas-21", "icon-bar-large-" + this.spell.data.element));
        }, e.prototype.setupBlockTwo = function() {
            var t = null;
            if (this.type === e.SUMMARY) {
                this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                    type: "NonMember-ControlStar",
                    name: "NonMember-SummarySeen"
                });
                var i = this.game.prodigy.player.hasMembership() ? this.memberStarsEarned : 0;
                this.add(this.game.prodigy.create.sprite(88, 240, "atlas-17", "text-member-stars-collected"));
                var a = this.add(this.game.prodigy.create.sprite(125, 0 === i ? 265 : 290, "atlas-19", "member-star")), n = this.game.prodigy.create.font(this, 55, 0 === i ? 270 : 295, i + "/" + this.memberStarsEarned, {
                    size: 2,
                    fontID: 12
                });
                a.x = e.CENTER - .5 * (a.width + n.width + 10), n.x = e.CENTER - .5 * (a.width + n.width + 10) + a.width + 10, 
                0 === i && (this.getStarsBtn = this.game.prodigy.create.button(this, e.CENTER, 337, "atlas-17", "btn-get-them-now-green-red", this.onMembershipClick.bind(this)), 
                this.getStarsBtn.sprite.anchor.set(.5, .5));
            } else this.type === e.LEVEL_UP ? (t = this.game.prodigy.create.font(this, 93, 260, this.source.getName(), {
                size: 16,
                width: 200,
                align: "center",
                fontID: 8
            }), this.add(this.game.prodigy.create.sprite(130, t.y + t.height + 15, "atlas-17", "text-leveled-up"))) : this.type === e.SPELL && (t = this.game.prodigy.create.font(this, 93, 240, this.source.getName(), {
                size: 16,
                width: 200,
                align: "center",
                fontID: 8
            }), this.add(this.game.prodigy.create.sprite(95, t.y + t.height + 10, "atlas-17", "text-learned-a-new-spell")), 
            this.game.prodigy.create.font(this, 93, t.y + t.height + 35, this.spell.data.name, {
                size: 20,
                width: 200,
                align: "center",
                fontID: 8
            }));
        }, e.prototype.setupNextButton = function() {
            if (this.nextButton = this.game.prodigy.create.button(this, e.CENTER - 83, 410, "atlas-17", "btn-next", this.onClose.bind(this)), 
            this.type === e.SUMMARY && !this.game.prodigy.player.hasMembership()) {
                this.nextButton.alpha = 0, this.nextButton.y = 430, this.nextButton.active = !1;
                var t = this.game.prodigy.event.create();
                t.delay(3e3), t.tween(this.nextButton, {
                    alpha: 1,
                    y: 410
                }, 300, Phaser.Easing.Quadratic.In), t.set(this.nextButton, "active", !0), 
                t.start();
            }
        }, e.prototype.removeAutoClose = function() {
            l.Util.isValid(this.autoCloseTimer) && (this.game.time.events.remove(this.autoCloseTimer), 
            this.autoCloseTimer = null);
        }, e.prototype.enableAutoClose = function() {
            l.Util.isValid(this.autoCloseTimer) || (this.autoCloseTimer = this.game.time.events.add(3e4, this.onClose.bind(this), this));
        }, e.prototype.onMembershipClick = function() {
            var t = {
                conversionFunnelName: "NonMember-ControlStar",
                conversionStage: "Member-Converted"
            };
            this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "NonMember-ControlStar",
                name: 'Member-Click"'
            }), this.game.prodigy.network.sendConversionFunnelEvent(t.conversionFunnelName, h.EFunnelEventIDs.StageClickStars, t.conversionFunnelMetadata), 
            this.game.prodigy.open.membershipInfo(this.enableAutoClose.bind(this), t, s.MembershipInfo.MORE_EXP), 
            this.removeAutoClose();
        }, e.prototype.onClose = function() {
            if (!this.closing) {
                this.closing = !0, l.Util.isValid(this.closeBtn) && l.Util.isValid(this.closeBtn.setInactive) && this.closeBtn.setInactive(), 
                this.game.broadcaster.removeAppListener(r.ECreatureEvents.EvolveStart, this, this.game), 
                this.game.broadcaster.removeAppListener(r.ECreatureEvents.EvolveEnd, this, this.game), 
                l.Util.isValid(this.autoCloseTimer) && this.game.time.events.remove(this.autoCloseTimer), 
                l.Util.isValid(this.nextButton) && (this.nextButton.setInactive(16777215), 
                l.Util.isValid(this.jarClicker) && (this.jarClicker.input.enabled = !1)), 
                l.Util.isValid(this.getStarsBtn) && this.getStarsBtn.setInactive(16777215);
                var t = this.type === e.SUMMARY ? 500 : 700;
                this.game.add.tween(this).to({
                    y: 720
                }, t, Phaser.Easing.Back.In, !0).onComplete.add(this.onCloseComplete, this);
            }
        }, e.prototype.onCloseComplete = function() {
            e.onBattleBaseClose.dispatch(this.type), this.game.broadcaster.broadcast(r.EBattleEvents.PopupClosed, this.scopeApp, null), 
            this.game.prodigy.open.close(this), this.destroy();
        }, e.CENTER = 192, e.SUMMARY = 0, e.LEVEL_UP = 1, e.SPELL = 2, e.onBattleBaseOpen = new Phaser.Signal(), 
        e.onBattleBaseClose = new Phaser.Signal(), e;
    }(o.Element);
    e.BattleBase = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = i(0), s = function(t) {
        function e(e, i, a, n, o, r, s, l, h, c) {
            return void 0 === c && (c = 6500), t.call(this, e, i, a, n, o, c, "wizard", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function(e) {
            void 0 === e && (e = 5e3), t.prototype.setup.call(this, e), this.doAttack();
        }, e.prototype.setupNoAnimation = function(e) {
            t.prototype.setup.call(this, e);
        }, e.prototype.doAttack = function() {
            var t = this.source.x, e = this.source.y;
            r.Util.isValid(this.epic) && (t = this.epic.x, e = this.epic.y);
            for (var i = Math.floor(t + (this.target.x - t) / 2), a = e - 250, n = 0; n < 50; n++) {
                var s = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random()), l = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", s);
                l.anchor.setTo(.5, .5), l.alpha = .8, this.overLayer.add(l);
                var h = Math.floor(4500 * n / 50), c = Math.floor(40 * Math.random() - 20);
                this.game.add.tween(l).to({
                    x: t,
                    y: e - 50 + c
                }, 1, Phaser.Easing.Linear.None).delay(h).to({
                    x: i,
                    y: a
                }, 500, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 1, Phaser.Easing.Linear.None).start();
            }
            var p = 0;
            for (n = 0; n < 12; n++) {
                var u = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-circle-small");
                this.underLayer.add(u), u.anchor.setTo(.5, .5), u.alpha = .25, u.scale.x = u.scale.y = 20, 
                this.game.add.tween(u).to({
                    x: i,
                    y: a
                }, 1, Phaser.Easing.Linear.None).delay(p).to({}, 800, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(u.scale).to({
                    x: 0,
                    y: 0
                }, 800, Phaser.Easing.Linear.None).delay(p).start(), p += 500 - 20 * n;
            }
            var d = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-snowman-body");
            this.overLayer.add(d), d.anchor.setTo(.5, .5), d.alpha = .5, d.scale.x = d.scale.y = 0, 
            this.game.add.tween(d).to({
                x: i,
                y: a
            }, 1, Phaser.Easing.Linear.None).to({}, 5e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 400, Phaser.Easing.Linear.None).start(), this.game.add.tween(d.scale).to({
                x: 4,
                y: 4
            }, 5e3, Phaser.Easing.Linear.None).to({
                x: 10,
                y: 10
            }, 400, Phaser.Easing.Linear.None).start();
            var g = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-steam");
            this.underLayer.add(g), g.anchor.setTo(.5, .5), this.game.add.tween(g).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(5400).to({
                y: "-100",
                alpha: 0
            }, 250, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(this.target).to({
                x: i
            }, 3e3, Phaser.Easing.Quadratic.In).to({}, 2e3, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 200, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
                y: a + 50
            }, 1e3, Phaser.Easing.Quadratic.In).delay(2e3).to({}, 2e3, Phaser.Easing.Linear.None).to({
                y: this.target.y
            }, 200, Phaser.Easing.Linear.None).to({
                y: "-50"
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: "+50"
            }, 250, Phaser.Easing.Quadratic.In).start(), this.game.prodigy.effects.shake(0, 5e3, 3, "v"), 
            this.game.prodigy.effects.shake(5e3, 1e3, 15);
        }, e;
    }(o.Attack);
    e.Zero = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = i(5), s = i(3), l = function(t) {
        function e(e, i, a, n, r) {
            var s = t.call(this, e, i, a, n) || this;
            s.graphic = null, s.vanishTween = null, s.activeTween = null, s.updateEnabled = !0, 
            s.graphic = s.add(s.game.prodigy.create.sprite(0, 0, "atlas-120", "ink-idle-1")), 
            s.graphic.anchor.setTo(.5, 1), s.graphic.x += .5 * s.graphic.width, 
            s.graphic.y += s.graphic.height;
            var l = new o.TweenController(s.graphic);
            return l.set("frameName", [ "ink-idle-1", "ink-idle-2", "ink-idle-3", "ink-idle-4" ], 150, 9999), 
            s.vanishTween = new o.TweenController(s.graphic), s.vanishTween.delay(r), 
            s.vanishTween.set("frameName", [ "ink-vanish-1", "ink-vanish-2", "ink-vanish-3", "ink-vanish-4", "ink-vanish-5" ], 150, 9999), 
            s.vanishTween.end(function() {
                s.onEnd();
            }), s.activeTween = l, s.activeTween.start(), s;
        }
        return n(e, t), e.prototype.onClicked = function() {
            this.activeTween = this.vanishTween, this.activeTween.start();
        }, e.prototype.update = function() {
            t.prototype.update.call(this), this.updateEnabled && this.activeTween.update();
        }, e.prototype.onEnd = function() {
            this.visible = !1, this.updateEnabled = !1, this.game.broadcaster.broadcast(s.EShipwreckShoreEvents.InkBlasted, this.parent, []);
        }, e;
    }(r.Element);
    e.Ink = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.position = new Phaser.Point(), e.requestedHeight = 0, e.requestedWidth = 0, 
            e.updateRate = 0, e.elapsed = 0, e.createdUI = !1, e;
        }
        return n(e, t), e.prototype.update = function() {
            this.elapsed += this.gameObject.game.time.elapsed, this.elapsed >= this.updateRate && (this.elapsed = 0, 
            this.updateUI());
        }, e.prototype.onLayout = function() {
            this.createdUI || this.createUI(), this.elapsed = this.updateRate;
        }, e.prototype.onRemovedFromLayout = function() {
            this.createdUI && this.cleanUpUI();
        }, e.prototype.createUI = function() {
            this.createdUI = !0;
        }, e.prototype.cleanUpUI = function() {
            this.createdUI = !1;
        }, e;
    }(i(43).Component);
    e.DebugValueRenderer = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(3), s = i(38), l = i(253), h = i(0), c = i(857), p = function(t) {
        function e(i, a, n, o, r, s) {
            void 0 === s && (s = !1);
            var h = t.call(this, i, a) || this;
            h.baseX = 0, h.reverseHearts = !1, h.hideStars = !1, h.barMask = null, 
            h.heartsBase = null, h.heartsIcon = null, h.heartsFill = null, h.heartsBarText = null, 
            h.starsBase = null, h.starsIcon = null, h.starsFill = null, h.elementBanner = null, 
            h.levelTitle = null, h.nextSrc = null, h.heartsPercentage = 2, h.starPercentage = 2, 
            h.retryUpdateHearts = !1, h.playerName = null, h.levelText = null, h.ready = !0, 
            h.player = null, h.level = 0, h.totalHearts = 0, h.currentHearts = 0, 
            h.currentStars = 0, h.starsToLevel = 0, h.displayCurrentHearts = 0, 
            h.displayCurrentTotalHearts = 0, h.x = n, h.y = o, h.baseX = n, h.reverseHearts = s, 
            h.hideStars = h.reverseHearts;
            return h.barMask = l.DrawUtil.createBox(h.game, h.reverseHearts ? e.WIDTH - 426 : 138, 30, 288, 96, 0, 1, h), 
            h.heartsBase = h.game.prodigy.create.sprite(0, 0, "atlas-19", "user-bar-base"), 
            h.heartsBase.x = h.reverseHearts ? e.WIDTH - 138 : 138, h.heartsBase.y = 40, 
            h.heartsBase.scale.x = h.reverseHearts ? -1 : 1, h.add(h.heartsBase), 
            h.heartsIcon = h.game.prodigy.create.sprite(h.reverseHearts ? -8 : e.WIDTH - 41, h.heartsBase.y, "atlas-19", "user-bar-heart"), 
            h.heartsIcon.anchor.setTo(.5, .5), h.heartsIcon.x += h.heartsIcon.width >> 1, 
            h.heartsIcon.y += h.heartsIcon.height >> 1, h.add(h.heartsIcon), h.heartsFill = h.game.prodigy.create.sprite(h.heartsBase.x, h.heartsBase.y + 2, "atlas-19", "user-bar-fill-heart"), 
            h.heartsFill.scale.x = h.reverseHearts ? -1 : 1, h.heartsFill.mask = h.barMask, 
            h.add(h.heartsFill), h.heartsBarText = h.game.prodigy.create.font(h, h.reverseHearts ? 32 : 107, h.heartsBase.y + 8, null, {
                size: 2,
                width: 328,
                align: "center",
                fontID: 12
            }), h.heartsBarText.setText(""), h.starsBase = h.game.prodigy.create.sprite(0, 0, "atlas-19", "user-bar-base"), 
            h.starsBase.x = h.heartsBase.x + (h.reverseHearts ? e.STAR_SHIFT : -e.STAR_SHIFT), 
            h.starsBase.y = 80, h.starsBase.scale.x = h.reverseHearts ? -1 : 1, 
            h.starsBase.visible = !h.hideStars, h.add(h.starsBase), h.starsIcon = h.game.prodigy.create.sprite(h.reverseHearts ? e.STAR_SHIFT : h.heartsIcon.x - e.STAR_SHIFT, h.starsBase.y, "atlas-19", "user-bar-star"), 
            h.starsIcon.anchor.setTo(.5, .5), h.starsIcon.y += h.starsIcon.height >> 1, 
            h.starsIcon.visible = !h.hideStars, h.add(h.starsIcon), h.starsFill = h.game.prodigy.create.sprite(h.starsBase.x, h.starsBase.y + 2, "atlas-19", "user-bar-fill-star"), 
            h.starsFill.mask = h.barMask, h.starsFill.scale.x = h.reverseHearts ? -1 : 1, 
            h.starsFill.visible = !h.hideStars, h.add(h.starsFill), h.elementBanner = new c.ElementBanner(i, h, 0, 0, r), 
            h.elementBanner.x = h.reverseHearts ? e.WIDTH - h.elementBanner.width : 0, 
            h.add(h.elementBanner), h.playerName = h.game.prodigy.create.font(h, 0, 5, "", {
                size: 20
            }), h.levelTitle = h.game.prodigy.create.sprite(h.elementBanner.x + 30, 7, "atlas-19", "user-bar-level"), 
            h.add(h.levelTitle), h.levelText = h.game.prodigy.create.font(h, h.elementBanner.x + 7, 39, null, {
                size: 1,
                width: 126,
                align: "center",
                fontID: 12,
                mono: 44
            }), h.setSource(r), h;
        }
        return n(e, t), e.prototype.moveOut = function() {
            this.game.add.tween(this).to({
                x: this.reverseHearts ? 1300 : -e.WIDTH
            }, 700, Phaser.Easing.Quadratic.In, !0);
        }, e.prototype.setSource = function(t) {
            h.Util.isValid(t) && (this.nextSrc !== t ? (this.nextSrc = t, this.updateData(), 
            this.x !== this.baseX && (this.game.tweens.removeFrom(this), this.x = this.baseX, 
            this.y = -300, this.game.add.tween(this).to({
                y: 0,
                x: this.baseX
            }, 1200, Phaser.Easing.Quadratic.Out, !0))) : this.x !== this.baseX && (this.game.tweens.removeFrom(this), 
            this.moveIn()));
        }, e.prototype.moveIn = function() {
            this.game.add.tween(this).to({
                x: this.baseX
            }, 2100, Phaser.Easing.Quadratic.In, !0);
        }, e.prototype.updateData = function() {
            this.player = this.nextSrc, this.elementBanner.setSource(this.player), 
            this.playerName.setText(this.player.getName()), this.playerName.x = this.reverseHearts ? e.WIDTH - 143 - this.playerName.width : 143, 
            this.playerName.y = 5, this.level = this.player.getLevel(), this.totalHearts = this.player.getMaxHearts(), 
            this.currentHearts = this.player.getCurrentHearts(), this.currentStars = this.player.getStars(), 
            this.starsToLevel = this.player.getStarsToLevel(), this.levelText.setText(this.level.toString()), 
            this.displayCurrentHearts = 0, this.displayCurrentTotalHearts = 0, this.heartsPercentage = 2, 
            this.starPercentage = 2, this.updateHeartsBarText(!1), this.updateHeartsBar(!1), 
            this.updateStarsBar(!1);
        }, e.prototype.updateHeartsBar = function(t) {
            if (h.Util.isValid(this.player) && this.player.hasHeartsEventInQueue()) return !0;
            var e = Math.round(this.currentHearts / this.totalHearts * 100) / 100;
            if (h.Util.isValid(this.player.modifiers) && this.player.modifiers.barrier ? (this.heartsFill.frameName = "user-bar-fill-barrier", 
            this.heartsIcon.frameName = "user-bar-shield") : (this.heartsFill.frameName = "user-bar-fill-heart", 
            this.heartsIcon.frameName = "user-bar-heart"), t && (this.currentHearts > this.displayCurrentHearts ? this.bumpHearts() : this.bumpDownHearts()), 
            e !== this.heartsPercentage) {
                this.heartsPercentage = e;
                var i = this.heartsBase.x + (this.reverseHearts ? Math.round(278 * (1 - this.heartsPercentage)) : -Math.round(278 * (1 - this.heartsPercentage)));
                t ? this.game.add.tween(this.heartsFill).to({
                    x: i
                }, 1e3, Phaser.Easing.Quadratic.Out, !0) : this.heartsFill.x = i;
            }
            return !1;
        }, e.prototype.updateHeartsBarText = function(t) {
            if (!h.Util.isValid(this.player) || !this.player.hasHeartsEventInQueue()) {
                if (this.displayCurrentHearts !== this.currentHearts || 0 === this.heartsBarText.text.length) {
                    t || (this.displayCurrentHearts = this.currentHearts);
                    var e = Math.round(.05 * Math.abs(this.displayCurrentHearts - this.currentHearts));
                    e < 1 && (e = 1), this.displayCurrentHearts += this.displayCurrentHearts < this.currentHearts ? e : -e, 
                    this.heartsBarText.setText(Math.round(this.displayCurrentHearts) + "/" + this.totalHearts);
                }
                this.displayCurrentTotalHearts !== this.totalHearts && (this.displayCurrentTotalHearts = this.totalHearts, 
                this.heartsBarText.setText(Math.round(this.displayCurrentHearts) + "/" + this.totalHearts));
            }
        }, e.prototype.updateStarsBar = function(t) {
            var e = this, i = s.Creature.starsToLevel(this.level > 0 ? this.level - 1 : 0);
            this.currentStars < i && (this.currentStars = i);
            var a = Math.round((this.currentStars - i) / (this.starsToLevel + (this.currentStars - i)) * 100) / 100;
            if (this.level >= 100 && (a = 1), a !== this.starPercentage) {
                var n = this.reverseHearts ? this.starsBase.x + Math.round(258 * (1 - a)) : this.starsBase.x - Math.round(258 * (1 - a));
                if (t) {
                    if (a < this.starPercentage) {
                        var o = this.game.add.tween(this.starsFill).to({
                            x: this.starsBase.x
                        }, 1e3, Phaser.Easing.Quadratic.Out, !1, 700), r = this.game.add.tween(this.starsFill).to({
                            alpha: 0
                        }, 100, Phaser.Easing.Linear.None), l = this.game.add.tween(this.starsFill).to({
                            x: n
                        }, 1e3, Phaser.Easing.Quadratic.Out);
                        r.onComplete.add(function() {
                            e.starsFill.alpha = 1, e.starsFill.x = e.starsBase.x + (e.reverseHearts ? 278 : -278);
                        }, this), o.chain(r), r.chain(l), o.start();
                    } else this.game.add.tween(this.starsFill).to({
                        x: n
                    }, 1e3, Phaser.Easing.Quadratic.Out, !0, 700);
                    this.bumpStars();
                } else this.starsFill.x = n;
                this.starPercentage = a;
            }
        }, e.prototype.bumpStars = function() {
            this.game.add.tween(this.starsIcon.scale).to({
                y: 1.4,
                x: 1.4
            }, 220, Phaser.Easing.Quadratic.Out, !0, 800, 2, !0);
        }, e.prototype.bumpHearts = function() {
            this.game.add.tween(this.heartsIcon.scale).to({
                y: 1.4,
                x: 1.4
            }, 250, Phaser.Easing.Quadratic.Out, !0, 400, 5, !0);
        }, e.prototype.bumpDownHearts = function() {
            var t = this.heartsIcon;
            this.game.add.tween(t.scale).to({
                y: .9,
                x: .9
            }, 700, Phaser.Easing.Quadratic.Out, !0).onComplete.add(function() {
                t.scale.setTo(1, 1);
            }, t);
        }, e.prototype.updateLevelText = function() {
            this.levelText.setText(this.level.toString());
        }, e.prototype.updateLevel = function(t) {
            h.Util.isValid(t) ? (this.game.add.tween(this.levelText).to({
                y: -100
            }, 500, Phaser.Easing.Quadratic.Out, !0, 0, 0, !0), this.game.time.events.add(500, this.updateLevelText, this)) : this.updateLevelText();
        }, e.prototype.animateMultipleLevels = function(t, e, i) {
            for (var a = this, n = t, o = [], l = this.game.state.states.Battle.teams[0].current, c = function(t) {
                t < o.length ? (t < o.length - 1 && o[t].onComplete.add(function() {
                    a.levelText.setText((++n).toString()), a.game.broadcaster.broadcast(r.ECreatureEvents.LevelUpAnimation, l, [ !1, !0 ]);
                }), o[t].onComplete.add(c.bind(a, t + 1)), o[t].start()) : h.Util.isValid(i) && i();
            }, p = t; p <= e; p++) {
                var u = null;
                if (p === e) {
                    var d = s.Creature.starsToLevel(e - 1), g = s.Creature.starsToLevel(e), y = (this.currentStars - d) / (g - d);
                    e >= 100 && (y = 1), u = this.game.add.tween(this.starsFill).to({
                        x: this.starsBase.x - 278 * (1 - y)
                    }, 500, Phaser.Easing.Quadratic.Out);
                } else (u = this.game.add.tween(this.starsFill).to({
                    x: this.starsBase.x
                }, 500, Phaser.Easing.Quadratic.Out).to({
                    alpha: 0
                }, 200, Phaser.Easing.Linear.None)).onComplete.add(function() {
                    a.starsFill.x = a.starsBase.x - 278, a.starsFill.alpha = 1;
                }, this);
                o.push(u);
            }
            c.bind(this, 0)();
        }, e.prototype.update = function() {
            var e = this;
            if (t.prototype.update.call(this), h.Util.isValid(this.player) && h.Util.isValid(this.ready) && (this.updateHeartsBarText(!0), 
            this.game.prodigy.updateCount % 15 == 0)) {
                var i = this.player.getMaxHearts(), a = this.player.getCurrentHearts(), n = this.player.getStars(), o = this.player.getStarsToLevel(), r = this.player.getLevel(), s = this.player.getName();
                if (r !== this.level) r - this.level > 1 ? (this.ready = null, setTimeout(this.animateMultipleLevels.bind(this, this.level, r, function() {
                    e.level = r, e.ready = !0, e.updateStarsBar(!1);
                }), 1e3)) : (this.level = r, this.starPercentage = 1, this.game.time.events.add(3e3, this.updateLevel.bind(this, !0), this));
                (i !== this.totalHearts || this.retryUpdateHearts) && (this.totalHearts = i, 
                this.currentHearts = a, this.retryUpdateHearts = this.updateHeartsBar(!0)), 
                (a !== this.currentHearts || this.retryUpdateHearts) && (this.currentHearts = a, 
                this.retryUpdateHearts = this.updateHeartsBar(!0)), this.starsToLevel === o && this.currentStars === n || (this.currentStars = n, 
                this.starsToLevel = o, this.updateStarsBar(!0)), this.playerName.text !== s && this.playerName.setText(s);
            }
        }, e.STAR_SHIFT = 20, e.WIDTH = 460, e;
    }(o.Element);
    e.Hearts = p;
}, function(t, e, i) {
    var a;
    !function(e, i) {
        "use strict";
        "object" == typeof t && "object" == typeof t.exports ? t.exports = e.document ? i(e, !0) : function(t) {
            if (!t.document) throw new Error("jQuery requires a window with a document");
            return i(t);
        } : i(e);
    }("undefined" != typeof window ? window : this, function(i, n) {
        "use strict";
        var o = [], r = i.document, s = Object.getPrototypeOf, l = o.slice, h = o.concat, c = o.push, p = o.indexOf, u = {}, d = u.toString, g = u.hasOwnProperty, y = g.toString, f = y.call(Object), m = {}, _ = function(t) {
            return "function" == typeof t && "number" != typeof t.nodeType;
        }, v = function(t) {
            return null != t && t === t.window;
        }, E = {
            type: !0,
            src: !0,
            noModule: !0
        };
        function b(t, e, i) {
            var a, n = (e = e || r).createElement("script");
            if (n.text = t, i) for (a in E) i[a] && (n[a] = i[a]);
            e.head.appendChild(n).parentNode.removeChild(n);
        }
        function O(t) {
            return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? u[d.call(t)] || "object" : typeof t;
        }
        var T = function(t, e) {
            return new T.fn.init(t, e);
        }, A = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
        function I(t) {
            var e = !!t && "length" in t && t.length, i = O(t);
            return !_(t) && !v(t) && ("array" === i || 0 === e || "number" == typeof e && e > 0 && e - 1 in t);
        }
        T.fn = T.prototype = {
            jquery: "3.3.1",
            constructor: T,
            length: 0,
            toArray: function() {
                return l.call(this);
            },
            get: function(t) {
                return null == t ? l.call(this) : t < 0 ? this[t + this.length] : this[t];
            },
            pushStack: function(t) {
                var e = T.merge(this.constructor(), t);
                return e.prevObject = this, e;
            },
            each: function(t) {
                return T.each(this, t);
            },
            map: function(t) {
                return this.pushStack(T.map(this, function(e, i) {
                    return t.call(e, i, e);
                }));
            },
            slice: function() {
                return this.pushStack(l.apply(this, arguments));
            },
            first: function() {
                return this.eq(0);
            },
            last: function() {
                return this.eq(-1);
            },
            eq: function(t) {
                var e = this.length, i = +t + (t < 0 ? e : 0);
                return this.pushStack(i >= 0 && i < e ? [ this[i] ] : []);
            },
            end: function() {
                return this.prevObject || this.constructor();
            },
            push: c,
            sort: o.sort,
            splice: o.splice
        }, T.extend = T.fn.extend = function() {
            var t, e, i, a, n, o, r = arguments[0] || {}, s = 1, l = arguments.length, h = !1;
            for ("boolean" == typeof r && (h = r, r = arguments[s] || {}, s++), 
            "object" == typeof r || _(r) || (r = {}), s === l && (r = this, s--); s < l; s++) if (null != (t = arguments[s])) for (e in t) i = r[e], 
            r !== (a = t[e]) && (h && a && (T.isPlainObject(a) || (n = Array.isArray(a))) ? (n ? (n = !1, 
            o = i && Array.isArray(i) ? i : []) : o = i && T.isPlainObject(i) ? i : {}, 
            r[e] = T.extend(h, o, a)) : void 0 !== a && (r[e] = a));
            return r;
        }, T.extend({
            expando: "jQuery" + ("3.3.1" + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function(t) {
                throw new Error(t);
            },
            noop: function() {},
            isPlainObject: function(t) {
                var e, i;
                return !(!t || "[object Object]" !== d.call(t)) && (!(e = s(t)) || "function" == typeof (i = g.call(e, "constructor") && e.constructor) && y.call(i) === f);
            },
            isEmptyObject: function(t) {
                var e;
                for (e in t) return !1;
                return !0;
            },
            globalEval: function(t) {
                b(t);
            },
            each: function(t, e) {
                var i, a = 0;
                if (I(t)) for (i = t.length; a < i && !1 !== e.call(t[a], a, t[a]); a++); else for (a in t) if (!1 === e.call(t[a], a, t[a])) break;
                return t;
            },
            trim: function(t) {
                return null == t ? "" : (t + "").replace(A, "");
            },
            makeArray: function(t, e) {
                var i = e || [];
                return null != t && (I(Object(t)) ? T.merge(i, "string" == typeof t ? [ t ] : t) : c.call(i, t)), 
                i;
            },
            inArray: function(t, e, i) {
                return null == e ? -1 : p.call(e, t, i);
            },
            merge: function(t, e) {
                for (var i = +e.length, a = 0, n = t.length; a < i; a++) t[n++] = e[a];
                return t.length = n, t;
            },
            grep: function(t, e, i) {
                for (var a = [], n = 0, o = t.length, r = !i; n < o; n++) !e(t[n], n) !== r && a.push(t[n]);
                return a;
            },
            map: function(t, e, i) {
                var a, n, o = 0, r = [];
                if (I(t)) for (a = t.length; o < a; o++) null != (n = e(t[o], o, i)) && r.push(n); else for (o in t) null != (n = e(t[o], o, i)) && r.push(n);
                return h.apply([], r);
            },
            guid: 1,
            support: m
        }), "function" == typeof Symbol && (T.fn[Symbol.iterator] = o[Symbol.iterator]), 
        T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(t, e) {
            u["[object " + e + "]"] = e.toLowerCase();
        });
        var w = function(t) {
            var e, i, a, n, o, r, s, l, h, c, p, u, d, g, y, f, m, _, v, E = "sizzle" + 1 * new Date(), b = t.document, O = 0, T = 0, A = rt(), I = rt(), w = rt(), C = function(t, e) {
                return t === e && (p = !0), 0;
            }, S = {}.hasOwnProperty, P = [], D = P.pop, L = P.push, x = P.push, M = P.slice, N = function(t, e) {
                for (var i = 0, a = t.length; i < a; i++) if (t[i] === e) return i;
                return -1;
            }, U = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", k = "[\\x20\\t\\r\\n\\f]", R = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+", B = "\\[" + k + "*(" + R + ")(?:" + k + "*([*^$|!~]?=)" + k + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + R + "))|)" + k + "*\\]", G = ":(" + R + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + B + ")*)|.*)\\)|)", V = new RegExp(k + "+", "g"), H = new RegExp("^" + k + "+|((?:^|[^\\\\])(?:\\\\.)*)" + k + "+$", "g"), F = new RegExp("^" + k + "*," + k + "*"), j = new RegExp("^" + k + "*([>+~]|" + k + ")" + k + "*"), z = new RegExp("=" + k + "*([^\\]'\"]*?)" + k + "*\\]", "g"), W = new RegExp(G), K = new RegExp("^" + R + "$"), Y = {
                ID: new RegExp("^#(" + R + ")"),
                CLASS: new RegExp("^\\.(" + R + ")"),
                TAG: new RegExp("^(" + R + "|[*])"),
                ATTR: new RegExp("^" + B),
                PSEUDO: new RegExp("^" + G),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + k + "*(even|odd|(([+-]|)(\\d*)n|)" + k + "*(?:([+-]|)" + k + "*(\\d+)|))" + k + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + U + ")$", "i"),
                needsContext: new RegExp("^" + k + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + k + "*((?:-\\d)?\\d*)" + k + "*\\)|)(?=[^-]|$)", "i")
            }, q = /^(?:input|select|textarea|button)$/i, Q = /^h\d$/i, X = /^[^{]+\{\s*\[native \w/, Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, J = /[+~]/, $ = new RegExp("\\\\([\\da-f]{1,6}" + k + "?|(" + k + ")|.)", "ig"), tt = function(t, e, i) {
                var a = "0x" + e - 65536;
                return a != a || i ? e : a < 0 ? String.fromCharCode(a + 65536) : String.fromCharCode(a >> 10 | 55296, 1023 & a | 56320);
            }, et = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, it = function(t, e) {
                return e ? "\0" === t ? "" : t.slice(0, -1) + "\\" + t.charCodeAt(t.length - 1).toString(16) + " " : "\\" + t;
            }, at = function() {
                u();
            }, nt = _t(function(t) {
                return !0 === t.disabled && ("form" in t || "label" in t);
            }, {
                dir: "parentNode",
                next: "legend"
            });
            try {
                x.apply(P = M.call(b.childNodes), b.childNodes), P[b.childNodes.length].nodeType;
            } catch (t) {
                x = {
                    apply: P.length ? function(t, e) {
                        L.apply(t, M.call(e));
                    } : function(t, e) {
                        for (var i = t.length, a = 0; t[i++] = e[a++]; );
                        t.length = i - 1;
                    }
                };
            }
            function ot(t, e, a, n) {
                var o, s, h, c, p, g, m, _ = e && e.ownerDocument, O = e ? e.nodeType : 9;
                if (a = a || [], "string" != typeof t || !t || 1 !== O && 9 !== O && 11 !== O) return a;
                if (!n && ((e ? e.ownerDocument || e : b) !== d && u(e), e = e || d, 
                y)) {
                    if (11 !== O && (p = Z.exec(t))) if (o = p[1]) {
                        if (9 === O) {
                            if (!(h = e.getElementById(o))) return a;
                            if (h.id === o) return a.push(h), a;
                        } else if (_ && (h = _.getElementById(o)) && v(e, h) && h.id === o) return a.push(h), 
                        a;
                    } else {
                        if (p[2]) return x.apply(a, e.getElementsByTagName(t)), 
                        a;
                        if ((o = p[3]) && i.getElementsByClassName && e.getElementsByClassName) return x.apply(a, e.getElementsByClassName(o)), 
                        a;
                    }
                    if (i.qsa && !w[t + " "] && (!f || !f.test(t))) {
                        if (1 !== O) _ = e, m = t; else if ("object" !== e.nodeName.toLowerCase()) {
                            for ((c = e.getAttribute("id")) ? c = c.replace(et, it) : e.setAttribute("id", c = E), 
                            s = (g = r(t)).length; s--; ) g[s] = "#" + c + " " + mt(g[s]);
                            m = g.join(","), _ = J.test(t) && yt(e.parentNode) || e;
                        }
                        if (m) try {
                            return x.apply(a, _.querySelectorAll(m)), a;
                        } catch (t) {} finally {
                            c === E && e.removeAttribute("id");
                        }
                    }
                }
                return l(t.replace(H, "$1"), e, a, n);
            }
            function rt() {
                var t = [];
                return function e(i, n) {
                    return t.push(i + " ") > a.cacheLength && delete e[t.shift()], 
                    e[i + " "] = n;
                };
            }
            function st(t) {
                return t[E] = !0, t;
            }
            function lt(t) {
                var e = d.createElement("fieldset");
                try {
                    return !!t(e);
                } catch (t) {
                    return !1;
                } finally {
                    e.parentNode && e.parentNode.removeChild(e), e = null;
                }
            }
            function ht(t, e) {
                for (var i = t.split("|"), n = i.length; n--; ) a.attrHandle[i[n]] = e;
            }
            function ct(t, e) {
                var i = e && t, a = i && 1 === t.nodeType && 1 === e.nodeType && t.sourceIndex - e.sourceIndex;
                if (a) return a;
                if (i) for (;i = i.nextSibling; ) if (i === e) return -1;
                return t ? 1 : -1;
            }
            function pt(t) {
                return function(e) {
                    return "input" === e.nodeName.toLowerCase() && e.type === t;
                };
            }
            function ut(t) {
                return function(e) {
                    var i = e.nodeName.toLowerCase();
                    return ("input" === i || "button" === i) && e.type === t;
                };
            }
            function dt(t) {
                return function(e) {
                    return "form" in e ? e.parentNode && !1 === e.disabled ? "label" in e ? "label" in e.parentNode ? e.parentNode.disabled === t : e.disabled === t : e.isDisabled === t || e.isDisabled !== !t && nt(e) === t : e.disabled === t : "label" in e && e.disabled === t;
                };
            }
            function gt(t) {
                return st(function(e) {
                    return e = +e, st(function(i, a) {
                        for (var n, o = t([], i.length, e), r = o.length; r--; ) i[n = o[r]] && (i[n] = !(a[n] = i[n]));
                    });
                });
            }
            function yt(t) {
                return t && void 0 !== t.getElementsByTagName && t;
            }
            for (e in i = ot.support = {}, o = ot.isXML = function(t) {
                var e = t && (t.ownerDocument || t).documentElement;
                return !!e && "HTML" !== e.nodeName;
            }, u = ot.setDocument = function(t) {
                var e, n, r = t ? t.ownerDocument || t : b;
                return r !== d && 9 === r.nodeType && r.documentElement ? (g = (d = r).documentElement, 
                y = !o(d), b !== d && (n = d.defaultView) && n.top !== n && (n.addEventListener ? n.addEventListener("unload", at, !1) : n.attachEvent && n.attachEvent("onunload", at)), 
                i.attributes = lt(function(t) {
                    return t.className = "i", !t.getAttribute("className");
                }), i.getElementsByTagName = lt(function(t) {
                    return t.appendChild(d.createComment("")), !t.getElementsByTagName("*").length;
                }), i.getElementsByClassName = X.test(d.getElementsByClassName), 
                i.getById = lt(function(t) {
                    return g.appendChild(t).id = E, !d.getElementsByName || !d.getElementsByName(E).length;
                }), i.getById ? (a.filter.ID = function(t) {
                    var e = t.replace($, tt);
                    return function(t) {
                        return t.getAttribute("id") === e;
                    };
                }, a.find.ID = function(t, e) {
                    if (void 0 !== e.getElementById && y) {
                        var i = e.getElementById(t);
                        return i ? [ i ] : [];
                    }
                }) : (a.filter.ID = function(t) {
                    var e = t.replace($, tt);
                    return function(t) {
                        var i = void 0 !== t.getAttributeNode && t.getAttributeNode("id");
                        return i && i.value === e;
                    };
                }, a.find.ID = function(t, e) {
                    if (void 0 !== e.getElementById && y) {
                        var i, a, n, o = e.getElementById(t);
                        if (o) {
                            if ((i = o.getAttributeNode("id")) && i.value === t) return [ o ];
                            for (n = e.getElementsByName(t), a = 0; o = n[a++]; ) if ((i = o.getAttributeNode("id")) && i.value === t) return [ o ];
                        }
                        return [];
                    }
                }), a.find.TAG = i.getElementsByTagName ? function(t, e) {
                    return void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t) : i.qsa ? e.querySelectorAll(t) : void 0;
                } : function(t, e) {
                    var i, a = [], n = 0, o = e.getElementsByTagName(t);
                    if ("*" === t) {
                        for (;i = o[n++]; ) 1 === i.nodeType && a.push(i);
                        return a;
                    }
                    return o;
                }, a.find.CLASS = i.getElementsByClassName && function(t, e) {
                    if (void 0 !== e.getElementsByClassName && y) return e.getElementsByClassName(t);
                }, m = [], f = [], (i.qsa = X.test(d.querySelectorAll)) && (lt(function(t) {
                    g.appendChild(t).innerHTML = "<a id='" + E + "'></a><select id='" + E + "-\r\\' msallowcapture=''><option selected=''></option></select>", 
                    t.querySelectorAll("[msallowcapture^='']").length && f.push("[*^$]=" + k + "*(?:''|\"\")"), 
                    t.querySelectorAll("[selected]").length || f.push("\\[" + k + "*(?:value|" + U + ")"), 
                    t.querySelectorAll("[id~=" + E + "-]").length || f.push("~="), 
                    t.querySelectorAll(":checked").length || f.push(":checked"), 
                    t.querySelectorAll("a#" + E + "+*").length || f.push(".#.+[+~]");
                }), lt(function(t) {
                    t.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                    var e = d.createElement("input");
                    e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("name", "D"), 
                    t.querySelectorAll("[name=d]").length && f.push("name" + k + "*[*^$|!~]?="), 
                    2 !== t.querySelectorAll(":enabled").length && f.push(":enabled", ":disabled"), 
                    g.appendChild(t).disabled = !0, 2 !== t.querySelectorAll(":disabled").length && f.push(":enabled", ":disabled"), 
                    t.querySelectorAll("*,:x"), f.push(",.*:");
                })), (i.matchesSelector = X.test(_ = g.matches || g.webkitMatchesSelector || g.mozMatchesSelector || g.oMatchesSelector || g.msMatchesSelector)) && lt(function(t) {
                    i.disconnectedMatch = _.call(t, "*"), _.call(t, "[s!='']:x"), 
                    m.push("!=", G);
                }), f = f.length && new RegExp(f.join("|")), m = m.length && new RegExp(m.join("|")), 
                e = X.test(g.compareDocumentPosition), v = e || X.test(g.contains) ? function(t, e) {
                    var i = 9 === t.nodeType ? t.documentElement : t, a = e && e.parentNode;
                    return t === a || !(!a || 1 !== a.nodeType || !(i.contains ? i.contains(a) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(a)));
                } : function(t, e) {
                    if (e) for (;e = e.parentNode; ) if (e === t) return !0;
                    return !1;
                }, C = e ? function(t, e) {
                    if (t === e) return p = !0, 0;
                    var a = !t.compareDocumentPosition - !e.compareDocumentPosition;
                    return a || (1 & (a = (t.ownerDocument || t) === (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1) || !i.sortDetached && e.compareDocumentPosition(t) === a ? t === d || t.ownerDocument === b && v(b, t) ? -1 : e === d || e.ownerDocument === b && v(b, e) ? 1 : c ? N(c, t) - N(c, e) : 0 : 4 & a ? -1 : 1);
                } : function(t, e) {
                    if (t === e) return p = !0, 0;
                    var i, a = 0, n = t.parentNode, o = e.parentNode, r = [ t ], s = [ e ];
                    if (!n || !o) return t === d ? -1 : e === d ? 1 : n ? -1 : o ? 1 : c ? N(c, t) - N(c, e) : 0;
                    if (n === o) return ct(t, e);
                    for (i = t; i = i.parentNode; ) r.unshift(i);
                    for (i = e; i = i.parentNode; ) s.unshift(i);
                    for (;r[a] === s[a]; ) a++;
                    return a ? ct(r[a], s[a]) : r[a] === b ? -1 : s[a] === b ? 1 : 0;
                }, d) : d;
            }, ot.matches = function(t, e) {
                return ot(t, null, null, e);
            }, ot.matchesSelector = function(t, e) {
                if ((t.ownerDocument || t) !== d && u(t), e = e.replace(z, "='$1']"), 
                i.matchesSelector && y && !w[e + " "] && (!m || !m.test(e)) && (!f || !f.test(e))) try {
                    var a = _.call(t, e);
                    if (a || i.disconnectedMatch || t.document && 11 !== t.document.nodeType) return a;
                } catch (t) {}
                return ot(e, d, null, [ t ]).length > 0;
            }, ot.contains = function(t, e) {
                return (t.ownerDocument || t) !== d && u(t), v(t, e);
            }, ot.attr = function(t, e) {
                (t.ownerDocument || t) !== d && u(t);
                var n = a.attrHandle[e.toLowerCase()], o = n && S.call(a.attrHandle, e.toLowerCase()) ? n(t, e, !y) : void 0;
                return void 0 !== o ? o : i.attributes || !y ? t.getAttribute(e) : (o = t.getAttributeNode(e)) && o.specified ? o.value : null;
            }, ot.escape = function(t) {
                return (t + "").replace(et, it);
            }, ot.error = function(t) {
                throw new Error("Syntax error, unrecognized expression: " + t);
            }, ot.uniqueSort = function(t) {
                var e, a = [], n = 0, o = 0;
                if (p = !i.detectDuplicates, c = !i.sortStable && t.slice(0), t.sort(C), 
                p) {
                    for (;e = t[o++]; ) e === t[o] && (n = a.push(o));
                    for (;n--; ) t.splice(a[n], 1);
                }
                return c = null, t;
            }, n = ot.getText = function(t) {
                var e, i = "", a = 0, o = t.nodeType;
                if (o) {
                    if (1 === o || 9 === o || 11 === o) {
                        if ("string" == typeof t.textContent) return t.textContent;
                        for (t = t.firstChild; t; t = t.nextSibling) i += n(t);
                    } else if (3 === o || 4 === o) return t.nodeValue;
                } else for (;e = t[a++]; ) i += n(e);
                return i;
            }, (a = ot.selectors = {
                cacheLength: 50,
                createPseudo: st,
                match: Y,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function(t) {
                        return t[1] = t[1].replace($, tt), t[3] = (t[3] || t[4] || t[5] || "").replace($, tt), 
                        "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4);
                    },
                    CHILD: function(t) {
                        return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || ot.error(t[0]), 
                        t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), 
                        t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && ot.error(t[0]), 
                        t;
                    },
                    PSEUDO: function(t) {
                        var e, i = !t[6] && t[2];
                        return Y.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : i && W.test(i) && (e = r(i, !0)) && (e = i.indexOf(")", i.length - e) - i.length) && (t[0] = t[0].slice(0, e), 
                        t[2] = i.slice(0, e)), t.slice(0, 3));
                    }
                },
                filter: {
                    TAG: function(t) {
                        var e = t.replace($, tt).toLowerCase();
                        return "*" === t ? function() {
                            return !0;
                        } : function(t) {
                            return t.nodeName && t.nodeName.toLowerCase() === e;
                        };
                    },
                    CLASS: function(t) {
                        var e = A[t + " "];
                        return e || (e = new RegExp("(^|" + k + ")" + t + "(" + k + "|$)")) && A(t, function(t) {
                            return e.test("string" == typeof t.className && t.className || void 0 !== t.getAttribute && t.getAttribute("class") || "");
                        });
                    },
                    ATTR: function(t, e, i) {
                        return function(a) {
                            var n = ot.attr(a, t);
                            return null == n ? "!=" === e : !e || (n += "", "=" === e ? n === i : "!=" === e ? n !== i : "^=" === e ? i && 0 === n.indexOf(i) : "*=" === e ? i && n.indexOf(i) > -1 : "$=" === e ? i && n.slice(-i.length) === i : "~=" === e ? (" " + n.replace(V, " ") + " ").indexOf(i) > -1 : "|=" === e && (n === i || n.slice(0, i.length + 1) === i + "-"));
                        };
                    },
                    CHILD: function(t, e, i, a, n) {
                        var o = "nth" !== t.slice(0, 3), r = "last" !== t.slice(-4), s = "of-type" === e;
                        return 1 === a && 0 === n ? function(t) {
                            return !!t.parentNode;
                        } : function(e, i, l) {
                            var h, c, p, u, d, g, y = o !== r ? "nextSibling" : "previousSibling", f = e.parentNode, m = s && e.nodeName.toLowerCase(), _ = !l && !s, v = !1;
                            if (f) {
                                if (o) {
                                    for (;y; ) {
                                        for (u = e; u = u[y]; ) if (s ? u.nodeName.toLowerCase() === m : 1 === u.nodeType) return !1;
                                        g = y = "only" === t && !g && "nextSibling";
                                    }
                                    return !0;
                                }
                                if (g = [ r ? f.firstChild : f.lastChild ], r && _) {
                                    for (v = (d = (h = (c = (p = (u = f)[E] || (u[E] = {}))[u.uniqueID] || (p[u.uniqueID] = {}))[t] || [])[0] === O && h[1]) && h[2], 
                                    u = d && f.childNodes[d]; u = ++d && u && u[y] || (v = d = 0) || g.pop(); ) if (1 === u.nodeType && ++v && u === e) {
                                        c[t] = [ O, d, v ];
                                        break;
                                    }
                                } else if (_ && (v = d = (h = (c = (p = (u = e)[E] || (u[E] = {}))[u.uniqueID] || (p[u.uniqueID] = {}))[t] || [])[0] === O && h[1]), 
                                !1 === v) for (;(u = ++d && u && u[y] || (v = d = 0) || g.pop()) && ((s ? u.nodeName.toLowerCase() !== m : 1 !== u.nodeType) || !++v || (_ && ((c = (p = u[E] || (u[E] = {}))[u.uniqueID] || (p[u.uniqueID] = {}))[t] = [ O, v ]), 
                                u !== e)); );
                                return (v -= n) === a || v % a == 0 && v / a >= 0;
                            }
                        };
                    },
                    PSEUDO: function(t, e) {
                        var i, n = a.pseudos[t] || a.setFilters[t.toLowerCase()] || ot.error("unsupported pseudo: " + t);
                        return n[E] ? n(e) : n.length > 1 ? (i = [ t, t, "", e ], 
                        a.setFilters.hasOwnProperty(t.toLowerCase()) ? st(function(t, i) {
                            for (var a, o = n(t, e), r = o.length; r--; ) t[a = N(t, o[r])] = !(i[a] = o[r]);
                        }) : function(t) {
                            return n(t, 0, i);
                        }) : n;
                    }
                },
                pseudos: {
                    not: st(function(t) {
                        var e = [], i = [], a = s(t.replace(H, "$1"));
                        return a[E] ? st(function(t, e, i, n) {
                            for (var o, r = a(t, null, n, []), s = t.length; s--; ) (o = r[s]) && (t[s] = !(e[s] = o));
                        }) : function(t, n, o) {
                            return e[0] = t, a(e, null, o, i), e[0] = null, !i.pop();
                        };
                    }),
                    has: st(function(t) {
                        return function(e) {
                            return ot(t, e).length > 0;
                        };
                    }),
                    contains: st(function(t) {
                        return t = t.replace($, tt), function(e) {
                            return (e.textContent || e.innerText || n(e)).indexOf(t) > -1;
                        };
                    }),
                    lang: st(function(t) {
                        return K.test(t || "") || ot.error("unsupported lang: " + t), 
                        t = t.replace($, tt).toLowerCase(), function(e) {
                            var i;
                            do {
                                if (i = y ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (i = i.toLowerCase()) === t || 0 === i.indexOf(t + "-");
                            } while ((e = e.parentNode) && 1 === e.nodeType);
                            return !1;
                        };
                    }),
                    target: function(e) {
                        var i = t.location && t.location.hash;
                        return i && i.slice(1) === e.id;
                    },
                    root: function(t) {
                        return t === g;
                    },
                    focus: function(t) {
                        return t === d.activeElement && (!d.hasFocus || d.hasFocus()) && !!(t.type || t.href || ~t.tabIndex);
                    },
                    enabled: dt(!1),
                    disabled: dt(!0),
                    checked: function(t) {
                        var e = t.nodeName.toLowerCase();
                        return "input" === e && !!t.checked || "option" === e && !!t.selected;
                    },
                    selected: function(t) {
                        return t.parentNode && t.parentNode.selectedIndex, !0 === t.selected;
                    },
                    empty: function(t) {
                        for (t = t.firstChild; t; t = t.nextSibling) if (t.nodeType < 6) return !1;
                        return !0;
                    },
                    parent: function(t) {
                        return !a.pseudos.empty(t);
                    },
                    header: function(t) {
                        return Q.test(t.nodeName);
                    },
                    input: function(t) {
                        return q.test(t.nodeName);
                    },
                    button: function(t) {
                        var e = t.nodeName.toLowerCase();
                        return "input" === e && "button" === t.type || "button" === e;
                    },
                    text: function(t) {
                        var e;
                        return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase());
                    },
                    first: gt(function() {
                        return [ 0 ];
                    }),
                    last: gt(function(t, e) {
                        return [ e - 1 ];
                    }),
                    eq: gt(function(t, e, i) {
                        return [ i < 0 ? i + e : i ];
                    }),
                    even: gt(function(t, e) {
                        for (var i = 0; i < e; i += 2) t.push(i);
                        return t;
                    }),
                    odd: gt(function(t, e) {
                        for (var i = 1; i < e; i += 2) t.push(i);
                        return t;
                    }),
                    lt: gt(function(t, e, i) {
                        for (var a = i < 0 ? i + e : i; --a >= 0; ) t.push(a);
                        return t;
                    }),
                    gt: gt(function(t, e, i) {
                        for (var a = i < 0 ? i + e : i; ++a < e; ) t.push(a);
                        return t;
                    })
                }
            }).pseudos.nth = a.pseudos.eq, {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) a.pseudos[e] = pt(e);
            for (e in {
                submit: !0,
                reset: !0
            }) a.pseudos[e] = ut(e);
            function ft() {}
            function mt(t) {
                for (var e = 0, i = t.length, a = ""; e < i; e++) a += t[e].value;
                return a;
            }
            function _t(t, e, i) {
                var a = e.dir, n = e.next, o = n || a, r = i && "parentNode" === o, s = T++;
                return e.first ? function(e, i, n) {
                    for (;e = e[a]; ) if (1 === e.nodeType || r) return t(e, i, n);
                    return !1;
                } : function(e, i, l) {
                    var h, c, p, u = [ O, s ];
                    if (l) {
                        for (;e = e[a]; ) if ((1 === e.nodeType || r) && t(e, i, l)) return !0;
                    } else for (;e = e[a]; ) if (1 === e.nodeType || r) if (c = (p = e[E] || (e[E] = {}))[e.uniqueID] || (p[e.uniqueID] = {}), 
                    n && n === e.nodeName.toLowerCase()) e = e[a] || e; else {
                        if ((h = c[o]) && h[0] === O && h[1] === s) return u[2] = h[2];
                        if (c[o] = u, u[2] = t(e, i, l)) return !0;
                    }
                    return !1;
                };
            }
            function vt(t) {
                return t.length > 1 ? function(e, i, a) {
                    for (var n = t.length; n--; ) if (!t[n](e, i, a)) return !1;
                    return !0;
                } : t[0];
            }
            function Et(t, e, i, a, n) {
                for (var o, r = [], s = 0, l = t.length, h = null != e; s < l; s++) (o = t[s]) && (i && !i(o, a, n) || (r.push(o), 
                h && e.push(s)));
                return r;
            }
            function bt(t, e, i, a, n, o) {
                return a && !a[E] && (a = bt(a)), n && !n[E] && (n = bt(n, o)), 
                st(function(o, r, s, l) {
                    var h, c, p, u = [], d = [], g = r.length, y = o || function(t, e, i) {
                        for (var a = 0, n = e.length; a < n; a++) ot(t, e[a], i);
                        return i;
                    }(e || "*", s.nodeType ? [ s ] : s, []), f = !t || !o && e ? y : Et(y, u, t, s, l), m = i ? n || (o ? t : g || a) ? [] : r : f;
                    if (i && i(f, m, s, l), a) for (h = Et(m, d), a(h, [], s, l), 
                    c = h.length; c--; ) (p = h[c]) && (m[d[c]] = !(f[d[c]] = p));
                    if (o) {
                        if (n || t) {
                            if (n) {
                                for (h = [], c = m.length; c--; ) (p = m[c]) && h.push(f[c] = p);
                                n(null, m = [], h, l);
                            }
                            for (c = m.length; c--; ) (p = m[c]) && (h = n ? N(o, p) : u[c]) > -1 && (o[h] = !(r[h] = p));
                        }
                    } else m = Et(m === r ? m.splice(g, m.length) : m), n ? n(null, r, m, l) : x.apply(r, m);
                });
            }
            function Ot(t) {
                for (var e, i, n, o = t.length, r = a.relative[t[0].type], s = r || a.relative[" "], l = r ? 1 : 0, c = _t(function(t) {
                    return t === e;
                }, s, !0), p = _t(function(t) {
                    return N(e, t) > -1;
                }, s, !0), u = [ function(t, i, a) {
                    var n = !r && (a || i !== h) || ((e = i).nodeType ? c(t, i, a) : p(t, i, a));
                    return e = null, n;
                } ]; l < o; l++) if (i = a.relative[t[l].type]) u = [ _t(vt(u), i) ]; else {
                    if ((i = a.filter[t[l].type].apply(null, t[l].matches))[E]) {
                        for (n = ++l; n < o && !a.relative[t[n].type]; n++);
                        return bt(l > 1 && vt(u), l > 1 && mt(t.slice(0, l - 1).concat({
                            value: " " === t[l - 2].type ? "*" : ""
                        })).replace(H, "$1"), i, l < n && Ot(t.slice(l, n)), n < o && Ot(t = t.slice(n)), n < o && mt(t));
                    }
                    u.push(i);
                }
                return vt(u);
            }
            return ft.prototype = a.filters = a.pseudos, a.setFilters = new ft(), 
            r = ot.tokenize = function(t, e) {
                var i, n, o, r, s, l, h, c = I[t + " "];
                if (c) return e ? 0 : c.slice(0);
                for (s = t, l = [], h = a.preFilter; s; ) {
                    for (r in i && !(n = F.exec(s)) || (n && (s = s.slice(n[0].length) || s), 
                    l.push(o = [])), i = !1, (n = j.exec(s)) && (i = n.shift(), 
                    o.push({
                        value: i,
                        type: n[0].replace(H, " ")
                    }), s = s.slice(i.length)), a.filter) !(n = Y[r].exec(s)) || h[r] && !(n = h[r](n)) || (i = n.shift(), 
                    o.push({
                        value: i,
                        type: r,
                        matches: n
                    }), s = s.slice(i.length));
                    if (!i) break;
                }
                return e ? s.length : s ? ot.error(t) : I(t, l).slice(0);
            }, s = ot.compile = function(t, e) {
                var i, n = [], o = [], s = w[t + " "];
                if (!s) {
                    for (e || (e = r(t)), i = e.length; i--; ) (s = Ot(e[i]))[E] ? n.push(s) : o.push(s);
                    (s = w(t, function(t, e) {
                        var i = e.length > 0, n = t.length > 0, o = function(o, r, s, l, c) {
                            var p, g, f, m = 0, _ = "0", v = o && [], E = [], b = h, T = o || n && a.find.TAG("*", c), A = O += null == b ? 1 : Math.random() || .1, I = T.length;
                            for (c && (h = r === d || r || c); _ !== I && null != (p = T[_]); _++) {
                                if (n && p) {
                                    for (g = 0, r || p.ownerDocument === d || (u(p), 
                                    s = !y); f = t[g++]; ) if (f(p, r || d, s)) {
                                        l.push(p);
                                        break;
                                    }
                                    c && (O = A);
                                }
                                i && ((p = !f && p) && m--, o && v.push(p));
                            }
                            if (m += _, i && _ !== m) {
                                for (g = 0; f = e[g++]; ) f(v, E, r, s);
                                if (o) {
                                    if (m > 0) for (;_--; ) v[_] || E[_] || (E[_] = D.call(l));
                                    E = Et(E);
                                }
                                x.apply(l, E), c && !o && E.length > 0 && m + e.length > 1 && ot.uniqueSort(l);
                            }
                            return c && (O = A, h = b), v;
                        };
                        return i ? st(o) : o;
                    }(o, n))).selector = t;
                }
                return s;
            }, l = ot.select = function(t, e, i, n) {
                var o, l, h, c, p, u = "function" == typeof t && t, d = !n && r(t = u.selector || t);
                if (i = i || [], 1 === d.length) {
                    if ((l = d[0] = d[0].slice(0)).length > 2 && "ID" === (h = l[0]).type && 9 === e.nodeType && y && a.relative[l[1].type]) {
                        if (!(e = (a.find.ID(h.matches[0].replace($, tt), e) || [])[0])) return i;
                        u && (e = e.parentNode), t = t.slice(l.shift().value.length);
                    }
                    for (o = Y.needsContext.test(t) ? 0 : l.length; o-- && (h = l[o], 
                    !a.relative[c = h.type]); ) if ((p = a.find[c]) && (n = p(h.matches[0].replace($, tt), J.test(l[0].type) && yt(e.parentNode) || e))) {
                        if (l.splice(o, 1), !(t = n.length && mt(l))) return x.apply(i, n), 
                        i;
                        break;
                    }
                }
                return (u || s(t, d))(n, e, !y, i, !e || J.test(t) && yt(e.parentNode) || e), 
                i;
            }, i.sortStable = E.split("").sort(C).join("") === E, i.detectDuplicates = !!p, 
            u(), i.sortDetached = lt(function(t) {
                return 1 & t.compareDocumentPosition(d.createElement("fieldset"));
            }), lt(function(t) {
                return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href");
            }) || ht("type|href|height|width", function(t, e, i) {
                if (!i) return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2);
            }), i.attributes && lt(function(t) {
                return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), 
                "" === t.firstChild.getAttribute("value");
            }) || ht("value", function(t, e, i) {
                if (!i && "input" === t.nodeName.toLowerCase()) return t.defaultValue;
            }), lt(function(t) {
                return null == t.getAttribute("disabled");
            }) || ht(U, function(t, e, i) {
                var a;
                if (!i) return !0 === t[e] ? e.toLowerCase() : (a = t.getAttributeNode(e)) && a.specified ? a.value : null;
            }), ot;
        }(i);
        T.find = w, T.expr = w.selectors, T.expr[":"] = T.expr.pseudos, T.uniqueSort = T.unique = w.uniqueSort, 
        T.text = w.getText, T.isXMLDoc = w.isXML, T.contains = w.contains, T.escapeSelector = w.escape;
        var C = function(t, e, i) {
            for (var a = [], n = void 0 !== i; (t = t[e]) && 9 !== t.nodeType; ) if (1 === t.nodeType) {
                if (n && T(t).is(i)) break;
                a.push(t);
            }
            return a;
        }, S = function(t, e) {
            for (var i = []; t; t = t.nextSibling) 1 === t.nodeType && t !== e && i.push(t);
            return i;
        }, P = T.expr.match.needsContext;
        function D(t, e) {
            return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase();
        }
        var L = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
        function x(t, e, i) {
            return _(e) ? T.grep(t, function(t, a) {
                return !!e.call(t, a, t) !== i;
            }) : e.nodeType ? T.grep(t, function(t) {
                return t === e !== i;
            }) : "string" != typeof e ? T.grep(t, function(t) {
                return p.call(e, t) > -1 !== i;
            }) : T.filter(e, t, i);
        }
        T.filter = function(t, e, i) {
            var a = e[0];
            return i && (t = ":not(" + t + ")"), 1 === e.length && 1 === a.nodeType ? T.find.matchesSelector(a, t) ? [ a ] : [] : T.find.matches(t, T.grep(e, function(t) {
                return 1 === t.nodeType;
            }));
        }, T.fn.extend({
            find: function(t) {
                var e, i, a = this.length, n = this;
                if ("string" != typeof t) return this.pushStack(T(t).filter(function() {
                    for (e = 0; e < a; e++) if (T.contains(n[e], this)) return !0;
                }));
                for (i = this.pushStack([]), e = 0; e < a; e++) T.find(t, n[e], i);
                return a > 1 ? T.uniqueSort(i) : i;
            },
            filter: function(t) {
                return this.pushStack(x(this, t || [], !1));
            },
            not: function(t) {
                return this.pushStack(x(this, t || [], !0));
            },
            is: function(t) {
                return !!x(this, "string" == typeof t && P.test(t) ? T(t) : t || [], !1).length;
            }
        });
        var M, N = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
        (T.fn.init = function(t, e, i) {
            var a, n;
            if (!t) return this;
            if (i = i || M, "string" == typeof t) {
                if (!(a = "<" === t[0] && ">" === t[t.length - 1] && t.length >= 3 ? [ null, t, null ] : N.exec(t)) || !a[1] && e) return !e || e.jquery ? (e || i).find(t) : this.constructor(e).find(t);
                if (a[1]) {
                    if (e = e instanceof T ? e[0] : e, T.merge(this, T.parseHTML(a[1], e && e.nodeType ? e.ownerDocument || e : r, !0)), 
                    L.test(a[1]) && T.isPlainObject(e)) for (a in e) _(this[a]) ? this[a](e[a]) : this.attr(a, e[a]);
                    return this;
                }
                return (n = r.getElementById(a[2])) && (this[0] = n, this.length = 1), 
                this;
            }
            return t.nodeType ? (this[0] = t, this.length = 1, this) : _(t) ? void 0 !== i.ready ? i.ready(t) : t(T) : T.makeArray(t, this);
        }).prototype = T.fn, M = T(r);
        var U = /^(?:parents|prev(?:Until|All))/, k = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
        function R(t, e) {
            for (;(t = t[e]) && 1 !== t.nodeType; );
            return t;
        }
        T.fn.extend({
            has: function(t) {
                var e = T(t, this), i = e.length;
                return this.filter(function() {
                    for (var t = 0; t < i; t++) if (T.contains(this, e[t])) return !0;
                });
            },
            closest: function(t, e) {
                var i, a = 0, n = this.length, o = [], r = "string" != typeof t && T(t);
                if (!P.test(t)) for (;a < n; a++) for (i = this[a]; i && i !== e; i = i.parentNode) if (i.nodeType < 11 && (r ? r.index(i) > -1 : 1 === i.nodeType && T.find.matchesSelector(i, t))) {
                    o.push(i);
                    break;
                }
                return this.pushStack(o.length > 1 ? T.uniqueSort(o) : o);
            },
            index: function(t) {
                return t ? "string" == typeof t ? p.call(T(t), this[0]) : p.call(this, t.jquery ? t[0] : t) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
            },
            add: function(t, e) {
                return this.pushStack(T.uniqueSort(T.merge(this.get(), T(t, e))));
            },
            addBack: function(t) {
                return this.add(null == t ? this.prevObject : this.prevObject.filter(t));
            }
        }), T.each({
            parent: function(t) {
                var e = t.parentNode;
                return e && 11 !== e.nodeType ? e : null;
            },
            parents: function(t) {
                return C(t, "parentNode");
            },
            parentsUntil: function(t, e, i) {
                return C(t, "parentNode", i);
            },
            next: function(t) {
                return R(t, "nextSibling");
            },
            prev: function(t) {
                return R(t, "previousSibling");
            },
            nextAll: function(t) {
                return C(t, "nextSibling");
            },
            prevAll: function(t) {
                return C(t, "previousSibling");
            },
            nextUntil: function(t, e, i) {
                return C(t, "nextSibling", i);
            },
            prevUntil: function(t, e, i) {
                return C(t, "previousSibling", i);
            },
            siblings: function(t) {
                return S((t.parentNode || {}).firstChild, t);
            },
            children: function(t) {
                return S(t.firstChild);
            },
            contents: function(t) {
                return D(t, "iframe") ? t.contentDocument : (D(t, "template") && (t = t.content || t), 
                T.merge([], t.childNodes));
            }
        }, function(t, e) {
            T.fn[t] = function(i, a) {
                var n = T.map(this, e, i);
                return "Until" !== t.slice(-5) && (a = i), a && "string" == typeof a && (n = T.filter(a, n)), 
                this.length > 1 && (k[t] || T.uniqueSort(n), U.test(t) && n.reverse()), 
                this.pushStack(n);
            };
        });
        var B = /[^\x20\t\r\n\f]+/g;
        function G(t) {
            return t;
        }
        function V(t) {
            throw t;
        }
        function H(t, e, i, a) {
            var n;
            try {
                t && _(n = t.promise) ? n.call(t).done(e).fail(i) : t && _(n = t.then) ? n.call(t, e, i) : e.apply(void 0, [ t ].slice(a));
            } catch (t) {
                i.apply(void 0, [ t ]);
            }
        }
        T.Callbacks = function(t) {
            t = "string" == typeof t ? function(t) {
                var e = {};
                return T.each(t.match(B) || [], function(t, i) {
                    e[i] = !0;
                }), e;
            }(t) : T.extend({}, t);
            var e, i, a, n, o = [], r = [], s = -1, l = function() {
                for (n = n || t.once, a = e = !0; r.length; s = -1) for (i = r.shift(); ++s < o.length; ) !1 === o[s].apply(i[0], i[1]) && t.stopOnFalse && (s = o.length, 
                i = !1);
                t.memory || (i = !1), e = !1, n && (o = i ? [] : "");
            }, h = {
                add: function() {
                    return o && (i && !e && (s = o.length - 1, r.push(i)), function e(i) {
                        T.each(i, function(i, a) {
                            _(a) ? t.unique && h.has(a) || o.push(a) : a && a.length && "string" !== O(a) && e(a);
                        });
                    }(arguments), i && !e && l()), this;
                },
                remove: function() {
                    return T.each(arguments, function(t, e) {
                        for (var i; (i = T.inArray(e, o, i)) > -1; ) o.splice(i, 1), 
                        i <= s && s--;
                    }), this;
                },
                has: function(t) {
                    return t ? T.inArray(t, o) > -1 : o.length > 0;
                },
                empty: function() {
                    return o && (o = []), this;
                },
                disable: function() {
                    return n = r = [], o = i = "", this;
                },
                disabled: function() {
                    return !o;
                },
                lock: function() {
                    return n = r = [], i || e || (o = i = ""), this;
                },
                locked: function() {
                    return !!n;
                },
                fireWith: function(t, i) {
                    return n || (i = [ t, (i = i || []).slice ? i.slice() : i ], 
                    r.push(i), e || l()), this;
                },
                fire: function() {
                    return h.fireWith(this, arguments), this;
                },
                fired: function() {
                    return !!a;
                }
            };
            return h;
        }, T.extend({
            Deferred: function(t) {
                var e = [ [ "notify", "progress", T.Callbacks("memory"), T.Callbacks("memory"), 2 ], [ "resolve", "done", T.Callbacks("once memory"), T.Callbacks("once memory"), 0, "resolved" ], [ "reject", "fail", T.Callbacks("once memory"), T.Callbacks("once memory"), 1, "rejected" ] ], a = "pending", n = {
                    state: function() {
                        return a;
                    },
                    always: function() {
                        return o.done(arguments).fail(arguments), this;
                    },
                    catch: function(t) {
                        return n.then(null, t);
                    },
                    pipe: function() {
                        var t = arguments;
                        return T.Deferred(function(i) {
                            T.each(e, function(e, a) {
                                var n = _(t[a[4]]) && t[a[4]];
                                o[a[1]](function() {
                                    var t = n && n.apply(this, arguments);
                                    t && _(t.promise) ? t.promise().progress(i.notify).done(i.resolve).fail(i.reject) : i[a[0] + "With"](this, n ? [ t ] : arguments);
                                });
                            }), t = null;
                        }).promise();
                    },
                    then: function(t, a, n) {
                        var o = 0;
                        function r(t, e, a, n) {
                            return function() {
                                var s = this, l = arguments, h = function() {
                                    var i, h;
                                    if (!(t < o)) {
                                        if ((i = a.apply(s, l)) === e.promise()) throw new TypeError("Thenable self-resolution");
                                        h = i && ("object" == typeof i || "function" == typeof i) && i.then, 
                                        _(h) ? n ? h.call(i, r(o, e, G, n), r(o, e, V, n)) : (o++, 
                                        h.call(i, r(o, e, G, n), r(o, e, V, n), r(o, e, G, e.notifyWith))) : (a !== G && (s = void 0, 
                                        l = [ i ]), (n || e.resolveWith)(s, l));
                                    }
                                }, c = n ? h : function() {
                                    try {
                                        h();
                                    } catch (i) {
                                        T.Deferred.exceptionHook && T.Deferred.exceptionHook(i, c.stackTrace), 
                                        t + 1 >= o && (a !== V && (s = void 0, l = [ i ]), 
                                        e.rejectWith(s, l));
                                    }
                                };
                                t ? c() : (T.Deferred.getStackHook && (c.stackTrace = T.Deferred.getStackHook()), 
                                i.setTimeout(c));
                            };
                        }
                        return T.Deferred(function(i) {
                            e[0][3].add(r(0, i, _(n) ? n : G, i.notifyWith)), e[1][3].add(r(0, i, _(t) ? t : G)), 
                            e[2][3].add(r(0, i, _(a) ? a : V));
                        }).promise();
                    },
                    promise: function(t) {
                        return null != t ? T.extend(t, n) : n;
                    }
                }, o = {};
                return T.each(e, function(t, i) {
                    var r = i[2], s = i[5];
                    n[i[1]] = r.add, s && r.add(function() {
                        a = s;
                    }, e[3 - t][2].disable, e[3 - t][3].disable, e[0][2].lock, e[0][3].lock), 
                    r.add(i[3].fire), o[i[0]] = function() {
                        return o[i[0] + "With"](this === o ? void 0 : this, arguments), 
                        this;
                    }, o[i[0] + "With"] = r.fireWith;
                }), n.promise(o), t && t.call(o, o), o;
            },
            when: function(t) {
                var e = arguments.length, i = e, a = Array(i), n = l.call(arguments), o = T.Deferred(), r = function(t) {
                    return function(i) {
                        a[t] = this, n[t] = arguments.length > 1 ? l.call(arguments) : i, 
                        --e || o.resolveWith(a, n);
                    };
                };
                if (e <= 1 && (H(t, o.done(r(i)).resolve, o.reject, !e), "pending" === o.state() || _(n[i] && n[i].then))) return o.then();
                for (;i--; ) H(n[i], r(i), o.reject);
                return o.promise();
            }
        });
        var F = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
        T.Deferred.exceptionHook = function(t, e) {
            i.console && i.console.warn && t && F.test(t.name) && i.console.warn("jQuery.Deferred exception: " + t.message, t.stack, e);
        }, T.readyException = function(t) {
            i.setTimeout(function() {
                throw t;
            });
        };
        var j = T.Deferred();
        function z() {
            r.removeEventListener("DOMContentLoaded", z), i.removeEventListener("load", z), 
            T.ready();
        }
        T.fn.ready = function(t) {
            return j.then(t).catch(function(t) {
                T.readyException(t);
            }), this;
        }, T.extend({
            isReady: !1,
            readyWait: 1,
            ready: function(t) {
                (!0 === t ? --T.readyWait : T.isReady) || (T.isReady = !0, !0 !== t && --T.readyWait > 0 || j.resolveWith(r, [ T ]));
            }
        }), T.ready.then = j.then, "complete" === r.readyState || "loading" !== r.readyState && !r.documentElement.doScroll ? i.setTimeout(T.ready) : (r.addEventListener("DOMContentLoaded", z), 
        i.addEventListener("load", z));
        var W = function(t, e, i, a, n, o, r) {
            var s = 0, l = t.length, h = null == i;
            if ("object" === O(i)) for (s in n = !0, i) W(t, e, s, i[s], !0, o, r); else if (void 0 !== a && (n = !0, 
            _(a) || (r = !0), h && (r ? (e.call(t, a), e = null) : (h = e, e = function(t, e, i) {
                return h.call(T(t), i);
            })), e)) for (;s < l; s++) e(t[s], i, r ? a : a.call(t[s], s, e(t[s], i)));
            return n ? t : h ? e.call(t) : l ? e(t[0], i) : o;
        }, K = /^-ms-/, Y = /-([a-z])/g;
        function q(t, e) {
            return e.toUpperCase();
        }
        function Q(t) {
            return t.replace(K, "ms-").replace(Y, q);
        }
        var X = function(t) {
            return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType;
        };
        function Z() {
            this.expando = T.expando + Z.uid++;
        }
        Z.uid = 1, Z.prototype = {
            cache: function(t) {
                var e = t[this.expando];
                return e || (e = {}, X(t) && (t.nodeType ? t[this.expando] = e : Object.defineProperty(t, this.expando, {
                    value: e,
                    configurable: !0
                }))), e;
            },
            set: function(t, e, i) {
                var a, n = this.cache(t);
                if ("string" == typeof e) n[Q(e)] = i; else for (a in e) n[Q(a)] = e[a];
                return n;
            },
            get: function(t, e) {
                return void 0 === e ? this.cache(t) : t[this.expando] && t[this.expando][Q(e)];
            },
            access: function(t, e, i) {
                return void 0 === e || e && "string" == typeof e && void 0 === i ? this.get(t, e) : (this.set(t, e, i), 
                void 0 !== i ? i : e);
            },
            remove: function(t, e) {
                var i, a = t[this.expando];
                if (void 0 !== a) {
                    if (void 0 !== e) {
                        i = (e = Array.isArray(e) ? e.map(Q) : (e = Q(e)) in a ? [ e ] : e.match(B) || []).length;
                        for (;i--; ) delete a[e[i]];
                    }
                    (void 0 === e || T.isEmptyObject(a)) && (t.nodeType ? t[this.expando] = void 0 : delete t[this.expando]);
                }
            },
            hasData: function(t) {
                var e = t[this.expando];
                return void 0 !== e && !T.isEmptyObject(e);
            }
        };
        var J = new Z(), $ = new Z(), tt = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, et = /[A-Z]/g;
        function it(t, e, i) {
            var a;
            if (void 0 === i && 1 === t.nodeType) if (a = "data-" + e.replace(et, "-$&").toLowerCase(), 
            "string" == typeof (i = t.getAttribute(a))) {
                try {
                    i = function(t) {
                        return "true" === t || "false" !== t && ("null" === t ? null : t === +t + "" ? +t : tt.test(t) ? JSON.parse(t) : t);
                    }(i);
                } catch (t) {}
                $.set(t, e, i);
            } else i = void 0;
            return i;
        }
        T.extend({
            hasData: function(t) {
                return $.hasData(t) || J.hasData(t);
            },
            data: function(t, e, i) {
                return $.access(t, e, i);
            },
            removeData: function(t, e) {
                $.remove(t, e);
            },
            _data: function(t, e, i) {
                return J.access(t, e, i);
            },
            _removeData: function(t, e) {
                J.remove(t, e);
            }
        }), T.fn.extend({
            data: function(t, e) {
                var i, a, n, o = this[0], r = o && o.attributes;
                if (void 0 === t) {
                    if (this.length && (n = $.get(o), 1 === o.nodeType && !J.get(o, "hasDataAttrs"))) {
                        for (i = r.length; i--; ) r[i] && 0 === (a = r[i].name).indexOf("data-") && (a = Q(a.slice(5)), 
                        it(o, a, n[a]));
                        J.set(o, "hasDataAttrs", !0);
                    }
                    return n;
                }
                return "object" == typeof t ? this.each(function() {
                    $.set(this, t);
                }) : W(this, function(e) {
                    var i;
                    if (o && void 0 === e) return void 0 !== (i = $.get(o, t)) ? i : void 0 !== (i = it(o, t)) ? i : void 0;
                    this.each(function() {
                        $.set(this, t, e);
                    });
                }, null, e, arguments.length > 1, null, !0);
            },
            removeData: function(t) {
                return this.each(function() {
                    $.remove(this, t);
                });
            }
        }), T.extend({
            queue: function(t, e, i) {
                var a;
                if (t) return e = (e || "fx") + "queue", a = J.get(t, e), i && (!a || Array.isArray(i) ? a = J.access(t, e, T.makeArray(i)) : a.push(i)), 
                a || [];
            },
            dequeue: function(t, e) {
                e = e || "fx";
                var i = T.queue(t, e), a = i.length, n = i.shift(), o = T._queueHooks(t, e);
                "inprogress" === n && (n = i.shift(), a--), n && ("fx" === e && i.unshift("inprogress"), 
                delete o.stop, n.call(t, function() {
                    T.dequeue(t, e);
                }, o)), !a && o && o.empty.fire();
            },
            _queueHooks: function(t, e) {
                var i = e + "queueHooks";
                return J.get(t, i) || J.access(t, i, {
                    empty: T.Callbacks("once memory").add(function() {
                        J.remove(t, [ e + "queue", i ]);
                    })
                });
            }
        }), T.fn.extend({
            queue: function(t, e) {
                var i = 2;
                return "string" != typeof t && (e = t, t = "fx", i--), arguments.length < i ? T.queue(this[0], t) : void 0 === e ? this : this.each(function() {
                    var i = T.queue(this, t, e);
                    T._queueHooks(this, t), "fx" === t && "inprogress" !== i[0] && T.dequeue(this, t);
                });
            },
            dequeue: function(t) {
                return this.each(function() {
                    T.dequeue(this, t);
                });
            },
            clearQueue: function(t) {
                return this.queue(t || "fx", []);
            },
            promise: function(t, e) {
                var i, a = 1, n = T.Deferred(), o = this, r = this.length, s = function() {
                    --a || n.resolveWith(o, [ o ]);
                };
                for ("string" != typeof t && (e = t, t = void 0), t = t || "fx"; r--; ) (i = J.get(o[r], t + "queueHooks")) && i.empty && (a++, 
                i.empty.add(s));
                return s(), n.promise(e);
            }
        });
        var at = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, nt = new RegExp("^(?:([+-])=|)(" + at + ")([a-z%]*)$", "i"), ot = [ "Top", "Right", "Bottom", "Left" ], rt = function(t, e) {
            return "none" === (t = e || t).style.display || "" === t.style.display && T.contains(t.ownerDocument, t) && "none" === T.css(t, "display");
        }, st = function(t, e, i, a) {
            var n, o, r = {};
            for (o in e) r[o] = t.style[o], t.style[o] = e[o];
            for (o in n = i.apply(t, a || []), e) t.style[o] = r[o];
            return n;
        };
        function lt(t, e, i, a) {
            var n, o, r = 20, s = a ? function() {
                return a.cur();
            } : function() {
                return T.css(t, e, "");
            }, l = s(), h = i && i[3] || (T.cssNumber[e] ? "" : "px"), c = (T.cssNumber[e] || "px" !== h && +l) && nt.exec(T.css(t, e));
            if (c && c[3] !== h) {
                for (l /= 2, h = h || c[3], c = +l || 1; r--; ) T.style(t, e, c + h), 
                (1 - o) * (1 - (o = s() / l || .5)) <= 0 && (r = 0), c /= o;
                c *= 2, T.style(t, e, c + h), i = i || [];
            }
            return i && (c = +c || +l || 0, n = i[1] ? c + (i[1] + 1) * i[2] : +i[2], 
            a && (a.unit = h, a.start = c, a.end = n)), n;
        }
        var ht = {};
        function ct(t) {
            var e, i = t.ownerDocument, a = t.nodeName, n = ht[a];
            return n || (e = i.body.appendChild(i.createElement(a)), n = T.css(e, "display"), 
            e.parentNode.removeChild(e), "none" === n && (n = "block"), ht[a] = n, 
            n);
        }
        function pt(t, e) {
            for (var i, a, n = [], o = 0, r = t.length; o < r; o++) (a = t[o]).style && (i = a.style.display, 
            e ? ("none" === i && (n[o] = J.get(a, "display") || null, n[o] || (a.style.display = "")), 
            "" === a.style.display && rt(a) && (n[o] = ct(a))) : "none" !== i && (n[o] = "none", 
            J.set(a, "display", i)));
            for (o = 0; o < r; o++) null != n[o] && (t[o].style.display = n[o]);
            return t;
        }
        T.fn.extend({
            show: function() {
                return pt(this, !0);
            },
            hide: function() {
                return pt(this);
            },
            toggle: function(t) {
                return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each(function() {
                    rt(this) ? T(this).show() : T(this).hide();
                });
            }
        });
        var ut = /^(?:checkbox|radio)$/i, dt = /<([a-z][^\/\0>\x20\t\r\n\f]+)/i, gt = /^$|^module$|\/(?:java|ecma)script/i, yt = {
            option: [ 1, "<select multiple='multiple'>", "</select>" ],
            thead: [ 1, "<table>", "</table>" ],
            col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
            tr: [ 2, "<table><tbody>", "</tbody></table>" ],
            td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],
            _default: [ 0, "", "" ]
        };
        function ft(t, e) {
            var i;
            return i = void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e || "*") : void 0 !== t.querySelectorAll ? t.querySelectorAll(e || "*") : [], 
            void 0 === e || e && D(t, e) ? T.merge([ t ], i) : i;
        }
        function mt(t, e) {
            for (var i = 0, a = t.length; i < a; i++) J.set(t[i], "globalEval", !e || J.get(e[i], "globalEval"));
        }
        yt.optgroup = yt.option, yt.tbody = yt.tfoot = yt.colgroup = yt.caption = yt.thead, 
        yt.th = yt.td;
        var _t, vt, Et = /<|&#?\w+;/;
        function bt(t, e, i, a, n) {
            for (var o, r, s, l, h, c, p = e.createDocumentFragment(), u = [], d = 0, g = t.length; d < g; d++) if ((o = t[d]) || 0 === o) if ("object" === O(o)) T.merge(u, o.nodeType ? [ o ] : o); else if (Et.test(o)) {
                for (r = r || p.appendChild(e.createElement("div")), s = (dt.exec(o) || [ "", "" ])[1].toLowerCase(), 
                l = yt[s] || yt._default, r.innerHTML = l[1] + T.htmlPrefilter(o) + l[2], 
                c = l[0]; c--; ) r = r.lastChild;
                T.merge(u, r.childNodes), (r = p.firstChild).textContent = "";
            } else u.push(e.createTextNode(o));
            for (p.textContent = "", d = 0; o = u[d++]; ) if (a && T.inArray(o, a) > -1) n && n.push(o); else if (h = T.contains(o.ownerDocument, o), 
            r = ft(p.appendChild(o), "script"), h && mt(r), i) for (c = 0; o = r[c++]; ) gt.test(o.type || "") && i.push(o);
            return p;
        }
        _t = r.createDocumentFragment().appendChild(r.createElement("div")), (vt = r.createElement("input")).setAttribute("type", "radio"), 
        vt.setAttribute("checked", "checked"), vt.setAttribute("name", "t"), _t.appendChild(vt), 
        m.checkClone = _t.cloneNode(!0).cloneNode(!0).lastChild.checked, _t.innerHTML = "<textarea>x</textarea>", 
        m.noCloneChecked = !!_t.cloneNode(!0).lastChild.defaultValue;
        var Ot = r.documentElement, Tt = /^key/, At = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, It = /^([^.]*)(?:\.(.+)|)/;
        function wt() {
            return !0;
        }
        function Ct() {
            return !1;
        }
        function St() {
            try {
                return r.activeElement;
            } catch (t) {}
        }
        function Pt(t, e, i, a, n, o) {
            var r, s;
            if ("object" == typeof e) {
                for (s in "string" != typeof i && (a = a || i, i = void 0), e) Pt(t, s, i, a, e[s], o);
                return t;
            }
            if (null == a && null == n ? (n = i, a = i = void 0) : null == n && ("string" == typeof i ? (n = a, 
            a = void 0) : (n = a, a = i, i = void 0)), !1 === n) n = Ct; else if (!n) return t;
            return 1 === o && (r = n, (n = function(t) {
                return T().off(t), r.apply(this, arguments);
            }).guid = r.guid || (r.guid = T.guid++)), t.each(function() {
                T.event.add(this, e, n, a, i);
            });
        }
        T.event = {
            global: {},
            add: function(t, e, i, a, n) {
                var o, r, s, l, h, c, p, u, d, g, y, f = J.get(t);
                if (f) for (i.handler && (i = (o = i).handler, n = o.selector), 
                n && T.find.matchesSelector(Ot, n), i.guid || (i.guid = T.guid++), 
                (l = f.events) || (l = f.events = {}), (r = f.handle) || (r = f.handle = function(e) {
                    return void 0 !== T && T.event.triggered !== e.type ? T.event.dispatch.apply(t, arguments) : void 0;
                }), h = (e = (e || "").match(B) || [ "" ]).length; h--; ) d = y = (s = It.exec(e[h]) || [])[1], 
                g = (s[2] || "").split(".").sort(), d && (p = T.event.special[d] || {}, 
                d = (n ? p.delegateType : p.bindType) || d, p = T.event.special[d] || {}, 
                c = T.extend({
                    type: d,
                    origType: y,
                    data: a,
                    handler: i,
                    guid: i.guid,
                    selector: n,
                    needsContext: n && T.expr.match.needsContext.test(n),
                    namespace: g.join(".")
                }, o), (u = l[d]) || ((u = l[d] = []).delegateCount = 0, p.setup && !1 !== p.setup.call(t, a, g, r) || t.addEventListener && t.addEventListener(d, r)), 
                p.add && (p.add.call(t, c), c.handler.guid || (c.handler.guid = i.guid)), 
                n ? u.splice(u.delegateCount++, 0, c) : u.push(c), T.event.global[d] = !0);
            },
            remove: function(t, e, i, a, n) {
                var o, r, s, l, h, c, p, u, d, g, y, f = J.hasData(t) && J.get(t);
                if (f && (l = f.events)) {
                    for (h = (e = (e || "").match(B) || [ "" ]).length; h--; ) if (d = y = (s = It.exec(e[h]) || [])[1], 
                    g = (s[2] || "").split(".").sort(), d) {
                        for (p = T.event.special[d] || {}, u = l[d = (a ? p.delegateType : p.bindType) || d] || [], 
                        s = s[2] && new RegExp("(^|\\.)" + g.join("\\.(?:.*\\.|)") + "(\\.|$)"), 
                        r = o = u.length; o--; ) c = u[o], !n && y !== c.origType || i && i.guid !== c.guid || s && !s.test(c.namespace) || a && a !== c.selector && ("**" !== a || !c.selector) || (u.splice(o, 1), 
                        c.selector && u.delegateCount--, p.remove && p.remove.call(t, c));
                        r && !u.length && (p.teardown && !1 !== p.teardown.call(t, g, f.handle) || T.removeEvent(t, d, f.handle), 
                        delete l[d]);
                    } else for (d in l) T.event.remove(t, d + e[h], i, a, !0);
                    T.isEmptyObject(l) && J.remove(t, "handle events");
                }
            },
            dispatch: function(t) {
                var e, i, a, n, o, r, s = T.event.fix(t), l = new Array(arguments.length), h = (J.get(this, "events") || {})[s.type] || [], c = T.event.special[s.type] || {};
                for (l[0] = s, e = 1; e < arguments.length; e++) l[e] = arguments[e];
                if (s.delegateTarget = this, !c.preDispatch || !1 !== c.preDispatch.call(this, s)) {
                    for (r = T.event.handlers.call(this, s, h), e = 0; (n = r[e++]) && !s.isPropagationStopped(); ) for (s.currentTarget = n.elem, 
                    i = 0; (o = n.handlers[i++]) && !s.isImmediatePropagationStopped(); ) s.rnamespace && !s.rnamespace.test(o.namespace) || (s.handleObj = o, 
                    s.data = o.data, void 0 !== (a = ((T.event.special[o.origType] || {}).handle || o.handler).apply(n.elem, l)) && !1 === (s.result = a) && (s.preventDefault(), 
                    s.stopPropagation()));
                    return c.postDispatch && c.postDispatch.call(this, s), s.result;
                }
            },
            handlers: function(t, e) {
                var i, a, n, o, r, s = [], l = e.delegateCount, h = t.target;
                if (l && h.nodeType && !("click" === t.type && t.button >= 1)) for (;h !== this; h = h.parentNode || this) if (1 === h.nodeType && ("click" !== t.type || !0 !== h.disabled)) {
                    for (o = [], r = {}, i = 0; i < l; i++) void 0 === r[n = (a = e[i]).selector + " "] && (r[n] = a.needsContext ? T(n, this).index(h) > -1 : T.find(n, this, null, [ h ]).length), 
                    r[n] && o.push(a);
                    o.length && s.push({
                        elem: h,
                        handlers: o
                    });
                }
                return h = this, l < e.length && s.push({
                    elem: h,
                    handlers: e.slice(l)
                }), s;
            },
            addProp: function(t, e) {
                Object.defineProperty(T.Event.prototype, t, {
                    enumerable: !0,
                    configurable: !0,
                    get: _(e) ? function() {
                        if (this.originalEvent) return e(this.originalEvent);
                    } : function() {
                        if (this.originalEvent) return this.originalEvent[t];
                    },
                    set: function(e) {
                        Object.defineProperty(this, t, {
                            enumerable: !0,
                            configurable: !0,
                            writable: !0,
                            value: e
                        });
                    }
                });
            },
            fix: function(t) {
                return t[T.expando] ? t : new T.Event(t);
            },
            special: {
                load: {
                    noBubble: !0
                },
                focus: {
                    trigger: function() {
                        if (this !== St() && this.focus) return this.focus(), !1;
                    },
                    delegateType: "focusin"
                },
                blur: {
                    trigger: function() {
                        if (this === St() && this.blur) return this.blur(), !1;
                    },
                    delegateType: "focusout"
                },
                click: {
                    trigger: function() {
                        if ("checkbox" === this.type && this.click && D(this, "input")) return this.click(), 
                        !1;
                    },
                    _default: function(t) {
                        return D(t.target, "a");
                    }
                },
                beforeunload: {
                    postDispatch: function(t) {
                        void 0 !== t.result && t.originalEvent && (t.originalEvent.returnValue = t.result);
                    }
                }
            }
        }, T.removeEvent = function(t, e, i) {
            t.removeEventListener && t.removeEventListener(e, i);
        }, T.Event = function(t, e) {
            if (!(this instanceof T.Event)) return new T.Event(t, e);
            t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || void 0 === t.defaultPrevented && !1 === t.returnValue ? wt : Ct, 
            this.target = t.target && 3 === t.target.nodeType ? t.target.parentNode : t.target, 
            this.currentTarget = t.currentTarget, this.relatedTarget = t.relatedTarget) : this.type = t, 
            e && T.extend(this, e), this.timeStamp = t && t.timeStamp || Date.now(), 
            this[T.expando] = !0;
        }, T.Event.prototype = {
            constructor: T.Event,
            isDefaultPrevented: Ct,
            isPropagationStopped: Ct,
            isImmediatePropagationStopped: Ct,
            isSimulated: !1,
            preventDefault: function() {
                var t = this.originalEvent;
                this.isDefaultPrevented = wt, t && !this.isSimulated && t.preventDefault();
            },
            stopPropagation: function() {
                var t = this.originalEvent;
                this.isPropagationStopped = wt, t && !this.isSimulated && t.stopPropagation();
            },
            stopImmediatePropagation: function() {
                var t = this.originalEvent;
                this.isImmediatePropagationStopped = wt, t && !this.isSimulated && t.stopImmediatePropagation(), 
                this.stopPropagation();
            }
        }, T.each({
            altKey: !0,
            bubbles: !0,
            cancelable: !0,
            changedTouches: !0,
            ctrlKey: !0,
            detail: !0,
            eventPhase: !0,
            metaKey: !0,
            pageX: !0,
            pageY: !0,
            shiftKey: !0,
            view: !0,
            char: !0,
            charCode: !0,
            key: !0,
            keyCode: !0,
            button: !0,
            buttons: !0,
            clientX: !0,
            clientY: !0,
            offsetX: !0,
            offsetY: !0,
            pointerId: !0,
            pointerType: !0,
            screenX: !0,
            screenY: !0,
            targetTouches: !0,
            toElement: !0,
            touches: !0,
            which: function(t) {
                var e = t.button;
                return null == t.which && Tt.test(t.type) ? null != t.charCode ? t.charCode : t.keyCode : !t.which && void 0 !== e && At.test(t.type) ? 1 & e ? 1 : 2 & e ? 3 : 4 & e ? 2 : 0 : t.which;
            }
        }, T.event.addProp), T.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout"
        }, function(t, e) {
            T.event.special[t] = {
                delegateType: e,
                bindType: e,
                handle: function(t) {
                    var i, a = t.relatedTarget, n = t.handleObj;
                    return a && (a === this || T.contains(this, a)) || (t.type = n.origType, 
                    i = n.handler.apply(this, arguments), t.type = e), i;
                }
            };
        }), T.fn.extend({
            on: function(t, e, i, a) {
                return Pt(this, t, e, i, a);
            },
            one: function(t, e, i, a) {
                return Pt(this, t, e, i, a, 1);
            },
            off: function(t, e, i) {
                var a, n;
                if (t && t.preventDefault && t.handleObj) return a = t.handleObj, 
                T(t.delegateTarget).off(a.namespace ? a.origType + "." + a.namespace : a.origType, a.selector, a.handler), 
                this;
                if ("object" == typeof t) {
                    for (n in t) this.off(n, e, t[n]);
                    return this;
                }
                return !1 !== e && "function" != typeof e || (i = e, e = void 0), 
                !1 === i && (i = Ct), this.each(function() {
                    T.event.remove(this, t, i, e);
                });
            }
        });
        var Dt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi, Lt = /<script|<style|<link/i, xt = /checked\s*(?:[^=]|=\s*.checked.)/i, Mt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
        function Nt(t, e) {
            return D(t, "table") && D(11 !== e.nodeType ? e : e.firstChild, "tr") && T(t).children("tbody")[0] || t;
        }
        function Ut(t) {
            return t.type = (null !== t.getAttribute("type")) + "/" + t.type, t;
        }
        function kt(t) {
            return "true/" === (t.type || "").slice(0, 5) ? t.type = t.type.slice(5) : t.removeAttribute("type"), 
            t;
        }
        function Rt(t, e) {
            var i, a, n, o, r, s, l, h;
            if (1 === e.nodeType) {
                if (J.hasData(t) && (o = J.access(t), r = J.set(e, o), h = o.events)) for (n in delete r.handle, 
                r.events = {}, h) for (i = 0, a = h[n].length; i < a; i++) T.event.add(e, n, h[n][i]);
                $.hasData(t) && (s = $.access(t), l = T.extend({}, s), $.set(e, l));
            }
        }
        function Bt(t, e, i, a) {
            e = h.apply([], e);
            var n, o, r, s, l, c, p = 0, u = t.length, d = u - 1, g = e[0], y = _(g);
            if (y || u > 1 && "string" == typeof g && !m.checkClone && xt.test(g)) return t.each(function(n) {
                var o = t.eq(n);
                y && (e[0] = g.call(this, n, o.html())), Bt(o, e, i, a);
            });
            if (u && (o = (n = bt(e, t[0].ownerDocument, !1, t, a)).firstChild, 
            1 === n.childNodes.length && (n = o), o || a)) {
                for (s = (r = T.map(ft(n, "script"), Ut)).length; p < u; p++) l = n, 
                p !== d && (l = T.clone(l, !0, !0), s && T.merge(r, ft(l, "script"))), 
                i.call(t[p], l, p);
                if (s) for (c = r[r.length - 1].ownerDocument, T.map(r, kt), p = 0; p < s; p++) l = r[p], 
                gt.test(l.type || "") && !J.access(l, "globalEval") && T.contains(c, l) && (l.src && "module" !== (l.type || "").toLowerCase() ? T._evalUrl && T._evalUrl(l.src) : b(l.textContent.replace(Mt, ""), c, l));
            }
            return t;
        }
        function Gt(t, e, i) {
            for (var a, n = e ? T.filter(e, t) : t, o = 0; null != (a = n[o]); o++) i || 1 !== a.nodeType || T.cleanData(ft(a)), 
            a.parentNode && (i && T.contains(a.ownerDocument, a) && mt(ft(a, "script")), 
            a.parentNode.removeChild(a));
            return t;
        }
        T.extend({
            htmlPrefilter: function(t) {
                return t.replace(Dt, "<$1></$2>");
            },
            clone: function(t, e, i) {
                var a, n, o, r, s, l, h, c = t.cloneNode(!0), p = T.contains(t.ownerDocument, t);
                if (!(m.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || T.isXMLDoc(t))) for (r = ft(c), 
                a = 0, n = (o = ft(t)).length; a < n; a++) s = o[a], l = r[a], void 0, 
                "input" === (h = l.nodeName.toLowerCase()) && ut.test(s.type) ? l.checked = s.checked : "input" !== h && "textarea" !== h || (l.defaultValue = s.defaultValue);
                if (e) if (i) for (o = o || ft(t), r = r || ft(c), a = 0, n = o.length; a < n; a++) Rt(o[a], r[a]); else Rt(t, c);
                return (r = ft(c, "script")).length > 0 && mt(r, !p && ft(t, "script")), 
                c;
            },
            cleanData: function(t) {
                for (var e, i, a, n = T.event.special, o = 0; void 0 !== (i = t[o]); o++) if (X(i)) {
                    if (e = i[J.expando]) {
                        if (e.events) for (a in e.events) n[a] ? T.event.remove(i, a) : T.removeEvent(i, a, e.handle);
                        i[J.expando] = void 0;
                    }
                    i[$.expando] && (i[$.expando] = void 0);
                }
            }
        }), T.fn.extend({
            detach: function(t) {
                return Gt(this, t, !0);
            },
            remove: function(t) {
                return Gt(this, t);
            },
            text: function(t) {
                return W(this, function(t) {
                    return void 0 === t ? T.text(this) : this.empty().each(function() {
                        1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = t);
                    });
                }, null, t, arguments.length);
            },
            append: function() {
                return Bt(this, arguments, function(t) {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || Nt(this, t).appendChild(t);
                });
            },
            prepend: function() {
                return Bt(this, arguments, function(t) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var e = Nt(this, t);
                        e.insertBefore(t, e.firstChild);
                    }
                });
            },
            before: function() {
                return Bt(this, arguments, function(t) {
                    this.parentNode && this.parentNode.insertBefore(t, this);
                });
            },
            after: function() {
                return Bt(this, arguments, function(t) {
                    this.parentNode && this.parentNode.insertBefore(t, this.nextSibling);
                });
            },
            empty: function() {
                for (var t, e = 0; null != (t = this[e]); e++) 1 === t.nodeType && (T.cleanData(ft(t, !1)), 
                t.textContent = "");
                return this;
            },
            clone: function(t, e) {
                return t = null != t && t, e = null == e ? t : e, this.map(function() {
                    return T.clone(this, t, e);
                });
            },
            html: function(t) {
                return W(this, function(t) {
                    var e = this[0] || {}, i = 0, a = this.length;
                    if (void 0 === t && 1 === e.nodeType) return e.innerHTML;
                    if ("string" == typeof t && !Lt.test(t) && !yt[(dt.exec(t) || [ "", "" ])[1].toLowerCase()]) {
                        t = T.htmlPrefilter(t);
                        try {
                            for (;i < a; i++) 1 === (e = this[i] || {}).nodeType && (T.cleanData(ft(e, !1)), 
                            e.innerHTML = t);
                            e = 0;
                        } catch (t) {}
                    }
                    e && this.empty().append(t);
                }, null, t, arguments.length);
            },
            replaceWith: function() {
                var t = [];
                return Bt(this, arguments, function(e) {
                    var i = this.parentNode;
                    T.inArray(this, t) < 0 && (T.cleanData(ft(this)), i && i.replaceChild(e, this));
                }, t);
            }
        }), T.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, function(t, e) {
            T.fn[t] = function(t) {
                for (var i, a = [], n = T(t), o = n.length - 1, r = 0; r <= o; r++) i = r === o ? this : this.clone(!0), 
                T(n[r])[e](i), c.apply(a, i.get());
                return this.pushStack(a);
            };
        });
        var Vt = new RegExp("^(" + at + ")(?!px)[a-z%]+$", "i"), Ht = function(t) {
            var e = t.ownerDocument.defaultView;
            return e && e.opener || (e = i), e.getComputedStyle(t);
        }, Ft = new RegExp(ot.join("|"), "i");
        function jt(t, e, i) {
            var a, n, o, r, s = t.style;
            return (i = i || Ht(t)) && ("" !== (r = i.getPropertyValue(e) || i[e]) || T.contains(t.ownerDocument, t) || (r = T.style(t, e)), 
            !m.pixelBoxStyles() && Vt.test(r) && Ft.test(e) && (a = s.width, n = s.minWidth, 
            o = s.maxWidth, s.minWidth = s.maxWidth = s.width = r, r = i.width, 
            s.width = a, s.minWidth = n, s.maxWidth = o)), void 0 !== r ? r + "" : r;
        }
        function zt(t, e) {
            return {
                get: function() {
                    if (!t()) return (this.get = e).apply(this, arguments);
                    delete this.get;
                }
            };
        }
        !function() {
            function t() {
                if (c) {
                    h.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", 
                    c.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", 
                    Ot.appendChild(h).appendChild(c);
                    var t = i.getComputedStyle(c);
                    a = "1%" !== t.top, l = 12 === e(t.marginLeft), c.style.right = "60%", 
                    s = 36 === e(t.right), n = 36 === e(t.width), c.style.position = "absolute", 
                    o = 36 === c.offsetWidth || "absolute", Ot.removeChild(h), c = null;
                }
            }
            function e(t) {
                return Math.round(parseFloat(t));
            }
            var a, n, o, s, l, h = r.createElement("div"), c = r.createElement("div");
            c.style && (c.style.backgroundClip = "content-box", c.cloneNode(!0).style.backgroundClip = "", 
            m.clearCloneStyle = "content-box" === c.style.backgroundClip, T.extend(m, {
                boxSizingReliable: function() {
                    return t(), n;
                },
                pixelBoxStyles: function() {
                    return t(), s;
                },
                pixelPosition: function() {
                    return t(), a;
                },
                reliableMarginLeft: function() {
                    return t(), l;
                },
                scrollboxSize: function() {
                    return t(), o;
                }
            }));
        }();
        var Wt = /^(none|table(?!-c[ea]).+)/, Kt = /^--/, Yt = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        }, qt = {
            letterSpacing: "0",
            fontWeight: "400"
        }, Qt = [ "Webkit", "Moz", "ms" ], Xt = r.createElement("div").style;
        function Zt(t) {
            var e = T.cssProps[t];
            return e || (e = T.cssProps[t] = function(t) {
                if (t in Xt) return t;
                for (var e = t[0].toUpperCase() + t.slice(1), i = Qt.length; i--; ) if ((t = Qt[i] + e) in Xt) return t;
            }(t) || t), e;
        }
        function Jt(t, e, i) {
            var a = nt.exec(e);
            return a ? Math.max(0, a[2] - (i || 0)) + (a[3] || "px") : e;
        }
        function $t(t, e, i, a, n, o) {
            var r = "width" === e ? 1 : 0, s = 0, l = 0;
            if (i === (a ? "border" : "content")) return 0;
            for (;r < 4; r += 2) "margin" === i && (l += T.css(t, i + ot[r], !0, n)), 
            a ? ("content" === i && (l -= T.css(t, "padding" + ot[r], !0, n)), "margin" !== i && (l -= T.css(t, "border" + ot[r] + "Width", !0, n))) : (l += T.css(t, "padding" + ot[r], !0, n), 
            "padding" !== i ? l += T.css(t, "border" + ot[r] + "Width", !0, n) : s += T.css(t, "border" + ot[r] + "Width", !0, n));
            return !a && o >= 0 && (l += Math.max(0, Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - o - l - s - .5))), 
            l;
        }
        function te(t, e, i) {
            var a = Ht(t), n = jt(t, e, a), o = "border-box" === T.css(t, "boxSizing", !1, a), r = o;
            if (Vt.test(n)) {
                if (!i) return n;
                n = "auto";
            }
            return r = r && (m.boxSizingReliable() || n === t.style[e]), ("auto" === n || !parseFloat(n) && "inline" === T.css(t, "display", !1, a)) && (n = t["offset" + e[0].toUpperCase() + e.slice(1)], 
            r = !0), (n = parseFloat(n) || 0) + $t(t, e, i || (o ? "border" : "content"), r, a, n) + "px";
        }
        function ee(t, e, i, a, n) {
            return new ee.prototype.init(t, e, i, a, n);
        }
        T.extend({
            cssHooks: {
                opacity: {
                    get: function(t, e) {
                        if (e) {
                            var i = jt(t, "opacity");
                            return "" === i ? "1" : i;
                        }
                    }
                }
            },
            cssNumber: {
                animationIterationCount: !0,
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {},
            style: function(t, e, i, a) {
                if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
                    var n, o, r, s = Q(e), l = Kt.test(e), h = t.style;
                    if (l || (e = Zt(s)), r = T.cssHooks[e] || T.cssHooks[s], void 0 === i) return r && "get" in r && void 0 !== (n = r.get(t, !1, a)) ? n : h[e];
                    "string" === (o = typeof i) && (n = nt.exec(i)) && n[1] && (i = lt(t, e, n), 
                    o = "number"), null != i && i == i && ("number" === o && (i += n && n[3] || (T.cssNumber[s] ? "" : "px")), 
                    m.clearCloneStyle || "" !== i || 0 !== e.indexOf("background") || (h[e] = "inherit"), 
                    r && "set" in r && void 0 === (i = r.set(t, i, a)) || (l ? h.setProperty(e, i) : h[e] = i));
                }
            },
            css: function(t, e, i, a) {
                var n, o, r, s = Q(e);
                return Kt.test(e) || (e = Zt(s)), (r = T.cssHooks[e] || T.cssHooks[s]) && "get" in r && (n = r.get(t, !0, i)), 
                void 0 === n && (n = jt(t, e, a)), "normal" === n && e in qt && (n = qt[e]), 
                "" === i || i ? (o = parseFloat(n), !0 === i || isFinite(o) ? o || 0 : n) : n;
            }
        }), T.each([ "height", "width" ], function(t, e) {
            T.cssHooks[e] = {
                get: function(t, i, a) {
                    if (i) return !Wt.test(T.css(t, "display")) || t.getClientRects().length && t.getBoundingClientRect().width ? te(t, e, a) : st(t, Yt, function() {
                        return te(t, e, a);
                    });
                },
                set: function(t, i, a) {
                    var n, o = Ht(t), r = "border-box" === T.css(t, "boxSizing", !1, o), s = a && $t(t, e, a, r, o);
                    return r && m.scrollboxSize() === o.position && (s -= Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - parseFloat(o[e]) - $t(t, e, "border", !1, o) - .5)), 
                    s && (n = nt.exec(i)) && "px" !== (n[3] || "px") && (t.style[e] = i, 
                    i = T.css(t, e)), Jt(0, i, s);
                }
            };
        }), T.cssHooks.marginLeft = zt(m.reliableMarginLeft, function(t, e) {
            if (e) return (parseFloat(jt(t, "marginLeft")) || t.getBoundingClientRect().left - st(t, {
                marginLeft: 0
            }, function() {
                return t.getBoundingClientRect().left;
            })) + "px";
        }), T.each({
            margin: "",
            padding: "",
            border: "Width"
        }, function(t, e) {
            T.cssHooks[t + e] = {
                expand: function(i) {
                    for (var a = 0, n = {}, o = "string" == typeof i ? i.split(" ") : [ i ]; a < 4; a++) n[t + ot[a] + e] = o[a] || o[a - 2] || o[0];
                    return n;
                }
            }, "margin" !== t && (T.cssHooks[t + e].set = Jt);
        }), T.fn.extend({
            css: function(t, e) {
                return W(this, function(t, e, i) {
                    var a, n, o = {}, r = 0;
                    if (Array.isArray(e)) {
                        for (a = Ht(t), n = e.length; r < n; r++) o[e[r]] = T.css(t, e[r], !1, a);
                        return o;
                    }
                    return void 0 !== i ? T.style(t, e, i) : T.css(t, e);
                }, t, e, arguments.length > 1);
            }
        }), T.Tween = ee, ee.prototype = {
            constructor: ee,
            init: function(t, e, i, a, n, o) {
                this.elem = t, this.prop = i, this.easing = n || T.easing._default, 
                this.options = e, this.start = this.now = this.cur(), this.end = a, 
                this.unit = o || (T.cssNumber[i] ? "" : "px");
            },
            cur: function() {
                var t = ee.propHooks[this.prop];
                return t && t.get ? t.get(this) : ee.propHooks._default.get(this);
            },
            run: function(t) {
                var e, i = ee.propHooks[this.prop];
                return this.options.duration ? this.pos = e = T.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t, 
                this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), 
                i && i.set ? i.set(this) : ee.propHooks._default.set(this), this;
            }
        }, ee.prototype.init.prototype = ee.prototype, ee.propHooks = {
            _default: {
                get: function(t) {
                    var e;
                    return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = T.css(t.elem, t.prop, "")) && "auto" !== e ? e : 0;
                },
                set: function(t) {
                    T.fx.step[t.prop] ? T.fx.step[t.prop](t) : 1 !== t.elem.nodeType || null == t.elem.style[T.cssProps[t.prop]] && !T.cssHooks[t.prop] ? t.elem[t.prop] = t.now : T.style(t.elem, t.prop, t.now + t.unit);
                }
            }
        }, ee.propHooks.scrollTop = ee.propHooks.scrollLeft = {
            set: function(t) {
                t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now);
            }
        }, T.easing = {
            linear: function(t) {
                return t;
            },
            swing: function(t) {
                return .5 - Math.cos(t * Math.PI) / 2;
            },
            _default: "swing"
        }, T.fx = ee.prototype.init, T.fx.step = {};
        var ie, ae, ne = /^(?:toggle|show|hide)$/, oe = /queueHooks$/;
        function re() {
            ae && (!1 === r.hidden && i.requestAnimationFrame ? i.requestAnimationFrame(re) : i.setTimeout(re, T.fx.interval), 
            T.fx.tick());
        }
        function se() {
            return i.setTimeout(function() {
                ie = void 0;
            }), ie = Date.now();
        }
        function le(t, e) {
            var i, a = 0, n = {
                height: t
            };
            for (e = e ? 1 : 0; a < 4; a += 2 - e) n["margin" + (i = ot[a])] = n["padding" + i] = t;
            return e && (n.opacity = n.width = t), n;
        }
        function he(t, e, i) {
            for (var a, n = (ce.tweeners[e] || []).concat(ce.tweeners["*"]), o = 0, r = n.length; o < r; o++) if (a = n[o].call(i, e, t)) return a;
        }
        function ce(t, e, i) {
            var a, n, o = 0, r = ce.prefilters.length, s = T.Deferred().always(function() {
                delete l.elem;
            }), l = function() {
                if (n) return !1;
                for (var e = ie || se(), i = Math.max(0, h.startTime + h.duration - e), a = 1 - (i / h.duration || 0), o = 0, r = h.tweens.length; o < r; o++) h.tweens[o].run(a);
                return s.notifyWith(t, [ h, a, i ]), a < 1 && r ? i : (r || s.notifyWith(t, [ h, 1, 0 ]), 
                s.resolveWith(t, [ h ]), !1);
            }, h = s.promise({
                elem: t,
                props: T.extend({}, e),
                opts: T.extend(!0, {
                    specialEasing: {},
                    easing: T.easing._default
                }, i),
                originalProperties: e,
                originalOptions: i,
                startTime: ie || se(),
                duration: i.duration,
                tweens: [],
                createTween: function(e, i) {
                    var a = T.Tween(t, h.opts, e, i, h.opts.specialEasing[e] || h.opts.easing);
                    return h.tweens.push(a), a;
                },
                stop: function(e) {
                    var i = 0, a = e ? h.tweens.length : 0;
                    if (n) return this;
                    for (n = !0; i < a; i++) h.tweens[i].run(1);
                    return e ? (s.notifyWith(t, [ h, 1, 0 ]), s.resolveWith(t, [ h, e ])) : s.rejectWith(t, [ h, e ]), 
                    this;
                }
            }), c = h.props;
            for (!function(t, e) {
                var i, a, n, o, r;
                for (i in t) if (n = e[a = Q(i)], o = t[i], Array.isArray(o) && (n = o[1], 
                o = t[i] = o[0]), i !== a && (t[a] = o, delete t[i]), (r = T.cssHooks[a]) && "expand" in r) for (i in o = r.expand(o), 
                delete t[a], o) i in t || (t[i] = o[i], e[i] = n); else e[a] = n;
            }(c, h.opts.specialEasing); o < r; o++) if (a = ce.prefilters[o].call(h, t, c, h.opts)) return _(a.stop) && (T._queueHooks(h.elem, h.opts.queue).stop = a.stop.bind(a)), 
            a;
            return T.map(c, he, h), _(h.opts.start) && h.opts.start.call(t, h), 
            h.progress(h.opts.progress).done(h.opts.done, h.opts.complete).fail(h.opts.fail).always(h.opts.always), 
            T.fx.timer(T.extend(l, {
                elem: t,
                anim: h,
                queue: h.opts.queue
            })), h;
        }
        T.Animation = T.extend(ce, {
            tweeners: {
                "*": [ function(t, e) {
                    var i = this.createTween(t, e);
                    return lt(i.elem, t, nt.exec(e), i), i;
                } ]
            },
            tweener: function(t, e) {
                _(t) ? (e = t, t = [ "*" ]) : t = t.match(B);
                for (var i, a = 0, n = t.length; a < n; a++) i = t[a], ce.tweeners[i] = ce.tweeners[i] || [], 
                ce.tweeners[i].unshift(e);
            },
            prefilters: [ function(t, e, i) {
                var a, n, o, r, s, l, h, c, p = "width" in e || "height" in e, u = this, d = {}, g = t.style, y = t.nodeType && rt(t), f = J.get(t, "fxshow");
                for (a in i.queue || (null == (r = T._queueHooks(t, "fx")).unqueued && (r.unqueued = 0, 
                s = r.empty.fire, r.empty.fire = function() {
                    r.unqueued || s();
                }), r.unqueued++, u.always(function() {
                    u.always(function() {
                        r.unqueued--, T.queue(t, "fx").length || r.empty.fire();
                    });
                })), e) if (n = e[a], ne.test(n)) {
                    if (delete e[a], o = o || "toggle" === n, n === (y ? "hide" : "show")) {
                        if ("show" !== n || !f || void 0 === f[a]) continue;
                        y = !0;
                    }
                    d[a] = f && f[a] || T.style(t, a);
                }
                if ((l = !T.isEmptyObject(e)) || !T.isEmptyObject(d)) for (a in p && 1 === t.nodeType && (i.overflow = [ g.overflow, g.overflowX, g.overflowY ], 
                null == (h = f && f.display) && (h = J.get(t, "display")), "none" === (c = T.css(t, "display")) && (h ? c = h : (pt([ t ], !0), 
                h = t.style.display || h, c = T.css(t, "display"), pt([ t ]))), 
                ("inline" === c || "inline-block" === c && null != h) && "none" === T.css(t, "float") && (l || (u.done(function() {
                    g.display = h;
                }), null == h && (c = g.display, h = "none" === c ? "" : c)), g.display = "inline-block")), 
                i.overflow && (g.overflow = "hidden", u.always(function() {
                    g.overflow = i.overflow[0], g.overflowX = i.overflow[1], g.overflowY = i.overflow[2];
                })), l = !1, d) l || (f ? "hidden" in f && (y = f.hidden) : f = J.access(t, "fxshow", {
                    display: h
                }), o && (f.hidden = !y), y && pt([ t ], !0), u.done(function() {
                    for (a in y || pt([ t ]), J.remove(t, "fxshow"), d) T.style(t, a, d[a]);
                })), l = he(y ? f[a] : 0, a, u), a in f || (f[a] = l.start, y && (l.end = l.start, 
                l.start = 0));
            } ],
            prefilter: function(t, e) {
                e ? ce.prefilters.unshift(t) : ce.prefilters.push(t);
            }
        }), T.speed = function(t, e, i) {
            var a = t && "object" == typeof t ? T.extend({}, t) : {
                complete: i || !i && e || _(t) && t,
                duration: t,
                easing: i && e || e && !_(e) && e
            };
            return T.fx.off ? a.duration = 0 : "number" != typeof a.duration && (a.duration in T.fx.speeds ? a.duration = T.fx.speeds[a.duration] : a.duration = T.fx.speeds._default), 
            null != a.queue && !0 !== a.queue || (a.queue = "fx"), a.old = a.complete, 
            a.complete = function() {
                _(a.old) && a.old.call(this), a.queue && T.dequeue(this, a.queue);
            }, a;
        }, T.fn.extend({
            fadeTo: function(t, e, i, a) {
                return this.filter(rt).css("opacity", 0).show().end().animate({
                    opacity: e
                }, t, i, a);
            },
            animate: function(t, e, i, a) {
                var n = T.isEmptyObject(t), o = T.speed(e, i, a), r = function() {
                    var e = ce(this, T.extend({}, t), o);
                    (n || J.get(this, "finish")) && e.stop(!0);
                };
                return r.finish = r, n || !1 === o.queue ? this.each(r) : this.queue(o.queue, r);
            },
            stop: function(t, e, i) {
                var a = function(t) {
                    var e = t.stop;
                    delete t.stop, e(i);
                };
                return "string" != typeof t && (i = e, e = t, t = void 0), e && !1 !== t && this.queue(t || "fx", []), 
                this.each(function() {
                    var e = !0, n = null != t && t + "queueHooks", o = T.timers, r = J.get(this);
                    if (n) r[n] && r[n].stop && a(r[n]); else for (n in r) r[n] && r[n].stop && oe.test(n) && a(r[n]);
                    for (n = o.length; n--; ) o[n].elem !== this || null != t && o[n].queue !== t || (o[n].anim.stop(i), 
                    e = !1, o.splice(n, 1));
                    !e && i || T.dequeue(this, t);
                });
            },
            finish: function(t) {
                return !1 !== t && (t = t || "fx"), this.each(function() {
                    var e, i = J.get(this), a = i[t + "queue"], n = i[t + "queueHooks"], o = T.timers, r = a ? a.length : 0;
                    for (i.finish = !0, T.queue(this, t, []), n && n.stop && n.stop.call(this, !0), 
                    e = o.length; e--; ) o[e].elem === this && o[e].queue === t && (o[e].anim.stop(!0), 
                    o.splice(e, 1));
                    for (e = 0; e < r; e++) a[e] && a[e].finish && a[e].finish.call(this);
                    delete i.finish;
                });
            }
        }), T.each([ "toggle", "show", "hide" ], function(t, e) {
            var i = T.fn[e];
            T.fn[e] = function(t, a, n) {
                return null == t || "boolean" == typeof t ? i.apply(this, arguments) : this.animate(le(e, !0), t, a, n);
            };
        }), T.each({
            slideDown: le("show"),
            slideUp: le("hide"),
            slideToggle: le("toggle"),
            fadeIn: {
                opacity: "show"
            },
            fadeOut: {
                opacity: "hide"
            },
            fadeToggle: {
                opacity: "toggle"
            }
        }, function(t, e) {
            T.fn[t] = function(t, i, a) {
                return this.animate(e, t, i, a);
            };
        }), T.timers = [], T.fx.tick = function() {
            var t, e = 0, i = T.timers;
            for (ie = Date.now(); e < i.length; e++) (t = i[e])() || i[e] !== t || i.splice(e--, 1);
            i.length || T.fx.stop(), ie = void 0;
        }, T.fx.timer = function(t) {
            T.timers.push(t), T.fx.start();
        }, T.fx.interval = 13, T.fx.start = function() {
            ae || (ae = !0, re());
        }, T.fx.stop = function() {
            ae = null;
        }, T.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        }, T.fn.delay = function(t, e) {
            return t = T.fx && T.fx.speeds[t] || t, e = e || "fx", this.queue(e, function(e, a) {
                var n = i.setTimeout(e, t);
                a.stop = function() {
                    i.clearTimeout(n);
                };
            });
        }, function() {
            var t = r.createElement("input"), e = r.createElement("select").appendChild(r.createElement("option"));
            t.type = "checkbox", m.checkOn = "" !== t.value, m.optSelected = e.selected, 
            (t = r.createElement("input")).value = "t", t.type = "radio", m.radioValue = "t" === t.value;
        }();
        var pe, ue = T.expr.attrHandle;
        T.fn.extend({
            attr: function(t, e) {
                return W(this, T.attr, t, e, arguments.length > 1);
            },
            removeAttr: function(t) {
                return this.each(function() {
                    T.removeAttr(this, t);
                });
            }
        }), T.extend({
            attr: function(t, e, i) {
                var a, n, o = t.nodeType;
                if (3 !== o && 8 !== o && 2 !== o) return void 0 === t.getAttribute ? T.prop(t, e, i) : (1 === o && T.isXMLDoc(t) || (n = T.attrHooks[e.toLowerCase()] || (T.expr.match.bool.test(e) ? pe : void 0)), 
                void 0 !== i ? null === i ? void T.removeAttr(t, e) : n && "set" in n && void 0 !== (a = n.set(t, i, e)) ? a : (t.setAttribute(e, i + ""), 
                i) : n && "get" in n && null !== (a = n.get(t, e)) ? a : null == (a = T.find.attr(t, e)) ? void 0 : a);
            },
            attrHooks: {
                type: {
                    set: function(t, e) {
                        if (!m.radioValue && "radio" === e && D(t, "input")) {
                            var i = t.value;
                            return t.setAttribute("type", e), i && (t.value = i), 
                            e;
                        }
                    }
                }
            },
            removeAttr: function(t, e) {
                var i, a = 0, n = e && e.match(B);
                if (n && 1 === t.nodeType) for (;i = n[a++]; ) t.removeAttribute(i);
            }
        }), pe = {
            set: function(t, e, i) {
                return !1 === e ? T.removeAttr(t, i) : t.setAttribute(i, i), i;
            }
        }, T.each(T.expr.match.bool.source.match(/\w+/g), function(t, e) {
            var i = ue[e] || T.find.attr;
            ue[e] = function(t, e, a) {
                var n, o, r = e.toLowerCase();
                return a || (o = ue[r], ue[r] = n, n = null != i(t, e, a) ? r : null, 
                ue[r] = o), n;
            };
        });
        var de = /^(?:input|select|textarea|button)$/i, ge = /^(?:a|area)$/i;
        function ye(t) {
            return (t.match(B) || []).join(" ");
        }
        function fe(t) {
            return t.getAttribute && t.getAttribute("class") || "";
        }
        function me(t) {
            return Array.isArray(t) ? t : "string" == typeof t && t.match(B) || [];
        }
        T.fn.extend({
            prop: function(t, e) {
                return W(this, T.prop, t, e, arguments.length > 1);
            },
            removeProp: function(t) {
                return this.each(function() {
                    delete this[T.propFix[t] || t];
                });
            }
        }), T.extend({
            prop: function(t, e, i) {
                var a, n, o = t.nodeType;
                if (3 !== o && 8 !== o && 2 !== o) return 1 === o && T.isXMLDoc(t) || (e = T.propFix[e] || e, 
                n = T.propHooks[e]), void 0 !== i ? n && "set" in n && void 0 !== (a = n.set(t, i, e)) ? a : t[e] = i : n && "get" in n && null !== (a = n.get(t, e)) ? a : t[e];
            },
            propHooks: {
                tabIndex: {
                    get: function(t) {
                        var e = T.find.attr(t, "tabindex");
                        return e ? parseInt(e, 10) : de.test(t.nodeName) || ge.test(t.nodeName) && t.href ? 0 : -1;
                    }
                }
            },
            propFix: {
                for: "htmlFor",
                class: "className"
            }
        }), m.optSelected || (T.propHooks.selected = {
            get: function(t) {
                var e = t.parentNode;
                return e && e.parentNode && e.parentNode.selectedIndex, null;
            },
            set: function(t) {
                var e = t.parentNode;
                e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex);
            }
        }), T.each([ "tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable" ], function() {
            T.propFix[this.toLowerCase()] = this;
        }), T.fn.extend({
            addClass: function(t) {
                var e, i, a, n, o, r, s, l = 0;
                if (_(t)) return this.each(function(e) {
                    T(this).addClass(t.call(this, e, fe(this)));
                });
                if ((e = me(t)).length) for (;i = this[l++]; ) if (n = fe(i), a = 1 === i.nodeType && " " + ye(n) + " ") {
                    for (r = 0; o = e[r++]; ) a.indexOf(" " + o + " ") < 0 && (a += o + " ");
                    n !== (s = ye(a)) && i.setAttribute("class", s);
                }
                return this;
            },
            removeClass: function(t) {
                var e, i, a, n, o, r, s, l = 0;
                if (_(t)) return this.each(function(e) {
                    T(this).removeClass(t.call(this, e, fe(this)));
                });
                if (!arguments.length) return this.attr("class", "");
                if ((e = me(t)).length) for (;i = this[l++]; ) if (n = fe(i), a = 1 === i.nodeType && " " + ye(n) + " ") {
                    for (r = 0; o = e[r++]; ) for (;a.indexOf(" " + o + " ") > -1; ) a = a.replace(" " + o + " ", " ");
                    n !== (s = ye(a)) && i.setAttribute("class", s);
                }
                return this;
            },
            toggleClass: function(t, e) {
                var i = typeof t, a = "string" === i || Array.isArray(t);
                return "boolean" == typeof e && a ? e ? this.addClass(t) : this.removeClass(t) : _(t) ? this.each(function(i) {
                    T(this).toggleClass(t.call(this, i, fe(this), e), e);
                }) : this.each(function() {
                    var e, n, o, r;
                    if (a) for (n = 0, o = T(this), r = me(t); e = r[n++]; ) o.hasClass(e) ? o.removeClass(e) : o.addClass(e); else void 0 !== t && "boolean" !== i || ((e = fe(this)) && J.set(this, "__className__", e), 
                    this.setAttribute && this.setAttribute("class", e || !1 === t ? "" : J.get(this, "__className__") || ""));
                });
            },
            hasClass: function(t) {
                var e, i, a = 0;
                for (e = " " + t + " "; i = this[a++]; ) if (1 === i.nodeType && (" " + ye(fe(i)) + " ").indexOf(e) > -1) return !0;
                return !1;
            }
        });
        var _e = /\r/g;
        T.fn.extend({
            val: function(t) {
                var e, i, a, n = this[0];
                return arguments.length ? (a = _(t), this.each(function(i) {
                    var n;
                    1 === this.nodeType && (null == (n = a ? t.call(this, i, T(this).val()) : t) ? n = "" : "number" == typeof n ? n += "" : Array.isArray(n) && (n = T.map(n, function(t) {
                        return null == t ? "" : t + "";
                    })), (e = T.valHooks[this.type] || T.valHooks[this.nodeName.toLowerCase()]) && "set" in e && void 0 !== e.set(this, n, "value") || (this.value = n));
                })) : n ? (e = T.valHooks[n.type] || T.valHooks[n.nodeName.toLowerCase()]) && "get" in e && void 0 !== (i = e.get(n, "value")) ? i : "string" == typeof (i = n.value) ? i.replace(_e, "") : null == i ? "" : i : void 0;
            }
        }), T.extend({
            valHooks: {
                option: {
                    get: function(t) {
                        var e = T.find.attr(t, "value");
                        return null != e ? e : ye(T.text(t));
                    }
                },
                select: {
                    get: function(t) {
                        var e, i, a, n = t.options, o = t.selectedIndex, r = "select-one" === t.type, s = r ? null : [], l = r ? o + 1 : n.length;
                        for (a = o < 0 ? l : r ? o : 0; a < l; a++) if (((i = n[a]).selected || a === o) && !i.disabled && (!i.parentNode.disabled || !D(i.parentNode, "optgroup"))) {
                            if (e = T(i).val(), r) return e;
                            s.push(e);
                        }
                        return s;
                    },
                    set: function(t, e) {
                        for (var i, a, n = t.options, o = T.makeArray(e), r = n.length; r--; ) ((a = n[r]).selected = T.inArray(T.valHooks.option.get(a), o) > -1) && (i = !0);
                        return i || (t.selectedIndex = -1), o;
                    }
                }
            }
        }), T.each([ "radio", "checkbox" ], function() {
            T.valHooks[this] = {
                set: function(t, e) {
                    if (Array.isArray(e)) return t.checked = T.inArray(T(t).val(), e) > -1;
                }
            }, m.checkOn || (T.valHooks[this].get = function(t) {
                return null === t.getAttribute("value") ? "on" : t.value;
            });
        }), m.focusin = "onfocusin" in i;
        var ve = /^(?:focusinfocus|focusoutblur)$/, Ee = function(t) {
            t.stopPropagation();
        };
        T.extend(T.event, {
            trigger: function(t, e, a, n) {
                var o, s, l, h, c, p, u, d, y = [ a || r ], f = g.call(t, "type") ? t.type : t, m = g.call(t, "namespace") ? t.namespace.split(".") : [];
                if (s = d = l = a = a || r, 3 !== a.nodeType && 8 !== a.nodeType && !ve.test(f + T.event.triggered) && (f.indexOf(".") > -1 && (f = (m = f.split(".")).shift(), 
                m.sort()), c = f.indexOf(":") < 0 && "on" + f, (t = t[T.expando] ? t : new T.Event(f, "object" == typeof t && t)).isTrigger = n ? 2 : 3, 
                t.namespace = m.join("."), t.rnamespace = t.namespace ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, 
                t.result = void 0, t.target || (t.target = a), e = null == e ? [ t ] : T.makeArray(e, [ t ]), 
                u = T.event.special[f] || {}, n || !u.trigger || !1 !== u.trigger.apply(a, e))) {
                    if (!n && !u.noBubble && !v(a)) {
                        for (h = u.delegateType || f, ve.test(h + f) || (s = s.parentNode); s; s = s.parentNode) y.push(s), 
                        l = s;
                        l === (a.ownerDocument || r) && y.push(l.defaultView || l.parentWindow || i);
                    }
                    for (o = 0; (s = y[o++]) && !t.isPropagationStopped(); ) d = s, 
                    t.type = o > 1 ? h : u.bindType || f, (p = (J.get(s, "events") || {})[t.type] && J.get(s, "handle")) && p.apply(s, e), 
                    (p = c && s[c]) && p.apply && X(s) && (t.result = p.apply(s, e), 
                    !1 === t.result && t.preventDefault());
                    return t.type = f, n || t.isDefaultPrevented() || u._default && !1 !== u._default.apply(y.pop(), e) || !X(a) || c && _(a[f]) && !v(a) && ((l = a[c]) && (a[c] = null), 
                    T.event.triggered = f, t.isPropagationStopped() && d.addEventListener(f, Ee), 
                    a[f](), t.isPropagationStopped() && d.removeEventListener(f, Ee), 
                    T.event.triggered = void 0, l && (a[c] = l)), t.result;
                }
            },
            simulate: function(t, e, i) {
                var a = T.extend(new T.Event(), i, {
                    type: t,
                    isSimulated: !0
                });
                T.event.trigger(a, null, e);
            }
        }), T.fn.extend({
            trigger: function(t, e) {
                return this.each(function() {
                    T.event.trigger(t, e, this);
                });
            },
            triggerHandler: function(t, e) {
                var i = this[0];
                if (i) return T.event.trigger(t, e, i, !0);
            }
        }), m.focusin || T.each({
            focus: "focusin",
            blur: "focusout"
        }, function(t, e) {
            var i = function(t) {
                T.event.simulate(e, t.target, T.event.fix(t));
            };
            T.event.special[e] = {
                setup: function() {
                    var a = this.ownerDocument || this, n = J.access(a, e);
                    n || a.addEventListener(t, i, !0), J.access(a, e, (n || 0) + 1);
                },
                teardown: function() {
                    var a = this.ownerDocument || this, n = J.access(a, e) - 1;
                    n ? J.access(a, e, n) : (a.removeEventListener(t, i, !0), J.remove(a, e));
                }
            };
        });
        var be = i.location, Oe = Date.now(), Te = /\?/;
        T.parseXML = function(t) {
            var e;
            if (!t || "string" != typeof t) return null;
            try {
                e = new i.DOMParser().parseFromString(t, "text/xml");
            } catch (t) {
                e = void 0;
            }
            return e && !e.getElementsByTagName("parsererror").length || T.error("Invalid XML: " + t), 
            e;
        };
        var Ae = /\[\]$/, Ie = /\r?\n/g, we = /^(?:submit|button|image|reset|file)$/i, Ce = /^(?:input|select|textarea|keygen)/i;
        function Se(t, e, i, a) {
            var n;
            if (Array.isArray(e)) T.each(e, function(e, n) {
                i || Ae.test(t) ? a(t, n) : Se(t + "[" + ("object" == typeof n && null != n ? e : "") + "]", n, i, a);
            }); else if (i || "object" !== O(e)) a(t, e); else for (n in e) Se(t + "[" + n + "]", e[n], i, a);
        }
        T.param = function(t, e) {
            var i, a = [], n = function(t, e) {
                var i = _(e) ? e() : e;
                a[a.length] = encodeURIComponent(t) + "=" + encodeURIComponent(null == i ? "" : i);
            };
            if (Array.isArray(t) || t.jquery && !T.isPlainObject(t)) T.each(t, function() {
                n(this.name, this.value);
            }); else for (i in t) Se(i, t[i], e, n);
            return a.join("&");
        }, T.fn.extend({
            serialize: function() {
                return T.param(this.serializeArray());
            },
            serializeArray: function() {
                return this.map(function() {
                    var t = T.prop(this, "elements");
                    return t ? T.makeArray(t) : this;
                }).filter(function() {
                    var t = this.type;
                    return this.name && !T(this).is(":disabled") && Ce.test(this.nodeName) && !we.test(t) && (this.checked || !ut.test(t));
                }).map(function(t, e) {
                    var i = T(this).val();
                    return null == i ? null : Array.isArray(i) ? T.map(i, function(t) {
                        return {
                            name: e.name,
                            value: t.replace(Ie, "\r\n")
                        };
                    }) : {
                        name: e.name,
                        value: i.replace(Ie, "\r\n")
                    };
                }).get();
            }
        });
        var Pe = /%20/g, De = /#.*$/, Le = /([?&])_=[^&]*/, xe = /^(.*?):[ \t]*([^\r\n]*)$/gm, Me = /^(?:GET|HEAD)$/, Ne = /^\/\//, Ue = {}, ke = {}, Re = "*/".concat("*"), Be = r.createElement("a");
        function Ge(t) {
            return function(e, i) {
                "string" != typeof e && (i = e, e = "*");
                var a, n = 0, o = e.toLowerCase().match(B) || [];
                if (_(i)) for (;a = o[n++]; ) "+" === a[0] ? (a = a.slice(1) || "*", 
                (t[a] = t[a] || []).unshift(i)) : (t[a] = t[a] || []).push(i);
            };
        }
        function Ve(t, e, i, a) {
            var n = {}, o = t === ke;
            function r(s) {
                var l;
                return n[s] = !0, T.each(t[s] || [], function(t, s) {
                    var h = s(e, i, a);
                    return "string" != typeof h || o || n[h] ? o ? !(l = h) : void 0 : (e.dataTypes.unshift(h), 
                    r(h), !1);
                }), l;
            }
            return r(e.dataTypes[0]) || !n["*"] && r("*");
        }
        function He(t, e) {
            var i, a, n = T.ajaxSettings.flatOptions || {};
            for (i in e) void 0 !== e[i] && ((n[i] ? t : a || (a = {}))[i] = e[i]);
            return a && T.extend(!0, t, a), t;
        }
        Be.href = be.href, T.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: be.href,
                type: "GET",
                isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(be.protocol),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": Re,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /\bxml\b/,
                    html: /\bhtml/,
                    json: /\bjson\b/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": JSON.parse,
                    "text xml": T.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(t, e) {
                return e ? He(He(t, T.ajaxSettings), e) : He(T.ajaxSettings, t);
            },
            ajaxPrefilter: Ge(Ue),
            ajaxTransport: Ge(ke),
            ajax: function(t, e) {
                "object" == typeof t && (e = t, t = void 0), e = e || {};
                var a, n, o, s, l, h, c, p, u, d, g = T.ajaxSetup({}, e), y = g.context || g, f = g.context && (y.nodeType || y.jquery) ? T(y) : T.event, m = T.Deferred(), _ = T.Callbacks("once memory"), v = g.statusCode || {}, E = {}, b = {}, O = "canceled", A = {
                    readyState: 0,
                    getResponseHeader: function(t) {
                        var e;
                        if (c) {
                            if (!s) for (s = {}; e = xe.exec(o); ) s[e[1].toLowerCase()] = e[2];
                            e = s[t.toLowerCase()];
                        }
                        return null == e ? null : e;
                    },
                    getAllResponseHeaders: function() {
                        return c ? o : null;
                    },
                    setRequestHeader: function(t, e) {
                        return null == c && (t = b[t.toLowerCase()] = b[t.toLowerCase()] || t, 
                        E[t] = e), this;
                    },
                    overrideMimeType: function(t) {
                        return null == c && (g.mimeType = t), this;
                    },
                    statusCode: function(t) {
                        var e;
                        if (t) if (c) A.always(t[A.status]); else for (e in t) v[e] = [ v[e], t[e] ];
                        return this;
                    },
                    abort: function(t) {
                        var e = t || O;
                        return a && a.abort(e), I(0, e), this;
                    }
                };
                if (m.promise(A), g.url = ((t || g.url || be.href) + "").replace(Ne, be.protocol + "//"), 
                g.type = e.method || e.type || g.method || g.type, g.dataTypes = (g.dataType || "*").toLowerCase().match(B) || [ "" ], 
                null == g.crossDomain) {
                    h = r.createElement("a");
                    try {
                        h.href = g.url, h.href = h.href, g.crossDomain = Be.protocol + "//" + Be.host != h.protocol + "//" + h.host;
                    } catch (t) {
                        g.crossDomain = !0;
                    }
                }
                if (g.data && g.processData && "string" != typeof g.data && (g.data = T.param(g.data, g.traditional)), 
                Ve(Ue, g, e, A), c) return A;
                for (u in (p = T.event && g.global) && 0 == T.active++ && T.event.trigger("ajaxStart"), 
                g.type = g.type.toUpperCase(), g.hasContent = !Me.test(g.type), 
                n = g.url.replace(De, ""), g.hasContent ? g.data && g.processData && 0 === (g.contentType || "").indexOf("application/x-www-form-urlencoded") && (g.data = g.data.replace(Pe, "+")) : (d = g.url.slice(n.length), 
                g.data && (g.processData || "string" == typeof g.data) && (n += (Te.test(n) ? "&" : "?") + g.data, 
                delete g.data), !1 === g.cache && (n = n.replace(Le, "$1"), d = (Te.test(n) ? "&" : "?") + "_=" + Oe++ + d), 
                g.url = n + d), g.ifModified && (T.lastModified[n] && A.setRequestHeader("If-Modified-Since", T.lastModified[n]), 
                T.etag[n] && A.setRequestHeader("If-None-Match", T.etag[n])), (g.data && g.hasContent && !1 !== g.contentType || e.contentType) && A.setRequestHeader("Content-Type", g.contentType), 
                A.setRequestHeader("Accept", g.dataTypes[0] && g.accepts[g.dataTypes[0]] ? g.accepts[g.dataTypes[0]] + ("*" !== g.dataTypes[0] ? ", " + Re + "; q=0.01" : "") : g.accepts["*"]), 
                g.headers) A.setRequestHeader(u, g.headers[u]);
                if (g.beforeSend && (!1 === g.beforeSend.call(y, A, g) || c)) return A.abort();
                if (O = "abort", _.add(g.complete), A.done(g.success), A.fail(g.error), 
                a = Ve(ke, g, e, A)) {
                    if (A.readyState = 1, p && f.trigger("ajaxSend", [ A, g ]), 
                    c) return A;
                    g.async && g.timeout > 0 && (l = i.setTimeout(function() {
                        A.abort("timeout");
                    }, g.timeout));
                    try {
                        c = !1, a.send(E, I);
                    } catch (t) {
                        if (c) throw t;
                        I(-1, t);
                    }
                } else I(-1, "No Transport");
                function I(t, e, r, s) {
                    var h, u, d, E, b, O = e;
                    c || (c = !0, l && i.clearTimeout(l), a = void 0, o = s || "", 
                    A.readyState = t > 0 ? 4 : 0, h = t >= 200 && t < 300 || 304 === t, 
                    r && (E = function(t, e, i) {
                        for (var a, n, o, r, s = t.contents, l = t.dataTypes; "*" === l[0]; ) l.shift(), 
                        void 0 === a && (a = t.mimeType || e.getResponseHeader("Content-Type"));
                        if (a) for (n in s) if (s[n] && s[n].test(a)) {
                            l.unshift(n);
                            break;
                        }
                        if (l[0] in i) o = l[0]; else {
                            for (n in i) {
                                if (!l[0] || t.converters[n + " " + l[0]]) {
                                    o = n;
                                    break;
                                }
                                r || (r = n);
                            }
                            o = o || r;
                        }
                        if (o) return o !== l[0] && l.unshift(o), i[o];
                    }(g, A, r)), E = function(t, e, i, a) {
                        var n, o, r, s, l, h = {}, c = t.dataTypes.slice();
                        if (c[1]) for (r in t.converters) h[r.toLowerCase()] = t.converters[r];
                        for (o = c.shift(); o; ) if (t.responseFields[o] && (i[t.responseFields[o]] = e), 
                        !l && a && t.dataFilter && (e = t.dataFilter(e, t.dataType)), 
                        l = o, o = c.shift()) if ("*" === o) o = l; else if ("*" !== l && l !== o) {
                            if (!(r = h[l + " " + o] || h["* " + o])) for (n in h) if ((s = n.split(" "))[1] === o && (r = h[l + " " + s[0]] || h["* " + s[0]])) {
                                !0 === r ? r = h[n] : !0 !== h[n] && (o = s[0], 
                                c.unshift(s[1]));
                                break;
                            }
                            if (!0 !== r) if (r && t.throws) e = r(e); else try {
                                e = r(e);
                            } catch (t) {
                                return {
                                    state: "parsererror",
                                    error: r ? t : "No conversion from " + l + " to " + o
                                };
                            }
                        }
                        return {
                            state: "success",
                            data: e
                        };
                    }(g, E, A, h), h ? (g.ifModified && ((b = A.getResponseHeader("Last-Modified")) && (T.lastModified[n] = b), 
                    (b = A.getResponseHeader("etag")) && (T.etag[n] = b)), 204 === t || "HEAD" === g.type ? O = "nocontent" : 304 === t ? O = "notmodified" : (O = E.state, 
                    u = E.data, h = !(d = E.error))) : (d = O, !t && O || (O = "error", 
                    t < 0 && (t = 0))), A.status = t, A.statusText = (e || O) + "", 
                    h ? m.resolveWith(y, [ u, O, A ]) : m.rejectWith(y, [ A, O, d ]), 
                    A.statusCode(v), v = void 0, p && f.trigger(h ? "ajaxSuccess" : "ajaxError", [ A, g, h ? u : d ]), 
                    _.fireWith(y, [ A, O ]), p && (f.trigger("ajaxComplete", [ A, g ]), 
                    --T.active || T.event.trigger("ajaxStop")));
                }
                return A;
            },
            getJSON: function(t, e, i) {
                return T.get(t, e, i, "json");
            },
            getScript: function(t, e) {
                return T.get(t, void 0, e, "script");
            }
        }), T.each([ "get", "post" ], function(t, e) {
            T[e] = function(t, i, a, n) {
                return _(i) && (n = n || a, a = i, i = void 0), T.ajax(T.extend({
                    url: t,
                    type: e,
                    dataType: n,
                    data: i,
                    success: a
                }, T.isPlainObject(t) && t));
            };
        }), T._evalUrl = function(t) {
            return T.ajax({
                url: t,
                type: "GET",
                dataType: "script",
                cache: !0,
                async: !1,
                global: !1,
                throws: !0
            });
        }, T.fn.extend({
            wrapAll: function(t) {
                var e;
                return this[0] && (_(t) && (t = t.call(this[0])), e = T(t, this[0].ownerDocument).eq(0).clone(!0), 
                this[0].parentNode && e.insertBefore(this[0]), e.map(function() {
                    for (var t = this; t.firstElementChild; ) t = t.firstElementChild;
                    return t;
                }).append(this)), this;
            },
            wrapInner: function(t) {
                return _(t) ? this.each(function(e) {
                    T(this).wrapInner(t.call(this, e));
                }) : this.each(function() {
                    var e = T(this), i = e.contents();
                    i.length ? i.wrapAll(t) : e.append(t);
                });
            },
            wrap: function(t) {
                var e = _(t);
                return this.each(function(i) {
                    T(this).wrapAll(e ? t.call(this, i) : t);
                });
            },
            unwrap: function(t) {
                return this.parent(t).not("body").each(function() {
                    T(this).replaceWith(this.childNodes);
                }), this;
            }
        }), T.expr.pseudos.hidden = function(t) {
            return !T.expr.pseudos.visible(t);
        }, T.expr.pseudos.visible = function(t) {
            return !!(t.offsetWidth || t.offsetHeight || t.getClientRects().length);
        }, T.ajaxSettings.xhr = function() {
            try {
                return new i.XMLHttpRequest();
            } catch (t) {}
        };
        var Fe = {
            0: 200,
            1223: 204
        }, je = T.ajaxSettings.xhr();
        m.cors = !!je && "withCredentials" in je, m.ajax = je = !!je, T.ajaxTransport(function(t) {
            var e, a;
            if (m.cors || je && !t.crossDomain) return {
                send: function(n, o) {
                    var r, s = t.xhr();
                    if (s.open(t.type, t.url, t.async, t.username, t.password), 
                    t.xhrFields) for (r in t.xhrFields) s[r] = t.xhrFields[r];
                    for (r in t.mimeType && s.overrideMimeType && s.overrideMimeType(t.mimeType), 
                    t.crossDomain || n["X-Requested-With"] || (n["X-Requested-With"] = "XMLHttpRequest"), 
                    n) s.setRequestHeader(r, n[r]);
                    e = function(t) {
                        return function() {
                            e && (e = a = s.onload = s.onerror = s.onabort = s.ontimeout = s.onreadystatechange = null, 
                            "abort" === t ? s.abort() : "error" === t ? "number" != typeof s.status ? o(0, "error") : o(s.status, s.statusText) : o(Fe[s.status] || s.status, s.statusText, "text" !== (s.responseType || "text") || "string" != typeof s.responseText ? {
                                binary: s.response
                            } : {
                                text: s.responseText
                            }, s.getAllResponseHeaders()));
                        };
                    }, s.onload = e(), a = s.onerror = s.ontimeout = e("error"), 
                    void 0 !== s.onabort ? s.onabort = a : s.onreadystatechange = function() {
                        4 === s.readyState && i.setTimeout(function() {
                            e && a();
                        });
                    }, e = e("abort");
                    try {
                        s.send(t.hasContent && t.data || null);
                    } catch (t) {
                        if (e) throw t;
                    }
                },
                abort: function() {
                    e && e();
                }
            };
        }), T.ajaxPrefilter(function(t) {
            t.crossDomain && (t.contents.script = !1);
        }), T.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /\b(?:java|ecma)script\b/
            },
            converters: {
                "text script": function(t) {
                    return T.globalEval(t), t;
                }
            }
        }), T.ajaxPrefilter("script", function(t) {
            void 0 === t.cache && (t.cache = !1), t.crossDomain && (t.type = "GET");
        }), T.ajaxTransport("script", function(t) {
            var e, i;
            if (t.crossDomain) return {
                send: function(a, n) {
                    e = T("<script>").prop({
                        charset: t.scriptCharset,
                        src: t.url
                    }).on("load error", i = function(t) {
                        e.remove(), i = null, t && n("error" === t.type ? 404 : 200, t.type);
                    }), r.head.appendChild(e[0]);
                },
                abort: function() {
                    i && i();
                }
            };
        });
        var ze, We = [], Ke = /(=)\?(?=&|$)|\?\?/;
        T.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var t = We.pop() || T.expando + "_" + Oe++;
                return this[t] = !0, t;
            }
        }), T.ajaxPrefilter("json jsonp", function(t, e, a) {
            var n, o, r, s = !1 !== t.jsonp && (Ke.test(t.url) ? "url" : "string" == typeof t.data && 0 === (t.contentType || "").indexOf("application/x-www-form-urlencoded") && Ke.test(t.data) && "data");
            if (s || "jsonp" === t.dataTypes[0]) return n = t.jsonpCallback = _(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, 
            s ? t[s] = t[s].replace(Ke, "$1" + n) : !1 !== t.jsonp && (t.url += (Te.test(t.url) ? "&" : "?") + t.jsonp + "=" + n), 
            t.converters["script json"] = function() {
                return r || T.error(n + " was not called"), r[0];
            }, t.dataTypes[0] = "json", o = i[n], i[n] = function() {
                r = arguments;
            }, a.always(function() {
                void 0 === o ? T(i).removeProp(n) : i[n] = o, t[n] && (t.jsonpCallback = e.jsonpCallback, 
                We.push(n)), r && _(o) && o(r[0]), r = o = void 0;
            }), "script";
        }), m.createHTMLDocument = ((ze = r.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>", 
        2 === ze.childNodes.length), T.parseHTML = function(t, e, i) {
            return "string" != typeof t ? [] : ("boolean" == typeof e && (i = e, 
            e = !1), e || (m.createHTMLDocument ? ((a = (e = r.implementation.createHTMLDocument("")).createElement("base")).href = r.location.href, 
            e.head.appendChild(a)) : e = r), n = L.exec(t), o = !i && [], n ? [ e.createElement(n[1]) ] : (n = bt([ t ], e, o), 
            o && o.length && T(o).remove(), T.merge([], n.childNodes)));
            var a, n, o;
        }, T.fn.load = function(t, e, i) {
            var a, n, o, r = this, s = t.indexOf(" ");
            return s > -1 && (a = ye(t.slice(s)), t = t.slice(0, s)), _(e) ? (i = e, 
            e = void 0) : e && "object" == typeof e && (n = "POST"), r.length > 0 && T.ajax({
                url: t,
                type: n || "GET",
                dataType: "html",
                data: e
            }).done(function(t) {
                o = arguments, r.html(a ? T("<div>").append(T.parseHTML(t)).find(a) : t);
            }).always(i && function(t, e) {
                r.each(function() {
                    i.apply(this, o || [ t.responseText, e, t ]);
                });
            }), this;
        }, T.each([ "ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend" ], function(t, e) {
            T.fn[e] = function(t) {
                return this.on(e, t);
            };
        }), T.expr.pseudos.animated = function(t) {
            return T.grep(T.timers, function(e) {
                return t === e.elem;
            }).length;
        }, T.offset = {
            setOffset: function(t, e, i) {
                var a, n, o, r, s, l, h = T.css(t, "position"), c = T(t), p = {};
                "static" === h && (t.style.position = "relative"), s = c.offset(), 
                o = T.css(t, "top"), l = T.css(t, "left"), ("absolute" === h || "fixed" === h) && (o + l).indexOf("auto") > -1 ? (r = (a = c.position()).top, 
                n = a.left) : (r = parseFloat(o) || 0, n = parseFloat(l) || 0), 
                _(e) && (e = e.call(t, i, T.extend({}, s))), null != e.top && (p.top = e.top - s.top + r), 
                null != e.left && (p.left = e.left - s.left + n), "using" in e ? e.using.call(t, p) : c.css(p);
            }
        }, T.fn.extend({
            offset: function(t) {
                if (arguments.length) return void 0 === t ? this : this.each(function(e) {
                    T.offset.setOffset(this, t, e);
                });
                var e, i, a = this[0];
                return a ? a.getClientRects().length ? (e = a.getBoundingClientRect(), 
                i = a.ownerDocument.defaultView, {
                    top: e.top + i.pageYOffset,
                    left: e.left + i.pageXOffset
                }) : {
                    top: 0,
                    left: 0
                } : void 0;
            },
            position: function() {
                if (this[0]) {
                    var t, e, i, a = this[0], n = {
                        top: 0,
                        left: 0
                    };
                    if ("fixed" === T.css(a, "position")) e = a.getBoundingClientRect(); else {
                        for (e = this.offset(), i = a.ownerDocument, t = a.offsetParent || i.documentElement; t && (t === i.body || t === i.documentElement) && "static" === T.css(t, "position"); ) t = t.parentNode;
                        t && t !== a && 1 === t.nodeType && ((n = T(t).offset()).top += T.css(t, "borderTopWidth", !0), 
                        n.left += T.css(t, "borderLeftWidth", !0));
                    }
                    return {
                        top: e.top - n.top - T.css(a, "marginTop", !0),
                        left: e.left - n.left - T.css(a, "marginLeft", !0)
                    };
                }
            },
            offsetParent: function() {
                return this.map(function() {
                    for (var t = this.offsetParent; t && "static" === T.css(t, "position"); ) t = t.offsetParent;
                    return t || Ot;
                });
            }
        }), T.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, function(t, e) {
            var i = "pageYOffset" === e;
            T.fn[t] = function(a) {
                return W(this, function(t, a, n) {
                    var o;
                    if (v(t) ? o = t : 9 === t.nodeType && (o = t.defaultView), 
                    void 0 === n) return o ? o[e] : t[a];
                    o ? o.scrollTo(i ? o.pageXOffset : n, i ? n : o.pageYOffset) : t[a] = n;
                }, t, a, arguments.length);
            };
        }), T.each([ "top", "left" ], function(t, e) {
            T.cssHooks[e] = zt(m.pixelPosition, function(t, i) {
                if (i) return i = jt(t, e), Vt.test(i) ? T(t).position()[e] + "px" : i;
            });
        }), T.each({
            Height: "height",
            Width: "width"
        }, function(t, e) {
            T.each({
                padding: "inner" + t,
                content: e,
                "": "outer" + t
            }, function(i, a) {
                T.fn[a] = function(n, o) {
                    var r = arguments.length && (i || "boolean" != typeof n), s = i || (!0 === n || !0 === o ? "margin" : "border");
                    return W(this, function(e, i, n) {
                        var o;
                        return v(e) ? 0 === a.indexOf("outer") ? e["inner" + t] : e.document.documentElement["client" + t] : 9 === e.nodeType ? (o = e.documentElement, 
                        Math.max(e.body["scroll" + t], o["scroll" + t], e.body["offset" + t], o["offset" + t], o["client" + t])) : void 0 === n ? T.css(e, i, s) : T.style(e, i, n, s);
                    }, e, r ? n : void 0, r);
                };
            });
        }), T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(t, e) {
            T.fn[e] = function(t, i) {
                return arguments.length > 0 ? this.on(e, null, t, i) : this.trigger(e);
            };
        }), T.fn.extend({
            hover: function(t, e) {
                return this.mouseenter(t).mouseleave(e || t);
            }
        }), T.fn.extend({
            bind: function(t, e, i) {
                return this.on(t, null, e, i);
            },
            unbind: function(t, e) {
                return this.off(t, null, e);
            },
            delegate: function(t, e, i, a) {
                return this.on(e, t, i, a);
            },
            undelegate: function(t, e, i) {
                return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", i);
            }
        }), T.proxy = function(t, e) {
            var i, a, n;
            if ("string" == typeof e && (i = t[e], e = t, t = i), _(t)) return a = l.call(arguments, 2), 
            (n = function() {
                return t.apply(e || this, a.concat(l.call(arguments)));
            }).guid = t.guid = t.guid || T.guid++, n;
        }, T.holdReady = function(t) {
            t ? T.readyWait++ : T.ready(!0);
        }, T.isArray = Array.isArray, T.parseJSON = JSON.parse, T.nodeName = D, 
        T.isFunction = _, T.isWindow = v, T.camelCase = Q, T.type = O, T.now = Date.now, 
        T.isNumeric = function(t) {
            var e = T.type(t);
            return ("number" === e || "string" === e) && !isNaN(t - parseFloat(t));
        }, void 0 === (a = function() {
            return T;
        }.apply(e, [])) || (t.exports = a);
        var Ye = i.jQuery, qe = i.$;
        return T.noConflict = function(t) {
            return i.$ === T && (i.$ = qe), t && i.jQuery === T && (i.jQuery = Ye), 
            T;
        }, n || (i.jQuery = i.$ = T), T;
    });
}, function(t, e) {
    var i = Math.floor, a = Math.random;
    t.exports = function(t, e) {
        return t + i(a() * (e - t + 1));
    };
}, function(t, e) {
    var i = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");
    t.exports = function(t) {
        return i.test(t);
    };
}, function(t, e, i) {
    var a = i(280);
    t.exports = function(t) {
        var e = new t.constructor(t.byteLength);
        return new a(e).set(new a(t)), e;
    };
}, function(t, e, i) {
    var a = i(274)(Object.getPrototypeOf, Object);
    t.exports = a;
}, function(t, e, i) {
    var a = i(262);
    t.exports = function(t, e, i) {
        "__proto__" == e && a ? a(t, e, {
            configurable: !0,
            enumerable: !0,
            value: i,
            writable: !0
        }) : t[e] = i;
    };
}, function(t, e, i) {
    var a = i(922), n = 1, o = 4;
    t.exports = function(t) {
        return a(t, n | o);
    };
}, function(t, e, i) {
    var a = i(926), n = 1 / 0, o = 17976931348623157e292;
    t.exports = function(t) {
        return t ? (t = a(t)) === n || t === -n ? (t < 0 ? -1 : 1) * o : t == t ? t : 0 : 0 === t ? t : 0;
    };
}, function(t, e, i) {
    var a = i(150);
    t.exports = function(t) {
        var e = a(t), i = e % 1;
        return e == e ? i ? e - i : e : 0;
    };
}, function(t, e, i) {
    var a = i(269), n = i(929)(a);
    t.exports = n;
}, function(t, e, i) {
    var a = i(936);
    t.exports = function(t) {
        return null == t ? "" : a(t);
    };
}, function(t, e, i) {
    var a = i(19), n = i(68), o = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, r = /^\w*$/;
    t.exports = function(t, e) {
        if (a(t)) return !1;
        var i = typeof t;
        return !("number" != i && "symbol" != i && "boolean" != i && null != t && !n(t)) || r.test(t) || !o.test(t) || null != e && t in Object(e);
    };
}, function(t, e, i) {
    var a = i(19), n = i(154), o = i(939), r = i(153);
    t.exports = function(t, e) {
        return a(t) ? t : n(t, e) ? [ t ] : o(r(t));
    };
}, function(t, e, i) {
    var a = i(155), n = i(83);
    t.exports = function(t, e) {
        for (var i = 0, o = (e = a(e, t)).length; null != t && i < o; ) t = t[n(e[i++])];
        return i && i == o ? t : void 0;
    };
}, function(t, e, i) {
    var a = i(103), n = i(946), o = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        if (!a(t)) return n(t);
        var e = [];
        for (var i in Object(t)) o.call(t, i) && "constructor" != i && e.push(i);
        return e;
    };
}, function(t, e, i) {
    (function(t) {
        var a = i(286), n = "object" == typeof e && e && !e.nodeType && e, o = n && "object" == typeof t && t && !t.nodeType && t, r = o && o.exports === n && a.process, s = function() {
            try {
                var t = o && o.require && o.require("util").types;
                return t || r && r.binding && r.binding("util");
            } catch (t) {}
        }();
        t.exports = s;
    }).call(this, i(106)(t));
}, function(t, e) {
    var i = 9007199254740991;
    t.exports = function(t) {
        return "number" == typeof t && t > -1 && t % 1 == 0 && t <= i;
    };
}, function(t, e, i) {
    var a = i(277), n = i(276), o = Object.prototype.propertyIsEnumerable, r = Object.getOwnPropertySymbols, s = r ? function(t) {
        return null == t ? [] : (t = Object(t), a(r(t), function(e) {
            return o.call(t, e);
        }));
    } : n;
    t.exports = s;
}, function(t, e) {
    t.exports = function(t, e) {
        for (var i = -1, a = e.length, n = t.length; ++i < a; ) t[n + i] = e[i];
        return t;
    };
}, function(t, e, i) {
    var a = i(957), n = i(45);
    t.exports = function t(e, i, o, r, s) {
        return e === i || (null == e || null == i || !n(e) && !n(i) ? e != e && i != i : a(e, i, o, r, t, s));
    };
}, function(t, e, i) {
    var a = i(969), n = i(962), o = i(960), r = i(959), s = i(958);
    function l(t) {
        var e = -1, i = null == t ? 0 : t.length;
        for (this.clear(); ++e < i; ) {
            var a = t[e];
            this.set(a[0], a[1]);
        }
    }
    l.prototype.clear = a, l.prototype.delete = n, l.prototype.get = o, l.prototype.has = r, 
    l.prototype.set = s, t.exports = l;
}, function(t, e, i) {
    var a = i(59), n = i(46), o = "[object AsyncFunction]", r = "[object Function]", s = "[object GeneratorFunction]", l = "[object Proxy]";
    t.exports = function(t) {
        if (!n(t)) return !1;
        var e = a(t);
        return e == r || e == s || e == o || e == l;
    };
}, function(t, e, i) {
    var a = i(60)(i(47), "Map");
    t.exports = a;
}, function(t, e, i) {
    var a = i(88), n = i(53), o = i(270), r = i(19);
    t.exports = function(t, e) {
        return (r(t) ? a : o)(t, n(e, 3));
    };
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Actions = {};
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(11), o = i(169), r = i(293), s = function() {
        function t() {
            this.fsmFactories = null, this.data = null, this.variables = null, this.currentState = null, 
            this.onComplete = new o.Signal();
        }
        return Object.defineProperty(t.prototype, "OnComplete", {
            get: function() {
                return this.onComplete;
            },
            enumerable: !0,
            configurable: !0
        }), t.prototype.init = function(t, e, i) {
            this.fsmFactories = t, this.data = e, this.variables = i;
        }, t.prototype.execute = function() {
            this.currentState || this.executeNext();
        }, t.prototype.executeWithData = function(t) {
            this.currentState = t;
            var e = this.fsmFactories.createState(t, this.variables);
            e.OnComplete.addOnce(this.onStateCompleted, this), e.execute();
        }, t.prototype.executeWithName = function(t) {
            for (var e = 0; e < this.data.States.length; e++) {
                var i = this.data.States[e];
                if (i.Name === t) {
                    this.executeWithData(i);
                    break;
                }
            }
        }, t.prototype.executeNext = function() {
            var t = this.data.States.indexOf(this.currentState) + 1;
            t < this.data.States.length ? this.executeWithData(this.data.States[t]) : (this.currentState = null, 
            this.OnComplete.dispatch());
        }, t.prototype.onStateCompleted = function() {
            if (this.currentState.Transitions.length > 0) {
                for (var t = 0; t < this.currentState.Transitions.length; t++) {
                    var e = this.currentState.Transitions[t];
                    if (e.Conditions.length > 0) {
                        for (var i = !0, a = 0; a < e.Conditions.length; a++) {
                            var n = e.Conditions[a];
                            if (!this.fsmFactories.createCondition(n, this.variables).test()) {
                                i = !1;
                                break;
                            }
                        }
                        if (!i) continue;
                    }
                    return void this.executeWithName(e.State);
                }
                this.executeNext();
            } else this.executeNext();
        }, t.parseVariable = function(t, e) {
            if (r.Utils.isDefined(t)) {
                if ("string" == typeof t) {
                    var i = t;
                    return t.length > 1 && "$" === t.charAt(0) && (i = this.findVariable(t.substr(1), e)), 
                    i;
                }
                if (t.constructor === Array) {
                    i = [];
                    for (var a = 0; a < t.length; a++) i.push(this.parseVariable(t[a], e));
                    return i;
                }
                if ("object" == typeof t && t.constructor === Object) {
                    i = {};
                    for (var n in t) i[n] = this.parseVariable(t[n], e);
                    return i;
                }
                return t;
            }
            return null;
        }, t.findVariable = function(t, e) {
            return e.hasOwnProperty(t) ? e[t] : null;
        }, t = a([ n.injectable() ], t);
    }();
    e.StateMachine = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(11);
    r.decorate(r.injectable(), Phaser.Signal);
    var s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e = o([ r.injectable() ], e);
    }(Phaser.Signal);
    e.Signal = s;
}, function(t, e) {
    var i;
    i = function() {
        return this;
    }();
    try {
        i = i || Function("return this")() || (0, eval)("this");
    } catch (t) {
        "object" == typeof window && (i = window);
    }
    t.exports = i;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(186), s = i(0), l = function(t) {
        function e(e) {
            var i = t.call(this) || this;
            return i.game = e, i.resetData(), i;
        }
        return n(e, t), e.prototype.startLoading = function(t) {
            for (var e in void 0 === t && (t = {}), this.resetData(), t) this.data[e] = t[e];
            this.game.state.start("Loading");
        }, e.prototype.resetData = function() {
            this.data = {
                title: this.game.prodigy.gameContainer.Localizer.getText("LOADING_CAPITALIZE"),
                time: 3e3,
                fadeIn: !1,
                fadeOut: !1,
                callback: null,
                assets: [],
                target: "Login",
                save: !0
            };
        }, e.prototype.create = function() {
            if (this.startTime = new Date().getTime(), this.complete = !1, this.isLoaded = !1, 
            this.element = this.game.prodigy.create.element(void 0), this.element.add(new Phaser.TileSprite(this.game, 0, 0, 1280, 720, "atlas-161", "load")), 
            this.data.time > 1e3) {
                this.game.prodigy.create.panel(this.element, 160, 340, 24, 5, "shine"), 
                this.element.add(new Phaser.TileSprite(this.game, 171, 380, 938, 40, "atlas-161", "blue-top")), 
                this.element.add(new Phaser.TileSprite(this.game, 171, 420, 938, 40, "atlas-161", "blue-mid")), 
                this.element.add(new Phaser.TileSprite(this.game, 171, 460, 938, 40, "atlas-161", "blue-top2")), 
                this.element.add(this.game.prodigy.create.sprite(590, 310, "atlas-18", "award-frame"));
                var t = this.game.prodigy.create.font(this.element, 200, 400, this.game.prodigy.gameContainer.Localizer.getText(r.Hints.getRandomHint("none").textKey), {
                    fontID: 9,
                    width: 880,
                    align: "center",
                    size: 36
                });
                t.y = Math.floor((80 - t.height) / 2) + 400, this.game.prodigy.create.panel(this.element, 440, 560, 10, 2, "shine");
                var e = this.game.prodigy.create.font(this.element, 440, 560, this.data.title, {
                    fontID: 10,
                    width: 400,
                    align: "center",
                    size: 20
                });
                e.y = Math.floor((80 - e.height) / 2) + 560;
                var i = this.game.prodigy.create.player(this.element, this.game.prodigy.player, 1, 645, 360);
                i.reload(i.walk.bind(i));
            }
            this.start();
        }, e.prototype.start = function() {
            this.game.broadcaster.removeAppListener(o.ELoadingEvents.WorkerLoadComplete, this, "loading");
            var t = s.Util.isValid(this.data.assets) ? this.data.assets : [];
            this.game.prodigy.load.assets(t, this.loaded.bind(this)), this.game.prodigy.network.loggedIn && this.data.save && (this.game.prodigy.player.saveEnabled = !0);
        }, e.prototype.loaded = function(t, e) {
            s.Util.isValid(this.game) && (this.isLoaded = e);
        }, e.prototype.update = function() {
            t.prototype.update.call(this, this.game), this.isLoadingComplete() && this.completed();
        }, e.prototype.completed = function() {
            this.complete = !0, s.Util.isValid(this.data.callback) && this.data.callback(), 
            this.game.state.states[this.data.target].fadeInSet = this.data.fadeIn, 
            this.game.state.start(this.data.target);
        }, e.prototype.isLoadingComplete = function() {
            return !this.complete && new Date().getTime() - this.startTime >= this.data.time && this.isLoaded;
        }, e;
    }(Phaser.State);
    e.Loading = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = function(t) {
        function e(e, i, a, n, r) {
            var s = t.call(this, e, i.content, n, r) || this;
            s.vanishTween = null, s.activeTween = null, s.updateEnabled = !0, s.inputEnabled = !0;
            var l = s.add(s.game.prodigy.create.sprite(0, 0, "atlas-120", "squeak-1"));
            l.anchor.setTo(.5, 1), l.inputEnabled = !0, l.events.onInputDown.add(s.onClicked.bind(s, i), s);
            var h = new o.TweenController(l);
            return h.set("frameName", [ "squeak-1", "squeak-2", "squeak-3", "squeak-2", "squeak-1", "squeak-1", "squeak-1", "squeak-1", "squeak-1", "squeak-1", "squeak-2", "squeak-3", "squeak-2", "squeak-1" ], 100, 9999), 
            s.vanishTween = new o.TweenController(l), s.vanishTween.set("frameName", [ "squeak-4", "squeak-5", "squeak-6", "squeak-7" ], 100, 9999), 
            s.vanishTween.end(s.onEnd.bind(s, a)), s.activeTween = h, s.activeTween.start(), 
            s.updateEnabled = !0, s;
        }
        return n(e, t), e.prototype.update = function() {
            t.prototype.update.call(this), this.updateEnabled && this.activeTween.update();
        }, e.prototype.onClicked = function(t) {
            var e = this;
            if (this.inputEnabled) {
                this.game.prodigy.audio.playSFX(20, "squeak", null);
                var i = this.game.prodigy.event.create();
                i.validPath(t.user, t.path, this.x + (t.user.x < this.x ? -50 : 50), this.y + 20), 
                i.function(function() {
                    e.activeTween = e.vanishTween, e.activeTween.start();
                }), i.start();
            }
        }, e.prototype.onEnd = function(t) {
            t.setState("squeak", 4), this.visible = !1, this.updateEnabled = !1;
        }, e;
    }(i(5).Element);
    e.Squeak = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(117), r = i(4), s = i(0), l = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, a, "", i.houses[a].entryPoint.x, i.houses[a].entryPoint.y, n, o.concat(i.assets)) || this;
            return r.content = null, r.houseItems = [], r.player = null, r.houseData = null, 
            r.houseTag = null, r.houseData = i.houses[a], r.houseTag = r.houseData.tag, 
            r;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.content = i.content, 
            this.game = e, {};
        }, e.prototype.setOwner = function(t) {
            this.player = t, this.zoneName = "house-" + this.player.userID;
        }, e.prototype.cleanup = function() {
            this.houseItems = [], t.prototype.cleanup.call(this);
        }, e.prototype.loadHouseItems = function(t) {
            for (var e = 0; e < t.length; ++e) {
                var i = t[e], a = this.game.prodigy.create.houseItem(this.content, i.ID, 10 * Math.round(.1 * i.x), 10 * Math.round(.1 * i.y), i.r, this);
                a.findComponent(o.HouseItem).canRevert = !0, this.houseItems.push(a);
            }
        }, e.prototype.addHouseItem = function(t) {
            this.houseItems.push(t);
        }, e.prototype.removeHouseItem = function(t) {
            var e = this.houseItems.indexOf(t);
            e > -1 && this.houseItems.splice(e, 1);
        }, e.prototype.canPlaceItem = function(t) {
            var e = t.getRenderer();
            if (!this.isValidSpace(e.getWorld(), e.getWidth(), e.getHeight())) return !1;
            for (var i = 0; i < this.houseItems.length; ++i) {
                var a = this.houseItems[i].findComponent(o.HouseItem);
                if (t !== a && this.checkOverlap(e, a.getRenderer())) return !1;
            }
            return !0;
        }, e.prototype.isValidSpace = function(t, e, i) {
            if (!s.Util.isValid(t) || !s.Util.isValid(e) || !s.Util.isValid(i)) return !1;
            var a = Math.floor(t.x / 20), n = Math.floor(t.y / 20), o = Math.floor(e / 20), r = n + 1, l = n + Math.floor(i / 20) - 1, h = Math.ceil(a + .5 * o - 1 + (o > 0 ? 1 : 0)), c = Math.floor(a - .5 * o - (o > 0 ? 1 : 0));
            return !(c > 64 || l > 32) && !(h < 0 || r < 0) && (1 === this.screen.area[r][h] && 1 === this.screen.area[r][c] || 6 === this.screen.area[r][h] && 6 === this.screen.area[r][c]) && (1 === this.screen.area[l][h] && 1 === this.screen.area[l][c] || 6 === this.screen.area[l][h] && 6 === this.screen.area[l][c]);
        }, e.prototype.checkOverlap = function(t, e) {
            if (t.getWorld().y > e.getWorld().y) return !1;
            var i = t.getBounds(), a = e.getBounds();
            return i.x += 2, i.y += 2, i.width -= 4, i.height -= 4, a.x += 2, a.y += 2, 
            a.width -= 4, a.height -= 4, Phaser.Rectangle.intersects(i, a);
        }, e.prototype.getName = function() {
            for (var t = r.Items.getCategoryItems("dormbg"), e = 0; e < t.length; e++) if (t[e].data.tag === this.houseTag) return r.Items.data.dormbg[e].data.name;
            return this.game.prodigy.gameContainer.Localizer.getText("MAP_HOUSE_STARTER_HOUSE");
        }, e;
    }(i(7).Map);
    e.HouseMapBase = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(17), s = i(0), l = i(113), h = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i.content, {
                name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_HARVEY"),
                npc: !0
            }, null, a, n) || this;
            return r.screen = i, r.sessionTalk = !1, r.hasCart = o, r.setup(), r;
        }
        return n(e, t), e.prototype.setup = function() {
            var t = this.game.prodigy.create.element(this.sprites, 0, 0);
            if (this.harveySpine = this.game.add.spine(-5, 0, "spine-2"), this.harveySpine.setAnimationByName(0, "idle", !0), 
            t.add(this.harveySpine), this.hasCart) {
                var e = this.game.prodigy.create.sprite(20, -110, "atlas-140", "harvey-cart");
                t.add(e);
            }
            this.setIndicator("store"), this.setupCollisionBlock(t), this.showName(!0, this.game.prodigy.gameContainer.Localizer.getText("NPC_NAME_HARVEY")), 
            this.nameText.y = -100;
        }, e.prototype.setIndicator = function(t) {
            s.Util.isValid(this.indicator) || (this.indicator = this.game.prodigy.create.sprite(-5, -100, "atlas-21", t), 
            this.indicator.anchor.setTo(.5, 1), this.indicator.inputEnabled = !0, 
            this.indicator.events.onInputDown.add(this.onClicked.bind(this)), this.add(this.indicator), 
            this.game.add.tween(this.indicator).to({
                y: this.indicator.y - 25
            }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0)), 
            this.indicator.frameName = t;
        }, e.prototype.setupCollisionBlock = function(t) {
            var e = 0;
            this.hasCart && (e = 80), this.collisionBlock = t.add(this.game.prodigy.create.sprite(-.5 * t.width + e, -t.height, "atlas-18", "empty")), 
            this.collisionBlock.width = t.width, this.collisionBlock.height = t.height, 
            this.collisionBlock.inputEnabled = !0, this.collisionBlock.events.onInputDown.add(this.onClicked.bind(this));
        }, e.prototype.onClicked = function() {
            var t = this, e = this.game.prodigy.event.create();
            this.screen.data instanceof l.TitanMap && (this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(r.Breadcrumbs.BREADCRUMB_TITAN_INTRO, r.Breadcrumbs.BREADCRUMB_TITAN_HARVEY_TALKED) ? this.sessionTalk || (this.sessionTalk = !0, 
            e.text(2, "harvey"), e.text(3, "harvey"), e.text(4, "harvey")) : (this.game.prodigy.breadcrumbManager.completeBreadcrumb(r.Breadcrumbs.BREADCRUMB_TITAN_INTRO, r.Breadcrumbs.BREADCRUMB_TITAN_HARVEY_TALKED), 
            e.text(0, "harvey"), e.text(1, "harvey"))), e.function(function() {
                t.game.prodigy.open.store(21);
            }), e.start();
        }, e.prototype.update = function() {
            t.prototype.update.call(this);
        }, e;
    }(i(14).CreatureContainer);
    e.Harvey = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(131), r = i(182), s = i(3), l = i(4), h = i(17), c = i(0), p = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "titan", i.concat([ "atlas-81", "sfx-21", "atlas-83", "atlas-140" ])) || this;
            return a.titanMap = "", a.spineContainer = null, a.master = null, a.noot = null, 
            a.titanSpine = null, a.loadingData.time = 1, a.loadingData.fadeIn = !1, 
            a.loadingData.fadeOut = !1, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), i.user.x = 250, i.user.y = 400, 
            i.user.showName(!1), this.master = new r.PuppetMaster(e, i.content, 800, 300), 
            this.spineContainer = this.game.prodigy.create.element(i.content, 1100, 400), 
            this.noot = i.addNPC(180, 320, "atlas-81"), this.noot.float(!0), this.noot.walkSpeed = 2, 
            this.noot.visible = !0, this.game.broadcaster.addAppListener(s.ETitanEvents.GotTitans, this.gotTitanCallback.bind(this), this, "Titan"), 
            c.Util.isValid(this.game.prodigy.titansNetworkHandler.titan) ? this.gotTitanCallback(this.game.prodigy.titansNetworkHandler.titan) : this.game.prodigy.titansNetworkHandler.getTitans();
        }, e.prototype.start = function(e, i) {
            var a = this;
            t.prototype.start.call(this, e, i);
            var n = e.prodigy.event.create();
            if (n.enableInput(!1), n.function(this.enterScene.bind(this, e, i)), 
            n.delay(2e3), e.prodigy.breadcrumbManager.isBreadcrumbComplete(h.Breadcrumbs.BREADCRUMB_TITAN_INTRO, h.Breadcrumbs.BREADCRUMB_TITAN_WATCHED_INTRO)) {
                n.enableInput(!0), n.text(13, "puppetmaster"), n.enableInput(!1), 
                n.sound(21, "cloud");
                for (var o = 500, r = 12, s = 0; s < r; s++) n.function(this.sandCloud.bind(this, e, i, 1100, 375, o)), 
                n.delay(200);
                n.function(function() {
                    a.enterTitan(e);
                }), n.delay(100), n.enableInput(!0), n.text(14, "puppetmaster"), 
                n.enableInput(!1), n.functionCallback(this.exitMaster.bind(this, e, i, 1480, -200)), 
                n.enableInput(!0);
            } else {
                n.enableInput(!0), n.text(10, "puppetmaster"), n.enableInput(!1), 
                n.validPath(this.noot, i.path, 380, 290), n.hop(this.noot, 200, 0, 100), 
                n.hop(this.noot, 200, 0, 100), n.enableInput(!0), n.text(178, "noot"), 
                n.enableInput(!1), n.enableInput(!0), n.text(11, "puppetmaster"), 
                n.enableInput(!1), n.sound(21, "cloud");
                for (o = 500, r = 12, s = 0; s < r; s++) n.function(this.sandCloud.bind(this, e, i, 1100, 375, o)), 
                n.delay(200);
                n.function(function() {
                    a.enterTitan(e);
                }), n.delay(100), n.enableInput(!0), n.text(12, "puppetmaster"), 
                n.enableInput(!1), n.functionCallback(this.exitMaster.bind(this, e, i, 1480, -200)), 
                n.validPath(this.noot, i.path, 380, 320), n.enableInput(!0), n.text(179, "noot"), 
                n.text(180, "noot"), n.text(181, "noot"), n.text(182, "noot"), n.text(183, "noot");
            }
            n.function(this.end.bind(this, e, i, !0)), n.start();
        }, e.prototype.end = function(t) {
            t.prodigy.breadcrumbManager.completeBreadcrumb(h.Breadcrumbs.BREADCRUMB_TITAN_INTRO, h.Breadcrumbs.BREADCRUMB_TITAN_WATCHED_INTRO), 
            t.prodigy.world.teleport(this.titanMap);
        }, e.prototype.sandCloud = function(t, e, i, a, n) {
            for (var r = new Phaser.Circle(i, a, n), s = 0; s < 8; s++) {
                var l = r.circumferencePoint(o(1, 360), !0), h = t.prodigy.create.sprite(i + o(0, 30), a + o(0, 30), "atlas-140", "purple-cloud");
                e.foreground.add(h), h.anchor.setTo(.5, .5), t.add.tween(h).to({
                    x: l.x,
                    y: l.y
                }, 9e3, Phaser.Easing.Circular.Out, !0, 0, 0, !1);
                var c = o(1e3, 1500), p = 0 === o(0, 2) ? -1 : 1;
                t.add.tween(h).to({
                    angle: 360 * p
                }, c, Phaser.Easing.Linear.None, !0, 0, c, !1), t.add.tween(h).to({
                    alpha: 0
                }, 3e3, Phaser.Easing.Cubic.In, !0, 0, 0, !1).onComplete.add(function(t) {
                    t.destroy();
                }, this);
            }
        }, e.prototype.enterTitan = function(t) {
            t.add.tween(this.spineContainer).to({
                alpha: 1
            }, 200, Phaser.Easing.Linear.None, !0, 0, 0, !1);
        }, e.prototype.exitMaster = function(t, e, i, a, n) {
            t.add.tween(this.master).to({
                x: i,
                y: a
            }, 1e3, Phaser.Easing.Linear.None).start().onComplete.add(n);
        }, e.prototype.gotTitanCallback = function(t) {
            var e = l.Items.getItem("titan", t.assetID).data;
            this.titanMap = e.zone + "-Titan", this.game.broadcaster.removeAppListener(s.ETitanEvents.GotTitans, this, "Titan"), 
            this.titanSpine = this.game.add.spine(0, 0, "default-titan-" + t.assetID), 
            this.titanSpine.setAnimationByName(0, "idle", !0), this.spineContainer.add(this.titanSpine), 
            this.spineContainer.alpha = 0;
        }, e;
    }(i(39).Scene);
    e.TitanIntro = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(79), r = i(166), s = i(2), l = i(76), h = i(57), c = i(3), p = i(498), u = i(72), d = i(204), g = i(74), y = i(4), f = i(13), m = i(17), _ = i(226), v = i(0), E = function(t) {
        function e(e, i, a) {
            void 0 === a && (a = []);
            var n = t.call(this, e, i.zoneName, i.atlas, a.concat([ "bgm-3" ])) || this;
            return n.showMenu = !0, n.tileSize = 20, n.hideHex = !1, n.playersInfo = {}, 
            n.playerList = {}, n.clickAreas = [], n.walkEnabled = !0, n.saveTag = "", 
            n.startX = 500, n.startY = 300, n;
        }
        return n(e, t), e.prototype.onDebugAutoClick = function(t) {
            if (v.Util.isValid(t) && t.indexOf("map_") >= 0) {
                var e = t.split("_");
                this.listener(null, {
                    x: parseInt(e[1]),
                    y: parseInt(e[2])
                });
            }
        }, e.prototype.shutdown = function() {
            t.prototype.shutdown.call(this);
            try {
                for (var e in this.playerList) this.playerList.hasOwnProperty(e) && this.playerList[e].destroy();
                this.playerList = {}, this.user.destroy(), this.user = null;
            } catch (t) {}
        }, e.prototype.create = function(e) {
            this.walkEnabled = !0, this.clickAreas = [], this.saveTag = e, v.Util.isValid(this.saveTag) && this.game.prodigy.player.setZone(this.saveTag), 
            this.game.prodigy.player.saveEnabled = !0, this.path = new _.Pathfinder(this.area), 
            this.createBackground(), this.user = this.game.prodigy.create.player(this.content, this.game.prodigy.player, 1, this.startX, this.startY, !1, !1, !0), 
            this.user.enableLocomotion(this, this.user), this.user.reload(), this.user.showName(!0), 
            this.user.clickCallback = this.game.prodigy.open.card.bind(this.game.prodigy.open, this.game.prodigy.player), 
            this.game.prodigy.user = this.user, this.addFollow(this.game.prodigy.player.userID, this.game.prodigy.player.equipment.data.follow), 
            this.showMenu && (this.menuBar = new p.Menu(this.game, this.menus), 
            -1 === this.zoneName.indexOf("scene-") && (this.game.broadcaster.broadcast(c.ENetworkHandlerEvents.Setup, "NetworkHandlers", []), 
            this.game.broadcaster.broadcast(c.EMailerEvents.GetTotalMail, "ProdigyMailerButton", []), 
            this.game.broadcaster.broadcast(c.EFriendsListEvents.GetTotalFriendRequests, "FriendsList"))), 
            t.prototype.create.call(this), s.GameConstants.get("GameConstants.Build.DEBUG") && this.game.broadcaster.addAppListener(c.EDebugEvents.AutoClickScene, this.onDebugAutoClick.bind(this), this);
        }, e.prototype.createBackground = function() {
            this.bg = this.game.prodigy.create.sprite(0, 0, this.screenName, "bg"), 
            this.bg.inputEnabled = !0, this.bg.events.onInputDown.add(this.listener.bind(this), this), 
            this.background.add(this.bg);
        }, e.prototype.screenSetup = function() {
            v.Util.isValid(this.bgmID) && (this.game.prodigy.audio.playBGM(this.bgmID, !0), 
            this.game.prodigy.audio.resumeBGM()), this.game.prodigy.network.joinZone(this), 
            t.prototype.screenSetup.call(this);
        }, e.prototype.start = function() {
            this.user.evtProc = !1, t.prototype.start.call(this);
        }, e.prototype.processPopups = function(t) {
            if (s.GameConstants.get("GameConstants.Debug.POPUPS_ENABLED")) {
                var e = this.game.prodigy.achievements.process();
                if (d.ParentalLink.isSuccessRequired(this.game.prodigy.player)) return void this.game.prodigy.open.parentalLinkSuccessPrompt(t);
                if (this.game.prodigy.player.hasCompletedTutorial() && !this.game.prodigy.notifications.notificationSocialLogin) {
                    if (this.game.prodigy.notifications.notificationSocialLogin = !0, 
                    this.game.prodigy.open.socialFeed(t), !this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(m.Breadcrumbs.FEATURE_SOCIAL_FEED, m.Breadcrumbs.BREADCRUMB_SOCIAL_FEED_OPENED)) {
                        this.game.prodigy.breadcrumbManager.completeBreadcrumb(m.Breadcrumbs.FEATURE_SOCIAL_FEED, m.Breadcrumbs.BREADCRUMB_SOCIAL_FEED_OPENED);
                        this.game.prodigy.load.assets([ "voice-10-85" ], this.game.prodigy.audio.playVoice.bind(this.game.prodigy.audio, "voice-10-85", null, 18, 4));
                    }
                    return;
                }
                if (this.game.prodigy.player.hasCompletedTutorial() && !(this.game.prodigy.player.memberPrompt || !this.game.prodigy.player.hasMembership() && v.Util.isSchoolHours() || this.game.prodigy.player.hasMembership() && this.game.prodigy.player.backpack.hasItem("mount", 1) > 0) && (this.game.prodigy.player.locationSelectionType !== s.GameConstants.get("GameConstants.LocationSelection.SCHOOL") || this.game.prodigy.player.hasMembership() && 0 === this.game.prodigy.player.backpack.hasItem("mount", 1))) return void (this.game.prodigy.player.rewardMembershipPrizes(t) || this.game.prodigy.open.membershipInfo(t));
                if (d.ParentalLink.isInfoRequired(this.game.prodigy.player)) return void this.game.prodigy.open.parentalLinkInfoPrompt(u.ParentLinkBenefitsConfig.ANALYTICS_SOURCE_LOGIN, t);
                if (e.length > 0) for (var i = 0; i < e.length; i++) {
                    this.game.prodigy.player.achievements.complete(e[i].ID), this.game.prodigy.player.achievements.complete(e[i].ID);
                    var a = this.game.prodigy.notifications.initNotificationTemplate(h.NotificationType.ACHIEVEMENTS, [ e[i].data.name ], e[i].metadata);
                    this.game.prodigy.notifications.pushNotification({
                        id: h.NotificationType.ACHIEVEMENTS,
                        data: a
                    }), this.game.prodigy.notifications.playNextNotification(), 
                    this.game.prodigy.notifications.getSocialNotifications(3);
                } else {
                    if (this.game.prodigy.player.justLeveled && this.game.prodigy.player.getLevel() >= 10) return this.game.prodigy.player.justLeveled = !1, 
                    void this.game.prodigy.open.rating(t);
                    this.game.prodigy.player.hasCompletedTutorial() && (this.game.prodigy.notifications.playNextNotification(), 
                    this.game.prodigy.notifications.getSocialNotifications(3));
                }
            }
            v.Util.isValid(t) && t();
        }, e.prototype.onMessage = function(t) {
            v.Util.isValid(this.game) && ("challenge" === t.action && this.game.prodigy.mail.add(t), 
            "change" === t.action && this.updatePlayer(t.data), "move" === t.action && this.movePlayer(t.data), 
            "info" === t.action && this.onPlayerFullInfo(t.data), "chat" === t.action && this.chatPlayer(t.data), 
            "emit" === t.action && this.playerEffect(t.data), "transform" === t.action && this.transformPlayer(t.data), 
            "catapult" === t.action && this.game.broadcaster.broadcast(c.ETitanEvents.Catapult, "Catapult"));
        }, e.prototype.onPlayerFullInfo = function(t) {
            t.userID !== this.game.prodigy.player.userID && v.Util.isValid(t) && v.Util.isValid(this.content) && (this.playersInfo[t.userID] = t, 
            v.Util.isValid(this.playerList[t.userID]) ? this.updatePlayer(this.playersInfo[t.userID]) : this.addPlayer(this.playersInfo[t.userID]), 
            this.movePlayer(this.playersInfo[t.userID]));
        }, e.prototype.onPlayerList = function(t) {
            if (v.Util.isValid(this.game)) {
                for (var e = !1, i = 0; i < t.length; i++) t[i] !== this.game.prodigy.player.userID && (e = !0, 
                v.Util.isValid(this.playersInfo[t[i]]) && this.addPlayer(this.playersInfo[t[i]]));
                e && v.Util.isValid(this.user) && this.user.broadcastPlayerFullInfo();
            }
        }, e.prototype.onPlayerJoined = function(t) {
            v.Util.isValid(this.content) && t !== this.game.prodigy.player.userID && (v.Util.isValid(this.playersInfo[t]) && this.addPlayer(this.playersInfo[t]), 
            v.Util.isValid(this.user) && this.user.broadcastPlayerFullInfo(t));
        }, e.prototype.onPlayerLeft = function(t) {
            this.removePlayer(t);
        }, e.prototype.removePlayer = function(t) {
            v.Util.isValid(this.playerList[t]) && v.Util.isValid(this.content) && (this.removeFollow(t), 
            this.content.remove(this.playerList[t], !0), this.playerList[t].destroy(), 
            delete this.playerList[t]);
        }, e.prototype.canAddUsersToScreen = function() {
            return o(this.playerList) < s.GameConstants.getMaxPlayerLimit();
        }, e.prototype.addPlayer = function(t) {
            if (!v.Util.isValid(this.playerList[t.userID])) {
                var e = r(this.game.prodigy.friendsListNetworkHandler.friendsList.concat(this.game.prodigy.friendsListNetworkHandler.classList), "userID");
                if (this.canAddUsersToScreen() || -1 !== e.indexOf(t.userID)) {
                    var i = new f.Player(this.game, !0);
                    i.init(t);
                    var a = this.game.prodigy.create.player(this.content, i, 1, -100, -100);
                    a.enableLocomotion(this, a), v.Util.isValid(t.mount) && a.mount(t.mount.mountID), 
                    a.reload(), a.showName(!0), a.clickCallback = this.game.prodigy.open.card.bind(this.game.prodigy.open, i), 
                    this.playerList[t.userID] = a, this.addFollow(i.userID, i.equipment.data.follow), 
                    this.game.broadcaster.broadcast(c.EWalkableScreenEvents.PlayerAdded, this.game, [ a ]);
                } else v.Util.log("FPS is too low or player cap has been reached. Player will not be added.", v.Util.DEV);
            }
        }, e.prototype.updatePlayer = function(t) {
            if (v.Util.isValid(this.playerList) && v.Util.isValid(this.playerList[t.userID])) {
                var e = this.playerList[t.userID];
                e.source.appearance.setAppearance(t.appearance), e.source.equipment.setEquipment(t.equipment), 
                v.Util.isValid(t.data) && (e.source.data.allowsHouseVisitors = t.data.allowsHouseVisitors), 
                v.Util.isValid(t.mount) && (v.Util.isValid(t.mount.mountID) ? e.mount(t.mount.mountID) : e.unmount()), 
                e.showName(!0), e.clickCallback = this.game.prodigy.open.card.bind(this.game.prodigy.open, e.source), 
                v.Util.isValid(t.equipment) && this.addFollow(t.userID, t.equipment.follow), 
                e.reload(), this.game.broadcaster.broadcast(c.EWalkableScreenEvents.PlayerUpdate, this.game, [ e ]);
            }
        }, e.prototype.playerEffect = function(t) {
            v.Util.isValid(this.playerList) && v.Util.isValid(this.playerList[t.userID]) && this.playerList[t.userID].source.fx(t.type);
        }, e.prototype.movePlayer = function(t) {
            v.Util.isValid(this.playerList) && v.Util.isValid(this.playerList[t.userID]) && v.Util.isValid(t.target) && this.playerList[t.userID].setNewTarget(t.target.x, t.target.y);
        }, e.prototype.chatPlayer = function(t) {
            if (v.Util.isValid(this.playerList) && v.Util.isValid(this.playerList[t.userID])) {
                var e = this.playerList[t.userID];
                v.Util.isValid(t.emoteID) ? e.emote(t.emoteID) : v.Util.isValid(t.chatID) ? e.chatText(t.chatID) : v.Util.isValid(t.danceID) && e.dance(t.danceID, e.source.appearance.getGender());
            }
        }, e.prototype.transformPlayer = function(t) {
            v.Util.isValid(this.playerList) && v.Util.isValid(this.playerList[t.userID]) && (t.hasOwnProperty("transformID") ? this.playerList[t.userID].transformToItem(t.transformType, t.transformID, v.Util.isValid(t.showEffect) && t.showEffect) : this.playerList[t.userID].resetItemTransformation(v.Util.isValid(t.showEffect) && t.showEffect));
        }, e.prototype.removeFollow = function(t) {
            var e = t === this.game.prodigy.player.userID ? this.user : this.playerList[t];
            v.Util.isValid(e) && v.Util.isValid(e.follow) && (this.content.remove(e.follow, !0), 
            delete e.follow);
        }, e.prototype.addFollow = function(t, e) {
            var i = this;
            if (!v.Util.isValid(this.content)) return null;
            var a = t === this.game.prodigy.player.userID ? this.user : this.playerList[t];
            if (v.Util.isValid(a) && (this.removeFollow(t), v.Util.isValid(e))) {
                var n = y.Items.getItem("follow", e).metadata, o = -1, r = null;
                v.Util.isValid(n) && v.Util.isValid(n.petID) && (o = n.petID), a !== this.user && (r = function() {
                    g.ToyStore.openWebsite(i.game, "follow", !1, o);
                }), o >= 125 && t !== this.game.prodigy.player.userID && this.game.prodigy.network.sendToyEvent("toy-walk", 4, o);
                var s = this.game.prodigy.create.follow(this.content, e, 1, a, r);
                v.Util.isValid(s.reload) && s.reload(), a.follow = s;
            }
        }, e.prototype.screenUpdate = function() {
            t.prototype.screenUpdate.call(this), 0 === this.game.prodigy.open.menus.length && 0 === this.game.prodigy.open.renderMenus.length && null === this.game.prodigy.open.chatMenu && null === this.game.prodigy.notifications.notificationTimer && this.game.prodigy.notifications.startTimer(), 
            this.content.sort("y", Phaser.Group.SORT_ASCENDING), this.game.prodigy.player.appearanceChanged && (this.game.prodigy.player.appearanceChanged = !1, 
            this.user.reload(), this.user.showName(this.user.nameText.visible), 
            this.addFollow(this.game.prodigy.player.userID, this.hideHex ? null : this.game.prodigy.player.equipment.data.follow), 
            this.game.prodigy.network.emitMessage({
                action: "change",
                data: {
                    userID: this.game.prodigy.player.userID,
                    appearance: this.game.prodigy.player.appearance.data,
                    equipment: this.game.prodigy.player.equipment.data,
                    mount: this.game.prodigy.player.mount.getMountData()
                }
            }));
        }, e.prototype.listener = function(t, e) {
            if (this.walkEnabled) {
                for (var i = v.Util.isValid(e) ? e.x : Math.round(this.game.input.x), a = v.Util.isValid(e) ? e.y : Math.round(this.game.input.y), n = 0; n < this.clickAreas.length; n++) {
                    var o = this.clickAreas[n];
                    if (i >= o.x && i <= o.x + o.w && a >= o.y && a <= o.y + o.h) return void o.callback();
                }
                this.game.broadcaster.broadcast(c.EPlayerLocomotionEvents.MovePlayer, null, [ i, a ]) && this.addPathingIcon(i, a);
            }
        }, e.prototype.addPathingIcon = function(t, e) {
            var i = this.game.prodigy.create.sprite(t, e, "atlas-21", "star-small");
            i.scale.setTo(0, 0), i.anchor.setTo(.5, .5), this.content.add(i), this.game.add.tween(i).to({
                alpha: 0
            }, 600, Phaser.Easing.Cubic.In, !0), this.game.add.tween(i.scale).to({
                x: 1,
                y: 1
            }, 600, Phaser.Easing.Linear.None, !0).onComplete.add(function() {
                i.destroy();
            });
        }, e.prototype.createStoreNPC = function(t, e, i, a, n) {
            var o = this, r = this.game.prodigy.gameContainer.Localizer;
            return new l.QuestNPC(this.game, this.content, t, e, {
                atlasID: 76,
                name: r.getText("NPC_NAME_MERCHANT"),
                indicator: "store"
            }, function() {
                var t = o.game.prodigy.dialogue.create();
                t.setText({
                    text: r.getText("STORE_PROMPT_WELCOME", a),
                    face: 0,
                    yes: o.game.prodigy.open.store.bind(o.game.prodigy.open, i)
                }), t.start("merchant");
            }, n);
        }, e;
    }(i(51).Screen);
    e.WalkableScreen = E;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(2), s = i(183), l = i(1), h = i(517), c = i(516), p = i(515), u = i(115), d = i(514), g = i(513), y = i(512), f = i(511), m = i(510), _ = i(95), v = i(509), E = i(508), b = i(507), O = i(189), T = i(506), A = i(505), I = i(504), w = i(503), C = i(502), S = i(501), P = i(90), D = i(500), L = i(499), x = i(4), M = i(0), N = function(t) {
        function e(e) {
            return t.call(this, e, {}) || this;
        }
        return n(e, t), e.prototype.shutdown = function() {
            try {
                M.Util.isValid(this.previousZone) && this.previousZone.cleanup(), 
                M.Util.isValid(this.previousMapData) && this.previousMapData.cleanup();
            } catch (t) {
                M.Util.log("Error destroying TileScreen.", M.Util.ERROR);
            }
            r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this), 
            t.prototype.shutdown.call(this);
        }, e.prototype.initMap = function(t, e, i, a) {
            this.previousMapData = this.data, this.previousZone = this.zone, this.data = t, 
            this.zone = e, this.zoneName = t.zoneName, this.startX = M.Util.isValid(i) ? i : t.x, 
            this.startY = M.Util.isValid(a) ? a : t.y, this.isMapScreen = !0;
        }, e.prototype.initScene = function(t, e) {
            this.data = t, this.zone = e, this.zoneName = "scene-" + this.game.prodigy.player.userID, 
            this.isMapScreen = !1;
        }, e.prototype.create = function() {
            t.prototype.create.call(this, this.zoneName);
        }, e.prototype.screenSetup = function() {
            this.events = [], this.clickAreas = [];
            var e = this.game.prodigy.create.element(this.background, 0, 0), i = this.game.prodigy.create.element(this.foreground, 0, 0);
            this.user.evtProc = !0, this.zone.init(this.game, this, this.data);
            var a = this.game.prodigy.skin.init(this);
            M.Util.isValid(a) && M.Util.isValid(a.bgmID) && (this.zone.bgmID = a.bgmID), 
            this.area = this.data.init(this.game, e, i, this);
            var n = this.zone.setup(this.game, this, this.data);
            n && n.quit || (this.path.init(this.area, this.tileSize), this.data.setup(this.game, this, n), 
            this.isMapScreen && (this.questProgress = new D.QuestProgressEvent(this.game, this.menus, this.user)), 
            this.game.prodigy.textureBelow.clear(), this.game.prodigy.textureBelow.renderXY(e, 0, 0, !0), 
            this.below.add(new Phaser.Image(this.game, 0, 0, this.game.prodigy.textureBelow)), 
            this.game.prodigy.textureAbove.clear(), this.game.prodigy.textureAbove.renderXY(i, 0, 0, !0), 
            this.above.add(new Phaser.Image(this.game, 0, 0, this.game.prodigy.textureAbove)), 
            this.data.processAnimations(this.game, this), e.destroy(), i.destroy(), 
            this.data.processDynamicLayers(this.game, this), t.prototype.screenSetup.call(this));
        }, e.prototype.start = function(e, i) {
            if (void 0 === e && (e = !1), void 0 === i && (i = !1), e) {
                if (!i && this.isMapScreen) return t.prototype.start.call(this), 
                void this.processPopups(this.start.bind(this, !0, !0));
                this.user.evtProc = !1, this.zone.start(this.game, this, this.data), 
                this.data.start(this.game, this), this.process(), this.game.prodigy.skin.applySkin(this), 
                t.prototype.start.call(this);
            } else this.fadeIn();
        }, e.prototype.createBackground = function() {
            var t = this.background.add(this.game.prodigy.create.sprite(0, 0, null));
            t.width = 1280, t.height = 720, t.inputEnabled = !0, t.events.onInputDown.add(this.listener.bind(this), this), 
            this.below = this.game.prodigy.create.element(this.background, 0, 0), 
            this.above = this.game.prodigy.create.element(this.foreground, 0, 0), 
            this.floor = this.game.prodigy.create.element(this.background, 0, 0);
        }, e.prototype.screenUpdate = function() {
            t.prototype.screenUpdate.call(this), M.Util.isValid(this.data) && (M.Util.isValid(this.zone) && this.zone.update(this.game, this, this.data), 
            this.data.update(this.game));
        }, e.prototype.addEvent = function(t, e) {
            r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
                ID: "autoclick-mapEvent-" + e,
                context: this,
                callback: function() {
                    return {
                        x: t.x,
                        y: t.y
                    };
                }
            });
        }, e.prototype.addAreaEvent = function(t, i, a, n, o) {
            var s = new l.AreaEvent(this.game, this.floor, t, this.user, this.path, i, a, n, o);
            return this.events.push(s), this.addEvent(s, "areaEvent"), (n || r.GameConstants.get("GameConstants.Build.DEBUG") && e.DEBUG_DRAW_AREA_EVENTS) && this.above.add(s.getOverlay()), 
            s;
        }, e.prototype.addQuestNPC = function(t, e, i, a, n) {
            var o = new P.QuestEvent(this.game, this.content, t, e, i, a, this.process.bind(this), n);
            return o.setup(this.zone, i, a), this.events.push(o), this.addEvent(o, i), 
            o;
        }, e.prototype.addConstructedQuestNPC = function(t, e, i, a, n) {
            var o;
            switch (i) {
              case "benni":
                (o = new w.BenniEvent(this.game, this.content, t, e, i, a, this.process.bind(this), n)).setup(this.zone, i, a);
                break;

              case "flora":
                (o = new S.FloraEvent(this.game, this.content, t, e, i, a, this.process.bind(this), n)).setup(this.zone, i, a);
                break;

              case "eve":
                (o = new C.EveEvent(this.game, this.content, t, e, i, a, this.process.bind(this), n)).setup(this.zone, i, a);
            }
            return this.events.push(o), this.addEvent(o, i), o;
        }, e.prototype.addClickableEvent = function(t, e, i, a, n, o, r, s) {
            var l = new u.ClickableEvent(this.game, s || this.content, t, e, i, a, n, o, r);
            return this.events.push(l), this.addEvent(l, "clickable"), l;
        }, e.prototype.addClickableMoveEvent = function(t, e, i, a, n, o, r, s, l, h) {
            var c = this, p = {
                moveToX: n,
                moveToY: o,
                addPathingIconFunction: function(t, e) {
                    c.addPathingIcon(t, e);
                }
            }, u = new d.ClickableMoveEvent(this.game, h || this.content, t, e, i, a, p, r, s, l);
            return this.events.push(u), this.addEvent(u, "clickableMove"), u;
        }, e.prototype.addClickableArea = function(t, e, i, a, n) {
            var o = {
                x: t,
                y: e,
                w: i,
                h: a,
                callback: n
            };
            this.clickAreas.push(o), this.addEvent(o, "clickArea");
        }, e.prototype.addFireflyEvent = function(t, e, i, a, n, o, r) {
            var s = new y.FireflyEvent(this.game, this.foreground, t, e, i, a, n, o, r);
            return this.events.push(s), this.addEvent(s, "firefly"), s;
        }, e.prototype.addChest = function(t, e, i, a, n, o) {
            var r = new p.ChestEvent(this.game, this.content, e, i, this.user, this.path, t, a, n, this.process.bind(this), o);
            return this.events.push(r), this.addEvent(r, "chest"), r;
        }, e.prototype.addMimic = function(t, e, i, a, n, o) {
            var r = new m.MimicEvent(this.game, this.content, e, i, this.user, this.path, t, a, n, o);
            return this.events.push(r), this.addEvent(r, "mimic"), r;
        }, e.prototype.addCollect = function(t, e, i, a) {
            var n = new g.CollectEvent(this.game, this.content, e, i, this.user, this.path, t, a, this.processAddCollect.bind(this, t));
            return this.events.push(n), this.addEvent(n, "collect"), n;
        }, e.prototype.processAddCollect = function(t) {
            this.preprocess();
            for (var e = 0; e < this.events.length; e++) this.events[e].ID === t && this.events.splice(e, 1);
            this.process(!1);
        }, e.prototype.addMonster = function(t, e, i, a, n, r, s, l) {
            n.minLevel = this.zone.minLevel, n.maxLevel = this.zone.maxLevel, n.monsterData = this.game.prodigy.battle.chooseRandomMonster(n.encounter);
            var h = x.Items.getItem("pet", n.monsterData.ID), c = null;
            return c = "spine" === o(h, "metadata.assets.default.type", null) ? new v.MonsterSpineEvent(this.game, this.content, e, i, this.user, this.path, t, n, a, r, s, l, this) : new _.MonsterEvent(this.game, this.content, e, i, this.user, this.path, t, n, a, r, s, l, this), 
            this.events.push(c), this.addEvent(c, "monster"), c;
        }, e.prototype.addPippet = function(t, e, i) {
            var a = new s.Pippet(this.game, this.content, e, i, this.user, this.path, t);
            return this.events.push(a), this.addEvent(a, "pippet"), a;
        }, e.prototype.addBounty = function(t, e, i, a, n, o, r) {
            n.minLevel = this.zone.minLevel, n.maxLevel = this.zone.maxLevel;
            var s = new c.BountyEvent(this.game, this.content, e, i, this.user, this.path, t, n, a, o, r);
            return this.events.push(s), this.addEvent(s, "bounty"), s;
        }, e.prototype.addWizard = function(t, e, i, a) {
            var n = new L.WizardEvent(this.game, this.content, t, e, this.user, this.path, i, a, this);
            return this.events.push(n), this.addEvent(n, "wizard"), n;
        }, e.prototype.addNPC = function(t, e, i, a, n, o) {
            var r = new E.NPCEvent(this.game, o || this.content, t, e, i, a, n);
            return this.events.push(r), this.addEvent(r, i), r;
        }, e.prototype.addGnome = function(t, e, i, a, n, o) {
            var r = new f.GnomeEvent(this.game, this.content, this.user, this.path, t, e, i, a, n, o);
            return this.events.push(r), this.addEvent(r, i), r;
        }, e.prototype.addConstructedNPC = function(t, e, i, a, n, o) {
            var r;
            switch (i) {
              case "atlas-153":
                r = new A.JellyJimEvent(this.game, this.content, t, e, i, n);
                break;

              case "atlas-64":
                r = new b.BroccolinaEvent(this.game, this.content, t, e, i, a, n);
                break;

              case "atlas-68":
                r = new T.EugeneEvent(this.game, this.content, t, e, i, a, n);
                break;

              case "atlas-65":
                r = new O.CebolliniEvent(this.game, o || this.content, t, e, i, a, n);
                break;

              case "atlas-87":
                r = new I.WorkerSlimeEvent(this.game, this.content, t, e, i, a, n, -20, 0);
                break;

              case "npc-sprite-worker-slime-red":
                r = new I.WorkerSlimeEvent(this.game, this.content, t, e, i, a, n);
                break;

              default:
                M.Util.log("Add Constructed NPC failed: Tag not found", M.Util.ERROR);
            }
            return this.events.push(r), this.addEvent(r, i), r;
        }, e.prototype.addBlock = function(t, e, i) {
            var a = new h.BlockEvent(this.game, i.content ? this.content : this.background, t, e, this.path, i);
            return this.events.push(a), this.addEvent(a, "block"), a;
        }, e.prototype.preprocess = function() {
            var t = this.zone.getQuestState(), e = M.Util.isValid(t) ? this.zone.getQuest(t.ID) : null, i = M.Util.isValid(e) && this.zone.isQuestComplete(t.ID), a = M.Util.isValid(e) && this.zone.isQuestStarted(t.ID), n = [], o = [];
            a && (o = i && !e.chain && M.Util.isValid(this.zone.questHub) ? [ this.zone.questHub ] : this.zone.getRemainingQuestAreas(t.ID));
            for (var r = 0; r < o.length; r++) n.push({
                event: null,
                distance: 9999999
            });
            for (r = 0; r < this.events.length; r++) if (M.Util.isValid(this.events[r].process) && !this.events[r].isBlocked) if (a && this.events[r] instanceof l.AreaEvent && o.length > 0) for (var s = 0; s < o.length; s++) {
                var h = this.events[r].process(this.zone, this.data, o[s]);
                h < n[s].distance && M.Util.isValid(h) && (n[s].distance = h, n[s].event = this.events[r]);
            } else this.events[r].process(this.zone, this.data);
            n.sort(function(t, e) {
                return t.distance - e.distance;
            });
            var c = 9999999;
            for (r = 0; r < n.length && !(n[r].distance > c); r++) c = n[r].distance, 
            M.Util.isValid(n[r].event) && M.Util.isValid(n[r].event.setClosest) && n[r].distance > 1 && n[r].event.setClosest();
        }, e.prototype.process = function(t) {
            void 0 === t && (t = !1), t || this.preprocess();
            var e = this.data.zoneName, i = M.Util.isValid(this.data.zoneName) && e.indexOf("house") > -1 && -1 === e.indexOf("exit") && (e.indexOf(this.game.prodigy.player.userID.toString()) > -1 || e.indexOf("undefined") > -1);
            this.menuBar.open(0, i), this.isMapScreen && this.questProgress.process(this.zone, this.data), 
            this.zone.process(this.game, this, this.data), this.data.process(this.game, this, this.zone);
        }, e.prototype.showCollisions = function(t) {
            if (M.Util.isValid(this.menus) && (this.menus.removeAll(!0), t)) {
                for (var e = new Phaser.Group(this.game), i = 0; i < 64; i++) for (var a = 0; a < 36; a++) if (!this.path.isNodeOpen(i, a)) {
                    var n = e.add(this.game.prodigy.create.sprite(20 * i, 20 * a, "atlas-18", "overlay-light"));
                    n.width = 20, n.height = 20, n.alpha = .2, n.tint = 12255232;
                }
                this.game.prodigy.textureMenu.clear(), this.game.prodigy.textureMenu.renderXY(e, 0, 0, !0), 
                this.menus.add(new Phaser.Image(this.game, 0, 0, this.game.prodigy.textureMenu)), 
                e.destroy();
            }
        }, e.DEBUG_DRAW_AREA_EVENTS = !1, e;
    }(i(176).WalkableScreen);
    e.TileScreen = N;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__assign || Object.assign || function(t) {
        for (var e, i = 1, a = arguments.length; i < a; i++) for (var n in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        return t;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(225), o = i(8), r = i(75), s = i(520), l = i(149), h = i(131), c = i(78), p = i(228), u = i(229), d = i(2), g = i(41), y = i(14), f = i(202), m = i(119), _ = i(96), v = i(3), E = i(250), b = i(138), O = i(206), T = i(56), A = i(72), I = i(120), w = i(121), C = i(177), S = i(187), P = i(4), D = i(38), L = i(15), x = i(13), M = i(62), N = i(181), U = i(17), k = i(482), R = i(29), B = i(0), G = function() {
        function t() {
            this.game = null, this.attackDamageCache = {}, this.bountyOverrides = {}, 
            this.fakePlayers = {}, this.addPlayerTimer = null, this.updatePlayerTimer = null, 
            this.hatSwitchEvent = null, this.generatedRandomPlayers = [], this.stressTests = {
                playerContainers: [],
                emitters: []
            };
        }
        return t.prototype.setup = function(t) {
            var e = this;
            if (this.game = t, window.setLogLevel = d.GameConstants.setLogLevel.bind(d.GameConstants), 
            window.enableDebug = function(i, a) {
                void 0 === a && (a = !1);
                var n = CryptoJS.MD5(i), o = t.prodigy.gameAPIData.getValue("debugPassword");
                null !== o && n.toString(CryptoJS.enc.Base64) === o && (d.GameConstants.enableGameConstant("GameConstants.Build.DEBUG", !0), 
                d.GameConstants.enableGameConstant("GameConstants.Build.SHOW_FPS", a), 
                e.enableDebugCalls(t));
            }, d.GameConstants.get("GameConstants.Build.DEBUG")) {
                this.enableDebugCalls(t);
                var i = d.GameConstants.get("GameConstants.Debug.AUTO_LOGIN");
                if (i.length > 0) {
                    var a = t.state.states.Login;
                    a.username = i[0], a.password = i[1], a.login(), t.state.onStateChange.add(this.callApplyDebug.bind(this, t), this);
                } else this.applyDebugOptions(t);
            }
        }, t.prototype.callApplyDebug = function(t, e) {
            "CharSelect" !== e && "CharCreate" !== e || (t.time.events.add(500, this.applyDebugOptions, this), 
            t.state.onStateChange.removeAll(this));
        }, t.prototype.applyDebugOptions = function(t) {
            d.GameConstants.get("GameConstants.Build.MUTE_BGM") && this.mute(), 
            d.GameConstants.get("GameConstants.Build.KILL_GORE") && this.killGore(), 
            d.GameConstants.get("GameConstants.Build.EASY_MODE") && this.easyMode(), 
            d.GameConstants.get("GameConstants.Debug.COMPLETE_TUTORIAL") && this.completeTutorial();
            var e = d.GameConstants.get("GameConstants.Build.TELEPORT");
            "" !== e && this.tp(e);
            var i = d.GameConstants.get("GameConstants.Build.QUEST");
            i.length > 1 && (this.setQuest(i[0], i[1]), 3 === i.length && setTimeout(this.tp.bind(this), 6e3, i[2]));
            var a = d.GameConstants.get("GameConstants.Build.ITEM_TYPE");
            a.length > 0 && this.getItemType(a[0], a[1], a.length > 2 ? a[2] : 1), 
            d.GameConstants.get("GameConstants.Build.MEMBERSHIP") && this.setMembership();
            var n = d.GameConstants.get("GameConstants.Debug.GET_PET");
            if (n.length > 0 && (this.getPet(n[0], n[1], n[2], n[3]), n[4] && (t.prodigy.player.kennel.setTeam(t.prodigy.player.kennel.data[0], 0), 
            t.prodigy.player.kennel.setTeam(t.prodigy.player.data, 1))), d.GameConstants.get("GameConstants.Debug.SET_LEVEL") > 0) {
                var o = D.Creature.starsToLevel(d.GameConstants.get("GameConstants.Debug.SET_LEVEL"));
                this.addStars(o - 10);
            }
            d.GameConstants.get("GameConstants.Debug.GET_GOLD") > 0 && this.getGold(d.GameConstants.get("GameConstants.Debug.GET_GOLD")), 
            d.GameConstants.get("GameConstants.Debug.GET_SPELL") > 0 && this.getSpell(d.GameConstants.get("GameConstants.Debug.GET_SPELL"));
        }, t.prototype.enableDebugCalls = function(t) {
            d.GameConstants.get("GameConstants.Build.DEBUG") && (window.enableGameConstant = d.GameConstants.enableGameConstant.bind(d.GameConstants), 
            window.enableAutosave = d.GameConstants.enableGameConstant.bind(d.GameConstants, "GameConstants.Debug.AUTOSAVE_ENABLED"), 
            window.enablePopups = d.GameConstants.enableGameConstant.bind(d.GameConstants, "GameConstants.Debug.POPUPS_ENABLED"), 
            window.enablePlayerCards = d.GameConstants.enableGameConstant.bind(d.GameConstants, "GameConstants.Debug.PLAYER_CARDS_ENABLED"), 
            window.enableWarpMode = d.GameConstants.enableGameConstant.bind(d.GameConstants, "GameConstants.Debug.WARP_MODE_ENABLED"), 
            window.enableMonsters = d.GameConstants.enableGameConstant.bind(d.GameConstants, "GameConstants.Debug.MONSTERS_ENABLED"), 
            window.enableWizards = d.GameConstants.enableGameConstant.bind(d.GameConstants, "GameConstants.Debug.WIZARDS_ENABLED"), 
            window.enableGodMode = d.GameConstants.enableGameConstant.bind(d.GameConstants, "GameConstants.Debug.GOD_MODE_ENABLED"), 
            window.enableEducation = d.GameConstants.enableGameConstant.bind(d.GameConstants, "GameConstants.Debug.EDUCATION_ENABLED"), 
            window.enableAutoResolveBattles = d.GameConstants.enableGameConstant.bind(d.GameConstants, "GameConstants.Debug.AUTO_RESOLVE_BATTLES_ENABLED"), 
            window.enableAutoResolveTowerBattles = d.GameConstants.enableGameConstant.bind(d.GameConstants, "GameConstants.Debug.AUTO_RESOLVE_TOWER_BATTLES_ENABLED"), 
            window.scaleEncounterDistance = d.GameConstants.scaleEncounterDistance.bind(d.GameConstants), 
            window.getKeyItems = this.getKeyItems.bind(this), window.playScene = this.playScene.bind(this), 
            window.setQuest = this.setQuest.bind(this), window.debugMap = this.debugMap.bind(this), 
            window.setState = this.setState.bind(this), window.initQuest = this.initQuest.bind(this), 
            window.completeQuestRequirements = this.completeQuestRequirements.bind(this), 
            window.deleteState = this.deleteState.bind(this), window.setEmail = this.setParentEmail.bind(this), 
            window.addStars = this.addStars.bind(this), window.tpTowerFloor = this.tpTowerFloor.bind(this), 
            window.tp = this.tp.bind(this), window.inspect = this.inspect.bind(this), 
            window.showLayer = this.showLayer.bind(this), window.showCollisions = this.showCollisions.bind(this), 
            window.answer = this.answer.bind(this), window.drDino = this.drDino.bind(this), 
            window.grabBag = this.grabBag.bind(this), window.getItem = this.getItem.bind(this), 
            window.getItemType = this.getItemType.bind(this), window.getCurrency = this.getCurrency.bind(this), 
            window.getPet = this.getPet.bind(this), window.getAllPets = this.getAllPets.bind(this), 
            window.getBounty = this.getBounty.bind(this), window.getSpell = this.getSpell.bind(this), 
            window.removeSpell = this.removeSpell.bind(this), window.getGold = this.getGold.bind(this), 
            window.bookWorm = this.bookWorm.bind(this), window.smallLoan = this.smallLoan.bind(this), 
            window.setAchievementData = this.setAchievementData.bind(this), window.mute = this.mute.bind(this), 
            window.testVoice = this.testVoice.bind(this), window.testEventDaily = this.testEventDaily.bind(this), 
            window.changeDailyBonusDay = this.changeDailyBonusDay.bind(this), window.setDailyBonusDay = this.setDailyBonusDay.bind(this), 
            window.changeEventDay = this.changeEventDay.bind(this), window.resetBreadcrumbFeature = this.resetBreadcrumbFeature.bind(this), 
            window.resetAllBreadcrumbs = this.resetAllBreadcrumbs.bind(this), window.resetHouseVisitingBreadcrumbs = this.resetHouseVisitingBreadcrumbs.bind(this), 
            window.resetHouseMovingBreadcrumbs = this.resetHouseMovingBreadcrumbs.bind(this), 
            window.resetDabBreadcrumbs = this.resetDabBreadcrumbs.bind(this), window.currentBGM = this.currentBGM.bind(this), 
            window.setRoulette = this.setRoulette.bind(this), window.addFriend = this.addFriend.bind(this), 
            window.removeFriend = this.removeFriend.bind(this), window.getFriendsList = this.getFriendsList.bind(this), 
            window.triggerFailure = this.triggerFailure.bind(this), window.getDefaultFakeFriendData = this.getDefaultFakeFriendData.bind(this), 
            window.addFakeFriend = this.addFakeFriend.bind(this), window.removeFakeFriend = this.removeFakeFriend.bind(this), 
            window.removeAllFakeFriends = this.removeAllFakeFriends.bind(this), 
            window.getAllPotions = this.getAllPotions.bind(this), window.resetSurvey = this.resetSurvey.bind(this), 
            window.forceDrops = this.forceDrops.bind(this), window.getAllZoneDrops = this.getAllZoneDrops.bind(this), 
            window.startPippetBattle = this.startPippetBattle.bind(this), window.setAttackOverride = this.setAttackOverride.bind(this), 
            window.setEscapeChance = this.setEscapeChance.bind(this), window.setLevel = this.setLevel.bind(this), 
            window.skipBonusChance = this.skipBonusChance.bind(this), window.getCubes = this.getCubes.bind(this), 
            window.openCubes = this.openCubes.bind(this), window.startBattle = this.startBattle.bind(this), 
            window.automateHatSwitching = this.automateHatSwitching.bind(this), 
            window.player = this.player.bind(this), window.setMembership = this.setMembership.bind(this), 
            window.skipMembershipWebsite = this.skipMembershipWebsite.bind(this), 
            window.killGore = this.killGore.bind(this), window.greedIsGood = this.greedIsGood.bind(this), 
            window.greedIsOkay = this.greedIsOkay.bind(this), window.setAttackBaseDamage = this.setAttackBaseDamage.bind(this), 
            window.easyMode = this.easyMode.bind(this), window.hardMode = this.hardMode.bind(this), 
            window.getEpic = this.getEpic.bind(this), window.savePlayer = this.savePlayer.bind(this), 
            window.loadPlayer = this.loadPlayer.bind(this), window.autoClick = this.autoClick.bind(this), 
            window.autoClickUI = this.autoClickUI.bind(this), window.autoClickScene = this.autoClickScene.bind(this), 
            window.autoClickList = this.autoClickList.bind(this), window.completeTutorial = this.completeTutorial.bind(this), 
            window.getGame = this.getGame.bind(this), window.setEpicArena = this.setEpicArena.bind(this), 
            window.trigger = this.trigger.bind(this), window.setNextEpicArenaRound = this.setNextEpicArenaRound.bind(this), 
            window.showAreaEvents = this.showAreaEvents.bind(this), window.showBounties = this.showAllBounties.bind(this), 
            window.setClientVersion = this.setClientVersion.bind(this), window.testRandom = this.testRandom.bind(this), 
            window.setSplitTestLane = this.setSplitTestLane.bind(this), window.enableVerboseMetrics = this.enableVerboseMetrics.bind(this), 
            window.changeDayLength = this.changeDayLength.bind(this), window.forceActivityZoneMonsterId = this.forceActivityZoneMonsterId.bind(this), 
            window.enableDynamicLayer = this.enableDynamicLayer.bind(this), window.drawUIElementBounds = this.drawUIElementBounds.bind(this), 
            window.openUIViewer = this.openUIViewer.bind(this), window.setGameSpeed = this.setGameSpeed.bind(this), 
            window.setFeedLimit = this.setFeedLimit.bind(this), window.showDebugValue = this.showDebugValue.bind(this), 
            window.hideDebugValue = this.hideDebugValue.bind(this), window.enableDebugLocalization = this.enableDebugLocalization.bind(this), 
            window.enableVerboseLocalization = this.enableVerboseLocalization.bind(this), 
            window.stressTestParticles = this.stressTestParticles.bind(this), window.stressTestPlayerContainers = this.stressTestPlayerContainers.bind(this), 
            window.snow = this.snow.bind(this), window.enableParticles = this.enableParticles.bind(this), 
            window.spawnBuddyParticle = this.spawnBuddyParticle.bind(this), window.getCurrentDailyLocation = this.getCurrentDailyLocation.bind(this), 
            window.unlockColiseumOpponent = this.unlockColiseumOpponent.bind(this), 
            window.lockColiseumOpponent = this.lockColiseumOpponent.bind(this), 
            window.setMyArenaLeaderboardScore = this.setMyArenaLeaderboardScore.bind(this), 
            window.setClassLeaderboardScore = this.setClassLeaderboardScore.bind(this), 
            window.resetPrizeWheelSpins = this.resetPrizeWheelSpins.bind(this), 
            window.setCustomBounty = this.setCustomBounty.bind(this), window.clearCustomBounty = this.clearCustomBounty.bind(this), 
            window.openMenu = this.openMenu.bind(this), window.closeMenus = this.closeMenus.bind(this), 
            window.resetRegisterDate = this.resetRegisterDate.bind(this), window.setCritChance = this.setCritChance.bind(this), 
            window.setNFactor = this.setNFactor.bind(this), window.transform = this.transform.bind(this), 
            window.timerMenu = this.timerMenu.bind(this), window.generateRandomPlayers = this.generateRandomPlayers.bind(this), 
            window.transformGeneratedPlayers = this.transformGeneratedPlayers.bind(this), 
            window.completeMatchmakingBattle = this.completeMatchmakingBattle.bind(this), 
            window.startPointsTicker = this.startPointsTicker.bind(this), window.resetUserRank = this.resetUserRank.bind(this), 
            window.setUserRank = this.setUserRank.bind(this), window.showInactivityDialog = this.showInactivityDialog.bind(this), 
            window.setBootOutTimersInSeconds = this.setBootOutTimersInSeconds.bind(this), 
            window.parade = this.parade.bind(this), window.escapeBattle = this.escapeBattle.bind(this), 
            window.resetMembershipReward = this.resetMembershipReward.bind(this), 
            window.getSplitTestLane = this.getSplitTestLane.bind(this), window.getSplitTestGroup = this.getSplitTestGroup.bind(this), 
            window.setUnlimitedWheelSpins = this.setUnlimitedWheelSpins.bind(this), 
            window.setWheelSpinDuration = this.setWheelSpinDuration.bind(this), 
            window.maintainAspectRatio = this.maintainAspectRatio.bind(this), window.enableSkynet = this.enableSkynet.bind(this), 
            window.disableSkynet = this.disableSkynet.bind(this), window.logChatPhrases = this.logChatPhrases.bind(this), 
            window.setCharacterCreationDate = this.setCharacterCreationDate.bind(this), 
            window.setClassMode = this.setClassMode.bind(this, t), window.clearStoreCache = this.clearStoreCache.bind(this), 
            window.setStoreExpireTime = this.setStoreCacheExpirationTime.bind(this), 
            window.setMemberStarsTimeout = this.setMemberStarsTimeout.bind(this), 
            window.getMemberStarsTimeout = this.getMemberStarsTimeout.bind(this), 
            window.createNotification = this.createNotification.bind(this), window.editUiJson = this.editUiJson.bind(this), 
            window.setMonsterRadiusVisible = this.setMonsterRadiusVisible.bind(this), 
            window.restartTutorial = this.restartTutorial.bind(this), window.startSessionCamRecording = this.startSessionCamRecording.bind(this, t), 
            window.stopSessionCamRecording = this.stopSessionCamRecording.bind(this, t));
        }, t.prototype.playScene = function(t, e) {
            this.game.prodigy.world.playScene(t + "-" + e);
        }, t.prototype.setQuest = function(t, e, i, a) {
            this.game.prodigy.world.getZone(t).testQuest(e, i, a);
            try {
                this.game.state.states.TileScreen.process();
            } catch (t) {}
        }, t.prototype.debugMap = function(t, e) {
            d.GameConstants.enableGameConstant("GameConstants.Debug.PLAYER_CARDS_ENABLED", !e), 
            d.GameConstants.enableGameConstant("GameConstants.Debug.POPUPS_ENABLED", !e), 
            d.GameConstants.enableGameConstant("GameConstants.Debug.WIZARDS_ENABLED", !e), 
            d.GameConstants.enableGameConstant("GameConstants.Debug.MONSTERS_ENABLED", !e), 
            this.tp(t);
        }, t.prototype.setState = function(t, e, i) {
            this.game.prodigy.world.getZone(t).setState(e, i);
        }, t.prototype.deleteState = function(t) {
            delete this.game.prodigy.player.state.data.zone[t];
        }, t.prototype.initQuest = function() {
            var t, e = this, i = [], a = function(t) {
                var i = e.game.prodigy.player.state.data.zone[t], a = 0;
                return B.Util.isValid(i) && B.Util.isValid(i.quest) && (a = i.quest.ID), 
                a;
            };
            (t = a("lamplight")) > 1 && i.push({
                ID: 13,
                type: "key"
            }), (t = a("forest")) > 4 && i.push({
                type: "spell",
                ID: 13
            }, {
                type: "item",
                ID: 67
            }), t > 8 && i.push({
                type: "spell",
                ID: 14
            }, {
                type: "item",
                ID: 69
            }), t > 10 && this.game.prodigy.player.backpack.consume("item", 69, 1), 
            t > 13 && i.push({
                type: "spell",
                ID: 15
            }, {
                type: "key",
                ID: 3
            }), (t = a("shiverchill")) > 2 && i.push({
                type: "item",
                ID: 71
            }), t > 3 && (this.setState("shiverchill", "furnace", 1), i.push({
                type: "spell",
                ID: 19
            })), t > 4 && i.push({
                type: "item",
                ID: 75
            }), t > 5 && i.push({
                type: "item",
                ID: 72
            }), t > 6 && i.push({
                type: "hat",
                ID: 54
            }), t > 10 && (this.setState("shiverchill", "furnace", 2), i.push({
                type: "spell",
                ID: 20
            })), t > 12 && i.push({
                type: "outfit",
                ID: 47
            }, {
                type: "item",
                ID: 74,
                N: 5
            }), t > 14 && (this.setState("shiverchill", "furnace", 3), i.push({
                type: "spell",
                ID: 21
            })), t > 15 && i.push({
                type: "weapon",
                ID: 74
            }, {
                type: "key",
                ID: 4
            }), (t = a("skywatch")) > 2 && (this.setState("skywatch", "windowBroken", 1), 
            i.push({
                type: "item",
                ID: 87,
                N: 1
            })), t > 3 && i.push({
                type: "key",
                ID: 8
            }), t > 4 && (this.setState("skywatch", "vines-D1", 1), this.setState("skywatch", "vines-D2", 1), 
            this.setState("skywatch", "plug-D3", 1), this.setState("skywatch", "vines-D3", 1), 
            this.setState("skywatch", "plug-B3", 1), this.setState("skywatch", "vines-B3", 1), 
            this.setState("skywatch", "plug-C4", 1), this.setState("skywatch", "vines-C4", 1), 
            i.push({
                type: "spell",
                ID: 25
            })), t > 6 && i.push({
                type: "item",
                ID: 81
            }), t > 7 && (i.push({
                type: "key",
                ID: 9
            }), this.game.prodigy.player.backpack.consume("item", 87, 1)), t > 8 && i.push({
                type: "outfit",
                ID: 5
            }), t > 10 && i.push({
                type: "spell",
                ID: 26
            }), t > 11 && i.push({
                type: "hat",
                ID: 8
            }), t > 12 && i.push({
                type: "item",
                ID: 83
            }), t > 13 && i.push({
                type: "spell",
                ID: 27
            }, {
                type: "key",
                ID: 10
            }), (t = a("bonfire_spire")) > 1 && this.setState("bonfire_spire", "lever1", 1), 
            t > 2 && this.setState("bonfire_spire", "lever2", 1), t > 3 && (this.setState("bonfire_spire", "lever3", 1), 
            i.push({
                type: "hat",
                ID: 65
            })), t > 4 && i.push({
                type: "spell",
                ID: 1
            }, {
                type: "item",
                ID: 88
            }), t > 5 && i.push({
                type: "spell",
                ID: 1
            }), t > 7 && i.push({
                type: "outfit",
                ID: 56
            }), t > 9 && i.push({
                type: "item",
                ID: 91,
                N: 1
            }), t > 10 && this.game.prodigy.player.backpack.consume("item", 91, 1), 
            t > 11 && i.push({
                type: "spell",
                ID: 2
            }, {
                type: "item",
                ID: 92
            }), t > 12 && (i.push({
                type: "key",
                ID: 12
            }), this.game.prodigy.player.backpack.consume("item", 92, 1)), t > 13 && i.push({
                type: "weapon",
                ID: 81
            }), t > 14 && i.push({
                type: "spell",
                ID: 3
            }, {
                type: "key",
                ID: 11
            }), (t = a("shipwreck_shore")) > -1 && (this.setState("shipwreck_shore", "wizardC8", 0), 
            this.setState("shipwreck_shore", "wizardA5", 0), this.setState("shipwreck_shore", "chestA3", 0), 
            this.setState("shipwreck_shore", "chestA5", 0), this.setState("shipwreck_shore", "chestB5", 0), 
            this.setState("shipwreck_shore", "chestB13", 0), this.setState("shipwreck_shore", "chestB10", 0), 
            this.setState("shipwreck_shore", "chestBreathingBubble", 0), this.setState("shipwreck_shore", "mimic1", 0), 
            this.setState("shipwreck_shore", "mimic2", 0), this.setState("shipwreck_shore", "inkA7", 0), 
            this.setState("shipwreck_shore", "inkB6", 0), this.setState("shipwreck_shore", "inkB5", 0), 
            this.setState("shipwreck_shore", "inkA5", 0), this.setState("shipwreck_shore", "inkC9", 0), 
            this.setState("shipwreck_shore", "inkB7", 0), this.setState("shipwreck_shore", "squeak", 0)), 
            t > 1 && i.push({
                type: "key",
                ID: 14
            }), t > 3 && i.push({
                type: "spell",
                ID: 7
            }), t > 4 && i.push({
                type: "key",
                ID: 15
            }), t > 5 && (this.setState("shipwreck_shore", "inkA7", 1), this.setState("shipwreck_shore", "inkB6", 1), 
            this.setState("shipwreck_shore", "inkB5", 1), this.setState("shipwreck_shore", "inkA5", 1)), 
            t > 6 && i.push({
                type: "spell",
                ID: 8
            }), t > 12 && i.push({
                type: "spell",
                ID: 9
            }, {
                type: "key",
                ID: 17
            });
            var n = B.Util.filterDuplicateKeys(this.game, i);
            n.length > 0 && this.game.prodigy.open.gotItem(n, null);
        }, t.prototype.completeQuestRequirements = function(t) {
            var e = this.game.prodigy.world.zones[t], i = e.getCurrentQuest(), a = 0;
            if (B.Util.isValid(i)) {
                var n = i.req;
                if ("item" === n.type) this.game.prodigy.player.backpack.add(n.type, n.ID, !1, B.Util.isValid(n.N) ? n.N : 1); else if ("key" === n.type) this.game.prodigy.player.backpack.add(n.type, n.ID, !1, B.Util.isValid(n.N) ? n.N : 1); else if ("pet" === n.type) for (a = 0; a < n.N; a++) e.defeatMonster(n.ID, a, n.U); else if ("seq" === n.type) for (a = 0; a < n.N; a++) e.completeSequence(i.ID, a);
            }
        }, t.prototype.setParentEmail = function(t) {
            this.game.prodigy.player.setParentEmail(t);
        }, t.prototype.addStars = function(t) {
            this.game.prodigy.player.addStars(t, null, null, !0);
        }, t.prototype.setMembership = function() {
            this.game.prodigy.player.setMembership();
        }, t.prototype.skipMembershipWebsite = function(t, e) {
            void 0 === t && (t = !0), void 0 === e && (e = !0), d.GameConstants.enableGameConstant("GameConstants.Debug.SKIP_MEMBERSHIP_WEBSITE", t), 
            d.GameConstants.enableGameConstant("GameConstants.Debug.GIVES_MEMBERSHIP_AFTER_SKIP_WEBSITE", e), 
            B.Util.log("Skip the membership website: " + t), B.Util.log("Give membership after skipping website: " + e);
        }, t.prototype.tpTowerFloor = function(t) {
            var e = t < 100 ? "A2" : "A3";
            this.game.prodigy.world.zones.darktower.maps[e].floor = t, this.game.prodigy.world.zones.darktower.maps[e].updateZoneNameFromCurrentFloor(), 
            this.game.prodigy.world.zones.darktower.maps[e].cleared = !1, this.game.prodigy.world.teleport("darktower-" + e, 260, 550);
        }, t.prototype.tp = function(t, e, i, a) {
            this.game.prodigy.world.teleport(t, e, i, null, {
                callback: a
            });
        }, t.prototype.easyMode = function(t) {
            t && d.GameConstants.enableGameConstant("GameConstants.Debug.AUTO_ANSWER_CORRECTLY", !0), 
            d.GameConstants.enableGameConstant("GameConstants.Debug.EDUCATION_ENABLED", !t);
        }, t.prototype.hardMode = function(t) {
            t && d.GameConstants.enableGameConstant("GameConstants.Debug.AUTO_ANSWER_CORRECTLY", !1), 
            d.GameConstants.enableGameConstant("GameConstants.Debug.EDUCATION_ENABLED", !t);
        }, t.prototype.inspect = function(t) {
            B.Util.isValid(t) && "" !== t ? B.Util.log(this.game.prodigy.player[t].data) : B.Util.log(this.game.prodigy.player.data);
        }, t.prototype.showLayer = function(t, e) {
            this.game.state.states.TileScreen[t].visible = e;
        }, t.prototype.showCollisions = function(t) {
            d.GameConstants.enableGameConstant("GameConstants.Debug.SHOW_COLLISIONS", t), 
            this.game.state.states.TileScreen.showCollisions(t);
        }, t.prototype.answer = function() {
            this.game.prodigy.education.question();
        }, t.prototype.killGore = function(t, e) {
            void 0 === t && (t = !0), void 0 === e && (e = 31);
            var i = 0;
            if (t) i = 200; else {
                if (!B.Util.isValid(this.attackDamageCache[e])) return;
                i = this.attackDamageCache[e];
            }
            this.setAttackBaseDamage(e, i);
        }, t.prototype.setAttackBaseDamage = function(t, e) {
            var i = P.Items.getItem("spell", t).data;
            B.Util.isValid(this.attackDamageCache[t]) || (this.attackDamageCache[t] = i.damage), 
            i.damage = e;
        }, t.prototype.player = function() {
            return this.game.prodigy.player;
        }, t.prototype.drDino = function() {
            for (var t = 13; t < 25; t++) this.game.prodigy.player.backpack.add("fossil", t);
        }, t.prototype.grabBag = function() {
            for (var t = 1; t < 29 * Math.random(); t++) this.game.prodigy.player.backpack.add("boots", Math.floor(28 * Math.random() + 1));
            for (t = 1; t < 55 * Math.random(); t++) this.game.prodigy.player.backpack.add("outfit", Math.floor(54 * Math.random() + 1));
            for (t = 1; t < 80 * Math.random(); t++) this.game.prodigy.player.backpack.add("weapon", Math.floor(79 * Math.random() + 1));
            for (t = 1; t < 64 * Math.random(); t++) this.game.prodigy.player.backpack.add("hat", Math.floor(63 * Math.random() + 1));
            for (t = 1; t < 78 * Math.random(); t++) this.game.prodigy.player.backpack.add("item", Math.floor(77 * Math.random() + 1));
            for (t = 1; t < 21 * Math.random(); t++) this.game.prodigy.player.backpack.add("relic", Math.floor(20 * Math.random() + 1));
            for (t = 1; t < 72 * Math.random(); t++) this.game.prodigy.player.backpack.add("dorm", Math.floor(71 * Math.random() + 1));
            for (t = 1; t < 25 * Math.random(); t++) this.game.prodigy.player.backpack.add("fossil", Math.floor(24 * Math.random() + 1));
        }, t.prototype.getItemType = function(t, e, i) {
            void 0 === i && (i = 1);
            var a = [ {
                type: t,
                ID: e,
                N: i
            } ];
            this.game.prodigy.open.gotItem(a);
        }, t.prototype.getCurrency = function(t, e) {
            var i = [];
            i.push({
                type: "currency",
                ID: t,
                N: e
            }), this.game.prodigy.open.gotItem(i);
        }, t.prototype.getKeyItems = function() {
            this.game.prodigy.player.backpack.add("key", 1), this.game.prodigy.player.backpack.add("key", 2), 
            this.game.prodigy.player.backpack.add("key", 3), this.game.prodigy.player.backpack.add("key", 4), 
            this.game.prodigy.player.backpack.add("key", 8), this.game.prodigy.player.backpack.add("key", 9), 
            this.game.prodigy.player.backpack.add("key", 10), this.game.prodigy.player.backpack.add("key", 11), 
            this.game.prodigy.player.backpack.add("key", 12), this.game.prodigy.player.backpack.add("key", 13);
        }, t.prototype.getItem = function() {
            var t = [], e = [ {
                type: "hat",
                ID: 63
            }, {
                type: "outfit",
                ID: 54
            }, {
                type: "weapon",
                ID: 79
            }, {
                type: "boots",
                ID: 28
            }, {
                type: "relic",
                ID: 10
            } ], i = Math.floor(5 * Math.random()), a = e[i].type, n = Math.floor(2 * Math.random());
            Math.floor(2 * Math.random()) > 0 && t.push({
                type: a,
                ID: Math.floor(Math.random() * e[i].ID + 1)
            });
            for (var o = 0; o < Math.floor(5 * Math.random()); o++) t.push({
                type: "item",
                ID: Math.floor(77 * Math.random() + 1)
            });
            if (n > 0) for (o = 0; o < Math.floor(5 * Math.random()); o++) t.push({
                type: "gold",
                N: 100
            });
            0 === t.length ? this.getItem() : this.game.prodigy.open.gotItem(t);
        }, t.prototype.getPet = function(t, e, i, a) {
            var n = B.Util.isValid(t) ? t : Math.floor(Math.random() * P.Items.getItemCount("pet") + 1), o = B.Util.isValid(e) ? e : Math.floor(99 * Math.random() + 1), r = B.Util.isValid(i) ? i : d.GameConstants.MAX_SAFE_INTEGER, s = B.Util.isValid(a) ? a : D.Creature.starsToLevel(e - 1);
            this.game.prodigy.open.gotItem([ {
                type: "pet",
                ID: n,
                data: {
                    ID: n,
                    newHP: r,
                    newStars: s,
                    newLevel: o
                }
            } ]);
        }, t.prototype.getAllPets = function(t, e, i) {
            for (var a = P.Items.data.pet, n = 0; n < a.length; n++) {
                var o = a[n];
                B.Util.isValid(o) && this.getPet(o.ID, t, e, i);
            }
        }, t.prototype.getEpic = function(t) {
            var e = B.Util.isValid(t) ? t : 125;
            e > 133 || e < 125 || (this.getPet(e, 20), this.player().backpack.add("follow", P.Items.getItem("pet", e).data.unlockFollow));
        }, t.prototype.savePlayer = function() {
            var t = [ "player", "game" ], e = {
                savedPlayer: this.game.prodigy.player,
                meta: {
                    loadPosition: this.game.broadcaster.broadcast(v.EPlayerLocomotionEvents.GetTarget, this.game, [ !0 ])
                }
            }, i = JSON.stringify(e, function(e, i) {
                if (!(t.indexOf(e) > -1)) return i;
                B.Util.log(e);
            }), a = document.createElement("a");
            a.download = this.game.prodigy.player.appearance.data.name + ".json", 
            a.href = "data:," + i, a.click();
        }, t.prototype.loadPlayer = function(t) {
            var e = this, i = function(t) {
                B.Util.log("LOADED PLAYER DATA");
                var i = JSON.parse(t), a = function(t, e) {
                    for (var i in e) "object" == typeof e[i] && "data" !== i && B.Util.isValid(t[i]) ? t[i] = a(t[i], e[i]) : t[i] = e[i];
                    return t;
                };
                e.game.prodigy.player = a(e.game.prodigy.player, i.savedPlayer), 
                B.Util.isValid(i.meta.loadPosition) ? e.tp(i.savedPlayer.data.zone, i.meta.loadPosition.x, i.meta.loadPosition.y) : e.tp(i.savedPlayer.data.zone);
            };
            if (B.Util.isValid(t)) i(t); else {
                var a = document.createElement("input");
                a.type = "file", a.addEventListener("change", function(t) {
                    t.stopPropagation(), t.preventDefault();
                    var e = t.target.files, a = new FileReader(), n = e[0];
                    a.onload = function(t) {
                        i(t.target.result);
                    }, a.readAsText(n);
                }, !1), a.click();
            }
        }, t.prototype.getBounty = function() {
            this.game.prodigy.open.gotItem([ {
                type: "bounty",
                N: 100
            } ]), this.game.prodigy.player.addBountyScore(100);
        }, t.prototype.getSpell = function(t) {
            this.game.prodigy.open.gotItem([ {
                type: "spell",
                ID: B.Util.isValid(t) ? t : Math.floor(35 * Math.random() + 1)
            } ]);
        }, t.prototype.removeSpell = function(t) {
            for (var e = this.game.prodigy.player.data.spells, i = -1, a = 0; a < e.length; a++) e[a] === t && (i = a);
            -1 !== i && (this.game.prodigy.player.data.spells.splice(i, 1), this.game.prodigy.player.updated = !0);
        }, t.prototype.getGold = function(t) {
            var e = [];
            e.push({
                type: "gold",
                N: t
            }), this.game.prodigy.open.gotItem(e);
        }, t.prototype.smallLoan = function(t) {
            void 0 === t && (t = 1e6), this.game.prodigy.player.changeGold(t);
        }, t.prototype.bookWorm = function() {
            B.Util.isValid(this.game.prodigy.player.data.spells) || (this.game.prodigy.player.data.spells = []);
            for (var t = 1; t < 37; t++) 31 !== t && this.game.prodigy.player.data.spells.push(t);
        }, t.prototype.setAchievementData = function(t, e) {
            this.game.prodigy.player.achievements.increment(t, e);
        }, t.prototype.mute = function(t) {
            void 0 === t && (t = !0), this.game.prodigy.audio.setMute(t);
        }, t.prototype.greedIsGood = function() {
            this.mute(), this.bookWorm(), this.smallLoan(), this.killGore(), this.easyMode(!0);
        }, t.prototype.greedIsOkay = function() {
            this.killGore(), this.easyMode(!0), this.game.prodigy.player.isMember = !0;
        }, t.prototype.testVoice = function(t, e, i) {
            for (var a = this.game.prodigy.event.create(), n = e; n <= i; n++) a.text(n, t);
            a.start();
        }, t.prototype.testEventDaily = function(t) {
            for (var e = null, i = null, a = 0; a < this.game.prodigy.skin.active.length; ++a) if (this.game.prodigy.skin.active[a] instanceof S.GameFestival) {
                for (var n = (e = this.game.prodigy.skin.active[a]).dailyPlacements, o = 0; o < n.length; ++o) if (B.Util.isValid(n[o][t])) {
                    i = n[o];
                    break;
                }
                break;
            }
            if (B.Util.isValid(i)) {
                var r = new Date();
                this.game.prodigy.player.data[e.daily].date = {
                    d: r.getUTCDate(),
                    m: r.getUTCMonth(),
                    y: r.getUTCFullYear()
                }, this.game.prodigy.player.data[e.daily].isComplete = 0, this.game.prodigy.player.data[e.daily].dailyLocation = i, 
                this.tp(t);
            }
        }, t.prototype.changeDailyBonusDay = function() {
            var t = new Date();
            this.game.prodigy.player.data.dailyLoginBonus.date = {
                d: t.getUTCDate() + 1,
                m: t.getUTCMonth(),
                y: t.getUTCFullYear()
            }, this.game.prodigy.player.updated = !0;
        }, t.prototype.setDailyBonusDay = function(t) {
            var e = 0;
            e = t > 1 && t < 6 ? t - 1 : 6;
            var i = new Date();
            this.game.prodigy.player.data.dailyLoginBonus.date = {
                d: i.getUTCDate() + e,
                m: i.getUTCMonth(),
                y: i.getUTCFullYear()
            }, this.game.prodigy.player.data.dailyLoginBonus.day = e, this.game.prodigy.player.updated = !0;
        }, t.prototype.changeEventDay = function() {
            for (var t = null, e = 0; e < this.game.prodigy.skin.active.length; ++e) if (this.game.prodigy.skin.active[e] instanceof S.GameFestival) {
                t = this.game.prodigy.skin.active[e];
                break;
            }
            if (B.Util.isValid(t)) {
                var i = new Date();
                this.game.prodigy.player.data[t.daily].date = {
                    d: i.getUTCDate() + 1,
                    m: i.getUTCMonth(),
                    y: i.getUTCFullYear()
                }, this.game.prodigy.player.updated = !0;
            }
        }, t.prototype.getCurrentDailyLocation = function() {
            for (var t = null, e = 0; e < this.game.prodigy.skin.active.length; ++e) if (this.game.prodigy.skin.active[e] instanceof S.GameFestival) {
                t = this.game.prodigy.skin.active[e];
                break;
            }
            if (B.Util.isValid(t)) for (var i in this.game.prodigy.player.data[t.daily].dailyLocation) this.game.prodigy.player.data[t.daily].dailyLocation.hasOwnProperty(i) && 0 === i.indexOf("lamplight") && B.Util.log(i, B.Util.DEBUG);
        }, t.prototype.resetBreadcrumbFeature = function(t) {
            this.game.prodigy.breadcrumbManager.resetBreadcrumbs(U.Breadcrumbs[t]);
        }, t.prototype.resetAllBreadcrumbs = function() {
            for (var t in this.game.prodigy.breadcrumbManager.breadcrumbConfig.features) this.resetBreadcrumbFeature(t);
        }, t.prototype.resetHouseVisitingBreadcrumbs = function() {
            this.resetBreadcrumbFeature("FEATURE_HOUSE_VISITING");
        }, t.prototype.resetHouseMovingBreadcrumbs = function() {
            this.resetBreadcrumbFeature("FEATURE_HOUSE_MOVING");
        }, t.prototype.resetDabBreadcrumbs = function() {
            this.resetBreadcrumbFeature("BREADCRUMB_CLICKED_DAB");
        }, t.prototype.currentBGM = function() {
            B.Util.log("Current BGM: " + this.game.prodigy.audio.currentBgm.key);
        }, t.prototype.setRoulette = function(e) {
            t.ROULETTE = e;
        }, t.prototype.autoClick = function(t) {
            this.game.broadcaster.broadcast(v.EDebugEvents.AutoClick, this.game, [ t ]);
        }, t.prototype.autoClickUI = function(t) {
            this.game.broadcaster.broadcast(v.EDebugEvents.AutoClickUI, this.game, [ t ]);
        }, t.prototype.autoClickScene = function(t) {
            this.game.broadcaster.broadcast(v.EDebugEvents.AutoClickScene, this.game, [ t ]);
        }, t.prototype.autoClickList = function() {
            this.game.broadcaster.broadcast(v.EDebugEvents.AutoClickList, this.game);
        }, t.prototype.trigger = function(t, e) {
            return this.game.prodigy.automation.trigger(t, e);
        }, t.prototype.completeTutorial = function() {
            var t = this.game.prodigy.player.tutorial;
            this.setQuest("house", 2), this.setQuest("academy", 2), this.game.prodigy.player.backpack.addKeyItem(13, 0), 
            t.setMenuValue(14, 0, 1), t.setMenuValue(3, 0, 1), t.setMenuValue(3, 1, 1), 
            t.setMenuValue(3, 2, 1), t.setMenuValue(23, 0, 1), this.game.prodigy.player.onTutorialComplete();
        }, t.prototype.resetSurvey = function() {
            this.game.prodigy.player.data.survey = 0;
        }, t.prototype.forceDrops = function(t) {
            d.GameConstants.setDrops(this.game, t);
        }, t.prototype.getAllZoneDrops = function(t) {
            var e = [];
            "shipwreck_shore" === t && (e = [ {
                type: "hat",
                ID: 39
            }, {
                type: "hat",
                ID: 40
            }, {
                type: "hat",
                ID: 76
            }, {
                type: "hat",
                ID: 77
            }, {
                type: "hat",
                ID: 78
            }, {
                type: "hat",
                ID: 79
            }, {
                type: "hat",
                ID: 80
            }, {
                type: "hat",
                ID: 81
            }, {
                type: "outfit",
                ID: 4
            }, {
                type: "outfit",
                ID: 35
            }, {
                type: "outfit",
                ID: 36
            }, {
                type: "outfit",
                ID: 57
            }, {
                type: "outfit",
                ID: 58
            }, {
                type: "outfit",
                ID: 59
            }, {
                type: "outfit",
                ID: 60
            }, {
                type: "outfit",
                ID: 61
            }, {
                type: "outfit",
                ID: 62
            }, {
                type: "boots",
                ID: 3
            }, {
                type: "boots",
                ID: 29
            }, {
                type: "boots",
                ID: 30
            }, {
                type: "boots",
                ID: 31
            }, {
                type: "boots",
                ID: 32
            }, {
                type: "boots",
                ID: 33
            }, {
                type: "weapon",
                ID: 19
            }, {
                type: "weapon",
                ID: 65
            }, {
                type: "weapon",
                ID: 66
            }, {
                type: "weapon",
                ID: 92
            }, {
                type: "weapon",
                ID: 93
            }, {
                type: "weapon",
                ID: 94
            }, {
                type: "weapon",
                ID: 95
            }, {
                type: "follow",
                ID: 130
            }, {
                type: "follow",
                ID: 131
            }, {
                type: "follow",
                ID: 132
            }, {
                type: "follow",
                ID: 133
            }, {
                type: "key",
                ID: 14
            }, {
                type: "key",
                ID: 15
            }, {
                type: "key",
                ID: 16
            }, {
                type: "key",
                ID: 17
            }, {
                type: "item",
                ID: 112
            }, {
                type: "item",
                ID: 113
            }, {
                type: "item",
                ID: 114
            }, {
                type: "spell",
                ID: 7
            }, {
                type: "spell",
                ID: 8
            }, {
                type: "spell",
                ID: 9
            } ]);
            var i = B.Util.filterDuplicateKeys(this.game, e);
            i.length > 0 && this.game.prodigy.open.gotItem(i, null);
        }, t.prototype.startPippetBattle = function(t) {
            for (var e = null, i = 0; i < _.PippetEncounter.data.spawns.length; i++) (e = _.PippetEncounter.data.spawns[i]).location === t && (this.game.prodigy.world.pippetEncounterDaily.init(), 
            this.game.prodigy.world.pippetEncounterSpawn = e, this.tp(t));
        }, t.prototype.setAttackOverride = function(t) {
            d.GameConstants.setAttackOverride(t);
        }, t.prototype.setEscapeChance = function(t) {
            d.GameConstants.setEscapeChance(t);
        }, t.prototype.getGame = function() {
            return this.game;
        }, t.prototype.addFriend = function(t) {
            this.game.prodigy.friendsListNetworkHandler.sendFriendRequest(t);
        }, t.prototype.removeFriend = function(t) {
            this.game.prodigy.friendsListNetworkHandler.removeFriend(t);
        }, t.prototype.getFriendsList = function() {
            B.Util.log(this.game.prodigy.friendsListNetworkHandler.friendsList, B.Util.DEBUG);
        }, t.prototype.getDefaultFakeFriendData = function(t) {
            void 0 === t && (t = !0);
            var e = {
                userID: 123,
                status: 1,
                appearance: {
                    nick: "Nickname here",
                    face: 1,
                    hair: {
                        color: 1,
                        style: 1
                    },
                    eyeColor: 1,
                    gender: "female",
                    skinColor: 1,
                    name: "Name Here "
                },
                isMember: 1,
                data: {
                    hp: 123,
                    allowsHouseVisitors: !1,
                    gold: 123,
                    loss: 1,
                    tower: 0,
                    level: 1,
                    stars: 0,
                    team: 0
                },
                equipment: {
                    follow: 1
                }
            };
            return t && B.Util.log(e.toString(), B.Util.DEBUG), e;
        }, t.prototype.addFakeFriend = function(t) {
            void 0 === t && (t = null);
            var e = this.game.prodigy.friendsListNetworkHandler, i = B.Util.isValid(t) ? t : this.getDefaultFakeFriendData(!1);
            i.isFake = !0, e.totalFriends++, e.friendsList.push(i);
        }, t.prototype.removeFakeFriend = function(t, e) {
            void 0 === e && (e = !1);
            for (var i = this.game.prodigy.friendsListNetworkHandler, a = null, n = 0, o = 0; o < i.friendsList.length; o++) a = i.friendsList[o], 
            (e || a.userID === t) && a.isFake && (i.friendsList.splice(o, 1), i.totalFriends--, 
            o--, n++);
            B.Util.log("Util.removeFakeFriend - number of fake friends removed: " + n, B.Util.DEBUG);
        }, t.prototype.removeAllFakeFriends = function() {
            this.removeFakeFriend(0, !0);
        }, t.prototype.triggerFailure = function() {
            this.game.prodigy.friendsListNetworkHandler.networkCallFailure(null, 0);
        }, t.prototype.getAllPotions = function(t) {
            void 0 === t && (t = 1);
            for (var e = [], i = 96; i <= 111; i++) e.push({
                type: "item",
                ID: i,
                N: t
            });
            this.game.prodigy.open.gotItem(e);
        }, t.prototype.setEpicArena = function(t, e, i) {
            B.Util.isValid(t) && B.Util.isValid(e) && B.Util.isValid(i) && (O.EpicBoostMenu.FORCED_RESULT = [ t, e, i ]);
        }, t.prototype.showAreaEvents = function(t) {
            C.TileScreen.DEBUG_DRAW_AREA_EVENTS = t;
        }, t.prototype.setClientVersion = function(t) {
            this.game.prodigy.network.api.clientVersion = t;
        }, t.prototype.resetPrizeWheelSpins = function(t, e) {
            delete t.prodigy.player.data["spinDate" + e], delete t.prodigy.player.data["numSpins" + e], 
            t.prodigy.player.updated = !0;
        }, t.prototype.testRandom = function(t, e, i) {
            for (var a = 0, n = 0; n < t; n++) r(s(e))[0] === i && a++;
            B.Util.log("Randomized " + i + " " + a + " times.", B.Util.DEV);
        }, t.prototype.setSplitTestLane = function(t) {
            d.GameConstants.setSplitTestLane(t);
        }, t.prototype.enableVerboseMetrics = function(t) {
            B.Util.isValid(t) ? M.NetworkManager.VERBOSE_ANALYTICS = t : B.Util.log("enableVerboseMetrics expects a boolean parameter. No action taken.", B.Util.ERROR);
        }, t.prototype.changeDayLength = function(t) {
            B.Util.isValid(t) ? B.Util.DEBUG_DAY_LENGTH = t : B.Util.DEBUG_DAY_LENGTH = 864e5;
        }, t.prototype.forceActivityZoneMonsterId = function(t) {
            B.Util.isValid(t) ? (N.ActivityZone.FORCE_MONSTER_TYPE = !0, N.ActivityZone.MONSTER_ID = t) : N.ActivityZone.FORCE_MONSTER_TYPE = !1;
        }, t.prototype.drawUIElementBounds = function(t) {
            for (var e = null, i = 0; i < this.game.prodigy.open.renderMenus.length; i++) (e = this.game.prodigy.open.renderMenus[i]).debugDrawUIElementBounds(t && e.visible);
        }, t.prototype.openUIViewer = function() {
            this.game.prodigy.open.uiViewer();
        }, t.prototype.showAllBounties = function(t) {
            this.game.prodigy.world.getZone(t).debugBounties = !0;
        }, t.prototype.getCubes = function(t) {
            for (var e = 0; e < t; e++) this.game.prodigy.giftBoxController.receiveGiftBox(null, P.Items.getItem("giftBox", 1));
        }, t.prototype.openCubes = function() {
            this.game.prodigy.giftBoxController.giftBoxesToOpen.length > 0 && this.game.prodigy.open.conjureCube(null);
        }, t.prototype.setLevel = function(t) {
            this.game.prodigy.player.data.level = 1, this.game.prodigy.player.data.stars = 0;
            for (var e = 0; e < t; e++) this.game.prodigy.player.addStars(this.game.prodigy.player.getStarsToLevel());
        }, t.prototype.skipBonusChance = function() {
            O.EpicBoostMenu.SKIP_BONUS_CHANCE = !0;
        }, t.prototype.enableDynamicLayer = function(t, e, i) {
            this.game.broadcaster.broadcast(v.EMapEvents.EnableDynamicLayer, null, [ this.game, t, e, i ]);
        }, t.prototype.setFeedLimit = function(t) {
            d.GameConstants.setFeedLimit(t);
        }, t.prototype.setGameSpeed = function(e) {
            if (d.GameConstants.setGameSpeed(e), !B.Util.isValid(t.TWEEN_FUNCTIONS_OVERRIDDEN) || !t.TWEEN_FUNCTIONS_OVERRIDDEN) {
                var i = Phaser.TweenManager.prototype.add;
                Phaser.TweenManager.prototype.add = function(t) {
                    return t.timeScale = d.GameConstants.get("GameConstants.Debug.GAME_SPEED"), 
                    i.call(this, t);
                };
                var a = Phaser.Timer.prototype.add;
                Phaser.Timer.prototype.add = function(t, e, i) {
                    for (var n = [], o = 3; o < arguments.length; o++) n[o - 3] = arguments[o];
                    return a.call(this, t / d.GameConstants.get("GameConstants.Debug.GAME_SPEED"), e, i);
                };
                var n = Phaser.Tween.prototype.delay;
                Phaser.Tween.prototype.delay = function(t, e) {
                    return n.call(this, t / d.GameConstants.get("GameConstants.Debug.GAME_SPEED"), e);
                }, t.TWEEN_FUNCTIONS_OVERRIDDEN = !0;
            }
            for (var o = this.game.tweens.getAll(), r = 0; r < o.length; r++) o[r].timeScale = e;
        }, t.prototype.startBattle = function(t, e, i) {
            var a = this;
            void 0 === t && (t = 1), void 0 === e && (e = 5), void 0 === i && (i = "singleImage-5");
            (function(t, e, i, n) {
                a.game.prodigy.world.teleport(e, i, n);
            }).bind(this, this.game, this.game.prodigy.world.currentZone, this.game.prodigy.user.x, this.game.prodigy.user.y);
            var n = [];
            if (t instanceof Array) for (var o = 0; o < t.length; ++o) n.push({
                ID: t[o]
            }); else n.push({
                ID: t
            });
            this.game.prodigy.battle.start({
                pets: n,
                level: e,
                screen: i
            }, function() {
                a.game.prodigy.world.teleport("");
            }, function() {
                a.game.prodigy.world.teleport("");
            }, function() {
                a.game.prodigy.world.teleport("");
            });
        }, t.prototype.automateHatSwitching = function(t) {
            var e = this;
            this.hatSwitchEvent && this.game.time.events.remove(this.hatSwitchEvent);
            var i = function(a) {
                P.Items.getItem("hat", a).data ? (e.game.prodigy.player.equipment.equip(a, "hat"), 
                e.hatSwitchEvent = e.game.time.events.add(t, function() {
                    i(a + 1);
                })) : e.game.prodigy.player.equipment.unEquip("hat"), e.game.prodigy.user.reload();
            };
            i(1);
        }, t.prototype.setNextEpicArenaRound = function(t) {
            var e = this.game.state.states.Battle;
            "Battle" === this.game.state.current && B.Util.isValid(e.mods.epicArena) ? e.mods.epicArena = t - 1 : B.Util.log("Not in epic arena!");
        }, t.prototype.showDebugValue = function(t) {
            var e = this.game.broadcaster.broadcast(v.EScreenEvents.GetLayer, this.game, [ "debugLayout" ]);
            if (B.Util.isValid(e)) {
                var i = E[t];
                B.Util.isValid(i) && (d.GameConstants.get("GameConstants.Build.SHOW_DEBUG_VALUES").push(t), 
                e.addRenderer(new i()));
            }
        }, t.prototype.hideDebugValue = function(t) {
            var e = this.game.broadcaster.broadcast(v.EScreenEvents.GetLayer, this.game, [ "debugLayout" ]);
            if (B.Util.isValid(e)) {
                var i = E[t];
                if (B.Util.isValid(i)) {
                    var a = d.GameConstants.get("GameConstants.Build.SHOW_DEBUG_VALUES"), n = a.indexOf(t);
                    n > -1 && a.splice(n, 1), e.removeRenderer(e.findRendererByType(i));
                }
            }
        }, t.prototype.enableVerboseLocalization = function(t) {
            t ? this.game.prodigy.gameContainer.bindLocalizer(o.VerboseLocalizer) : this.game.prodigy.gameContainer.bindLocalizer(o.Localizer), 
            this.game.prodigy.gameContainer.Localizer.setDataSource(new o.LocalLanguageDataCollection(i(114)));
        }, t.prototype.enableDebugLocalization = function(t, e) {
            void 0 === e && (e = "*"), t ? this.game.prodigy.gameContainer.bindLocalizer(o.DebugLocalizer) : this.game.prodigy.gameContainer.bindLocalizer(o.Localizer), 
            this.game.prodigy.gameContainer.Localizer.setDataSource(new o.LocalLanguageDataCollection(i(114)));
        }, t.prototype.stressTestParticles = function(e, i) {
            this.stressTestPlayerContainers(t.PARTICLE_STRESS_TEST_COMMON.users, i), 
            this.clearEmitters();
            var a = e.particle;
            a.image = t.PARTICLE_STRESS_TEST_COMMON.image, a.frame = t.PARTICLE_STRESS_TEST_COMMON.frame;
            var n = e.emitter;
            n.repeat = t.PARTICLE_STRESS_TEST_COMMON.emitterRepeat;
            var o = this.game.particleStorm, r = null;
            o.clearData("basic"), o.addData("basic", a);
            for (var s = 0; s < this.stressTests.playerContainers.length; s++) (r = o.createEmitter(Phaser.ParticleStorm.SPRITE_BATCH, B.Util.isValid(n.force) ? n.force : new Phaser.Point(0, 0))).addToWorld(this.stressTests.playerContainers[s]), 
            r.emit("basic", 50, -100, {
                repeat: n.repeat,
                frequency: n.frequency
            }), this.stressTests.emitters.push(r);
        }, t.prototype.stressTestPlayerContainers = function(t, e) {
            void 0 === e && (e = !0);
            for (var i = this.stressTests.playerContainers, a = 0; a < i.length; a++) i[a].destroy();
            for (var n = this.game.add.group(this.game.broadcaster.broadcast(v.EScreenEvents.GetLayer, this.game, [ "content" ])), o = t; o-- > 0; ) {
                var r = new x.Player(this.game);
                e ? r.createRandom() : r.appearance.setAppearance({
                    name: {
                        first: 1,
                        middle: 1,
                        last: 1
                    },
                    nick: null,
                    gender: "male",
                    hair: {
                        style: 0,
                        color: 1
                    },
                    skinColor: 1,
                    eyeColor: 1,
                    face: 4
                });
                var s = o % 16 * 80 + 40, l = 100 * Math.floor(o / 16) + 100, h = this.game.prodigy.create.player(n, r, 1, s, l);
                h.reload(h.walk.bind(h)), this.stressTests.playerContainers.push(h);
            }
        }, t.prototype.snow = function() {
            this.clearEmitters(), this.dynamicSnow("SMALL_SNOW"), this.dynamicSnow("BIG_SNOW");
        }, t.prototype.dynamicSnow = function(e) {
            var i = this.game.particleStorm, a = i.createEmitter(Phaser.ParticleStorm.SPRITE_BATCH), n = l(t.PARTICLE_STRESS_TEST_DATA[e].emitter);
            n.zone = i.createLineZone(-200, 0, 1280, 0), i.clearData(e), i.addData(e, t.PARTICLE_STRESS_TEST_DATA[e].particle), 
            a.addToWorld(), a.emit(e, 0, 0, n), this.stressTests.emitters.push(a);
        }, t.prototype.clearEmitters = function() {
            for (var t = this.stressTests.emitters, e = null, i = 0; i < t.length; i++) (e = t[i]).paused = !0, 
            this.game.particleStorm.removeEmitter(e), e.destroy();
        }, t.prototype.enableParticles = function(t) {
            for (var e = this.stressTests.emitters, i = 0; i < e.length; i++) e[i].paused = !t;
        }, t.prototype.spawnBuddyParticle = function(t, e, i, a, n) {
            void 0 === i && (i = 0), void 0 === a && (a = 0), void 0 === n && (n = !0);
            var o = this.game.prodigy.user;
            B.Util.isValid(o.follow) && (o.follow.destroy(), o.follow = null);
            var r = this.game.broadcaster.broadcast(v.EScreenEvents.GetLayer, this.game, [ "content" ]);
            this.game.particleStorm.clearData(String(d.GameConstants.MAX_SAFE_INTEGER)), 
            P.Items.itemMap["particleEffect-" + d.GameConstants.MAX_SAFE_INTEGER] = {
                data: e
            }, P.Items.itemMap["follow-" + t].data.particleEffects = [ {
                ID: d.GameConstants.MAX_SAFE_INTEGER,
                x: i,
                y: a,
                inFront: n
            } ];
            var s = this.game.prodigy.create.follow(r, t, 1, o, null);
            s instanceof y.CreatureContainer && s.reload(), o.follow = s;
        }, t.prototype.unlockColiseumOpponent = function(t) {
            var e = 5 * t, i = D.Creature.starsToLevel(e - 1), a = B.Util.isValid(this.game.prodigy.player.data.stars) ? this.game.prodigy.player.data.stars : 0;
            i > a && this.game.prodigy.player.addStars(i - a), t > this.game.prodigy.player.getColiseum() && (this.game.prodigy.player.setColiseum(t), 
            this.game.prodigy.player.updated = !0);
        }, t.prototype.lockColiseumOpponent = function(t) {
            t < this.game.prodigy.player.getColiseum() && (this.game.prodigy.player.setColiseum(t), 
            this.game.prodigy.player.updated = !0);
        }, t.prototype.setMyArenaLeaderboardScore = function(t, e) {}, t.prototype.setClassLeaderboardScore = function(t, e) {
            var i = this.updateLeaderboardData(f.ClassLeadersPanel, t, "level", e);
            B.Util.isValid(i) && i.setPage(i.page);
        }, t.prototype.updateLeaderboardData = function(t, e, i, a) {
            var n = this.game.broadcaster.broadcast(v.EDebugEvents.GetUIElement, this.game, [ t ]);
            if (B.Util.isValid(n)) {
                n.leaders[e - 1].data[i] = a, n.leaders.sort(function(t, e) {
                    return t.data[i] === e.data[i] ? 0 : t.data[i] < e.data[i] ? 1 : -1;
                });
                for (var o = 0; o < n.leaders.length; ++o) n.leaders[o].place = o + 1;
            }
            return n;
        }, t.prototype.setCustomBounty = function(t, e) {
            if (t > -1 && t < 3 && (this.bountyOverrides[t] = e, B.Util.isValid(e.preName) && "string" == typeof e.preName && (e.preName = this.game.prodigy.bounty.preName.indexOf(e.preName)), 
            B.Util.isValid(e.postName) && "string" == typeof e.postName && (e.postName = this.game.prodigy.bounty.postName.indexOf(e.postName)), 
            B.Util.isValid(e.title) && "string" == typeof e.title && (e.title = this.game.prodigy.bounty.titleName.indexOf(e.title)), 
            B.Util.isValid(e.monster) && (B.Util.isValid(e.zone) ? e.monster = this.game.prodigy.world.zones[e.zone].monsters.indexOf(e.monster) : delete e.monster), 
            B.Util.isValid(e.map) && (B.Util.isValid(e.zone) || delete e.map), B.Util.isValid(e.reward) && (e.reward = this.game.prodigy.bounty.reward.indexOf(e.reward)), 
            B.Util.isValid(e.location))) if (B.Util.isValid(e.zone) && B.Util.isValid(e.map)) {
                var i = this.game.prodigy.world.zones[e.zone].maps[e.map];
                e.location >= i.coord.length && delete e.location;
            } else delete e.location;
        }, t.prototype.clearCustomBounty = function(t) {
            delete this.bountyOverrides[t];
        }, t.prototype.openMenu = function(t) {
            var e = this.getMenus();
            if (e.hasOwnProperty(t)) {
                var i = Array.prototype.slice.call(arguments, 2);
                0 === i.length && (i = e[t]), this.game.prodigy.open[t].apply(this.game.prodigy.open, i);
            } else B.Util.log("Menu is not supported", B.Util.ERROR);
        }, t.prototype.getMenus = function() {
            var t, e, i, n = this;
            return (t = function() {}, e = function() {
                var t = new x.Player(n.game);
                return t.init(n.game.prodigy.player.data), n.game.prodigy.create.player(null, t);
            }, i = {
                chat: [],
                toyStore: [],
                nameChange: [ !0 ],
                advancedNameChange: [ !0, null, !0 ],
                achievement: [ [ n.game.prodigy.achievements.getData(1) ] ],
                toyUnlock: [],
                rating: [],
                choosePet: [ 1 ],
                createAccount: [],
                server: [ [ {
                    id: "1",
                    full: 0,
                    name: "Server 1",
                    meta: {
                        tag: "fire"
                    }
                }, {
                    id: "2",
                    full: 0,
                    name: "Server 2",
                    meta: {
                        tag: "earth"
                    }
                }, {
                    id: "3",
                    full: 100,
                    name: "Server 3",
                    meta: {
                        tag: "air"
                    }
                }, {
                    id: "4",
                    full: 0,
                    name: "Server 4",
                    meta: {
                        tag: "water"
                    }
                }, {
                    id: "5",
                    full: 75,
                    name: "Server 5",
                    meta: {
                        tag: "wizard"
                    }
                }, {
                    id: "6",
                    full: 0,
                    name: "Server 6",
                    meta: {
                        tag: "zone-ice"
                    }
                } ], null, !1 ],
                serverSelectMode: [ [ {
                    id: "1",
                    full: 0,
                    name: "Server 1",
                    meta: {
                        tag: "fire"
                    }
                }, {
                    id: "2",
                    full: 0,
                    name: "Server 2",
                    meta: {
                        tag: "earth"
                    }
                }, {
                    id: "3",
                    full: 100,
                    name: "Server 3",
                    meta: {
                        tag: "air"
                    }
                }, {
                    id: "4",
                    full: 0,
                    name: "Server 4",
                    meta: {
                        tag: "water"
                    }
                }, {
                    id: "5",
                    full: 75,
                    name: "Server 5",
                    meta: {
                        tag: "wizard"
                    }
                }, {
                    id: "6",
                    full: 0,
                    name: "Server 6",
                    meta: {
                        tag: "zone-ice"
                    }
                } ], t ],
                houseEditorMenu: [ null, n.game.state.states.TileScreen ],
                catch: [ null, t ],
                battle: [ e(), null, e() ],
                memberPrompt: [],
                playAtHomePrompt: [],
                parentalLinkInfoPrompt: [ A.ParentLinkBenefitsConfig.ANALYTICS_SOURCE_SETTINGS ],
                parentalLinkSuccessPrompt: [],
                mailerOpenMail: [ {
                    data: {
                        id: 1,
                        message: "This is test mail",
                        subject: "TEST",
                        attachments: []
                    }
                } ],
                friendRequests: [ t ],
                itemInfo: [ a({}, P.Items.getItem("hat", 1), {
                    cost: [ {
                        type: "currency",
                        ID: 1,
                        N: 50
                    } ]
                }), t, "buy" ],
                houseItemInfo: [ a({}, P.Items.getItem("dormbg", 2), {
                    cost: [ {
                        type: "currency",
                        ID: 1,
                        N: 50
                    } ]
                }), t, "buy" ],
                bountyBoard: [],
                social: [ I.ESocialMenuType.ClassLeaders ],
                boostSelect: [ [ {
                    icon: {
                        type: "item",
                        ID: 47
                    },
                    d: "More gears"
                }, {
                    icon: {
                        type: "fossil",
                        ID: 1
                    },
                    d: "Slow time"
                }, {
                    icon: "star2",
                    d: "Multiplier"
                } ], t ],
                card: [ n.game.prodigy.player, !0, !0 ],
                arena: [],
                stylist: [],
                membership: [ T.MemberAd.NICKNAME ],
                darkTowerMemberGate: [],
                nicknamer: [ [ {
                    pre: "Buccaneer ",
                    req: [ {
                        rtype: "item",
                        type: "outfit",
                        ID: 36
                    }, {
                        rtype: "item",
                        type: "hat",
                        ID: 40
                    }, {
                        rtype: "item",
                        type: "weapon",
                        ID: 65
                    } ],
                    fail: "You need to buy the Pirate set to unlock!"
                }, {
                    pre: "Captain ",
                    req: [ {
                        rtype: "quest",
                        zone: "shipwreck_shore",
                        Q: 11
                    } ],
                    fail: "You need to complete the Shipwreck Shore quest to unlock!"
                }, {
                    pre: "Treasure Hunter ",
                    req: [ {
                        rtype: "pet",
                        ID: 98
                    } ],
                    fail: "You need to catch a Mimic to unlock!"
                }, {
                    pre: "First-mate ",
                    member: !0,
                    fail: "You need to become a member to unlock!"
                }, {
                    post: "beard the Pirate",
                    member: !0,
                    fail: "You need to become a member to unlock!"
                } ] ],
                gotItem: [ [ {
                    type: "gold",
                    N: 10
                } ] ],
                message: [ "Message box body", t, null, "Title" ],
                alert: [ "Alert body", t, null, "Title" ],
                messageBox: [ "Message box yes/no body", t, t, null, "Title" ],
                messageBoxGeneric: [ "Message box generic body", t, t, t, null, null, 7, {
                    modifyProperty: [ {
                        element: "yesText",
                        property: "text",
                        value: "400"
                    }, {
                        element: "membershipGraphic",
                        property: "visible",
                        value: !1
                    }, {
                        element: "houseGraphic",
                        property: "atlasName",
                        value: P.Items.getIconAtlas({
                            type: "dormbg",
                            ID: 12
                        })
                    }, {
                        element: "houseGraphic",
                        property: "frameName",
                        value: P.Items.getIconFrame({
                            type: "dormbg",
                            ID: 12
                        })
                    } ]
                } ],
                messageBoxOkay: [ "Okay message body", "OK", t, null, "Title" ],
                zoneProgress: [ w.WorldMap.BUTTONS_CONFIG[0], t, t ],
                titanProgress: [ !0 ],
                character: [],
                backpack: [],
                pouch: [ "hat", t, !0 ],
                settings: [],
                map: [],
                store: [ 1 ],
                stylistStore: [ 19 ],
                buyToy: [ 133, !1 ],
                epicBoostMachine: [ 133, !1 ],
                battleSummary: [ null, {
                    totalStars: 50,
                    memberStarsEarned: 0
                } ],
                battleLevel: [ n.game.prodigy.player, {
                    type: b.BattleBase.LEVEL_UP,
                    source: n.game.prodigy.player
                } ],
                battlePotionSelect: [],
                confirmPotionUse: [ P.Items.getItem("item", 102), n.game.prodigy.player ],
                potionPvpPopup: [],
                epicErrorMessage: [ "You can only use one Epic attack per battle!", {
                    showClose: !1
                } ],
                questDescription: [ n.game.prodigy.world.zones.activity_zone.getDailyQuestData(0), t ],
                pvpPrizes: [],
                membershipInfo: [],
                resultsMenu: [ n.game.prodigy.player.kennel.getTeam(), {
                    baseXP: 100,
                    memberXP: 50,
                    parentLinkXP: 0,
                    pippetXP: 0
                }, [ {
                    type: "gold",
                    N: 50
                } ] ],
                evolutionSummary: [ new L.Monster(n.game, {
                    ID: 1,
                    hp: 500,
                    isPVPTeam: !0,
                    level: 16,
                    nickname: null,
                    stars: 2e3,
                    team: 1
                }), new L.Monster(n.game, {
                    ID: 1,
                    hp: 500,
                    isPVPTeam: !0,
                    level: 1,
                    nickname: null,
                    stars: 0,
                    team: 1
                }) ],
                spellSummary: [ new L.Monster(n.game, {
                    ID: 2,
                    hp: 500,
                    isPVPTeam: !0,
                    level: 50,
                    nickname: null,
                    stars: 3500,
                    team: 1
                }), new L.Monster(n.game, {
                    ID: 1,
                    hp: 500,
                    isPVPTeam: !0,
                    level: 1,
                    nickname: null,
                    stars: 0,
                    team: 1
                }) ],
                heartSummary: [ new L.Monster(n.game, {
                    ID: 2,
                    hp: 500,
                    isPVPTeam: !0,
                    level: 50,
                    nickname: null,
                    stars: 3500,
                    team: 1
                }), new L.Monster(n.game, {
                    ID: 1,
                    hp: 500,
                    isPVPTeam: !0,
                    level: 1,
                    nickname: null,
                    stars: 0,
                    team: 1
                }) ]
            }, function() {
                return i;
            })();
        }, t.prototype.closeMenus = function() {
            this.game.prodigy.open.menuCloseAll();
        }, t.prototype.resetRegisterDate = function() {
            this.game.prodigy.player.registerDate = new Date(0);
        }, t.prototype.setCritChance = function(t) {
            void 0 === t && (t = null);
            var e = t;
            e > 1 && (e = 1), d.GameConstants.setCrit(e);
        }, t.prototype.setNFactor = function(t, e) {
            void 0 === e && (e = 2), t ? d.GameConstants.setNFactor(e) : d.GameConstants.setNFactor(null);
        }, t.prototype.completeMatchmakingBattle = function(t) {
            void 0 === t && (t = p.EPVPEndMode.Win), new u.PVPManager(this.game).showResults(t);
        }, t.prototype.startPointsTicker = function(t, e, i) {
            void 0 === t && (t = p.EPVPEndMode.Win), void 0 === e && (e = 0), void 0 === i && (i = 0), 
            new u.PVPManager(this.game).startPointsTicker(t, e, i);
        }, t.prototype.resetUserRank = function() {
            d.GameConstants.overrideUserRank(null), d.GameConstants.overrideUserPoints(null);
        }, t.prototype.setUserRank = function(t, e, i, a) {
            d.GameConstants.overrideUserRank({
                points: t,
                rank: e,
                toNextRank: i,
                toBaseRank: a
            }), d.GameConstants.overrideUserPoints(t);
        }, t.prototype.showInactivityDialog = function(t) {
            d.GameConstants.enableGameConstant(d.GameConstants.Inactivity.LOG_OUT_TIMER_SECONDS, t), 
            this.game.prodigy.network.showInactiveDialog();
        }, t.prototype.setBootOutTimersInSeconds = function(t, e) {
            d.GameConstants.enableGameConstant(d.GameConstants.Inactivity.NETWORK_BOOT_TIMER_SECONDS, e), 
            d.GameConstants.enableGameConstant(d.GameConstants.Inactivity.CANNOT_CONNECT_TIMER_SECONDS, t);
        }, t.prototype.parade = function(t, e, i, a) {
            var n = this;
            void 0 === t && (t = 5e3), void 0 === e && (e = 1e3), void 0 === i && (i = 0), 
            void 0 === a && (a = 0);
            for (var o = P.Items.data.pet, r = this.game.broadcaster.broadcast(v.EScreenEvents.GetLayer, this.game, [ "content" ]), s = Math.max(0, i), l = B.Util.isValid(a) ? o.length : Math.min(o.length, a), h = function(e) {
                if (B.Util.isValid(o[e])) {
                    var i = o[e].ID, a = n.game.prodigy.create.monster(r, new L.Monster(n.game, {
                        ID: o[e].ID
                    }), [ 130, 131, 132, 133 ].indexOf(i) >= 0 ? 1 : 2, -200, 360);
                    a.loadedCallback = function(e) {
                        B.Util.isValid(e.battleScale) ? (e.scale.x = .5, e.scale.y = .5) : (e.sprites.scale.x = e.battleScale, 
                        e.sprites.scale.y = e.battleScale), n.game.add.tween(e).to({
                            x: 1600
                        }, t, Phaser.Easing.Linear.None, !0).onComplete.add(e.destroy.bind(e)), 
                        e.showName(!0, e.source.data.ID + " " + e.source.source.name), 
                        e.walk();
                    }.bind(n), a.startLoad();
                }
            }, c = s; c <= l; c++) setTimeout(h.bind(this, c), e * (c - s));
        }, t.prototype.transform = function(t, e, i, a) {
            "player" === e ? this.game.prodigy.user.resetItemTransformation(i) : this.game.prodigy.user.transformToItem(t, e, i, a);
        }, t.prototype.timerMenu = function(t, e) {
            for (var i, a, n, o = this.game.state.states.TileScreen, r = 0; r < e; r++) {
                a = 100 * (i = r % 12) + 90, n = 100 * ((r - i) / 12) + 70, this.game.prodigy.create.countdownTimer(o.above, a, n, {
                    maxTime: t,
                    timeDelta: 15e3
                }, null).autoUpdateTimer(!0);
            }
        }, t.prototype.generateRandomPlayers = function(t, e) {
            if (B.Util.isValid(this.generatedRandomPlayers)) for (var i = 0; i < this.generatedRandomPlayers.length; i++) this.generatedRandomPlayers[i].destroy();
            this.generatedRandomPlayers = [];
            var a, n, o, r = this.game.state.states.TileScreen;
            for (i = 0; i < t; i++) {
                e ? (n = 1280 * Math.random(), o = 720 * Math.random()) : (n = 100 * (a = i % 12) + 90, 
                o = 100 * ((i - a) / 12) + 70);
                var s = new x.Player(this.game), l = this.game.prodigy.create.player(r.content, s, 1, n, o);
                l.randomSetup(), l.reload(), this.generatedRandomPlayers.push(l);
            }
        }, t.prototype.transformGeneratedPlayers = function(t, e, i) {
            var a = !B.Util.isValid(t);
            if (B.Util.isValid(this.generatedRandomPlayers)) for (var n = 0; n < this.generatedRandomPlayers.length; n++) {
                var o = t, r = e, s = i;
                if (a) {
                    var l = Math.floor(6 * Math.random()) + 117, h = P.Items.getItem("item", l).data;
                    o = h.effect.transform, r = h.effect.ID, s = h.effect.time;
                }
                this.generatedRandomPlayers[n].transformToItem(o, r, !0, s);
            }
        }, t.prototype.resetMembershipReward = function(t) {
            delete this.game.prodigy.player.data.reward, this.game.prodigy.player.backpack.data.mount = [], 
            this.game.prodigy.player.memberPrompt = !1, this.game.prodigy.player.updated = !0, 
            this.game.prodigy.player.backpack.updated = !0, t && (B.Util.log("Logging out in 5 seconds...", B.Util.DEV), 
            setTimeout(this.game.prodigy.network.logout.bind(this.game.prodigy.network), 5e3));
        }, t.prototype.escapeBattle = function() {
            this.game.state.callbackContext.runAwayCallback();
        }, t.prototype.getWheelResult = function(t, e, i) {
            var a = R.Random.weightedArrayElement(t).item, n = a.type, o = P.Items.getItem(a.type, a.ID);
            if (B.Util.isValid(e[n]) || (e[n] = {}), "currency" === n) B.Util.isValid(e[n][o.ID]) || (e[n][o.ID] = 0), 
            e[n][o.ID]++; else if (B.Util.isValid(o.data)) {
                var r = "rarity-" + o.data.rarity, s = "id-" + o.ID;
                B.Util.isValid(e[n][r]) || (e[n][r] = {}, e[n][r].total = 0), !B.Util.isValid(e[n][r][s]) && i && (e[n][r][s] = 0), 
                e[n][r].total++, i && e[n][r][s]++;
            } else B.Util.isValid(e[n].total) || (e[n].total = 0), e[n].total++;
        }, t.prototype.getSplitTestLane = function(t, e, i) {
            void 0 === i && (i = B.SplitTestType.UserID);
            var a = this.game.prodigy.player, n = null;
            switch (i) {
              case B.SplitTestType.UserID:
                n = a.userID;
                break;

              case B.SplitTestType.ClassID:
                n = B.Util.getLatestClassID(a.owners, a.playerTeachers, a.playerParents);
                break;

              case B.SplitTestType.Grade:
                n = a.grade;
                break;

              default:
                return B.Util.log("Invalid type " + i, B.Util.ERROR), -1;
            }
            var o = Math.floor(n / t % e);
            return B.Util.log("Lane " + o, B.Util.DEV), o;
        }, t.prototype.getSplitTestGroup = function(t, e, i) {
            switch (void 0 === i && (i = B.SplitTestType.UserID), this.getSplitTestLane(t, e, i)) {
              case 0:
              case 1:
                B.Util.log("CONTROL", B.Util.DEV);
                break;

              case 2:
              case 3:
                B.Util.log("Group 1", B.Util.DEV);
                break;

              case 4:
              case 5:
                B.Util.log("Group 2", B.Util.DEV);
                break;

              case 6:
              case 7:
                B.Util.log("Group 3", B.Util.DEV);
                break;

              case 8:
              case 9:
                B.Util.log("Group 4", B.Util.DEV);
            }
        }, t.prototype.setUnlimitedWheelSpins = function(t) {
            d.GameConstants.setUnlimitedWheelSpins(t);
        }, t.prototype.setWheelSpinDuration = function(t) {
            d.GameConstants.setWheelSpinDuration(t);
        }, t.prototype.maintainAspectRatio = function(t) {
            void 0 === t && (t = !0), d.GameConstants.setMaintainAspectRatio(t), 
            this.game.scale.scaleMode = d.GameConstants.get("GameConstants.Build.SCALE_MODE"), 
            this.game.scale.refresh();
        }, t.prototype.logChatPhrases = function() {
            for (var t = this.game.prodigy.chat.getPhrases(), e = 0; e < t.length; e++) B.Util.log(t[e]);
        }, t.prototype.setCharacterCreationDate = function(t, e, i, a, n) {
            void 0 === a && (a = 0), void 0 === n && (n = 0), d.GameConstants.setCharacterCreationDate(t, e, i, a, n);
        }, t.prototype.setClassMode = function(t, e) {
            t.prodigy.classModeController.overrideClassModeEnabled = e;
        }, t.prototype.setStoreCacheExpirationTime = function(t) {
            this.game.prodigy.gameContainer.get(n.InjectionIdentifiers.CacheExpirationStrategy).setExpiryTimeInSeconds(t);
        }, t.prototype.clearStoreCache = function() {
            this.game.prodigy.gameContainer.get(g.ProdigyInjectionIdentifiers.StoreService).invalidateCache();
        }, t.prototype.enableSkynet = function(t, e) {
            this.addPlayerTimer = this.game.time.events.repeat(1e3 * t, e, this.createFakePlayer, this, this.game), 
            this.updatePlayerTimer = this.game.time.events.loop(3e3, this.updatePlayers, this, this.game);
        }, t.prototype.disableSkynet = function() {
            for (var t in this.game.time.events.remove(this.addPlayerTimer), this.game.time.events.remove(this.updatePlayerTimer), 
            this.fakePlayers) this.game.state.states.TileScreen.removePlayer(parseInt(t));
            this.fakePlayers = {};
        }, t.prototype.createFakePlayer = function() {
            for (var t = h(1e6, 1e9); void 0 !== this.fakePlayers[t]; ) t = h(1e6, 1e9);
            var e = h(1, !0) >= .5 ? "male" : "female", i = {
                userID: t,
                target: {
                    x: -1,
                    y: -1
                },
                appearance: {
                    name: {
                        first: c(P.Items.getItemsWithFilter("name", function(t) {
                            return 0 === t.data.type;
                        })).ID,
                        middle: c(P.Items.getItemsWithFilter("name", function(t) {
                            return 1 === t.data.type;
                        })).ID,
                        last: c(P.Items.getItemsWithFilter("name", function(t) {
                            return 2 === t.data.type;
                        })).ID
                    },
                    nick: null,
                    gender: e,
                    hair: {
                        style: c(P.Items.data.hair).ID,
                        color: c(P.Items.data.hairColor).ID
                    },
                    skinColor: c(P.Items.data.skinColor).ID,
                    eyeColor: c(P.Items.data.eyeColor).ID,
                    face: c(P.Items.data.face).ID
                },
                isMember: h(1, !0) >= .5 ? 1 : 0,
                equipment: {
                    hat: c(P.Items.data.hat).ID,
                    weapon: c(P.Items.data.weapon).ID
                },
                data: {
                    level: h(1, 100),
                    gold: h(0, 1e4),
                    stars: h(0, 3e3),
                    hp: h(0, 300),
                    allowsHouseVisitors: !1,
                    versionID: 15,
                    nm: 1
                }
            };
            this.fakePlayers[t] = i, this.game.state.states.TileScreen.addPlayer(i);
        }, t.prototype.updatePlayers = function() {
            for (var t in this.fakePlayers) (-1 === this.fakePlayers[t].target.x || h(1, !0) > .5) && (this.fakePlayers[t].target = {
                x: h(5, 55),
                y: h(5, 30)
            }, this.game.state.states.TileScreen.movePlayer(this.fakePlayers[t]));
        }, t.prototype.setMemberStarsTimeout = function() {
            var t = new m.MemberStarController(this.game);
            return this.game.prodigy.player.data.memberStarsExpirationDate = t.getNextExpirationDate().getTime(), 
            B.Util.log("I set the member star jar timeout to: " + this.game.prodigy.player.data.memberStarsExpirationDate), 
            this.getMemberStarsTimeout();
        }, t.prototype.getMemberStarsTimeout = function() {
            return new Date(this.game.prodigy.player.data.memberStarsExpirationDate);
        }, t.prototype.createNotification = function(t, e, i) {
            var a = this.game.prodigy.notifications.initNotificationTemplate(t, e, i);
            this.game.prodigy.notifications.pushNotification({
                id: t,
                data: a
            });
        }, t.prototype.startSessionCamRecording = function(t, e) {
            t.prodigy.gameContainer.get(g.ProdigyInjectionIdentifiers.SessionRecorder).startRecording(e);
        }, t.prototype.stopSessionCamRecording = function(t, e) {
            t.prodigy.gameContainer.get(g.ProdigyInjectionIdentifiers.SessionRecorder).stopRecording();
        }, t.prototype.editUiJson = function(t) {
            new k.LiveUIPreview(this.game, this.game.world, t);
        }, t.prototype.setMonsterRadiusVisible = function(t) {
            d.GameConstants.setMonsterRadiusVisible(t);
        }, t.prototype.restartTutorial = function() {
            this.game.prodigy.player.state.data.tutorial = {}, this.game.prodigy.player.state.data.zone = {}, 
            this.game.prodigy.player.state.data.world = {}, this.game.prodigy.player.state.data.breadcrumbs = {}, 
            this.game.prodigy.player.state.updated = !0, this.game.prodigy.player.tutorial.setData({
                menus: {},
                zones: {}
            }), this.game.prodigy.player.tutorial.updated = !0, this.game.prodigy.player.backpack.data.key = [], 
            this.game.prodigy.player.backpack.data.weapon = this.game.prodigy.player.backpack.data.weapon.filter(function(t) {
                return 25 !== t.ID;
            }), this.game.prodigy.player.backpack.updated = !0, this.game.prodigy.player.appearance.setName(null), 
            delete this.game.prodigy.player.equipment.data.hat, this.game.prodigy.player.data.level = 1, 
            this.game.prodigy.player.data.stars = 0, this.game.prodigy.player.updated = !0, 
            this.tp("house");
        }, t.ROULETTE = -1, t.TWEEN_FUNCTIONS_OVERRIDDEN = !1, t.PARTICLE_STRESS_TEST_COMMON = {
            users: 50,
            image: "atlas-160",
            frame: "particle",
            emitterRepeat: -1
        }, t.PARTICLE_STRESS_TEST_DATA = {
            SMALL_SNOW: {
                particle: {
                    image: "atlas-10",
                    frame: "42-16",
                    lifespan: 8e3,
                    vy: {
                        min: 2,
                        max: 2
                    },
                    vx: {
                        min: .5,
                        max: 1
                    },
                    rotation: {
                        value: 0,
                        delta: {
                            min: -2,
                            max: 2
                        }
                    }
                },
                emitter: {
                    repeat: -1,
                    frequency: 50
                }
            },
            BIG_SNOW: {
                particle: {
                    image: "atlas-10",
                    frame: "42-30",
                    lifespan: 5e3,
                    vy: {
                        min: 3,
                        max: 3
                    },
                    vx: {
                        min: .25,
                        max: .75
                    },
                    rotation: {
                        value: 0,
                        delta: {
                            min: -3,
                            max: 3
                        }
                    }
                },
                emitter: {
                    repeat: -1,
                    frequency: 150
                }
            },
            LOW_LIFESPAN_ALL_OFF: {
                particle: {
                    lifespan: 1e3,
                    vx: {
                        min: -1,
                        max: 1
                    },
                    vy: {
                        min: -1,
                        max: 1
                    }
                },
                emitter: {
                    frequency: 50
                }
            },
            MED_LIFESPAN_ALL_OFF: {
                particle: {
                    lifespan: 2e3,
                    vx: {
                        min: -1,
                        max: 1
                    },
                    vy: {
                        min: -1,
                        max: 1
                    }
                },
                emitter: {
                    frequency: 50
                }
            },
            HIGH_LIFESPAN_ALL_OFF: {
                particle: {
                    lifespan: 4e3,
                    vx: {
                        min: -1,
                        max: 1
                    },
                    vy: {
                        min: -1,
                        max: 1
                    }
                },
                emitter: {
                    frequency: 50
                }
            },
            MED_FREQUENCY_ALL_OFF: {
                particle: {
                    lifespan: 1e3,
                    vx: {
                        min: -1,
                        max: 1
                    },
                    vy: {
                        min: -1,
                        max: 1
                    }
                },
                emitter: {
                    frequency: 100
                }
            },
            HIGH_FREQUENCY_ALL_OFF: {
                particle: {
                    lifespan: 1e3,
                    vx: {
                        min: -1,
                        max: 1
                    },
                    vy: {
                        min: -1,
                        max: 1
                    }
                },
                emitter: {
                    frequency: 500
                }
            },
            SCALE_ONLY: {
                particle: {
                    lifespan: 1e3,
                    vx: {
                        min: -1,
                        max: 1
                    },
                    vy: {
                        min: -1,
                        max: 1
                    },
                    scale: {
                        min: .8,
                        max: 1.3
                    }
                },
                emitter: {
                    frequency: 50
                }
            },
            SCALE_INTERPOLATE_ONLY: {
                particle: {
                    lifespan: 1e3,
                    vx: {
                        min: -1,
                        max: 1
                    },
                    vy: {
                        min: -1,
                        max: 1
                    },
                    scale: {
                        value: 2,
                        control: Phaser.ParticleStorm.Graph.CONTROL_LINEAR
                    }
                },
                emitter: {
                    frequency: 50
                }
            },
            ROTATION_ONLY: {
                particle: {
                    lifespan: 1e3,
                    vx: {
                        min: -1,
                        max: 1
                    },
                    vy: {
                        min: -1,
                        max: 1
                    },
                    rotation: {
                        initial: 0,
                        value: 360
                    }
                },
                emitter: {
                    frequency: 50
                }
            },
            FORCE_ONLY: {
                particle: {
                    lifespan: 1e3,
                    vx: {
                        min: -1,
                        max: 1
                    },
                    vy: {
                        min: -1,
                        max: 1
                    }
                },
                emitter: {
                    frequency: 50,
                    force: new Phaser.Point(1, 0)
                }
            },
            ALPHA_ON_ONLY: {
                particle: {
                    lifespan: 1e3,
                    vx: {
                        min: -1,
                        max: 1
                    },
                    vy: {
                        min: -1,
                        max: 1
                    },
                    alpha: {
                        min: .2,
                        max: .8
                    }
                },
                emitter: {
                    frequency: 50
                }
            },
            ALPHA_INTERPOLATE_ONLY: {
                particle: {
                    lifespan: 1e3,
                    vx: {
                        min: -1,
                        max: 1
                    },
                    vy: {
                        min: -1,
                        max: 1
                    },
                    alpha: {
                        value: 1,
                        control: Phaser.ParticleStorm.Graph.CONTROL_LINEAR
                    }
                },
                emitter: {
                    frequency: 50
                }
            }
        }, t;
    }();
    e.Debug = G;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__assign || Object.assign || function(t) {
        for (var e, i = 1, a = arguments.length; i < a; i++) for (var n in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        return t;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(10), s = i(2), l = i(76), h = i(1), c = i(3), p = i(4), u = i(0), d = i(18), g = i(7), y = i(180), f = i(521), m = function(t) {
        function e(e, i, a, n, o, r, s) {
            var l = t.call(this, e, i, a, n, o, r, s) || this;
            return l.floor = void 0, l.cleared = !1, l.ball = null, l.mods = null, 
            l;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            var o = this.floor % 5 == 0;
            return this.enableLayerID(0, o), this.enableLayerID(1, !o), this.enableLayerID(2, o && !this.cleared), 
            this.enableLayerID(3, !o && !this.cleared), this.enableLayerID(4, o && this.cleared), 
            this.enableLayerID(5, !o && this.cleared), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.cleanup = function() {
            this.stopListeners(), t.prototype.cleanup.call(this);
        }, e.prototype.setup = function(e, i, a) {
            var n = this;
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), this.initListeners(), 
            this.zone.bgmID = 4, i.menuBar.open(0, !1);
            var r = this.isOnTopFloorAndNotComplete();
            if (this.cleared) {
                for (var c = !1, p = 0; p < y.DarktowerZone.REWARDS.length; p++) {
                    var u = y.DarktowerZone.REWARDS[p];
                    if (u.floor === this.floor) {
                        for (var d = this.game.prodigy.dialogue.create(), g = 0; g < u.text.length; g++) d.setText(o({}, u.text[g], {
                            text: e.prodigy.gameContainer.Localizer.getText(u.text[g].textKey)
                        }));
                        100 === this.floor && (r = !1), d.setText({
                            callback: this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, u.reward, function() {
                                n.onFloorComplete();
                            }, null, "dark-tower")
                        }), d.start("mira"), c = !0;
                    }
                }
                c || this.onFloorComplete(), this.floor < 100 && this.addAreaEvent(e, i, {
                    x: 900,
                    y: 200,
                    w: 120,
                    h: 80
                }, null, null, null, function() {
                    n.toFloor(n.floor + 1);
                }, h.EAreaEventAngle.UP);
            } else if (this.floor < 100) {
                this.ball = this.game.prodigy.create.sprite(640, 360, "atlas-124", "orb"), 
                this.ball.alpha = .5, this.ball.inputEnabled = !0, this.ball.anchor.setTo(.5, 1), 
                this.ball.events.onInputDown.add(this.battle.bind(this, i, this.ball), this), 
                i.content.add(this.ball), this.game.add.tween(this.ball).to({
                    y: this.ball.y + 10
                }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, s.GameConstants.MAX_SAFE_INTEGER, !0);
                var f = this.game.prodigy.create.font(i.content, 590, 295, "" + this.floor, {
                    size: 40,
                    width: 100,
                    align: "center"
                });
                this.game.add.tween(f).to({
                    y: f.y + 10
                }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, s.GameConstants.MAX_SAFE_INTEGER, !0);
                var m = this.game.prodigy.create.sprite(847, 65, "atlas-124", "barrier"), _ = this.game.prodigy.create.sprite(953, 65, "atlas-124", "barrier");
                _.scale.x = -1, m.inputEnabled = !0, m.events.onInputDown.add(function() {
                    n.blockDoor();
                }), m.alpha = .8, this.game.add.tween(m).to({
                    alpha: .3
                }, 1500, Phaser.Easing.Linear.None, !0, 0, 1e4, !0), i.background.add(m), 
                _.inputEnabled = !0, _.events.onInputDown.add(function() {
                    n.blockDoor();
                }), _.alpha = .8, this.game.add.tween(_).to({
                    alpha: .3
                }, 1500, Phaser.Easing.Linear.None, !0, 0, 1e4, !0), i.background.add(_);
            }
            if (this.floor % 5 == 0) {
                var v = {
                    x: 810,
                    y: 600
                };
                if (this.floor < 100) {
                    var E = this.cleared ? "-noglow" : "", b = i.content.add(this.game.prodigy.create.sprite(400, 400, "atlas-124", "statue" + E)), O = i.content.add(this.game.prodigy.create.sprite(880, 400, "atlas-124", "statue" + E));
                    b.anchor.setTo(.5, 1), O.anchor.setTo(.5, 1), b.scale.x = -1, 
                    v = {
                        x: 750,
                        y: 310
                    };
                }
                new l.QuestNPC(this.game, i.content, v.x, v.y, {
                    name: this.game.prodigy.gameContainer.Localizer.getText("NPC_NAME_MIRA_SHADE"),
                    atlas: "mira",
                    atlasID: 77
                }, function() {
                    n.onMiraClick(i);
                }).highlight(r, -80, -150);
            }
        }, e.prototype.toBase = function() {
            var t = this, e = this.game.prodigy.player.getTowerProgress();
            if ((e = e - e % 5 + 1) < 100) {
                var i = this.game.prodigy.dialogue.create();
                i.setText({
                    text: this.game.prodigy.gameContainer.Localizer.getText("TOWER_PROMPT_LEAVE", e),
                    face: 3,
                    anim: 1,
                    audio: y.DarktowerZone.AUDIO[1],
                    yes: function() {
                        t.game.prodigy.world.teleport("darktower-A1", 850, 380);
                    }
                }), i.start("mira");
            } else this.game.prodigy.world.teleport("darktower-A1", 850, 380);
        }, e.prototype.updateZoneNameFromCurrentFloor = function() {
            this.zoneName = "darktower-" + (this.floor < 100 ? "A2-" : "A3-") + "-" + this.floor;
        }, e.prototype.initListeners = function() {
            s.GameConstants.get("GameConstants.Build.DEBUG") && (this.game.broadcaster.addAppListener(c.EDebugEvents.AutoClickScene, this.onDebugAutoClick.bind(this), this), 
            this.game.broadcaster.addAppListener(c.EDebugEvents.AutoClickList, this.onDebugAutoClickList.bind(this), this));
        }, e.prototype.stopListeners = function() {
            s.GameConstants.get("GameConstants.Build.DEBUG") && (this.game.broadcaster.removeAppListener(c.EDebugEvents.AutoClickScene, this, this.game), 
            this.game.broadcaster.removeAppListener(c.EDebugEvents.AutoClickList, this, this.game));
        }, e.prototype.onDebugAutoClick = function(t) {
            "orb" === t && u.Util.isValid(this.ball) && this.battle(this.screen, this.ball);
        }, e.prototype.onDebugAutoClickList = function() {
            u.Util.log("orb");
        }, e.prototype.isOnTopFloorAndNotComplete = function() {
            return 100 === this.floor && this.game.prodigy.player.getTowerProgress() < 100;
        }, e.prototype.onMiraClick = function(t) {
            this.isOnTopFloorAndNotComplete() ? this.battle(t) : this.npcDialogue();
        }, e.prototype.onFloorComplete = function() {
            var t = this;
            if (this.game.prodigy.player.completeTower(this.floor), this.game.prodigy.player.isBlockedByDarkTowerMemberGate()) {
                var e = {
                    conversionFunnelName: d.EFunnelEventIDs.FunnelEnterDarkTower,
                    conversionFunnelMetadata: "previewEnd"
                };
                this.game.prodigy.network.sendConversionFunnelEvent(e.conversionFunnelName, d.EFunnelEventIDs.StageEnterTower, e.conversionFunnelMetadata), 
                this.game.prodigy.open.membership({}, function() {
                    t.game.prodigy.player.isBlockedByDarkTowerMemberGate() && t.game.prodigy.world.teleport("darktower-A1", 200, 400);
                }, e);
            }
        }, e.prototype.blockDoor = function() {
            var t = this.game.prodigy.dialogue.create();
            t.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("TOWER_PROMPT_MUST_DEFEAT"),
                face: 3,
                anim: 1,
                audio: y.DarktowerZone.AUDIO[1]
            }), t.start("mira");
        }, e.prototype.setPlayerAsOpponent = function(t) {
            var e = this.game.prodigy.player, i = {
                level: r(this.game.prodigy.player.data, "level", 100).toString()
            }, a = {
                data: JSON.stringify(i),
                appearance: JSON.stringify(e.appearance.data),
                equipment: JSON.stringify(e.equipment.data)
            };
            t.wizards = [ a ], t.pets = [];
            for (var n = this.game.prodigy.player.kennel.getTeam(), o = 0; o < n.length; o++) if (u.Util.isValid(n[o])) {
                var s = n[o].getID(), l = n[o].getLevel();
                u.Util.isValid(p.Items.getItem("pet", s)) && t.pets.push({
                    ID: s,
                    level: l
                });
            }
        }, e.prototype.npcDialogue = function() {
            var t = this.game.prodigy.dialogue.create(), e = this.game.prodigy.gameContainer.Localizer;
            this.game.prodigy.player.getTowerProgress() < 100 ? t.setText({
                text: e.getText("TOWER_NEXT_CHALLENGER"),
                face: 3,
                anim: 4,
                audio: y.DarktowerZone.AUDIO[2]
            }) : t.setText({
                text: e.getText("TOWER_ALL_DEFEATED"),
                face: 0
            }), t.start("mira");
        }, e.prototype.battle = function(t, e) {
            u.Util.isValid(e) && (e.inputEnabled = !1);
            var i = y.DarktowerZone.OPPONENTS[this.floor - 1], a = Math.min(Math.floor(this.floor / 10), 10);
            if (90 === this.floor && this.setPlayerAsOpponent(i), this.mods = {
                boss: u.Util.copyObject(i.boss),
                screen: this.battleBG,
                opponent: u.Util.copyObject(i.wizards),
                catch: !1,
                pets: u.Util.copyObject(i.pets),
                difficulty: a,
                towerFloor: this.floor
            }, u.Util.isValid(this.mods.boss) && u.Util.isValid(this.mods.boss.nameKey) && (this.mods.boss.name = this.game.prodigy.gameContainer.Localizer.getText(this.mods.boss.nameKey)), 
            this.floor % 5 != 0) new f.Roulette(this.game, t, t.above, this.mods, this.startBattle.bind(this)); else {
                t.user.setValidPath(t.path, t.user.x, t.user.y);
                var n = y.DarktowerZone.DIALOGUE[Math.floor(this.floor / 5 - 1)];
                if (u.Util.isValid(n)) {
                    for (var r = this.game.prodigy.dialogue.create(), s = 0; s < n.length; s++) r.setText(o({}, n[s], {
                        text: this.game.prodigy.gameContainer.Localizer.getText(n[s].textKey)
                    }));
                    r.setText({
                        callback: this.startBattle.bind(this)
                    }), r.start("mira");
                } else this.startBattle();
            }
        }, e.prototype.startBattle = function() {
            var t = this, e = "";
            this.floor < 10 ? e = "00" : this.floor < 100 && (e = "0"), this.game.prodigy.network.sendAnalytics("Dark-Tower-Battle", "Floor" + e + this.floor + "-BattleStarted", "Events");
            var i = function(e) {
                var i = t.floor < 100 ? "A2" : "A3";
                t.zone.maps[i].cleared = !0, t.game.prodigy.world.teleport("darktower-" + i, e.x, e.y);
            };
            s.GameConstants.get("GameConstants.Debug.AUTO_RESOLVE_TOWER_BATTLES_ENABLED") ? i(this.screen.user.position) : (this.game.prodigy.network.sendBattleStartTypeEvent("DarkTowerBattle"), 
            this.game.prodigy.battle.start(this.mods, function() {
                t.game.prodigy.world.teleport("darktower-A1", 200, 400);
            }, i.bind(this, this.screen.user.position), null, "darktower-A1"));
        }, e.prototype.toFloor = function(t) {
            if (t > 100) this.toBase(); else {
                var e = t < 100 ? "A2" : "A3";
                this.zone.maps[e].floor = t, this.zone.maps[e].updateZoneNameFromCurrentFloor(), 
                this.zone.maps[e].cleared = !1, this.game.prodigy.world.teleport("darktower-" + e, 260, 550);
            }
        }, e;
    }(g.Map);
    e.DarktowerMap = m;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(38), r = i(0), s = i(31), l = i(523), h = i(522), c = i(481), p = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            i.name = "Dark Tower", i.ID = "darktower", i.battleBG = "battle-tower-inside", 
            i.onFaint = "darktower-A1", i.questHub = "darktower-A1", i.states = [];
            var a = [ "tileset-darktower", "npc-forest-new", "tileset-generic-new", "tileset-collisions", "tileset-forest-new", "atlas-77", "bgm-4" ];
            return i.maps = {
                A1: new l.DarktowerA1(i, a),
                A2: new h.DarktowerA2(i, a),
                A3: new c.DarktowerA3(i, a)
            }, i;
        }
        return n(e, t), e.prototype.teleport = function(e, i, a, n, o) {
            void 0 === o && (o = {}), r.Util.isValid(this.maps[e].floor) ? t.prototype.teleport.call(this, e, 260, 550, n, o) : "A1" !== e ? t.prototype.teleport.call(this, "A1", 200, 400, n, o) : t.prototype.teleport.call(this, "A1", i, a, n, o);
        }, e.AUDIO = [ {
            tag: "voice-2",
            s: 0,
            d: 1
        }, {
            tag: "voice-2",
            s: 1,
            d: 1
        }, {
            tag: "voice-2",
            s: 2,
            d: 1
        }, {
            tag: "voice-2",
            s: 3,
            d: 1
        }, {
            tag: "voice-2",
            s: 4,
            d: 2
        }, {
            tag: "voice-2",
            s: 6,
            d: 1
        }, {
            tag: "voice-2",
            s: 7,
            d: 2
        }, {
            tag: "voice-2",
            s: 9,
            d: 1
        } ], e.REWARDS = [ {
            floor: 10,
            reward: [ {
                type: "gold",
                N: 500
            } ],
            text: [ {
                textKey: "DIALOGUE_MIRA_REWARD",
                face: 0,
                audio: e.AUDIO[6]
            } ]
        }, {
            floor: 20,
            reward: [ {
                type: "gold",
                N: 500
            } ],
            text: [ {
                textKey: "DIALOGUE_MIRA_REWARD",
                face: 0,
                audio: e.AUDIO[6]
            } ]
        }, {
            floor: 30,
            reward: [ {
                type: "gold",
                N: 500
            } ],
            text: [ {
                textKey: "DIALOGUE_MIRA_REWARD",
                face: 0,
                audio: e.AUDIO[6]
            } ]
        }, {
            floor: 40,
            reward: [ {
                type: "gold",
                N: 500
            } ],
            text: [ {
                textKey: "DIALOGUE_MIRA_REWARD",
                face: 0,
                audio: e.AUDIO[6]
            } ]
        }, {
            floor: 50,
            reward: [ {
                type: "gold",
                N: 1e3
            } ],
            text: [ {
                textKey: "DIALOGUE_MIRA_REWARD",
                face: 0,
                audio: e.AUDIO[6]
            } ]
        }, {
            floor: 60,
            reward: [ {
                type: "gold",
                N: 500
            } ],
            text: [ {
                textKey: "DIALOGUE_MIRA_REWARD",
                face: 0,
                audio: e.AUDIO[6]
            } ]
        }, {
            floor: 70,
            reward: [ {
                type: "gold",
                N: 500
            } ],
            text: [ {
                textKey: "DIALOGUE_MIRA_REWARD",
                face: 0,
                audio: e.AUDIO[6]
            } ]
        }, {
            floor: 80,
            reward: [ {
                type: "gold",
                N: 500
            } ],
            text: [ {
                textKey: "DIALOGUE_MIRA_REWARD",
                face: 0,
                audio: e.AUDIO[6]
            } ]
        }, {
            floor: 90,
            reward: [ {
                type: "gold",
                N: 500
            } ],
            text: [ {
                textKey: "DIALOGUE_MIRA_REWARD",
                face: 0,
                audio: e.AUDIO[6]
            } ]
        }, {
            floor: 100,
            reward: [ {
                type: "outfit",
                ID: 38
            }, {
                type: "hat",
                ID: 42
            }, {
                type: "weapon",
                ID: 68
            } ],
            text: [ {
                textKey: "DIALOGUE_MIRA_DEFEAT_0",
                face: 3,
                audio: e.AUDIO[3]
            }, {
                textKey: "DIALOGUE_MIRA_DEFEAT_1",
                face: 3
            }, {
                textKey: "DIALOGUE_MIRA_DEFEAT_2",
                face: 1,
                audio: e.AUDIO[6]
            }, {
                textKey: "DIALOGUE_MIRA_DEFEAT_3",
                face: 2
            }, {
                textKey: "DIALOGUE_MIRA_DEFEAT_4",
                face: 1,
                audio: e.AUDIO[0]
            } ]
        } ], e.DIALOGUE = [ [ {
            textKey: "DIALOGUE_MIRA_9",
            face: 0,
            audio: e.AUDIO[2]
        } ], [ {
            textKey: "DIALOGUE_MIRA_10",
            face: 2
        }, {
            textKey: "DIALOGUE_MIRA_11",
            face: 1,
            audio: e.AUDIO[0]
        } ], [ {
            textKey: "DIALOGUE_MIRA_12",
            face: 0
        }, {
            textKey: "DIALOGUE_MIRA_13",
            face: 0,
            audio: e.AUDIO[0]
        } ], [ {
            textKey: "DIALOGUE_MIRA_14",
            face: 2
        }, {
            textKey: "DIALOGUE_MIRA_15",
            face: 1
        } ], [ {
            textKey: "DIALOGUE_MIRA_16",
            face: 0,
            audio: e.AUDIO[6]
        } ], [ {
            textKey: "DIALOGUE_MIRA_17",
            face: 2
        }, {
            textKey: "DIALOGUE_MIRA_18",
            face: 1,
            audio: e.AUDIO[0]
        } ], [ {
            textKey: "DIALOGUE_MIRA_19",
            face: 2
        }, {
            textKey: "DIALOGUE_MIRA_20",
            face: 2,
            audio: e.AUDIO[0]
        } ], [ {
            textKey: "DIALOGUE_MIRA_21",
            face: 1
        }, {
            textKey: "DIALOGUE_MIRA_22",
            face: 2,
            audio: e.AUDIO[1]
        } ], [ {
            textKey: "DIALOGUE_MIRA_23",
            face: 2
        }, {
            textKey: "DIALOGUE_MIRA_24",
            face: 0
        } ], [ {
            textKey: "DIALOGUE_MIRA_25",
            face: 2,
            audio: e.AUDIO[1]
        }, {
            textKey: "DIALOGUE_MIRA_26",
            face: 0,
            audio: e.AUDIO[2]
        } ], [ {
            textKey: "DIALOGUE_MIRA_27",
            face: 3,
            audio: e.AUDIO[3]
        } ], [ {
            textKey: "DIALOGUE_MIRA_28",
            face: 2
        }, {
            textKey: "DIALOGUE_MIRA_29",
            face: 1,
            audio: e.AUDIO[0]
        } ], [ {
            textKey: "DIALOGUE_MIRA_30",
            face: 2
        }, {
            textKey: "DIALOGUE_MIRA_31",
            face: 2
        } ], [ {
            textKey: "DIALOGUE_MIRA_32",
            face: 2
        }, {
            textKey: "DIALOGUE_MIRA_33",
            face: 2
        } ], [ {
            textKey: "DIALOGUE_MIRA_34",
            face: 2
        }, {
            textKey: "DIALOGUE_MIRA_35",
            face: 1
        } ], [ {
            textKey: "DIALOGUE_MIRA_36",
            face: 1,
            audio: e.AUDIO[2]
        } ], [ {
            textKey: "DIALOGUE_MIRA_37",
            face: 0,
            audio: e.AUDIO[1]
        } ], [ {
            textKey: "DIALOGUE_MIRA_38",
            face: 3
        }, {
            textKey: "DIALOGUE_MIRA_39",
            face: 3,
            audio: e.AUDIO[3]
        } ], [ {
            textKey: "DIALOGUE_MIRA_40",
            face: 3
        }, {
            textKey: "DIALOGUE_MIRA_41",
            face: 3,
            audio: e.AUDIO[2]
        } ], [ {
            textKey: "DIALOGUE_MIRA_42",
            face: 3,
            audio: e.AUDIO[1]
        }, {
            textKey: "DIALOGUE_MIRA_43",
            face: 3
        }, {
            textKey: "DIALOGUE_MIRA_44",
            face: 0,
            audio: e.AUDIO[7]
        }, {
            textKey: "DIALOGUE_MIRA_45",
            face: 1,
            audio: e.AUDIO[0]
        }, {
            textKey: "DIALOGUE_MIRA_46",
            face: 3,
            audio: e.AUDIO[2]
        } ] ], e.OPPONENTS = [ {
            pets: [ {
                ID: 99,
                level: 5
            } ]
        }, {
            pets: [ {
                ID: 102,
                level: 5
            } ]
        }, {
            pets: [ {
                ID: 100,
                level: 5
            } ]
        }, {
            pets: [ {
                ID: 103,
                level: 5
            } ]
        }, {
            pets: [ {
                ID: 101,
                level: 5
            }, {
                ID: 104,
                level: 5
            } ]
        }, {
            pets: [ {
                ID: 31,
                level: 10
            } ]
        }, {
            pets: [ {
                ID: 55,
                level: 10
            } ]
        }, {
            pets: [ {
                ID: 60,
                level: 10
            } ]
        }, {
            pets: [ {
                ID: 29,
                level: 10
            } ]
        }, {
            pets: [ {
                ID: 92,
                level: 10
            }, {
                ID: 93,
                level: 10
            } ]
        }, {
            pets: [ {
                ID: 27,
                level: 15
            } ]
        }, {
            pets: [ {
                ID: 45,
                level: 15
            } ]
        }, {
            pets: [ {
                ID: 48,
                level: 15
            } ]
        }, {
            pets: [ {
                ID: 96,
                level: 15
            } ]
        }, {
            pets: [ {
                ID: 28,
                level: 15
            }, {
                ID: 49,
                level: 15
            } ]
        }, {
            pets: [ {
                ID: 4,
                level: 20
            } ]
        }, {
            pets: [ {
                ID: 10,
                level: 20
            } ]
        }, {
            pets: [ {
                ID: 5,
                level: 20
            } ]
        }, {
            pets: [ {
                ID: 11,
                level: 20
            } ]
        }, {
            pets: [ {
                ID: 6,
                level: 20
            }, {
                ID: 12,
                level: 20
            } ]
        }, {
            pets: [ {
                ID: 1,
                level: 25
            } ]
        }, {
            pets: [ {
                ID: 52,
                level: 25
            } ]
        }, {
            pets: [ {
                ID: 2,
                level: 25
            } ]
        }, {
            pets: [ {
                ID: 53,
                level: 25
            } ]
        }, {
            pets: [ {
                ID: 3,
                level: 25
            }, {
                ID: 54,
                level: 25
            } ]
        }, {
            pets: [ {
                ID: 78,
                level: 30
            } ]
        }, {
            pets: [ {
                ID: 46,
                level: 30
            } ]
        }, {
            pets: [ {
                ID: 40,
                level: 30
            } ]
        }, {
            pets: [ {
                ID: 79,
                level: 30
            } ]
        }, {
            pets: [ {
                ID: 80,
                level: 30
            }, {
                ID: 47,
                level: 30
            }, {
                ID: 50,
                level: 30
            } ]
        }, {
            pets: [ {
                ID: 94,
                level: 35
            } ]
        }, {
            pets: [ {
                ID: 85,
                level: 35
            } ]
        }, {
            pets: [ {
                ID: 82,
                level: 35
            } ]
        }, {
            pets: [ {
                ID: 76,
                level: 35
            } ]
        }, {
            pets: [ {
                ID: 35,
                level: 35
            }, {
                ID: 36,
                level: 35
            }, {
                ID: 37,
                level: 35
            } ]
        }, {
            pets: [ {
                ID: 87,
                level: 40
            } ]
        }, {
            pets: [ {
                ID: 99,
                level: 40
            } ]
        }, {
            pets: [ {
                ID: 94,
                level: 40
            } ]
        }, {
            pets: [ {
                ID: 102,
                level: 40
            } ]
        }, {
            pets: [ {
                ID: 95,
                level: 40
            }, {
                ID: 80,
                level: 40
            }, {
                ID: 23,
                level: 40
            } ]
        }, {
            pets: [ {
                ID: 16,
                level: 45
            } ]
        }, {
            pets: [ {
                ID: 47,
                level: 45
            } ]
        }, {
            pets: [ {
                ID: 40,
                level: 45
            } ]
        }, {
            pets: [ {
                ID: 80,
                level: 45
            } ]
        }, {
            pets: [ {
                ID: 62,
                level: 45
            }, {
                ID: 26,
                level: 45
            }, {
                ID: 44,
                level: 45
            } ]
        }, {
            pets: [ {
                ID: 63,
                level: 50
            } ]
        }, {
            pets: [ {
                ID: 66,
                level: 50
            } ]
        }, {
            pets: [ {
                ID: 69,
                level: 50
            } ]
        }, {
            pets: [ {
                ID: 72,
                level: 50
            } ]
        }, {
            boss: {
                ID: 1,
                level: 50,
                element: "fire",
                attacks: [ 1, 2, 3, 4, 25, 26, 27 ],
                maxHP: 4 * (o.Creature.getHeartsFromCurve("A+", 1, 50) + 12),
                name: "Grandoff",
                spriteOffsetY: 80,
                battleOffsetX: 80,
                starBonus: 100
            }
        }, {
            pets: [ {
                ID: 23,
                level: 55
            } ]
        }, {
            pets: [ {
                ID: 46,
                level: 56
            } ]
        }, {
            pets: [ {
                ID: 23,
                level: 57
            } ]
        }, {
            pets: [ {
                ID: 46,
                level: 58
            } ]
        }, {
            pets: [ {
                ID: 46,
                level: 60
            }, {
                ID: 23,
                level: 60
            }, {
                ID: 47,
                level: 60
            } ]
        }, {
            pets: [ {
                ID: 75,
                level: 65
            } ]
        }, {
            pets: [ {
                ID: 78,
                level: 66
            } ]
        }, {
            pets: [ {
                ID: 81,
                level: 67
            } ]
        }, {
            pets: [ {
                ID: 84,
                level: 68
            } ]
        }, {
            pets: [ {
                ID: 80,
                level: 70
            }, {
                ID: 83,
                level: 70
            }, {
                ID: 86,
                level: 70
            } ]
        }, {
            pets: [ {
                ID: 43,
                level: 75
            } ]
        }, {
            pets: [ {
                ID: 12,
                level: 76
            } ]
        }, {
            pets: [ {
                ID: 54,
                level: 77
            } ]
        }, {
            pets: [ {
                ID: 6,
                level: 78
            } ]
        }, {
            pets: [ {
                ID: 58,
                level: 80
            }, {
                ID: 25,
                level: 80
            }, {
                ID: 61,
                level: 80
            } ]
        }, {
            pets: [ {
                ID: 75,
                level: 85
            } ]
        }, {
            pets: [ {
                ID: 78,
                level: 86
            } ]
        }, {
            pets: [ {
                ID: 81,
                level: 87
            } ]
        }, {
            pets: [ {
                ID: 84,
                level: 88
            } ]
        }, {
            pets: [ {
                ID: 31,
                level: 90
            }, {
                ID: 33,
                level: 90
            }, {
                ID: 31,
                level: 90
            } ]
        }, {
            pets: [ {
                ID: 63,
                level: 50
            }, {
                ID: 64,
                level: 85
            } ]
        }, {
            pets: [ {
                ID: 66,
                level: 55
            }, {
                ID: 67,
                level: 85
            } ]
        }, {
            pets: [ {
                ID: 69,
                level: 60
            }, {
                ID: 70,
                level: 85
            } ]
        }, {
            pets: [ {
                ID: 72,
                level: 65
            }, {
                ID: 73,
                level: 85
            } ]
        }, {
            pets: [ {
                ID: 2,
                level: 95
            }, {
                ID: 5,
                level: 95
            }, {
                ID: 8,
                level: 95
            }, {
                ID: 11,
                level: 95
            } ]
        }, {
            pets: [ {
                ID: 1,
                level: 95
            } ]
        }, {
            pets: [ {
                ID: 4,
                level: 96
            } ]
        }, {
            pets: [ {
                ID: 7,
                level: 97
            } ]
        }, {
            pets: [ {
                ID: 10,
                level: 98
            } ]
        }, {
            wizards: [ {
                data: '{"level":50}',
                appearance: '{"name":"Frozine", "gender":"female", "hair": { "style": 11, "color": 9 }, "skinColor":1, "eyeColor":13}',
                equipment: '{"hat":37, "outfit":33, "weapon":63}'
            }, {
                data: '{"level":50}',
                appearance: '{"name":"Thundane", "gender":"male", "hair": { "style": 19, "color": 16 }, "skinColor":2, "eyeColor":9}',
                equipment: '{"hat":8, "outfit":24, "weapon":23}'
            }, {
                data: '{"level":50}',
                appearance: '{"name":"Sprout", "gender":"female", "hair": { "style": 7, "color": 8 }, "skinColor":3, "eyeColor":6}',
                equipment: '{"hat":33, "outfit":29, "weapon":24}'
            }, {
                data: '{"level":50}',
                appearance: '{"name":"Charcole", "gender":"male", "hair": { "style": 18, "color": 6 }, "skinColor":2, "eyeColor":3}',
                equipment: '{"hat":11, "outfit":8, "weapon":64}'
            }, {
                data: '{"level":50}',
                appearance: '{"name":"Pounce", "gender":"male", "hair": { "style": 23, "color": 5 }, "skinColor":4, "eyeColor":14}',
                equipment: '{"hat":32, "outfit":31, "weapon":60}'
            } ]
        }, {
            pets: [ {
                ID: 38,
                level: 100
            } ]
        }, {
            pets: [ {
                ID: 87,
                level: 100
            } ]
        }, {
            pets: [ {
                ID: 39,
                level: 100
            } ]
        }, {
            pets: [ {
                ID: 72,
                level: 100
            } ]
        }, {
            pets: [ {
                ID: 43,
                level: 100
            }, {
                ID: 26,
                level: 100,
                evolve: [ {
                    ID: 25,
                    lvl: 53
                } ]
            }, {
                ID: 44,
                level: 100,
                evolve: [ {
                    ID: 43,
                    lvl: 43
                } ]
            }, {
                ID: 61,
                level: 100
            } ]
        }, {
            pets: [ {
                ID: 57,
                level: 100
            } ]
        }, {
            pets: [ {
                ID: 61,
                level: 100
            } ]
        }, {
            pets: [ {
                ID: 15,
                level: 100
            } ]
        }, {
            pets: [ {
                ID: 98,
                level: 100
            } ]
        }, {}, {
            pets: [ {
                ID: 49,
                level: 100
            } ]
        }, {
            pets: [ {
                ID: 50,
                level: 100
            } ]
        }, {
            pets: [ {
                ID: 54,
                level: 100
            } ]
        }, {
            pets: [ {
                ID: 39,
                level: 100,
                evolve: [ {
                    ID: 38,
                    lvl: 50
                } ]
            } ]
        }, {
            pets: [ {
                ID: 97,
                level: 100
            }, {
                ID: 89,
                level: 100,
                evolve: [ {
                    ID: 87,
                    lvl: 50
                }, {
                    ID: 88,
                    lvl: 55
                } ]
            }, {
                ID: 12,
                level: 100,
                evolve: [ {
                    ID: 11,
                    lvl: 55
                } ]
            }, {
                ID: 42,
                level: 100,
                evolve: [ {
                    ID: 40,
                    lvl: 58
                }, {
                    ID: 41,
                    lvl: 60
                } ]
            } ]
        }, {
            pets: [ {
                ID: 63,
                level: 50
            }, {
                ID: 66,
                level: 50
            }, {
                ID: 69,
                level: 50
            }, {
                ID: 72,
                level: 50
            } ]
        }, {
            pets: [ {
                ID: 64,
                level: 75
            }, {
                ID: 67,
                level: 75
            }, {
                ID: 70,
                level: 75
            }, {
                ID: 73,
                level: 75
            } ]
        }, {
            pets: [ {
                ID: 65,
                level: 100
            }, {
                ID: 68,
                level: 100
            }, {
                ID: 71,
                level: 100
            }, {
                ID: 74,
                level: 100
            } ]
        }, {
            pets: [ {
                ID: 63,
                level: 50
            }, {
                ID: 66,
                level: 50
            }, {
                ID: 69,
                level: 50
            }, {
                ID: 72,
                level: 50
            } ]
        }, {
            boss: {
                ID: 2,
                level: 100,
                element: "wizard",
                attacks: [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36 ],
                maxHP: 4 * (o.Creature.getHeartsFromCurve("A+", 1, 100) + 12),
                name: "Mira Shade",
                spriteOffsetY: 200,
                spriteOffsetX: 130
            }
        } ], e;
    }(s.Zone);
    e.DarktowerZone = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(4), s = i(0), l = i(31), h = i(565), c = i(564), p = i(563), u = i(562), d = i(561), g = i(559), y = i(558), f = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            i.name = "Activity_Zone", i.ID = "activity_zone", i.battleBG = "battle-forest-generic", 
            i.onFaint = "activity_zone-B3", i.questHub = "activity_zone-B3", i.states = [ "firstVisit", "dailyQuest", "questCompleteDialogue", "questExpiredDialogue", "handedOverQuest", "chest1" ], 
            i.monsterIds = [ {
                ID: 19
            }, {
                ID: 21
            }, {
                ID: 22
            }, {
                ID: 34
            }, {
                ID: 36
            }, {
                ID: 37
            }, {
                ID: 41
            }, {
                ID: 53
            }, {
                ID: 54
            }, {
                ID: 58
            }, {
                ID: 60
            }, {
                ID: 64
            }, {
                ID: 65
            }, {
                ID: 67
            }, {
                ID: 70
            }, {
                ID: 71
            }, {
                ID: 75
            }, {
                ID: 82
            }, {
                ID: 88
            }, {
                ID: 93
            } ];
            var a = [ "tileset-firefly-new", "tileset-forest-new", "tileset-generic-new", "tileset-collisions", "tileset-activityzone" ];
            return i.maps = {
                A1: new h.ActivityZoneA1(i, a),
                A2: new c.ActivityZoneA2(i, a),
                B1: new p.ActivityZoneB1(i, a),
                B2: new u.ActivityZoneB2(i, a),
                B3: new d.ActivityZoneB3(i, a),
                C1: new g.ActivityZoneC1(i, a),
                C2: new y.ActivityZoneC2(i, a)
            }, i;
        }
        return n(e, t), e.prototype.getDailyQuestData = function(t) {
            if (0 === t) {
                var e = this.getMonsterId(), i = this.game.prodigy.gameContainer.Localizer.getText(22 === e.ID ? "QUESTS_ACTIVITY_ZONE_DAILY_SINGLE" : "QUESTS_ACTIVITY_ZONE_DAILY_PLURAL", r.Items.getItem("pet", e.ID).data.name), a = "default-pet-" + e.ID, n = this.game.prodigy.assets.getImageBounds(a), o = this.game.prodigy.assets.getImagePivots(a);
                return {
                    description: i,
                    source: a,
                    frame: null,
                    xOffset: s.Util.isValid(o[0]) ? -o[0] : -n[0],
                    yOffset: -n[3]
                };
            }
            return null;
        }, e.prototype.getMonsterId = function() {
            var t;
            if (o.GameConstants.get("GameConstants.Build.DEBUG") && e.FORCE_MONSTER_TYPE) t = this.monsterIds[e.MONSTER_ID % this.monsterIds.length]; else {
                var i = this.hasDailyQuestExpired() || this.isDailyQuestComplete() || !s.Util.isValid(this.getState("dailyQuest")) ? s.Util.getDateId() : this.getState("dailyQuest").dateId;
                t = this.monsterIds[Math.floor(this.game.seededRandom.frac(i) * this.monsterIds.length)];
            }
            return t;
        }, e.prototype.getDailyQuestDescription = function(t) {
            return 0 === t ? {
                type: "pet",
                ID: this.getMonsterId().ID,
                N: this.getRemainingQuestObjectives()
            } : {};
        }, e.prototype.getMonsterList = function() {
            if (this.hasDailyQuestExpired() || this.isDailyQuestComplete() && this.getState("handedOverQuest")) return this.monsterIds;
            for (var t = s.Util.copyObject(this.monsterIds), e = this.getMonsterId(), i = 0; i < t.length; i++) if (e.ID === t[i].ID) return t.splice(i, 1), 
            t;
        }, e.prototype.onNpcClicked = function(t) {
            var e = this.game.prodigy.event.create();
            this.game.prodigy.network.sendAnalytics("activity-zone-npc", "speak-npc-MVP", "Events"), 
            this.isDailyQuestComplete() ? (e.text(3, "swoopy"), e.text(4, "swoopy"), 
            e.function(this.activityEndQuest.bind(this, t))) : this.hasDailyQuestExpired() ? (e.text(0, "swoopy"), 
            e.text(1, "swoopy"), e.function(this.game.prodigy.open.questDescription.bind(this.game.prodigy.open, this.getDailyQuestData(0), this.activityStartQuest.bind(this, t)))) : e.text(2, "swoopy"), 
            e.start();
        }, e.prototype.activityStartQuest = function(t) {
            this.startNewDailyQuest(0, 6), this.setState("questCompleteDialogue", !1), 
            this.setState("questExpiredDialogue", !1), this.setState("handedOverQuest", !1), 
            s.Util.isValid(t) && t.process(!0);
        }, e.prototype.activityEndQuest = function(t) {
            this.setState("handedOverQuest", !0), s.Util.isValid(t) && t.process(!0);
        }, e.FORCE_MONSTER_TYPE = !1, e.MONSTER_ID = 0, e;
    }(l.Zone);
    e.ActivityZone = f;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, {
                name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_PUPPETMASTER"),
                npc: !0,
                nameX: 0,
                nameY: -250
            }, 1, a, n) || this;
            return o.setup(), o;
        }
        return n(e, t), e.prototype.setup = function() {
            var t = "atlas-83", e = -61, i = -150;
            this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), 
            this.armR = this.sprite.add(this.game.prodigy.create.sprite(-73, -124, t, "arm-right")), 
            this.handR = this.sprite.add(this.game.prodigy.create.sprite(-83, -138, t, "hand-1")), 
            this.body = this.sprite.add(this.game.prodigy.create.sprite(e, i, t, "body-0")), 
            this.armL = this.sprite.add(this.game.prodigy.create.sprite(9, -132, t, "arm-left")), 
            this.handL = this.sprite.add(this.game.prodigy.create.sprite(62, -132, t, "hand-0")), 
            this.fingersL = this.sprite.add(this.game.prodigy.create.sprite(44, -163, t, "fingers-0")), 
            this.head = this.sprite.add(this.game.prodigy.create.sprite(-41, -186, t, "head")), 
            this.staff = this.sprite.add(this.game.prodigy.create.sprite(-114, -220, t, "staff-0")), 
            this.walkTween = [], this.walkTween.push(new o.TweenController(this.head)), 
            this.walkTween[0].set("y", [ this.head.y, this.head.y - 2, this.head.y - 3, this.head.y - 2 ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.body)), this.walkTween[1].set("frameName", [ "body-0", "body-1", "body-2", "body-3" ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.body)), this.walkTween[2].set("y", [ this.body.y, this.body.y - 4, this.body.y - 4, this.body.y - 2 ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.armR)), this.walkTween[3].set("y", [ this.armR.y, this.armR.y - 5, this.armR.y - 5, this.armR.y - 2 ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.armR)), this.walkTween[4].set("x", [ this.armR.x, this.armR.x + 1, this.armR.x, this.armR.x - 1 ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.handR)), this.walkTween[5].set("y", [ this.handR.y, this.handR.y - 3, this.handR.y - 3, this.handR.y - 1 ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.handR)), this.walkTween[6].set("x", [ this.handR.x, this.handR.x - 2, this.handR.x - 3, this.handR.x - 2 ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.staff)), this.walkTween[7].set("y", [ this.staff.y, this.staff.y - 3, this.staff.y - 4, this.staff.y - 3 ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.armL)), this.walkTween[8].set("y", [ this.armL.y, this.armL.y - 4, this.armL.y - 3, this.armL.y - 1 ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.armL)), this.walkTween[9].set("x", [ this.armL.x, this.armL.x - 1, this.armL.x - 1, this.armL.x - 1 ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.handL)), this.walkTween[10].set("y", [ this.handL.y, this.handL.y - 2, this.handL.y - 1, this.handL.y + 1 ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.handL)), this.walkTween[11].set("x", [ this.handL.x, this.handL.x - 1, this.handL.x - 1, this.handL.x ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.fingersL)), this.walkTween[12].set("frameName", [ "fingers-0", "fingers-1", "fingers-2", "fingers-1" ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.fingersL)), this.walkTween[13].set("y", [ this.fingersL.y, this.fingersL.y - 1, this.fingersL.y, this.fingersL.y + 1 ], 200, 9999), 
            this.walkTween.push(new o.TweenController(this.fingersL)), this.walkTween[11].set("x", [ this.fingersL.x, this.fingersL.x + 1, this.fingersL.x + 1, this.fingersL.x ], 200, 9999), 
            this.stand();
        }, e.prototype.walk = function() {
            this.stand();
        }, e.prototype.update = function() {
            t.prototype.update.call(this);
            for (var e = 0; e < this.walkTween.length; e++) this.walkTween[e].update();
        }, e.prototype.stand = function() {
            for (var t = 0; t < this.walkTween.length; t++) this.walkTween[t].start();
        }, e;
    }(i(14).CreatureContainer);
    e.PuppetMaster = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = i(96), s = i(0), l = function(t) {
        function e(e, i, a, n, o, r, s) {
            var l = t.call(this, e, i, {
                name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_PIPPET"),
                npc: !0
            }, null, a, n) || this;
            return l.tweens = [], l.user = o, l.path = r, l.mods = {
                boss: {
                    element: "shadow",
                    attacks: [ 43 ],
                    name: "Pippet",
                    tag: "pippet",
                    pippetBattle: !0,
                    heartsCurveType: "A-",
                    levelOffset: 3
                },
                drops: [ {
                    type: "currency",
                    ID: 3,
                    N: 1
                } ],
                difficulty: 8
            }, l.setup(), l;
        }
        return n(e, t), e.prototype.setup = function() {
            var t = "atlas-82", e = -20, i = -60;
            this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), 
            this.torso = this.sprite.add(this.game.prodigy.create.sprite(e, i, t, "torso")), 
            this.head = this.sprite.add(this.game.prodigy.create.sprite(-53, -122, t, "head-0")), 
            this.face = this.sprite.add(this.game.prodigy.create.sprite(-13, -91, t, "face-0")), 
            this.handL = this.sprite.add(this.game.prodigy.create.sprite(-47, -55, t, "hand-l-0")), 
            this.handR = this.sprite.add(this.game.prodigy.create.sprite(28, i, t, "hand-r-0")), 
            this.sprite.add(this.game.prodigy.create.sprite(-33, -24, t, "feet")), 
            this.walkTween = [], this.walkTween.push(new o.TweenController(this.head)), 
            this.walkTween[0].set("frameName", [ "head-0", "head-0", "head-0", "head-1", "head-2", "head-0" ], 133, 9999), 
            this.walkTween.push(new o.TweenController(this.head)), this.walkTween[1].set("y", [ this.head.y, this.head.y, this.head.y + 1, this.head.y + 3, this.head.y + 2, this.head.y + 1 ], 133, 9999), 
            this.walkTween.push(new o.TweenController(this.face)), this.walkTween[2].set("frameName", [ "face-0", "face-0", "face-2", "face-0", "face-1", "face-1" ], 133, 9999), 
            this.walkTween.push(new o.TweenController(this.face)), this.walkTween[3].set("y", [ this.face.y, this.face.y, this.face.y + 1, this.face.y + 3, this.face.y + 2, this.face.y + 1 ], 133, 9999), 
            this.walkTween.push(new o.TweenController(this.torso)), this.walkTween[4].set("y", [ this.torso.y, this.torso.y, this.torso.y, this.torso.y + 1, this.torso.y + 1, this.torso.y ], 133, 9999), 
            this.walkTween.push(new o.TweenController(this.handL)), this.walkTween[5].set("frameName", [ "hand-l-0", "hand-l-0", "hand-l-0", "hand-l-1", "hand-l-2", "hand-l-1" ], 133, 9999), 
            this.walkTween.push(new o.TweenController(this.handL)), this.walkTween[6].set("y", [ this.handL.y, this.handL.y, this.handL.y, this.handL.y + 1, this.handL.y + 1, this.handL.y + 1 ], 133, 9999), 
            this.walkTween.push(new o.TweenController(this.handR)), this.walkTween[7].set("frameName", [ "hand-r-0", "hand-r-0", "hand-r-0", "hand-r-1", "hand-r-2", "hand-r-1" ], 133, 9999), 
            this.walkTween.push(new o.TweenController(this.handR)), this.walkTween[8].set("y", [ this.handR.y, this.handR.y, this.handR.y, this.handR.y + 2, this.handR.y + 2, this.handR.y + 2 ], 133, 9999), 
            this.stand();
        }, e.prototype.process = function(t, e) {
            this.zone = t, this.map = e;
        }, e.prototype.update = function() {
            t.prototype.update.call(this);
            for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update();
            var i = Phaser.Math.distanceSq(this.x, this.y, this.user.x, this.user.y) < 4e4, a = !1;
            s.Util.isValid(this.game.prodigy.world.pippetEncounterDaily) && (a = this.game.prodigy.world.pippetEncounterDaily.isComplete());
            var n = this.path.isPathBlocked(this.x, this.y, this.user.x, this.user.y), o = this.visible && !this.user.evtProc && i && !n;
            this.started || !a && !o || this.alert();
        }, e.prototype.alert = function() {
            this.started = !0, this.user.setPath([]), this.user.x = Math.floor(this.user.x), 
            this.user.y = Math.floor(this.user.y), this.game.prodigy.network.emitMessage({
                action: "move",
                data: {
                    userID: this.game.prodigy.player.userID,
                    path: [ {
                        x: this.user.x,
                        y: this.user.y
                    } ]
                }
            });
            var t = this.game.prodigy.event.create();
            t.function(this.faceToward.bind(this, this.user.x)), this.game.prodigy.world.pippetEncounterDaily.isComplete() ? this.completeDailyCutscene(t) : this.startDailyCutscene(t), 
            t.start();
        }, e.prototype.startDailyCutscene = function(t) {
            var e = this;
            t.function(this.chat.bind(this, 1, 150, !0)), t.function(this.faceToward.bind(this, this.user.x)), 
            t.delay(1e3), t.function(function() {
                e.chatBubble.destroy(), e.endChat();
            }), t.delay(300), t.text(this.game.prodigy.world.pippetEncounterSpawn.dialogue, "pippet"), 
            t.sound(19, "monster"), t.function(this.startBattle.bind(this));
        }, e.prototype.completeDailyCutscene = function(t) {
            t.text(r.PippetEncounter.data.completeDialogue, "pippet"), t.function(this.stopAnimations.bind(this)), 
            t.set(this.nameText, "visible", !1), t.set(this.pivot, "y", .5 * -this.height), 
            t.set(this, "y", this.y - .5 * this.height), t.tween(this.scale, {
                x: 0,
                y: 0
            }, 1e3, Phaser.Easing.Linear.None, !0), t.tween(this, {
                x: 640,
                y: -200,
                rotation: 360
            }, 1e3, Phaser.Easing.Linear.None), t.set(this.game.prodigy.world, "pippetEncounterSpawn", null), 
            t.set(this, "visible", !1);
        }, e.prototype.startBattle = function() {
            var t = this.game, e = this.map.getLocation(), i = {
                x: this.user.x,
                y: this.user.y
            };
            this.mods.screen = this.map.battleBG, this.game.prodigy.network.sendAnalytics("random-pippet-battles", "pippet-initiate-class-percent", "Events"), 
            this.game.prodigy.network.sendBattleStartTypeEvent("PippetBattle"), 
            this.zone.getBattle(this.map, this.game.prodigy.gameContainer.Localizer.getText("COMBAT_PIPPET_BATTLE"), this.mods, function() {
                t.prodigy.world.pippetEncounterDaily.complete(), t.prodigy.world.teleport(e, i.x, i.y);
            })();
        }, e.prototype.walk = function() {
            this.stand();
            this.hopTween = this.game.add.tween(this.sprite.position), this.hopTween.to({
                y: -50
            }, 150, Phaser.Easing.Linear.None, !0, 0, -1, !0), this.nameHop = this.game.add.tween(this.nameText.position), 
            this.nameHop.to({
                y: this.nameText.position.y + -50
            }, 150, Phaser.Easing.Linear.None, !0, 0, -1, !0);
        }, e.prototype.stand = function() {
            this.tweens = this.walkTween;
            for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start();
            s.Util.isDefined(this.hopTween) && this.hopTween.repeat(0), s.Util.isDefined(this.nameHop) && this.nameHop.repeat(0);
        }, e.prototype.stopAnimations = function() {
            this.tweens = [], s.Util.isDefined(this.hopTween) && (this.hopTween.stop(), 
            this.hopTween = null), s.Util.isDefined(this.nameHop) && (this.nameHop.stop(), 
            this.nameHop = null);
        }, e;
    }(i(14).CreatureContainer);
    e.Pippet = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, "GH2", "MAP_ACADEMY_GREATHALL", 640, 600, [ "academy-GH3", "academy-GH1" ], i.concat([ "spine-65", "spine-69", "spine-72", "spine-73", "spine-74" ])) || this;
        }
        return n(e, t), e.prototype.setup = function(i, a, n) {
            t.prototype.setup.call(this, i, a, n), this.addAreaEvent(i, a, {
                x: 640,
                y: 40,
                w: 960,
                h: 80
            }, "academy-GH1", 640, 600), this.addAreaEvent(i, a, {
                x: 640,
                y: 680,
                w: 960,
                h: 120
            }, "academy-GH3", 640, 100);
            var o = this.game.add.spine(640, 403, "spine-65");
            o.setToSetupPose(), this.screen.content.add(o), e.addEffects(i, a);
        }, e.addEffects = function(t, e) {
            var i = t.add.spine(160, 600, "spine-72");
            i.setToSetupPose(), i.setAnimationByName(0, "animation", !0);
            var a = t.add.spine(1120, 600, "spine-72");
            a.setToSetupPose(), a.setAnimationByName(0, "animation", !0), e.foreground.add(i), 
            e.foreground.add(a);
            var n = t.add.spine(160, 600, "spine-74");
            n.setToSetupPose(), n.setAnimationByName(0, "animation", !0);
            var o = t.add.spine(1120, 600, "spine-74");
            o.setToSetupPose(), o.setAnimationByName(0, "animation", !0), e.background.add(n), 
            e.background.add(o);
        }, e;
    }(i(7).Map);
    e.AcademyGH2 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, "GH1", "MAP_ACADEMY_GREATHALL", 640, 500, [ "academy-GH2" ], i.concat([ "spine-68", "spine-69", "spine-71", "spine-73" ])) || this;
        }
        return n(e, t), e.prototype.setup = function(i, a, n) {
            t.prototype.setup.call(this, i, a, n), this.addAreaEvent(i, a, {
                x: 640,
                y: 680,
                w: 960,
                h: 120
            }, "academy-GH2", 640, 100), e.addEffects(i, a);
        }, e.addEffects = function(t, e) {
            var i = 265, a = 420, n = 1015, o = 420, r = t.add.spine(419, 212, "spine-68");
            r.setToSetupPose(), r.setAnimationByName(0, "animation", !0);
            var s = t.add.spine(861, 212, "spine-68");
            s.setToSetupPose(), s.setAnimationByName(0, "animation", !0), e.foreground.add(r), 
            e.foreground.add(s);
            var l = t.add.spine(i, a, "spine-71");
            l.setToSetupPose(), l.setAnimationByName(0, "animation", !0), l.scale.x = -1;
            var h = t.add.spine(n, o, "spine-71");
            h.setToSetupPose(), h.setAnimationByName(0, "animation", !0), e.foreground.add(l), 
            e.foreground.add(h);
            var c = t.add.spine(i, a, "spine-73");
            c.setToSetupPose(), c.setAnimationByName(0, "animation", !0), c.scale.x = -1;
            var p = t.add.spine(n, o, "spine-73");
            p.setToSetupPose(), p.setAnimationByName(0, "animation", !0), e.background.add(c), 
            e.background.add(p);
        }, e;
    }(i(7).Map);
    e.AcademyGH1 = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t() {}
        return t.getRandomHint = function(e) {
            return t.data[e][Math.floor(Math.random() * t.data[e].length)];
        }, t.data = {
            none: [ {
                textKey: "HINT_0"
            }, {
                textKey: "HINT_1"
            }, {
                textKey: "HINT_2"
            }, {
                textKey: "HINT_3"
            }, {
                textKey: "HINT_4"
            }, {
                textKey: "HINT_5"
            }, {
                textKey: "HINT_6"
            }, {
                textKey: "HINT_7"
            }, {
                textKey: "HINT_8"
            }, {
                textKey: "HINT_9"
            }, {
                textKey: "HINT_10"
            }, {
                textKey: "HINT_11"
            }, {
                textKey: "HINT_12"
            }, {
                textKey: "HINT_13"
            }, {
                textKey: "HINT_14"
            }, {
                textKey: "HINT_15"
            }, {
                textKey: "HINT_16"
            }, {
                textKey: "HINT_17"
            }, {
                textKey: "HINT_18"
            }, {
                textKey: "HINT_19"
            }, {
                textKey: "HINT_20"
            }, {
                textKey: "HINT_21"
            }, {
                textKey: "HINT_22"
            }, {
                textKey: "HINT_23"
            }, {
                textKey: "HINT_24"
            }, {
                textKey: "HINT_25"
            }, {
                textKey: "HINT_26"
            } ]
        }, t;
    }();
    e.Hints = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, a) || this;
            return n.festivalName = "", n.dailyPlacements = [], n.daily = "daily", 
            n.dailyMonsters = [], n.dailyDrops = [], n.dailyLoginBonusItem = null, 
            n.canDoDaily = !1, n.festivalHub = "lamplight-B3", n.battleTPCoordinates = [ 640, 320 ], 
            n.dailyEventSize = new Phaser.Point(40, 40), n.dailyHighlighterOffset = new Phaser.Point(-40, 0), 
            n;
        }
        return n(e, t), e.prototype.init = function(e) {
            var i = this.game.prodigy.player.canDoDaily(this.daily, this.resetDaily.bind(this, this.game.prodigy.player)), a = this.game.prodigy.player.data[this.daily];
            return this.canDoDaily = i && o.Util.isValid(a) && o.Util.isValid(a.dailyLocation) && o.Util.isValid(a.dailyLocation[e.saveTag]), 
            o.Util.isValid(this.dailyLoginBonusItem) && (this.game.prodigy.dailyLoginBonusRewards.rewards[4] = this.dailyLoginBonusItem), 
            t.prototype.init.call(this, e);
        }, e.prototype.setIntroState = function(t, e, i) {
            void 0 === i && (i = ""), t.data[this.daily]["intro" + i] = e, t.updated = !0;
        }, e.prototype.signOnInputDown = function(t, e, i, a, n) {
            var r = this.game.prodigy.player.data[this.daily];
            o.Util.isValid(r) && 1 === r.isComplete && 1 !== this.game.prodigy.player.eventSignClicked && 1 !== r.signClickedAndDailyCompleted && (this.game.prodigy.network.sendAnalytics("Sign-Clicked-And-Daily-Completed"), 
            r.signClickedAndDailyCompleted = 1), this.game.prodigy.player.eventSignClicked = 1, 
            this.game.prodigy.open.message(t, e, i, a, null, n);
        }, e.prototype.placeDaily = function(t, e) {
            var i = this.game.prodigy.player.data[this.daily].dailyLocation;
            if (o.Util.isValid(i) && o.Util.isValid(i[e])) {
                var a = null;
                if (this.canDoDaily) {
                    var n = i[e][0], r = i[e][1];
                    a = this.game.prodigy.create.element(t.foreground, n, r), t.addClickableEvent(n, r, this.dailyEventSize.x, this.dailyEventSize.y, this.revealDailyMonster.bind(this, t, e), null, 0, null), 
                    a.highlight(!0, this.dailyHighlighterOffset.x, this.dailyHighlighterOffset.y), 
                    a.arrow.frameName = "exclamation", a.add(a.game.prodigy.create.sprite(-14, 0, "atlas-21", "eggpile"));
                }
            }
        }, e.prototype.resetDaily = function(t) {
            t.data[this.daily].monsterID = this.dailyMonsters[Math.floor(Math.random() * this.dailyMonsters.length)], 
            t.data[this.daily].dailyLocation = this.dailyPlacements[Math.floor(Math.random() * this.dailyPlacements.length)];
        }, e.prototype.revealDailyMonster = function(t, e, i) {
            var a = i || [ 0, 0 ], n = this.game.prodigy.player.data[this.daily].dailyLocation[e], o = this.game.prodigy.event.create();
            this.battleTPCoordinates = [ n[0] + a[0], n[1] + a[1] ], o.validPath(t.user, t.path, this.battleTPCoordinates[0], this.battleTPCoordinates[1]), 
            o.function(t.user.faceToward.bind(t.user, n[0])), o.enableInput(!1), 
            o.function(t.user.chat.bind(t.user, 1)), o.delay(2e3), o.enableInput(!0), 
            o.function(this.startDailyBattle.bind(this, e)), o.start();
        }, e.prototype.startDailyBattle = function(t) {
            var e = {
                drops: this.dailyDrops,
                dropsDisabled: !0,
                allowMember: !1,
                run: !0,
                catch: !1,
                screen: "battle-lamplight-outside",
                invincible: !1,
                pets: [ {
                    ID: this.game.prodigy.player.data[this.daily].monsterID
                } ]
            };
            this.game.prodigy.network.sendBattleStartTypeEvent("SpecialEventBattle"), 
            this.game.prodigy.battle.start(e, this.runaway.bind(this, t), this.dailyBattleComplete.bind(this, t), null, this.festivalHub);
        }, e.prototype.runaway = function(t) {
            this.game.prodigy.world.teleport(t, this.battleTPCoordinates[0], this.battleTPCoordinates[1]);
        }, e.prototype.dailyBattleComplete = function(t) {
            var e = this.game.prodigy.player.data[this.daily];
            o.Util.isValid(e.totalCompleted) ? e.totalCompleted++ : (e.totalCompleted = 1, 
            1 === this.game.prodigy.player.eventSignClicked && (this.game.prodigy.network.sendAnalytics("Sign-Clicked-And-Daily-Completed"), 
            e.signClickedAndDailyCompleted = 1)), this.game.prodigy.network.sendAnalytics(this.festivalName.replace(/ /g, "-") + "-Daily", "Complete", "Events"), 
            this.game.prodigy.player.completeDaily(this.daily, 1), this.game.prodigy.world.teleport(t, this.battleTPCoordinates[0], this.battleTPCoordinates[1]);
        }, e.prototype.openStore = function(t) {
            o.Util.isValid(t) && this.game.prodigy.open.store(t, null, this.purchasedEventItem.bind(this));
        }, e.prototype.purchasedEventItem = function() {
            var t = this.game.prodigy.player.data[this.daily];
            o.Util.isValid(t.purchasedEventItems) ? t.purchasedEventItems++ : t.purchasedEventItems = 1, 
            t.boughtEventItem++;
        }, e.prototype.teleportToEvent = function(t) {
            this.game.prodigy.world.teleport(o.Util.isValid(t) ? t : this.festivalHub);
        }, e;
    }(i(91).Skin);
    e.GameFestival = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(43), r = i(50), s = function(t) {
        function e(e, i) {
            var a = t.call(this) || this;
            return a.player = null, a.stepsBehind = 0, a.isIdling = !1, a.coords = [], 
            a.renderer = null, a.player = e, a.stepsBehind = i, a;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.renderer = this.gameObject.findComponent(r.Renderer), 
            this.renderer.setAnchor(.5, 0);
        }, e.prototype.update = function() {
            t.prototype.update.call(this);
            var e = this.coords[this.coords.length - 1], i = Math.round(this.player.x), a = Math.round(this.player.y);
            if (0 !== this.coords.length && e.x === this.player.x && e.y === this.player.y || this.coords.push({
                x: i,
                y: a
            }), this.coords.length > this.stepsBehind) {
                var n = this.coords[0];
                this.gameObject.position.x < n.x ? this.gameObject.scale.x = 1 : this.gameObject.position.x > n.x && (this.gameObject.scale.x = -1), 
                this.isIdling && (this.renderer.playAnimation("walk", !0), this.isIdling = !1), 
                this.gameObject.position.set(n.x, n.y), this.coords.splice(0, 1);
            } else this.isIdling || (this.renderer.playAnimation("idle", !0), this.isIdling = !0);
        }, e;
    }(o.Component);
    e.Follow = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(14), r = i(0), s = function(t) {
        function e(e, i, a, n, o, s, l) {
            var h = t.call(this, e, i, {
                name: l,
                npc: !0
            }, null, a, n) || this;
            return h.body = h.add(e.prodigy.create.sprite(-35, 0, "atlas-65", "mini")), 
            h.body.anchor.setTo(0, 1), h.body.animations.add("stand", [ "mini", "mini1", "mini2", "mini3", "mini2", "mini1" ], 10, !0, !1), 
            h.body.animations.play("stand"), h.sprites.add(h.body), h.nameText.y += 40, 
            r.Util.isValid(l) && h.showName(!0), h;
        }
        return n(e, t), e.prototype.bossStart = function(t) {
            this.rightArm = this.add(t.prodigy.create.sprite(50, -30, "atlas-65", "hand_1")), 
            this.body = this.add(t.prodigy.create.sprite(-40, -90, "atlas-65", "body")), 
            this.head = this.add(t.prodigy.create.sprite(-20, -45, "atlas-65", "face_1")), 
            this.hat = this.add(t.prodigy.create.sprite(-55, -135, "atlas-65", "hat_0")), 
            this.leftArm = this.add(t.prodigy.create.sprite(-50, -30, "atlas-65", "hand_2")), 
            this.sprites.add(this.rightArm), this.sprites.add(this.body), this.sprites.add(this.head), 
            this.sprites.add(this.hat), this.sprites.add(this.leftArm), t.add.tween(this.head).to({
                y: "-1"
            }, 200, Phaser.Easing.Linear.None).to({
                y: "+2"
            }, 500, Phaser.Easing.Linear.None).to({
                y: this.head.y
            }, 400, Phaser.Easing.Linear.None).loop().start(), t.add.tween(this.hat).to({
                y: "-1"
            }, 200, Phaser.Easing.Linear.None).to({
                y: "+2"
            }, 500, Phaser.Easing.Linear.None).to({
                y: this.hat.y
            }, 400, Phaser.Easing.Linear.None).loop().start(), t.add.tween(this.leftArm).to({
                y: "+2"
            }, 800, Phaser.Easing.Linear.None).delay(600).to({
                y: this.leftArm.y
            }, 800, Phaser.Easing.Linear.None).loop().start(), this.rightArm.frameName = "spatula_0", 
            this.rightArm.y = this.rightArm.y - 60, this.rightArm.x = this.rightArm.x - 15;
        }, e.prototype.entreeStart = function() {
            this.rightArm.frameName = "spatula_1", this.rightArm.x = this.rightArm.x + 15, 
            this.hat.frameName = "hat_1";
        }, e.prototype.dessertStart = function() {
            this.hat.frameName = "hat_2", this.hat.x = this.hat.x - 20, this.hat.y = this.hat.y - 5, 
            this.head.frameName = "face_2";
        }, e;
    }(o.CreatureContainer);
    e.CebolliniEvent = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t(t) {
            this.data = null, this.data = t;
        }
        return t.getEventFlags = function() {
            return {
                time: 3e4,
                events: {
                    game_source: {
                        enabled: !0
                    },
                    game_sink: {
                        enabled: !0
                    },
                    game_complete: {
                        enabled: !0
                    },
                    game_mod: {
                        enabled: !0
                    },
                    game_avatar: {
                        enabled: !0
                    },
                    game_level_up: {
                        enabled: !0
                    },
                    game_social: {
                        enabled: !0
                    },
                    subdomain_test: {
                        enabled: !0
                    }
                }
            };
        }, t.prototype.getGameClientVersion = function() {
            return this.getValue("gameClientVersion");
        }, t.prototype.getDataURI = function() {
            return t.getURI(this.getValue("gameDataPath"), this.getGameDataVersion(), "data");
        }, t.prototype.getLocaleURI = function() {
            return t.getURI(this.getValue("gameDataPath"), "1", "locale");
        }, t.prototype.getStoresURI = function() {
            return t.getURI(this.getValue("gameDataPath"), this.getGameDataVersion(), "stores");
        }, t.prototype.getGameLibURI = function() {
            return this.getValue("gameLibPath");
        }, t.prototype.getGameAssetsPath = function() {
            return this.getValue("gameAssetsPath");
        }, t.prototype.getMultiplayerClusters = function() {
            var t = this.getValue("multiplayerClusterLocations");
            return null === t && (t = [ {
                ID: 1,
                url: "/"
            } ]), t;
        }, t.prototype.getMultiplayerClusterForWorld = function(t) {
            var e = this.getMultiplayerClusters();
            return e[t % e.length];
        }, t.prototype.getValue = function(t) {
            var e = this.data[t];
            return a.Util.isValid(e) ? e : null;
        }, t.prototype.getGameDataVersion = function() {
            return this.getValue("gameDataVersion");
        }, t.getURI = function(t, e, i) {
            return "" + t + i + ".json?v=" + e;
        }, t;
    }();
    e.APIGameData = n;
}, function(t, e) {
    t.exports = function(t, e) {
        return "__proto__" == e ? void 0 : t[e];
    };
}, function(t, e, i) {
    var a = i(44), n = i(45);
    t.exports = function(t) {
        return n(t) && a(t);
    };
}, function(t, e, i) {
    var a = i(148), n = i(87);
    t.exports = function(t, e, i) {
        (void 0 === i || n(t[e], i)) && (void 0 !== i || e in t) || a(t, e, i);
    };
}, function(t, e, i) {
    var a = i(638), n = i(213)(function(t, e, i) {
        a(t, e, i);
    });
    t.exports = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t(t) {
            this.game = null, this.splitTestData = null, this.game = t, this.splitTestData = {
                test: [ [ 1 ], 4e4, 2 ],
                nFactor: [ [ 1, 2 ], 1e3, 3 ]
            };
        }
        return t.prototype.isInSplitTest = function(t) {
            if (!a.Util.isValid(t) || "" === t) return !0;
            if (a.Util.isValid(this.splitTestData[t])) {
                var e = [ this.game.prodigy.player ];
                return a.Util.inTestGroups.apply(this, e.concat(this.splitTestData[t]));
            }
            return !1;
        }, t;
    }();
    e.MailerSplitTests = n;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, o.Util.isValid(a) ? a : 3, n) || this;
            return r.timer = null, r.contentText = null, r.okayButton = null, r.okayText = null, 
            r.yesButton = null, r.noButton = null, r.closeButton = null, r;
        }
        return n(e, t), e.prototype.preprocess = function(t, e, i) {
            void 0 === e && (e = null), void 0 === i && (i = null);
            var a = e;
            (!o.Util.isValid(e) || "pumpkin" !== e && "star-shard-small" !== e && "snowflake-small" !== e) && (a = null);
            var n = o.Util.isValid(a) ? "[" + e + "] " + i : i;
            this.updateConfigModifierProperty("titleBanner", "text", n), this.updateConfigModifierProperty("titleBanner", "visible", o.Util.isValid(i)), 
            this.updateConfigModifierProperty("contentText", "text", t), this.queuePostCreateCallback(this.setTimerText.bind(this, t), this.openTween.bind(this));
        }, e.prototype.close = function(e) {
            o.Util.isValid(this.timer) && window.clearInterval(this.timer), t.prototype.close.call(this), 
            o.Util.isValid(e) && e();
        }, e.prototype.setOkay = function(t, e) {
            var i = this;
            void 0 === t && (t = null), this.okayButton.visible = !0, this.okayText.setText(o.Util.isValid(t) ? t : this.game.prodigy.gameContainer.Localizer.getText("BUTTON_OKAY_UPPERCASE")), 
            this.okayButton.onClickCallback = function() {
                i.close(e);
            };
        }, e.prototype.setConfirm = function(t, e) {
            var i = this;
            this.yesButton.visible = !0, this.yesButton.onClickCallback = function() {
                i.close(t);
            }, this.noButton.visible = !0, this.noButton.onClickCallback = function() {
                i.close(e);
            };
        }, e.prototype.setConfirmGeneric = function(t, e, i) {
            var a = this;
            this.yesButton.visible = !0, this.yesButton.onClickCallback = function() {
                a.close(t);
            }, this.noButton.visible = !0, this.noButton.onClickCallback = function() {
                a.close(e);
            }, this.closeButton.visible = !0, this.closeButton.onClickCallback = function() {
                a.close(i);
            };
        }, e.prototype.setTimerText = function(t) {
            o.Util.isValid(this.timer) && window.clearInterval(this.timer), o.Util.isValid(t) && this.setText(t, new Date().getTime());
        }, e.prototype.setText = function(t, e) {
            if (o.Util.isValid(this.game)) if (o.Util.isValid(this.contentText)) if (t.indexOf("XTIMERX") >= 0) {
                var i = new Date().getTime(), a = o.Util.processTime(i - e);
                this.contentText.setText(t.replace("XTIMERX", a)), this.timer = window.setTimeout(this.setText.bind(this, t, e), 500);
            } else this.contentText.setText(t); else o.Util.log("ERROR: Attempting to set text before finished loading message.", o.Util.ERROR);
        }, e;
    }(i(26).Menu);
    e.MessageBox = r;
}, function(t, e, i) {
    var a = i(161), n = i(664);
    t.exports = function t(e, i, o, r, s) {
        var l = -1, h = e.length;
        for (o || (o = n), s || (s = []); ++l < h; ) {
            var c = e[l];
            i > 0 && o(c) ? i > 1 ? t(c, i - 1, o, r, s) : a(s, c) : r || (s[s.length] = c);
        }
        return s;
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = function(t) {
        function e(e, i, a, n, o, s, l) {
            void 0 === s && (s = 2), void 0 === l && (l = !1);
            var h = t.call(this, e, i, a, n) || this;
            return r.Util.isValid(l) && l && h.add(h.game.prodigy.create.sprite(0, 0, "atlas-19", "char-container")), 
            r.Util.isValid(h.user) && h.user.destroy(), h.user = h.game.prodigy.create.player(h, o, s, 174, 230), 
            h.user.reload(), h;
        }
        return n(e, t), e;
    }(o.Element);
    e.UserEquipment = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(10), n = i(4), o = function() {
        function t() {}
        return t.byOwned = function(t, e) {
            return e.slice().sort(function(i, a) {
                var n = t({
                    ID: i.getID(),
                    type: i.getType()
                }) ? 1 : 0, o = t({
                    ID: a.getID(),
                    type: a.getType()
                }) ? 1 : 0;
                return n !== o ? n - o : e.indexOf(i) - e.indexOf(a);
            });
        }, t.byGender = function(t, e) {
            return e.slice().sort(function(i, o) {
                var r = a(n.Items.getItem(i.getType(), i.getID()), "gender", 0), s = a(n.Items.getItem(o.getType(), o.getID()), "gender", 0);
                return r === s ? e.indexOf(i) - e.indexOf(o) : r === t ? -1 : s === t ? 1 : 0 === r ? -1 : 1;
            });
        }, t;
    }();
    e.StoreItemSort = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(81), s = i(57), l = i(12), h = i(4), c = i(0), p = i(18), u = i(32), d = i(56), g = function(t) {
        function e(e, i, a, n) {
            void 0 === a && (a = null), void 0 === n && (n = null);
            var o = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return o.onItemRecieved = new Phaser.Signal(), o.onItemPurchased = new Phaser.Signal(), 
            o.purchaseConfirmationConfig = null, o.defaultMemberAd = null, o.storeData = null, 
            o.storeID = -1, o.purchaseConfirmationConfig = a, o.defaultMemberAd = n, 
            o;
        }
        return n(e, t), e.prototype.getStore = function() {
            return this.storeData;
        }, e.prototype.itemClicked = function(t) {
            if (this.game.prodigy.player.isItemOwned({
                ID: t.getID(),
                type: t.getType()
            })) this.showOwnedMessage(t); else if ("pet" === t.getType() && this.game.prodigy.player.kennel.isFull()) this.game.prodigy.open.message(this.game.prodigy.gameContainer.Localizer.getText("PURCHASING_MESSAGE_TOO_MANY_PETS_BODY"), null, null, this.game.prodigy.gameContainer.Localizer.getText("MESSAGE_TITLE_UH_OH")); else {
                var e = h.Items.getItem(t.getType(), t.getID()).data;
                1 !== o(e, "member", 0) || this.game.prodigy.player.isMember || this.game.prodigy.network.sendConversionFunnelEvent(p.EFunnelEventIDs.FunnelBuyMemberItem, p.EFunnelEventIDs.StageClickItem, t.getType() + "-" + t.getID()), 
                "dormbg" === t.getType() ? this.game.prodigy.open.houseItemInfo(t, this.onBuyCardClosed.bind(this, t, e), u.EItemInfoMode.Buy) : this.game.prodigy.open.itemInfo(t, this.onBuyCardClosed.bind(this, t, e), u.EItemInfoMode.Buy);
            }
        }, e.prototype.showOwnedMessage = function(t) {
            var e = this.game.prodigy.gameContainer.Localizer, i = "", a = e.getText("MESSAGE_TITLE_UH_OH");
            switch (t.getType()) {
              case "dorm":
                i = e.getText("PURCHASING_MESSAGE_TOO_MANY_ITEMS_BODY");
                break;

              case "dormbg":
                i = e.getText("PURCHASING_MESSAGE_ALREADY_LIVE_BODY"), a = null;
                break;

              case "gender":
              case "hair":
              case "eyeColor":
              case "skinColor":
              case "hairColor":
                i = e.getText("PURCHASING_MESSAGE_ALREADY_LOOK_BODY");
                break;

              case "pet":
                i = e.getText("PURCHASING_MESSAGE_HAVE_PET_BODY");
                break;

              default:
                i = e.getText("PURCHASING_MESSAGE_HAVE_ITEM_BODY");
            }
            this.game.prodigy.open.message(i, null, null, a);
        }, e.prototype.onBuyCardClosed = function(t, e, i) {
            if (i) {
                var a = t.getCost()[0];
                if (this.sendBuyAnalytics(t, e), this.meetsMembershipRequirement(t, e) && this.meetsCurrencyRequirement(a)) {
                    var n = null;
                    n = c.Util.isValid(this.purchaseConfirmationConfig) ? this.game.prodigy.open.messageBox.bind(this.game.prodigy.open, this.purchaseConfirmationConfig.message, this.buyItem.bind(this, t, e, a)) : this.buyItem.bind(this, t, e, a), 
                    "gender" === t.getType() ? this.game.prodigy.open.advancedNameChange(!0, n, !0) : n();
                }
            }
        }, e.prototype.buyItem = function(t, e, i) {
            var a = this;
            "currency" === i.getType() && 1 === i.getID() ? this.game.prodigy.player.changeGold(-i.getAmount()) : this.game.prodigy.player.backpack.consume(i.getType(), i.getID(), i.getAmount());
            var n = e;
            c.Util.isValid(e.data) && (n = e.data), "pet" === t.getType() && (n = {
                ID: t.getID()
            }), this.game.prodigy.open.gotItem([ {
                ID: t.getID(),
                type: t.getType(),
                N: 1,
                data: n
            } ], function() {
                a.onItemRecieved.dispatch();
            }, null, "store");
            var o = this.getStore().getName(), l = 1 === n.member ? "M" : "NM";
            this.game.prodigy.network.sendAnalytics("ShopPurchase-" + o, t.getType() + "-" + t.getID() + "-" + l), 
            this.game.prodigy.network.sendAdvancedEvent("game_sink", {
                type: i.getType(),
                id: i.getID(),
                amount: i.getAmount(),
                sink_type: t.getType(),
                sink_id: t.getID(),
                name: e.name,
                source: o
            }, !0);
            if (r([ 1, 2, 3, 5, 6, 7, 8, 10, 16, 17, 18, 19, 21, 23 ], this.storeID) && r([ "hat", "outfit", "weapon", "boots", "follow", "dorm" ], t.getType())) if (this.storeID <= 3) {
                var h = this.game.prodigy.notifications.initNotificationTemplate(s.NotificationType.LAMPLIGHTPURCHASE, [ e.name ], {
                    rarity: e.rarity
                });
                this.game.prodigy.notifications.pushNotification({
                    id: s.NotificationType.LAMPLIGHTPURCHASE,
                    data: h
                });
            } else if (21 === this.storeID) {
                h = this.game.prodigy.notifications.initNotificationTemplate(s.NotificationType.STOREPURCHASE, [ e.name, "Harvey's Titan Gear" ], {
                    rarity: e.rarity
                });
                this.game.prodigy.notifications.pushNotification({
                    id: s.NotificationType.STOREPURCHASE,
                    data: h
                });
            } else if (23 === this.storeID) {
                h = this.game.prodigy.notifications.initNotificationTemplate(s.NotificationType.STOREPURCHASE, [ e.name, "Dyno Dig Oasis" ], {
                    rarity: e.rarity
                });
                this.game.prodigy.notifications.pushNotification({
                    id: s.NotificationType.STOREPURCHASE,
                    data: h
                });
            } else {
                h = this.game.prodigy.notifications.initNotificationTemplate(s.NotificationType.STOREPURCHASE, [ e.name, o ], {
                    rarity: e.rarity
                });
                this.game.prodigy.notifications.pushNotification({
                    id: s.NotificationType.STOREPURCHASE,
                    data: h
                });
            }
            this.game.prodigy.network.sendItemChangeEvent("spend-item", {
                type: i.getType(),
                ID: i.getID(),
                N: -i.getAmount()
            }), this.onItemPurchased.dispatch(t);
        }, e.prototype.meetsMembershipRequirement = function(t, e) {
            if (!this.game.prodigy.player.isMember) {
                if ("pet" === t.getType() && this.game.prodigy.player.kennel.hasMaxNonMemberPets()) return this.game.prodigy.open.membershipInfo(null, {}, d.MemberAd.MEMBER_PETS), 
                !1;
                if (1 === o(e, "member", 0)) return this.game.prodigy.open.membershipInfo(null, {
                    conversionFunnelName: p.EFunnelEventIDs.FunnelBuyMemberItem,
                    conversionFunnelMetadata: t.getType() + "-" + t.getID()
                }, this.getMemberAdName(t.getType())), !1;
            }
            return !0;
        }, e.prototype.sendBuyAnalytics = function(t, e) {
            if (c.Util.isValid(e.member) && 1 === e.member && ("pet" === t.getType() ? this.game.prodigy.network.sendAnalytics("Buy-Member-Pet", e.name) : this.game.prodigy.network.sendAnalytics("Buy-Member-Item", e.name), 
            !this.game.prodigy.player.isMember)) {
                var i = {};
                "pet" === t.getType() && this.game.prodigy.player.kennel.hasMaxNonMemberPets() || (i = {
                    conversionFunnelName: p.EFunnelEventIDs.FunnelBuyMemberItem,
                    conversionFunnelMetadata: t.getType() + "-" + t.getID()
                }), this.game.prodigy.network.sendConversionFunnelEvent(i.conversionFunnelName, p.EFunnelEventIDs.StageClickBuy, i.conversionFunnelMetadata);
            }
        }, e.prototype.meetsCurrencyRequirement = function(t) {
            var e = this.game.prodigy.gameContainer.Localizer, i = this.game.prodigy.player;
            if ("currency" === t.getType() && 1 === t.getID()) {
                if (i.getGold() < t.getAmount()) return i.isMember ? this.game.prodigy.open.message(e.getText("PURCHASING_MESSAGE_NEED_MORE_GOLD_BODY", t.getAmount(), c.Util.numberToString(i.getGold())), null, "gold", e.getText("MESSAGE_TITLE_UH_OH")) : this.game.prodigy.open.membership(d.MemberAd.MORE_GOLD), 
                !1;
            } else if (i.backpack.hasItem(t.getType(), t.getID()) < t.getAmount()) {
                var a = h.Items.getItem(t.getType(), t.getID()).data.icon, n = i.backpack.hasItem(t.getType(), t.getID());
                return this.game.prodigy.open.message(e.getText("PURCHASING_MESSAGE_NEED_MORE_CURRENCY_BODY", a, t.getAmount(), n), null, "gold", e.getText("MESSAGE_TITLE_UH_OH")), 
                !1;
            }
            return !0;
        }, e.prototype.getMemberAdName = function(t) {
            var e = d.MemberAd.PREMIUM_ITEM;
            return "follow" === t ? e = d.MemberAd.BUDDIES : -1 !== [ "hat", "outfit", "weapon", "boots", "gender", "hairColor", "eyeColor", "skinColor", "hair", "face" ].indexOf(t) ? e = d.MemberAd.STYLE : "dorm" === t ? e = d.MemberAd.HOUSE_ITEMS : "dormbg" === t ? e = d.MemberAd.NEW_HOUSE : "potion" === t ? e = d.MemberAd.POTIONS : c.Util.isValid(this.defaultMemberAd) && (e = this.defaultMemberAd), 
            e;
        }, e;
    }(l.RenderMenu);
    e.StoreBase = g;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(8), r = i(2), s = i(41), l = i(4), h = i(29), c = i(0), p = i(32), u = i(56), d = i(200), g = i(199), y = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            void 0 === n && (n = null), void 0 === o && (o = null), void 0 === r && (r = null), 
            void 0 === s && (s = null), void 0 === l && (l = {}), void 0 === h && (h = {});
            var p = t.call(this, e, i, r, s) || this;
            return p.storeID = -1, p.buttons = [], p.currencyLabel = null, p.cards = null, 
            p.scrollbar = null, p.onBuy = null, p.storeID = a, p.analyticEvents = l, 
            p.onClose = n, p.onBuy = o, p.storeSortOrder = h, p.onItemRecieved.add(function() {
                p.scrollbar.process();
            }), p.onItemPurchased.add(function(t) {
                p.updatePlayerCurrency(), c.Util.isValid(p.onBuy) && p.onBuy(t);
            }), p.create(), p;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent(), c.Util.isValid(this.analyticEvents.onCreateEvent) && this.game.prodigy.network.sendAnalytics(c.Util.isValid(this.analyticEvents.onCreateEvent.action) ? this.analyticEvents.onCreateEvent.action : "", c.Util.isValid(this.analyticEvents.onCreateEvent.label) ? this.analyticEvents.onCreateEvent.label : "", this.analyticEvents.onCreateEvent.category), 
            this.createBaseSetup(30, 16, "shine", null, null, !0, null);
            var e = this.game.prodigy.create.element(this, 0, 0);
            e.setRenderState(!0), e.add(new Phaser.TileSprite(this.game, 51, 240, 1178, 40, "atlas-161", "blue-top")), 
            e.add(new Phaser.TileSprite(this.game, 51, 280, 1178, 300, "atlas-161", "blue-mid")), 
            e.add(new Phaser.TileSprite(this.game, 51, 580, 1178, 40, "atlas-161", "blue-top2")), 
            this.spinner = this.add(this.game.prodigy.create.sprite(640, 360, "atlas-18", "loading")), 
            this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
                angle: 360
            }, 2e3, Phaser.Easing.Linear.None, !0, 0, r.GameConstants.MAX_SAFE_INTEGER, !1), 
            t.prototype.create.call(this), this.game.prodigy.gameContainer.get(s.ProdigyInjectionIdentifiers.StoreService).getStore(this.storeID).then(this.onGetStoreSuccess.bind(this)).catch(this.onGetStoreFailure.bind(this));
        }, e.prototype.createItemCards = function(t, e) {
            var i = this;
            this.cards.removeAll(!0);
            for (var a = function(a) {
                var o = t[a], r = a - e;
                if (a >= t.length) n.game.prodigy.create.panel(n.cards, r % 4 * 180, 220 * Math.floor(.25 * r), 4, 5, "empty"); else {
                    var s = o.getCost()[0];
                    n.game.prodigy.create.item(n.cards, r % 4 * 180, 220 * Math.floor(.25 * r), {
                        ID: o.getID(),
                        type: o.getType(),
                        cost: {
                            ID: s.getID(),
                            type: s.getType(),
                            N: s.getAmount()
                        }
                    }, p.EItemInfoMode.Store, function() {
                        i.itemClicked(o);
                    });
                }
            }, n = this, o = e; o < e + 8; o++) a(o);
        }, e.prototype.getItemsForPage = function(t) {
            var e = this.storeData.getPages()[t].getStoreItems();
            return c.Util.isValid(this.storeSortOrder[t]) ? this.storeSortOrder[t](e) : g.StoreItemSort.byOwned(this.game.prodigy.player.isItemOwned.bind(this.game.prodigy.player), e);
        }, e.prototype.setMode = function(e) {
            t.prototype.setMode.call(this, e);
            var i = this.getItemsForPage(e);
            this.scrollbar.reset(i.length - 4, 4, -1, this.createItemCards.bind(this, i)), 
            this.scrollbar.process(), this.page = e;
        }, e.prototype.setupInfoPanel = function() {
            this.setupMemberAd(this.defaultMemberAd);
        }, e.prototype.onGetStoreSuccess = function(t) {
            c.Util.isValid(this.game) && (this.storeData = t, this.spinner.destroy(), 
            this.spinner = null, this.setupTabs(), this.setupStoreMerchant(), this.setupCurrencyDisplay(), 
            this.setupInfoPanel(), this.cards = this.game.prodigy.create.element(this, 430, 220), 
            this.scrollbar = this.game.prodigy.create.slider(this, this.cards.x + 540 + 180, 240, 380, !0, !0), 
            this.updatePlayerCurrency(), this.setMode(0));
        }, e.prototype.onGetStoreFailure = function(t) {
            t instanceof Error && this.game.prodigy.gameContainer.Logger.log(t.message, o.LogLevel.Error);
            var e = this.game.prodigy.gameContainer.Localizer;
            this.game.prodigy.open.message(e.getText("STORE_OPEN_FAILED_MESSAGE"), this.close.bind(this), null, e.getText("STORE_OPEN_FAILED_TITLE"));
        }, e.prototype.setupStoreMerchant = function() {
            var t = this.storeData.getMerchantAvatar(), e = this.add(this.game.prodigy.create.sprite(t.getPosition().x, t.getPosition().y, t.getAssetTag(), t.getAssetFrame()));
            e.scale.x = t.getScale().x, e.scale.y = t.getScale().y;
        }, e.prototype.setupTabs = function() {
            for (var t = this.storeData.getPages(), e = this.game.prodigy.create.panel(this, 80, 80, 3 * t.length + 6, 2, "banner"), i = 0; i < t.length; i++) {
                var a = t[i].getButton();
                this.buttons.push(this.game.prodigy.create.advButton(this, e.x + 200 + 120 * i, e.y - 10, {
                    top: a.getTopText(),
                    bot: a.getBottomText(),
                    icon: {
                        iconAtlas: a.getItemType() + "-" + a.getItemID()
                    }
                }, this.setMode.bind(this, i)));
            }
        }, e.prototype.setupCurrencyDisplay = function() {
            var t = this.game.prodigy.create.panel(this, 80, 280, 8, 2, "white");
            this.currencyLabel = this.game.prodigy.create.font(t, 0, 10, "", {
                size: 40,
                align: "center",
                width: 320,
                iconOffsetY: 13
            });
        }, e.prototype.updatePlayerCurrency = function() {
            var t = "", e = 0, i = this.storeData.getStoreCurrencyID(), a = this.storeData.getStoreCurrencyType();
            "currency" === a && 1 !== i ? (t = l.Items.getItem(a, i).data.icon, 
            e = this.game.prodigy.player.backpack.hasItem(a, i)) : (t = "mail-gold", 
            e = c.Util.numberToString(this.game.prodigy.player.getGold())), this.currencyLabel.setText("[" + t + "] " + e);
        }, e.prototype.setupMemberAd = function(t) {
            if (void 0 === t && (t = null), !this.game.prodigy.player.isMember) {
                var i = this.game.prodigy.gameContainer.Localizer, a = c.Util.isValid(t) ? t : u.MemberAd.PREMIUM_ITEM, n = this.game.prodigy.create.panel(this, 80, 380, 8, 5, "member");
                n.setClickable(function(t, e, i) {
                    t.prodigy.open.membership(e), t.prodigy.network.sendAnalytics(i);
                }.bind(this, this.game, a, "getAllItemsBtn")), this.game.prodigy.create.font(n, 10, 10, i.getText("STORE_PROMPT_UNLOCK_ALL"), {
                    align: "center",
                    width: 300
                }), this.game.prodigy.create.font(n, 10, 140, i.getText("BUTTON_CLICK_HERE"), {
                    align: "center",
                    width: 300,
                    fontID: 9,
                    size: 36
                });
                var o = n.add(this.game.prodigy.create.sprite(7, 75, "atlas-18", "overlay-small"));
                o.width = 306, o.height = 50, o.alpha = .2;
                for (var r = []; r.length < 3; ) {
                    var s = h.Random.integerInRange(0, e.memberAdItems.length);
                    -1 === r.indexOf(s) && (r[r.length] = s);
                }
                this.game.prodigy.create.font(n, 0, 60, "[single-image:" + e.memberAdItems[r[0]] + "] [single-image:" + e.memberAdItems[r[1]] + "] [single-image:" + e.memberAdItems[r[2]] + "]", {
                    align: "center",
                    width: 320,
                    fontID: 9,
                    size: 36
                });
            }
        }, e.memberAdItems = [ "icon-follow-144", "icon-follow-146", "icon-follow-139", "icon-follow-140", "icon-follow-131", "icon-hat-74", "icon-hat-100", "icon-hat-119", "icon-hat-114", "icon-hat-116", "icon-hat-79", "icon-outfit-93", "icon-outfit-86", "icon-outfit-91", "icon-outfit-59", "icon-dorm-34", "icon-dorm-22", "icon-dorm-132", "icon-dorm-40", "icon-dorm-39", "icon-dorm-60", "icon-dorm-65", "icon-weapon-116", "icon-weapon-114", "icon-weapon-95", "icon-boots-40", "icon-boots-36", "icon-boots-37", "icon-boots-30" ], 
        e;
    }(d.StoreBase);
    e.Store = y;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(79), r = i(5), s = i(65), l = i(13), h = i(25), c = i(37), p = i(0), u = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, a - 40, n) || this;
            return r.leadersPerPage = 7, r.page = 0, r.classLeaderPanel = null, 
            r.classLeaderboardPanel = null, r.classLeaderboardCharacters = null, 
            r.characterIcons = [], r.topPlayer = null, r.topPlayerName = null, r.topPlayerStat = null, 
            r.classLeaderboardError = null, r.leaderboardSlider = null, r.leaders = null, 
            r.topPlayerId = null, p.Util.isValid(r.game.prodigy.pvpNetworkHandler.seasonID) ? o(r.game.prodigy.player.classIDs) > 0 ? r.game.prodigy.pvpNetworkHandler.getClassLeaderboard(r.game.prodigy.player.classIDs.join(","), function(t) {
                r.loadWizardsComplete("data.level", !0, t);
            }, function() {
                r.addErrorBanner(r.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE"));
            }) : r.loadWizardsComplete("data.level") : r.game.prodigy.pvpNetworkHandler.isInitialized ? r.addErrorBanner(r.game.prodigy.gameContainer.Localizer.getText("SEASON_COMPLETED")) : r.addErrorBanner(r.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE")), 
            r.registerGetElementListener(), r;
        }
        return n(e, t), e.prototype.addErrorBanner = function(t) {
            new c.UIParser(this.game).createUIElements([ {
                type: "SlicedGraphic",
                anchorX: 0,
                anchorY: 0,
                x: 290,
                y: 100,
                width: 620,
                height: 200,
                atlasName: "ui-shared",
                baseFrameName: "bases/matte",
                sliceType: "nineScale",
                children: [ {
                    type: "Text",
                    name: "titleText",
                    anchorX: 0,
                    anchorY: 0,
                    x: 20,
                    y: 20,
                    width: 580,
                    height: 160,
                    text: t.toUpperCase(),
                    font: "black",
                    fontSize: 20,
                    horizontalAlignment: "center",
                    verticalAlignment: "center"
                } ]
            } ], this);
        }, e.prototype.renderClassLeaderContainer = function() {
            this.classLeaderPanel = this.game.prodigy.create.panel(this, 32, 20, 14, 8, "bases/matte"), 
            this.game.prodigy.create.panel(this.classLeaderPanel, 40, -23, 12, 0, "banners/tag"), 
            this.game.prodigy.create.panel(this.classLeaderPanel, 20, -5, 1, 0, "banners/rope-horiz"), 
            this.game.prodigy.create.panel(this.classLeaderPanel, 500, -5, 1, 0, "banners/rope-horiz"), 
            this.game.prodigy.create.font(this.classLeaderPanel, 0, -20, this.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_CLASS_TOP"), {
                fontID: 9,
                size: 36,
                width: 560,
                align: "center"
            });
            var t = this.game.prodigy.create.sprite(0, 220, "atlas-18", "overlay-light", null, null, 560, 60);
            t.alpha = .25, this.classLeaderPanel.add(t), this.topPlayerName = this.game.prodigy.create.font(this.classLeaderPanel, 20, 250, "", {
                size: 20,
                align: "right",
                width: 480
            }), this.topPlayerStat = this.game.prodigy.create.font(this.classLeaderPanel, 20, 220, "", {
                size: 20,
                align: "right",
                width: 480
            });
        }, e.prototype.renderClassLeaderboardContainer = function() {
            if (this.classLeaderboardPanel = this.game.prodigy.create.panel(this, this.classLeaderPanel.x + 574, this.classLeaderPanel.y, 14, 10, "bases/matte"), 
            this.game.prodigy.create.panel(this.classLeaderboardPanel, 40, -23, 12, 0, "banners/tag"), 
            this.game.prodigy.create.panel(this.classLeaderboardPanel, 20, -5, 1, 0, "banners/rope-horiz"), 
            this.game.prodigy.create.panel(this.classLeaderboardPanel, 500, -5, 1, 0, "banners/rope-horiz"), 
            this.game.prodigy.create.font(this.classLeaderboardPanel, 0, -20, this.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_CLASS_LEADERS"), {
                fontID: 9,
                size: 36,
                width: 560,
                align: "center"
            }), this.classLeaderboardError = this.game.prodigy.create.font(this.classLeaderboardPanel, 20, 100, this.game.prodigy.gameContainer.Localizer.getText("ARENA_MUST_BE_IN_CLASS"), {
                size: 20,
                width: 532,
                align: "center"
            }), this.classLeaderboardError.visible = !1, o(this.game.prodigy.player.classIDs) > 0) {
                this.classLeaderboardCharacters = this.game.prodigy.create.element(this.classLeaderboardPanel), 
                this.characterIcons = [];
                for (var t = 0; t < this.leadersPerPage; t++) this.characterIcons.push(this.createIcon(this.classLeaderboardCharacters, 25, 45 * t + 63));
                this.leaderboardSlider = this.game.prodigy.create.slider(this.classLeaderboardPanel, 485, 63, 310, !0, !0);
            }
        }, e.prototype.createIcon = function(t, e, i) {
            var a = this, n = this.game.prodigy.gameContainer.Localizer, o = this.game.prodigy.create.element(t, e, i), r = this.game.prodigy.create.panel(o, 0, 0, 11.5, 1, "lb"), s = this.game.prodigy.create.panel(o, 0, 0, 11.5, 1, "lb-green"), l = {
                icon: o,
                highlight: s,
                placeText: this.game.prodigy.create.font(o, 10, 0, "", {
                    width: 50,
                    align: "center",
                    size: 30
                }),
                playerName: this.game.prodigy.create.font(o, 70, 10, n.getText("PVP_PLAYERNAME"), {
                    size: 16,
                    width: 350,
                    align: "left"
                }),
                typeText: this.game.prodigy.create.font(o, 60, 8, n.getText("PVP_WIN_LOSS"), {
                    size: 20,
                    width: 350,
                    align: "right"
                })
            };
            return r.setClickable(function() {
                a.openCard(l);
            }), s.setClickable(function() {
                a.openCard(l);
            }), s.visible = !1, this.setIconData(l, null), l;
        }, e.prototype.setIconData = function(t, e) {
            if (p.Util.isValid(e)) {
                var i = e.place, a = 1 === e.isMember ? "@ " : "", n = this.game.prodigy.gameContainer.resolve(s.OnlinePlayerAppearance);
                n.setAppearance(e.appearance), t.placeText.setText("" + i), t.typeText.setText("[arena]" + e.points);
                var o = n.getFullName();
                o.length > 18 && (o = o.substring(0, 18) + "..."), t.playerName.setText("" + a + o);
                var r = p.Util.isValid(e.userID) ? e.userID : parseInt(e.id);
                t.highlight.visible = r === this.game.prodigy.player.userID, t.data = e;
            } else p.Util.isValid(t) && delete t.data;
            t.icon.visible = p.Util.isValid(e);
        }, e.prototype.openCard = function(t) {
            var e = null;
            (p.Util.isValid(t.data.userID) ? t.data.userID : parseInt(t.data.id)) === this.game.prodigy.player.userID ? e = this.game.prodigy.player : (e = new l.Player(this.game, !0)).init(t.data), 
            this.game.prodigy.open.card(e, !0);
        }, e.prototype.loadWizardsComplete = function(t, e, i) {
            if (p.Util.isValid(this.game)) {
                if (this.renderClassLeaderContainer(), !this.game.prodigy.player.hasMembership()) {
                    var a = this.game.prodigy.create.panelButton(this, this.classLeaderPanel.x, this.classLeaderPanel.y + 334, 14, 2, "base/matte", this.game.prodigy.open.membershipInfo.bind(this.game.prodigy.open, null, {}, h.MembershipInfo.MORE_EXP), {
                        atlasID: 149
                    });
                    this.game.prodigy.create.font(a.content, 0, 20, this.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_CATCH_UP"), {
                        fontID: 9,
                        size: 36,
                        width: 560,
                        align: "center"
                    });
                }
                if (this.renderClassLeaderboardContainer(), !e || !p.Util.isValid(i) || i.playerList.length <= 0) return this.classLeaderboardError.visible = !0, 
                p.Util.isValid(this.classLeaderboardCharacters) && p.Util.isValid(this.leaderboardSlider) && (this.classLeaderboardCharacters.visible = this.leaderboardSlider.visible = !1), 
                void (o(this.game.prodigy.player.classIDs) > 0 ? this.classLeaderboardError.setText(this.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_CLASS_ERROR_LOADING")) : this.classLeaderboardError.setText(this.game.prodigy.gameContainer.Localizer.getText("ARENA_MUST_BE_IN_CLASS")));
                this.classLeaderboardError.visible = !1, this.classLeaderboardCharacters.visible = !0, 
                this.leaderboardSlider.visible = !0, this.leaders = i.playerList, 
                this.leaders.length > 0 && this.getPlayerListData(this.leaders);
            }
        }, e.prototype.getPlayerListData = function(t) {
            var e = this;
            this.topPlayerId = parseInt(t[0].id);
            var i = p.Util.joinByProperty(t, "id");
            this.game.prodigy.network.getCharData(i, [ "appearance", "isMember", "equipment", "data" ], function(t) {
                e.onGetPlayerListDataSuccess(t);
            });
        }, e.prototype.onGetPlayerListDataSuccess = function(t) {
            var i = this;
            if (p.Util.isValid(this.game)) {
                p.Util.isValid(t[this.leaders[0].id]) ? this.renderClassLeader(t[this.topPlayerId], this.leaders[0].points) : this.topPlayerName.setText(this.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_ERROR_LOADING_PLAYER"));
                for (var a = 0, n = 0; n < this.leaders.length; n++) for (var r in t) if (parseInt(this.leaders[n].id) === parseInt(r)) {
                    if (this.leaders[n] = {
                        userID: 0,
                        data: t[r],
                        isMember: 0,
                        points: p.Util.isValid(this.leaders[n].points) ? this.leaders[n].points : this.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_NOT_APPLICABLE")
                    }, !p.Util.isValid(t[r].data)) {
                        this.leaders.splice(n, 1), n--;
                        break;
                    }
                    var s = t[r].data;
                    for (var l in s) "stars" !== l && (this.leaders[n].data[l] = s[l]);
                    this.leaders[n].appearance = t[r].appearance, this.leaders[n].equipment = t[r].equipment, 
                    this.leaders[n].isMember = p.Util.isValid(t[r].isMember) ? t[r].isMember : 0, 
                    this.leaders[n].place = a + 1, this.leaders[n].userID = parseInt(r), 
                    a++;
                }
                o(this.game.prodigy.player.classIDs) > 0 && a > 0 && this.leaderboardSlider.reset(this.leaders.length, this.leadersPerPage, e.getPlayerPlace(this.leaders, this.game.prodigy.player), function(t) {
                    i.setPage(t);
                });
            }
        }, e.prototype.renderClassLeader = function(t, e) {
            var i = new l.Player(this.game, !0);
            i.init(t), p.Util.isValid(this.topPlayer) && this.topPlayer.destroy(), 
            this.topPlayer = this.game.prodigy.create.player(this.classLeaderPanel, i, 2, 135, 270, !1, !0), 
            this.topPlayer.reload();
            var a = 1 === t.isMember ? "@ " : "", n = p.Util.trimText(i.getName(), 25, !0);
            this.topPlayerName.setText("" + a + n), this.topPlayerStat.setText("[arena]" + e);
        }, e.prototype.setPage = function(t) {
            if (p.Util.isValid(this.leaders)) {
                this.page = Math.round(t);
                for (var e = 0; e < this.leadersPerPage; e++) this.setIconData(this.characterIcons[e], this.leaders[this.page + e]);
            }
        }, e.getPlayerPlace = function(t, e) {
            for (var i = 0; i < t.length; i++) {
                if ((p.Util.isValid(t[i].userID) ? t[i].userID : parseInt(t[i].id)) === e.userID) return i + 1;
            }
            return 31;
        }, e;
    }(r.Element);
    e.ClassLeadersPanel = u;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(12), s = i(21), l = i(0), h = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return n.onClose = a, n.create(), n;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent();
            var e = this.game.prodigy.create.element(this, 0, 0);
            this.popupViewProperties = {
                tileWidth: 25,
                tileHeight: 16,
                margin: 0,
                padding: 30,
                tileSize: 40,
                contentTileTop: 3
            }, this.popupViewProperties.top = .5 * (18 - this.popupViewProperties.tileHeight) * this.popupViewProperties.tileSize, 
            this.popupViewProperties.left = .5 * (32 - this.popupViewProperties.tileWidth) * this.popupViewProperties.tileSize, 
            this.popupViewProperties.width = this.popupViewProperties.tileWidth * this.popupViewProperties.tileSize, 
            this.popupViewProperties.height = this.popupViewProperties.tileHeight * this.popupViewProperties.tileSize;
            var i = this.renderBackground(e, this.popupViewProperties), a = {
                top: 120,
                left: 11,
                tileSize: this.popupViewProperties.tileSize
            };
            a.tileHeight = this.popupViewProperties.tileHeight - a.top / this.popupViewProperties.tileSize - 1, 
            a.width = this.popupViewProperties.width - 2 * a.left, this.renderContent(i, a);
            var n = {
                top: 20,
                left: 120,
                padding: 18,
                tileSize: this.popupViewProperties.tileSize
            };
            n.tileWidth = this.popupViewProperties.tileWidth - n.left / n.tileSize * 2, 
            this.renderTitle(i, n);
            var o = {
                top: this.popupViewProperties.contentTileTop * this.popupViewProperties.tileSize + 20,
                left: 80,
                padding: 10,
                tileHeight: 7,
                tileSize: this.popupViewProperties.tileSize
            };
            o.tileWidth = this.popupViewProperties.tileWidth - 2 * o.left / o.tileSize;
            var r = this.renderMessage(i, o), s = {
                left: 120,
                padding: 10,
                tileHeight: 3,
                tileSize: this.popupViewProperties.tileSize
            };
            s.top = (o.tileHeight - s.tileHeight - .5) * s.tileSize, s.tileWidth = (r.width - 2 * s.left) / s.tileSize, 
            this.renderCredentials(r, s);
            var l = {
                top: i.height,
                left: .5 * i.width,
                padding: 10
            };
            this.game.prodigy.loading(!0), this.game.prodigy.load.assets([ "atlas-99" ], this.renderImages.bind(this, i, l)), 
            t.prototype.create.call(this);
        }, e.prototype.renderBackground = function(t, e) {
            return this.game.prodigy.create.panel(t, e.left, e.top, e.tileWidth, e.tileHeight, "shine");
        }, e.prototype.renderContent = function(t, e) {
            t.add(new Phaser.TileSprite(this.game, e.left, e.top, e.width, e.tileSize, "atlas-161", "blue-top")), 
            t.add(new Phaser.TileSprite(this.game, e.left, e.top + e.tileSize, e.width, (e.tileHeight - 2) * e.tileSize, "atlas-161", "blue-mid")), 
            t.add(new Phaser.TileSprite(this.game, e.left, e.top + (e.tileHeight - 1) * e.tileSize, e.width, e.tileSize, "atlas-161", "blue-top2"));
        }, e.prototype.renderTitle = function(t, e) {
            var i = this.game.prodigy.create.panel(t, e.left, e.top, e.tileWidth, 2, "banner");
            this.game.prodigy.create.font(i, 0, e.padding, this.game.prodigy.gameContainer.Localizer.getText("PLAY_HOME_ENJOY_EVERYWHERE"), {
                size: 36,
                width: e.tileWidth * e.tileSize,
                fontID: 9,
                align: "center",
                lineHeight: 38
            });
        }, e.prototype.renderMessage = function(t, e) {
            var i = this.game.prodigy.create.panel(t, e.left, e.top, e.tileWidth, e.tileHeight, "white"), a = this.game.prodigy.gameContainer.Localizer, n = this.game.prodigy.create.font(i, e.padding, e.padding, a.getText("PLAY_HOME_CONTINUE_ADVENTURE"), {
                size: 16,
                width: i.width - 2 * e.padding,
                fontID: 8,
                align: "center",
                lineHeight: 38
            });
            return this.game.prodigy.create.font(i, e.padding, n.y + n.height + 3 * e.padding, a.getText("PLAY_HOME_WRITE_DOWN_CREDENTIALS"), {
                size: 16,
                width: i.width - 2 * e.padding,
                fontID: 8,
                align: "center",
                lineHeight: 38
            }), i;
        }, e.prototype.renderCredentials = function(t, e) {
            var i = this.game.prodigy.create.panel(t, e.left, e.top, e.tileWidth, e.tileHeight, "blue"), a = this.game.prodigy.player.username, n = this.game.prodigy.create.font(i, 0, e.padding, this.game.prodigy.gameContainer.Localizer.getText("PLAY_HOME_DISPLAY_USERNAME", a), {
                size: 36,
                width: i.width,
                fontID: 9,
                align: "center"
            }), o = this.game.prodigy.player.password;
            this.game.prodigy.create.font(i, 0, n.y + n.height + e.padding, this.game.prodigy.gameContainer.Localizer.getText("PLAY_HOME_DISPLAY_PASSWORD", o), {
                size: 36,
                width: i.width,
                fontID: 9,
                align: "center"
            });
        }, e.prototype.renderImages = function(t, e) {
            this.game.prodigy.loading(!1), t.add(this.game.prodigy.create.sprite(e.left, e.top - e.padding, "atlas-99", "after-hours-mail-notice-image", new Phaser.Point(.5, 1))), 
            this.renderCommands(t);
        }, e.prototype.renderCommands = function(t) {
            var e = {
                top: this.popupViewProperties.height,
                left: .5 * this.popupViewProperties.width,
                margin: 3
            }, i = this.game.prodigy.create.textButton(t, e.left, e.top, {
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_OKAY_EXCLAMATION"),
                size: s.TextButton.MED
            }, this.close.bind(this));
            i.x -= .5 * i.width, i.y -= i.height + .5 * e.margin;
        }, e.prototype.close = function() {
            this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "tutorial_steps_1",
                name: "house_account_info"
            }), t.prototype.close.call(this);
        }, e.isRequired = function(t) {
            return o.default.get("GameConstants.Features.SplitTests.PLAY_AT_HOME") && l.Util.isValid(t.username) && l.Util.isValid(t.password);
        }, e;
    }(r.RenderMenu);
    e.PlayAtHome = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(30), s = i(0), l = i(62), h = i(72), c = function(t) {
        function e(e, i, a, n, o) {
            void 0 === n && (n = h.ParentLinkBenefitsConfig.ANALYTICS_SOURCE_LOGIN);
            var r = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return r.popupConfig = null, r.onSubmitButtonClickCallback = null, r.onRewardIconClickCallback = null, 
            e.prodigy.player.parentalLink = !0, r.analyticsSource = n, r.onClose = o, 
            r.popupConfig = a, r.popupConfig === h.ParentLinkBenefitsConfig.SUCCESS_POPUP_CONFIG ? (r.onSubmitButtonClickCallback = r.onOkayClick.bind(r), 
            r.onRewardIconClickCallback = null) : (r.onSubmitButtonClickCallback = r.onLinkParentAccountClick.bind(r, h.ParentLinkBenefitsConfig.TRACKING_EVENT_SIGN_UP), 
            r.onRewardIconClickCallback = r.onLinkParentAccountClick), r.create(), 
            r;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent(), t.prototype.create.call(this), this.game.prodigy.network.sendAnalytics(this.analyticsSource, h.ParentLinkBenefitsConfig.TRACKING_EVENT_POPUP_SHOWN), 
            this.startLoad([ h.ParentLinkBenefitsConfig.ATLAS ], this.onAssetsLoaded.bind(this));
        }, e.prototype.onAssetsLoaded = function() {
            var t = this, e = this.game.prodigy.create.sprite(0, 0, h.ParentLinkBenefitsConfig.ATLAS, "popup-box");
            this.add(e), s.Util.centerItemsWithinContainer([ e ], this, !0);
            var i = this.game.prodigy.create.sprite(0, 0, h.ParentLinkBenefitsConfig.ATLAS, this.popupConfig.headerFrameName);
            i.anchor.set(0, .5), e.addChild(i), s.Util.centerItemsWithinContainer([ i ], e, !0), 
            i.y = 10, this.game.prodigy.create.font(e, h.ParentLinkBenefitsConfig.BODY_TEXT_OFFSET.x, e.height * h.ParentLinkBenefitsConfig.DESCRIPTION_TEXT_BG_HEIGHT_PERCENT, this.game.prodigy.gameContainer.Localizer.getText(this.popupConfig.bodyText), {
                fontID: 8,
                size: 20,
                width: e.width - 2 * h.ParentLinkBenefitsConfig.BODY_TEXT_OFFSET.x,
                align: "center"
            });
            var a = this.generateRewardIcons(e);
            if (s.Util.centerItemsWithinContainer(a, e, !0), a.forEach(function(i, a) {
                i.y = e.height * h.ParentLinkBenefitsConfig.REWARD_ICONS_BG_HEIGHT_PERCENT, 
                t.game.add.tween(i).to({
                    y: i.y - h.ParentLinkBenefitsConfig.ICON_TWEEN_AMOUNT_Y
                }, h.ParentLinkBenefitsConfig.ICON_TWEEN_TIME_MS, Phaser.Easing.Quadratic.InOut, !0, h.ParentLinkBenefitsConfig.ICON_TWEEN_DELAY_MS * a, 0, !0);
            }, this), this.popupConfig.showCloseButton) {
                var n = this.game.prodigy.create.button(e, 0, 0, h.ParentLinkBenefitsConfig.ATLAS, "exit-button", this.close.bind(this));
                n.x = e.width - .5 * n.width + h.ParentLinkBenefitsConfig.CLOSE_BTN_OFFSET.x, 
                n.y = -.5 * n.width + h.ParentLinkBenefitsConfig.CLOSE_BTN_OFFSET.y;
            }
            var o = this.game.prodigy.create.button(e, 0, 0, h.ParentLinkBenefitsConfig.ATLAS, this.popupConfig.submitButtonFrameName, this.onSubmitButtonClickCallback);
            s.Util.centerItemsWithinContainer([ o ], e, !0), o.y = e.height * h.ParentLinkBenefitsConfig.LINK_ACCOUNT_BG_HEIGHT_PERCENT, 
            this.process();
        }, e.prototype.generateRewardIcons = function(t) {
            var i = this, a = [];
            return e.featureIconConfigs.forEach(function(e) {
                var n = s.Util.isValid(i.onRewardIconClickCallback), o = n ? i.onRewardIconClickCallback.bind(i, e.trackingEvent) : null, r = i.game.prodigy.create.button(t, 0, 0, h.ParentLinkBenefitsConfig.ATLAS, e.frameName, o);
                r.sprite.inputEnabled = n, a.push(r);
            }, this), a;
        }, e.prototype.onOkayClick = function() {
            var t = this;
            0 === this.game.prodigy.player.backpack.hasItem("follow", 34) ? this.game.prodigy.open.gotItem([ {
                type: "follow",
                ID: 34,
                N: 1
            }, {
                type: "item",
                ID: 1,
                N: 10
            } ], function() {
                t.game.prodigy.network.sendAnalytics(h.ParentLinkBenefitsConfig.TRACKING_EVENT_RECEIVED_REWARDS), 
                t.close();
            }, null, "parental-link") : this.close();
        }, e.prototype.onLinkParentAccountClick = function(t) {
            var e = this.game.prodigy.gameContainer.Localizer;
            s.Util.isSchoolHours() ? (this.game.prodigy.network.sendAnalytics(this.analyticsSource, h.ParentLinkBenefitsConfig.TRACKING_EVENT_SCHOOL_HOURS), 
            this.game.prodigy.open.message(e.getText(h.ParentLinkBenefitsConfig.MESSAGE_SCHOOL_HOURS))) : r.Device.isNativeApp() || r.Device.isIOS() && !r.Device.isChrome() ? (this.game.prodigy.network.sendAnalytics(this.analyticsSource, h.ParentLinkBenefitsConfig.TRACKING_EVENT_MOBILE), 
            this.game.prodigy.open.message(e.getText(h.ParentLinkBenefitsConfig.MESSAGE_MOBILE))) : (this.game.prodigy.network.sendAnalytics(this.analyticsSource, t), 
            l.NetworkManager.openWebsite(document.domain.indexOf("prodigygame.com") >= 0 ? h.ParentLinkBenefitsConfig.URL_SIGN_UP_PROD : h.ParentLinkBenefitsConfig.URL_SIGN_UP_STAGING), 
            this.game.prodigy.open.message(e.getText(h.ParentLinkBenefitsConfig.MESSAGE_POST_CLICK)));
        }, e.isInfoRequired = function(t) {
            return !t.parentalLink && !s.Util.isSchoolHours() && !t.hasValidatedParentEmail() && t.hasCompletedTutorial();
        }, e.isSuccessRequired = function(t) {
            return t.hasValidatedParentEmail() && t.hasCompletedTutorial() && 0 === t.backpack.hasItem("follow", 34);
        }, e.featureIconConfigs = [ h.ParentLinkBenefitsConfig.XP_BONUS, h.ParentLinkBenefitsConfig.BUDDY, h.ParentLinkBenefitsConfig.APPLES ], 
        e;
    }(o.RenderMenu);
    e.ParentalLink = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(21), s = i(4), l = i(13), h = i(25), c = i(0), p = i(18), u = i(32), d = function(t) {
        function e(e, i, a, n, o) {
            void 0 === o && (o = u.EItemInfoMode.View);
            var r = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return r.item = null, r.mode = u.EItemInfoMode.View, r.callback = null, 
            r.panel = null, r.item = a, r.mode = o, r.onClose = n, r.callback = n, 
            r.create(), r;
        }
        return n(e, t), e.prototype.create = function() {
            var e = this;
            this.addTransparent(), this.panel = this.game.prodigy.create.panel(this, 260, 140, 19, 11, "shine"), 
            this.panel.setRenderState(!0), this.game.prodigy.create.button(this, this.panel.x + 720, this.panel.y - 10, "atlas-21", "close", this.close.bind(this));
            var i = null, a = null;
            this.mode === u.EItemInfoMode.Buy ? (i = this.game.prodigy.create.item(this, 300, 180, {
                ID: this.item.getID(),
                type: this.item.getType()
            }, u.EItemInfoMode.Info), a = s.Items.getItem(this.item.getType(), this.item.getID()).data) : (i = this.game.prodigy.create.item(this, 300, 180, {
                ID: this.item.ID,
                type: this.item.type
            }, u.EItemInfoMode.Info), a = s.Items.getItem(this.item.type, this.item.ID).data);
            var n = this.game.prodigy.gameContainer.Localizer;
            if (this.mode === u.EItemInfoMode.Buy) this.createBuyModeUI(i, a); else if (this.mode === u.EItemInfoMode.Equip) {
                var o = "", l = this.item;
                if (1 !== l.L || this.game.prodigy.player.hasMembership() || (o = "[membership] "), 
                "hat" === l.type || "weapon" === l.type || "outfit" === l.type || "boots" === l.type || "follow" === l.type || "back" === l.type) this.game.prodigy.player.equipment.getEquipment(l.type) === l.ID ? (o = "follow" === l.type ? n.getText("ITEM_BUTTON_HIDE") : n.getText("ITEM_BUTTON_REMOVE"), 
                this.game.prodigy.create.textButton(this, 320, 435, {
                    text: o,
                    size: r.TextButton.SMALL
                }, function() {
                    e.unequipItem();
                })) : ("follow" === l.type ? o += n.getText("ITEM_BUTTON_SHOW") : o += n.getText("ITEM_BUTTON_WEAR"), 
                this.game.prodigy.create.textButton(this, 320, 435, {
                    text: o,
                    size: r.TextButton.SMALL
                }, function() {
                    e.equipItem();
                })); else if (c.Util.isValid(a.effect) && (a.effect.fx || a.effect.transform)) {
                    var h = function() {
                        e.use(a);
                    };
                    c.Util.isValid(a.effect.transform) && (h = function() {
                        e.checkTransformation(a);
                    }), this.game.prodigy.create.textButton(this, 320, 435, {
                        text: n.getText("ITEM_BUTTON_USE"),
                        icon: "up",
                        size: r.TextButton.SMALL
                    }, h);
                }
            } else if (this.mode === u.EItemInfoMode.Item) {
                o = "";
                1 !== this.item.L || this.game.prodigy.player.hasMembership() || (o = "[membership] "), 
                o += n.getText("ITEM_BUTTON_USE"), this.game.prodigy.create.textButton(this, 320, 435, {
                    text: o,
                    size: r.TextButton.SMALL
                }, function() {
                    e.useItem(e.item);
                });
            }
            t.prototype.create.call(this);
        }, e.prototype.createBuyModeUI = function(t, e) {
            var i = this, a = this.game.prodigy.gameContainer.Localizer.getText("ITEM_BUTTON_BUY"), n = "[mail-gold] ", o = this.item.getCost()[0];
            "currency" === o.getType() && 1 === o.getID() || (n = "[" + s.Items.getItem(o.getType(), o.getID()).data.icon + "] "), 
            this.game.prodigy.create.font(this, 320, 385, "" + n + o.getAmount(), {
                align: "center",
                width: 200,
                size: 30,
                iconOffsetY: 6
            }), 1 !== e.member || this.game.prodigy.player.hasMembership() || (a = "[membership] " + a), 
            this.game.prodigy.create.textButton(this, 320, 435, {
                text: a,
                size: r.TextButton.SMALL
            }, function() {
                i.close(!0);
            });
        }, e.prototype.use = function(t) {
            var e = !1;
            t.effect.fx && (this.game.prodigy.player.fx(t.effect.fx, !0), e = !0), 
            this.game.prodigy.player.backpack.consume(this.item.type, this.item.ID), 
            this.close(e);
        }, e.prototype.checkTransformation = function(t) {
            var e = this;
            c.Util.isValid(t.effect) && c.Util.isValid(t.effect.transform) && (this.game.prodigy.player.isPlayerTransformed() ? this.game.prodigy.open.messageBox(this.game.prodigy.gameContainer.Localizer.getText("MORPH_START_NEW"), function() {
                e.useTransformation(t);
            }) : this.useTransformation(t));
        }, e.prototype.useTransformation = function(t) {
            this.game.prodigy.user.transformToItem(t.effect.transform, t.effect.ID, !0, t.effect.time), 
            this.game.prodigy.player.backpack.consume(this.item.type, this.item.ID), 
            this.close(!0);
        }, e.prototype.useItem = function(t) {
            var e = s.Items.getItem(this.item.type, this.item.ID).data, i = this.game.state.states.Battle.teams[0].current;
            1 !== t.L || this.game.prodigy.player.hasMembership() ? c.Util.isValid(i.potionIcon) && "potion" === e.type ? this.game.prodigy.open.confirmPotionUse(this) : this.confirmItemUse() : this.game.prodigy.open.membershipInfo(null, {}, h.MembershipInfo.POTIONS);
        }, e.prototype.confirmItemUse = function() {
            var t = this.game.state.states.Battle, e = t.teams[0].current, i = s.Items.getItem(this.item.type, this.item.ID).data;
            this.callback(!0);
            var a = !0, n = this.game.prodigy.event.create();
            if ("potion" === i.type) c.Util.isValid(e.potionIcon) && (e.potionIcon.destroy(), 
            e.potionIcon = null), c.Util.isValid(e.potencyIcon) && (e.potencyIcon.destroy(), 
            e.potencyIcon = null), e.source.updateModifier("potion", this.item.ID), 
            n.explode(275, 400, 100, 100, 1, !1, !0), n.function(this.addPotionIcon.bind(this, this.game, i, t)); else if (i.effect.hp) if (e.source.getCurrentHearts() >= e.source.getMaxHearts()) {
                var o = this.game.prodigy.gameContainer.Localizer, r = o.getText("COMBAT_YOU");
                e.source instanceof l.Player || (r = c.Util.isValid(e.source.data.nickname) ? e.source.data.nickname : e.source.source.name), 
                this.game.prodigy.open.message(o.getText("COMBAT_CANT_EAT_RIGHT_NOW", r), function() {
                    t.combatManager.playerTurn();
                }, null, null), a = !1;
            } else n.function(function() {
                e.source.changeCurrentHearts(i.effect.hp);
            }), n.sound(18, "heart"), n.delay(200), n.sound(18, "heart"), n.delay(200), 
            n.sound(18, "heart");
            a && (n.function(function() {
                t.combatManager.playerTurn();
            }), this.game.prodigy.player.backpack.consume(this.item.type, this.item.ID), 
            t.mods.itemUsed = a), n.start(), this.close();
        }, e.prototype.addPotionIcon = function(t, e, i) {
            var a = i.teams[0].current;
            a.potionIcon = a.sprites.add(t.prodigy.create.sprite(-20, 0, "atlas-21", "potion-buff-" + e.element)), 
            2 === e.potency && (a.potencyIcon = a.sprites.add(t.prodigy.create.sprite(30, 10, "atlas-21", "bonus-arrow")));
        }, e.prototype.equipItem = function() {
            if (1 === this.item.L) {
                var t = {
                    conversionFunnelName: p.EFunnelEventIDs.FunnelEquipBackpackLockedItem,
                    conversionFunnelMetadata: this.item.type + "-" + this.item.ID
                };
                this.game.prodigy.network.sendConversionFunnelEvent(t.conversionFunnelName, p.EFunnelEventIDs.StageEquipItem, t.conversionFunnelMetadata), 
                this.game.prodigy.open.membershipInfo(null, t, h.MembershipInfo.PREMIUM_ITEM);
            } else this.game.prodigy.player.equip(this.item.ID, this.item.type) && (this.game.prodigy.player.appearanceChanged = !0, 
            this.game.prodigy.audio.playSFX(18, "whoosh")), this.close();
        }, e.prototype.unequipItem = function() {
            this.game.prodigy.player.unEquip(this.item.type) && (this.game.prodigy.player.appearanceChanged = !0, 
            this.game.prodigy.audio.playSFX(18, "blop")), this.close();
        }, e;
    }(o.RenderMenu);
    e.ItemInfo = d;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(5), s = i(3), l = i(0), h = function(t) {
        function e(e, i, a, n, o, r) {
            var s = t.call(this, e, i, a, n) || this;
            s.EFFECT = [ {
                id: 5,
                nameKey: "SLOT_MACHINE_HEAL_HP",
                icon: "slot-add-hp",
                icon2: "slot-add-10percent",
                bonus: 1
            }, {
                id: 6,
                nameKey: "SLOT_MACHINE_HEAL_HP",
                icon: "slot-add-hp",
                icon2: "slot-add-20percent",
                bonus: 2
            }, {
                id: 7,
                nameKey: "SLOT_MACHINE_HEAL_HP",
                icon: "slot-add-hp",
                icon2: "slot-add-30percent",
                bonus: 3
            }, {
                id: 8,
                nameKey: "SLOT_MACHINE_DRAIN",
                icon: "slot-lose-hp",
                icon2: "slot-lose-10percent",
                bonus: -1
            }, {
                id: 9,
                nameKey: "SLOT_MACHINE_DRAIN",
                icon: "slot-lose-hp",
                icon2: "slot-lose-20percent",
                bonus: -2
            }, {
                id: 10,
                nameKey: "SLOT_MACHINE_BONUS_STARS",
                icon: "slot-add-stars",
                icon2: "slot-add-10percent",
                bonus: 1
            }, {
                id: 10,
                nameKey: "SLOT_MACHINE_BONUS_STARS",
                icon: "slot-add-stars",
                icon2: "slot-add-10percent",
                bonus: 1
            }, {
                id: 11,
                nameKey: "SLOT_MACHINE_BONUS_STARS",
                icon: "slot-add-stars",
                icon2: "slot-add-20percent",
                bonus: 2
            }, {
                id: 11,
                nameKey: "SLOT_MACHINE_BONUS_STARS",
                icon: "slot-add-stars",
                icon2: "slot-add-20percent",
                bonus: 2
            }, {
                id: 12,
                nameKey: "SLOT_MACHINE_BONUS_STARS",
                icon: "slot-add-stars",
                icon2: "slot-add-30percent",
                bonus: 3
            }, {
                id: 12,
                nameKey: "SLOT_MACHINE_BONUS_STARS",
                icon: "slot-add-stars",
                icon2: "slot-add-30percent",
                bonus: 3
            }, {
                id: 13,
                nameKey: "SLOT_MACHINE_BONUS_DAMAGE",
                icon: "slot-add-damage",
                icon2: "slot-add-20percent",
                bonus: 2
            }, {
                id: 13,
                nameKey: "SLOT_MACHINE_BONUS_DAMAGE",
                icon: "slot-add-damage",
                icon2: "slot-add-20percent",
                bonus: 2
            }, {
                id: 14,
                nameKey: "SLOT_MACHINE_REDUCE_DAMAGE",
                icon: "slot-lose-damage",
                icon2: "slot-lose-10percent",
                bonus: -1
            }, {
                id: 15,
                nameKey: "SLOT_MACHINE_BONUS_GOLD",
                icon: "slot-add-gold",
                icon2: "slot-add-10percent",
                bonus: 1
            }, {
                id: 15,
                nameKey: "SLOT_MACHINE_BONUS_GOLD",
                icon: "slot-add-gold",
                icon2: "slot-add-10percent",
                bonus: 1
            }, {
                id: 16,
                nameKey: "SLOT_MACHINE_EVASION_UP",
                icon: "slot-add-agility",
                icon2: "slot-add-10percent",
                bonus: 1
            } ], s.HEAL_EFFECT = [ {
                id: 5,
                nameKey: "SLOT_MACHINE_HEAL_HP",
                icon: "slot-add-hp",
                icon2: "slot-add-10percent",
                bonus: 1
            }, {
                id: 6,
                nameKey: "SLOT_MACHINE_HEAL_HP",
                icon: "slot-add-hp",
                icon2: "slot-add-20percent",
                bonus: 2
            }, {
                id: 6,
                nameKey: "SLOT_MACHINE_HEAL_HP",
                icon: "slot-add-hp",
                icon2: "slot-add-20percent",
                bonus: 2
            }, {
                id: 6,
                nameKey: "SLOT_MACHINE_HEAL_HP",
                icon: "slot-add-hp",
                icon2: "slot-add-20percent",
                bonus: 2
            }, {
                id: 7,
                nameKey: "SLOT_MACHINE_HEAL_HP",
                icon: "slot-add-hp",
                icon2: "slot-add-30percent",
                bonus: 3
            } ], s.spinning = !1, s.bonusIds = [], s.guaranteeHeart = r, s.game.prodigy.load.assets([ "atlas-100" ], s.setup.bind(s));
            var h = s.game.prodigy.gameContainer.Localizer;
            if (!l.Util.isValid(s.EFFECT[0].name)) for (var c = function(t) {
                Object.defineProperty(t, "name", {
                    get: function() {
                        return h.getText(t.nameKey);
                    }
                });
            }, p = 0, u = s.EFFECT; p < u.length; p++) {
                c(u[p]);
            }
            if (!l.Util.isValid(s.EFFECT[0].name)) for (var d = function(t) {
                Object.defineProperty(t, "name", {
                    get: function() {
                        return h.getText(t.nameKey);
                    }
                });
            }, g = 0, y = s.EFFECT; g < y.length; g++) {
                d(y[g]);
            }
            return s;
        }
        return n(e, t), e.prototype.setup = function() {
            this.game.prodigy.notifications.clearNotifications(!0);
            var t = [];
            o.GameConstants.get("GameConstants.Build.DEBUG") && 3 === e.FORCED_RESULT.length ? (t.push(this.getEffectFromId(e.FORCED_RESULT[0])), 
            t.push(this.getEffectFromId(e.FORCED_RESULT[1])), t.push(this.getEffectFromId(e.FORCED_RESULT[2]))) : (t.push(Phaser.ArrayUtils.getRandomItem(this.EFFECT)), 
            t.push(Phaser.ArrayUtils.getRandomItem(this.EFFECT)), t.push(Phaser.ArrayUtils.getRandomItem(this.guaranteeHeart ? this.HEAL_EFFECT : this.EFFECT)));
            var i = 10, a = 10, n = 10, r = 20;
            this.bonusIds = [ t[0].id, t[1].id, t[2].id ], this.slotDoorTop = [], 
            this.slotDoorBottom = [], this.msg = [], this.sprites = this.game.prodigy.create.element(this, 0, 0), 
            this.bg = this.game.prodigy.create.element(this.sprites, 0, 0), this.fg = this.game.prodigy.create.element(this.sprites, 0, 0), 
            this.bgRect = this.game.add.graphics(0, 0, this.bg), this.bgRect.beginFill(16777215, 1), 
            this.bgRect.drawRect(20, 120, 400, 140), this.bgRect.endFill(), this.fg.add(this.game.prodigy.create.sprite(-25, 1, "atlas-100", "tz-interface-base")), 
            this.startBtn = this.game.prodigy.create.button(this.fg, 275, 321, "atlas-100", "tz-start-up", this.startSpinning.bind(this), null, null, !1), 
            this.quitBtn = this.game.prodigy.create.button(this.fg, 86, 321, "atlas-100", "tz-quit-up", this.quit.bind(this), null, null, !1);
            for (var s = 0; s < 3; s++) this.bg.add(this.game.prodigy.create.sprite(140 * s + 35 + i, a + 141, "atlas-100", t[s].icon)), 
            l.Util.isValid(t[s].icon2) && this.bg.add(this.game.prodigy.create.sprite(140 * s + 35 + n, r + 141, "atlas-100", t[s].icon2)), 
            this.slotDoorTop.push(this.bg.add(this.game.prodigy.create.sprite(140 * s + 33, 141, "atlas-100", "tz-door-top"))), 
            this.slotDoorBottom.push(this.bg.add(this.game.prodigy.create.sprite(140 * s + 33, 195, "atlas-100", "tz-door-bottom"))), 
            this.msg.push(this.game.prodigy.create.font(this.fg, 142 * s - 28, 270, t[s].name, {
                width: 230,
                align: "center",
                size: 20
            })), this.msg[s].alpha = 0;
            this.game.add.tween(this).from({
                y: 720
            }, 700, Phaser.Easing.Back.Out, !0);
        }, e.prototype.startSpinning = function() {
            if (this.startBtn.active = !1, this.quitBtn.active = !1, !this.spinning) {
                this.spinning = !0, this.startBtn.sprite.frameName = "tz-start-down";
                var t = this.game.prodigy.event.create();
                if (!e.SKIP_BONUS_CHANCE) for (var i = 0; i < 3; i++) t.animation(this.game.prodigy.animation.shake.bind(this.game.prodigy.animation, this.sprites, 10, 0, -10, 0, 120, 0, Phaser.Easing.Quadratic.Out, !0)), 
                t.animation(this.game.prodigy.animation.translate.bind(this.game.prodigy.animation, this.slotDoorTop[i], this.slotDoorTop[i].x, 83, 800, 120, Phaser.Easing.Quadratic.Out, !0)), 
                t.animation(this.game.prodigy.animation.translate.bind(this.game.prodigy.animation, this.slotDoorBottom[i], this.slotDoorBottom[i].x, 252, 800, 0, Phaser.Easing.Quadratic.Out, !0)), 
                t.delay(800), t.tween(this.msg[i], {
                    alpha: 1
                }, 1, Phaser.Easing.Quadratic.Out, !1), t.tween(this.msg[i], {
                    alpha: 0
                }, 1200, Phaser.Easing.Quadratic.In, !1);
                t.function(this.applyBonus.bind(this)), t.start();
            }
        }, e.prototype.quit = function() {
            1 === this.quitBtn.alpha && (this.quitBtn.x = 277, this.quitBtn.y = 288, 
            this.quitBtn.sprite.frameName = "tz-quit-down", this.game.broadcaster.broadcast(s.EBattleEvents.EndBattle, null, [ "run" ]), 
            this.close());
        }, e.prototype.close = function() {
            this.game.prodigy.notifications.startTimer(!0), this.game.add.tween(this).to({
                y: 720
            }, 700, Phaser.Easing.Back.In, !0).onComplete.add(this.onCloseComplete, this);
        }, e.prototype.onCloseComplete = function() {
            this.game.prodigy.open.close(this), this.destroy();
        }, e.prototype.applyBonus = function() {
            this.game.broadcaster.broadcast(s.EBattleEvents.ApplySlotBonus, null, [ this.bonusIds ]), 
            this.close();
        }, e.prototype.getEffectFromId = function(t) {
            for (var e = 0; e < this.EFFECT.length; e++) if (this.EFFECT[e].id === t) return this.EFFECT[e];
        }, e.FORCED_RESULT = [], e.SKIP_BONUS_CHANCE = !1, e;
    }(r.Element);
    e.EpicBoostMenu = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(40), r = i(21), s = i(15), l = i(13), h = i(0), c = function(t) {
        function e(i, a, n) {
            var o = t.call(this, i, a, 8) || this;
            if (o.player = null, o.index = 0, o.opponentName = null, o.opponentTitle = null, 
            o.description = null, o.itemIcon = null, o.defeat = null, o.scrollRightButton = null, 
            o.scrollLeftButton = null, o.challengeButton = null, o.data = null, 
            o.opponent = null, o.petV = null, o.playerV = null, o.locked = !1, o.player = n, 
            !h.Util.isValid(e.data[0].title)) for (var r = function(t) {
                Object.defineProperty(t.opponent.appearance, "name", {
                    get: function() {
                        return i.prodigy.gameContainer.Localizer.getText(t.opponent.appearance.nameKey);
                    }
                }), Object.defineProperty(t, "title", {
                    get: function() {
                        return i.prodigy.gameContainer.Localizer.getText(t.titleKey);
                    }
                }), Object.defineProperty(t, "description", {
                    get: function() {
                        return i.prodigy.gameContainer.Localizer.getText(t.descriptionKey);
                    }
                });
            }, s = 0, l = e.data; s < l.length; s++) {
                r(l[s]);
            }
            return o.setup(), o;
        }
        return n(e, t), e.prototype.menuSetup = function() {
            t.prototype.menuSetup.call(this);
            var i = this.game.prodigy.gameContainer.Localizer;
            this.index = 0, this.add(this.game.prodigy.create.sprite(120, 140, "atlas-19", "char-container")), 
            this.game.prodigy.create.panel(this, 560, 140, 12, 6), this.game.prodigy.create.panel(this, 860, 480, 6, 2), 
            this.opponentName = this.game.prodigy.create.font(this, 610, 150, "", {
                size: 40
            }), this.opponentTitle = this.game.prodigy.create.font(this, 610, 180, "", {
                width: 500,
                align: "right"
            }), this.description = this.game.prodigy.create.font(this, 590, 230, "", {
                size: 20,
                width: 540
            }), this.game.prodigy.create.font(this, 880, 490, i.getText("COLISEUM_REWARD"), {
                size: 30
            }), this.itemIcon = this.game.prodigy.icon.createWithQuantity(this, 1020, 470, "icon-item-26", 1), 
            this.defeat = this.game.prodigy.create.sprite(270, 460, "atlas-21", "yes"), 
            this.add(this.defeat), this.scrollRightButton = this.game.prodigy.create.button(this, 374, 430, "atlas-21", "next", this.shift.bind(this, 1)), 
            this.scrollLeftButton = this.game.prodigy.create.button(this, 164, 430, "atlas-21", "back", this.shift.bind(this, -1)), 
            this.challengeButton = this.game.prodigy.create.textButton(this, 710, 410, {
                text: i.getText("COLISEUM_BUTTON_CHALLENGE"),
                icon: {
                    type: "weapon",
                    ID: 4
                },
                size: r.TextButton.MED
            }, this.challenge.bind(this)), this.showFrame("leaderboard", i.getText("ARENA_TITLE"), []);
            var a = this.game.prodigy.create.textButton(this, 0, 0, {
                icon: "close",
                text: i.getText("BUTTON_CLOSE")
            }, this.close.bind(this));
            this.showBtns([], [ a ]), this.index = Math.min(this.game.prodigy.player.getColiseum(), e.data.length - 1), 
            this.shift(0), this.setupComplete = !0;
        }, e.prototype.shift = function(t) {
            this.index += t, this.scrollLeftButton.setActive(), this.scrollRightButton.setActive(), 
            this.index <= 0 && (this.index = 0, this.scrollLeftButton.setInactive()), 
            this.index >= e.data.length - 1 && (this.index = e.data.length - 1, 
            this.scrollRightButton.setInactive()), this.changeOpponent();
        }, e.prototype.changeOpponent = function() {
            this.data = e.data[this.index], this.opponent = new l.Player(this.game), 
            this.opponent.init(this.data.opponent), h.Util.isValid(this.petV) && this.petV.destroy(), 
            this.data.pets.length > 0 && (this.petV = this.game.prodigy.create.monster(this, new s.Monster(this.game, this.data.pets[0]), 2, 250, 390), 
            this.petV.reload()), h.Util.isValid(this.playerV) && this.playerV.destroy(), 
            this.playerV = this.game.prodigy.create.player(this, this.opponent, 2, 350, 390), 
            this.data.pets.length <= 0 && (this.playerV.x -= 55), this.playerV.reload();
            var t = this.data.drops[0];
            "gold" === t.type ? this.itemIcon.setValue("icon-item-26", null, t.N) : this.itemIcon.setValue(this.game.prodigy.icon.iconKey(t), null, 1);
            var i = "";
            if (this.index > Math.floor(this.player.getLevel() / 5) || this.index > this.game.prodigy.player.getColiseum()) {
                var a = !1, n = !1;
                this.index > Math.floor(this.player.getLevel() / 5) && (a = !0), 
                this.index > this.game.prodigy.player.getColiseum() && (n = !0), 
                i = a && n ? 1 === this.index ? this.game.prodigy.gameContainer.Localizer.getText("COLISEUM_PROMPT_REQUIRE_LEVEL_DEFEAT_SINGLE", 5 * this.index, this.opponent.getName()) : this.game.prodigy.gameContainer.Localizer.getText("COLISEUM_PROMPT_REQUIRE_LEVEL_DEFEAT_PLURAL", 5 * this.index, this.opponent.getName()) : a ? this.game.prodigy.gameContainer.Localizer.getText("COLISEUM_PROMPT_REQUIRE_LEVEL", 5 * this.index, this.opponent.getName()) : 1 === this.index ? this.game.prodigy.gameContainer.Localizer.getText("COLISEUM_PROMPT_REQUIRE_DEFEAT_SINGLE", this.opponent.getName()) : this.game.prodigy.gameContainer.Localizer.getText("COLISEUM_PROMPT_REQUIRE_DEFEAT_PLURAL", this.opponent.getName()), 
                this.locked = !0, this.challengeButton.visible = !0, this.challengeButton.setInactive(), 
                this.defeat.visible = !1;
            } else this.index < this.game.prodigy.player.getColiseum() ? (i = this.data.description, 
            this.locked = !0, this.challengeButton.visible = !1, this.challengeButton.setInactive(), 
            this.defeat.visible = !0) : (this.locked = !1, i = this.data.description, 
            this.challengeButton.visible = !0, this.challengeButton.setActive(), 
            this.defeat.visible = !1);
            this.opponentName.setText(this.opponent.getName()), this.opponentTitle.setText("- " + this.data.title + " -"), 
            this.description.setText(i);
        }, e.prototype.challenge = function() {
            if (!this.locked) {
                var t = this.game.prodigy.dialogue.create(), i = e.dialogue[1];
                i.text = this.game.prodigy.gameContainer.Localizer.getText("COLISEUM_PROMPT_CHALLENGE", this.opponent.getName()), 
                i.yes = this.startBattle.bind(this, this.index, !0), t.setText(i), 
                t.start("clankboot");
            }
        }, e.prototype.startBattle = function(t, i) {
            if (i) {
                var a = function(t, e) {
                    h.Util.isValid(e) && e > t.prodigy.player.getColiseum() && t.prodigy.player.setColiseum(e), 
                    t.prodigy.world.teleport("lamplight-coliseum");
                };
                delete e.data[t].opponent.data.hp;
                var n = e.data[t].pets;
                if (h.Util.isValid(n)) for (var o = 0; o < n.length; o++) delete n[o].hp;
                var r = {
                    screen: "battle-coliseum-outside",
                    opponent: [ e.data[t].opponent ],
                    drops: e.data[t].drops,
                    catch: !1,
                    pets: n,
                    difficulty: 6,
                    dropsDisabled: !0
                };
                this.game.prodigy.network.sendBattleStartTypeEvent("ClankbootBattle"), 
                this.game.prodigy.battle.start(r, a.bind(this, this.game), a.bind(this, this.game, t + 1), null, "lamplight-coliseum");
            }
        }, e.dialogue = [ {
            textKey: "ARENA_CONFIRM_TRAINING",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-3",
                s: 0,
                d: 1
            }
        }, {
            face: 0,
            text: "",
            audio: {
                tag: "voice-3",
                s: 0,
                d: 1
            }
        } ], e.data = [ {
            opponent: {
                data: {
                    level: 5
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_NEW_GIRL_NAME",
                    gender: "female",
                    hair: {
                        style: 5,
                        color: 3
                    },
                    skinColor: 3,
                    eyeColor: 5
                },
                equipment: {
                    weapon: 1
                }
            },
            titleKey: "COLISEUM_OPPONENT_NEW_GIRL_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_NEW_GIRL_DESCRIPTION",
            pets: [],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 10
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_COPYCAT_NAME",
                    gender: "male",
                    hair: {
                        style: 19,
                        color: 6
                    },
                    skinColor: 5,
                    eyeColor: 4
                },
                equipment: {
                    outfit: 4,
                    weapon: 12
                }
            },
            titleKey: "COLISEUM_OPPONENT_COPYCAT_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_COPYCAT_DESCRIPTION",
            pets: [ {
                ID: 94,
                level: 10
            } ],
            drops: [ {
                ID: 12,
                type: "hat"
            } ]
        }, {
            opponent: {
                data: {
                    level: 15
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_VETERAN_NAME",
                    gender: "female",
                    hair: {
                        style: 14,
                        color: 1
                    },
                    skinColor: 4,
                    eyeColor: 1
                },
                equipment: {
                    hat: 4,
                    outfit: 2,
                    weapon: 2
                }
            },
            titleKey: "COLISEUM_OPPONENT_VETERAN_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_VETERAN_DESCRIPTION",
            pets: [ {
                ID: 1,
                level: 15
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 20
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_NAMELESS_NAME",
                    gender: "male",
                    hair: {
                        style: 16,
                        color: 4
                    },
                    skinColor: 3,
                    eyeColor: 8
                },
                equipment: {
                    outfit: 17,
                    weapon: 36
                }
            },
            titleKey: "COLISEUM_OPPONENT_NAMELESS_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_NAMELESS_DESCRIPTION",
            pets: [ {
                ID: 16,
                level: 20
            } ],
            drops: [ {
                type: "boots",
                ID: 26
            } ]
        }, {
            opponent: {
                data: {
                    level: 25
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_SWEETHEART_NAME",
                    gender: "female",
                    hair: {
                        style: 15,
                        color: 12
                    },
                    skinColor: 1,
                    eyeColor: 10
                },
                equipment: {
                    outfit: 20,
                    weapon: 3
                }
            },
            titleKey: "COLISEUM_OPPONENT_SWEETHEART_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_SWEETHEART_DESCRIPTION",
            pets: [ {
                ID: 35,
                level: 25
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 30
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_LOUDMOUTH_NAME",
                    gender: "male",
                    hair: {
                        style: 19,
                        color: 2
                    },
                    skinColor: 1,
                    eyeColor: 7
                },
                equipment: {
                    hat: 5,
                    outfit: 30,
                    weapon: 61
                }
            },
            titleKey: "COLISEUM_OPPONENT_LOUDMOUTH_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_LOUDMOUTH_DESCRIPTION",
            pets: [ {
                ID: 19,
                level: 30
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 35
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_METALHEAD_NAME",
                    gender: "female",
                    hair: {
                        style: 1,
                        color: 3
                    },
                    skinColor: 2,
                    eyeColor: 7
                },
                equipment: {
                    outfit: 31,
                    weapon: 52
                }
            },
            titleKey: "COLISEUM_OPPONENT_METALHEAD_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_METALHEAD_DESCRIPTION",
            pets: [ {
                ID: 88,
                level: 35
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 40
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_ADVENTURER_NAME",
                    gender: "male",
                    hair: {
                        style: 17,
                        color: 16
                    },
                    skinColor: 4,
                    eyeColor: 2
                },
                equipment: {
                    hat: 16,
                    outfit: 16,
                    weapon: 38
                }
            },
            titleKey: "COLISEUM_OPPONENT_ADVENTURER_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_ADVENTURER_DESCRIPTION",
            pets: [ {
                ID: 29,
                level: 40
            }, {
                ID: 14,
                level: 40
            } ],
            drops: [ {
                type: "hat",
                ID: 36
            } ]
        }, {
            opponent: {
                data: {
                    level: 45
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_ENIGMA_NAME",
                    gender: "female",
                    hair: {
                        style: 7,
                        color: 11
                    },
                    skinColor: 5,
                    eyeColor: 15
                },
                equipment: {
                    outfit: 1,
                    weapon: 7
                }
            },
            titleKey: "COLISEUM_OPPONENT_ENIGMA_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_ENIGMA_DESCRIPTION",
            pets: [ {
                ID: 99,
                level: 45
            }, {
                ID: 101,
                level: 45
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 50
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_FOREST_SPRITE_NAME",
                    gender: "male",
                    hair: {
                        style: 21,
                        color: 8
                    },
                    skinColor: 1,
                    eyeColor: 1
                },
                equipment: {
                    outfit: 29,
                    weapon: 15
                }
            },
            titleKey: "COLISEUM_OPPONENT_FOREST_SPRITE_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_FOREST_SPRITE_DESCRIPTION",
            pets: [ {
                ID: 59,
                level: 50
            }, {
                ID: 52,
                level: 50
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 55
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_FOREST_GUARDIAN_NAME",
                    gender: "female",
                    hair: {
                        style: 11,
                        color: 7
                    },
                    skinColor: 1,
                    eyeColor: 2
                },
                equipment: {
                    outfit: 3,
                    weapon: 8
                }
            },
            titleKey: "COLISEUM_OPPONENT_FOREST_GUARDIAN_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_FOREST_GUARDIAN_DESCRIPTION",
            pets: [ {
                ID: 60,
                level: 55
            }, {
                ID: 53,
                level: 55
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 60
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_CAROLER_NAME",
                    gender: "male",
                    hair: {
                        style: 23,
                        color: 5
                    },
                    skinColor: 2,
                    eyeColor: 2
                },
                equipment: {
                    hat: 24,
                    outfit: 25,
                    weapon: 25
                }
            },
            titleKey: "COLISEUM_OPPONENT_CAROLER_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_CAROLER_DESCRIPTION",
            pets: [ {
                ID: 27,
                level: 60
            }, {
                ID: 28,
                level: 60
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 65
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_PET_ENTHUSIAST_NAME",
                    gender: "female",
                    hair: {
                        style: 13,
                        color: 5
                    },
                    skinColor: 1,
                    eyeColor: 8
                },
                equipment: {
                    outfit: 1,
                    weapon: 2
                }
            },
            titleKey: "COLISEUM_OPPONENT_PET_ENTHUSIAST_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_PET_ENTHUSIAST_DESCRIPTION",
            pets: [ {
                ID: 25,
                level: 65
            }, {
                ID: 26,
                level: 65
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 70
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_BEASTMASTER_NAME",
                    gender: "male",
                    hair: {
                        style: 16,
                        color: 5
                    },
                    skinColor: 1,
                    eyeColor: 7
                },
                equipment: {
                    hat: 32,
                    outfit: 31,
                    weapon: 59
                }
            },
            titleKey: "COLISEUM_OPPONENT_BEASTMASTER_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_BEASTMASTER_DESCRIPTION",
            pets: [ {
                ID: 21,
                level: 70
            }, {
                ID: 22,
                level: 70
            } ],
            drops: [ {
                type: "outfit",
                ID: 32
            } ]
        }, {
            opponent: {
                data: {
                    level: 75
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_TIMED_TRAVELLER_NAME",
                    gender: "female",
                    hair: {
                        style: 14,
                        color: 16
                    },
                    skinColor: 4,
                    eyeColor: 10
                },
                equipment: {
                    outfit: 35,
                    weapon: 53
                }
            },
            titleKey: "COLISEUM_OPPONENT_TIMED_TRAVELLER_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_TIMED_TRAVELLER_DESCRIPTION",
            pets: [ {
                ID: 55,
                level: 75
            }, {
                ID: 58,
                level: 75
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 80
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_CURIOUS_ONE_NAME",
                    gender: "male",
                    hair: {
                        style: 23,
                        color: 6
                    },
                    skinColor: 2,
                    eyeColor: 2
                },
                equipment: {
                    hat: 9,
                    outfit: 2,
                    weapon: 10
                }
            },
            titleKey: "COLISEUM_OPPONENT_CURIOUS_ONE_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_CURIOUS_ONE_DESCRIPTION",
            pets: [ {
                ID: 63,
                level: 80
            }, {
                ID: 89,
                level: 80
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 85
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_ICE_QUEEN_NAME",
                    gender: "female",
                    hair: {
                        style: 1,
                        color: 14
                    },
                    skinColor: 1,
                    eyeColor: 13
                },
                equipment: {
                    hat: 10,
                    outfit: 6,
                    weapon: 20
                }
            },
            titleKey: "COLISEUM_OPPONENT_ICE_QUEEN_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_ICE_QUEEN_DESCRIPTION",
            pets: [ {
                ID: 40,
                level: 85
            }, {
                ID: 50,
                level: 85
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 90
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_EMERALD_KNIGHT_NAME",
                    gender: "male",
                    hair: {
                        style: 19,
                        color: 11
                    },
                    skinColor: 2,
                    eyeColor: 6
                },
                equipment: {
                    hat: 31,
                    outfit: 7,
                    weapon: 58
                }
            },
            titleKey: "COLISEUM_OPPONENT_EMERALD_KNIGHT_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_EMERALD_KNIGHT_DESCRIPTION",
            pets: [ {
                ID: 93,
                level: 90
            }, {
                ID: 91,
                level: 90
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 95
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_WELL_ROUNDED_NAME",
                    gender: "female",
                    hair: {
                        style: 3,
                        color: 2
                    },
                    skinColor: 1,
                    eyeColor: 1
                },
                equipment: {
                    hat: 8,
                    outfit: 5,
                    weapon: 23
                }
            },
            titleKey: "COLISEUM_OPPONENT_WELL_ROUNDED_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_WELL_ROUNDED_DESCRIPTION",
            pets: [ {
                ID: 86,
                level: 95
            }, {
                ID: 42,
                level: 95
            } ],
            drops: [ {
                type: "gold",
                N: 500
            } ]
        }, {
            opponent: {
                data: {
                    level: 100
                },
                appearance: {
                    nameKey: "COLISEUM_OPPONENT_PRODIGY_NAME",
                    gender: "male",
                    hair: {
                        style: 17,
                        color: 6
                    },
                    skinColor: 2,
                    eyeColor: 10
                },
                equipment: {
                    outfit: 8,
                    weapon: 22
                }
            },
            titleKey: "COLISEUM_OPPONENT_PRODIGY_TITLE",
            descriptionKey: "COLISEUM_OPPONENT_PRODIGY_DESCRIPTION",
            pets: [ {
                ID: 96,
                level: 100
            }, {
                ID: 97,
                level: 100
            } ],
            drops: [ {
                type: "weapon",
                ID: 62
            } ]
        } ], e;
    }(o.LegacyMenu);
    e.Coliseum = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(4), s = function(t) {
        function e(e, i, a, n, o, r, s) {
            void 0 === s && (s = !1);
            var l = t.call(this, e, i, a, n) || this;
            if (l.ID = r, 0 === l.game.prodigy.player.backpack.hasItem("item", l.ID + 84) && l.game.prodigy.player.state.get("world-bounties")[l.ID] > 0) l.mode = s ? "empty" : "preaccept"; else if (l.game.prodigy.player.backpack.hasItem("item", l.ID + 84) > 0) for (var h = l.game.prodigy.bounty.getBounties(), c = 0; c < h.length; c++) h[c].ID - 84 === l.ID && (l.mode = 1 === h[c].complete ? "preturnin" : "precomplete"); else l.mode = "turnedin";
            return l.setup(o), l;
        }
        return n(e, t), e.prototype.setup = function(t) {
            var e = this.game.prodigy.gameContainer.Localizer;
            if ("precomplete" === this.mode || "preturnin" === this.mode || "preaccept" === this.mode) {
                this.game.prodigy.create.panel(this, 0, 0, 7, 11, "paper");
                var i = this.game.prodigy.bounty.getMode(t), a = this.game.prodigy.bounty.getReward(t), n = "";
                if ("pet" === i) {
                    "precomplete" === this.mode || "preaccept" === this.mode ? (n = this.getText(t), 
                    "preaccept" === this.mode && (a > 2 && !this.game.prodigy.player.hasMembership() ? this.game.prodigy.create.advButton(this, 150, 310, {
                        icon: "membership",
                        top: e.getText("BOUNTY_BOARD_MEMBER_BUTTON_TOP"),
                        bot: e.getText("BOUNTY_BOARD_MEMBER_BUTTON_BOT")
                    }, this.openMessage.bind(this)) : this.game.prodigy.create.advButton(this, 150, 310, {
                        icon: "yes",
                        top: e.getText("BOUNTY_BOARD_BUTTON_TOP"),
                        bot: e.getText("BOUNTY_BOARD_BUTTON_BOT")
                    }, this.accept.bind(this, this.ID + 84, this.game.prodigy.player.state.get("world-bounties")[this.ID], this.ID)))) : n = e.getText("BOUNTY_BOARD_COMPLETED_TURN_IN");
                    var o = this.game.prodigy.bounty.getMonster(t);
                    this.add(this.game.prodigy.create.sprite("preaccept" === this.mode ? 30 : 90, 310, "atlas-18", "empty-icon")), 
                    this.add(this.game.prodigy.icon.createFromData({
                        type: "pet",
                        ID: o
                    }, "preaccept" === this.mode ? 40 : 100, 317));
                }
                this.add(this.game.prodigy.create.sprite(5, 5, "atlas-21", "bounty")), 
                this.game.prodigy.create.font(this, 22, 18, "" + a, {
                    size: 40,
                    width: 40,
                    align: "center"
                }), this.game.prodigy.create.font(this, 20, 110, n, {
                    size: 20,
                    width: 245
                }), this.game.prodigy.create.font(this, 85, 26, e.getText("BOUNTY_BOARD_BOUNTY_TITLE"), {
                    size: 20,
                    width: 245
                });
            } else this.game.prodigy.create.panel(this, 0, 0, 7, 11, "empty"), "turnedin" === this.mode ? this.game.prodigy.create.font(this, 20, 120, e.getText("BOUNTY_BOARD_COMPLETED_TURN_IN"), {
                size: 20,
                width: 250
            }) : "empty" === this.mode && this.game.prodigy.create.font(this, 20, 120, e.getText("BOUNTY_BOARD_GO_TO_LAMPLIGHT"), {
                size: 20,
                width: 250,
                align: "center"
            });
        }, e.prototype.getText = function(t) {
            var e = this.game.prodigy.bounty.getMonster(t), i = this.game.prodigy.bounty.getZoneName(t), a = this.game.prodigy.bounty.getMap(t), n = this.game.prodigy.bounty.getName(t), o = this.game.prodigy.bounty.getText(t), s = this.game.prodigy.world.zones[i].name, l = this.game.prodigy.world.zones[i].maps[a].name, h = this.game.prodigy.gameContainer.Localizer, c = "";
            if (0 === o) {
                var p = r.Items.getItemData("pet", e).name;
                c = h.getText(this.getArticleKey(p), n, p, l, s);
            } else c = h.getText("BOUNTY_DEFEAT_MONSTER_TEXT_" + o, n, s, l);
            return c;
        }, e.prototype.accept = function(t, e) {
            0 === this.game.prodigy.player.backpack.hasItem("item", t) && this.game.prodigy.open.gotItem([ {
                ID: t,
                type: "item",
                N: 1,
                lvl: this.game.prodigy.bounty.getReward({
                    seed: e
                }),
                data: {
                    seed: e
                }
            } ], null, null, "collect-bounty-note");
        }, e.prototype.getArticleKey = function(t) {
            return "BOUNTY_DEFEAT_MONSTER_TEXT_0_" + ("A" === t[0] || "E" === t[0] || "I" === t[0] || "O" === t[0] || "U" === t[0] ? "AN" : "A");
        }, e.prototype.openMessage = function() {
            this.game.prodigy.open.membershipInfo();
        }, e;
    }(o.Element);
    e.BountyContainer = s;
}, function(t, e, i) {
    var a = i(88), n = i(53), o = i(270), r = i(714), s = i(84), l = i(713), h = i(82);
    t.exports = function(t, e, i) {
        var c = -1;
        e = a(e.length ? e : [ h ], s(n));
        var p = o(t, function(t, i, n) {
            return {
                criteria: a(e, function(e) {
                    return e(t);
                }),
                index: ++c,
                value: t
            };
        });
        return r(p, function(t, e) {
            return l(t, e, i);
        });
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__assign || Object.assign || function(t) {
        for (var e, i = 1, a = arguments.length; i < a; i++) for (var n in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        return t;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(715), s = i(78), l = i(256), h = i(2), c = i(12), p = i(21), u = i(4), d = i(0), g = function(t) {
        function e(e, i, a, n, o) {
            void 0 === o && (o = !1);
            var r = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return r.content = null, r.nameText = null, r.bar = null, r.closeBtn = null, 
            r.btns = null, r.selectedBtn = null, r.names = [], r.reverseGender = !1, 
            r.reverseGender = o, r.content = r.game.prodigy.create.element(r), r.onClose = n, 
            r.page = 0, a ? r.create() : r.createAdvanced(), r.onDestroy.add(function() {
                r.handleDestroy();
            }), r;
        }
        return n(e, t), e.prototype.selectNamesList = function() {
            var t = "female" === this.game.prodigy.player.appearance.getGender() ? 1 : 2;
            this.names = r(u.Items.getItemsWithFilter("name", function(e) {
                return 0 === e.data.type && e.data.gender === t;
            }), [ "data.value" ]);
        }, e.prototype.create = function() {
            var e = this;
            this.selectNamesList(), this.addTransparent();
            var i = this.game.prodigy.create.element(this.background, 320, 150), a = this.game.prodigy.create.element(i, 0, 0);
            this.game.prodigy.create.panel(a, 0, 0, 16, 10, "shine"), a.add(new Phaser.TileSprite(this.game, 11, 80, 618, 40, "atlas-161", "blue-top")), 
            a.add(new Phaser.TileSprite(this.game, 11, 120, 618, 200, "atlas-161", "blue-mid")), 
            a.add(new Phaser.TileSprite(this.game, 11, 320, 618, 40, "atlas-161", "blue-top2"));
            var n = this.game.prodigy.create.panel(a, 40, -20, 14, 2, "banner");
            t.prototype.create.call(this), this.nameText = this.game.prodigy.create.font(this, i.x + n.x, i.y + n.y + 15, this.game.prodigy.gameContainer.Localizer.getText("NAME_CHANGE_NAME_WIZARD"), {
                width: n.width,
                align: "center",
                size: 36,
                fontID: 9
            }), this.bar = this.game.prodigy.create.slider(this, i.x + 30, i.y + 80 + 20, 240, !0, !0), 
            this.closeBtn = this.game.prodigy.create.textButton(this, 490, i.y + 400 - 25, {
                text: this.game.prodigy.gameContainer.Localizer.getText("NAME_CHANGE_BUTTON_DONE"),
                icon: "yes",
                size: p.TextButton.MED
            }, function() {
                e.close();
            }), this.closeBtn.setInactive(), this.content = this.game.prodigy.create.element(this, this.bar.x + 70, this.bar.y);
            var o = null;
            h.GameConstants.get("GameConstants.Build.DEBUG") && (o = function(t) {
                return {
                    x: t.worldPosition.x + .5 * t.totalWidth,
                    y: t.worldPosition.y + .5 * t.totalHeight
                };
            }), this.btns = [];
            for (var r = function(t) {
                var e = s.game.prodigy.create.panel(s.content, t % 2 * 260, 40 * Math.floor(t / 2), 6, 1, "lb");
                e.text = s.game.prodigy.create.font(e, 0, 5, "", {
                    width: 240,
                    align: "center",
                    size: 20
                }), e.setClickable(s.setName.bind(s, t), null, s.onNameOver.bind(s, e), s.onNameOut.bind(s, e)), 
                s.btns.push(e), h.GameConstants.get("GameConstants.Build.DEBUG") && s.game.prodigy.automation.addTrigger({
                    ID: "autoclick-name-" + t,
                    context: s,
                    callback: function() {
                        o(e);
                    }
                });
            }, s = this, l = 0; l < 12; l++) r(l);
            this.bar.reset(Math.ceil(this.names.length / 12), 1, 0, function(t) {
                e.setPage(t);
            });
        }, e.prototype.handleDestroy = function() {
            h.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this);
        }, e.prototype.setPage = function(t) {
            this.setName(null), d.Util.isValid(this.selectedBtn) && this.selectedBtn.changePanel("lb"), 
            this.selectedBtn = null, this.page = t;
            for (var e = 0; e < 12; e++) {
                var i = this.btns[e];
                12 * t + e >= this.names.length ? i.visible = !1 : (i.text.setText(this.names[12 * t + e].data.value), 
                i.visible = !0);
            }
        }, e.prototype.setName = function(t) {
            if (d.Util.isValid(t)) {
                this.onNameDown(t);
                var e = this.btns[t];
                this.game.prodigy.player.appearance.setName(o({}, this.game.prodigy.player.appearance.data.name, {
                    first: this.names[12 * this.page + t].ID
                })), this.nameText.setText(e.text.text), this.closeBtn.setActive();
            } else this.nameText.setText(this.game.prodigy.gameContainer.Localizer.getText("NAME_CHANGE_NAME_WIZARD")), 
            this.closeBtn.setInactive();
        }, e.prototype.createAdvanced = function() {
            var e = this;
            this.addTransparent();
            var i = this.game.prodigy.create.element(this.background, 320, 150), a = this.game.prodigy.create.element(i, 0, 0);
            this.game.prodigy.create.panel(a, 0, 0, 16, 10, "shine"), a.add(new Phaser.TileSprite(this.game, 11, 80, 618, 40, "atlas-161", "blue-top")), 
            a.add(new Phaser.TileSprite(this.game, 11, 120, 618, 200, "atlas-161", "blue-mid")), 
            a.add(new Phaser.TileSprite(this.game, 11, 320, 618, 40, "atlas-161", "blue-top2"));
            var n = this.game.prodigy.create.panel(a, 40, -20, 14, 2, "banner");
            t.prototype.create.call(this);
            var o = this.game.prodigy.player.appearance.getFirstName();
            this.nameText = this.game.prodigy.create.font(this, i.x + n.x, i.y + n.y + 18, this.game.prodigy.gameContainer.Localizer.getText("NAME_CHANGE_CHOOSE_TITLE"), {
                width: n.width,
                align: "center",
                size: 30
            }), this.closeBtn = this.game.prodigy.create.textButton(this, 490, i.y + 400 - 25, {
                text: this.game.prodigy.gameContainer.Localizer.getText("NAME_CHANGE_BUTTON_DONE"),
                icon: "yes",
                size: p.TextButton.MED
            }, function() {
                e.close();
            }), this.closeBtn.setInactive(), this.content = this.game.prodigy.create.element(this, i.x + 120, i.y + 80 + 20);
            var r = null;
            h.GameConstants.get("GameConstants.Build.DEBUG") && (r = function(t) {
                return {
                    x: t.worldPosition.x + .5 * t.totalWidth,
                    y: t.worldPosition.y + .5 * t.totalHeight
                };
            }), this.btns = [];
            for (var s = function(t) {
                var e = l.game.prodigy.create.panel(l.content, 0, 40 * t, 12, 1, "lb");
                e.text = l.game.prodigy.create.font(e, 0, 5, "", {
                    width: 480,
                    align: "center",
                    size: 20
                }), e.setClickable(l.setLongName.bind(l, t), null, l.onNameOver.bind(l, e), l.onNameOut.bind(l, e)), 
                l.btns.push(e), h.GameConstants.get("GameConstants.Build.DEBUG") && l.game.prodigy.automation.addTrigger({
                    ID: "autoclick-name-" + t,
                    context: l,
                    callback: function() {
                        r(e);
                    }
                });
            }, l = this, c = 0; c < 6; c++) s(c);
            this.game.prodigy.create.button(this, i.x + 30, i.y + 80 + 20, "atlas-21", "dice", function() {
                e.randomNames(o);
            }), this.randomNames(o);
        }, e.prototype.randomNames = function(t) {
            this.setName(null), d.Util.isValid(this.selectedBtn) && this.selectedBtn.changePanel("lb"), 
            this.selectedBtn = null;
            var e = [], i = 0;
            this.names = [];
            for (var a = 0; a < 6; a++) do {
                var n = s(u.Items.getItemsWithFilter("name", function(t) {
                    return 1 === t.data.type;
                })), o = s(u.Items.getItemsWithFilter("name", function(t) {
                    return 2 === t.data.type;
                })), r = l("" + n.data.value + o.data.value);
                this.btns[a].text.setText(t + " " + r), e.indexOf(r) < 0 && (e.push(r), 
                this.names.push({
                    middle: n.ID,
                    last: o.ID
                }), ++i);
            } while (i === a);
        }, e.prototype.setLongName = function(t) {
            this.onNameDown(t), this.game.prodigy.player.appearance.setName(o({}, this.game.prodigy.player.appearance.data.name, {
                middle: this.names[t].middle,
                last: this.names[t].last
            })), this.nameText.setText(this.btns[t].text.text), this.closeBtn.setActive();
        }, e.prototype.onNameDown = function(t) {
            d.Util.isValid(this.selectedBtn) && this.selectedBtn.changePanel("lb"), 
            this.selectedBtn = this.btns[t], this.btns[t].changePanel("lb-green");
        }, e.prototype.onNameOver = function(t) {
            t.changePanel("lb-green");
        }, e.prototype.onNameOut = function(t) {
            t !== this.selectedBtn && t.changePanel("lb");
        }, e;
    }(c.RenderMenu);
    e.NameChange = g;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(21), r = i(0), s = function(t) {
        function e(i, a, n, r) {
            var s = t.call(this, i, a, n) || this;
            s.panel = s.game.prodigy.create.panel(s, 415, 115), s.gradeButtons = [];
            for (var l = e.MIN_GRADE; l <= e.MAX_GRADE; l++) {
                var h = s.game.prodigy.create.textButton(s, (l - 1) % 4 * 105 + 440, 125 * Math.floor((l - 1) / 4) + 150, {
                    text: "" + l,
                    icon: "star",
                    size: o.TextButton.GRADE
                }, s.selectGrade.bind(s, l));
                h.text.x -= 25, h.text.y += 40, h.icon.x += 5, h.icon.y += 20, h.icon.alpha = .25, 
                h.deselect(), s.gradeButtons.push(h);
            }
            return s.closeCallback = r, s;
        }
        return n(e, t), e.prototype.open = function() {
            t.prototype.open.call(this), this.gradeButtons[6].visible = 4 !== this.data.country, 
            this.gradeButtons[7].visible = 4 !== this.data.country, r.Util.isValid(this.selectedGradeButton) && this.selectedGradeButton.deselect(), 
            this.selectGrade(this.data.grade), this.dialogue = this.game.prodigy.dialogue.create(), 
            this.dialogue.setText(48), this.dialogue.start("noot", !0);
        }, e.prototype.selectGrade = function(t) {
            r.Util.isValid(this.selectedGradeButton) && this.selectedGradeButton.deselect(), 
            this.selectedGradeButton = this.gradeButtons[t - 1], r.Util.isValid(this.selectedGradeButton) && this.selectedGradeButton.visible ? (this.selectedGradeButton.select(), 
            this.data.grade = Phaser.Math.clamp(t, e.MIN_GRADE, e.MAX_GRADE), this.nextBtn.setActive(), 
            this.nextBtn.highlight(!0), this.panel.highlight(!1)) : (this.selectedGradeButton = null, 
            this.data.grade = null, this.nextBtn.setInactive(), this.nextBtn.highlight(!1), 
            this.panel.highlight(!0, 180, -10));
        }, e.prototype.close = function() {
            this.closeCallback(), t.prototype.close.call(this);
        }, e.MIN_GRADE = 1, e.MAX_GRADE = 8, e;
    }(i(73).RegisterPage);
    e.GradePage = s;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__assign || Object.assign || function(t) {
        for (var e, i = 1, a = arguments.length; i < a; i++) for (var n in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        return t;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(2), o = i(12), r = i(721), s = i(716), l = i(711), h = i(710), c = i(138), p = i(709), u = i(708), d = i(707), g = i(706), y = i(705), f = i(704), m = i(702), _ = i(207), v = i(701), E = i(206), b = i(700), O = i(696), T = i(695), A = i(693), I = i(692), w = i(205), C = i(56), S = i(210), P = i(691), D = i(690), L = i(72), x = i(204), M = i(203), N = i(689), U = i(688), k = i(687), R = i(686), B = i(685), G = i(684), V = i(683), H = i(680), F = i(120), j = i(673), z = i(201), W = i(199), K = i(74), Y = i(672), q = i(671), Q = i(669), X = i(668), Z = i(121), J = i(667), $ = i(666), tt = i(25), et = i(236), it = i(663), at = i(196), nt = i(662), ot = i(660), rt = i(659), st = i(652), lt = i(651), ht = i(650), ct = i(649), pt = i(648), ut = i(647), dt = i(645), gt = i(644), yt = i(30), ft = i(0), mt = i(643), _t = function() {
        function t(t) {
            this.chatMenu = null, this.menus = [], this.renderMenus = [], this.game = null, 
            this.game = t;
        }
        return t.prototype.cleanup = function() {
            this.renderMenus = [], this.menus = [], this.chatMenu = null;
        }, t.prototype.setActiveRenderMenu = function(t) {
            if (void 0 === t && (t = null), ft.Util.isValid(t)) {
                for (var e = 0; e < this.renderMenus.length; e++) this.renderMenus[e].setActive(!1);
                this.renderMenus.push(t);
            } else this.renderMenus.splice(this.renderMenus.length - 1, 1), this.renderMenus.length > 0 && this.renderMenus[this.renderMenus.length - 1].setActive(!0);
            this.closeChat();
        }, t.prototype.setActiveMenu = function(t) {
            if (void 0 === t && (t = null), ft.Util.isValid(t)) {
                if (t.isModal) for (var e = 0; e < this.renderMenus.length; e++) this.renderMenus[e].setActive(!1);
                this.renderMenus.push(t);
            } else {
                this.renderMenus.splice(this.renderMenus.length - 1, 1);
                for (e = this.renderMenus.length - 1; e >= 0 && (this.renderMenus[e].setActive(!0), 
                ft.Util.isValid(this.renderMenus[e].isModal) && !this.renderMenus[e].isModal); e--);
            }
            this.closeChat();
        }, t.prototype.hideActiveMenu = function() {
            this.renderMenus.length > 0 && this.renderMenus[this.renderMenus.length - 1] instanceof o.RenderMenu && this.renderMenus[this.renderMenus.length - 1].hideActiveElements();
        }, t.prototype.menuOpen = function(t) {
            this.menuLayer.callAll("hide", t), this.menuLayer.callAll("onMenuOpen", null, t), 
            this.closeChat();
        }, t.prototype.close = function(t) {
            for (var e = this.menus.length - 1; e >= 0; e--) this.menus[e] === t && this.menus.splice(e, 1);
        }, t.prototype.menuCloseAll = function() {
            for (var t = this.menus.length - 1; t >= 0; t--) ft.Util.isValid(this.menus[t].close) ? this.menus[t].close() : this.menus[t].destroy();
            this.menus = [], this.closeChat();
        }, t.prototype.isMenuOpen = function(t) {
            for (var e = this.menus.length - 1; e >= 0; e--) if (this.menus[e] instanceof t && this.menus[e].visible) return !0;
            return !1;
        }, t.prototype.chat = function(t) {
            this.chatMenu = new f.Chat(this.game, this.menuLayer, t);
        }, t.prototype.closeChat = function() {
            ft.Util.isValid(this.chatMenu) && this.chatMenu.close(), this.chatMenu = null;
        }, t.prototype.toyStore = function() {
            this.menus.push(new K.ToyStore(this.game, this.menuLayer));
        }, t.prototype.nameChange = function(t, e) {
            this.menus.push(new S.NameChange(this.game, this.menuLayer, t, e));
        }, t.prototype.advancedNameChange = function(t, e, i) {
            this.menus.push(new s.AdvancedNameChange(this.game, this.menuLayer, t, e, i));
        }, t.prototype.survey = function(t) {
            this.menus.push(new q.Survey(this.game, this.menuLayer, t));
        }, t.prototype.toyUnlock = function() {
            this.menus.push(new X.ToyUnlock(this.game, this.menuLayer));
        }, t.prototype.bountyStore = function() {
            this.menus.push(new j.BountyStore(this.game, this.menuLayer));
        }, t.prototype.rating = function(t) {
            void 0 === t && (t = null), yt.Device.isNativeApp() ? this.menus.push(new G.Rating(this.game, this.menuLayer, t)) : ft.Util.isValid(t) && t();
        }, t.prototype.choosePet = function(t, e) {
            this.menus.push(new m.ChoosePet(this.game, this.menuLayer, t, e));
        }, t.prototype.createAccount = function(t, e) {
            this.menus.push(new r.AccountCreate(this.game, this.menuLayer, t, e));
        }, t.prototype.server = function(t, e, i) {
            this.menus.push(new V.Server(this.game, this.menuLayer, t, e, i));
        }, t.prototype.serverSelectMode = function(t, e, i, a) {
            this.menus.push(new H.ServerSelectMode(this.game, this.menuLayer, t, e, i, a));
        }, t.prototype.houseEditorMenu = function(t, e) {
            var i = new mt.HouseEditorMenu(this.game, this.menuLayer, t, e);
            return this.menus.push(i), i;
        }, t.prototype.pets = function(t, e) {
            this.menus.push(new D.PetsMenu(this.game, this.menuLayer, t, e));
        }, t.prototype.battle = function(t, e, i, a, n, o, r, s, h, c, p) {
            var u = new l.AttackSelect(this.game, this.menuLayer, t, e, i, a, n, o, r, s, h, c, p);
            return this.menus.push(u), u;
        }, t.prototype.playAtHomePrompt = function(t) {
            this.menus.push(new M.PlayAtHome(this.game, this.menuLayer, t));
        }, t.prototype.parentalLinkInfoPrompt = function(t, e) {
            this.menus.push(new x.ParentalLink(this.game, this.menuLayer, L.ParentLinkBenefitsConfig.INFO_POPUP_CONFIG, t, e));
        }, t.prototype.parentalLinkSuccessPrompt = function(t) {
            this.menus.push(new x.ParentalLink(this.game, this.menuLayer, L.ParentLinkBenefitsConfig.SUCCESS_POPUP_CONFIG, null, t));
        }, t.prototype.mailer = function(t, e, i) {
            var a = new ut.YourMail(this.game, this.menuLayer, i);
            return a.preprocess(), this.menus.push(a), a;
        }, t.prototype.openMail = function(t) {
            var e = new nt.OpenMail(this.game, this.menuLayer);
            return e.preprocess(t), this.menus.push(e), e;
        }, t.prototype.friendRequests = function(t) {
            this.menus.push(new b.FriendRequests(this.game, this.menuLayer, t));
        }, t.prototype.itemInfo = function(t, e, i) {
            this.menus.push(new w.ItemInfo(this.game, this.menuLayer, t, e, i));
        }, t.prototype.houseItemInfo = function(t, e, i) {
            this.menus.push(new I.HouseItemInfo(this.game, this.menuLayer, t, e, i));
        }, t.prototype.bountyBoard = function() {
            this.menus.push(new u.BountyBoardMenu(this.game, this.menuLayer));
        }, t.prototype.social = function(t) {
            this.menus.push(new F.Social(this.game, this.menuLayer, t));
        }, t.prototype.boostSelect = function(t, e) {
            this.menus.push(new p.BoostSelect(this.game, this.menuLayer, t, e));
        }, t.prototype.card = function(t, e, i) {
            n.GameConstants.get("GameConstants.Debug.PLAYER_CARDS_ENABLED") && this.menus.push(new g.Card(this.game, this.menuLayer, t, e, i));
        }, t.prototype.arena = function() {
            this.menus.push(new _.Coliseum(this.game, this.menuLayer, this.game.prodigy.player));
        }, t.prototype.stylist = function() {
            this.menus.push(new Y.Stylist(this.game, this.menuLayer, this.game.prodigy.player));
        }, t.prototype.membership = function(t, e, i) {
            var a = C.MemberAd.reconcileConfig(t), n = new C.MemberAd(this.game, this.menuLayer, a, e, i);
            return this.menus.push(n), n;
        }, t.prototype.membershipSuccess = function(t, e) {
            var i = new it.MembershipSuccess(this.game, this.menuLayer, [ t ], e);
            return i.preprocess(), this.menus.push(i), i;
        }, t.prototype.conjureCube = function(t) {
            this.menus.push(new O.ConjureCubeView(this.game, this.menuLayer, t));
        }, t.prototype.reward = function(t, e) {
            this.menus.push(new T.RewardView(this.game, this.menuLayer, t, e));
        }, t.prototype.darkTowerMemberGate = function(t, e) {
            this.menus.push(new C.MemberAd(this.game, this.menuLayer, C.MemberAd.TOWER, t, e));
        }, t.prototype.nicknamer = function(t, e) {
            this.menus.push(new P.Nicknamer(this.game, this.menuLayer, t, e));
        }, t.prototype.gotItem = function(t, e, i, a) {
            var n = new A.GotItem(this.game, this.menuLayer, t, e, i, a);
            return this.menus.push(n), n;
        }, t.prototype.message = function(t, e, i, a, n, o) {
            var r = new at.MessageBox(this.game, this.menuLayer, n, o);
            return r.preprocess(t, i, a), this.menus.push(r), r.queuePostCreateCallback(r.setOkay.bind(r, null, e)), 
            r;
        }, t.prototype.classModeMessage = function(t, e, i, a, n, o) {
            var r = new J.ClassModeMessage(this.game, this.menuLayer, o);
            return r.preprocess(t, i, a, n), this.menus.push(r), r.queuePostCreateCallback(r.setOkay.bind(r, null, e)), 
            r;
        }, t.prototype.alert = function(t, e, i, a, n, o) {
            var r = new at.MessageBox(this.game, this.menuLayer, n, o);
            return r.preprocess(t, i, a), this.menus.push(r), r.queuePostCreateCallback(r.setOkay.bind(r, null, e)), 
            r;
        }, t.prototype.messageBox = function(t, e, i, a, n, o, r) {
            var s = new at.MessageBox(this.game, this.menuLayer, o, r);
            return s.preprocess(t, a, n), this.menus.push(s), s.queuePostCreateCallback(s.setConfirm.bind(s, e, i)), 
            s;
        }, t.prototype.messageBoxGeneric = function(t, e, i, a, n, o, r, s) {
            var l = new at.MessageBox(this.game, this.menuLayer, r, s);
            return l.preprocess(t, n, o), this.menus.push(l), l.queuePostCreateCallback(l.setConfirmGeneric.bind(l, e, i, a)), 
            l;
        }, t.prototype.messageBoxOkay = function(t, e, i, a, n, o, r) {
            var s = new at.MessageBox(this.game, this.menuLayer, o, r);
            return s.preprocess(t, a, n), this.menus.push(s), s.queuePostCreateCallback(s.setOkay.bind(s, e, null)), 
            s.setCloseCallback(i), s;
        }, t.prototype.zoneProgress = function(t, e, i) {
            var a = new dt.ZoneProgress(this.game, this.menuLayer, t.atlasID);
            return a.preprocess(t), this.menus.push(a), a.queuePostCreateCallback(a.setConfirm.bind(a, e, i)), 
            a;
        }, t.prototype.titanProgress = function(t) {
            var e = new pt.TitanProgress(this.game, this.menuLayer, t);
            return e.preprocess(), this.menus.push(e), e;
        }, t.prototype.friendsList = function() {
            var t = new $.FriendsListMenu(this.game, this.menuLayer);
            return t.preprocess(), this.menus.push(t), t;
        }, t.prototype.membershipParent = function(t, e, i, n, o) {
            var r = new et.MembershipParent(this.game, this.menuLayer, i, n, o);
            return r.preprocess(e), this.menus.push(r), r.setMemberAd(a({}, t, {
                isModal: !1
            })), r;
        }, t.prototype.membershipInfo = function(t, e, i, a, n) {
            var o = new tt.MembershipInfo(this.game, this.menuLayer, t, e, i, a, n);
            return o.preprocess(), this.menus.push(o), o;
        }, t.prototype.socialFeed = function(t) {
            var e = new st.SocialFeed(this.game, this.menuLayer, t);
            return e.preprocess(), this.menus.push(e), e;
        }, t.prototype.pvpPrizes = function(t) {
            var e = new ot.PVPPrizes(this.game, this.menuLayer, t);
            return e.preprocess(), this.menus.push(e), e;
        }, t.prototype.character = function() {
            this.menus.push(new y.Character(this.game, this.menuLayer));
        }, t.prototype.backpack = function() {
            this.menus.push(new h.BackpackMenu(this.game, this.menuLayer, this.game.prodigy.player));
        }, t.prototype.pouch = function(t, e, i) {
            this.menus.push(new R.Pouch(this.game, this.menuLayer, this.game.prodigy.player, t, e, i));
        }, t.prototype.settings = function(t) {
            this.menus.push(new Q.SystemMenu(this.game, this.menuLayer, t));
        }, t.prototype.map = function(t, e) {
            this.menus.push(new Z.WorldMap(this.game, this.menuLayer, t, e));
        }, t.prototype.store = function(t, e, i, a, n, o) {
            this.menus.push(new z.Store(this.game, this.menuLayer, t, e, i, a, n, o));
        }, t.prototype.stylistStore = function(t, e, i, a) {
            var n = this;
            this.menus.push(new z.Store(this.game, this.menuLayer, 20, t, e, i, null, a, {
                0: function(t) {
                    return W.StoreItemSort.byOwned(n.game.prodigy.player.isItemOwned.bind(n.game.prodigy.player), W.StoreItemSort.byGender("female" === n.game.prodigy.player.appearance.getGender() ? 1 : 2, t));
                }
            }));
        }, t.prototype.buyToy = function(t, e, i) {
            this.menus.push(new d.BuyToy(this.game, this.menuLayer, t, e, i));
        }, t.prototype.epicBoostMachine = function(t, e) {
            this.menus.push(new E.EpicBoostMenu(this.game, this.menuLayer, 414, 168, t, e));
        }, t.prototype.battleSummary = function(t, e) {
            this.menus.push(new c.BattleBase(this.game, this.menuLayer, t, a({}, e, {
                type: c.BattleBase.SUMMARY
            })));
        }, t.prototype.battleLevel = function(t, e) {
            this.menus.push(new c.BattleBase(this.game, this.menuLayer, t, e));
        }, t.prototype.battlePotionSelect = function(t) {
            this.menus.push(new N.BattlePotionSelect(this.game, this.menuLayer, this.game.prodigy.player, t));
        }, t.prototype.confirmPotionUse = function(t) {
            this.menus.push(new U.ConfirmPotionUse(this.game, this.menuLayer, t));
        }, t.prototype.potionPvpPopup = function(t) {
            this.menus.push(new k.PotionPVPPopup(this.game, this.menuLayer, t));
        }, t.prototype.epicErrorMessage = function(t, e, i) {
            this.menus.push(new v.EpicErrorMessage(this.game, this.menuLayer, t, e, i));
        }, t.prototype.questDescription = function(t, e) {
            this.menus.push(new B.QuestDescription(this.game, this.menuLayer, t, e));
        }, t.prototype.uiViewer = function() {
            this.menus.push(new gt.UIViewer(this.game, this.menuLayer));
        }, t.prototype.resultsMenu = function(t, e, i, a) {
            var n = new rt.ResultsMenu(this.game, this.menuLayer, t, e, i, a);
            return this.menus.push(n), n;
        }, t.prototype.evolutionSummary = function(t, e) {
            var i = new lt.EvolutionSummary(this.game, this.menuLayer, t, e);
            return this.menus.push(i), i;
        }, t.prototype.spellSummary = function(t, e) {
            var i = new ct.SpellSummary(this.game, this.menuLayer, t, e);
            return this.menus.push(i), i;
        }, t.prototype.heartSummary = function(t, e) {
            var i = new ht.HeartSummary(this.game, this.menuLayer, t, e);
            return this.menus.push(i), i;
        }, t;
    }();
    e.MenuFactory = _t;
}, function(t, e, i) {
    var a = i(122), n = i(66);
    t.exports = function(t) {
        return a(function(e, i) {
            var a = -1, o = i.length, r = o > 1 ? i[o - 1] : void 0, s = o > 2 ? i[2] : void 0;
            for (r = t.length > 3 && "function" == typeof r ? (o--, r) : void 0, 
            s && n(i[0], i[1], s) && (r = o < 3 ? void 0 : r, o = 1), e = Object(e); ++a < o; ) {
                var l = i[a];
                l && t(e, l, a, r);
            }
            return e;
        });
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(75), r = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            return i.blockedSpells = [], i.init({
                duration: 3
            }), i;
        }
        return n(e, t), e.prototype.applyEffectTo = function() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            var i = t[0];
            if (this.getDuration() > 0 && 0 === this.blockedSpells.length) {
                var a = i.source.source.getAttacks(), n = [], r = void 0;
                for (r = 0; r < a.length; r++) n.push(r);
                for (n = o(n), r = 0; r < Math.floor(.5 * a.length); r++) this.blockedSpells.push(a[n[r]]);
            }
        }, e;
    }(i(734).StatusEffect);
    e.Ink = r;
}, function(t, e, i) {
    var a = i(53), n = i(741);
    t.exports = function(t, e) {
        var i = [];
        if (!t || !t.length) return i;
        var o = -1, r = [], s = t.length;
        for (e = a(e, 3); ++o < s; ) {
            var l = t[o];
            e(l, o, t) && (i.push(l), r.push(o));
        }
        return n(t, r), i;
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(124), r = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.button = null, e.items = null, e;
        }
        return n(e, t), e.prototype.getButton = function() {
            return this.button;
        }, e.prototype.setButton = function(t) {
            this.button = t;
        }, e.prototype.isDefault = function() {
            return this.isDefaultTab;
        }, e.prototype.setIsDefault = function(t) {
            this.isDefaultTab = t;
        }, e.prototype.getStoreItems = function() {
            return this.items;
        }, e.prototype.setStoreItems = function(t) {
            this.items = t;
        }, e.prototype.isValid = function() {
            return null !== this.button && this.button.isValid() && null !== this.items && this.items.length > 0 && o.every(this.items, function(t) {
                return t.isValid();
            });
        }, e;
    }(i(63).Data);
    e.StoreTabData = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.itemType = null, e.itemID = -1, e.topText = null, e.bottomText = null, 
            e;
        }
        return n(e, t), e.prototype.getItemType = function() {
            return this.itemType;
        }, e.prototype.setItemType = function(t) {
            this.itemType = t;
        }, e.prototype.getItemID = function() {
            return this.itemID;
        }, e.prototype.setItemID = function(t) {
            this.itemID = t;
        }, e.prototype.getTopText = function() {
            return this.topText;
        }, e.prototype.setTopText = function(t) {
            this.topText = t;
        }, e.prototype.getBottomText = function() {
            return this.bottomText;
        }, e.prototype.setBottomText = function(t) {
            this.bottomText = t;
        }, e.prototype.isValid = function() {
            return null !== this.itemType && this.itemType.length > 0 && this.itemID > 0;
        }, e;
    }(i(63).Data);
    e.StoreTabButtonData = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.tag = null, e.frame = "", e.scale = {
                x: 1,
                y: 1
            }, e.position = {
                x: 0,
                y: 0
            }, e;
        }
        return n(e, t), e.prototype.getAssetTag = function() {
            return this.tag;
        }, e.prototype.setAssetTag = function(t) {
            this.tag = t;
        }, e.prototype.getAssetFrame = function() {
            return this.frame;
        }, e.prototype.setAssetFrame = function(t) {
            this.frame = t;
        }, e.prototype.getScale = function() {
            return this.scale;
        }, e.prototype.setScale = function(t, e) {
            this.scale.x = t, this.scale.y = e;
        }, e.prototype.getPosition = function() {
            return this.position;
        }, e.prototype.setPosition = function(t, e) {
            this.position.x = t, this.position.y = e;
        }, e.prototype.isValid = function() {
            return null !== this.tag && this.tag.length > 0;
        }, e;
    }(i(63).Data);
    e.StoreMerchantAvatarData = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(124), r = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.type = null, e.ID = -1, e.cost = [], e;
        }
        return n(e, t), e.prototype.getType = function() {
            return this.type;
        }, e.prototype.setType = function(t) {
            this.type = t;
        }, e.prototype.getID = function() {
            return this.ID;
        }, e.prototype.setID = function(t) {
            this.ID = t;
        }, e.prototype.getCost = function() {
            return this.cost;
        }, e.prototype.setCost = function(t) {
            this.cost = t;
        }, e.prototype.isValid = function() {
            return null !== this.cost && this.cost.length > 0 && o.every(this.cost, function(t) {
                return t.isValid();
            }) && null !== this.type && this.type.length > 0 && this.ID > 0;
        }, e;
    }(i(63).Data);
    e.StoreItemData = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(124), r = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.name = null, e.pages = null, e.merchantAvatar = null, e.currencyType = null, 
            e.currencyID = -1, e;
        }
        return n(e, t), e.prototype.getName = function() {
            return this.name;
        }, e.prototype.setName = function(t) {
            this.name = t;
        }, e.prototype.getPages = function() {
            return this.pages;
        }, e.prototype.setPages = function(t) {
            this.pages = t;
        }, e.prototype.getMerchantAvatar = function() {
            return this.merchantAvatar;
        }, e.prototype.setMerchantAvatar = function(t) {
            this.merchantAvatar = t;
        }, e.prototype.getStoreCurrencyType = function() {
            return this.currencyType;
        }, e.prototype.setStoreCurrencyType = function(t) {
            this.currencyType = t;
        }, e.prototype.getStoreCurrencyID = function() {
            return this.currencyID;
        }, e.prototype.setStoreCurrencyID = function(t) {
            this.currencyID = t;
        }, e.prototype.isValid = function() {
            return null !== this.merchantAvatar && this.merchantAvatar.isValid() && null !== this.name && this.name.length > 0 && null !== this.currencyType && this.currencyType.length > 0 && this.currencyID > 0 && null !== this.pages && this.pages.length > 0 && o.every(this.pages, function(t) {
                return t.isValid();
            });
        }, e;
    }(i(63).Data);
    e.StoreData = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.type = null, e.ID = -1, e.amount = 1, e;
        }
        return n(e, t), e.prototype.getType = function() {
            return this.type;
        }, e.prototype.setType = function(t) {
            this.type = t;
        }, e.prototype.getAmount = function() {
            return this.amount;
        }, e.prototype.setAmount = function(t) {
            this.amount = t;
        }, e.prototype.getID = function() {
            return this.ID;
        }, e.prototype.setID = function(t) {
            this.ID = t;
        }, e.prototype.isValid = function() {
            return this.ID > 0 && this.amount > 0 && null !== this.type && this.type.length > 0;
        }, e;
    }(i(63).Data);
    e.StoreCostData = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__assign || Object.assign || function(t) {
        for (var e, i = 1, a = arguments.length; i < a; i++) for (var n in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        return t;
    }, r = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var s = i(11), l = i(746), h = i(221), c = i(220), p = i(219), u = i(218), d = i(217), g = i(216), y = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), i = e, e.prototype.deserialize = function(t) {
            var e = new c.StoreData();
            return null !== t && 1 === t.version && (e.setName(t.name), e.setStoreCurrencyID(t.currencyID), 
            e.setStoreCurrencyType(t.currencyType), e.setMerchantAvatar(i.deserializeMerchantAvatar(t.merchantAvatar)), 
            e.setPages(i.deserializeCollection(t.pages, i.deserializeTab))), e.isValid() || (e = null), 
            e;
        }, e.prototype.serialize = function(t) {
            var e = null;
            return t.isValid() && (e = {
                version: 1,
                name: t.getName(),
                currencyID: t.getStoreCurrencyID(),
                currencyType: t.getStoreCurrencyType(),
                merchantAvatar: i.serializeMerchantAvatar(t.getMerchantAvatar()),
                pages: i.serializeCollection(t.getPages(), i.serializeTab)
            }), e;
        }, e.deserializeMerchantAvatar = function(t) {
            var e = new u.StoreMerchantAvatarData();
            return e.setAssetFrame(t.frame), e.setAssetTag(t.tag), e.setPosition(t.position.x, t.position.y), 
            e.setScale(t.scale.x, t.scale.y), e;
        }, e.serializeMerchantAvatar = function(t) {
            return {
                tag: t.getAssetTag(),
                frame: t.getAssetFrame(),
                position: o({}, t.getPosition()),
                scale: o({}, t.getScale())
            };
        }, e.deserializeTab = function(t) {
            var e = new g.StoreTabData();
            return e.setButton(i.deserializeTabButton(t.btn)), e.setIsDefault(t.isDefault), 
            e.setStoreItems(i.deserializeCollection(t.items, i.deserializeStoreItem)), 
            e;
        }, e.serializeTab = function(t) {
            return {
                btn: i.serializeTabButton(t.getButton()),
                isDefault: t.isDefault(),
                items: i.serializeCollection(t.getStoreItems(), i.serializeStoreItem)
            };
        }, e.deserializeTabButton = function(t) {
            var e = new d.StoreTabButtonData();
            return e.setItemType(t.icon.type), e.setItemID(t.icon.ID), e.setTopText(t.top), 
            e.setBottomText(t.bot), e;
        }, e.serializeTabButton = function(t) {
            return {
                icon: {
                    type: t.getItemType(),
                    ID: t.getItemID()
                },
                bot: t.getBottomText(),
                top: t.getTopText()
            };
        }, e.deserializeStoreItem = function(t) {
            var e = new p.StoreItemData();
            return e.setType(t.type), e.setID(t.ID), e.setCost(i.deserializeCollection(t.cost, i.deserializeStoreCost)), 
            e;
        }, e.serializeStoreItem = function(t) {
            return {
                ID: t.getID(),
                type: t.getType(),
                cost: i.serializeCollection(t.getCost(), i.serializeStoreCost)
            };
        }, e.deserializeStoreCost = function(t) {
            var e = new h.StoreCostData();
            return e.setAmount(t.N), e.setType(t.type), e.setID(t.ID), e;
        }, e.serializeStoreCost = function(t) {
            return {
                N: t.getAmount(),
                ID: t.getID(),
                type: t.getType()
            };
        }, e = i = r([ s.injectable() ], e);
        var i;
    }(l.DataFactory);
    e.StoreDataFactory = y;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(11), o = function() {
        function t() {}
        return t = a([ n.injectable() ], t);
    }();
    e.IStoreDataProvider = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t(t, e, i) {
            void 0 === i && (i = ""), this.id = t, this.reasonCode = e, this.backtrace = i.split("\n").map(function(t) {
                return t.trim();
            });
        }
        return t.prototype.getId = function() {
            return this.id;
        }, t.prototype.getReasonCode = function() {
            return this.reasonCode;
        }, t.prototype.getBacktrace = function() {
            return this.backtrace;
        }, t.prototype.getObjectForJSON = function() {
            return {
                backtrace: this.backtrace,
                id: this.id,
                reason_code: this.reasonCode
            };
        }, t;
    }();
    e.ApplicationError = a;
}, function(t, e, i) {
    "use strict";
    function a(t) {
        for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i]);
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), a(i(224)), a(i(751)), a(i(750)), a(i(749)), a(i(744)), a(i(125)), a(i(743)), 
    a(i(93));
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(759), n = i(0), o = function() {
        function t(t, e) {
            void 0 === e && (e = 20), this.callbacks = [], this.lookingForPath = !1, 
            this.init(t, e);
        }
        return t.prototype.addCallback = function(t, e, i) {
            this.callbacks.push({
                ID: t,
                callback: e,
                mainPlayerRequired: i
            });
        }, t.prototype.init = function(t, e) {
            void 0 === e && (e = 20), this.area = t, this.size = e;
        }, t.prototype.getCallback = function(t, e, i) {
            for (var a = 0, o = this.callbacks; a < o.length; a++) {
                var r = o[a];
                if (r.ID === this.getNodeValue(t, e) && (!n.Util.isValid(r.mainPlayerRequired) || !r.mainPlayerRequired || i)) return r.callback;
            }
            return null;
        }, t.prototype.xyToTile = function(t, e) {
            return new Phaser.Point(Math.floor(t / this.size), Math.floor(e / this.size));
        }, t.prototype.tileToXY = function(t, e) {
            return new Phaser.Point(Math.floor((t + .5) * this.size), Math.floor((e + .5) * this.size));
        }, t.prototype.findPath = function(t, e, i, n, o) {
            if (!this.lookingForPath) {
                this.lookingForPath = !0;
                var r = Math.floor(t / this.size), s = Math.floor(e / this.size), l = Math.floor(i / this.size), h = Math.floor(n / this.size);
                r = r > 63 ? 63 : r < 0 ? 0 : r, l = l > 63 ? 63 : l < 0 ? 0 : l, 
                s = s > 35 ? 35 : s < 0 ? 0 : s, h = h > 35 ? 35 : h < 0 ? 0 : h;
                var c = new a.js();
                c.setGrid(this.area), c.setAcceptableTiles([ 1, 2, 3, 4, 5 ]), c.findPath(r, s, l, h, this.processPath.bind(this, r, s, i, n, o)), 
                c.calculate();
            }
        }, t.prototype.processPath = function(t, e, i, a, o, r) {
            var s = null;
            if (n.Util.isValid(r)) {
                var l = [];
                l.push(r[0]);
                for (var h = r.length - 1; h > 0 && l[l.length - 1] !== r[h]; h--) {
                    this.findNodeBetween(l[l.length - 1], r[h]) || (l.push(r[h]), 
                    h = r.length);
                }
                s = [];
                for (h = l.length - 1; h > 0; h--) l[h].x *= 20, l[h].y *= 20, s.push(l[h]);
                s[0] = new Phaser.Point(i, a);
            }
            n.Util.isValid(o) && o(s), this.lookingForPath = !1;
        }, t.prototype.findNodeBetween = function(t, e) {
            var i = e.x - t.x, a = e.y - t.y, n = Math.abs(i) >= Math.abs(a) ? Math.abs(i) : Math.abs(a);
            if (0 === n) return t;
            i /= n, a /= n;
            for (var o = t.x, r = t.y, s = t; o !== e.x || r !== e.y; ) {
                if (o += i, r += a, (i > 0 && o > e.x || i < 0 && o < e.x) && (o = e.x), 
                (a > 0 && r > e.y || a < 0 && r < e.y) && (r = e.y), !this.isNodeOpen(Math.floor(o), Math.floor(r))) return s;
                s = new Phaser.Point(Math.floor(o), Math.floor(r));
            }
            return null;
        }, t.prototype.isNodeOpen = function(t, e) {
            var i = this.getNodeValue(t, e);
            return i > 0 && 6 !== i;
        }, t.prototype.getNodeValue = function(t, e) {
            return e < this.area.length && e >= 0 && t < this.area[0].length && t >= 0 ? this.area[e][t] : -1;
        }, t.prototype.isPathBlocked = function(t, e, i, a) {
            var o = this.findNodeBetween(new Phaser.Point(Math.floor(t / this.size), Math.floor(e / this.size)), new Phaser.Point(Math.floor(i / this.size), Math.floor(a / this.size)));
            return n.Util.isValid(o);
        }, t;
    }();
    e.Pathfinder = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i, a, n) || this;
            return r.currentPose = 1, r.onSelect = null, r.frame = null, r.sprite = null, 
            r.currentTint = 14080234, r.onSelect = o, r.frame = r.add(r.game.prodigy.create.sprite(0, 0, "atlas-14", "pose-card")), 
            r.frame.events.onInputDown.add(r.select.bind(r)), r.sprite = r.add(r.game.prodigy.create.sprite(10, 10, "atlas-14", "card0")), 
            r.sprite.width = 0, r.sprite.x = 50, r.sprite.alpha = .9, r;
        }
        return n(e, t), e.prototype.randomPose = function(t, i) {
            var a = t < 3 ? 4 : 3 === t ? 6 : 4 === t ? 8 : 10;
            this.currentTint = 14080234;
            for (var n = 0; n < 100; n++) {
                this.currentPose = Math.floor(Math.random() * a), this.currentTint = e.TINTS[Math.floor(Math.random() * e.TINTS.length)];
                for (var o = !1, r = 0; r < i.length; r++) if (this.equals(i[r])) {
                    o = !0;
                    break;
                }
                if (!o) break;
            }
            this.sprite.frameName = "card" + this.currentPose, this.frame.tint = this.currentTint;
        }, e.prototype.setPose = function(t) {
            this.currentPose = t.currentPose, this.currentTint = t.currentTint;
        }, e.prototype.deselect = function() {
            this.frame.y = 0, this.sprite.y = 10;
        }, e.prototype.flip = function() {
            this.sprite.frameName = "card" + this.currentPose, this.frame.inputEnabled = !1, 
            "pose-frame" === this.frame.frameName ? this.game.add.tween(this.sprite).to({
                width: 0,
                x: 50
            }, 250, Phaser.Easing.Linear.None).start() : this.frame.tint = 16777215;
            var t = this.game.add.tween(this.frame).to({
                width: 0,
                x: 50
            }, 250, Phaser.Easing.Linear.None);
            t.onComplete.addOnce(this.flipStep.bind(this), this), t.start();
        }, e.prototype.flipStep = function() {
            var t = this;
            "pose-card" === this.frame.frameName ? (this.frame.frameName = "pose-frame", 
            this.frame.tint = this.currentTint, this.game.add.tween(this.sprite).to({
                width: 80,
                x: 10
            }, 250, Phaser.Easing.Linear.None).start()) : (this.frame.frameName = "pose-card", 
            this.frame.tint = 16777215);
            var e = this.game.add.tween(this.frame).to({
                width: 100,
                x: 0
            }, 250, Phaser.Easing.Linear.None);
            e.onComplete.addOnce(function() {
                t.frame.inputEnabled = "pose-frame" === t.frame.frameName;
            }, this), e.start();
        }, e.prototype.equals = function(t) {
            return r.Util.isValid(t) && (t.currentPose === this.currentPose || t.currentTint === this.currentTint && 14080234 !== t.currentTint);
        }, e.prototype.select = function() {
            r.Util.isValid(this.onSelect) && (this.game.prodigy.audio.playSFX(18, "pop"), 
            this.onSelect(), this.frame.y = -15, this.sprite.y = -5);
        }, e.TINTS = [ 14254209, 9946096, 8444311, 16755318, 15788439, 13080560 ], 
        e;
    }(o.Element);
    e.DancePose = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t.Win = "win", t.Loss = "loss", t.Draw = "draw";
    }(e.EPVPEndMode || (e.EPVPEndMode = {}));
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(248), n = i(2), o = i(3), r = i(99), s = i(30), l = i(0), h = i(764), c = i(228), p = i(230), u = function() {
        function t(t, e) {
            void 0 === e && (e = null), this.waitingToSelect = !1, this.currentAction = null, 
            this.nextAction = null, this.turn = 0, this.battleScreen = null, this.game = null, 
            this.attackSelectMenu = null, this.swapSelectMenu = null, this.forceSwitch = !1, 
            this.game = t, this.battleScreen = e, l.Util.isValid(e) ? (e.teams[0].enableComboAnimations = !0, 
            e.teams[0].moveTeamIn(), e.teams[1].enableComboAnimations = !0, e.teams[1].moveTeamIn(), 
            this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.Localizer.getText("PVP_INTRO"), this.playerTurn.bind(this))) : l.Util.log("Battle Screen is undefined", l.Util.ERROR);
        }
        return t.prototype.generateMissAttack = function() {
            if (l.Util.isValid(this.attackSelectMenu) && this.attackSelectMenu.close(), 
            l.Util.isValid(this.swapSelectMenu) && this.swapSelectMenu.close(), 
            this.forceSwitch) {
                var t = this.battleScreen.teams[0].getNextId();
                this.forceSwitch = !1, this.waitingToSelect = !1, this.battleScreen.teams[0].swapPlayersHop(null, t), 
                this.nextAction = {
                    type: h.EPVPAction.Ready,
                    index: t
                }, this.battleScreen.setState(p.EPVPState.RequestNextTurn);
            } else {
                var e = this.battleScreen.teams[0].current.source.getAttacks(), i = this.game.prodigy.attacks.getAttack(e[0]);
                this.game.prodigy.player.castSpell(!1), this.currentAction = {
                    type: h.EPVPAction.Spell,
                    ID: i.ID,
                    hit: !1,
                    time: 6e4,
                    turn: this.turn,
                    seed: Math.floor(999999 * Math.random())
                }, this.battleScreen.setState(p.EPVPState.RequestAction), this.waitingToSelect = !1;
            }
        }, t.prototype.processAction = function(t) {
            this.nextAction = null;
            var e = this.battleScreen.teams[0], i = this.battleScreen.teams[1], a = this.game.prodigy.player.userID === this.battleScreen.screenData.challengerID;
            if (this.currentAction.type === h.EPVPAction.Switch && t.type === h.EPVPAction.Switch) a ? e.swapPlayersHop(i.swapPlayersHop.bind(i, this.processEndDelay.bind(this), t.index), this.currentAction.index) : i.swapPlayersHop(e.swapPlayersHop.bind(e, this.processEndDelay.bind(this), this.currentAction.index), t.index); else if (this.currentAction.type === h.EPVPAction.Spell && t.type === h.EPVPAction.Spell) {
                var n = this.game.prodigy.attacks.getAttack(this.currentAction.ID), o = this.game.prodigy.attacks.getAttack(t.ID), r = this.game.prodigy.attacks.getAttackPriority(n), s = this.game.prodigy.attacks.getAttackPriority(o);
                r > s || r === s && (this.currentAction.time < t.time || this.currentAction.time === t.time && a) ? this.attack(e.current, i.current, this.attack.bind(this, i.current, e.current, this.processEnd.bind(this, !1), o, !t.hit, {
                    seed: t.seed
                }), n, !this.currentAction.hit, {
                    seed: this.currentAction.seed
                }) : this.attack(i.current, e.current, this.attack.bind(this, e.current, i.current, this.processEnd.bind(this, !1), n, !this.currentAction.hit, {
                    seed: this.currentAction.seed
                }), o, !t.hit, {
                    seed: t.seed
                });
            } else this.currentAction.type === h.EPVPAction.Spell && t.type === h.EPVPAction.Switch ? i.swapPlayersHop(this.swapAttack.bind(this, e, i, this.currentAction.ID, this.currentAction.hit, {
                seed: this.currentAction.seed
            }), t.index) : this.currentAction.type === h.EPVPAction.Switch && t.type === h.EPVPAction.Spell && e.swapPlayersHop(this.swapAttack.bind(this, i, e, t.ID, t.hit, {
                seed: t.seed
            }), this.currentAction.index);
        }, t.prototype.swapAttack = function(t, e, i, a, n) {
            this.attack(t.current, e.current, this.processEnd.bind(this, !1), this.game.prodigy.attacks.getAttack(i), !a, n);
        }, t.prototype.playerTurn = function(t) {
            this.currentAction = null;
            var e = this.battleScreen.teams[0], i = this.battleScreen.teams[1];
            l.Util.isValid(t) && l.Util.isValid(t.index) ? i.swapPlayersHop(this.playerTurn.bind(this), t.index) : (this.turn++, 
            this.waitingToSelect = !0, this.attackSelectMenu = this.game.prodigy.open.battle(e.current, e.team, i.current, this.battleScreen.mods, null, this.openQuestion.bind(this), this.handleSwitch.bind(this)));
        }, t.prototype.processEnd = function(t) {
            var e = this.battleScreen.teams[0], i = this.battleScreen.teams[1], a = this.game.prodigy.gameContainer.Localizer;
            i.current.source.isKnockedOut() && i.movePlayerOut(null, i.current), 
            t ? (this.battleScreen.currentState = p.EPVPState.Deserted, this.game.prodigy.education.closeQuestion(), 
            this.game.prodigy.open.menuCloseAll(), this.game.broadcaster.broadcast(o.EBattleEvents.PvpComboMeterMoveOut, i, []), 
            i.runAwayTeam(), this.game.prodigy.effects.flashText(a.getText("COMBAT_WON"), this.showResults.bind(this, c.EPVPEndMode.Win))) : e.isDefeated() && i.isDefeated() ? (this.game.broadcaster.broadcast(o.EBattleEvents.PvpComboMeterMoveOut, e, []), 
            this.game.broadcaster.broadcast(o.EBattleEvents.PvpComboMeterMoveOut, i, []), 
            e.runAwayTeam(), i.runAwayTeam(), this.game.prodigy.effects.flashText(a.getText("COMBAT_DRAW"), this.showResults.bind(this, c.EPVPEndMode.Draw))) : e.isDefeated() ? (this.game.broadcaster.broadcast(o.EBattleEvents.PvpComboMeterMoveOut, e, []), 
            e.runAway(), this.game.prodigy.effects.flashText(a.getText("COMBAT_LOST"), this.showResults.bind(this, c.EPVPEndMode.Loss))) : i.isDefeated() ? (this.game.broadcaster.broadcast(o.EBattleEvents.PvpComboMeterMoveOut, i, []), 
            i.runAwayTeam(), this.game.prodigy.effects.flashText(a.getText("COMBAT_WON"), this.showResults.bind(this, c.EPVPEndMode.Win))) : e.current.source.isKnockedOut() ? (e.runAway(), 
            this.forceSwitch = !0, this.waitingToSelect = !0, this.swapSelectMenu = this.game.prodigy.open.battle(e.current, e.team, i.current, this.battleScreen.mods, !0, null, this.completeTurn.bind(this))) : this.completeTurn();
        }, t.prototype.startPointsTicker = function(t, e, i) {
            var a = this.game.prodigy.create.panel(l.Util.isValid(this.battleScreen) ? this.battleScreen.menus : void 0, 400, 300, 14, 4, "item-common");
            this.game.prodigy.create.font(a, 20, 0, this.game.prodigy.gameContainer.Localizer.getText("PVP_ARENA_POINTS"), {
                size: 36,
                fontID: 9
            });
            var n = this.game.prodigy.create.font(a, 20, 40, "", {
                size: 80,
                align: "left",
                width: 520
            }), o = this.game.prodigy.create.font(a, 20, 40, "", {
                size: 80,
                align: "right",
                width: 520
            });
            a.visible = !1;
            var r = this.game.prodigy.event.create();
            r.delay(500), r.set(a, "visible", !0);
            var s = i - e;
            r.function(n.setText.bind(n, String(e))), r.function(o.setText.bind(o, "(+" + s + ")")), 
            r.delay(1e3);
            for (var h = Math.max(1, Math.floor(s / 30)), c = 0; c < s; c += h) r.sound(19, "tick"), 
            r.function(n.setText.bind(n, "" + (e + c + 1))), r.function(o.setText.bind(o, "(+" + (s - c - 1) + ")")), 
            r.delay(100);
            r.function(n.setText.bind(n, String(i))), r.function(o.setText.bind(o, "")), 
            r.delay(2e3), r.set(a, "visible", !1), r.sound(16, "victory"), this.hasAchievedPrize(e, i) ? r.function(this.showPrizeAchievedPopup.bind(this, this.endCombat.bind(this, t))) : (r.delay(2e3), 
            r.function(this.endCombat.bind(this, t))), r.start();
        }, t.prototype.showPrizeAchievedPopup = function(t) {
            var e = this.game.prodigy.gameContainer.Localizer, i = e.getText("PVP_PRIZE_ACHIEVED_POPUP_MESSAGE"), a = e.getText("PVP_PRIZE_ACHIEVED_POPUP_BUTTON_TEXT");
            this.game.prodigy.open.messageBoxOkay(i, a, t);
        }, t.prototype.showResults = function(t) {
            t === c.EPVPEndMode.Win && l.Util.isValid(this.battleScreen) && this.battleScreen.mods.arena && (s.Device.isNativeApp() || this.game.prodigy.audio.playBGM(1, !0)), 
            !l.Util.isValid(this.battleScreen) || this.battleScreen.mods.arena ? this.game.prodigy.pvpNetworkHandler.updateUserLeaderboard(t, this.startPointsTicker.bind(this, t, this.game.prodigy.pvpNetworkHandler.userRank.points), this.endCombat.bind(this, t)) : this.endCombat(t);
        }, t.prototype.handleSwitch = function(t) {
            this.currentAction = {
                type: h.EPVPAction.Switch,
                index: t,
                turn: this.turn
            }, this.battleScreen.setState(p.EPVPState.RequestAction), this.waitingToSelect = !1;
        }, t.prototype.handleAttack = function(t, e, i) {
            this.game.prodigy.player.castSpell(e), this.battleScreen.content.visible = this.battleScreen.menus.visible = !0, 
            this.battleScreen.teamHearts.visible = this.battleScreen.opponentHearts.visible = !0, 
            this.currentAction = {
                type: h.EPVPAction.Spell,
                ID: t.ID,
                hit: e,
                time: i,
                turn: this.turn,
                seed: Math.floor(999999 * Math.random())
            }, this.battleScreen.setState(p.EPVPState.RequestAction);
        }, t.prototype.processEndDelay = function() {
            setTimeout(this.processEnd.bind(this, !1), 4e3);
        }, t.prototype.hasAchievedPrize = function(t, e) {
            if (!l.Util.isValid(this.game.prodigy.pvpNetworkHandler.userLeaderboard)) return !1;
            var i = this.game.prodigy.pvpNetworkHandler.userLeaderboard.seasonRewards;
            if (l.Util.isValid(i)) for (var a = null, n = 0; n < i.length; n++) if ("points" === (a = i[n].requirement).type && t < a.value && e >= a.value) return this.game.prodigy.network.sendEvent("pvp-season-reward", {
                tier: n,
                seasonID: this.game.prodigy.pvpNetworkHandler.seasonID,
                reward: i[n].type + ";" + i[n].id,
                grade: this.game.prodigy.player.grade,
                level: this.game.prodigy.player.getLevel()
            }), !0;
            return !1;
        }, t.prototype.endCombat = function(t) {
            l.Util.isValid(this.battleScreen) && this.battleScreen.endCombat(t);
        }, t.prototype.completeTurn = function(t) {
            if (l.Util.isValid(t)) return this.waitingToSelect = !1, void this.battleScreen.teams[0].swapPlayersHop(this.finishCompleteTurn.bind(this, t), t);
            this.finishCompleteTurn(t);
        }, t.prototype.finishCompleteTurn = function(t) {
            this.forceSwitch = !1, this.nextAction = {
                type: h.EPVPAction.Ready,
                index: t
            }, this.battleScreen.setState(p.EPVPState.RequestNextTurn);
        }, t.prototype.openQuestion = function(t) {
            this.battleScreen.content.visible = this.battleScreen.menus.visible = !1, 
            this.battleScreen.teamHearts.visible = this.battleScreen.opponentHearts.visible = !1, 
            this.waitingToSelect = !1, n.GameConstants.get("GameConstants.Debug.EDUCATION_ENABLED") ? this.game.prodigy.education.question(this.handleAttack.bind(this, t)) : this.handleAttack(t, n.GameConstants.get("GameConstants.Debug.AUTO_ANSWER_CORRECTLY"), 0);
        }, t.prototype.attack = function(t, e, i, n, o, s) {
            var h = this.battleScreen.teamComboMeter, c = this.battleScreen.opponentComboMeter;
            s.comboBonus = t === this.battleScreen.teams[0].current ? h.getDamageBoost() : c.getDamageBoost(), 
            t === this.battleScreen.teams[0].current ? (o ? h.breakCombo() : h.increaseCombo(), 
            s.comboBonus = h.getDamageBoost()) : (o ? c.breakCombo() : c.increaseCombo(), 
            s.comboBonus = c.getDamageBoost());
            var p = n.data.animation, u = a[p];
            t.attack(), this.game.prodigy.audio.playSFX(8, "cast"), this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.Localizer.getText("COMBAT_ATTACK_USED", t.source.getName(), n.data.name), void 0, r.EffectFactory.PVP, r.EffectFactory.SMALL, 1e3, !0), 
            l.Util.isValid(p) && l.Util.isValid(u) && "function" == typeof u ? new u(this.game, t, e, this.battleScreen.background, this.battleScreen.content, n, i, o, s) : l.Util.isValid(i) && i();
        }, t;
    }();
    e.PVPManager = u;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t.Loading = "loading", t.RequestInitialization = "request_init", t.RequestAction = "request_action", 
        t.RequestData = "request_data", t.Working = "working", t.RequestNextTurn = "request_next", 
        t.Deserted = "deserted";
    }(e.EPVPState || (e.EPVPState = {}));
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e;
    }(i(48).Boss);
    e.IceWyrmBoss = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e;
    }(i(48).Boss);
    e.ForestBoss = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i, a, 2, n, o) || this;
            return r.tweens = [], r.idleTween = [], r.attackTween = [], r;
        }
        return n(e, t), e.prototype.startLoad = function() {
            t.prototype.startLoad.call(this), this.loading = !0, this.game.prodigy.load.assets([ "default-boss-14" ], this.setup.bind(this));
        }, e.prototype.setup = function(e) {
            t.prototype.startLoad.call(this), this.sprites.removeAll(!0), this.nameText.visible = !1, 
            this.sprite = this.game.prodigy.create.element(this.sprites, 130, -300), 
            this.sprite.scale.x = -1;
            var i = "default-boss-14", a = 17, n = 95, r = this.sprite.add(this.game.prodigy.create.sprite(a, n, i, "arm-left-1")), s = 22, l = 43, h = this.sprite.add(this.game.prodigy.create.sprite(s, l, i, "shoulder")), c = 94, p = 216, u = this.sprite.add(this.game.prodigy.create.sprite(c, p, i, "leg")), d = 62, g = 226, y = this.sprite.add(this.game.prodigy.create.sprite(d, g, i, "foot-left")), f = 118, m = 190, _ = this.sprite.add(this.game.prodigy.create.sprite(f, m, i, "waist")), v = 52, E = 46, b = this.sprite.add(this.game.prodigy.create.sprite(v, E, i, "body")), O = 156, T = 215, A = this.sprite.add(this.game.prodigy.create.sprite(O, T, i, "leg")), I = 163, w = 224, C = this.sprite.add(this.game.prodigy.create.sprite(I, w, i, "foot-right")), S = 193, P = 94, D = this.sprite.add(this.game.prodigy.create.sprite(S, P, i, "arm-right-1")), L = 69, x = 15, M = this.sprite.add(this.game.prodigy.create.sprite(L, x, i, "head")), N = 67, U = 58, k = this.sprite.add(this.game.prodigy.create.sprite(N, U, i, "jaw")), R = 131, B = 43, G = this.sprite.add(this.game.prodigy.create.sprite(R, B, i, "shoulder"));
            this.idleTween.push(new o.TweenController(M)), this.idleTween[0].set("x", [ L, L - 4, L - 9, L - 11, L - 11, L - 6, L - 3, L, L + 3, L + 4, L + 4, L + 2 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(M)), this.idleTween[1].set("y", [ x, x, x + 3, x + 6, x + 8, x + 10, x + 11, x + 9, x + 7, x + 5, x + 3, x + 2 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(k)), this.idleTween[2].set("x", [ N, N - 3, N - 9, N - 9, N - 9, N - 5, N - 2, N, N + 3, N + 4, N + 4, N + 2 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(k)), this.idleTween[3].set("y", [ U, U + 2, U + 7, U + 14, U + 16, U + 17, U + 16, U + 12, U + 9, U + 5, U + 3, U + 2 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(G)), this.idleTween[4].set("x", [ R, R - 2, R - 3, R - 3, R - 3, R - 2, R - 1, R + 1, R + 2, R + 3, R + 3, R + 1 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(G)), this.idleTween[5].set("y", [ B, B + 2, B + 4, B + 5, B + 6, B + 6, B + 6, B + 4, B + 4, B + 3, B + 3, B + 1 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(r)), this.idleTween[6].set("frameName", [ "arm-left-1", "arm-left-1", "arm-left-2", "arm-left-3", "arm-left-3", "arm-left-3", "arm-left-3", "arm-left-2", "arm-left-1", "arm-left-1", "arm-left-1", "arm-left-1" ], 100, 9999);
            var V = 10, H = 100, F = 7, j = 103, z = 196, W = 101, K = 196, Y = 106;
            this.idleTween.push(new o.TweenController(D)), this.idleTween[7].set("x", [ S, S + 1, z, K, K - 4, K - 6, K - 7, z - 4, S - 1, S - 2, S - 2, S - 1 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(D)), this.idleTween[8].set("y", [ P, P + 2, W, Y, Y + 6, Y + 5, Y + 4, W + 4, P + 7, P + 4, P + 2, P + 1 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(h)), this.idleTween[9].set("x", [ s, s + 2, s + 3, s + 3, s + 3, s + 2, s + 1, s - 1, s - 2, s - 3, s - 3, s - 1 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(h)), this.idleTween[10].set("y", [ l, l + 2, l + 4, l + 5, l + 6, l + 6, l + 6, l + 4, l + 4, l + 2, l, l - 1 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(D)), this.idleTween[11].set("frameName", [ "arm-right-1", "arm-right-1", "arm-right-2", "arm-right-3", "arm-right-3", "arm-right-3", "arm-right-3", "arm-right-2", "arm-right-1", "arm-right-1", "arm-right-1", "arm-right-1" ], 100, 9999), 
            this.idleTween.push(new o.TweenController(r)), this.idleTween[12].set("x", [ a, a + 3, V + 6, F, F + 1, F + 2, F + 4, V + 4, a + 1, a + 2, a + 3, a + 2 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(r)), this.idleTween[13].set("y", [ n, n + 2, H + 7, j, j + 1, j, j - 1, H, n + 2, n + 1, n, n - 2 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(u)), this.idleTween[14].set("x", [ c, c - 1, c - 1, c - 1, c - 1, c - 1, c, c, c, c, c, c ], 100, 9999), 
            this.idleTween.push(new o.TweenController(u)), this.idleTween[15].set("y", [ p, p, p + 1, p + 1, p + 1, p + 1, p + 1, p, p, p, p, p ], 100, 9999), 
            this.idleTween.push(new o.TweenController(y)), this.idleTween[16].set("x", [ d ], 100, 9999), 
            this.idleTween.push(new o.TweenController(y)), this.idleTween[17].set("y", [ g ], 100, 9999), 
            this.idleTween.push(new o.TweenController(A)), this.idleTween[18].set("x", [ O, O + 1, O + 1, O + 1, O + 1, O + 1, O, O, O, O, O, O ], 100, 9999), 
            this.idleTween.push(new o.TweenController(A)), this.idleTween[19].set("y", [ T, T, T + 1, T + 1, T + 1, T + 1, T + 1, T, T, T, T, T ], 100, 9999), 
            this.idleTween.push(new o.TweenController(C)), this.idleTween[20].set("x", [ I ], 100, 9999), 
            this.idleTween.push(new o.TweenController(C)), this.idleTween[21].set("y", [ w ], 100, 9999), 
            this.idleTween.push(new o.TweenController(b)), this.idleTween[22].set("x", [ v, v - 1, v - 1, v - 1, v - 1, v, v + 1, v + 2, v + 3, v + 3, v + 3, v + 3 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(b)), this.idleTween[23].set("y", [ E, E + 1, E + 2, E + 3, E + 4, E + 5, E + 4, E + 3, E + 2, E + 1, E, E - 1 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(_)), this.idleTween[24].set("x", [ f, f - 1, f - 1, f - 1, f - 1, f, f + 1, f + 2, f + 3, f + 3, f + 3, f + 2 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(_)), this.idleTween[25].set("y", [ m, m + 2, m + 4, m + 6, m + 8, m + 9, m + 8, m + 6, m + 4, m + 2, m, m - 1 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(r)), this.idleTween[26].set("angle", [ 0 ], 100, 9999), 
            this.idleTween.push(new o.TweenController(r)), this.idleTween[27].set("visible", [ !0 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(M)), this.attackTween[0].set("x", [ L, L - 6, L - 15, L - 27, L - 32, L - 34, L - 33, L - 30, L - 19, L - 7 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(M)), this.attackTween[1].set("y", [ x, x + 6, x + 13, x + 20, x + 22, x + 22, x + 20, x + 16, x + 12, x + 5 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(k)), this.attackTween[2].set("x", [ N, N - 6, N - 14, N - 26, N - 31, N - 33, N - 32, N - 29, N - 18, N - 7 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(k)), this.attackTween[3].set("y", [ U, U + 8, U + 20, U + 29, U + 31, U + 31, U + 29, U + 23, U + 13, U + 7 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(G)), this.attackTween[4].set("x", [ s, s - 4, s + 5, s + 12, s + 16, s + 19, s + 21, s + 25, s + 22, s + 15 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(h)), this.attackTween[5].set("y", [ l, l, l - 5, l - 10, l - 11, l - 10, l - 9, l - 5, l, l + 2 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(r)), this.attackTween[6].set("frameName", [ "arm-left-1", "arm-left-1", "arm-left-1", "arm-left-4", "arm-left-2", "arm-left-5", "arm-left-3", "arm-left-4", "arm-left-4", "arm-left-4" ], 100, 9999), 
            this.attackTween.push(new o.TweenController(r)), this.attackTween[7].set("x", [ a, a - 5, a - 8, a - 42 - 15, a - 47 + 90, a + 15 + 50, a + 82 + 20, a + 81 + 80, a, a + -38 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(r)), this.attackTween[8].set("y", [ n, n - 4, n - 13, n + 73 - 100, n + 34 - 65 - 20, n + 45 - 185, n - 48 + 40, n + 17, n, n + 112 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(G)), this.attackTween[9].set("x", [ R, R - 8, R - 36, R - 44, R - 48, R - 51, R - 48, R - 42, R - 30, R - 6 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(G)), this.attackTween[10].set("y", [ B, B + 25, B + 48, B + 52, B + 55, B + 54, B + 54, B + 47, B + 38, B + 13 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(D)), this.attackTween[11].set("frameName", [ "arm-right-1", "arm-right-4", "arm-right-5", "arm-right-5", "arm-right-5", "arm-right-5", "arm-right-5", "arm-right-5", "arm-right-4", "arm-right-1" ], 100, 9999), 
            this.attackTween.push(new o.TweenController(D)), this.attackTween[12].set("x", [ 193, 132, 58, 39, 34, 35, 45, 58, 127, 187 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(D)), this.attackTween[13].set("y", [ 94, 125, 162, 162, 162, 162, 162, 162, 135, 108 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(u)), this.attackTween[14].set("x", [ c, c - 2, c - 5, c - 18, c - 21, c - 22, c - 21, c - 19, c - 12, c - 5 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(u)), this.attackTween[15].set("y", [ p, p - 2, p - 3, p, p, p + 1, p + 1, p + 1, p + 1, p + 1 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(y)), this.attackTween[16].set("x", [ d, d - 1, d - 7, d - 23, d - 24, d - 23, d - 22, d - 21, d - 15, d - 11 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(y)), this.attackTween[17].set("y", [ g, g - 9, g - 16, g, g, g, g, g, g, g ], 100, 9999), 
            this.attackTween.push(new o.TweenController(A)), this.attackTween[18].set("x", [ O, O, O, O - 4, O - 7, O - 8, O - 8, O - 6, O - 3, O - 1 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(A)), this.attackTween[19].set("y", [ T, T, T, T, T, T, T, T, T, T ], 100, 9999), 
            this.attackTween.push(new o.TweenController(C)), this.attackTween[20].set("x", [ I, I, I - 2, I - 5, I - 6, I - 6, I - 5, I - 3, I - 2, I ], 100, 9999), 
            this.attackTween.push(new o.TweenController(C)), this.attackTween[21].set("y", [ w, w, w, w, w, w, w, w, w, w ], 100, 9999), 
            this.attackTween.push(new o.TweenController(b)), this.attackTween[22].set("x", [ v, v - 3, v - 8, v - 11, v - 12, v - 13, v - 12, v - 11, v - 8, v - 3 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(b)), this.attackTween[23].set("y", [ E, E + 4, E + 6, E + 7, E + 7, E + 7, E + 7, E + 7, E + 6, E + 3 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(_)), this.attackTween[24].set("x", [ f, f - 3, f - 8, f - 11, f - 12, f - 13, f - 12, f - 11, f - 8, f - 3 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(_)), this.attackTween[25].set("y", [ m, m + 4, m + 6, m + 7, m + 7, m + 7, m + 7, m + 7, m + 6, m + 3 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(r)), this.attackTween[26].set("angle", [ 0, 0, 0, 0, 90, 90, 180, 180, 270, 270 ], 100, 9999), 
            this.attackTween.push(new o.TweenController(r)), this.attackTween[27].set("visible", [ !0, !0, !0, !0, !0, !0, !0, !0, !1, !1 ], 100, 9999), 
            this.attackTween[0].end(this.playIdle.bind(this)), this.playIdle(), 
            this.complete = !0, this.loading = !1;
        }, e.prototype.playIdle = function() {
            if (1 !== this.mode) {
                this.mode = 1, this.tweens = this.idleTween;
                for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start();
            }
        }, e.prototype.playAttack = function() {
            if (3 !== this.mode) {
                this.mode = 3, this.tweens = this.attackTween;
                for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start();
            }
        }, e.prototype.stand = function() {
            this.playIdle();
        }, e.prototype.attack = function() {
            this.playAttack();
        }, e.prototype.update = function() {
            t.prototype.update.call(this);
            for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update();
        }, e;
    }(i(14).CreatureContainer);
    e.ForestContainer = r;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(81), n = i(49), o = i(233), r = i(775), s = i(774), l = i(135), h = i(22), c = i(97), p = i(3), u = i(48), d = i(134), g = i(133), y = i(232), f = i(231), m = i(132), _ = i(130), v = i(129), E = i(15), b = i(13), O = i(0), T = function() {
        function t(e, i, n, o, h, c, p, T, A, I) {
            this.team = [], this.enableComboAnimations = !0, this.verticalTeamOffset = 110, 
            this.current = null, this.bossTeam = !1, this.offScreenX = 0, this.onScreenX = 0, 
            this.onScreenY = 0, this.y = 0, this.game = e, this.presortTeam(n);
            for (var w = c, C = c, S = function(o) {
                if (o >= t.MAX_TEAM_COUNT) return "break";
                if (C = 1 === o ? w - P.verticalTeamOffset : 2 === o ? w + P.verticalTeamOffset : w, 
                n[o] instanceof b.Player) {
                    var c = 1, p = n[o];
                    p.isPlayerTransformed() && "pet" === p.data.playerTransformation.transformType && (c = 2);
                    var T = e.prodigy.create.player(i, n[o], c, h, C);
                    P.team.push(T), T.forceWeaponVisual = !0, P.team[o].loadedCallback = function() {
                        var t = 1;
                        O.Util.isValid(T.transformedPet) && O.Util.isValid(T.transformedPet.battleScale) && (t = T.transformedPet.battleScale), 
                        T.scale.x = t, T.scale.y = t;
                    };
                } else if (n[o] instanceof E.Monster) {
                    var A = e.prodigy.create.monster(i, n[o], 2, h, C, !1);
                    A.loadedCallback = function(t) {
                        a([ 130, 131, 132, 133 ], t.source.data.ID) && (t.battleScale = .5), 
                        t.scale.x = t.battleScale, t.scale.y = t.battleScale, t.width = Math.round(t.width), 
                        t.height = Math.round(t.height);
                    }, P.team.push(A);
                } else if (n[o] instanceof g.CloudBoss) P.team.push(e.prodigy.create.cloudBoss(i, n[o], h, C, n[o].source.element)), 
                P.bossTeam = !0; else if (n[o] instanceof d.BonfireBoss) {
                    var S = e.prodigy.create.bonfireBoss(i, n[o], h, C);
                    P.bossTeam = !0, S.scale.x = .75, S.scale.y = .75, P.team.push(S);
                } else if (n[o] instanceof m.OldOneBoss) {
                    var D = new r.OldOneContainer(e, i, n[o], h - 400, C);
                    D.flip(), P.team.push(D), P.bossTeam = !0;
                } else if (n[o] instanceof _.PippetBoss) {
                    var L = new s.PippetContainer(e, i, n[o], h - 400, C);
                    L.scale.x = .5, L.scale.y = .5, P.team.push(L), P.bossTeam = !0;
                } else if (n[o] instanceof y.ForestBoss) P.team.push(e.prodigy.create.forestBoss(i, n[o], h, C)), 
                P.bossTeam = !0; else if (n[o] instanceof v.TitanBoss) {
                    var x = new l.TitanContainer(e, i, n[o], h, C);
                    x.flip(), P.team.push(x), P.bossTeam = !0;
                } else if (n[o] instanceof f.IceWyrmBoss) P.team.push(e.prodigy.create.shiverchillBoss(i, n[o], h - 400, C)), 
                P.bossTeam = !0; else if (n[o] instanceof u.Boss) {
                    S = e.prodigy.create.boss(i, n[o], h, C);
                    P.team.push(S), P.bossTeam = !0, O.Util.isValid(n[o].source.spriteOffsetY) && (S.sprites.y += n[o].source.spriteOffsetY), 
                    O.Util.isValid(n[o].source.spriteOffsetX) && (S.sprites.x += n[o].source.spriteOffsetX), 
                    O.Util.isValid(n[o].source.battleScale) && (S.sprites.scale.x = n[o].source.battleScale, 
                    S.sprites.scale.y = n[o].source.battleScale);
                }
                P.team[o].startLoad(), P.team[o].flip(), P.team[o].pairs = [], P.team[o].visible = !1, 
                P.team[o].source.isOpponent = I, P.team[o].source.starsEarned = 0, 
                O.Util.isValid(P.current) || n[o].isKnockedOut() || (P.current = P.team[o], 
                P.current.visible = !0);
            }, P = this, D = 0; D < n.length; D++) {
                if ("break" === S(D)) break;
            }
            if (this.playerControlled = o, this.offScreenX = h, this.onScreenX = p, 
            this.onScreenY = T, this.hearts = A, this.team.length > 1) {
                var L = i.getChildIndex(this.team[1]);
                i.setChildIndex(this.team[0], L);
            }
        }
        return t.prototype.getTeamSize = function() {
            return Math.min(t.MAX_TEAM_COUNT, this.team.length);
        }, t.prototype.isIdInBattle = function(t) {
            for (var e = 0; e < this.getTeamSize(); e++) if (this.team[e] instanceof h.MonsterContainer && this.team[e].source.data.ID === t && !this.team[e].source.isKnockedOut()) return !0;
            return !1;
        }, t.prototype.getContainerOfTeamId = function(t) {
            for (var e = 0; e < this.getTeamSize(); e++) if (this.team[e] instanceof h.MonsterContainer && this.team[e].source.data.ID === t && !this.team[e].source.isKnockedOut()) return this.team[e];
            return null;
        }, t.prototype.moveTeamIn = function() {
            for (var e = 0; e < this.getTeamSize(); e++) if (!this.team[e].complete) return void this.game.time.events.add(10, this.moveTeamIn.bind(this));
            var i = this.onRightSide() ? 130 : -130;
            for (e = 0; e < this.getTeamSize() && !(e >= t.MAX_TEAM_COUNT); e++) if (!this.team[e].source.isKnockedOut()) {
                var a = this.team[e];
                a instanceof n.BossContainer ? (a.x = this.onScreenX, a.y = this.onScreenY, 
                a.setPath([ {
                    x: this.onScreenX,
                    y: this.current.y
                } ])) : (a.visible = !0, a.speed = 10, this.team[e].setPath([ {
                    x: this.onScreenX + (1 === e || 2 === e ? i : 0),
                    y: this.team[e].y
                } ]));
            }
            this.enableComboAnimations && (this.game.broadcaster.broadcast(p.EBattleEvents.PvpComboMeterMoveIn, this, []), 
            this.enableComboAnimations = !1), this.current = this.team[0], this.hearts.setSource(this.current.source);
        }, t.prototype.onRightSide = function() {
            return this.offScreenX >= 1280;
        }, t.prototype.movePlayerIn = function(t, e) {
            O.Util.isValid(e) && (e.complete ? (this.current = e, this.current.visible = !0, 
            this.current.speed = 10, this.hearts.setSource(this.current.source), 
            this.enableComboAnimations && (this.game.broadcaster.broadcast(p.EBattleEvents.PvpComboMeterMoveIn, this, []), 
            this.enableComboAnimations = !1), this.current instanceof n.BossContainer ? (this.current.x = this.onScreenX, 
            this.current.y = this.onScreenY, this.current.setPath([ {
                x: this.onScreenX,
                y: this.current.y
            } ], t)) : (this.current.speed = 10, this.current.setPath([ {
                x: this.onScreenX,
                y: this.current.y
            } ], t))) : this.game.time.events.add(10, this.movePlayerIn.bind(this, t, e)));
        }, t.prototype.movePlayerOut = function(t, e) {
            e.speed = 30, e.setPath([ {
                x: this.offScreenX + (this.offScreenX < 0 ? -40 : 40),
                y: e.y
            } ], t, 4), this.hearts.moveOut();
        }, t.prototype.swapPlayerIn = function(t, e) {
            var i = this.team[t];
            this.jumpAnimation(i, this.onScreenX, this.onScreenY, e), this.current = i;
        }, t.prototype.swapPlayerOut = function(t, e) {
            this.jumpAnimation(this.current, t, e);
        }, t.prototype.jumpAnimation = function(t, e, i, a) {
            var n = Math.min(t.y, i) - 75;
            this.game.add.tween(t).to({
                x: e
            }, 500, Phaser.Easing.Linear.None, !0);
            var o = this.game.add.tween(t).to({
                y: i
            }, 250, Phaser.Easing.Quadratic.In, !1);
            o.onComplete.add(function() {
                t.parent.sort("y", Phaser.Group.SORT_ASCENDING);
            }), O.Util.isValid(a) && o.onComplete.add(a), this.game.add.tween(t).to({
                y: n
            }, 250, Phaser.Easing.Quadratic.Out, !0).chain(o);
        }, t.prototype.fakeSwap = function(t, e, i) {
            this.jumpAnimation(t, e.x, e.y), this.jumpAnimation(e, t.x, t.y, i);
        }, t.prototype.swapPlayersHop = function(t, e) {
            var i = this.team[e];
            !O.Util.isValid(this.current) || this.current.source.isKnockedOut() || O.Util.isValid(this.current.captured) ? (this.swapPlayerIn(e, t), 
            this.hearts.setSource(this.current.source)) : (this.swapPlayerOut(i.x, i.y), 
            this.swapPlayerIn(e, t), this.hearts.setSource(this.current.source));
        }, t.prototype.failRun = function(e) {
            var i = this, a = function(e, a) {
                for (var n = 0; n < i.getTeamSize() && !(n >= t.MAX_TEAM_COUNT); n++) {
                    var o = i.team[n];
                    o.speed = 10, 0 === n ? o.setPath([ {
                        x: o.x + 200,
                        y: null
                    } ], a) : o.setPath([ {
                        x: o.x + 200,
                        y: null
                    } ]);
                }
            };
            this.game.prodigy.audio.playSFX(8, "run"), this.current.speed = 40;
            for (var n = 0; n < this.getTeamSize() && !(n >= t.MAX_TEAM_COUNT); n++) 0 === n ? this.team[n].setPath([ {
                x: this.team[n].x - 200,
                y: null
            } ], a.bind(this, this.team[n], e), 4) : this.team[n].setPath([ {
                x: this.team[n].x - 200,
                y: null
            } ], a.bind(this, this.team[n]), 4);
        }, t.prototype.runAway = function(t) {
            O.Util.isValid(this.current.captured) || (this.bossTeam ? this.game.add.tween(this.current).to({
                alpha: 0
            }, 500, Phaser.Easing.Linear.None).start() : (this.game.prodigy.audio.playSFX(8, "run"), 
            this.current.speed = 40, this.current.flip(), this.current.moonwalk(), 
            this.game.time.events.add(500, this.movePlayerOut.bind(this, t, this.current), this)));
        }, t.prototype.runAwayTeam = function(e) {
            if (!O.Util.isValid(this.current.captured)) if (this.bossTeam) this.game.add.tween(this.current).to({
                alpha: 0
            }, 500, Phaser.Easing.Linear.None).start(); else {
                this.game.prodigy.audio.playSFX(8, "run");
                for (var i = 0; i < this.getTeamSize() && !(i >= t.MAX_TEAM_COUNT); i++) this.team[i].speed = 40, 
                this.team[i].flip(), this.team[i].moonwalk(), this.game.time.events.add(500, this.movePlayerOut.bind(this, null, this.team[i]), this);
                O.Util.isValid(e) && this.game.time.events.add(500, e, this);
            }
        }, t.prototype.pairOpponent = function(t) {
            O.Util.inArray(this.current.pairs, t) || this.current.pairs.push(t);
        }, t.prototype.getNextId = function() {
            for (var t, e = 0; e < this.getTeamSize(); e++) if (t = this.team[e], 
            O.Util.isValid(t) && !O.Util.isValid(t.captured) && !t.source.isKnockedOut()) return e;
            return 0;
        }, t.prototype.chooseNextCandidate = function(t) {
            for (var e = null, i = null, a = 0; a < this.getTeamSize(); a++) {
                var n = this.team[a];
                if (O.Util.isValid(n) && !O.Util.isValid(n.captured) && !n.source.isKnockedOut()) {
                    var o = this.game.prodigy.battle.battleScore(n, t, !0, 1);
                    (!O.Util.isValid(i) || o > i) && (e = a, i = o);
                }
            }
            return e;
        }, t.prototype.getDrops = function() {
            for (var t = [], e = 0; e < this.getTeamSize(); e++) this.team[e].source.isKnockedOut() && !O.Util.isValid(this.team[e].captured) && (t = t.concat(this.team[e].source.getDrops()));
            return t;
        }, t.prototype.isDefeated = function() {
            for (var t = 0; t < this.getTeamSize(); t++) if (!this.team[t].source.isKnockedOut() && !O.Util.isValid(this.team[t].captured)) return !1;
            return !0;
        }, t.prototype.getDefeated = function() {
            for (var t = [], e = 0; e < this.getTeamSize(); e++) this.team[e].source.isKnockedOut() && !O.Util.isValid(this.team[e].captured) && t.push(this.team[e].source);
            return t;
        }, t.prototype.getLiving = function() {
            for (var t = [], e = 0; e < this.getTeamSize(); e++) this.team[e].source.isKnockedOut() || O.Util.isValid(this.team[e].captured) || t.push(this.team[e].source);
            return t;
        }, t.prototype.isBoss = function() {
            for (var t = 0; t < this.getTeamSize(); t++) if (this.team[t] instanceof n.BossContainer || this.team[t] instanceof o.ForestContainer) return !0;
            return !1;
        }, t.prototype.showHearts = function() {
            for (var t = 0; t < this.getTeamSize(); t++) if (this.team[t] instanceof n.BossContainer && this.team[t].source.source.showHP) return !0;
            return !1;
        }, t.prototype.forcePlayerToActive = function(t) {
            if (this.current instanceof c.PlayerContainer) O.Util.isValid(t) && t(); else for (var e = 0; e < this.team.length; e++) if (this.team[e] instanceof c.PlayerContainer) {
                this.team[e].sprites.scale.x *= this.team[e].sprites.scale.x, this.swapPlayersHop(t, e);
                break;
            }
        }, t.prototype.presortTeam = function(t) {
            if (O.Util.isValid(t[0]) && t[0].isKnockedOut()) {
                var e = O.Util.isValid(t[1]) && !t[1].isKnockedOut() ? 1 : 2, i = t[0];
                t[0] = t[e], t[e] = i;
            }
        }, t.MAX_TEAM_COUNT = 3, t;
    }();
    e.Team = T;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(77), s = function(t) {
        function e(e, i, a, n, o, r, s) {
            void 0 === s && (s = 0);
            var l = t.call(this, e, i, a, o, r) || this;
            return l.currentPageNum = -1, l.pageSets = [], l.pages = [], l.buttonCallbacks = {}, 
            l.firstPage = 0, l.firstPage = s, l.pageSets = n, l;
        }
        return n(e, t), e.prototype.preprocess = function() {
            this.queuePostCreateCallback(this.setCallbacks.bind(this), this.setup.bind(this));
        }, e.prototype.setup = function() {
            this.pages = [];
            for (var t = 0; t < this.pageSets.length; t++) this.pages = this.pages.concat(this.buildPages(this.pageSets[t]));
            this.setPage(this.firstPage);
        }, e.prototype.buildPages = function(t) {
            for (var e = [], i = 0; i < this.uiElementTemplates.length; i++) {
                var a = this.uiElementTemplates[i].name;
                a.indexOf(t) >= 0 && e.push(a);
            }
            return e.length < 1 && o.Util.log("Could not find any templates with prefix " + t, o.Util.DEV), 
            e;
        }, e.prototype.setCallbacks = function() {
            o.Util.isValid(this.leftArrowButton) && (this.leftArrowButton.onClickCallback = this.prevPage.bind(this)), 
            o.Util.isValid(this.rightArrowButton) && (this.rightArrowButton.onClickCallback = this.nextPage.bind(this));
        }, e.prototype.nextPage = function() {
            this.setPage(this.currentPageNum + 1);
        }, e.prototype.prevPage = function() {
            this.setPage(this.currentPageNum - 1);
        }, e.prototype.setPage = function(t) {
            var e = Phaser.Math.clamp(t, 0, this.pages.length - 1);
            e !== this.currentPageNum && (o.Util.isValid(this.page) && (this.page[this.pageName].destroy(), 
            this.page = null), this.currentPageNum = e, o.Util.isValid(this.leftArrowButton) && (this.leftArrowButton.visible = this.currentPageNum > 0), 
            o.Util.isValid(this.rightArrowButton) && (this.rightArrowButton.visible = this.currentPageNum < this.pages.length - 1), 
            this.pageName = this.pages[this.currentPageNum], this.page = this.instantiateTemplate(this.pageName, this.background), 
            this.onPageLoaded());
        }, e.prototype.setPageCallbacks = function() {
            for (var t in this.page) this.page[t] instanceof r.Button ? this.setButtonCallback(this.page[t]) : null === this.page[t].onUpCallback && this.setPhaserButtonCallback(this.page[t]);
        }, e.prototype.onPageLoaded = function() {
            this.setPageCallbacks();
        }, e.prototype.setButtonCallback = function(t) {
            o.Util.isValid(this.buttonCallbacks[t.name]) && (t.onClickCallback = this.buttonCallbacks[t.name]);
        }, e.prototype.setPhaserButtonCallback = function(t) {
            o.Util.isValid(this.buttonCallbacks[t.name]) && (t.onUpCallback = this.buttonCallbacks[t.name]);
        }, e.prototype.debugDrawUIElementBounds = function(e) {
            for (var i in t.prototype.debugDrawUIElementBounds.call(this, e), this.page) o.Util.isValid(this.page[i]) && this.page[i].debugDrawBounds(e);
        }, e;
    }(i(26).Menu);
    e.PaginatedMenu = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(2), s = i(30), l = i(0), h = i(18), c = function(t) {
        function e(e, i, a, n, r, s) {
            void 0 === n && (n = {}), void 0 === r && (r = {}), void 0 === s && (s = []);
            var h = t.call(this, e, i, l.Util.isValid(a) ? a : 10, n, [ "atlas-128" ].concat(s)) || this;
            return h.analyticEvents = null, h.closeButton = null, h.signUpButton = null, 
            h.memberAd = null, h.analyticEvents = {
                conversionFunnelName: o(r, "conversionFunnelName", ""),
                conversionFunnelMetadata: o(r, "conversionFunnelMetadata", ""),
                conversionStage: o(r, "conversionStage", null)
            }, h;
        }
        return n(e, t), e.prototype.create = function() {
            var e = this;
            t.prototype.create.call(this), this.closeButton.onClickCallback = function() {
                e.close();
            }, this.signUpButton.onClickCallback = function() {
                e.onMembershipButtonClick(function(t) {
                    e.finishUpgrade(t);
                });
            };
        }, e.prototype.preprocess = function(t) {
            this.updateConfigModifierProperty("signUpButton", "visible", t), t || (this.updateConfigModifierProperty("bannerOverlay", "frameName", "banner-overlay1"), 
            this.updateConfigModifierProperty("bodyTextOverlay", "frameName", "body-text-overlay1"));
        }, e.prototype.setMemberAd = function(t) {
            this.memberAd = t;
        }, e.prototype.close = function() {
            l.Util.isValid(this.memberAd) && (this.memberAd.membershipParentOpen = !1), 
            t.prototype.close.call(this);
        }, e.prototype.onMembershipButtonClick = function(t) {
            l.Util.isValid(this.analyticEvents) && (this.game.prodigy.network.sendConversionFunnelEvent(this.analyticEvents.conversionFunnelName, h.EFunnelEventIDs.StageClickParentConfirmation, this.analyticEvents.conversionFunnelMetadata), 
            this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: this.analyticEvents.conversionFunnelName,
                name: h.EFunnelEventIDs.StageClickParentConfirmation
            }, !0));
            var e = this.game.prodigy.gameContainer.Localizer;
            if (s.Device.isNativeApp()) this.game.prodigy.open.message(e.getText("MEMBER_AD_VISIT_SITE_BODY")); else try {
                this.game.prodigy.network.stopInactiveTimer();
                var i = l.Util.isValid(this.game.prodigy.player.username) ? this.game.prodigy.player.username : this.game.prodigy.player.getName(), a = this.game.prodigy.player.locationSelectionType === r.GameConstants.get("GameConstants.LocationSelection.HOME");
                if (l.Util.isValid(this.analyticEvents)) {
                    var n = 0;
                    l.Util.isValid(this.memberAd) && l.Util.isValid(this.memberAd.adID) && (n = this.memberAd.adID), 
                    r.GameConstants.get("GameConstants.Build.DEBUG") && r.GameConstants.get("GameConstants.Debug.SKIP_MEMBERSHIP_WEBSITE") ? t(r.GameConstants.get("GameConstants.Debug.GIVES_MEMBERSHIP_AFTER_SKIP_WEBSITE")) : prodigyWeb.membershipFlow.open(i, this.game.prodigy.player.userID, t, n, this.analyticEvents.conversionFunnelName, a, this.analyticEvents.conversionFunnelMetadata, this.game.prodigy.network.getKey());
                }
            } catch (t) {
                l.Util.log(t, l.Util.ERROR), this.game.prodigy.open.message(e.getText("MEMBER_AD_ERROR_BODY"));
            }
        }, e.prototype.finishUpgrade = function(t) {
            this.game.prodigy.network.startInactiveTimer();
            var e = this.game.prodigy.gameContainer.Localizer;
            if (t) {
                var i = null;
                this.game.prodigy.player.setMembership(), i = 0 === this.game.prodigy.player.backpack.hasItem("mount", 1) ? this.game.prodigy.player.rewardMembershipPrizes.bind(this, this.game.prodigy.open.menuCloseAll.bind(this, this.game.prodigy.open)) : this.close.bind(this), 
                this.game.prodigy.open.membershipSuccess("paid", i), this.game.prodigy.network.sendEvent("new-member", {}), 
                l.Util.isValid(this.analyticEvents.conversionStage) && l.Util.isValid(this.analyticEvents.conversionFunnelName) && this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                    type: this.analyticEvents.conversionFunnelName,
                    name: this.analyticEvents.conversionStage
                }, !0);
            } else this.game.prodigy.open.message(e.getText("MEMBER_AD_PURCHASE_FAILED_BODY"));
        }, e;
    }(i(26).Menu);
    e.MembershipParent = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            return t.call(this, e, i) || this;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.sprite = this.gameObject.add(this.gameObject.game.add.sprite(0, 0, "", "")), 
            this.updateSource();
        }, e.prototype.postLoad = function(t, e) {
            e && this.sprite.alive && (this.updateSpriteSource(), this.onLoaded.dispatch());
        }, e.prototype.setAnchor = function(t, e) {
            this.sprite.anchor.set(t, e);
        }, e.prototype.setScale = function(t, e) {
            this.sprite.scale.set(t, e);
        }, e.prototype.getScale = function() {
            return this.sprite.scale;
        }, e.prototype.getWorld = function() {
            return this.sprite.world;
        }, e.prototype.getWidth = function() {
            return this.sprite.width;
        }, e.prototype.getHeight = function() {
            return this.sprite.height;
        }, e.prototype.setAlpha = function(t) {
            this.sprite.alpha = t;
        }, e.prototype.draggingStopped = function() {
            this.resetAfterDrag && (this.gameObject.x += this.sprite.x, this.gameObject.y += this.sprite.y, 
            this.sprite.x = 0, this.sprite.y = 0);
        }, e.prototype.getEvents = function() {
            return this.sprite.events;
        }, e.prototype.setInputEnabled = function(t) {
            void 0 === t && (t = !0), o.Util.isValid(this.sprite) && (this.sprite.inputEnabled = !0, 
            t ? this.sprite.events.onDragStop.add(this.draggingStopped, this, -99) : this.sprite.events.onDragStop.remove(this.draggingStopped, this));
        }, e.prototype.enableDragging = function(t, e, i, a) {
            this.sprite.inputEnabled && (this.sprite.input.enableDrag(t, e), void 0 !== i && void 0 !== a && this.sprite.input.enableSnap(i, a));
        }, e.prototype.disableDragging = function() {
            this.sprite.inputEnabled && this.sprite.input.disableDrag();
        }, e.prototype.getBounds = function() {
            var t = this.sprite.getBounds();
            return new Phaser.Rectangle(t.x, t.y, t.width, t.height);
        }, e.prototype.resetToOrigin = function() {
            this.sprite.x = 0, this.sprite.y = 0;
        }, e.prototype.setAsset = function(t, e) {
            "singleImage" === e.type && (this.source = t, this.metadata = e, this.updateSource());
        }, e.prototype.updateSource = function() {
            this.gameObject.game.cache.checkImageKey(this.source) ? (this.updateSpriteSource(), 
            this.onLoaded.dispatch()) : this.gameObject.game.prodigy.load.assets([ this.source ], this.postLoad.bind(this));
        }, e.prototype.updateSpriteSource = function() {
            this.sprite.loadTexture(this.source);
        }, e.prototype.getInputHandler = function() {
            return o.Util.isValid(this.sprite) ? this.sprite.input : null;
        }, e;
    }(i(50).Renderer);
    e.SpriteRenderer = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(2), s = i(0), l = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            a.spine = null, a.spineInputSource = null, a.inputSprite = null, a.inputGroup = null;
            var n = a.metadata;
            return a.anchor = new Phaser.Point(0, 0), s.Util.isValid(n.anchor) ? a.spineAnchor = new Phaser.Point(s.Util.isValid(n.anchor.x) ? n.anchor.x : .5, s.Util.isValid(n.anchor.y) ? n.anchor.y : 0) : a.spineAnchor = new Phaser.Point(.5, 0), 
            a.spineInputSource = null, a.inputSprite = null, a.dragOffset = new Phaser.Point(0, 0), 
            a;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.updateSource();
        }, e.prototype.postLoad = function(t, e) {
            e && (this.updateSpineSource(), this.onLoaded.dispatch());
        }, e.prototype.updateSource = function() {
            s.Util.isValid(this.source) && (this.gameObject.game.cache.checkJSONKey(this.source) && this.gameObject.game.cache.checkImageKey(this.source + ".png") && this.gameObject.game.cache.checkTextKey(this.source + "Atlas") ? (this.updateSpineSource(), 
            this.onLoaded.dispatch()) : this.gameObject.game.prodigy.load.assets([ this.source ], this.postLoad.bind(this)));
        }, e.prototype.updateSpineSource = function() {
            if (!s.Util.isValid(this.spine) && s.Util.isValid(this.gameObject.game)) {
                this.spine = this.gameObject.game.add.spine(0, 0, this.source, void 0, this.gameObject), 
                this.spine.setToSetupPose();
                var t = this.spine.skeleton.findSlot("input_hitbox");
                s.Util.isValid(t) && (this.spineInputSource = t.currentSprite, this.spineInputSource.alpha = 0, 
                this.dragOffset.setTo(t.attachment.x, t.attachment.y), this.inputGroup = this.gameObject.game.add.group(this.gameObject), 
                this.inputGroup.position.setTo(t.attachment.x, t.attachment.y), 
                this.inputSprite = this.inputGroup.add(this.gameObject.game.add.sprite(0, 0, "atlas-18", "empty")), 
                this.inputSprite.width = this.spineInputSource.width, this.inputSprite.height = this.spineInputSource.height, 
                this.inputSprite.anchor.setTo(this.spineInputSource.anchor.x, this.spineInputSource.anchor.y)), 
                this.resetToOrigin();
            }
        }, e.prototype.setAsset = function(t, e) {
            "spine" === e.type && (this.source = t, this.metadata = e, this.spine.destroy(), 
            this.spine = null, this.updateSource());
        }, e.prototype.setAnchor = function(t, e) {
            var i = this.getAnchorOffset(), a = this.getSpineAnchorOffset();
            this.anchor.x = t, this.anchor.y = e, s.Util.isValid(this.spine) && this.setPosition(this.spine.x + i.x - a.x, this.spine.y + i.y - a.y);
        }, e.prototype.setScale = function(t, e) {
            if (s.Util.isValid(this.spine)) {
                var i = this.getAnchorOffset(), a = this.getSpineAnchorOffset();
                this.spine.scale.x = t, this.spine.scale.y = e, s.Util.isValid(this.spine) || this.setPosition(this.spine.x + i.x - a.x, this.spine.y + i.y - a.y);
            } else this.onLoaded.addOnce(this.setScale, this, 0, t, e);
        }, e.prototype.getScale = function() {
            return s.Util.isValid(this.spine) ? this.spine.scale : t.prototype.getScale.call(this);
        }, e.prototype.setAlpha = function(t) {
            if (s.Util.isValid(this.spine)) this.onLoaded.addOnce(this.setAlpha, this, 0, t); else for (var e = this.spine.skeleton, i = 0; i < e.slots.length; ++i) {
                var a = e.slots[i].currentSprite;
                s.Util.isValid(a) || a === this.spineInputSource || (a.alpha = t);
            }
        }, e.prototype.getWorld = function() {
            return s.Util.isValid(this.inputSprite) ? this.gameObject.position : Phaser.Point.add(this.gameObject.position, this.inputSprite.position);
        }, e.prototype.getWidth = function() {
            return s.Util.isValid(this.spine) ? this.spine.width : 0;
        }, e.prototype.getHeight = function() {
            return s.Util.isValid(this.spine) ? this.spine.height : 0;
        }, e.prototype.getEvents = function() {
            return s.Util.isValid(this.inputSprite) ? this.inputSprite.events : null;
        }, e.prototype.setInputEnabled = function(t) {
            void 0 === t && (t = !0), s.Util.isValid(this.spine) ? s.Util.isValid(this.inputSprite) ? (this.inputSprite.inputEnabled = t, 
            t ? (this.inputSprite.events.onDragUpdate.add(this.draggingUpdated, this), 
            this.inputSprite.events.onDragStop.add(this.draggingStopped, this, -99)) : (this.inputSprite.events.onDragUpdate.remove(this.draggingUpdated, this), 
            this.inputSprite.events.onDragStop.remove(this.draggingStopped, this))) : s.Util.log("This spine renderer does not have an input_hitbox bone") : this.onLoaded.addOnce(this.setInputEnabled, this, 0, t);
        }, e.prototype.getInputHandler = function() {
            return s.Util.isValid(this.inputSprite) ? this.inputSprite.input : null;
        }, e.prototype.setPosition = function(t, e) {
            if (s.Util.isValid(this.spine)) {
                var i = this.getSpineObjectOffset();
                this.spine.position.setTo(t - i.x, e - i.y), s.Util.isValid(this.inputSprite) && s.Util.isValid(this.inputGroup) && (this.inputGroup.position.setTo(this.spine.x - this.dragOffset.x, this.spine.y - this.dragOffset.y), 
                this.inputSprite.position.setTo(0, 0));
            } else this.onLoaded.addOnce(this.setPosition, this, 0, t, e);
        }, e.prototype.getSpineObjectOffset = function() {
            return Phaser.Point.subtract(this.getAnchorOffset(), this.getSpineAnchorOffset());
        }, e.prototype.getAnchorOffset = function() {
            return s.Util.isValid(this.spine) ? new Phaser.Point(this.spine.skeletonData.width * this.anchor.x, this.spine.skeletonData.height * this.anchor.y) : new Phaser.Point();
        }, e.prototype.getSpineAnchorOffset = function() {
            return s.Util.isValid(this.spine) ? new Phaser.Point(this.spine.skeletonData.width * this.spineAnchor.x, this.spine.skeletonData.height * this.spineAnchor.y) : new Phaser.Point();
        }, e.prototype.resetToOrigin = function() {
            this.setPosition(0, 0);
        }, e.prototype.enableDragging = function(t, e, i, a) {
            s.Util.isValid(this.inputSprite) ? this.inputSprite.inputEnabled && (this.inputSprite.input.enableDrag(t, e), 
            void 0 !== i && void 0 !== a && this.inputSprite.input.enableSnap(i, a)) : s.Util.log("Tried to enable dragging on a spine renderer without input_hitbox slot");
        }, e.prototype.disableDragging = function() {
            s.Util.isValid(this.inputSprite) ? this.inputSprite.inputEnabled && this.inputSprite.input.disableDrag() : s.Util.log("Tried to disable dragging on a spine renderer without input_hitbox slot");
        }, e.prototype.getBounds = function() {
            var t = this.getWorld();
            return new Phaser.Rectangle(t.x, t.y, this.getWidth(), this.getHeight());
        }, e.prototype.draggingUpdated = function() {
            this.spine.position = Phaser.Point.subtract(this.inputSprite.position, this.getSpineObjectOffset());
        }, e.prototype.draggingStopped = function() {
            this.resetAfterDrag && (this.gameObject.position = Phaser.Point.add(this.inputSprite.position, this.gameObject.position), 
            this.setPosition(0, 0));
        }, e.prototype.hasAnimations = function() {
            return o(this.metadata, "animated", !1);
        }, e.prototype.getAnimationLength = function(t) {
            if (s.Util.isValid(this.spine)) {
                var e = this.spine.skeletonData.findAnimation(t);
                if (null !== e) return e.duration;
            }
            return 0;
        }, e.prototype.playAnimation = function(t, e, i) {
            void 0 === e && (e = !1), void 0 === i && (i = 0), s.Util.isValid(this.spine) ? (this.spine.setAnimationByName(0, t, e), 
            this.spine.setToSetupPose(), this.spine.state.tracks[0].time = i) : this.onLoaded.addOnce(this.playAnimation, this, -r.GameConstants.MAX_SAFE_INTEGER, t, e, i);
        }, e.prototype.setSkinByName = function(t) {
            s.Util.isValid(this.spine) ? this.spine.setSkinByName(t) : this.onLoaded.addOnce(this.setSkinByName, this, 0, t);
        }, e;
    }(i(50).Renderer);
    e.SpineRenderer = l;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t.Top = "-top", t.Bottom = "-bottom", t.Left = "-left", t.Right = "-right", 
        t.Middle = "-middle", t.TopLeft = "-topLeft", t.TopRight = "-topRight", 
        t.BottomLeft = "-bottomLeft", t.BottomRight = "-bottomRight";
    }(e.ESlicedGraphicDirection || (e.ESlicedGraphicDirection = {}));
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(239), s = i(137), l = i(241), h = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.images = [], e.sliceType = "", e.isVertical = !1, e;
        }
        return n(e, t), e.prototype.populate = function(e) {
            t.prototype.populate.call(this, e);
            var i = o.Util.isValid(e.baseFrameName) ? e.baseFrameName : "", a = o.Util.isValid(e.atlasID) ? e.atlasID : 144;
            if (this.isVertical = !!o.Util.isValid(e.isVertical) && e.isVertical, 
            o.Util.isValid(e.sliceType) ? this.sliceType = e.sliceType : o.Util.log("SlicedGraphic.populate - no sliceType provided for SlicedGraphic named: " + this.name + ". This SlicedGraphic won't render.", o.Util.ERROR), 
            this.createImage("atlas-" + a, i), o.Util.isValid(e.tint)) for (var n = 0; n < this.images.length; n++) this.images[n].tint = e.tint;
        }, e.prototype.createImage = function(t, e) {
            "three" === this.sliceType ? this.create3SlicedImages(t, e) : "threeScale" === this.sliceType ? this.create3SlicedImagesScaled(t, e) : "nine" === this.sliceType ? this.create9SlicedImages(t, e) : "nineScale" === this.sliceType ? this.create9SlicedImagesScaled(t, e) : o.Util.log("SlicedGraphic.populate - no definition for sliceType: " + this.sliceType + " for SlicedGraphic named: " + this.name + ". This SlicedGraphic won't render.", o.Util.ERROR), 
            this.disableSmoothing();
        }, e.prototype.resize = function(t, e) {
            for (var i = 0; i < this.images.length; i++) this.images[i].x = 0, this.images[i].y = 0, 
            this.images[i].scale.x = 1, this.images[i].scale.y = 1;
            if ("nineScale" === this.sliceType) {
                var a = {
                    width: this.images[0].width,
                    height: this.images[0].height
                };
                this.images[0].x = 0, this.images[0].y = 0, this.images[1].x = t - a.width, 
                this.images[1].y = 0, this.images[2].x = t - a.width, this.images[2].y = e - a.height, 
                this.images[3].x = 0, this.images[3].y = e - a.height;
                var n = this.images[1].x - a.width, o = this.images[3].y - a.height;
                this.images[4].x = a.width, this.images[4].y = 0, this.images[4].scale.x = n / this.images[4].width, 
                this.images[5].x = a.width, this.images[5].y = this.images[2].y, 
                this.images[5].scale.x = n / this.images[5].width, this.images[6].x = 0, 
                this.images[6].y = a.height, this.images[6].scale.y = o / this.images[6].height, 
                this.images[7].x = this.images[1].x, this.images[7].y = a.height, 
                this.images[7].scale.y = o / this.images[7].height, this.images[8].x = a.width, 
                this.images[8].y = a.height, this.images[8].scale.x = n / this.images[8].width, 
                this.images[8].scale.y = o / this.images[8].height;
            } else if ("threeScale" === this.sliceType) {
                var r = this.images[0].width;
                if (this.isVertical) this.images[2].y = r, this.images[1].y = e - r, 
                this.images[2].scale.x = (this.images[1].y - r + 1) / this.images[2].width; else {
                    var s = this.images[0].width;
                    this.images[2].x = s, this.images[1].x = t - s, this.images[2].scale.x = (this.images[1].x - s + 1) / this.images[2].width;
                }
            }
        }, e.prototype.setActive = function(e) {
            for (var i = e ? 16777215 : 5789784, a = 0; a < this.images.length; a++) this.images[a].tint = i;
            t.prototype.setActive.call(this, e);
        }, e.prototype.setClickable = function(t, e, i, a) {
            if (o.Util.isValid(t)) for (var n = null, r = 0; r < this.images.length; r++) (n = this.images[r]).inputEnabled = !0, 
            t && n.events.onInputDown.add(t), e && n.events.onInputUp.add(e), i && n.events.onInputOver.add(i), 
            a && n.events.onInputOut.add(a);
        }, e.prototype.getTopImageFrames = function(t) {
            return [ "" + t + r.ESlicedGraphicDirection.Top ];
        }, e.prototype.getBottomImageFrames = function(t) {
            return [ "" + t + r.ESlicedGraphicDirection.Bottom ];
        }, e.prototype.getLeftImageFrames = function(t) {
            return [ "" + t + r.ESlicedGraphicDirection.Left ];
        }, e.prototype.getRightImageFrames = function(t) {
            return [ "" + t + r.ESlicedGraphicDirection.Right ];
        }, e.prototype.getMiddleImageFrames = function(t) {
            return [ "" + t + r.ESlicedGraphicDirection.Middle ];
        }, e.prototype.createTopImages = function(t, e, i, a) {
            return l.UIUtil.floodFillImages(this.game, this, t, e, i, [ "" + a + r.ESlicedGraphicDirection.Top ]);
        }, e.prototype.createBottomImages = function(t, e, i, a) {
            return l.UIUtil.floodFillImages(this.game, this, t, e, i, [ "" + a + r.ESlicedGraphicDirection.Bottom ]);
        }, e.prototype.createLeftImages = function(t, e, i, a) {
            return l.UIUtil.floodFillImages(this.game, this, t, e, i, [ "" + a + r.ESlicedGraphicDirection.Left ]);
        }, e.prototype.createRightImages = function(t, e, i, a) {
            return l.UIUtil.floodFillImages(this.game, this, t, e, i, [ "" + a + r.ESlicedGraphicDirection.Right ]);
        }, e.prototype.createMiddleImages = function(t, e, i, a) {
            return l.UIUtil.floodFillImages(this.game, this, t, e, i, [ "" + a + r.ESlicedGraphicDirection.Middle ]);
        }, e.prototype.create9SlicedImages = function(t, e) {
            var i = this.add(new Phaser.Image(this.game, 0, 0, t, "" + e + r.ESlicedGraphicDirection.TopLeft)), a = {
                width: i.width,
                height: i.height
            };
            this.images.push(i), i = this.add(new Phaser.Image(this.game, this.width - a.width, 0, t, "" + e + r.ESlicedGraphicDirection.TopRight)), 
            this.images.push(i), i = this.add(new Phaser.Image(this.game, this.width - a.width, this.height - a.height, t, "" + e + r.ESlicedGraphicDirection.BottomRight)), 
            this.images.push(i), i = this.add(new Phaser.Image(this.game, 0, this.height - a.height, t, "" + e + r.ESlicedGraphicDirection.BottomLeft)), 
            this.images.push(i), this.images = this.images.concat(this.createTopImages({
                x: a.width,
                y: 0
            }, {
                x: this.width - a.width,
                y: 0
            }, t, e)), this.images = this.images.concat(this.createBottomImages({
                x: a.width,
                y: this.height - a.height
            }, {
                x: this.width - a.width,
                y: this.height - a.height
            }, t, e)), this.images = this.images.concat(this.createLeftImages({
                x: 0,
                y: a.height
            }, {
                x: 0,
                y: this.height - a.height
            }, t, e)), this.images = this.images.concat(this.createRightImages({
                x: this.width - a.width,
                y: a.height
            }, {
                x: this.width - a.width,
                y: this.height - a.height
            }, t, e)), this.images = this.images.concat(this.createMiddleImages({
                x: a.width,
                y: a.height
            }, {
                x: this.width - a.width,
                y: this.height - a.height
            }, t, e));
        }, e.prototype.create9SlicedImagesScaled = function(t, e) {
            var i = this.add(new Phaser.Image(this.game, 0, 0, t, "" + e + r.ESlicedGraphicDirection.TopLeft)), a = {
                width: i.width,
                height: i.height
            };
            this.images.push(i), i = this.add(new Phaser.Image(this.game, this.width - a.width, 0, t, "" + e + r.ESlicedGraphicDirection.TopRight)), 
            this.images.push(i), i = this.add(new Phaser.Image(this.game, this.width - a.width, this.height - a.height, t, "" + e + r.ESlicedGraphicDirection.BottomRight)), 
            this.images.push(i), i = this.add(new Phaser.Image(this.game, 0, this.height - a.height, t, "" + e + r.ESlicedGraphicDirection.BottomLeft)), 
            this.images.push(i);
            var n = this.images[1].x - a.width, o = this.images[3].y - a.height, s = this.add(new Phaser.Image(this.game, a.width, 0, t, "" + e + r.ESlicedGraphicDirection.Top));
            s.scale.x = n / s.width;
            var l = this.add(new Phaser.Image(this.game, a.width, this.images[2].y, t, "" + e + r.ESlicedGraphicDirection.Bottom));
            l.scale.x = n / l.width;
            var h = this.add(new Phaser.Image(this.game, 0, a.height, t, "" + e + r.ESlicedGraphicDirection.Left));
            h.scale.y = o / h.height;
            var c = this.add(new Phaser.Image(this.game, this.images[1].x, a.height, t, "" + e + r.ESlicedGraphicDirection.Right));
            c.scale.y = o / c.height;
            var p = this.add(new Phaser.Image(this.game, a.width, a.height, t, "" + e + r.ESlicedGraphicDirection.Middle));
            p.scale.x = n / p.width, p.scale.y = o / p.height, this.images.push(s), 
            this.images.push(l), this.images.push(h), this.images.push(c), this.images.push(p);
        }, e.prototype.create3SlicedImages = function(t, e) {
            var i = new Phaser.Image(this.game, 0, 0, t, "" + e + r.ESlicedGraphicDirection.Left);
            this.isVertical && (i.y = this.height - i.height), this.add(i);
            var a = i.width;
            if (this.images.push(i), i = new Phaser.Image(this.game, this.width - a, 0, t, "" + e + r.ESlicedGraphicDirection.Right), 
            this.isVertical && (i.x = 0), this.add(i), this.images.push(i), this.isVertical) {
                this.images = this.images.concat(this.createMiddleImages({
                    x: 0,
                    y: i.height
                }, {
                    x: 0,
                    y: this.height - i.height
                }, t, e));
                for (var n = 0; n < this.images.length; n++) this.images[n].angle = 270, 
                this.images[n].y += this.images[n].height;
            } else this.images = this.images.concat(this.createMiddleImages({
                x: a,
                y: 0
            }, {
                x: this.width - a,
                y: 0
            }, t, e));
        }, e.prototype.create3SlicedImagesScaled = function(t, e) {
            if (this.isVertical) {
                var i = (a = this.add(new Phaser.Image(this.game, 0, 0, t, "" + e + r.ESlicedGraphicDirection.Left))).width;
                a.angle = 90, this.images.push(a), (a = this.add(new Phaser.Image(this.game, 0, this.height - i, t, "" + e + r.ESlicedGraphicDirection.Right))).angle = 90, 
                this.images.push(a), (o = this.add(new Phaser.Image(this.game, 0, i, t, "" + e + r.ESlicedGraphicDirection.Middle))).angle = 90, 
                this.images.push(o), o.scale.x = (a.y - i) / o.width;
            } else {
                var a, n = (a = this.add(new Phaser.Image(this.game, 0, 0, t, "" + e + r.ESlicedGraphicDirection.Left))).width;
                this.images.push(a), a = this.add(new Phaser.Image(this.game, this.width - n, 0, t, "" + e + r.ESlicedGraphicDirection.Right)), 
                this.images.push(a);
                var o = this.add(new Phaser.Image(this.game, n, 0, t, "" + e + r.ESlicedGraphicDirection.Middle));
                this.images.push(o), o.scale.x = (a.x - n) / o.width;
            }
        }, e.prototype.disableSmoothing = function() {
            for (var t = 0; t < this.images.length; t++) this.images[t].smoothed = !1;
        }, e;
    }(s.GraphicBase);
    e.SlicedGraphic = h;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t() {}
        return t.floodFillImages = function(t, e, i, a, n, o) {
            var r = [], s = o[0], l = new Phaser.Image(t, i.x, i.y, n, s), h = l.width, c = l.height;
            l.destroy();
            for (var p = Math.max(1, Math.ceil((a.x - i.x) / h)), u = Math.max(1, Math.ceil((a.y - i.y) / c)), d = 0; d < p; d++) for (var g = 0; g < u; g++) s = o[Math.floor(Math.random() * o.length)], 
            l = e.add(new Phaser.Image(t, i.x + d * h, i.y + g * c, n, s)), r.push(l);
            return r;
        }, t;
    }();
    e.UIUtil = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.sprites = [], e.boundsWidth = 1280, e.fontSize = 20, e.textAlignment = "center", 
            e.fontID = 10, e.fontName = "", e.lineHeight = null, e.monoSpace = 10, 
            e.iconOffsetY = 0, e.forceUpperCase = !1, e.numberOfLines = 1, e.verticalAlign = "top", 
            e.tint = 16777215, e.icon = null, e;
        }
        return n(e, t), e.prototype.populate = function(e) {
            t.prototype.populate.call(this, e), this.sprites = [], this.boundsWidth = o.Util.isValid(e.width) ? e.width : 1280, 
            this.fontSize = o.Util.isValid(e.fontSize) ? e.fontSize : 20, this.textAlignment = o.Util.isValid(e.horizontalAlignment) ? e.horizontalAlignment : "center", 
            this.fontID = o.Util.isValid(e.fontID) ? e.fontID : 10, this.fontName = "atlas-" + this.fontID, 
            this.lineHeight = e.lineHeight, this.monoSpace = e.monoSpace, this.iconOffsetY = o.Util.isValid(e.iconOffsetY) ? e.iconOffsetY : 0, 
            this.forceUpperCase = !!o.Util.isValid(e.forceUpperCase) && e.forceUpperCase, 
            this.numberOfLines = 1, this.verticalAlign = o.Util.isValid(e.verticalAlignment) ? e.verticalAlignment : "top", 
            this.tint = o.Util.isValid(e.tint) ? parseInt(e.tint) : 16777215, o.Util.isValid(e.text) ? this.setText(e.text) : o.Util.isValid(e.textKey) && this.setText(this.game.prodigy.gameContainer.Localizer.getText(e.textKey));
        }, e.prototype.setText = function(t) {
            if (o.Util.isValid(this.game)) {
                var e = t;
                this.forceUpperCase && (e = e.toUpperCase());
                for (var i = 0, a = null, n = 0, r = 0, s = 0, l = [], h = 0; h < this.sprites.length; h++) this.sprites[h].kill();
                o.Util.isValid(this.icon) && this.icon.destroy(), this.numberOfLines = 1;
                for (var c = 0; c < e.length; c++) {
                    var p = e.charCodeAt(c), u = null;
                    if (91 !== p) {
                        if (93 === p) u = a, a = null; else if (o.Util.isValid(a)) {
                            i++, a += e[c];
                            continue;
                        }
                        h = c - i;
                        var d = o.Util.isValid(this.monoSpace) ? this.monoSpace : 10;
                        if (h >= this.sprites.length) {
                            var g = this.game.prodigy.create.sprite(n, r, this.fontName);
                            this.add(g), this.sprites.push(g);
                        } else this.sprites[h].revive();
                        if (this.sprites[h].tint = this.tint, this.sprites[h].x = n, 
                        this.sprites[h].y = r, o.Util.isValid(u) ? (-1 !== u.indexOf("icon-") ? (this.icon = this.game.prodigy.icon.createIcon(n, r, u, null, null, 40, 40), 
                        this.add(this.icon), this.sprites[h] = this.icon) : ("atlas-21" !== this.sprites[h].key && this.sprites[h].loadTexture("atlas-21"), 
                        this.sprites[h].frameName = u), this.sprites[h].y += this.iconOffsetY) : (this.sprites[h].key !== this.fontName && this.sprites[h].loadTexture(this.fontName), 
                        10 !== p && (this.sprites[h].frameName = p + "-" + this.fontSize)), 
                        32 === p || c === e.length - 1 || 10 === p) {
                            var y = 0 === this.fontSize ? 26 : this.fontSize, f = o.Util.isValid(this.lineHeight) ? this.lineHeight : y + 5;
                            if (n >= this.boundsWidth) {
                                var m = n;
                                n = 0, r += f;
                                for (var _ = s; _ <= h; _++) this.sprites[_].x = n, 
                                this.sprites[_].y = r, "atlas-21" === this.sprites[_].key && (this.sprites[_].y += (this.sprites[_].height - y) / 2), 
                                n += o.Util.isValid(this.monoSpace) ? this.monoSpace : this.sprites[_].width;
                                l.push(m - n), this.numberOfLines++, "center" === this.textAlignment && (n -= d);
                            } else 10 === p && (this.sprites[h].kill(), r += f, 
                            n = 0, this.numberOfLines++);
                            s = h + 1, 32 === p && (n += d);
                        }
                        10 !== p && (n += o.Util.isValid(this.monoSpace) ? this.monoSpace : this.sprites[h].width), 
                        c === e.length - 1 && l.push(n);
                    } else i++, a = "";
                }
                if ("left" !== this.textAlignment) {
                    var v = -1, E = 0;
                    for (c = -1, h = 0; h < this.sprites.length; h++) {
                        v !== (g = this.sprites[h]).y && (v = g.y, c++, o.Util.isValid(l[c]) && ("center" === this.textAlignment ? E = Math.floor((this.boundsWidth - l[c]) / 2) : "right" === this.textAlignment && (E = Math.floor(this.boundsWidth - l[c])))), 
                        g.x += E;
                    }
                }
                if (o.Util.isValid(this.verticalAlign) && "top" !== this.verticalAlign && o.Util.isValid(this.sprites[0])) {
                    var b = 0, O = this.sprites[0].height * this.numberOfLines;
                    "center" === this.verticalAlign ? b = Math.round((this.height - O) / 2) : "bottom" === this.verticalAlign && (b = Math.round(this.height - O));
                    for (h = 0; h < this.sprites.length; h++) this.sprites[h].y += b;
                }
            }
        }, e;
    }(i(27).UIElement);
    e.Text = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            return a.button = null, a.onUpCallback = null, a.onDownCallback = null, 
            a.onOverCallback = null, a.onOutCallback = null, a.upStateGraphic = null, 
            a.downStateGraphic = null, a.buttonTextGraphic = null, a.isActive = !0, 
            a.state = "up", a.defaultY = 0, a.downStateName = null, a.upStateName = null, 
            a.buttonTextName = null, a.hoverLiftDistance = 0, a.isToggle = !1, a;
        }
        return n(e, t), e.prototype.populate = function(e) {
            t.prototype.populate.call(this, e), this.defaultY = this.y, this.downStateName = e.downStateName, 
            this.upStateName = e.upStateName, this.buttonTextName = e.buttonTextName, 
            this.hoverLiftDistance = e.hoverLiftDistance, this.isToggle = e.toggle, 
            this.render(e);
        }, e.prototype.getStateGraphics = function() {
            for (var t = 0; t < this.children.length; t++) o.Util.isValid(this.children[t].name) && this.children[t].name === this.upStateName && (this.upStateGraphic = this.children[t], 
            this.upStateGraphic.defaultY = this.upStateGraphic.y), o.Util.isValid(this.children[t].name) && this.children[t].name === this.downStateName && (this.downStateGraphic = this.children[t], 
            this.downStateGraphic.defaultY = this.downStateGraphic.y), o.Util.isValid(this.buttonTextName) && this.children[t].name === this.buttonTextName && (this.buttonTextGraphic = this.children[t], 
            this.buttonTextGraphic.defaultY = this.buttonTextGraphic.y);
        }, e.prototype.postPopulate = function() {
            this.getStateGraphics(), this.setButtonState("up");
        }, e.prototype.render = function(t) {
            this.button = new Phaser.Button(this.game, 0, 0, t.ImageKey, null, this, t.overFrame, t.outFrame, t.downFrame, t.upFrame), 
            this.button.width = t.width, this.button.height = t.height, this.button.onInputDown.add(this.onDown.bind(this)), 
            this.button.onInputUp.add(this.onUp.bind(this)), this.button.onInputOver.add(this.onOver.bind(this)), 
            this.button.onInputOut.add(this.onOut.bind(this)), this.button.setSounds(t.overSound, "", t.downSound, "", t.outSound, "", t.upSound, ""), 
            this.add(this.button);
        }, e.prototype.setButtonState = function(t) {
            this.state = t, o.Util.isValid(this.downStateGraphic) && o.Util.isValid(this.upStateGraphic) && (this.downStateGraphic.visible = "down" === t, 
            this.upStateGraphic.visible = !this.downStateGraphic.visible, this.upStateGraphic.y = this.upStateGraphic.defaultY, 
            this.buttonTextGraphic.y = this.buttonTextGraphic.defaultY, this.downStateGraphic.y = this.downStateGraphic.defaultY, 
            this.buttonTextGraphic.tint = 16777215, "down" === t ? (this.downStateGraphic.y -= this.hoverLiftDistance, 
            this.buttonTextGraphic.tint = 7368816, this.buttonTextGraphic.y += 3) : "over" === t && (this.buttonTextGraphic.y -= this.hoverLiftDistance, 
            this.upStateGraphic.y -= this.hoverLiftDistance));
        }, e.prototype.toggleActive = function() {
            t.prototype.setActive.call(this, !this.isActive), this.y = this.defaultY;
        }, e.prototype.onDown = function() {
            this.visible && this.isActive && (this.game.prodigy.audio.playSFX(18, "pop"), 
            o.Util.isValid(this.onDownCallback) && (this.onDownCallback(), this.isToggle && this.toggleActive()), 
            this.setButtonState("down"));
        }, e.prototype.onUp = function() {
            this.visible && this.isActive && (o.Util.isValid(this.onUpCallback) && "down" === this.state && (this.onUpCallback(), 
            this.isToggle && this.toggleActive()), this.setButtonState("up"));
        }, e.prototype.onOver = function() {
            this.visible && this.isActive && (o.Util.isValid(this.onOverCallback) && this.onOverCallback(), 
            this.setButtonState("over"));
        }, e.prototype.onOut = function() {
            this.visible && this.isActive && (o.Util.isValid(this.onOutCallback) && this.onOutCallback(), 
            this.setButtonState("up"));
        }, e;
    }(i(27).UIElement);
    e.PhaserButtonWrapper = r;
}, function(t, e) {
    t.exports = function(t, e, i) {
        return t == t && (void 0 !== i && (t = t <= i ? t : i), void 0 !== e && (t = t >= e ? t : e)), 
        t;
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h, c) {
            return void 0 === c && (c = 2e3), t.call(this, e, i, a, n, o, c, "water", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function(e) {
            void 0 === e && (e = 1500), t.prototype.setup.call(this, e), this.doAttack();
        }, e.prototype.setupNoAnimation = function(e) {
            t.prototype.setup.call(this, e);
        }, e.prototype.doAttack = function() {
            this.game.prodigy.effects.shake(0, 1500, 3, "v");
            for (var t = Math.floor(Math.abs(this.target.x - this.source.x) / 80) + 1, e = 1; e < t; e++) {
                var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "earth-mud-splash");
                i.anchor.setTo(.5, 1), i.scale.y = 0, this.overLayer.add(i);
                var a = this.source.x < this.target.x ? 1 : -1;
                this.game.add.tween(i).to({
                    x: this.source.x + 80 * e * a,
                    y: this.source.y
                }, 1, Phaser.Easing.Linear.None).delay(1500 * e / t).start(), this.game.add.tween(i.scale).to({
                    y: 1
                }, 100, Phaser.Easing.Linear.None).delay(1500 * e / t).to({
                    y: 0
                }, 1500, Phaser.Easing.Linear.None).delay(1500 * e / t).start();
            }
            this.game.prodigy.effects.shake(1500, 400, 15);
            var n = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-beam1");
            this.overLayer.add(n), n.alpha = .75, n.scale.x = n.scale.y = .5, n.anchor.setTo(.5, 0), 
            this.game.add.tween(n).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(1500).to({}, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 500, Phaser.Easing.Linear.None).start(), n = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-beam2"), 
            this.overLayer.add(n), n.alpha = .75, n.scale.x = .5, n.anchor.setTo(.5, 1), 
            this.game.add.tween(n).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(1500).start(), this.game.add.tween(n).to({
                height: 600
            }, 251, Phaser.Easing.Linear.None).delay(1500).to({}, 750, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 500, Phaser.Easing.Linear.None).start();
        }, e;
    }(o.Attack);
    e.Geyser = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h, c) {
            return void 0 === c && (c = 6e3), t.call(this, e, i, a, n, o, c, "fire", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function(e) {
            void 0 === e && (e = 5e3), t.prototype.setup.call(this, e), this.doAttack();
        }, e.prototype.setupNoAnimation = function(e) {
            t.prototype.setup.call(this, e);
        }, e.prototype.doAttack = function() {
            this.game.prodigy.effects.shake(0, 5e3, 3, "v"), this.game.prodigy.effects.shake(5e3, 500, 5);
            var t = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "fire-bomb");
            t.anchor.setTo(.5, 1), t.scale.x = t.scale.y = 5, this.overLayer.add(t), 
            this.game.add.tween(t).to({
                y: 0,
                x: this.target.x
            }, 1, Phaser.Easing.Linear.None).delay(2e3).to({
                y: this.target.y
            }, 3e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 100, Phaser.Easing.Linear.None).start();
            for (var e = 0; e < 10; e++) {
                var i = this.target.x + 200 - 400 * Math.random(), a = this.target.y + 200 - 400 * Math.random(), n = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-circle-small");
                n.anchor.setTo(.5, .5), n.scale.x = n.scale.y = 0, n.alpha = .75, 
                this.underLayer.add(n), this.game.add.tween(n).to({
                    y: a,
                    x: i
                }, 1, Phaser.Easing.Linear.None).delay(500 * e).to({
                    alpha: 0
                }, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(n.scale).to({
                    x: 1.4,
                    y: .8
                }, 500, Phaser.Easing.Linear.None).delay(500 * e).start();
                var r = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "fire-ball");
                r.anchor.setTo(.5, .5), r.angle = -90, this.game.add.tween(r).to({
                    y: a,
                    x: i
                }, 1, Phaser.Easing.Linear.None).delay(500 * e).to({
                    y: -50
                }, 1500, Phaser.Easing.Quadratic.In).to({
                    alpha: 0
                }, 1, Phaser.Easing.Linear.None).start(), a < this.target.y ? this.underLayer.add(r) : this.overLayer.add(r);
            }
            var s = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-beam2");
            this.overLayer.add(s), s.alpha = 0, s.height = 720, s.width = 300, s.anchor.setTo(.5, 1), 
            this.game.add.tween(s).to({
                x: this.target.x,
                y: 720
            }, 1, Phaser.Easing.Linear.None).to({
                alpha: 1,
                width: 500
            }, 5e3, Phaser.Easing.Linear.None).to({
                alpha: 0,
                width: 2e3
            }, 300, Phaser.Easing.Linear.None).start();
        }, e;
    }(o.Attack);
    e.Dragos = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s) {
            return t.call(this, e, i, a, n, o, 4500, "water", r, s, !1, null) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "water-prison");
            this.overLayer.add(e), e.anchor.setTo(.5, .5), this.game.add.tween(e).to({
                x: this.target.x,
                alpha: .75
            }, 1, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
                x: this.source.x + 20
            }, 3e3, Phaser.Easing.Linear.None).start(), this.game.add.tween(e).to({
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
                y: this.source.y - 50 - 100
            }, 600, Phaser.Easing.Quadratic.Out).to({
                y: this.source.y
            }, 600, Phaser.Easing.Quadratic.In).to({
                y: this.source.y - 50 - 75
            }, 600, Phaser.Easing.Quadratic.Out).to({
                y: this.source.y
            }, 600, Phaser.Easing.Quadratic.In).to({
                y: this.source.y - 50
            }, 600, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(e.scale).to({
                x: 4,
                y: 4
            }, 1, Phaser.Easing.Quadratic.Out).to({
                x: .25,
                y: .25
            }, 1e3, Phaser.Easing.Quadratic.Out).to({}, 3e3, Phaser.Easing.Linear.None).to({
                x: 0,
                y: 0
            }, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target.scale).to({
                x: 0,
                y: 0
            }, 1e3, Phaser.Easing.Quadratic.Out).start();
        }, e;
    }(o.Attack);
    e.CatchPet = r;
}, function(t, e, i) {
    "use strict";
    function a(t) {
        for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i]);
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), a(i(847)), a(i(846)), a(i(845)), a(i(844)), a(i(843)), a(i(247)), a(i(842)), 
    a(i(841)), a(i(840)), a(i(246)), a(i(839)), a(i(838)), a(i(837)), a(i(836)), 
    a(i(835)), a(i(245)), a(i(834)), a(i(833)), a(i(832)), a(i(831)), a(i(830)), 
    a(i(823)), a(i(822)), a(i(821)), a(i(820)), a(i(819)), a(i(818)), a(i(817)), 
    a(i(816)), a(i(815)), a(i(814)), a(i(813)), a(i(812)), a(i(811)), a(i(810)), 
    a(i(809)), a(i(808)), a(i(807)), a(i(806)), a(i(139)), a(i(805)), a(i(783)), 
    a(i(782)), a(i(781)), a(i(780)), a(i(779)), a(i(778)), a(i(777)), a(i(776));
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = i(4), o = function() {
        function t() {}
        return t.getEncounterRate = function(t) {
            var e = n.Items.getItem("pet", t).data;
            return a.Util.isValid(e) ? a.Util.isValid(e.R) ? e.R : 1 : 0;
        }, t.prototype.process = function() {
            for (var t = n.Items.getCategoryItems("pet"), e = [ 4, 4, 4, 4, 4, 4, 4, 12, 30, 30 ], i = '<table class="confluenceTable relative-table" data-resize-percent="100" style="width: 100%;">', o = 0; o < e.length; o++) i += '<col data-resize-percent="' + e[o] + '" style="width: ' + e[o] + '%;">';
            i += '</colgroup><tbody><tr><th class="confluenceTh">ID</th><th class="confluenceTh">Icon</th><th class="confluenceTh">Member</th><th class="confluenceTh">Element</th><th class="confluenceTh">Life</th><th class="confluenceTh">Power</th><th class="confluenceTh">Growth</th><th class="confluenceTh">Name</th><th class="confluenceTh">Description</th><th class="confluenceTh">Information</th></tr>';
            for (o = 0; o < t.length; o++) {
                var r = t[o], s = ' class="confluenceTd highlight-blue" data-highlight-colour="blue" ';
                o % 2 == 0 && (s = ' class="confluenceTd" '), o++;
                for (var l = "Attacks: ", h = "", c = 0; c < r.data.curve.length; c++) {
                    var p = r.data.curve[c];
                    p.a && (l += n.Items.getItem("spell", p.a - 1).data.name + " (lvl " + p.lvl + "), "), 
                    p.e && (h = "Evolves into " + t[p.e].data.name + " at lvl " + p.lvl);
                }
                i += '<tr><td colspan="1" width="" style="text-align: center;" ' + s + "><strong>" + r.ID + '</strong></td><td colspan="1" width=""  ' + s + '><div class="content-wrapper"><p><img class="confluence-embedded-image confluence-thumbnail confluence-external-resource" width="40" src="https://prodigygame.atlassian.net/wiki/download/thumbnails/14549017/' + r.ID + '.png?version=1&amp;modificationDate=1465482321787&amp;api=v2" data-image-src="https://prodigygame.atlassian.net/wiki/download/attachments/14549017/' + r.ID + '.png?version=1&amp;modificationDate=1465482321787&amp;api=v2" data-mce-src="https://prodigygame.atlassian.net/wiki/download/attachments/14549017/' + r.ID + '.png?version=1&amp;modificationDate=1465482321787&amp;api=v2" border="0"><br data-mce-bogus="1"></p></div></td><td colspan="1" width="" ' + s + ' style="text-align: center;">' + (r.data.member ? "yes" : "no") + '</td><td colspan="1" width="" ' + s + ' style="text-align: center;">' + r.data.element + '</td><td colspan="1" width="" ' + s + ' style="text-align: center;">' + r.data.life + '</td><td colspan="1" width="" ' + s + ' style="text-align: center;">' + r.data.power + '</td><td colspan="1" width="" ' + s + ' style="text-align: center;">' + r.data.growth + '</td><td colspan="1" width="" ' + s + "><strong><span 0>" + r.data.name + '</span></strong></td><td colspan="1" width="" ' + s + "><em>" + r.data.flavorText + '</em></td><td colspan="1" width="" ' + s + '><br data-mce-bogus="1"><em>' + l + "<br/>" + h + "</em></td></tr>";
            }
            i += "</tbody></table>", a.Util.log(i);
        }, t.epicArena = {
            125: {
                monsters: [ [ 68, 12, 47, 98, 101, 104, 11, 119, 100, 33 ], [ 101, 119, 98, 47, 68, 33, 100, 12, 11, 104 ], [ 11, 12, 33, 47, 68, 98, 100, 101, 104, 119 ] ],
                rewards: [ {
                    type: "dorm",
                    ID: 125
                }, {
                    type: "dorm",
                    ID: 124
                }, {
                    type: "dorm",
                    ID: 126
                } ]
            },
            126: {
                monsters: [ [ 68, 12, 25, 104, 47, 98, 101, 119, 100, 106 ], [ 98, 101, 25, 119, 106, 68, 100, 104, 12, 47 ], [ 12, 25, 47, 68, 98, 100, 101, 104, 106, 119 ] ],
                rewards: [ {
                    type: "dorm",
                    ID: 121
                }, {
                    type: "dorm",
                    ID: 122
                }, {
                    type: "dorm",
                    ID: 123
                } ]
            },
            127: {
                monsters: [ [ 6, 15, 110, 19, 22, 35, 42, 44, 57, 74 ], [ 42, 19, 44, 15, 57, 74, 6, 110, 22, 35 ], [ 110, 22, 74, 22, 15, 42, 44, 19, 6, 57 ] ],
                rewards: [ {
                    type: "dorm",
                    ID: 116
                }, {
                    type: "dorm",
                    ID: 115
                }, {
                    type: "dorm",
                    ID: 117
                } ]
            },
            128: {
                monsters: [ [ 24, 64, 120, 23, 37, 38, 65, 76, 9, 112 ], [ 65, 120, 64, 112, 76, 9, 24, 37, 38, 23 ], [ 9, 23, 24, 37, 38, 64, 65, 76, 112, 120 ] ],
                rewards: [ {
                    type: "dorm",
                    ID: 119
                }, {
                    type: "dorm",
                    ID: 118
                }, {
                    type: "dorm",
                    ID: 120
                } ]
            },
            129: {
                monsters: [ [ 3, 32, 36, 124, 60, 82, 71, 83, 93, 92 ], [ 60, 71, 124, 36, 3, 92, 32, 93, 83, 82 ], [ 32, 3, 92, 71, 93, 83, 124, 82, 60, 36 ] ],
                rewards: [ {
                    type: "dorm",
                    ID: 128
                }, {
                    type: "dorm",
                    ID: 127
                }, {
                    type: "dorm",
                    ID: 129
                } ]
            },
            130: {
                monsters: [ [ 116, 107, 117, 51, 17, 88, 82, 14, 19, 22 ], [ 22, 19, 14, 82, 88, 17, 51, 117, 107, 116 ], [ 82, 14, 19, 22, 116, 107, 117, 51, 17, 88 ] ],
                rewards: [ {
                    type: "dorm",
                    ID: 136
                }, {
                    type: "dorm",
                    ID: 137
                }, {
                    type: "dorm",
                    ID: 138
                } ]
            },
            131: {
                monsters: [ [ 49, 34, 121, 24, 37, 97, 39, 76, 9, 112 ], [ 112, 9, 76, 39, 97, 37, 24, 121, 34, 49 ], [ 39, 76, 9, 112, 49, 34, 121, 24, 37, 97 ] ],
                rewards: [ {
                    type: "dorm",
                    ID: 139
                }, {
                    type: "dorm",
                    ID: 140
                }, {
                    type: "dorm",
                    ID: 141
                } ]
            },
            132: {
                monsters: [ [ 116, 107, 117, 51, 89, 88, 17, 82, 83, 60 ], [ 88, 17, 82, 83, 60, 116, 107, 117, 51, 89 ], [ 82, 17, 88, 89, 51, 117, 107, 116, 60, 83 ] ],
                rewards: [ {
                    type: "dorm",
                    ID: 142
                }, {
                    type: "dorm",
                    ID: 143
                }, {
                    type: "dorm",
                    ID: 144
                } ]
            },
            133: {
                monsters: [ [ 12, 25, 47, 68, 98, 101, 104, 106, 119, 100 ], [ 98, 101, 104, 106, 119, 100, 12, 25, 47, 68 ], [ 47, 68, 98, 101, 104, 106, 119, 100, 12, 25 ] ],
                rewards: [ {
                    type: "dorm",
                    ID: 145
                }, {
                    type: "dorm",
                    ID: 146
                }, {
                    type: "dorm",
                    ID: 147
                } ]
            }
        }, t;
    }();
    e.Monsters = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(852);
    e.AVERAGE_FPS = a.AverageFPSRenderer;
    var n = i(851);
    e.MEMORY_USAGE = n.MemoryUsageDebugRenderer;
    var o = i(850);
    e.MOUSE_POSITION = o.MousePositionDebugRenderer;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(856), n = i(855), o = i(0), r = function() {
        function t() {
            this.animatedSprites = [], this.dynamicSprites = [], this.disabledLayers = [ "" ], 
            this.disabledLayerIDs = [], this.dynamicLayerContainers = {}, this.tempCollisionData = null, 
            this.onLoad = null;
        }
        return t.prototype.init = function(t, e, i, a, n, r) {
            this.game = t, this.onLoad = r, this.screen = a, this.above = i, this.below = e, 
            this.dynamicSprites = [], this.dynamicLayerContainers = {}, o.Util.isValid(n) && (this.file = n.mapName), 
            this.assets = [ "atlas-110" ];
            for (var s = 0; s < this.game.prodigy.skin.active.length; s++) {
                var l = this.game.prodigy.skin.active[s];
                if (l.active(this.zoneName)) {
                    var h = l.getOverrideName(this.zoneName);
                    o.Util.isValid(h) && (this.file = h);
                }
            }
            if (o.Util.isValid(this.file) && this.assets.push(this.file), o.Util.isValid(this.onLoadInit) && this.game.prodigy.load.loader.onLoadComplete.remove(this.onLoadInit), 
            this.onLoadInit = this.init.bind(this, t, e, i, a, n, r), !this.game.cache.checkJSONKey(this.file)) return this.game.prodigy.load.loader.onLoadComplete.addOnce(this.onLoadInit), 
            this.game.prodigy.load.processFile(this.file), null;
            var c, p = this.game.cache.getJSON(this.file), u = this.game.cache.getJSON("map-pathing");
            o.Util.isValid(u) && (c = u.tilesets);
            var d, g, y = [];
            for (s = 0; s < 36; s++) {
                y.push([]);
                for (var f = 0; f < 64; f++) y[s][f] = 1;
            }
            for (s = 0; s < p.layers.length; s++) {
                var m = p.layers[s];
                d = m.visible, g = !1;
                for (f = 0; f < this.disabledLayers.length; f++) {
                    var _ = this.disabledLayers[f];
                    if (m.name === _) {
                        d = !1;
                        break;
                    }
                }
                if (o.Util.isValid(m.properties)) if (g = o.Util.isValid(m.properties.isAbove), 
                o.Util.isValid(m.properties.toggle) || o.Util.isValid(m.properties.dynamicToggle)) {
                    var v = o.Util.isValid(m.properties.toggle) ? m.properties.toggle : m.properties.dynamicToggle;
                    for (f = 0; f < this.disabledLayerIDs.length; f++) {
                        v === (_ = this.disabledLayerIDs[f]) && (d = !1);
                    }
                } else o.Util.isValid(m.properties.reference) && (d = !1);
                if (o.Util.isValid(m.properties) && o.Util.isValid(m.properties.dynamicToggle)) {
                    if (o.Util.isValid(this.dynamicLayerContainers["element-" + m.properties.dynamicToggle]) || (this.dynamicLayerContainers["element-" + m.properties.dynamicToggle] = {}, 
                    this.dynamicLayerContainers["element-" + m.properties.dynamicToggle].above = this.game.prodigy.create.element(this.screen.above, 0, 0), 
                    this.dynamicLayerContainers["element-" + m.properties.dynamicToggle].below = this.game.prodigy.create.element(this.screen.below, 0, 0)), 
                    g ? this.initLayer(this.dynamicLayerContainers["element-" + m.properties.dynamicToggle].above, m, p.tilesets, c, null) : (this.tempCollisionData = [], 
                    this.initLayer(this.dynamicLayerContainers["element-" + m.properties.dynamicToggle].below, m, p.tilesets, c, y)), 
                    this.dynamicLayerContainers["element-" + m.properties.dynamicToggle].above.alpha = d ? 1 : 0, 
                    this.dynamicLayerContainers["element-" + m.properties.dynamicToggle].below.alpha = d ? 1 : 0, 
                    o.Util.isValid(this.tempCollisionData)) {
                        o.Util.isValid(this.dynamicLayerContainers["collision-" + m.properties.dynamicToggle]) || (this.dynamicLayerContainers["collision-" + m.properties.dynamicToggle] = []);
                        for (f = 0; f < this.tempCollisionData.length; f++) {
                            var E = this.tempCollisionData[f];
                            this.dynamicLayerContainers["collision-" + m.properties.dynamicToggle].push(E), 
                            d || (y[E.y][E.x] = 1);
                        }
                        this.tempCollisionData = null;
                    }
                } else d && this.initLayer(g ? this.above : this.below, m, p.tilesets, c, g ? null : y);
            }
            return o.Util.isValid(this.onLoad) && this.onLoad(), y;
        }, t.prototype.enableLayerID = function(t, e) {
            var i = this.disabledLayerIDs.indexOf(t);
            e ? -1 !== i && this.disabledLayerIDs.splice(i, 1) : -1 === i && (this.disabledLayerIDs.push(t), 
            this.disabledLayerIDs.sort(function(t, e) {
                return t - e;
            }));
        }, t.prototype.initLayer = function(t, e, i, a, n) {
            return o.Util.isValid(e) ? o.Util.isValid(e.objects) ? this.initObjectLayer(t, e, i, a, n) : this.initTiledLayer(t, e, i, a, n) : null;
        }, t.prototype.initObjectLayer = function(t, e, i, a, n) {
            for (var r = 0; r < e.objects.length; r++) {
                var s = e.objects[r], l = this.getTile(s.gid, s.x, s.y, a, n, i, null);
                o.Util.isValid(l) && (l.anchor.setTo(.5, .5), l.x = parseInt(s.x) + 20, 
                l.y = parseInt(s.y) - 20, this.addSpriteToLayer(l, t, e));
            }
            return t;
        }, t.prototype.initTiledLayer = function(t, e, i, a, n) {
            for (var r = o.Util.isValid(e.properties) && e.properties.useAnimDuration, s = 0; s < 32; s++) for (var l = 0; l < 18; l++) {
                var h = 32 * l + s, c = this.getTile(e.data[h], 40 * s, 40 * l, a, n, i, null, r);
                o.Util.isValid(c) && this.addSpriteToLayer(c, t, e);
            }
            return t;
        }, t.prototype.getTile = function(t, e, i, r, s, l, h, c) {
            void 0 === c && (c = !1);
            var p = o.Util.isValid(l) ? l : this.game.cache.getJSON(this.file).tilesets, u = t, d = 0 != (2147483648 & u), g = 0 != (1073741824 & u), y = 0 != (536870912 & u);
            u &= 536870911;
            var f = this.getTileset(p, u);
            if (!o.Util.isValid(f) || !o.Util.isValid(u)) return null;
            u -= f.firstgid;
            var m, _, v, E = this.getTileProperties(f, u, r);
            if (o.Util.isValid(E) && (m = E.x), _ = o.Util.isValid(f.tiles) && o.Util.isValid(f.tiles[u]) ? new n.TiledSprite(this.game, e, i, f.name, u) : new a.TiledImage(this.game, e, i, f.name, u), 
            (y || g || d) && (_.anchor.setTo(.5, .5), _.x += 20, _.y += 20), y ? (_.angle = -90, 
            o.Util.isValid(E) && (v = E.x[1], v += E.x[3], v += E.x[0], v += E.x[2], 
            E.x = v), _.scale.x = -1, o.Util.isValid(E) && (v = E.x[1], v += E.x[0], 
            v += E.x[3], v += E.x[2], E.x = v), d && (_.scale.y = -_.scale.y, o.Util.isValid(E) && (v = E.x[2], 
            v += E.x[3], v += E.x[0], v += E.x[1], E.x = v)), g && (_.scale.x = -_.scale.x, 
            o.Util.isValid(E) && (v = E.x[1], v += E.x[0], v += E.x[3], v += E.x[2], 
            E.x = v))) : (d && (_.scale.x = -_.scale.x, o.Util.isValid(E) && (v = E.x[1], 
            v += E.x[0], v += E.x[3], v += E.x[2], E.x = v)), g && (_.scale.y = -_.scale.y, 
            o.Util.isValid(E) && (v = E.x[2], v += E.x[3], v += E.x[0], v += E.x[1], 
            E.x = v))), o.Util.isValid(s) && o.Util.isValid(E) && o.Util.isValid(E.x)) {
                var b = E.x, O = Math.floor(e / 40), T = Math.floor(i / 40);
                1 === parseInt(b[0], 10) && (s[2 * T][2 * O] = 0, o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
                    x: 2 * O,
                    y: 2 * T,
                    value: 0
                }), _.visible = !1, _.collisionTile = !0)), 1 === parseInt(b[1], 10) && (s[2 * T][2 * O + 1] = 0, 
                o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
                    x: 2 * O + 1,
                    y: 2 * T,
                    value: 0
                }), _.visible = !1, _.collisionTile = !0)), 1 === parseInt(b[2], 10) && (s[2 * T + 1][2 * O] = 0, 
                o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
                    x: 2 * O,
                    y: 2 * T + 1,
                    value: 0
                }), _.visible = !1, _.collisionTile = !0)), 1 === parseInt(b[3], 10) && (s[2 * T + 1][2 * O + 1] = 0, 
                o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
                    x: 2 * O + 1,
                    y: 2 * T + 1,
                    value: 0
                }), _.visible = !1, _.collisionTile = !0)), 6 === parseInt(b[0], 10) && (s[2 * T][2 * O] = 6, 
                o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
                    x: 2 * O,
                    y: 2 * T,
                    value: 6
                }), _.visible = !1, _.collisionTile = !0)), 6 === parseInt(b[1], 10) && (s[2 * T][2 * O + 1] = 6, 
                o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
                    x: 2 * O + 1,
                    y: 2 * T,
                    value: 6
                }), _.visible = !1, _.collisionTile = !0)), 6 === parseInt(b[2], 10) && (s[2 * T + 1][2 * O] = 6, 
                o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
                    x: 2 * O,
                    y: 2 * T + 1,
                    value: 6
                }), _.visible = !1, _.collisionTile = !0)), 6 === parseInt(b[3], 10) && (s[2 * T + 1][2 * O + 1] = 6, 
                o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
                    x: 2 * O + 1,
                    y: 2 * T + 1,
                    value: 6
                }), _.visible = !1, _.collisionTile = !0));
            }
            if (o.Util.isValid(E) && o.Util.isValid(m) && (E.x = m), o.Util.isValid(s) && h) for (O = 0; O < 2; O++) for (T = 0; T < 2; T++) s[i / 40 * 2 + O][e / 40 * 2 + T] = 1;
            return this.processTileAnimations(_, f, u, c), _;
        }, t.prototype.addSpriteToLayer = function(t, e, i) {
            o.Util.isValid(i.properties) && o.Util.isValid(i.properties.dynamicToggle) ? (this.dynamicSprites.push(t), 
            t.isAbove = o.Util.isValid(i.properties) && o.Util.isValid(i.properties.isAbove), 
            t.dynamicToggle = i.properties.dynamicToggle) : t.isAnimatedSprite ? (this.animatedSprites.push(t), 
            t.isAbove = o.Util.isValid(i.properties) && o.Util.isValid(i.properties.isAbove)) : e.addChild(t);
        }, t.prototype.processAnimations = function(t, e) {
            for (var i = 0; i < this.animatedSprites.length; i++) {
                var a = this.animatedSprites[i];
                a.isAbove ? e.above.add(a) : e.below.add(a);
            }
        }, t.prototype.processTileAnimations = function(t, e, i, a) {
            if (!o.Util.isValid(e.tiles) || !o.Util.isValid(e.tiles[i]) || !o.Util.isValid(e.tiles[i].animation) || e.tiles[i].animation <= 0) return null;
            for (var n = [], r = 0; r < e.tiles[i].animation.length; r++) {
                var s = e.tiles[i].animation[r];
                n.push(s.tileid);
            }
            var l = t.animations.add("tileAnimation", n, 4, !0, !0);
            if (a) {
                var h = [];
                for (r = 0; r < e.tiles[i].animation.length; r++) h.push(e.tiles[i].animation[r].duration);
                l.enableUpdate = !0, l.onUpdate.add(this.processTileAnimUpdate.bind(this, h), null);
            }
            t.isAnimatedSprite = !0, t.animations.play("tileAnimation");
        }, t.prototype.processTileAnimUpdate = function(t, e) {
            var i = e._frameIndex === t.length - 1 ? 0 : e._frameIndex + 1;
            e.delay = t[i];
        }, t.prototype.getTileset = function(t, e) {
            for (var i = 0; i < t.length; i++) {
                var a = t[i];
                if (e >= a.firstgid && e < a.firstgid + a.tilecount) return a;
            }
            return null;
        }, t.prototype.getTileProperties = function(t, e, i) {
            for (var a = 0; a < i.length; a++) {
                var n = i[a];
                if (n.name === t.name && o.Util.isValid(n.tileproperties)) return n.tileproperties[e];
            }
            return null;
        }, t;
    }();
    e.TiledMap = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(251), s = function(t) {
        function e(e, i, a) {
            var n = t.call(this) || this;
            return n.game = e, n.screen = i, n.mapData = a, n.tiledParser = new r.TiledMap(), 
            n;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this);
        }, e.prototype.render = function(t) {
            var e = this;
            o.Util.isValid(t) && (this.mapData = t), this.below = this.game.prodigy.create.element(this.screen.background, 0, 0), 
            this.above = this.game.prodigy.create.element(this.screen.foreground, 0, 0);
            var i = this.game.prodigy.create.element(this.screen.background, 0, 0), a = this.game.prodigy.create.element(this.screen.foreground, 0, 0);
            this.area = this.tiledParser.init(this.game, i, a, this.screen, this.mapData, function() {
                e.game.prodigy.textureBelow.clear(), e.game.prodigy.textureBelow.renderXY(i, 0, 0, !0), 
                e.below.add(new Phaser.Image(e.game, 0, 0, e.game.prodigy.textureBelow)), 
                e.game.prodigy.textureAbove.clear(), e.game.prodigy.textureAbove.renderXY(a, 0, 0, !0), 
                e.above.add(new Phaser.Image(e.game, 0, 0, e.game.prodigy.textureAbove)), 
                e.tiledParser.processAnimations(e.game, e), i.destroy(), a.destroy();
            });
        }, e.prototype.update = function() {}, e.prototype.destroy = function() {}, 
        e;
    }(i(43).Component);
    e.TiledRenderer = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t() {}
        return t.createBox = function(t, e, i, a, n, o, r, s) {
            var l = t.add.graphics(0, 0, s);
            return l.beginFill(o, r), l.lineTo(a, 0), l.lineTo(a, n), l.lineTo(0, n), 
            l.lineTo(0, 0), l.x = e, l.y = i, l.endFill(), l;
        }, t;
    }();
    e.DrawUtil = a;
}, function(t, e, i) {
    var a = i(144);
    t.exports = function(t) {
        var e = t.length;
        return e ? t[a(0, e - 1)] : void 0;
    };
}, function(t, e) {
    t.exports = function(t, e, i) {
        var a = -1, n = t.length;
        e < 0 && (e = -e > n ? 0 : n + e), (i = i > n ? n : i) < 0 && (i += n), 
        n = e > i ? 0 : i - e >>> 0, e >>>= 0;
        for (var o = Array(n); ++a < n; ) o[a] = t[a + e];
        return o;
    };
}, function(t, e, i) {
    var a = i(153), n = i(894);
    t.exports = function(t) {
        return n(a(t).toLowerCase());
    };
}, function(t, e, i) {
    var a = i(266), n = i(53), o = i(151), r = Math.max;
    t.exports = function(t, e, i) {
        var s = null == t ? 0 : t.length;
        if (!s) return -1;
        var l = null == i ? 0 : o(i);
        return l < 0 && (l = r(s + l, 0)), a(t, n(e, 3), l);
    };
}, function(t, e, i) {
    var a = i(908), n = i(147), o = i(103);
    t.exports = function(t) {
        return "function" != typeof t.constructor || o(t) ? {} : a(n(t));
    };
}, function(t, e, i) {
    var a = i(146);
    t.exports = function(t, e) {
        var i = e ? a(t.buffer) : t.buffer;
        return new t.constructor(i, t.byteOffset, t.length);
    };
}, function(t, e, i) {
    var a = i(161), n = i(147), o = i(160), r = i(276), s = Object.getOwnPropertySymbols ? function(t) {
        for (var e = []; t; ) a(e, o(t)), t = n(t);
        return e;
    } : r;
    t.exports = s;
}, function(t, e, i) {
    (function(t) {
        var a = i(47), n = "object" == typeof e && e && !e.nodeType && e, o = n && "object" == typeof t && t && !t.nodeType && t, r = o && o.exports === n ? a.Buffer : void 0, s = r ? r.allocUnsafe : void 0;
        t.exports = function(t, e) {
            if (e) return t.slice();
            var i = t.length, a = s ? s(i) : new t.constructor(i);
            return t.copy(a), a;
        };
    }).call(this, i(106)(t));
}, function(t, e, i) {
    var a = i(60), n = function() {
        try {
            var t = a(Object, "defineProperty");
            return t({}, "", {}), t;
        } catch (t) {}
    }();
    t.exports = n;
}, function(t, e, i) {
    var a = i(148), n = i(87), o = Object.prototype.hasOwnProperty;
    t.exports = function(t, e, i) {
        var r = t[e];
        o.call(t, e) && n(r, i) && (void 0 !== i || e in t) || a(t, e, i);
    };
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, n = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(11), r = i(0), s = i(4), l = function() {
        function t() {
            this.data = null, this.updated = !1;
            var t = Math.random() < .5 ? "female" : "male";
            this.data = {
                name: null,
                nick: null,
                gender: t,
                hair: {
                    style: Math.floor(8 * Math.random()) + ("male" === t ? 16 : 1),
                    color: Math.floor(16 * Math.random()) + 1
                },
                skinColor: Math.floor(5 * Math.random() + 1),
                eyeColor: Math.floor(15 * Math.random() + 1),
                face: "male" === t ? 4 : 12
            }, this.generateRandomName();
        }
        return t.prototype.getData = function() {
            return this.data;
        }, t.prototype.getDataAndClear = function() {
            return this.updated = !1, this.getData();
        }, t.prototype.getName = function() {
            return r.Util.isValid(this.data.nick) ? this.data.nick : this.data.name;
        }, t.prototype.getFirstName = function() {
            return this.data.name.split(" ")[0];
        }, t.prototype.getFullName = function() {
            return this.data.name;
        }, t.prototype.setName = function(t) {
            this.data.name = t, this.updated = !0;
        }, t.prototype.getNickname = function() {
            return this.data.nick;
        }, t.prototype.setNickname = function(t) {
            this.data.nick = t, this.updated = !0;
        }, t.prototype.getGender = function() {
            return this.data.gender;
        }, t.prototype.setGender = function(t) {
            "male" !== t && "female" !== t || (this.data.gender = t, this.updated = !0);
        }, t.prototype.getHair = function() {
            return r.Util.isValid(this.data.hair) && r.Util.isValid(this.data.hair.style) || (this.data.hair = {
                style: "male" === this.data.gender ? 16 : 1,
                color: 1
            }, r.Util.isValid(this.data.hairStyle) && (this.data.hair.style = this.data.hairStyle), 
            r.Util.isValid(this.data.hairColor) && (this.data.hair.color = this.data.hairColor)), 
            s.Items.doesExist("hair", this.data.hair.style) && s.Items.doesExist("hairColor", this.data.hair.color) ? this.data.hair : {
                style: "male" === this.data.gender ? 16 : 1,
                color: 1
            };
        }, t.prototype.setHair = function(t, e) {
            this.getHair(), r.Util.isValid(t) && s.Items.doesExist("hair", t) && t !== this.data.hair.style && (this.data.hair.style = t, 
            this.updated = !0), r.Util.isValid(e) && s.Items.doesExist("hairColor", e) && e !== this.data.hair.color && (this.data.hair.color = e, 
            this.updated = !0);
        }, t.prototype.getFace = function() {
            return r.Util.isValid(this.data.face) && s.Items.doesExist("face", this.data.face) || (this.data.face = "male" === this.data.gender ? 4 : 12), 
            this.data.face;
        }, t.prototype.setFace = function(t) {
            s.Items.doesExist("face", this.data.face) && this.data.face !== t && (this.data.face = t, 
            this.updated = !0);
        }, t.prototype.getEyeColor = function() {
            return s.Items.doesExist("eyeColor", this.data.eyeColor) ? this.data.eyeColor : 1;
        }, t.prototype.setEyeColor = function(t) {
            s.Items.doesExist("eyeColor", t) && (this.data.eyeColor = t, this.updated = !0);
        }, t.prototype.getSkinColor = function() {
            return s.Items.doesExist("skinColor", this.data.skinColor) ? this.data.skinColor : 1;
        }, t.prototype.setSkinColor = function(t) {
            s.Items.doesExist("skinColor", t) && (this.data.skinColor = t, this.updated = !0);
        }, t.prototype.setAppearance = function(t) {
            r.Util.isEmptyObject(t) || (r.Util.isValid(t.x) && delete t.x, r.Util.isValid(t.y) && delete t.y, 
            this.data = t);
        }, t.prototype.generateRandomName = function() {
            this.data.name = null;
        }, t = a([ o.injectable(), n("design:paramtypes", []) ], t);
    }();
    e.Appearance = l;
}, function(t, e, i) {
    var a = i(59), n = i(19), o = i(45), r = "[object String]";
    t.exports = function(t) {
        return "string" == typeof t || !n(t) && o(t) && a(t) == r;
    };
}, function(t, e) {
    t.exports = function(t, e, i, a) {
        for (var n = t.length, o = i + (a ? 1 : -1); a ? o-- : ++o < n; ) if (e(t[o], o, t)) return o;
        return -1;
    };
}, function(t, e, i) {
    var a = i(266), n = i(928), o = i(927);
    t.exports = function(t, e, i) {
        return e == e ? o(t, e, i) : a(t, n, i);
    };
}, function(t, e, i) {
    var a = i(930)();
    t.exports = a;
}, function(t, e, i) {
    var a = i(268), n = i(58);
    t.exports = function(t, e) {
        return t && a(t, e, n);
    };
}, function(t, e, i) {
    var a = i(152), n = i(44);
    t.exports = function(t, e) {
        var i = -1, o = n(t) ? Array(t.length) : [];
        return a(t, function(t, a, n) {
            o[++i] = e(t, a, n);
        }), o;
    };
}, function(t, e) {
    t.exports = function(t) {
        return function(e) {
            return null == e ? void 0 : e[t];
        };
    };
}, function(t, e) {
    t.exports = function(t, e) {
        return function(i) {
            return null != i && i[t] === e && (void 0 !== e || t in Object(i));
        };
    };
}, function(t, e, i) {
    var a = i(46);
    t.exports = function(t) {
        return t == t && !a(t);
    };
}, function(t, e) {
    t.exports = function(t, e) {
        return function(i) {
            return t(e(i));
        };
    };
}, function(t, e, i) {
    var a = i(950), n = i(86), o = i(19), r = i(85), s = i(105), l = i(104), h = Object.prototype.hasOwnProperty;
    t.exports = function(t, e) {
        var i = o(t), c = !i && n(t), p = !i && !c && r(t), u = !i && !c && !p && l(t), d = i || c || p || u, g = d ? a(t.length, String) : [], y = g.length;
        for (var f in t) !e && !h.call(t, f) || d && ("length" == f || p && ("offset" == f || "parent" == f) || u && ("buffer" == f || "byteLength" == f || "byteOffset" == f) || s(f, y)) || g.push(f);
        return g;
    };
}, function(t, e) {
    t.exports = function() {
        return [];
    };
}, function(t, e) {
    t.exports = function(t, e) {
        for (var i = -1, a = null == t ? 0 : t.length, n = 0, o = []; ++i < a; ) {
            var r = t[i];
            e(r, i, t) && (o[n++] = r);
        }
        return o;
    };
}, function(t, e, i) {
    var a = i(161), n = i(19);
    t.exports = function(t, e, i) {
        var o = e(t);
        return n(t) ? o : a(o, i(t));
    };
}, function(t, e, i) {
    var a = i(278), n = i(160), o = i(58);
    t.exports = function(t) {
        return a(t, o, n);
    };
}, function(t, e, i) {
    var a = i(47).Uint8Array;
    t.exports = a;
}, function(t, e) {
    t.exports = function(t, e) {
        return t.has(e);
    };
}, function(t, e) {
    t.exports = function(t, e) {
        for (var i = -1, a = null == t ? 0 : t.length; ++i < a; ) if (e(t[i], i, t)) return !0;
        return !1;
    };
}, function(t, e, i) {
    var a = i(163), n = i(956), o = i(955);
    function r(t) {
        var e = -1, i = null == t ? 0 : t.length;
        for (this.__data__ = new a(); ++e < i; ) this.add(t[e]);
    }
    r.prototype.add = r.prototype.push = n, r.prototype.has = o, t.exports = r;
}, function(t, e, i) {
    var a = i(283), n = i(282), o = i(281), r = 1, s = 2;
    t.exports = function(t, e, i, l, h, c) {
        var p = i & r, u = t.length, d = e.length;
        if (u != d && !(p && d > u)) return !1;
        var g = c.get(t);
        if (g && c.get(e)) return g == e;
        var y = -1, f = !0, m = i & s ? new a() : void 0;
        for (c.set(t, e), c.set(e, t); ++y < u; ) {
            var _ = t[y], v = e[y];
            if (l) var E = p ? l(v, _, y, e, t, c) : l(_, v, y, t, e, c);
            if (void 0 !== E) {
                if (E) continue;
                f = !1;
                break;
            }
            if (m) {
                if (!n(e, function(t, e) {
                    if (!o(m, e) && (_ === t || h(_, t, i, l, c))) return m.push(e);
                })) {
                    f = !1;
                    break;
                }
            } else if (_ !== v && !h(_, v, i, l, c)) {
                f = !1;
                break;
            }
        }
        return c.delete(t), c.delete(e), f;
    };
}, function(t, e) {
    var i = Function.prototype.toString;
    t.exports = function(t) {
        if (null != t) {
            try {
                return i.call(t);
            } catch (t) {}
            try {
                return t + "";
            } catch (t) {}
        }
        return "";
    };
}, function(t, e, i) {
    (function(e) {
        var i = "object" == typeof e && e && e.Object === Object && e;
        t.exports = i;
    }).call(this, i(170));
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.type = null, e.parameters = {}, e.results = {}, e;
        }
        return n(e, t), Object.defineProperty(e.prototype, "Type", {
            get: function() {
                return this.type;
            },
            set: function(t) {
                this.type = t;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "Parameters", {
            get: function() {
                return this.parameters;
            },
            set: function(t) {
                this.parameters = t;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "Results", {
            get: function() {
                return this.results;
            },
            set: function(t) {
                this.results = t;
            },
            enumerable: !0,
            configurable: !0
        }), e;
    }(i(89).BaseData);
    e.ActionData = o;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, n = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, o = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(11), s = i(54), l = i(1017), h = function() {
        function t(t) {
            this.fsmDataProvider = null, this.container = null, this.fsmDataProvider = t, 
            this.container = new r.Container(), this.container.bind("v1").to(l.StateMachineDataFactories);
        }
        return t.prototype.getStateMachine = function(t) {
            var e = this.fsmDataProvider.getStateMachine(t);
            return this.container.get("v" + e.version).deserialize(e);
        }, t = a([ r.injectable(), o(0, r.inject(s.GameIdentifiers.FSMDataProvider)), n("design:paramtypes", [ Object ]) ], t);
    }();
    e.FSMService = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(11), s = i(1021), l = i(33), h = i(167), c = i(1020), p = i(1019), u = i(168), d = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.init = function(e) {
            var i = this;
            t.prototype.init.call(this, e), this.add(u.StateMachine, function(t) {
                return function(e, a) {
                    var n = t.container.resolve(u.StateMachine);
                    return n.init(i, e, a), n;
                };
            }), this.add(p.State, function(t) {
                return function(e, a) {
                    var n = t.container.resolve(p.State);
                    return n.init(i, e, a), n;
                };
            }), this.add(l.Action, function(t) {
                return function(e, i) {
                    var a = "" + e.Type;
                    if (h.Actions.hasOwnProperty(a)) {
                        var n = t.container.resolve(h.Actions[a]);
                        return n.init(e, i), n;
                    }
                    return null;
                };
            }), this.add(c.Condition, function(t) {
                return function(e, i) {
                    var a = t.container.resolve(c.Condition);
                    return a.init(e, i), a;
                };
            });
        }, e.prototype.createStateMachine = function(t, e) {
            return this.create(u.StateMachine, t, e);
        }, e.prototype.createState = function(t, e) {
            return this.create(p.State, t, e);
        }, e.prototype.createAction = function(t, e) {
            return this.create(l.Action, t, e);
        }, e.prototype.createCondition = function(t, e) {
            return this.create(c.Condition, t, e);
        }, e = o([ r.injectable() ], e);
    }(s.Factories);
    e.FSMFactories = d;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, n = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, o = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(11), s = i(54), l = i(289), h = function() {
        function t(t) {
            this.fsmFactories = null, this.fsmFactories = t;
        }
        return t.prototype.execute = function(t, e, i) {
            void 0 === i && (i = null);
            var a = this.fsmFactories.createStateMachine(t, e);
            i && a.OnComplete.addOnce(i), a.execute();
        }, t = a([ r.injectable(), o(0, r.inject(s.GameIdentifiers.FSMFactories)), n("design:paramtypes", [ l.FSMFactories ]) ], t);
    }();
    e.FSMController = h;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(11), o = i(71), r = function() {
        function t() {
            this.minimumLogLevel = o.LogLevel.Verbose, this.shouldColorCodeLogs = !1;
        }
        return e = t, t.prototype.log = function(t, i) {
            if (i >= this.minimumLogLevel) {
                var a = o.LogLevel[i].toUpperCase() + ": " + t;
                this.shouldColorCodeLogs ? console.log("%c " + a + " ", e.getLogStyle(i)) : console.log(a);
            }
        }, t.prototype.setLogLevel = function(t) {
            this.minimumLogLevel = t;
        }, t.prototype.setColoredLogsEnabled = function(t) {
            this.shouldColorCodeLogs = t;
        }, t.getLogStyle = function(t) {
            switch (t) {
              case o.LogLevel.Verbose:
                return "background: #009688; color: #EEEEEE; padding: 2px";

              case o.LogLevel.Warning:
                return "background: #FEEFB3; color: #9F6000; padding: 2px";

              case o.LogLevel.Error:
                return "background: #FFD2D2; color: #D8000C; padding: 2px";

              default:
                return "";
            }
        }, t = e = a([ n.injectable() ], t);
        var e;
    }();
    e.ConsoleLogger = r;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(11), o = function() {
        function t() {
            this.dataSource = null;
        }
        return t.prototype.setDataSource = function(t) {
            this.dataSource = t;
        }, t = a([ n.injectable() ], t);
    }();
    e.BaseLocalizer = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t() {}
        return t.isDefined = function(t) {
            return null !== t && void 0 !== t;
        }, t;
    }();
    e.Utils = a;
}, function(t) {
    t.exports = {
        keys: [ "CHAT_ALL_RIGHT", "CHAT_ALL_GOOD", "CHAT_ABRACADABRA", "CHAT_ANIMALS", "CHAT_ARE_YOU_COMING", "CHAT_ARE_YOU_LEAVING", "CHAT_ARE_YOU_STAYING", "CHAT_ARE_YOU_HAVING_FUN", "CHAT_BAD", "CHAT_BUSY", "CHAT_BYE", "CHAT_BYE_BYE", "CHAT_BORING", "CHAT_BOUGHT_IT", "CHAT_BUT", "CHAT_BARELY", "CHAT_BECAUSE", "CHAT_CANT_RIGHT_NOW", "CHAT_CHECK_IT_OUT", "CHAT_COME_OVER_HERE", "CHAT_CRUD", "CHAT_DO_YOU_HAVE_A_MIN", "CHAT_DO_YOU_HAVE", "CHAT_DID_YOU_SEE_THAT", "CHAT_DID_YOU_CATCH", "CHAT_DONT_BOTHER", "CHAT_DUDE", "CHAT_DEPENDS", "CHAT_EVERYONE_LOOK", "CHAT_ELEMENTARY", "CHAT_FOLLOW_ME", "CHAT_FRIENDS", "CHAT_FORGET_IT", "CHAT_FUN", "CHAT_FOUND_YOU", "CHAT_FOUND_IT", "CHAT_FUNDERFUL", "CHAT_FREAKY", "CHAT_GO_AWAY", "CHAT_GOOD", "CHAT_GOODBYE", "CHAT_GREETINGS", "CHAT_GOOD_MORNING", "CHAT_GOOD_NIGHT", "CHAT_GOOD_AFTERNOON", "CHAT_GOOD_TO_KNOW", "CHAT_GHOSTS", "CHAT_GREAT", "CHAT_GUESS_AGAIN", "CHAT_GUESS", "CHAT_GOLLY", "CHAT_GOT_TO_GO", "CHAT_HI", "CHAT_HELLO", "CHAT_HELLO_THERE", "CHAT_HEY", "CHAT_HOW_ARE_YOU", "CHAT_HOW", "CHAT_HAPPY", "CHAT_HELP_ME", "CHAT_I_CAUGHT_A", "CHAT_I_GOT_A", "CHAT_I_HAVE_TO_GO", "CHAT_I_HAVE_TO_LEAVE", "CHAT_I_LEVELED_UP", "CHAT_I_LOVE_PRODIGY", "CHAT_I_LIKE_YOUR_HAIR", "CHAT_I_LIKE_YOUR_OUTFIT", "CHAT_I_LIKE_YOUR_HAT", "CHAT_I_LIKE_YOUR_WAND", "CHAT_I_LIKE_YOU_PET", "CHAT_I_LIKE_THIS_PLACE", "CHAT_I_DONT_LIKE_IT_HERE", "CHAT_I_LIKE_IT_HERE", "CHAT_ITS_SPOOKY_HERE", "CHAT_ITS_SUPER_RARE", "CHAT_ITS_TIME", "CHAT_IM_RICH", "CHAT_JUST_KIDDING", "CHAT_JUST_YOU_WAIT", "CHAT_JOKING", "CHAT_JEALOUS", "CHAT_KEEP_GOING", "CHAT_KEEP_IT_UP", "CHAT_KEEP_WALKING", "CHAT_LEAVE_ME_ALONE", "CHAT_LOOK", "CHAT_LOOK_AT_THIS", "CHAT_LOVE_IT", "CHAT_LETS_GO", "CHAT_LETS_BATTLE", "CHAT_LET_ME_SEE", "CHAT_LOCKED", "CHAT_MY_FAVOURITE_IS", "CHAT_MY_FAVOURITE_ITEM_IS", "CHAT_MY_FAVOURITE_PET_IS", "CHAT_MAYBE", "CHAT_MAKE_ME", "CHAT_MADE_IT", "CHAT_MANY_THANKS", "CHAT_MADE_TONS_OF_GOLD", "CHAT_NEAT", "CHAT_NO", "CHAT_NOT_RIGHT_NOW", "CHAT_NOT_TODAY", "CHAT_NEVER_MIND", "CHAT_NAH", "CHAT_NO_CAN_DO", "CHAT_NEVER", "CHAT_NOW_QUESTION", "CHAT_NOW", "CHAT_NO_WAY", "CHAT_OVER", "CHAT_OVER_HERE", "CHAT_ONE_OF_THESE_IS", "CHAT_OKAY", "CHAT_OMINOUS", "CHAT_PUYOY", "CHAT_PERHAPS", "CHAT_PARTY_TIME", "CHAT_PRETTY_COOL", "CHAT_PRACTICE", "CHAT_QUACK_QUACK", "CHAT_QUITE", "CHAT_QUIET", "CHAT_RIGHT", "CHAT_RIGHT_BEHIND_YOU", "CHAT_RIBBIT", "CHAT_RIGHT_OVER_HERE", "CHAT_RIGHT_THERE", "CHAT_SEE_YOU_LATER", "CHAT_SEE_YA", "CHAT_SEE", "CHAT_SORRY", "CHAT_SAFE_AND_SOUND", "CHAT_SHHH", "CHAT_SOUNDS_LIKE", "CHAT_SEEMS_LIKE_IT", "CHAT_SOMEONE_SAID_SO", "CHAT_SOMEDAY", "CHAT_THANK_YOU", "CHAT_THERE_YOU_ARE", "CHAT_THINK_ABOUT_IT", "CHAT_TIME_FOR_BED", "CHAT_TIME_FOR_DINNER", "CHAT_TIME_FOR_LUNCH", "CHAT_TIME_FOR_SUPPER", "CHAT_TIME_TO_GET_UP", "CHAT_TIME_TO_GO", "CHAT_TERRIBLE", "CHAT_TELL_YOU_WHAT", "CHAT_VERY_GOOD", "CHAT_WHATS_UP", "CHAT_WHO", "CHAT_WHO_ARE_YOU", "CHAT_WHY", "CHAT_WHAT", "CHAT_WHERE", "CHAT_YES", "CHAT_YOU_COMING", "CHAT_YOU_LOOK_COOL", "CHAT_YOU_STILL_THERE", "CHAT_YOLO", "CHAT_YOURE_WELCOME", "CHAT_ZZZ", "CHAT_DRAGONS", "CHAT_DRAGONS_COMING", "CHAT_DRAGONS_HERE", "CHAT_DRAGONS_COOL", "CHAT_DRAGONS_WANT", "CHAT_DRAGONS_SEEN", "CHAT_CHILL_CHAR_COOL", "CHAT_TIDUS_COOL", "CHAT_ECLIPSE_COOL", "CHAT_LUMA_COOL", "CHAT_CHILL_CHAR_FAVOURITE", "CHAT_TIDUS_FAVOURITE", "CHAT_ECLIPSE_FAVOURITE", "CHAT_LUMA_FAVOURITE", "CHAT_DRAGONS_LIKE", "CHAT_ABRACA_DAB_RA", "CHAT_FEEL_LIKE_DANCING", "CHAT_LETS_DANCE", "CHAT_SHOW_FUNNY_FACE", "CHAT_ASK_PARENTS", "CHAT_PARENTS_BEST", "CHAT_MEMBER_AWESOME", "CHAT_TEACHER_AWESOME", "CHAT_BUNNIES_ARE_BEST", "CHAT_I_LIKE_BUNNIES", "CHAT_GO_BUNNY_BANDITS", "CHAT_DO_YOU_LIKE_BUNNIES", "CHAT_HIPPITY_HOP", "CHAT_HOP_HOP", "CHAT_HARRIET_HOOD_RULES", "CHAT_FOXES_ARE_BEST", "CHAT_I_LIKE_FOXES", "CHAT_GO_FOX_KNIGHTS", "CHAT_DO_YOU_LIKE_FOXES", "CHAT_WHAT_DOES_FOX_SAY", "CHAT_DON_ZORRO_FANTASTICO" ]
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(123), r = i(13), s = i(0), l = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            return i.data.target = "PVP", i;
        }
        return n(e, t), e.prototype.startLoading = function(t) {
            for (var e in t) this.data[e] = t[e];
            this.game.state.start("PVPLoading");
        }, e.prototype.create = function() {
            this.zoneName = this.data.zoneName, this.playerA = this.data.playerA, 
            this.playerB = this.data.playerB, this.game.prodigy.network.leaveZone(), 
            this.game.prodigy.network.setZone(this), this.inCombat = !1, this.processConnections = !0, 
            this.loadingState = "request_data", this.timeout = new Date().getTime() + 6e4, 
            this.heartbeat = new Date().getTime() + 3e3, this.startTime = new Date().getTime(), 
            this.complete = !1, this.isLoaded = !1, this.isReady = !1, this.playerLoaded = !1, 
            this.isProcessed = !1, this.overlay = this.game.prodigy.create.element(void 0), 
            this.game.prodigy.create.panel(this.overlay, 0, 0, 32, 5, "dark"), this.game.prodigy.create.panel(this.overlay, 0, 200, 32, 8, "light"), 
            this.game.prodigy.create.panel(this.overlay, 0, 520, 32, 5, "dark");
            var t = this.overlay.add(new Phaser.TileSprite(this.game, 0, 199, 1280, 40, "atlas-161", "pvp-top")), e = this.overlay.add(new Phaser.TileSprite(this.game, 0, 481, 1280, 40, "atlas-161", "pvp-top2"));
            this.game.add.tween(t.tilePosition).to({
                x: 400
            }, 1e4, Phaser.Easing.Linear.None, !0).repeat(9999), this.game.add.tween(e.tilePosition).to({
                x: -400
            }, 1e4, Phaser.Easing.Linear.None, !0).repeat(9999);
            var i = this.playerA, a = this.playerB;
            this.game.prodigy.create.player(this.overlay, i, 2, 400, 450).reload();
            var n = this.game.prodigy.create.player(this.overlay, a, 2, 880, 450);
            n.reload(), n.flip(), this.game.prodigy.create.font(this.overlay, 0, 350, this.game.prodigy.gameContainer.Localizer.getText("PVP_VERSUS_SHORT"), {
                size: 80,
                align: "center",
                width: 1280
            });
            var o = this.game.prodigy.create.panel(this.overlay, 200, 60, 22, 2, "banner");
            this.game.prodigy.create.font(o, 40, 20, "$" + i.getLevel(), {
                size: 36,
                fontID: 9
            }), this.game.prodigy.create.font(o, 40, 20, i.getName(), {
                size: 36,
                fontID: 9,
                align: "center",
                width: 800
            }), this.game.prodigy.create.font(o, 40, 20, i.isMember ? " [membership]" : "", {
                size: 36,
                fontID: 9,
                align: "right",
                width: 800
            });
            var r = this.game.prodigy.create.panel(this.overlay, 200, 580, 22, 2, "banner");
            this.game.prodigy.create.font(r, 40, 20, "$" + a.getLevel(), {
                size: 36,
                fontID: 9
            }), this.game.prodigy.create.font(r, 40, 20, a.getName(), {
                size: 36,
                fontID: 9,
                align: "center",
                width: 800
            }), this.game.prodigy.create.font(r, 40, 20, a.isMember ? " [membership]" : "", {
                size: 36,
                fontID: 9,
                align: "right",
                width: 800
            }), this.start();
        }, e.prototype.start = function() {
            var t = s.Util.isValid(this.data.assets) ? this.data.assets : [];
            this.game.prodigy.load.assets(t, this.loaded.bind(this));
        }, e.prototype.update = function() {
            t.prototype.update.call(this), this.complete || this.checkLoaded(), 
            this.processConnections && s.Util.isValid(this.timeout) && this.timeout < new Date().getTime() && (this.processConnections = !1, 
            delete this.heartbeat, delete this.timeout, this.data.callback()), this.processConnections && s.Util.isValid(this.heartbeat) && this.heartbeat < new Date().getTime() && (this.emitMessage({
                action: this.loadingState,
                data: {}
            }), this.heartbeat = new Date().getTime() + 3e3);
        }, e.prototype.completed = function() {
            this.complete = !0, this.game.state.states.PVP.playerA = this.playerA, 
            this.game.state.states.PVP.playerB = this.playerB, this.game.state.states.PVP.teamA = this.teamA, 
            this.game.state.states.PVP.teamB = this.teamB, this.game.state.states.PVP.mods = this.data.mods, 
            this.game.state.states.PVP.zoneName = this.zoneName, this.game.state.states.PVP.challengerID = this.data.challengerID, 
            this.game.state.states.PVP.callback = this.data.callback, this.game.state.start("PVP");
        }, e.prototype.checkLoaded = function() {
            this.isLoaded && this.playerLoaded && this.isReady && (this.isProcessed = !0);
        }, e.prototype.onMessage = function(t) {
            s.Util.isValid(this.game) && ("request_data" === t.action ? this.emitMessage({
                action: "data",
                data: {
                    userID: this.game.prodigy.player.userID,
                    equipment: this.game.prodigy.player.equipment.data,
                    appearance: this.game.prodigy.player.appearance.data,
                    data: this.game.prodigy.player.data,
                    pets: this.game.prodigy.player.kennel.data
                }
            }) : "request_init" === t.action && this.isLoaded && this.playerLoaded ? this.emitMessage({
                action: "init",
                data: {}
            }) : "request_action" === t.action && s.Util.isValid(this.currentManager.currentAction) ? this.emitMessage({
                action: "action",
                data: this.currentManager.currentAction
            }) : "request_next" === t.action && s.Util.isValid(this.currentManager.nextAction) ? this.emitMessage({
                action: "next",
                data: this.currentManager.nextAction
            }) : "data" === t.action && "request_data" === this.loadingState ? (this.loadingState = "loading", 
            this.playerB = new r.Player(this.game, !0), this.playerB.init(t.data), 
            this.teamA = this.game.prodigy.battle.getTeam(this.playerA), this.teamB = this.game.prodigy.battle.getTeam(this.playerB), 
            this.game.prodigy.load.assets(o.BattleController.getAssets("", this.teamA, this.teamB), this.loadedPlayer.bind(this))) : "init" === t.action && "request_init" === this.loadingState ? (this.loadingState = "working", 
            this.isReady = !0) : "loading" === t.action || t.action, this.timeout = new Date().getTime() + 6e4);
        }, e.prototype.emitMessage = function(t) {
            t.target = this.getOtherPlayerID(), this.game.prodigy.network.emitMessage(t);
        }, e.prototype.getOtherPlayerID = function() {
            var t = this.playerB.userID;
            return this.game.prodigy.player.userID === t && (t = this.playerA.userID), 
            s.Util.isValid(t) && t > 0 ? t : this.data.challengerID;
        }, e.prototype.loadedPlayer = function(t, e) {
            s.Util.isValid(this.game) && (this.playerLoaded = e, e && (this.loadingState = "request_init"));
        }, e.prototype.isLoadingComplete = function() {
            return !this.complete && this.isProcessed && new Date().getTime() - this.startTime >= this.data.time;
        }, e;
    }(i(171).Loading);
    e.PVPLoading = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(143), r = i(2), s = i(41), l = i(61), h = i(21), c = i(30), p = i(0), u = i(62), d = function(t) {
        function e(e) {
            var i = t.call(this, e, "login", "login", [ "atlas-26", "sfx-18", "sfx-31", "atlas-21", "atlas-24", "atlas-22", "atlas-90" ]) || this;
            return i.skipUrlParams = !1, i.loginBox = null, i.usernameField = null, 
            i.passwordField = null, i.loginButton = null, i.progressBox = null, 
            i.error = null, i.closeButton = null, i.createAccountButton = null, 
            i.googleLoginButton = null, i.googleButtonHeightOffset = null, i.canvas = null, 
            i.username = null, i.password = null, i.tutorial = !1, i.newUsername = null, 
            i.newPassword = null, i.showMenu = !1, i;
        }
        return n(e, t), e.onGoogleAuthLoaded = function(t, i) {
            if (e.isGoogleAuthLoaded = t, t) p.Util.log("Login.onGoogleAuthLoaded - google auth lib loaded successfully"), 
            p.Util.isValid(e.onGoogleAuthLoadedCallback) && (e.onGoogleAuthLoadedCallback(), 
            e.onGoogleAuthLoadedCallback = null); else {
                var a = p.Util.isValid(i) ? i : {
                    error: "no error specified",
                    details: "no details specified"
                };
                p.Util.log("Login.onGoogleAuthLoaded - error loading google auth lib. The error is: " + a.error + " \n details: " + a.details, p.Util.ERROR);
            }
        }, e.prototype.create = function() {
            this.game.prodigy.network.logout(!0), this.game.prodigy.debug.setup(this.game);
            try {
                o("#first-loading-screen").remove();
            } catch (t) {}
            try {
                c.Device.isNativeApp() && 1 === c.Device.nativeAppVersion() && webkit.messageHandlers.setGameVisible.postMessage(0);
            } catch (t) {}
            t.prototype.create.call(this);
        }, e.prototype.screenSetup = function() {
            var i = this, a = this.game.prodigy.gameContainer.Localizer;
            this.background.add(this.game.prodigy.create.sprite(0, 0, "singleImage-16")), 
            this.loginBox = this.game.prodigy.create.element(this.background), this.usernameField = l.InputField.createInputField(this.game, this.loginBox, "username", "", 100, 230, 300, 40), 
            this.usernameField.hide(0), this.usernameField.setLabel(this.loginBox, a.getText("TEXTBOX_TITLE_USERNAME"));
            var n = p.Util.getCookie("prodigyUsername");
            p.Util.isValid(n) && this.usernameField.setValue(n), this.passwordField = l.InputField.createInputField(this.game, this.loginBox, "password", "", 100, 310, 300, 40, "password"), 
            this.passwordField.hide(0), this.passwordField.setLabel(this.loginBox, a.getText("TEXTBOX_TITLE_PASSWORD")), 
            this.loginButton = this.game.prodigy.create.button(this.loginBox, 100, 380, "atlas-26", "login", this.startLogin.bind(this)), 
            this.progressBox = this.game.prodigy.create.element(this.background, 100, 250), 
            this.error = this.game.prodigy.create.font(this.progressBox, 0, 0, "", {
                width: 300,
                align: "center"
            }), this.closeButton = this.game.prodigy.create.textButton(this.progressBox, 0, 100, {
                icon: "close",
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_OKAY"),
                size: h.TextButton.MED
            }, this.showLogin.bind(this, !0)), this.error.visible = !1, this.closeButton.visible = !1, 
            this.progressBox.visible = !1, this.createAccountButton = this.game.prodigy.create.button(this.background, 61, 540, "atlas-26", "student", this.createAccount.bind(this)), 
            this.googleLoginButton = document.createElement("button"), this.googleLoginButton.style.position = "absolute", 
            this.googleLoginButton.style.display = "block", this.googleLoginButton.style.left = "103px", 
            this.googleLoginButton.style.top = "480px", this.googleLoginButton.style.height = "65px", 
            this.googleLoginButton.style.width = "285px", this.googleLoginButton.setAttribute("id", "google-button"), 
            this.googleButtonHeightOffset = 0, this.canvas = o("#game-container canvas"), 
            document.getElementById("external-ui").appendChild(this.googleLoginButton), 
            this.googleLoginButton.addEventListener("click", this.onGoogleLoginButtonClick.bind(this)), 
            this.googleLoginButton.addEventListener("mouseenter", function() {
                i.googleLoginButton.disabled || (i.googleButtonHeightOffset = 3);
            }), this.googleLoginButton.addEventListener("mouseleave", function() {
                i.googleButtonHeightOffset = 0;
            }), this.googleLoginButton.style.backgroundImage = "url('" + r.GameConstants.get("GameConstants.Build.ASSETS_LOCATION") + "v1/single-images/login-google-signin/1/google-signin-btn.png')", 
            this.googleLoginButton.style.backgroundRepeat = "no-repeat", this.googleLoginButton.style.backgroundSize = "100% 100%", 
            this.googleLoginButton.style.backgroundColor = "transparent", e.isGoogleAuthLoaded || (this.googleLoginButton.disabled = !0, 
            o("#google-button").css({
                opacity: .65,
                cursor: "default"
            }), e.onGoogleAuthLoadedCallback = function() {
                e.isGoogleAuthLoaded && (i.googleLoginButton.disabled = !1, o("#google-button").css({
                    opacity: 1,
                    cursor: "default"
                }));
            });
            var s = this.game.prodigy.create.panel(this.background, 100, 660, 4, 1, "lb");
            s.alpha = .25, this.game.prodigy.create.font(this.background, s.x, s.y + 8, a.getText("LOGIN_PRIVACY_POLICY"), {
                size: 16,
                width: 160,
                align: "center"
            }), s.setClickable(u.NetworkManager.openWebsite.bind(this.game.prodigy.network, "www.prodigygame.com/privacy-policy/")), 
            (s = this.game.prodigy.create.panel(this.background, 280, 660, 3, 1, "lb")).alpha = .25, 
            this.game.prodigy.create.font(this.background, s.x, s.y + 8, a.getText("LOGIN_WEBSITE"), {
                size: 16,
                width: 120,
                align: "center"
            }), s.setClickable(u.NetworkManager.openWebsite.bind(this.game.prodigy.network, "www.prodigygame.com")), 
            this.showLogin(!0), this.checkForAdmin(), this.skipUrlParams ? this.skipUrlParams = !1 : this.tryToStartFlowFromUrlParams(), 
            this.displayGameVersion(), t.prototype.screenSetup.call(this);
        }, e.prototype.displayGameVersion = function() {
            r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.create.font(this.background, 975, 700, "" + r.GameConstants.get("GameConstants.Build.VERSION"), {
                size: 16,
                width: 300,
                align: "right"
            });
        }, e.prototype.avoidParsingUrlParamsNextScreenSetupCall = function() {
            this.skipUrlParams = !0;
        }, e.prototype.tryToStartFlowFromUrlParams = function() {
            var t = p.Util.getUrlVariable("action"), e = null, i = this.game.prodigy.gameContainer.Localizer;
            if (p.Util.isValid(t)) {
                var a = p.Util.removeParamsFromUrl(window.location.href, [ "action" ]);
                window.history.replaceState({}, "", a), "login" === t ? (e = p.Util.getUrlVariable("idToken"), 
                p.Util.isValid(e) ? (this.gotoLoginMode(i.getText("LOGIN_LOGGING_IN_GOOGLE")), 
                this.loginWithGoogle({
                    idToken: e
                })) : p.Util.log("Login.startFlowFromUrlParams - can't log in with google without an idToken", p.Util.ERROR)) : "create" === t ? (e = p.Util.getUrlVariable("idToken"), 
                p.Util.isValid(e) ? (this.gotoLoginMode(i.getText("GOOGLE_AUTH_CREATING_ACCOUNT")), 
                this.createAccount({
                    idToken: e
                })) : p.Util.log("Login.startFlowFromUrlParams - can't create account with google.  Expected name, email, and idToken url params")) : "auth-with-google" === t && this.authorizeWithGoogle();
            }
        }, e.prototype.checkForAdmin = function() {
            if ("admin" === p.Util.getUrlVariable("accessType")) {
                var t = p.Util.getUrlVariable("userID"), i = p.Util.getUrlVariable("token"), a = p.Util.getUrlVariable("key");
                this.gotoLoginMode(this.game.prodigy.gameContainer.Localizer.getText("LOGIN_LOGGING_IN")), 
                this.game.prodigy.network.adminLogin(parseInt(t), i, a, this.game.prodigy.player, this.onError.bind(this, e.LOGIN_ERROR_KEYS), this.loadSkills.bind(this));
            }
        }, e.prototype.gotoLoginMode = function(t) {
            this.showLogin(!1), this.error.visible = !0, this.error.setText(t);
        }, e.prototype.showLogin = function(t) {
            this.usernameField.setEnabled(t), this.passwordField.setEnabled(t), 
            t && (this.error.visible = !1, this.closeButton.visible = !1), this.progressBox.visible = !t, 
            this.createAccountButton.visible = this.loginBox.visible = t, t ? (this.game.input.setEnterCallback(this.startLogin.bind(this)), 
            this.usernameField.show(100), this.passwordField.show(100), o("#google-button").css({
                opacity: this.googleLoginButton.disabled ? .65 : 1,
                cursor: "default"
            })) : (this.game.input.clearEnterCallback(), this.usernameField.hide(100), 
            this.passwordField.hide(100), o("#google-button").css({
                opacity: 0,
                cursor: "default"
            }));
        }, e.prototype.startLogin = function() {
            this.gotoLoginMode(this.game.prodigy.gameContainer.Localizer.getText("LOGIN_LOGGING_IN")), 
            this.username = this.usernameField.getValue(), this.password = this.passwordField.getValue(), 
            "" === this.username || "" === this.password ? this.onError(e.LOGIN_ERROR_KEYS, null, 400) : window.setTimeout(this.login.bind(this), 1e3);
        }, e.prototype.onGoogleLoginButtonClick = function() {
            var t = this;
            if (c.Device.isNativeApp()) {
                var e = this.game.prodigy.gameContainer.Localizer;
                this.gotoLoginMode(e.getText("GOOGLE_AUTH_PROMPT_BROWSER")), this.game.prodigy.open.messageBox(e.getText("GOOGLE_AUTH_USE_BROWSER_INSTEAD"), function() {
                    try {
                        if (c.Device.nativeAppVersion() > 1) {
                            var t = window.location.href.replace("nativeApp=1", "action=auth-with-google");
                            window.postMessage(JSON.stringify({
                                type: "OPEN_URL_IN_BROWSER",
                                payload: t
                            }), "*");
                        } else webkit.messageHandlers.openWebsiteInBrowser.postMessage(window.location.href.replace("iosApp=1", "action=auth-with-google"));
                    } catch (t) {
                        p.Util.log("Login.onGoogleLoginButtonClick - exception: " + t.message, p.Util.ERROR);
                    }
                }).onClose = function() {
                    t.showLogin(!0);
                };
            } else this.authorizeWithGoogle();
        }, e.prototype.authorizeWithGoogle = function() {
            e.isGoogleAuthLoaded ? (this.gotoLoginMode(this.game.prodigy.gameContainer.Localizer.getText("LOGIN_LOGGING_IN_GOOGLE")), 
            window.gapi.auth2.getAuthInstance().signIn({
                scope: "profile email",
                prompt: "select_account"
            }).then(this.onGoogleAuthorizeSuccess.bind(this), this.onGoogleAuthorizeFail.bind(this))) : p.Util.log("Login.authorizeWithGoogle - the Google auth2 lib is not loaded so we can't prompt for google credentials", p.Util.ERROR);
        }, e.prototype.onGoogleAuthorizeFail = function(t) {
            var e = this;
            p.Util.log("onGoogleAuthorizeFail: " + t.error, p.Util.ERROR);
            var i = this.game.prodigy.gameContainer.Localizer;
            "popup_closed_by_user" === t.error ? this.showLogin(!0) : "popup_blocked_by_browser" === t.error ? this.game.prodigy.open.messageBoxOkay(i.getText("GOOGLE_AUTH_POPUP_BLOCKED"), "OKAY", function() {
                e.showLogin(!0);
            }) : this.showErrorText(i.getText("GOOGLE_AUTH_FAIL_DEFAULT"));
        }, e.prototype.onGoogleAuthorizeSuccess = function(t) {
            p.Util.log("onGoogleLoginSuccess: " + t);
            var e = {
                idToken: t.getAuthResponse().id_token,
                name: t.getBasicProfile().getName(),
                email: t.getBasicProfile().getEmail()
            };
            this.username = e.email, this.loginWithGoogle(e);
        }, e.prototype.loginWithGoogle = function(t) {
            this.game.prodigy.network.loginWithGoogle(t.idToken, this.game.prodigy.player, this.onLoginWithGoogleError.bind(this, t.idToken, e.LOGIN_ERROR_KEYS), this.loadSkills.bind(this));
        }, e.prototype.onLoginWithGoogleError = function(t, e, i, a) {
            if (404 === a) {
                var n = location.host + "/Registration/?token=" + t + "&origin=" + window.location.href;
                u.NetworkManager.openWebsite(n, !1);
            } else this.onError(e, i, a);
        }, e.prototype.login = function() {
            this.game.prodigy.network.login(this.username, this.password, this.game.prodigy.player, this.loadSkills.bind(this), this.onError.bind(this, e.LOGIN_ERROR_KEYS));
        }, e.prototype.loadSkills = function(t) {
            this.game.prodigy.player.username = this.username, this.game.prodigy.player.password = this.password;
            var i = p.Util.isValid(t) ? t : {};
            if (i.username = this.username, i.password = this.password, this.error.visible = !0, 
            this.error.setText(this.game.prodigy.gameContainer.Localizer.getText("LOGIN_LOADING_SKILLS")), 
            p.Util.isValid(this.tutorial) && this.tutorial) {
                var a = p.Util.isValid(this.game.prodigy.player.classIDs) && this.game.prodigy.player.classIDs.length > 0 ? "class_code" : "parent_email";
                this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                    type: a,
                    name: "first_login"
                });
            }
            this.game.prodigy.network.loadSkills(this.game.prodigy.player.userID, this.game.prodigy.player.classIDs, this.loginSuccess.bind(this), this.onError.bind(this, e.SKILLS_ERROR_KEYS));
        }, e.prototype.loginSuccess = function(t) {
            this.game.prodigy.education.initialize(t), this.error.visible = !0, 
            this.error.setText(this.game.prodigy.gameContainer.Localizer.getText("LOGIN_LOADING_WORLDS")), 
            this.game.prodigy.network.getWorldList(this.openPlayer.bind(this), this.openPlayer.bind(this, null));
        }, e.prototype.openPlayer = function(t) {
            var e = !p.Util.isValid(this.game.prodigy.player.data.school) || "" === this.game.prodigy.player.data.school, i = this.game.prodigy.player.data.reset;
            e || i ? (this.game.prodigy.network.sendEvent("create-character"), this.game.prodigy.start("CharCreate", {
                time: 1001
            }, t)) : this.game.prodigy.start("CharSelect", {
                time: 1001
            }, t);
        }, e.prototype.createAccount = function(t) {
            this.showLogin(!1), this.game.prodigy.gameContainer.get(s.ProdigyInjectionIdentifiers.SessionRecorder).startRecording("user-registration-flow"), 
            this.game.prodigy.open.createAccount(t, p.Util.isValid(t) && p.Util.isValid(t.idToken) ? this.loginWithGoogle.bind(this, {
                idToken: t.idToken
            }) : this.startLoginTutorial.bind(this));
        }, e.prototype.startLoginTutorial = function(t, e, i) {
            this.showLogin(!0), this.createAccountButton.visible = !t, t ? (this.newUsername = e, 
            this.newPassword = i, this.usernameField.setValue(""), this.passwordField.setValue(""), 
            this.tutorial = !0) : this.game.prodigy.gameContainer.get(s.ProdigyInjectionIdentifiers.SessionRecorder).stopRecording();
        }, e.prototype.update = function() {
            if (t.prototype.update.call(this), this.tutorial) {
                var e = p.Util.isValid(this.usernameField.getValue()) ? this.usernameField.getValue() : "";
                if ((e = e.toLowerCase()) !== this.newUsername.toLowerCase()) {
                    if (this.usernameField.hasTooltip()) return;
                    this.usernameField.showTooltip("'" + this.newUsername + "'", 330), 
                    this.usernameField.setFocus(!0), this.passwordField.showTooltip(null), 
                    this.loginButton.highlight(!1);
                } else if (this.passwordField.getValue() !== this.newPassword) {
                    if (this.passwordField.hasTooltip()) return;
                    this.passwordField.showTooltip("'" + this.newPassword + "'", 330), 
                    this.passwordField.setFocus(!0), this.usernameField.showTooltip(null), 
                    this.loginButton.highlight(!1);
                } else {
                    if (this.loginButton.isHighlighted()) return;
                    this.loginButton.highlight(!0, 150, 10), this.usernameField.showTooltip(null), 
                    this.passwordField.showTooltip(null);
                }
            }
            this.googleLoginButtonUpdate();
        }, e.prototype.googleLoginButtonUpdate = function() {
            var t = this.canvas.height() / this.game.world.height;
            o("#google-button").height(65 * t);
            var e = this.canvas.width() / this.game.world.width;
            o("#google-button").width(285 * e);
            var i = t * (473 - this.googleButtonHeightOffset), a = 103 * e + parseInt(o("#game-container canvas").css("margin-left"));
            o("#google-button").css({
                top: i,
                left: a
            });
        }, e.prototype.onError = function(t, e, i) {
            var a = this.game.prodigy.network.getErrorMessage(i, t);
            p.Util.isValid(a) || (a = ""), this.showErrorText(a);
        }, e.prototype.showErrorText = function(t) {
            this.error.visible = !0, this.closeButton.visible = !0, this.error.setText(t);
        }, e.prototype.shutdown = function() {
            e.onGoogleAuthLoadedCallback = null, o("#google-button").remove(), t.prototype.shutdown.call(this);
        }, e.onGoogleAuthLoadedCallback = null, e.isGoogleAuthLoaded = !1, e.LOGIN_ERROR_KEYS = {
            200: "NETWORK_ALL_GOOD",
            400: "NETWORK_INCORRECT_USERNAME_PASSWORD",
            401: "NETWORK_INCORRECT_USERNAME_PASSWORD",
            403: "NETWORK_FORBIDDEN",
            503: "NETWORK_OFFLINE",
            500: "NETWORK_OFFLINE",
            0: "NETWORK_OFFLINE"
        }, e.SKILLS_ERROR_KEYS = {
            0: "There was an error loading your skills. Please try again."
        }, e;
    }(i(51).Screen);
    e.Login = d, window.onGooglePlatformLoad = function() {
        p.Util.log("google platform loaded"), window.gapi.load("auth2", function() {
            var t = !1, e = null;
            switch (window.location.host) {
              case "www.prodigygame.com":
              case "prodigygame.com":
                t = !0;
            }
            e = !t && p.Util.isValid(window.prodigyGoogleClientId) ? window.prodigyGoogleClientId : "523759519115-63c0h2vhev83mq90pq4c746ncnnpeh1o.apps.googleusercontent.com", 
            window.gapi.auth2.init({
                client_id: e,
                cookiepolicy: "single_host_origin"
            }).then(function() {
                d.onGoogleAuthLoaded(!0);
            }, function(t) {
                d.onGoogleAuthLoaded(!1, t);
            });
        });
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e) {
            var i = t.call(this, e, "zone-faint", "", []) || this;
            return i.targetZone = "", i.showMenu = !1, i.targetZone = "", i;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.game.prodigy.player.saveEnabled = !1;
        }, e.prototype.start = function() {
            this.game.prodigy.player.changeGold(-100, "Faint");
            var e = this.game.prodigy.dialogue.create();
            e.setText(22), e.setText(23), e.setText({
                callback: this.toZone.bind(this)
            }), e.start("noot"), t.prototype.start.call(this);
        }, e.prototype.toZone = function() {
            o.Util.isValid(this.targetZone) && 0 !== this.targetZone.length ? this.targetZone.indexOf("-") > -1 ? this.game.prodigy.world.teleport(this.targetZone) : (delete this.game.state.states[this.targetZone].startX, 
            delete this.game.state.states[this.targetZone].startY, this.game.prodigy.start(this.targetZone)) : this.game.prodigy.world.teleport("house");
        }, e;
    }(i(51).Screen);
    e.Faint = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(61), s = i(21), l = i(74), h = i(0), c = function(t) {
        function e(e) {
            var i = t.call(this, e, "zone-faint", "", h.Util.isValid(h.Util.getUrlVariable("unlock")) ? [ "singleImage-5", "atlas-19", "atlas-16" ] : [ "singleImage-5", "atlas-19", "atlas-16", "monster-small-125", "monster-small-126", "monster-small-127", "monster-small-128", "monster-small-129" ]) || this;
            return i.off = null, i.contentA = null, i.classCode = null, i.nextButton = null, 
            i.backButton = null, i.error = null, i.codeField = null, i.spinner = null, 
            i;
        }
        return n(e, t), e.prototype.create = function() {
            this.game.prodigy.network.sendToyEvent("char-select", 4), t.prototype.create.call(this), 
            this.game.prodigy.player.saveEnabled = !1;
        }, e.prototype.screenSetup = function() {
            var e = this;
            this.background.add(this.game.prodigy.create.sprite(0, 0, "singleImage-5")), 
            this.game.prodigy.create.panel(this.background, 240, 640, 20, 3, "shine2"), 
            this.off = this.game.prodigy.create.textButton(this.background, 820, 660, {
                icon: "next",
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_NEXT")
            }, this.openWorlds.bind(this)), this.game.prodigy.create.textButton(this.background, 260, 660, {
                icon: "back",
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_BACK")
            }, function() {
                e.game.state.states.Login.avoidParsingUrlParamsNextScreenSetupCall(), 
                e.game.prodigy.network.loggedIn = !1, e.game.prodigy.start("Login");
            });
            var i = this.game.prodigy.create.player(this.content, this.game.prodigy.player, 2, 640, 500);
            i.reload(), i.showName(!0), this.showContentA(), this.showContentB(), 
            t.prototype.screenSetup.call(this);
        }, e.prototype.start = function() {
            h.Util.isValid(h.Util.getUrlVariable("unlock")) && this.game.prodigy.open.toyUnlock(), 
            t.prototype.start.call(this);
        }, e.prototype.showContentA = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            this.contentA = this.game.prodigy.create.panel(this.content, 40, 140, 10, 10, "shine2"), 
            this.contentA.add(new Phaser.TileSprite(this.game, 11, 80, 378, 40, "atlas-161", "blue-top")), 
            this.contentA.add(new Phaser.TileSprite(this.game, 11, 120, 378, 200, "atlas-161", "blue-mid")), 
            this.contentA.add(new Phaser.TileSprite(this.game, 11, 320, 378, 40, "atlas-161", "blue-top2")), 
            this.contentA.add(this.game.prodigy.create.sprite(20, 20, "atlas-21", "wizard")), 
            this.game.prodigy.create.font(this.contentA, 120, 40, t.getText("CHARACTER_SELECT_NEW_TEACHER"), {
                fontID: 9,
                size: 36
            }), this.game.prodigy.create.font(this.contentA, 20, 120, t.getText("CHARACTER_SELECT_ADD_CHARACTER"), {
                fontID: 8,
                width: 360
            });
            var e = this.game.prodigy.create.textButton(this.contentA, 100, 290, {
                icon: "yes",
                text: t.getText("CHARACTER_SELECT_UPDATE")
            }, this.showClassCode.bind(this));
            if (h.Util.isValid(this.game.prodigy.player.owners)) for (var i = 0; i < this.game.prodigy.player.owners.length; i++) {
                if (this.game.prodigy.player.owners[i].startDate >= 143801786e4) return void this.off.highlight(!0, 0, -30);
            }
            e.highlight(!0, 100);
        }, e.prototype.showContentB = function() {
            var t = this.game.prodigy.gameContainer.Localizer, e = this.game.prodigy.create.panel(this.content, 840, 140, 10, 10, "shine2");
            e.add(new Phaser.TileSprite(this.game, 11, 128, 378, 40, "atlas-161", "blue-top")), 
            e.add(new Phaser.TileSprite(this.game, 11, 168, 378, 152, "atlas-161", "blue-mid")), 
            e.add(new Phaser.TileSprite(this.game, 11, 320, 378, 40, "atlas-161", "blue-top2")), 
            e.add(this.game.prodigy.create.sprite(13, -5, "atlas-19", "epics")), 
            this.game.prodigy.create.font(e, 20, 190, t.getText("CHARACTER_SELECT_TOYS"), {
                fontID: 8,
                width: 360
            }), this.game.prodigy.create.textButton(e, 50, 290, {
                size: s.TextButton.MED,
                icon: "play",
                text: t.getText("CHARACTER_SELECT_LEARN")
            }, this.orderToy.bind(this));
        }, e.prototype.orderToy = function() {
            l.ToyStore.openWebsite(this.game, "order-btn", !1);
        }, e.prototype.showClassCode = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            this.overlay = this.content.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small")), 
            this.overlay.width = 1280, this.overlay.height = 720, this.overlay.alpha = .5, 
            this.overlay.inputEnabled = !0, this.classCode = this.game.prodigy.create.element(this.content, 340, 170), 
            this.game.prodigy.create.panel(this.classCode, 0, 0, 12, 8), this.nextButton = s.TextButton.createNextButton(this.game, this.classCode, 350, 370, this.submit.bind(this)), 
            this.backButton = s.TextButton.createCloseButton(this.game, this.classCode, 50, 370, this.closeClassCode.bind(this)), 
            this.game.prodigy.create.font(this.classCode, 10, 25, t.getText("CHARACTER_SELECT_ENTER_CLASS"), {
                size: 30,
                width: 600,
                align: "center"
            }), this.error = this.game.prodigy.create.font(this.classCode, 0, 300, "", {
                width: 600,
                align: "center"
            }), this.codeField = r.InputField.createInputField(this.game, this.content, "classcodeg", "", 640 - .5 * r.InputField.WIDTH_MEDIUM, 285, r.InputField.WIDTH_MEDIUM, r.InputField.HEIGHT_MEDIUM, "textg"), 
            this.codeField.setLabel(this.content, "Class Code:");
            var e = this.classCode.add(this.game.prodigy.create.sprite(40, 200, "atlas-18", "overlay-light"));
            e.alpha = .2, e.width = 520, e.height = 70, e.inputEnabled = !0, e.events.onInputDown.add(this.getCode, this), 
            this.game.prodigy.create.font(this.classCode, 50, 210, t.getText("CHARACTER_SELECT_NO_CLASS_CODE"), {
                size: 20,
                align: "center",
                width: 500
            }), this.spinner = this.classCode.add(this.game.prodigy.create.sprite(300, 125, "atlas-18", "loading")), 
            this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
                angle: 360
            }, 2e3, Phaser.Easing.Linear.None, !0, 0, o.default.MAX_SAFE_INTEGER, !1), 
            this.spinner.visible = !1;
        }, e.prototype.closeClassCode = function() {
            this.overlay.destroy(), this.codeField.hide(0), this.classCode.destroy();
        }, e.prototype.getCode = function() {
            this.codeField.clearEvents(!1), this.game.input.keyboard.clearCaptures(), 
            prodigyWeb.getClassCode.open(this.setCode.bind(this));
        }, e.prototype.setCode = function(t) {
            this.codeField.clearEvents(!0), this.game.input.keyboard.addKeyCapture([ Phaser.Keyboard.BACKSPACE ]), 
            this.codeField.setValue(t);
        }, e.prototype.validationComplete = function(t) {
            var e = this.game.prodigy.gameContainer.Localizer;
            this.spinner.visible = !1, t ? this.game.prodigy.open.message(e.getText("CHARACTER_SELECT_NEW_CLASS_BODY"), this.classCodeComplete.bind(this), "star", e.getText("CHARACTER_SELECT_NEW_CLASS_TITLE")) : (this.backButton.visible = !0, 
            this.nextButton.visible = !0, this.codeField.show(0), this.error.setText(e.getText("CHARACTER_SELECT_ERROR_INVALID_CLASS_CODE")));
        }, e.prototype.classCodeComplete = function() {
            this.closeClassCode(), this.contentA.destroy();
        }, e.prototype.submit = function() {
            var t = this.codeField.getValue();
            return t.length <= 0 ? this.error.setText(this.game.prodigy.gameContainer.Localizer.getText("CHARACTER_SELECT_ERROR_NO_CLASS_CODE")) : (this.codeField.hide(0), 
            this.error.setText(""), this.backButton.visible = !1, this.nextButton.visible = !1, 
            this.spinner.visible = !0, this.game.prodigy.network.attachClassCode(t, this.validationComplete.bind(this, !0), this.validationComplete.bind(this, !1))), 
            !1;
        }, e.prototype.openWorlds = function() {
            var t = this.screenData;
            h.Util.isValid(t) ? this.game.prodigy.open.serverSelectMode(t, this.chooseServer.bind(this)) : (this.game.prodigy.network.sendAnalytics("Get-World-Fail", "", "Login-Events"), 
            this.chooseServer(!1, !1));
        }, e.prototype.chooseServer = function(t, e) {
            e || (t ? this.game.prodigy.network.sendAnalytics("Socket-Success", "", "Login-Events") : this.game.prodigy.network.sendAnalytics("Socket-Fail", "", "Login-Events"), 
            this.game.prodigy.world.enter());
        }, e;
    }(i(51).Screen);
    e.CharSelect = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(41), s = i(4), l = i(13), h = i(0), c = function(t) {
        function e(e) {
            var i = t.call(this, e, "zone-faint", "", [ "singleImage-5", "atlas-19" ]) || this;
            return i.genderTimestamp = 0, i.characterCustomizationTimestamp = 0, 
            i.schoolOrHomeTimestamp = 0, i.signupEndTimestamp = 0, i.charCreateStage = 0, 
            i.next = null, i.playerF = null, i.wizardF = null, i.playerM = null, 
            i.wizardM = null, i.panels = null, i.charCreateDialogue = null, i;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.game.prodigy.network.player.saveEnabled = !1, 
            this.charCreateStage = 0;
        }, e.prototype.screenSetup = function() {
            var e = this;
            this.background.add(this.game.prodigy.create.sprite(0, 0, "singleImage-5")), 
            this.game.prodigy.create.panel(this.foreground, 240, 640, 20, 3, "shine2"), 
            this.next = this.game.prodigy.create.textButton(this.foreground, 820, 660, {
                icon: "next",
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_NEXT")
            }, this.openWorlds.bind(this)), this.game.prodigy.create.textButton(this.foreground, 260, 660, {
                icon: "back",
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_BACK")
            }, this.back.bind(this)), this.playerF = new l.Player(this.game, !0), 
            this.playerF.setDefault("female"), this.wizardF = this.game.prodigy.create.player(this.content, this.playerF, 2, 640, 560), 
            this.playerM = new l.Player(this.game, !0), this.playerM.setDefault("male"), 
            this.wizardM = this.game.prodigy.create.player(this.content, this.playerM, 2, 640, 560), 
            this.wizardM.flip(), this.wizardF.clickCallback = this.showChoices.bind(this, this.wizardF, this.wizardM), 
            this.wizardM.clickCallback = this.showChoices.bind(this, this.wizardM, this.wizardF), 
            this.panels = this.game.prodigy.create.element(this.content), o.GameConstants.get("GameConstants.Build.DEBUG") && (this.game.prodigy.automation.addTrigger({
                ID: "autoclick-female",
                context: this,
                callback: function() {
                    return {
                        x: e.wizardF.worldPosition.x,
                        y: e.wizardF.worldPosition.y - 20
                    };
                }
            }), this.game.prodigy.automation.addTrigger({
                ID: "autoclick-male",
                context: this,
                callback: function() {
                    return {
                        x: e.wizardM.worldPosition.x,
                        y: e.wizardM.worldPosition.y - 20
                    };
                }
            })), t.prototype.screenSetup.call(this);
        }, e.prototype.start = function() {
            this.showWizards(), this.showDialogue(), t.prototype.start.call(this);
        }, e.prototype.shutdown = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this), 
            t.prototype.shutdown.call(this);
        }, e.prototype.showDialogue = function() {
            this.charCreateDialogue = this.game.prodigy.dialogue.create(), this.charCreateDialogue.setText(49), 
            this.charCreateDialogue.start("noot", !0, null, 0);
        }, e.prototype.back = function() {
            0 === this.charCreateStage ? (this.game.state.states.Login.avoidParsingUrlParamsNextScreenSetupCall(), 
            this.game.prodigy.start("Login")) : this.showWizards(), this.charCreateStage = 0;
        }, e.prototype.showWizards = function() {
            this.charCreateStage = 0, this.wizardF.visible = !0, this.wizardF.x = 490, 
            this.wizardF.reload(), this.wizardF.highlight(!0, -50, -200), this.wizardM.visible = !0, 
            this.wizardM.x = 790, this.wizardM.reload(), this.wizardM.highlight(!0, -50, -200), 
            this.wizardM.isFacingLeft() || this.wizardM.flip(), this.next.setInactive(), 
            this.next.highlight(!1), this.panels.visible = !1;
        }, e.prototype.showChoices = function(t, i) {
            var a = this;
            this.genderTimestamp = new Date().getTime();
            var n = this.game.prodigy.gameContainer.Localizer;
            if (0 === this.charCreateStage) {
                this.panels.visible = !0, this.next.setActive(), this.next.highlight(!0), 
                this.game.prodigy.player.appearance = t.source.appearance, this.game.prodigy.network.player = this.game.prodigy.player, 
                this.game.prodigy.player.appearance.setName(null), t.highlight(!1), 
                i.visible = !1, this.charCreateStage = 1, t.x = 640, t.isFacingLeft() && t.flip();
                var o = function(t, e, i, n) {
                    h.Util.isValid(e) && e > 0 && t.source.appearance.setSkinColor(e), 
                    h.Util.isValid(i) && i > 0 && t.source.appearance.setEyeColor(i), 
                    h.Util.isValid(n) && n > 0 && t.source.appearance.setHair(null, n), 
                    t.reload(), t.chat(a.game.seededRandom.pick([ 10 ]), 150);
                }, r = this.game.prodigy.create.element(this.panels, 760, 460), l = this.game.prodigy.create.panel(r, 0, 0, 5, 3, "panel-light"), c = l.add(this.game.prodigy.create.sprite(1, 80, "atlas-18", "panel-pointer"));
                c.scale.x = c.scale.y = -1, this.game.prodigy.create.font(r, 0, -18, n.getText("CHARACTER_CREATE_SKIN_COLOR"), {
                    width: 250,
                    align: "center"
                });
                for (var p = 0; p < e.SKIN_COLORS.length; p++) {
                    var u = e.SKIN_COLORS[p];
                    this.game.prodigy.create.button(r, p % 3 * 80 + 18, 70 * Math.floor(p / 3) + 15, "atlas-21", "empty", o.bind(this, t, u, null, null)).sprite.tint = h.Util.rgbArrayToHex(s.Items.getItemData("skinColor", u).colors[1]);
                }
                r = this.game.prodigy.create.element(this.panels, 760, 260), (c = (l = this.game.prodigy.create.panel(r, 0, 0, 5, 3, "panel-light")).add(this.game.prodigy.create.sprite(1, 100, "atlas-18", "panel-pointer"))).scale.x = -1, 
                this.game.prodigy.create.font(r, 0, -18, n.getText("CHARACTER_CREATE_EYE_COLOR"), {
                    width: 250,
                    align: "center"
                });
                for (p = 0; p < e.EYE_COLORS.length; p++) {
                    u = e.EYE_COLORS[p];
                    this.game.prodigy.create.button(r, p % 3 * 80 + 18, 70 * Math.floor(p / 3) + 15, "atlas-21", "empty", o.bind(this, t, null, u, null)).sprite.tint = h.Util.rgbArrayToHex(s.Items.getItemData("eyeColor", u).colors[0]);
                }
                r = this.game.prodigy.create.element(this.panels, 270, 460), (l = this.game.prodigy.create.panel(r, 0, 0, 5, 3, "panel-light")).add(this.game.prodigy.create.sprite(249, 80, "atlas-18", "panel-pointer")).scale.y = -1, 
                this.game.prodigy.create.font(r, 0, -18, n.getText("CHARACTER_CREATE_HAIR_COLOR"), {
                    width: 250,
                    align: "center"
                });
                for (p = 0; p < e.HAIR_COLORS.length; p++) {
                    u = e.HAIR_COLORS[p];
                    (y = this.game.prodigy.create.button(r, p % 3 * 80 + 18, 70 * Math.floor(p / 3) + 15, "atlas-21", "empty", o.bind(this, t, null, null, u))).sprite.tint = h.Util.rgbArrayToHex(s.Items.getItemData("hairColor", u).colors[2]);
                }
                var d = function(t, e) {
                    e.source.appearance.setHair(t), e.reload(), e.chat(a.game.seededRandom.pick([ 10 ]), 150);
                };
                r = this.game.prodigy.create.element(this.panels, 270, 260), (l = this.game.prodigy.create.panel(r, 0, 0, 5, 3, "panel-light")).add(this.game.prodigy.create.sprite(249, 100, "atlas-18", "panel-pointer")), 
                this.game.prodigy.create.font(r, 0, -18, n.getText("CHARACTER_CREATE_HAIR_STYLE"), {
                    width: 250,
                    align: "center"
                });
                var g = "male" === t.source.appearance.getGender() ? e.BOY_HAIR_STYLES : e.GIRL_HAIR_STYLES;
                for (p = 0; p < g.length; p++) {
                    var y = this.game.prodigy.create.button(r, p % 3 * 80 + 18, 70 * Math.floor(p / 3) + 15, "atlas-21", "empty", d.bind(this, g[p], t));
                    this.game.prodigy.create.font(y, 12, 4, "" + (p + 1), {
                        size: 36,
                        fontID: 9
                    }), y.sprite.tint = 8969872;
                }
            }
        }, e.prototype.openWorlds = function() {
            var t = this.game.prodigy.gameContainer.get(r.ProdigyInjectionIdentifiers.SessionRecorder);
            t.isRecording() && t.stopRecording(), this.characterCustomizationTimestamp = new Date().getTime(), 
            this.charCreateDialogue.close();
            var e = this.screenData;
            h.Util.isValid(e) ? this.game.prodigy.open.serverSelectMode(e, this.chooseServer.bind(this), this.onSchoolSelect.bind(this), this.onHomeSelect.bind(this)) : (this.game.prodigy.network.sendAnalytics("Get-World-Fail", "", "Login-Events"), 
            this.chooseServer(!0, !1));
        }, e.prototype.chooseServer = function(t, e) {
            if (e) this.showDialogue(); else {
                this.charCreateDialogue.close(), t ? this.game.prodigy.network.sendAnalytics("Socket-Success", "", "Login-Events") : this.game.prodigy.network.sendAnalytics("Socket-Fail", "", "Login-Events"), 
                this.signupEndTimestamp = new Date().getTime(), delete this.game.prodigy.player.data.reset, 
                this.game.prodigy.player.data.school = "none", this.game.prodigy.player.data.startDate = new Date().getTime();
                var i = h.Util.isValid(this.game.prodigy.player.classIDs) && this.game.prodigy.player.classIDs.length > 0 ? "class_code" : "parent_email";
                this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                    type: i,
                    name: "gender",
                    timestamp: this.genderTimestamp
                }), this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                    type: i,
                    name: "character_customization",
                    timestamp: this.characterCustomizationTimestamp
                }), this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                    type: i,
                    name: "school_or_home",
                    timestamp: this.schoolOrHomeTimestamp
                }), this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                    type: i,
                    name: "signup_end",
                    timestamp: this.signupEndTimestamp
                }), this.game.prodigy.world.enter();
            }
        }, e.prototype.onSchoolSelect = function() {
            this.schoolOrHomeTimestamp = new Date().getTime();
        }, e.prototype.onHomeSelect = function() {
            this.schoolOrHomeTimestamp = new Date().getTime();
        }, e.SKIN_COLORS = [ 1, 2, 3, 4, 5 ], e.EYE_COLORS = [ 1, 2, 3, 4, 6, 8 ], 
        e.HAIR_COLORS = [ 1, 2, 3, 4, 5, 6 ], e.BOY_HAIR_STYLES = [ 19, 20, 21, 22 ], 
        e.GIRL_HAIR_STYLES = [ 5, 7, 11, 13 ], e;
    }(i(51).Screen);
    e.CharCreate = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(127), r = i(176), s = i(4), l = i(126), h = function(t) {
        function e(e) {
            var i = t.call(this, e, {
                zoneName: "zone-museum",
                atlas: "atlas-117"
            }, [ "atlas-117" ]) || this;
            return i.area = [ [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0 ], [ 0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0 ], [ 0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0 ], [ 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0 ], [ 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0 ], [ 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0 ], [ 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0 ], [ 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0 ], [ 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0 ], [ 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0 ], [ 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0 ], [ 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0 ], [ 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0 ], [ 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0 ], [ 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1 ], [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ], [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ], [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ], [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ] ], 
            i.startX = 640, i.startY = 545, i;
        }
        return n(e, t), e.prototype.create = function(e) {
            void 0 === e && (e = "dino-1"), t.prototype.create.call(this, "dino-1");
        }, e.prototype.screenSetup = function() {
            t.prototype.screenSetup.call(this), this.content.add(this.game.prodigy.create.sprite(196, 522, "atlas-117", "rail", new Phaser.Point(0, 1))), 
            this.content.add(this.game.prodigy.create.sprite(1084, 522, "atlas-117", "rail", new Phaser.Point(0, 1))).scale.x = -1, 
            this.path.addCallback(3, this.toDino.bind(this), !0);
            var e = this.game.prodigy.dialogue.create();
            o.DinoDig.getNewFossils(this.game.prodigy.player.backpack).length > 0 && e.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("MUSEUM_INTRO"),
                face: 0
            });
            for (var i, a = [ {
                ID: 13,
                x: 916,
                y: 506,
                nx: 949,
                ny: 490
            }, {
                ID: 14,
                x: 362,
                y: 511,
                nx: 331,
                ny: 490
            }, {
                ID: 15,
                x: 1192,
                y: 707,
                nx: 1216,
                ny: 690
            }, {
                ID: 16,
                x: 85,
                y: 688,
                nx: 65,
                ny: 690
            }, {
                ID: 17,
                x: 290,
                y: 145
            }, {
                ID: 18,
                x: 390,
                y: 145
            }, {
                ID: 19,
                x: 490,
                y: 145
            }, {
                ID: 20,
                x: 590,
                y: 145
            }, {
                ID: 21,
                x: 690,
                y: 145
            }, {
                ID: 22,
                x: 790,
                y: 145
            }, {
                ID: 23,
                x: 890,
                y: 145
            }, {
                ID: 24,
                x: 990,
                y: 145
            } ], n = 0; n < a.length; n++) (i = a[n]).full = this.game.prodigy.create.element(this.content, i.x, i.y), 
            i.empty = this.game.prodigy.create.element(this.content, i.nx || i.x, i.ny || i.y), 
            this.processFossil(i) || this.game.prodigy.player.backpack.canCraft("fossil", i.ID) && (e.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("MUSEUM_CRAFT_FOSSILS_0", s.Items.getItem("fossil", i.ID).data.name),
                face: 1,
                audio: l.DynoZone.AUDIO[1]
            }), e.setText({
                callback: this.unlockFossil.bind(this, i)
            }), e.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("MUSEUM_CRAFT_FOSSILS_1"),
                face: 1,
                anim: 2
            }));
            e.setText({
                callback: this.checkRewards.bind(this)
            }), e.start("scoog");
        }, e.prototype.checkRewards = function() {
            for (var t = !0, e = 13; e <= 24; e++) 0 === this.game.prodigy.player.backpack.hasItem("fossil", e) && (t = !1);
            if (t) {
                var i = [];
                if (0 === this.game.prodigy.player.backpack.hasItem("outfit", 39) && i.push({
                    type: "outfit",
                    ID: 39
                }), 0 === this.game.prodigy.player.backpack.hasItem("hat", 44) && i.push({
                    type: "hat",
                    ID: 44
                }), i.length > 0) {
                    var a = this.game.prodigy.dialogue.create();
                    a.setText({
                        text: this.game.prodigy.gameContainer.Localizer.getText("MUSEUM_COLLECTED_ALL_FOSSILS"),
                        face: 1,
                        audio: l.DynoZone.AUDIO[1]
                    }), a.setText({
                        callback: this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, i, null, null, "museum")
                    }), a.start("scoog");
                }
            }
        }, e.prototype.unlockFossil = function(t) {
            this.game.prodigy.player.backpack.craft("fossil", t.ID), this.processFossil(t, !0);
        }, e.prototype.processFossil = function(t, e) {
            var i;
            if (void 0 === e && (e = !1), this.game.prodigy.player.backpack.hasItem("fossil", t.ID) > 0) return t.type = "fossil", 
            t.full.removeAll(!0), t.ID < 17 ? ((i = t.full.add(this.game.prodigy.create.sprite(0, 0, "atlas-117", t.ID))).x = -i.width / 2, 
            i.y = -i.height) : t.full.add(this.game.prodigy.icon.createFromData(t, 0, 0, new Phaser.Point(.5, 1))), 
            t.full.visible = !0, t.empty.visible = !1, e && this.game.add.tween(t.full.scale).to({
                x: 1.2,
                y: 1.2
            }, 500, Phaser.Easing.Quadratic.Out).to({
                x: 1,
                y: 1
            }, 500, Phaser.Easing.Quadratic.In).start(), !0;
            t.empty.removeAll(!0), (i = t.empty.add(this.game.prodigy.create.sprite(0, 0, "atlas-117", "empty"))).x = -i.width / 2, 
            i.y = -i.height;
            var a = s.Items.getItem("fossil", t.ID).data.recipe[0], n = this.game.prodigy.player.backpack.hasItem(a.type, a.ID);
            return this.game.prodigy.create.font(t.empty, i.x - 50, i.y + 27, n + "/" + a.N, {
                width: 180,
                align: "center"
            }), t.empty.visible = !0, t.full.visible = !1, !1;
        }, e.prototype.toDino = function() {
            this.game.prodigy.world.teleport("dyno-A0");
        }, e;
    }(r.WalkableScreen);
    e.Museum = h;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t(t) {
            this.randomDataGenerator = t;
        }
        return t.prototype.frac = function(t) {
            this.randomDataGenerator.sow([ t ]);
            var e = this.randomDataGenerator.frac();
            return this.randomDataGenerator.sow([ Date.now() * Math.random() ]), 
            e;
        }, t.prototype.pick = function(t, e) {
            this.randomDataGenerator.sow([ e ]);
            var i = this.randomDataGenerator.pick(t);
            return this.randomDataGenerator.sow([ Date.now() * Math.random() ]), 
            i;
        }, t.prototype.shuffleArray = function(t, e) {
            for (var i, a = t.length; 0 !== a; ) {
                i = Math.floor(this.frac(e + a) * a), a--;
                var n = t[i];
                t[i] = t[a], t[a] = n;
            }
            return t;
        }, t;
    }();
    e.SeededRandom = a;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(0), o = function() {
        function t(t) {
            this.game = null, this.assetsArray = [], this.loading = !1, this.loader = null, 
            this.game = t, setInterval(this.process.bind(this), 100);
        }
        return t.prototype.setLoader = function(t) {
            this.loader = t, this.loader.crossOrigin = "anonymous", this.loader.baseURL = a.GameConstants.get("GameConstants.Build.ASSETS_LOCATION"), 
            this.loader.onLoadComplete.add(this.loadComplete.bind(this), this);
        }, t.prototype.assets = function(e, i) {
            if ("string" == typeof e) {
                for (var a = 0; a < this.assetsArray.length; a++) if (1 === this.assetsArray[a].tags.length && this.assetsArray[a].tags[0] === e) return void this.assetsArray[a].callbacks.push(i);
                this.assetsArray.push({
                    tags: [ e ],
                    callbacks: [ i ],
                    retry: t.RETRY_TOTAL
                });
            } else this.assetsArray.push({
                tags: e,
                callbacks: [ i ],
                retry: t.RETRY_TOTAL
            });
        }, t.prototype.loadComplete = function() {
            for (var t = this.assetsArray.length - 1; t >= 0; t--) {
                for (var e = this.assetsArray[t], i = !1, a = !1, o = 0; o < e.tags.length; o++) this.isFileLoaded(e.tags[o]) || (a = !0, 
                n.Util.isValid(this.game.prodigy.assets.assets[e.tags[o]]) && (this.game.prodigy.assets.assets[e.tags[o]].noCache = !0));
                if (a) {
                    if (e.retry <= 0 && (i = !0, n.Util.isValid(e.callbacks))) for (var r = 0; r < e.callbacks.length; r++) n.Util.isValid(e.callbacks[r]) && e.callbacks[r](e.tags, !1);
                } else if (i = !0, n.Util.isValid(e.callbacks)) for (r = 0; r < e.callbacks.length; r++) n.Util.isValid(e.callbacks[r]) && e.callbacks[r](e.tags, !0);
                i && this.assetsArray.splice(t, 1);
            }
            this.loading = !1;
        }, t.prototype.process = function() {
            if (!(!n.Util.isValid(this.loader) || this.loading || this.assetsArray.length <= 0)) {
                for (var e = new Date().getTime(), i = !1, a = 0; a < this.assetsArray.length; a++) {
                    var o = this.assetsArray[a];
                    if (!n.Util.isValid(o.nextRetry) || o.nextRetry <= e) {
                        i = !0, o.retry--, o.nextRetry = e + t.RETRY_TIME;
                        for (var r = 0; r < o.tags.length; r++) this.processFile(o.tags[r]);
                    }
                }
                i && (this.loading = !0, this.loader.start());
            }
        }, t.prototype.processFile = function(t) {
            if (n.Util.isValid(t) && "" !== t && !this.isFileLoaded(t)) try {
                var e = this.game.prodigy.assets.getAsset(t), i = n.Util.isValid(e.fullURL) ? e.fullURL : "" + e.base + e.url, a = n.Util.isValid(e.noCache) && e.noCache ? "?r=" + new Date().getTime() : "";
                if (!n.Util.isValid(i)) return;
                switch (e.type) {
                  case "json":
                    this.loader.json(t, i + a, !0);
                    break;

                  case "sprite":
                    this.loader.image(t, i + a, !1);
                    break;

                  case "spritesheet":
                    n.Util.isValid(e.fullURL) || n.Util.isValid(e.base) || (i = "v1/spritesheets/" + t + "/" + e.v + "/" + t + ".png");
                    var o = e.w, r = e.h;
                    this.loader.spritesheet(t, i + a, o, r);
                    break;

                  case "sfx":
                  case "bgm":
                    var s = n.Util.isValid(e.filename) ? e.filename : t;
                    i = "v1/audio/" + s + "/" + e.v + "/" + s, this.loader.audio(t, [ i + ".ogg" + a, i + ".mp3" + a ], !0);
                    break;

                  case "atlas":
                    var l = n.Util.isValid(e.filename) ? e.filename : e.key;
                    i = "v1/atlases/" + (l = n.Util.isValid(l) ? l : t) + "/" + e.v + "/" + l, 
                    this.loader.atlasJSONHash(t, i + ".png", i + ".json" + a);
                    break;

                  case "spine":
                    i = "v1/spine/" + (l = n.Util.isValid(e.filename) ? e.filename : t) + "/" + e.v + "/" + l + ".json" + a, 
                    this.loader.spine(t, i);
                    break;

                  case "singleImage":
                    i = "v1/single-images/" + (l = n.Util.isValid(e.filename) ? e.filename : t) + "/" + e.v + "/" + l + ".png" + a, 
                    this.loader.image(t, i, !1);
                    break;

                  case "bitmapFont":
                    i = "v1/bitmap-fonts/" + e.filename + "/" + e.v + "/" + e.filename, 
                    this.loader.bitmapFont(t, i + ".png", i + ".xml" + a);
                }
            } catch (t) {}
        }, t.prototype.isFileLoaded = function(t) {
            if (!n.Util.isValid(t) || "" === t) return !0;
            try {
                switch (this.game.prodigy.assets.getAsset(t).type) {
                  case "json":
                  case "spine":
                    if (!this.game.cache.checkJSONKey(t)) return !1;
                    break;

                  case "sprite":
                  case "spritesheet":
                  case "singleImage":
                  case "atlas":
                    if (!this.game.cache.checkImageKey(t)) return !1;
                    break;

                  case "sfx":
                  case "bgm":
                    if (!this.game.cache.checkSoundKey(t)) return !1;
                    break;

                  case "bitmapFont":
                    if (!this.game.cache.checkBitmapFontKey(t)) return !1;
                }
            } catch (t) {}
            return !0;
        }, t.RETRY_TIME = 1e3, t.RETRY_TOTAL = 5, t;
    }();
    e.Loader = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t(t) {
            this.game = null, this.game = t;
        }
        return t.prototype.float = function(t, e, i, a, n) {
            void 0 === n && (n = !1);
            var o = this.game.add.tween(t).to({
                y: -e
            }, i, Phaser.Easing.Quadratic.InOut).to({
                y: e
            }, i, Phaser.Easing.Quadratic.InOut);
            return a && o.loop(), n && o.start(), o;
        }, t.prototype.translate = function(t, e, i, a, n, o, r) {
            void 0 === n && (n = 0), void 0 === o && (o = Phaser.Easing.Linear.None), 
            void 0 === r && (r = !1);
            var s = this.game.add.tween(t).delay(n).to({
                x: e,
                y: i
            }, a, o);
            return r && s.start(), s;
        }, t.prototype.rotate = function(t, e, i, a, n, o) {
            void 0 === a && (a = 0), void 0 === n && (n = Phaser.Easing.Linear.None), 
            void 0 === o && (o = !1);
            var r = this.game.add.tween(t).delay(a).to({
                angle: e
            }, i, n);
            return o && r.start(), r;
        }, t.prototype.fade = function(t, e, i, a, n, o) {
            void 0 === a && (a = 0), void 0 === n && (n = Phaser.Easing.Linear.None), 
            void 0 === o && (o = !1);
            var r = this.game.add.tween(t).delay(a).to({
                alpha: e
            }, i, n);
            return o && r.start(), r;
        }, t.prototype.hop = function(t, e, i, a, n, o, r) {
            var s = this;
            void 0 === o && (o = !1), void 0 === r && (r = !1);
            var l = this.game.add.tween(t).to({
                x: e
            }, n, Phaser.Easing.Linear.None);
            o && l.to({
                alpha: 0
            }, 10, Phaser.Easing.Linear.None);
            var h = {
                tween: l,
                tween2: this.game.add.tween(t).to({
                    y: i
                }, n / 2, Phaser.Easing.Quadratic.Out).to({
                    y: a
                }, n / 2, Phaser.Easing.Quadratic.In),
                start: function() {
                    return h.tween.start(), h.tween2.start(), h;
                },
                onComplete: {
                    tween: l,
                    add: function(t) {
                        l.onComplete.add(t.bind(s));
                    }
                }
            };
            return r && h.start(), h;
        }, t.prototype.shake = function(t, e, i, a, n, o, r, s, l) {
            void 0 === r && (r = 0), void 0 === s && (s = Phaser.Easing.Linear.None), 
            void 0 === l && (l = !1);
            var h = .25 * o, c = this.game.add.tween(t).delay(r).to({
                x: e,
                y: i
            }, h, s).to({
                x: a,
                y: n
            }, h, s).to({
                x: e,
                y: i
            }, h, s).to({
                x: 0,
                y: 0
            }, h, s);
            return l && c.start(), c;
        }, t;
    }();
    e.GenAnimation = a;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, n = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, o = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = i(11), l = i(0), h = function() {
        function t(t) {
            this.localizer = null, this.phrases = [], this.localizer = t;
        }
        return t.prototype.addPhrases = function(t, e) {
            void 0 === e && (e = !1);
            for (var i = 0; i < t.length; i++) {
                var a = t[i];
                this.phrases.push(l.Util.capitalize(e ? this.localizer.getText(a) : a));
            }
        }, t.prototype.getPhrases = function() {
            return this.phrases.slice();
        }, t.prototype.getPhrase = function(t) {
            return this.phrases.length > t ? this.phrases[t] : null;
        }, t.prototype.getPhraseIndex = function(t) {
            for (var e = 0; e < this.phrases.length; e++) if (t === this.phrases[e]) return e;
            return -1;
        }, t = a([ s.injectable(), o(0, s.inject(r.GameIdentifiers.LocalizationService)), n("design:paramtypes", [ r.BaseLocalizer ]) ], t);
    }();
    e.ChatManager = h;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t(t) {
            this.name = "", this.breadcrumbs = {}, this.name = t;
        }
        return t.prototype.addBreadcrumb = function(t, e, i) {
            return e >= 0 && e < 32 ? this.breadcrumbs[t] = {
                index: e,
                completes: i
            } : a.Util.log("addBreadcrumb - Breadcrumb was not added. index must be between [0, 32], provided index was " + e, a.Util.ERROR), 
            this;
        }, t;
    }();
    e.BreadcrumbFeature = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(305), n = function() {
        function t() {
            this.features = {}, this.setup();
        }
        return t.prototype.addFeature = function(t) {
            var e = new a.BreadcrumbFeature(t);
            return this.features[t] = e, e;
        }, t;
    }();
    e.BreadcrumbConfig = n;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(306), r = i(17), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            this.addFeature(r.Breadcrumbs.FEATURE_HOUSE_VISITING).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON, 0).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE, 1, [ r.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON ]).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON, 2, [ r.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE ]).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_CARD_VISIT_BUTTON, 3), 
            this.addFeature(r.Breadcrumbs.FEATURE_HOUSE_MOVING).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON, 0).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE, 1, [ r.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON ]).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_MOVE_BUTTON, 2, [ r.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE ]), 
            this.addFeature(r.Breadcrumbs.FEATURE_STYLIST).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_CARD_STYLIST_BUTTON, 0), 
            this.addFeature(r.Breadcrumbs.BREADCRUMB_CLICKED_DAB).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_DAB_EMOTE_BUTTON, 0).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DANCE_BUTTON, 1).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DAB_BUTTON, 2, [ r.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DANCE_BUTTON, r.Breadcrumbs.BREADCRUMB_CLICKED_DAB_EMOTE_BUTTON ]), 
            this.addFeature(r.Breadcrumbs.BREADCRUMB_TITAN_INTRO).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_TITAN_WATCHED_INTRO, 0).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_TITAN_HARVEY_TALKED, 1), 
            this.addFeature(r.Breadcrumbs.FEATURE_CLOUD_MOUNT).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLOUD_MOUNT_TOGGLED, 0), 
            this.addFeature(r.Breadcrumbs.FEATURE_SOCIAL_FEED).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_SOCIAL_FEED_OPENED, 0), 
            this.addFeature(r.Breadcrumbs.FEATURE_BADGES).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_SOCIAL_BUTTON, 0).addBreadcrumb(r.Breadcrumbs.BREADCRUMB_CLICKED_BADGES_BUTTON, 1, [ r.Breadcrumbs.BREADCRUMB_CLICKED_SOCIAL_BUTTON ]);
        }, e;
    }(o.BreadcrumbConfig);
    e.GameBreadcrumbConfig = s;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, n = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, o = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = i(11), l = i(0), h = function() {
        function t(t) {
            this.dataSource = null, this.breadcrumbConfig = null, this.logger = null, 
            this.logger = t;
        }
        return t.prototype.init = function(t, e) {
            this.dataSource = t, this.breadcrumbConfig = e;
        }, t.prototype.completeBreadcrumb = function(t, e) {
            var i = "breadcrumbs-" + t;
            if (!this.isBreadcrumbComplete(t, e)) {
                var a = this.breadcrumbConfig.features[t];
                if (l.Util.isValid(a)) {
                    var n = a.breadcrumbs[e];
                    if (l.Util.isValid(n)) {
                        var o = this.dataSource.get(i);
                        if (l.Util.isValid(o) || this.dataSource.set(i, 0), o = this.dataSource.get(i), 
                        this.dataSource.set(i, o | Math.pow(2, n.index)), l.Util.isValid(n.completes) && n.completes.length > 0) for (var s = 0, h = n.completes; s < h.length; s++) {
                            var c = h[s];
                            this.completeBreadcrumb(t, c);
                        }
                    } else this.logger.log("BreadcrumbManager.completeBreadcrumb - Couldn't find breadcrumb named: " + e + " for feature: " + t + ". No action taken.", r.LogLevel.Error);
                } else this.logger.log("BreadcrumbManager.completeBreadcrumb - Couldn't find feature named: " + t + ". No action taken.", r.LogLevel.Error);
            }
        }, t.prototype.isBreadcrumbComplete = function(t, e) {
            var i = this.dataSource.get("breadcrumbs-" + t), a = this.breadcrumbConfig.features[t];
            if (l.Util.isValid(a)) {
                var n = a.breadcrumbs[e];
                if (l.Util.isValid(n)) {
                    var o = Math.pow(2, n.index);
                    return l.Util.isValid(i) && (i & o) === o;
                }
            }
            return !1;
        }, t.prototype.resetBreadcrumbs = function(t) {
            var e = "breadcrumbs-" + t, i = this.breadcrumbConfig.features[t];
            if (l.Util.isValid(i)) {
                var a = this.dataSource.get(e);
                l.Util.isValid(a) && this.dataSource.set(e, 0);
            }
        }, t = a([ s.injectable(), o(0, s.inject(r.GameIdentifiers.LoggerService)), n("design:paramtypes", [ Object ]) ], t);
    }();
    e.BreadcrumbManager = h;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(94), o = i(0), r = function() {
        function t(t) {
            this.mode = [ "pet" ], this.MAX_BOUNTIES = 3, this.preName = [ "Aze", "Apple", "Ame", "Ave", "Accu", "Ah", "Atu", "Aitro", "Ava", "Alba", "Ami", "Auri", "Aura", "Bri", "Buri", "Blobo", "Blu", "Bra", "Bron", "Bri", "Bizu", "Bamo", "Brede", "Bru", "Bro", "Bil", "Ca", "Cami", "Copmero", "Caru", "Cray", "Ci", "Car", "Ces", "Char", "Cha", "Da", "Dar", "De", "Dra", "Dub", "Du", "Dere", "Doe", "Dev", "Ecar", "Ed", "Emu", "Ever", "Eli", "Eli", "Em", "Erme", "Eta", "Ferni", "Fran", "Fruit", "Gri", "Geo", "Gero", "Gio", "Gra", "Gre", "Ham", "Hu", "Har", "Hay", "Hec", "Hev", "Homu", "Hunt", "If", "Iri", "Isa", "Iro", "Ic", "Jaco", "Jav", "Jelly", "Jim", "Jer", "Jamu", "Kal", "Kam", "Ke", "Ki", "La", "Lar", "Law", "Leo", "Lev", "Lam", "Log", "Lucas", "Lui", "Mal", "Man", "Mar", "My", "Na", "North", "Ni", "Nym", "Nol", "Obe", "Oma", "On", "Ozz", "Own", "Py", "Pa", "Pey", "Phil", "Par", "Pre", "Ral", "Ra", "Ric", "Ri", "Rob", "Ro", "Roh", "Roe", "Rom", "Sa", "Sco", "Se", "Seb", "Ser", "Sha", "Spe", "Ste", "Ter", "Tho", "Ti", "Tra", "Tre", "Tri", "Ty", "Va", "Vi", "Vin", "Wal", "Wa", "Way", "Wes", "Wil", "Wi", "Wy", "Yo", "Za" ], 
            this.postName = [ "ron", "cup", "rush", "ria", "lomo", "sari", "da", "siri", "pos", "lin", "tru", "rious", "ri", "yte", "ros", "lya", "bos", "kin", "rt", "zipher", "son", "bloor", "math", "buu", "steak", "flace", "tato", "ium", "iar", "lious", "lo", "lio", "tion", "til", "lite", "ser", "kar", "ton", "vous", "cas", "foth", "vicus", "lith", "lik", "vin", "lae", "frost", "ras", "masa", "roth", "tark", "pus", "cico", "isan", "chi", "gtre", "rth", "mith", "phith", "pott", "nibo", "finik", "nmy", "goroth", "bro", "tik", "ford", "tis", "ier", "lus", "ear", "ret", "los", "a", "lak", "como", "ios", "bo", "ini", "old", "esch", "erio", "tara", "moth", "an", "tus", "brak", "nid", "ious", "bu", "goth", "art", "si", "aki", "ikir", "oth", "sil", "cuo", "io", "so", "vus", "with", "cho", "rys", "ron", "rin", "ith", "mat", "ra", "thos", "ci", "tri", "ius", "kos", "sa", "igos", "yn", "ard", "cha", "led", "obo", "gear", "ule" ], 
            this.titleName = [ " the Firemonger", " of the Void", " the Waterweaver", " the Earthshaker", " the Windcaller", " Burrowich", " the Digger", " the Therapist", " of Malakai", " Geronido", " Masterflash", " Meganoth", " Seratone", " the Goldwatch", " Passimore", " of the Gatewatch", " the Alchemical", " the Pacifier", " the Ultraverser", ", Chewer of Bones", " the Great", " Bergenwharph", " of Tsao", " of Ruples", " HwyLisco", ", Observer of Hew", ", Shade of Liu", ", Temp of Jude" ], 
            this.reward = [ 1, 1, 3, 1, 3, 5, 3, 1, 1, 5, 1 ], this.game = t;
        }
        return t.prototype.getMap = function(t) {
            var e = this.getZoneName(t), i = t.map;
            if (!o.Util.isValid(i)) {
                var a = [];
                for (var r in this.game.prodigy.world.zones[e].maps) o.Util.isValid(this.game.prodigy.world.zones[e].maps[r].coord) && a.push(r);
                var s = new n.SeededRandomGenerator(t.seed);
                i = a[Math.floor(s.jumpFromStart(1) * a.length)];
            }
            return i;
        }, t.prototype.getZoneName = function(t) {
            var e = t.zone;
            if (!o.Util.isValid(e)) {
                var i = [];
                for (var a in this.game.prodigy.world.zones) "house" !== a && "lamplight" !== a && "academy" !== a && this.game.prodigy.world.zones[a].monsters.length > 0 && i.push(a);
                var r = new n.SeededRandomGenerator(t.seed);
                e = i[Math.floor(r.jumpFromStart(0) * i.length)];
            }
            return e;
        }, t.prototype.getMode = function(t) {
            var e = new n.SeededRandomGenerator(t.seed), i = Math.floor(e.jumpFromStart(7) * this.mode.length);
            return this.mode[i];
        }, t.prototype.getMonster = function(t) {
            var e = this.getZoneName(t), i = t.monster;
            if (!o.Util.isValid(i)) {
                var a = new n.SeededRandomGenerator(t.seed);
                i = Math.floor(a.jumpFromStart(2) * this.game.prodigy.world.zones[e].monsters.length);
            }
            return this.game.prodigy.world.zones[e].monsters[i];
        }, t.prototype.getTeam = function(t) {
            for (var e = 2464565433 * new n.SeededRandomGenerator(t.seed).jumpFromStart(2), i = new n.SeededRandomGenerator(e), a = Math.floor(3 * i.jumpFromStart(0) + 2), o = [], r = 0, s = 1; s <= a; s++) r = Math.floor(i.jumpFromStart(s) * this.game.prodigy.world.zones[this.getZoneName(t)].monsters.length), 
            o.push({
                ID: this.game.prodigy.world.zones[this.getZoneName(t)].monsters[r],
                level: this.getLevel(t),
                nickname: this.getName({
                    seed: t.seed * i.jumpFromStart(s)
                })
            });
            return o;
        }, t.prototype.getName = function(t) {
            var e = t.preName, i = new n.SeededRandomGenerator(t.seed);
            o.Util.isValid(e) || (e = Math.floor(i.jumpFromStart(3) * this.game.prodigy.bounty.preName.length));
            var a = t.postName, r = new n.SeededRandomGenerator(1e6 * i.jumpFromStart(3));
            o.Util.isValid(a) || (a = Math.floor(r.jumpFromStart(0) * this.postName.length));
            var s = this.preName[e] + this.postName[a];
            if (5 === this.getReward(t)) {
                var l = t.title;
                o.Util.isValid(l) || (r = new n.SeededRandomGenerator(1e6 * i.jumpFromStart(3)), 
                l = Math.floor(r.jumpFromStart(1) * this.titleName.length)), s += this.titleName[l];
            }
            return s;
        }, t.prototype.getCoord = function(t) {
            var e = this.game.prodigy.world.zones[this.getZoneName(t)].maps[this.getMap(t)], i = t.location;
            if (!o.Util.isValid(i)) {
                var a = new n.SeededRandomGenerator(t.seed);
                i = Math.floor(a.jumpFromStart(4) * e.coord.length);
            }
            return {
                x: e.coord[i].x,
                y: e.coord[i].y
            };
        }, t.prototype.getReward = function(t) {
            var e = t.reward;
            if (!o.Util.isValid(e)) {
                var i = new n.SeededRandomGenerator(t.seed);
                e = Math.floor(i.jumpFromStart(5) * this.game.prodigy.bounty.reward.length);
            }
            return this.game.prodigy.bounty.reward[e];
        }, t.prototype.getLevel = function(t) {
            var e = t.level;
            if (!o.Util.isValid(e)) {
                var i = new n.SeededRandomGenerator(t.seed);
                i.jumpFromStart(6);
                var a = void 0;
                a = 5 === this.getReward(t) ? Math.floor(9 * i.jumpFromStart(6) + 11) : 3 === this.getReward(t) ? Math.floor(4 * i.jumpFromStart(6) + 6) : Math.floor(4 * i.jumpFromStart(6) + 1), 
                (e = this.game.prodigy.player.kennel.getAvgTeamLv() + a) > 100 && (e = 100);
            }
            return e;
        }, t.prototype.getBounties = function() {
            for (var t, e = [], i = 0; i < this.MAX_BOUNTIES; i++) if (t = i + 84, 
            this.game.prodigy.player.backpack.hasItem("item", t) > 0) {
                var a = this.getBounty(i);
                a.ID = t, a.seed = this.game.prodigy.player.backpack.getItemData(t, "seed"), 
                a.complete = o.Util.isValid(this.game.prodigy.player.backpack.getItemData(t, "complete")) ? 1 : 0, 
                e.push(a);
            }
            return e;
        }, t.prototype.hasBounty = function(t, e) {
            var i = this.getBounties();
            if (o.Util.isValid(i)) for (var a = 0; a < i.length; a++) {
                if (this.getZoneName(i[a]) === t) if (this.getMap(i[a]) === e && (!o.Util.isValid(i[a].complete) || 0 === i[a].complete)) return i[a];
            }
            return null;
        }, t.prototype.compareBounties = function(t, e) {
            return this.getZoneName(t) === this.getZoneName(e) && this.getMap(t) === this.getMap(e);
        }, t.prototype.placeBounty = function(t, e, i) {
            var a, n = this.getLevel(t), r = this.getCoord(t), s = this.game.prodigy.gameContainer.Localizer;
            if ("pet" === this.getMode(t)) {
                var l = this.getMonster(t), h = this.getName(t);
                a = {
                    intro: s.getText("COMBAT_BOUNTY_BATTLE"),
                    randDir: !0,
                    encounter: [ {
                        ID: l,
                        nickname: h
                    } ],
                    level: n,
                    bounty: t
                };
                var c = i.addBounty(this.game, e, 9, r.x, r.y, !1, a);
                o.Util.isValid(c) && c.showName(!0, h);
            } else "team" === this.getMode(t) && (a = {
                encounter: [ {
                    ID: this.getTeam(t)[0].ID,
                    nickname: this.getTeam(t)[0].nickname
                } ],
                intro: s.getText("COMBAT_BOUNTY_BATTLE"),
                bounty: t,
                level: n,
                screen: "battle-shiverchill-inside",
                pets: this.getTeam(t).slice(1, this.getTeam(t).length)
            }, i.addBounty(this.game, e, 9, r.x, r.y, !1, a));
        }, t.prototype.placeBountyHere = function(t, e, i, a) {
            var n = this.game.prodigy.gameContainer.Localizer, r = this.getLevel(t);
            if (o.Util.isValid(i.coord)) {
                var s, l = i.coord[a];
                if ("pet" === this.getMode(t)) {
                    var h = this.getMonster(t), c = this.getName(t);
                    s = {
                        intro: n.getText("COMBAT_BOUNTY_BATTLE"),
                        randDir: !0,
                        encounter: [ {
                            ID: h,
                            nickname: c
                        } ],
                        level: r,
                        bounty: t
                    }, i.addBounty(this.game, e, 9, l.x, l.y, !1, s).showName(!0, c);
                } else "team" === this.getMode(t) && (s = {
                    encounter: [ {
                        ID: this.getTeam(t)[0].ID,
                        nickname: this.getTeam(t)[0].nickname
                    } ],
                    intro: n.getText("COMBAT_BOUNTY_BATTLE"),
                    bounty: t,
                    level: r,
                    screen: "battle-shiverchill-inside",
                    pets: this.getTeam(t).slice(1, this.getTeam(t).length)
                }, i.addBounty(this.game, e, 9, l.x, l.y, !1, s));
            }
        }, t.prototype.getBounty = function(t) {
            var e = {};
            return a.GameConstants.get("GameConstants.Build.DEBUG") && o.Util.isValid(this.game.prodigy.debug.bountyOverrides[t]) && (e = this.game.prodigy.debug.bountyOverrides[t]), 
            e.seed = this.game.prodigy.player.state.get("world-bounties")[t], e;
        }, t.prototype.generateBounties = function(t) {
            for (var e, i, a = this.game.prodigy.player.state.get("world-bounties") || [], r = new n.SeededRandomGenerator(Number(t)), s = 0; s < this.MAX_BOUNTIES; s++) if (!o.Util.isValid(this.game.prodigy.player.state.get("world-bounties")) || this.game.prodigy.player.state.get("world-bounties").length < 3) {
                for (e = 175451218 * r.jumpFromStart(s), i = 1; !this.checkValidBounty(e, s); ) e = r.jumpFromStart(s) * i * 175451218, 
                i++;
                a.push(e), this.game.prodigy.world.setState("bounties", a);
            } else if (0 === this.game.prodigy.player.backpack.hasItem("item", s + 84)) {
                for (e = 175451218 * r.jumpFromStart(s), i = 1; !this.checkValidBounty(e, s); ) e = r.jumpFromStart(s) * i * 175451218, 
                i++;
                a[s] = e;
            }
            this.game.prodigy.world.setState("bounties", a);
        }, t.prototype.checkValidBounty = function(t, e) {
            if (o.Util.isValid(this.game.prodigy.player.state.get("world-bounties"))) for (var i = 0; i < e; i++) if (this.game.prodigy.player.state.get("world-bounties")[i] > 0) {
                if (this.game.prodigy.bounty.compareBounties({
                    seed: this.game.prodigy.player.state.get("world-bounties")[i]
                }, {
                    seed: t
                })) return !1;
                if (this.getReward({
                    seed: this.game.prodigy.player.state.get("world-bounties")[i]
                }) > 1 && this.getReward({
                    seed: t
                }) > 1) return !1;
                if (this.getName({
                    seed: this.game.prodigy.player.state.get("world-bounties")[i]
                }) === this.getName({
                    seed: t
                })) return !1;
            }
            return !0;
        }, t.prototype.completeBounty = function(t) {
            this.game.prodigy.player.backpack.setItemData(t.ID, "complete", 1);
        }, t.prototype.getText = function(t) {
            var e = t.description;
            if (!o.Util.isValid(e)) {
                var i = new n.SeededRandomGenerator(t.seed);
                e = Math.floor(4.9 * i.jumpFromStart(8));
            }
            return e;
        }, t;
    }();
    e.BountyManager = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(22), r = i(42), s = i(15), l = i(0), h = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B2", "MAP_TOY_ZONE_EPIC_ZONE", 640, 360, [ "toyzone-B1" ], i.concat([ "tileset-water-new", "tileset-ship-exterior", "tileset-volcano-new", "tileset-bonfire", "tileset-cloud-new", "tileset-skywatch", "tileset-skywatch-factory", "tileset-icecave-new", "tileset-firefly-new" ])) || this;
            return a.TOY_SPAWN_DATA = [ {
                ID: 125,
                toy: {
                    x: 640,
                    y: 515
                },
                portal: {
                    x: 590,
                    y: 440
                },
                path: {
                    x: 635,
                    y: 500
                },
                effect: {
                    x: 640,
                    y: 473
                },
                exit: {
                    x: 635,
                    y: 400
                }
            }, {
                ID: 126,
                toy: {
                    x: 400,
                    y: 260
                },
                portal: {
                    x: 350,
                    y: 195
                },
                path: {
                    x: 395,
                    y: 250
                },
                effect: {
                    x: 400,
                    y: 232
                },
                exit: {
                    x: 500,
                    y: 280
                }
            }, {
                ID: 127,
                toy: {
                    x: 355,
                    y: 430
                },
                portal: {
                    x: 305,
                    y: 355
                },
                path: {
                    x: 355,
                    y: 420
                },
                effect: {
                    x: 362,
                    y: 391
                },
                exit: {
                    x: 460,
                    y: 420
                }
            }, {
                ID: 128,
                toy: {
                    x: 880,
                    y: 260
                },
                portal: {
                    x: 830,
                    y: 195
                },
                path: {
                    x: 885,
                    y: 250
                },
                effect: {
                    x: 883,
                    y: 232
                },
                exit: {
                    x: 770,
                    y: 280
                }
            }, {
                ID: 129,
                toy: {
                    x: 920,
                    y: 430
                },
                portal: {
                    x: 870,
                    y: 365
                },
                path: {
                    x: 923,
                    y: 420
                },
                effect: {
                    x: 921,
                    y: 391
                },
                exit: {
                    x: 810,
                    y: 420
                }
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            t.prototype.setup.call(this, e, i, a), this.portalActive = !1, this.landedOnPortal = !1, 
            new r.ToyMerchant(e, i.content, 640, 200), this.addAreaEvent(e, i, {
                x: 640,
                y: 320,
                w: 100,
                h: 80
            }, "toyzone-B1", 640, 360, this.playPortalEffectEnter.bind(this, 640, 310, 770, 345)), 
            i.addClickableEvent(580, 270, 120, 100, this.playPortalEffectExit.bind(this, 640, 310, "toyzone-B1", 880, 350), null), 
            setTimeout(function() {
                n.portalActive = !0;
            }, 1e3), this.spawnToys(e, i), l.Util.isValid(this.zone.getState("epicsVisited")) && !1 !== this.zone.getState("epicsVisited") || this.zone.setState("epicsVisited", !0);
        }, e.prototype.spawnToys = function(t, e) {
            for (var i = this, a = function(a) {
                var r = n.TOY_SPAWN_DATA[a];
                if (t.prodigy.player.kennel.hasPet(r.ID)) e.addClickableEvent(r.portal.x, r.portal.y, 100, 90, n.clickedPortal.bind(n, t, e, r)), 
                n.addAreaEvent(t, e, {
                    x: r.effect.x,
                    y: r.effect.y,
                    w: 120,
                    h: 100
                }, "toyzone-B2", r.effect.x, r.effect.y, n.playPortalEffectEnter.bind(n, r.effect.x, r.effect.y, r.exit.x, r.exit.y)); else {
                    var l = new o.MonsterContainer(t, e.content, new s.Monster(t, {
                        ID: r.ID
                    }), 1, r.toy.x, r.toy.y, !1, function() {
                        i.clickedToy(t, r.ID);
                    });
                    r.toy.x > 640 && (l.scale.x = -1), l.startLoad();
                }
            }, n = this, r = 0; r < this.TOY_SPAWN_DATA.length; ++r) a(r);
        }, e.prototype.clickedPortal = function(t, e, i) {
            var a = t.prodigy.event.create();
            a.path(e.user, [ {
                x: i.path.x,
                y: i.path.y
            } ]), a.yesNoText(8, "toy"), a.set(this, "portalActive", !1), a.function(this.playPortalEffectEnter.bind(this, i.effect.x, i.effect.y)), 
            a.delay(800), a.enableInput(!0), a.function(function() {
                t.prodigy.battle.startEpicArena(i.ID, 1, !0);
            }), a.start();
        }, e.prototype.clickedToy = function(t, i) {
            t.prodigy.network.sendAnalytics("click-epic-statue", "click-epic-statue-" + i, "Events");
            var a = t.prodigy.event.create();
            a.text(e.TOY_DIALOGUE_DATA[i], "toy"), a.yesNoText(8, "toy"), a.function(t.prodigy.open.buyToy.bind(t.prodigy.open, i)), 
            a.start();
        }, e.TOY_DIALOGUE_DATA = {
            125: 5,
            126: 4,
            127: 3,
            128: 7,
            129: 6
        }, e;
    }(i(7).Map);
    e.ToyzoneB2 = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(42), r = i(0), s = function(t) {
        function e(e, i) {
            return t.call(this, e, "B1", "MAP_TOY_ZONE_MYSTIC_ROTUNDA", 640, 360, [ "toyzone-A1", "toyzone-B2" ], i) || this;
        }
        return n(e, t), e.prototype.start = function(e, i, a) {
            t.prototype.start.call(this, e, i, a);
            var n = this.zone.getState("firstVisit");
            if (!r.Util.isValid(n) || !n) {
                var o = e.prodigy.event.create();
                o.text(10, "toy"), o.text(13, "toy"), o.text(11, "toy"), o.function(this.zone.setState.bind(this.zone, "firstVisit", !0)), 
                o.start();
            }
        }, e.prototype.setup = function(e, i, a) {
            var n = this;
            t.prototype.setup.call(this, e, i, a), this.portalActive = !1, this.landedOnPortal = !1, 
            i.content.add(this.game.prodigy.create.element(null, 0, 0)), i.content.add(this.zone.game.prodigy.create.sprite(960, 320, "atlas-126", "pillar-large", new Phaser.Point(.5, 1))), 
            i.content.add(this.zone.game.prodigy.create.sprite(320, 320, "atlas-126", "pillar-large", new Phaser.Point(.5, 1))), 
            i.content.add(this.zone.game.prodigy.create.sprite(800, 480, "atlas-126", "pillar-small", new Phaser.Point(.5, 1))), 
            new o.ToyMerchant(e, i.content, 640, 200), this.addAreaEvent(e, i, {
                x: 640,
                y: 360,
                w: 100,
                h: 80
            }, "toyzone-B2", 640, 360, this.playPortalEffectEnter.bind(this, 640, 340)), 
            this.addAreaEvent(e, i, {
                x: 400,
                y: 370,
                w: 100,
                h: 80
            }, "toyzone-A1", 640, 360, this.playPortalEffectExit.bind(this, 400, 350, "toyzone-A1", 640, 310));
            var s = this.zone.getState("dragonsVisited");
            r.Util.isValid(s) && s || this.animateHand(i, 400, 280), this.addAreaEvent(e, i, {
                x: 880,
                y: 370,
                w: 100,
                h: 80
            }, "toyzone-B2", 640, 360, this.playPortalEffectExit.bind(this, 880, 350, "toyzone-B2", 640, 310));
            var l = this.zone.getState("epicsVisited");
            r.Util.isValid(l) && l || this.animateHand(i, 880, 280);
            var h = this.zone.getState("goldRecieved");
            if (s && l && (!r.Util.isValid(h) || !h)) {
                var c = e.prodigy.event.create();
                c.text(9, "toy"), c.function(function() {
                    e.prodigy.open.gotItem([ {
                        type: "gold",
                        N: 500
                    } ], null, null, "toyzone");
                }), c.function(this.zone.setState.bind(this.zone, "goldRecieved", !0)), 
                c.start();
            }
            setTimeout(function() {
                n.portalActive = !n.landedOnPortal;
            }, 1e3);
        }, e.prototype.animateHand = function(t, e, i) {
            var a = t.foreground.add(this.zone.game.prodigy.create.sprite(e, i, "atlas-18", "area-pointer", new Phaser.Point(.5, 0)));
            a.angle = 180, this.zone.game.add.tween(a).to({
                y: a.y + 30
            }, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), 
            a.inputEnabled = !0, a.events.onInputDown.add(function() {
                t.user.setValidPath(t.path, e, i);
            });
        }, e;
    }(i(7).Map);
    e.ToyzoneB1 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(22), r = i(42), s = i(15), l = i(0), h = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A1", "MAP_TOY_ZONE_DRAGONS_LAIR", 640, 310, [ "toyzone-B1" ], i.concat([ "tileset-water-new", "tileset-ship-exterior", "tileset-volcano-new", "tileset-bonfire", "tileset-cloud-new", "tileset-skywatch" ])) || this;
            return a.TOY_SPAWN_DATA = [ {
                ID: 130,
                toy: {
                    x: 880,
                    y: 260
                },
                portal: {
                    x: 830,
                    y: 195
                },
                path: {
                    x: 885,
                    y: 250
                },
                effect: {
                    x: 883,
                    y: 232
                },
                exit: {
                    x: 770,
                    y: 280
                }
            }, {
                ID: 131,
                toy: {
                    x: 400,
                    y: 260
                },
                portal: {
                    x: 350,
                    y: 195
                },
                path: {
                    x: 395,
                    y: 250
                },
                effect: {
                    x: 400,
                    y: 232
                },
                exit: {
                    x: 500,
                    y: 280
                }
            }, {
                ID: 132,
                toy: {
                    x: 910,
                    y: 430
                },
                portal: {
                    x: 870,
                    y: 365
                },
                path: {
                    x: 923,
                    y: 420
                },
                effect: {
                    x: 921,
                    y: 391
                },
                exit: {
                    x: 810,
                    y: 420
                }
            }, {
                ID: 133,
                toy: {
                    x: 355,
                    y: 430
                },
                portal: {
                    x: 305,
                    y: 355
                },
                path: {
                    x: 355,
                    y: 420
                },
                effect: {
                    x: 362,
                    y: 391
                },
                exit: {
                    x: 460,
                    y: 420
                }
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            t.prototype.setup.call(this, e, i, a), this.portalActive = !1, this.landedOnPortal = !1, 
            new r.ToyMerchant(e, i.content, 640, 200), this.addAreaEvent(e, i, {
                x: 640,
                y: 320,
                w: 100,
                h: 80
            }, "toyzone-B1", 400, 240, this.playPortalEffectEnter.bind(this, 640, 310, 770, 345)), 
            i.addClickableEvent(580, 270, 120, 100, this.playPortalEffectExit.bind(this, 640, 310, "toyzone-B1", 400, 350), null), 
            setTimeout(function() {
                n.portalActive = !0;
            }, 1e3), this.spawnToys(e, i), l.Util.isValid(this.zone.getState("dragonsVisited")) && !1 !== this.zone.getState("dragonsVisited") || this.zone.setState("dragonsVisited", !0);
        }, e.prototype.spawnToys = function(t, e) {
            for (var i = this, a = function(a) {
                var r = n.TOY_SPAWN_DATA[a];
                if (t.prodigy.player.kennel.hasPet(r.ID)) e.addClickableEvent(r.portal.x, r.portal.y, 100, 90, n.clickedPortal.bind(n, t, e, r)), 
                n.addAreaEvent(t, e, {
                    x: r.effect.x,
                    y: r.effect.y,
                    w: 120,
                    h: 100
                }, "toyzone-A1", r.effect.x, r.effect.y, n.playPortalEffectEnter.bind(n, r.effect.x, r.effect.y, r.exit.x, r.exit.y)); else {
                    var l = new o.MonsterContainer(t, e.content, new s.Monster(t, {
                        ID: r.ID
                    }), 1, r.toy.x, r.toy.y, !1, function() {
                        i.clickedToy(t, r.ID);
                    });
                    r.toy.x > 640 && (l.scale.x = -1), l.startLoad();
                }
            }, n = this, r = 0; r < this.TOY_SPAWN_DATA.length; ++r) a(r);
        }, e.prototype.clickedPortal = function(t, e, i) {
            var a = t.prodigy.event.create();
            a.path(e.user, [ {
                x: i.path.x,
                y: i.path.y
            } ]), a.yesNoText(8, "toy"), a.set(this, "portalActive", !1), a.function(this.playPortalEffectEnter.bind(this, i.effect.x, i.effect.y)), 
            a.delay(800), a.enableInput(!0), a.function(function() {
                t.prodigy.battle.startEpicArena(i.ID, 1, !0);
            }), a.start();
        }, e.prototype.clickedToy = function(t, i) {
            t.prodigy.network.sendAnalytics("click-epic-statue", "click-epic-statue-" + i, "Events");
            var a = t.prodigy.event.create();
            a.text(e.TOY_DIALOGUE_DATA[i], "toy"), a.yesNoText(8, "toy"), a.function(function() {
                t.prodigy.open.buyToy(i);
            }), a.start();
        }, e.TOY_DIALOGUE_DATA = {
            130: 14,
            131: 15,
            132: 16,
            133: 17
        }, e;
    }(i(7).Map);
    e.ToyzoneA1 = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(31), r = i(312), s = i(311), l = i(310), h = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            i.name = "Toyzone", i.ID = "toyzone", i.battleBG = "battle-forest-outside", 
            i.onFaint = "toyzone-B1", i.questHub = "toyzone-B1", i.states = [ "firstVisit", "dragonsVisited", "epicsVisited", "goldRecieved" ];
            var a = [ "tileset-toyzone", "tileset-toyzone-dragons", "tileset-cloud", "tileset-forest-new", "tileset-toy-ruins-test", "tileset-generic", "tileset-outside", "tileset-collisions", "atlas-18", "atlas-19", "atlas-21", "atlas-126" ];
            return i.maps = {
                A1: new r.ToyzoneA1(i, a),
                B1: new s.ToyzoneB1(i, a),
                B2: new l.ToyzoneB2(i, a)
            }, i;
        }
        return n(e, t), e;
    }(o.Zone);
    e.ToyZone = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 9, "QUESTS_SKYWATCH_TRIM_VINES", {
                type: "seq",
                N: 1
            }, [ "skywatch-C4" ], [ 29 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            if (t.prototype.setup.call(this, e, i, a), this.zone.isOnSequence(9, 0) && "skywatch-C4" === a.zoneName) {
                var o = e.prodigy.create.element(i.foreground, 160, 220);
                o.highlight(!0);
                i.addClickableEvent(90, 120, 270, 280, function() {
                    var t = i.content.add(e.prodigy.create.sprite(150, -100, "default-boss-12", "earth_cloud", new Phaser.Point(.5, 1))), r = i.foreground.add(e.prodigy.create.sprite(140, -150, "default-boss-12", "med_face_2", new Phaser.Point(.5, 1))), s = function() {
                        var t = i.user.x, o = i.user.y;
                        e.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
                        var r = e.prodigy.event.create();
                        r.enableInput(!1), r.delay(2e3), r.enableInput(!0), r.function(n.zone.getBattle(a, e.prodigy.gameContainer.Localizer.getText("COMBAT_CLOUD_FIGHT"), {
                            boss: {
                                ID: 12,
                                level: 50,
                                element: "earth",
                                attacks: [ 13, 14, 15, 16 ],
                                name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_SANDY_STORM"),
                                starBonus: 30,
                                tag: "skywatch"
                            },
                            screen: "battle-skywatch-outside"
                        }, function() {
                            n.zone.completeSequence(9, 0), n.zone.setState("plug-C4", null), 
                            n.zone.setState("vines-C4", null), e.prodigy.world.teleport("skywatch-C4", t, o);
                        })), r.start();
                    }, l = e.prodigy.event.create();
                    l.validPath(i.user, i.path, 220, 400), l.enableInput(!1), l.fire(115, 165, 290, 290, 2, !1, !0), 
                    l.function(o.highlight.bind(o, !1)), l.function(n.zone.shrinkVines.bind(n.zone, a)), 
                    l.delay(3e3), l.sound(17, "wind"), l.function(function() {
                        var i = e.add.tween(t).to({
                            x: 150,
                            y: 300
                        }, 2e3, Phaser.Easing.Linear.None).start();
                        e.add.tween(r).to({
                            x: 140,
                            y: 250
                        }, 2e3, Phaser.Easing.Linear.None).start(), i.onComplete.add(function() {
                            n.zone.changePosition(t, r), s();
                        });
                    }.bind(n, e, i)), l.start();
                }.bind(this, e, i), null);
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.SkywatchQ9 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 8, "QUESTS_SKYWATCH_TRIM_VINES", {
                type: "seq",
                N: 1
            }, [ "skywatch-B3" ], [ 26, 27, 28 ], [], [ 1 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "outfit",
                ID: 5
            } ]) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            if (t.prototype.setup.call(this, e, i, a), this.zone.isOnSequence(8, 0) && "skywatch-B3" === a.zoneName) {
                var o = e.prodigy.create.element(i.foreground, 1020, 140);
                o.highlight(!0), i.addClickableEvent(920, 20, 290, 260, function() {
                    var t = i.content.add(e.prodigy.create.sprite(1045, -100, "default-boss-12", "water_cloud", new Phaser.Point(.5, 1))), r = i.foreground.add(e.prodigy.create.sprite(1035, -150, "default-boss-12", "med_face_1", new Phaser.Point(.5, 1))), s = e.prodigy.event.create();
                    s.validPath(i.user, i.path, 860, 270), s.validPath(i.user, i.path, 861, 270), 
                    s.enableInput(!1), s.fire(935, 45, 290, 290, 2, !1, !0), s.function(o.highlight.bind(o, !1)), 
                    s.function(n.zone.shrinkVines.bind(n.zone, a)), s.delay(3e3), 
                    s.sound(17, "wind"), s.function(function() {
                        var o = e.prodigy.animation.translate(t, 1045, 200, 2e3, null, null, !0);
                        e.prodigy.animation.translate(r, 1035, 150, 2e3, null, null, !0), 
                        o.onComplete.add(n.zone.changePosition.bind(n.zone, t, r)), 
                        o.onComplete.add(function() {
                            e.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
                            var t = i.user.x, o = i.user.y, r = n.zone.getBattle(a, e.prodigy.gameContainer.Localizer.getText("COMBAT_CLOUD_FIGHT"), {
                                boss: {
                                    ID: 12,
                                    level: 50,
                                    element: "water",
                                    attacks: [ 7, 8, 9, 10 ],
                                    name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_RAINY_STORM"),
                                    starBonus: 30,
                                    tag: "skywatch"
                                },
                                screen: "battle-skywatch-outside"
                            }, function() {
                                n.zone.completeSequence(8, 0), n.zone.setState("plug-B3", null), 
                                n.zone.setState("vines-B3", null), e.prodigy.world.teleport("skywatch-B3", t, o);
                            }), s = e.prodigy.event.create();
                            s.enableInput(!1), s.delay(2e3), s.enableInput(!0), 
                            s.function(r), s.start();
                        });
                    }), s.start();
                }, null, 0);
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.SkywatchQ8 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 7, "", {
                type: "item",
                ID: 49,
                N: 5
            }, [ "skywatch-E1", "skywatch-E3" ], [ 25 ], [], [ 1 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "key",
                ID: 9
            } ]) || this;
            return a.monsters = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a);
            var n = null, r = a.getTag();
            if (this.zone.isQuestComplete(7) && o.Util.isValid(this.monsters)) for (var s = 0; s < this.monsters.length; s++) o.Util.isValid(this.monsters[s]) && o.Util.isValid(this.monsters[s].monsterData.drops) && delete this.monsters[s].monsterData.drops; else {
                var l = {
                    randDir: !0,
                    encounter: [ {
                        ID: 120,
                        drops: [ {
                            type: "item",
                            ID: 49,
                            R: .71
                        } ]
                    } ]
                };
                this.monsters = [], "E1" === r ? (this.monsters.push(a.addMonster(e, i, 1, 942, 400, !0, l, !1)), 
                this.monsters.push(a.addMonster(e, i, 2, 400, 400, !0, l, !1)), 
                n = {
                    enableMonsters: !1
                }) : "E3" === r && (this.monsters.push(a.addMonster(e, i, 0, 725, 480, !0, l, !1)), 
                n = {
                    enableMonsters: !1
                });
            }
            return n;
        }, e;
    }(i(6).Quest);
    e.SkywatchQ7 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 6, "QUESTS_SKYWATCH_GET_KEY", {
                type: "seq",
                N: 1
            }, [ "skywatch-D1" ], [ 23, 24 ], [], [ 1 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
            return a.ambusher1 = null, a.ambusher2 = null, a.ambusher3 = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), "D1" === a.getTag() && this.zone.isOnSequence(6, 0)) {
                var n = {
                    randDir: !1,
                    encounter: [ {
                        ID: 120
                    } ]
                };
                this.ambusher1 = a.addMonster(e, i, 0, 560, -50, !1, n), this.ambusher2 = a.addMonster(e, i, 4, 500, -50, !1, n), 
                this.ambusher3 = a.addMonster(e, i, 2, 830, -50, !1, n), this.ambusher1.visible = !1, 
                this.ambusher2.visible = !1, this.ambusher3.visible = !1, e.prodigy.create.element(i.content, 700, 190).highlight(!0), 
                i.addClickableEvent(700, 190, 80, 80, this.ambush.bind(this, e, i, a), null, 0);
            }
            return null;
        }, e.prototype.ambush = function(t, e, i) {
            var a = this, n = this.zone.getBattle(i, t.prodigy.gameContainer.Localizer.getText("COMBAT_DEFEAT_AMBUSHERS"), {
                pets: [ {
                    ID: 120
                }, {
                    ID: 120
                }, {
                    ID: 120
                } ],
                screen: "battle-skywatch-outside"
            }, function() {
                a.zone.completeSequence(6, 0), t.prodigy.world.teleport("skywatch-D1", 640, 360);
            }), o = t.prodigy.event.create();
            o.validPath(e.user, e.path, 740, 350), o.reward([ {
                type: "item",
                ID: 81
            } ]), o.enableInput(!1), o.set(e.user, "evtProc", !0), o.function(this.zone.hideFollow.bind(this.zone, e)), 
            o.set(this.ambusher1, "visible", !0), o.set(this.ambusher2, "visible", !0), 
            o.set(this.ambusher3, "visible", !0), o.path(this.ambusher1, [ {
                x: 640,
                y: 350
            } ], 1, !0), o.path(this.ambusher2, [ {
                x: 690,
                y: 390
            } ], 1, !0), o.path(this.ambusher3, [ {
                x: 800,
                y: 390
            } ], 1), o.delay(1e3), o.enableInput(!0), o.function(n), o.start();
        }, e;
    }(i(6).Quest);
    e.SkywatchQ6 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 5, "", {
                type: "item",
                ID: 56,
                N: 3
            }, [ "skywatch-B3", "skywatch-C3", "skywatch-D2" ], [ 19, 20, 21, 22 ], [], [ 1 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
            return a.collectionMaps = {
                B3: [ 0 ],
                C3: [ 1 ],
                D2: [ 2 ]
            }, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a);
            var n = a.getTag();
            return "B3" === n ? i.addCollect(0, 900, 380, {
                type: "item",
                ID: 56
            }) : "C3" === n ? i.addCollect(1, 260, 450, {
                type: "item",
                ID: 56
            }) : "D2" === n && i.addCollect(2, 1150, 530, {
                type: "item",
                ID: 56
            }), null;
        }, e;
    }(i(6).Quest);
    e.SkywatchQ5 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 4, "QUESTS_SKYWATCH_TRIM_VINES", {
                type: "seq",
                N: 3
            }, [ "skywatch-D1" ], [ 16, 17, 18 ], [], [ 1, 46 ], [ {
                type: "spell",
                ID: 25
            } ]) || this;
            return a.eyes = null, a.boss = null, a.element = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a);
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), this.zone.isOnSequence(4, 2) && "skywatch-D3" === a.zoneName ? this.cutsceneD3(e, i, a) : this.zone.isOnSequence(4, 1) && "skywatch-D2" === a.zoneName ? this.highlightD2(e, i, a) : this.zone.isOnSequence(4, 0) && "skywatch-D1" === a.zoneName && this.highlightD1(e, i, a), 
            {};
        }, e.prototype.process = function(t, e, i) {
            this.zone.isOnSequence(4, 0) ? this.area = [ "skywatch-D1" ] : this.zone.isOnSequence(4, 1) ? this.area = [ "skywatch-D2" ] : this.zone.isOnSequence(4, 2) && (this.area = [ "skywatch-D3" ]);
        }, e.prototype.cutsceneD3 = function(t, e, i) {
            this.boss = e.content.add(t.prodigy.create.sprite(850, -100, "default-boss-12", "ice_cloud", new Phaser.Point(.5, 1))), 
            this.eyes = e.foreground.add(t.prodigy.create.sprite(840, -150, "default-boss-12", "med_face_0", new Phaser.Point(.5, 1)));
            var a = t.prodigy.event.create();
            a.set(this, "descKey", "QUESTS_SKYWATCH_INSPECT_MACHINE"), a.enableInput(!1), 
            a.sound(17, "wind"), a.delay(2e3), a.function(this.bossEnter.bind(this, t)), 
            a.enableInput(!0), a.delay(600), a.text(98, "noot"), a.enableInput(!1), 
            a.sound(17, "wind"), a.function(this.zone.setState.bind(this.zone, "vines-D3", 1)), 
            a.function(this.zone.setState.bind(this.zone, "vines-B3", 1)), a.function(this.zone.setState.bind(this.zone, "vines-C4", 1)), 
            a.function(this.zone.setState.bind(this.zone, "plug-D3", 1)), a.function(this.zone.setState.bind(this.zone, "plug-B3", 1)), 
            a.function(this.zone.setState.bind(this.zone, "plug-C4", 1)), a.function(this.bossExit.bind(this, t, e, i)), 
            a.explode(670, 60, 200, 200, 3, !0), a.delay(2e3), a.function(this.zone.createVines.bind(this.zone, i)), 
            a.enableInput(!0), a.delay(600), a.text(99, "noot"), a.function(this.zone.completeSequence.bind(this.zone, 4, 2)), 
            a.function(e.process.bind(e)), a.start();
        }, e.prototype.bossEnter = function(t) {
            t.add.tween(this.boss).to({
                x: 850,
                y: 200
            }, 2e3, Phaser.Easing.Linear.None).to({
                y: "-20"
            }, 1400, Phaser.Easing.Quadratic.InOut).to({
                y: "+20"
            }, 1400, Phaser.Easing.Quadratic.InOut).start(), t.add.tween(this.eyes).to({
                x: 840,
                y: 150
            }, 2e3, Phaser.Easing.Linear.None).to({
                y: "-20"
            }, 1400, Phaser.Easing.Quadratic.InOut).to({
                y: "+20"
            }, 1400, Phaser.Easing.Quadratic.InOut).start();
        }, e.prototype.bossExit = function(t, e, i) {
            i.unplug(t), i.displayStationaryFanribbons(t, e);
            var a = t.add.tween(this.boss).to({
                x: 950,
                y: -200
            }, 1400, Phaser.Easing.Linear.None).start();
            t.add.tween(this.eyes).to({
                x: 940,
                y: -250
            }, 1400, Phaser.Easing.Linear.None).start(), a.onComplete.add(this.hideBoss.bind(this));
        }, e.prototype.hideBoss = function() {
            this.boss.visible = !1, this.eyes.visible = !1;
        }, e.prototype.clearVinesD2 = function(t, e, i) {
            if (this.zone.isOnSequence(4, 1)) {
                var a = t.prodigy.event.create();
                a.validPath(e.user, e.path, 1150, 550), a.fire(990, 415, 200, 300, 2, !0, !0), 
                a.function(this.zone.shrinkVines.bind(this.zone, i)), a.function(this.element.highlight.bind(this.element, !1)), 
                a.function(this.zone.completeSequence.bind(this.zone, 4, 1)), a.function(this.zone.setState.bind(this.zone, "vines-D2", "off")), 
                a.set(this.zone.quests[4], "area", [ "skywatch-D3" ]), a.enableInput(!0), 
                a.function(e.addClickableEvent.bind(e, 925, 555, 90, 90, this.zone.interactTrolley.bind(this.zone, e, [ {
                    x: 1040,
                    y: 600
                }, {
                    x: 965,
                    y: 600
                } ], {
                    trolley: i.trolley2,
                    x: "0",
                    y: "+300",
                    duration: 3e3,
                    target: "skywatch-D3",
                    targetX: 300,
                    targetY: 250
                }))), a.function(e.process.bind(e)), a.start();
            }
        }, e.prototype.highlightD2 = function(t, e, i) {
            o.Util.isValid(this.zone.getState("vines-D2")) || (this.element = t.prodigy.create.element(e.foreground, 1020, 500), 
            this.element.highlight(!0), e.addClickableEvent(1e3, 410, 100, 260, this.clearVinesD2.bind(this, t, e, i), null));
        }, e.prototype.clearVinesD1 = function(t, e, i) {
            if (this.zone.isOnSequence(4, 0)) {
                var a = t.prodigy.event.create();
                a.validPath(e.user, e.path, 915, 440), a.enableInput(!1), a.fire(960, 330, 230, 185, 2, !0, !0), 
                a.function(this.enableD1Trolley2.bind(this, t, i)), a.function(this.element.highlight.bind(this.element, !1)), 
                a.function(this.zone.completeSequence.bind(this.zone, 4, 0)), a.function(this.zone.setState.bind(this.zone, "plug-B3", "off")), 
                a.function(this.zone.setState.bind(this.zone, "plug-C4", "off")), 
                a.function(this.zone.setState.bind(this.zone, "vines-D1", "off")), 
                a.set(this.zone.quests[4], "area", [ "skywatch-D2" ]), a.function(e.addClickableEvent.bind(e, 1080, 360, 80, 80, this.zone.interactTrolley.bind(this.zone, e, [ {
                    x: 1130,
                    y: 450
                }, {
                    x: 1120,
                    y: 420
                } ], {
                    trolley: i.trolley2,
                    x: "+200",
                    y: "0",
                    duration: 3e3,
                    target: "skywatch-D2",
                    targetX: 140,
                    targetY: 290
                }), null, 0)), a.function(e.process.bind(e)), a.enableInput(!0), 
                a.start();
            }
        }, e.prototype.enableD1Trolley2 = function(t, e) {
            this.zone.shrinkVines(e), t.add.tween(e.trolley2).to({
                alpha: 1
            }, 3e3, Phaser.Easing.Linear.None).start();
        }, e.prototype.highlightD1 = function(t, e, i) {
            this.element = t.prodigy.create.element(e.foreground, 1020, 390), this.element.highlight(!0), 
            e.addClickableEvent(950, 320, 260, 190, this.clearVinesD1.bind(this, t, e, i), null, 0);
        }, e;
    }(i(6).Quest);
    e.SkywatchQ4 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 3, "QUESTS_SKYWATCH_FIND_BROCCOLINA", {
                type: "seq",
                N: 2
            }, [ "skywatch-B2" ], [ 13, 14, 15 ], [], [ 1 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "key",
                ID: 8
            } ]) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a);
            var n = a.getTag();
            if ("B2" === n && this.zone.isOnSequence(3, 0)) this.nootFindsTheNote(e, i, a); else if ("A0" === n && this.zone.isOnSequence(3, 1)) this.foundBroccolina(e, i, a); else if ("A1" === n && !this.zone.isQuestComplete(3)) return {
                hiddenNPCs: [ "atlas-64" ]
            };
            return {};
        }, e.prototype.process = function(t, e, i) {
            this.zone.isOnSequence(3, 0) ? this.area = [ "skywatch-B2" ] : this.zone.isOnSequence(3, 1) && (this.area = [ "skywatch-A0" ]);
        }, e.prototype.nootFindsTheNote = function(t, e, i) {
            var a = e.addNPC(640, 535, "atlas-81");
            a.visible = !1, a.float(!0);
            var n = t.prodigy.event.create();
            n.enableInput(!1), n.set(a, "visible", !0), n.hop(a, 300, -55, 50), 
            n.enableInput(!1), n.path(a, [ {
                x: 540,
                y: 365
            } ]), n.enableInput(!0), n.text(97, "noot"), n.enableInput(!1), n.path(a, [ {
                x: 585,
                y: 535
            } ]), n.hop(a, 300, 55, 50), n.set(a, "visible", !1), n.set(this.zone.quests[3], "area", [ "skywatch-A0" ]), 
            n.function(this.zone.completeSequence.bind(this.zone, 3, 0)), n.function(e.process.bind(e)), 
            n.enableInput(!0), n.start();
        }, e.prototype.foundBroccolina = function(t, e, i) {
            i.addConstructedNPC(t, e, 440, 500, "atlas-64", null, t.prodigy.gameContainer.Localizer.getText("NPC_NAME_BROCCOLINA")).nameText.x += 60;
            var a = t.prodigy.event.create();
            a.text(0, "broccolina"), a.function(this.zone.completeSequence.bind(this.zone, 3, 1)), 
            a.function(e.process.bind(e)), a.start();
        }, e;
    }(i(6).Quest);
    e.SkywatchQ3 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 2, "QUESTS_SKYWATCH_GET_DEVICE", {
                type: "item",
                ID: 93,
                N: 1
            }, [ "skywatch-C2" ], [ 9, 10, 11, 12 ], [], [ 1 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
            return a.thief = null, a;
        }
        return n(e, t), e.prototype.start = function(e, i, a) {
            t.prototype.start.call(this, e, i, a);
            var n = a.getTag();
            if ("C2" === n && this.zone.isOnSequence(2, 0)) this.thiefStealsTheWeatherometre(e, i, a); else if ("C1" === n && this.zone.isOnSequence(2, 1)) this.thiefFlees(e, i, a, 115, 560, 115, 800, "skywatch-C3", 1); else if ("C3" === n && this.zone.isOnSequence(2, 2)) this.thiefFlees(e, i, a, 120, 210, 120, -20, "skywatch-C4", 2); else if ("C4" === n && this.zone.isOnSequence(2, 3)) return this.thiefFailsEscape(e, i, a), 
            {
                enableMonsters: !1
            };
            return null;
        }, e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "A1" === a.getTag() && this.zone.isOnSequence(2, 4) ? {
                hiddenNPCs: [ "atlas-64" ]
            } : {};
        }, e.prototype.process = function(t, e, i) {
            this.zone.isOnSequence(2, 0) ? this.area = [ "skywatch-C2" ] : this.zone.isOnSequence(2, 1) ? this.area = [ "skywatch-C1" ] : this.zone.isOnSequence(2, 2) ? this.area = [ "skywatch-C3" ] : this.zone.isOnSequence(2, 3) && (this.area = [ "skywatch-C4" ]);
        }, e.prototype.thiefStealsTheWeatherometre = function(t, e, i) {
            var a = this;
            this.thief = i.addMonster(t, e, 0, 688, 335, !1, {
                randDir: !1,
                encounter: [ {
                    ID: 84
                } ]
            }), this.thief.visible = !0;
            var n = e.content.add(t.prodigy.icon.createIcon(695, 275, "icon-item-93")), o = e.addNPC(600, 550, "atlas-81");
            o.visible = !1, o.float(!0);
            var r = t.prodigy.event.create();
            r.enableInput(!1), r.set(o, "visible", !0), r.hop(o, 300, -55, 50), 
            r.enableInput(!0), r.function(this.thief.chat.bind(this.thief, 1, 100)), 
            r.delay(1500), r.set(n, "visible", !1), r.enableInput(!1), r.delay(500), 
            r.path(this.thief, [ {
                x: 800,
                y: 230
            } ], 1), r.function(function() {
                a.zone.states.windowBroken = !0;
            }), r.set(this.thief, "visible", !1), r.enableInput(!0), r.function(o.chat.bind(o, 1, 100)), 
            r.text(95, "noot"), r.enableInput(!1), r.hop(o, 300, 55, 50), r.set(o, "visible", !1), 
            r.enableInput(!0), r.set(this, "area", [ "skywatch-C1" ]), r.function(this.zone.completeSequence.bind(this.zone, 2, 0)), 
            r.function(e.process.bind(e)), r.set(this.thief, "visible", !1), r.start();
        }, e.prototype.thiefFlees = function(t, e, i, a, n, o, r, s, l) {
            this.thief = i.addMonster(t, e, 0, a, n, !1, {
                randDir: !1,
                encounter: [ {
                    ID: 84
                } ]
            }), this.thief.visible = !0;
            var h = t.prodigy.event.create();
            h.enableInput(!1), h.set(e.user, "evtProc", !0), h.path(this.thief, [ {
                x: o,
                y: r
            } ], 1, !1), h.set(this.thief, "visible", !1), h.set(e.user, "evtProc", !1), 
            h.enableInput(!0), h.set(this, "area", [ s ]), h.function(this.zone.completeSequence.bind(this.zone, 2, l)), 
            h.function(e.process.bind(e)), h.start();
        }, e.prototype.thiefFailsEscape = function(t, e, i) {
            this.thief = i.addMonster(t, e, 0, 850, 500, !1, {
                randDir: !1,
                encounter: [ {
                    ID: 84
                } ]
            }), this.thief.visible = !1;
            var a = e.addNPC(959, 500, "atlas-81");
            a.flip(), a.visible = !1, a.float(!0);
            var n = t.prodigy.event.create();
            n.validPath(e.user, e.path, 1159, 550), n.set(e.user, "evtProc", !0), 
            n.enableInput(!1), n.set(this.thief, "visible", !0), n.path(this.thief, [ {
                x: 700,
                y: 500
            } ], 1, !0), n.path(e.user, [ {
                x: 1e3,
                y: 520
            } ], 1.2), n.set(a, "visible", !0), n.hop(a, 300, -55, 50), n.enableInput(!0), 
            n.text(96, "noot"), n.enableInput(!1), n.delay(500), n.enableInput(!0), 
            n.function(this.thiefBattle.bind(this, t)), n.start();
        }, e.prototype.thiefBattle = function(t) {
            var e = this;
            t.prodigy.battle.start({
                intro: t.prodigy.gameContainer.Localizer.getText("COMBAT_WEATHER_METER"),
                catch: !1,
                run: !1,
                screen: "battle-skywatch-outside",
                pets: [ {
                    ID: 84,
                    nickname: t.prodigy.gameContainer.Localizer.getText("NPC_NAME_THIEF")
                } ],
                drops: [ {
                    type: "item",
                    ID: 87
                } ]
            }, null, function() {
                e.thiefDefeated(t);
            }, null, this.zone.onFaint);
        }, e.prototype.thiefDefeated = function(t) {
            this.zone.setState("quest", {
                ID: 2,
                req: {
                    type: "item",
                    ID: 87,
                    N: 1
                },
                seq: 4,
                state: {}
            }), this.zone.completeSequence(2, 3), t.prodigy.world.teleport("skywatch-C4", 1160, 540);
        }, e;
    }(i(6).Quest);
    e.SkywatchQ2 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 13, "QUESTS_SKYWATCH_DEFEAT_BOSS", {
                type: "seq",
                N: 1
            }, [ "skywatch-E4" ], [ 37, 38 ], [], [ 39, 40, 41 ], [ {
                type: "spell",
                ID: 27
            }, {
                type: "key",
                ID: 10
            } ]) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            if (t.prototype.setup.call(this, e, i, a), this.zone.isOnSequence(13, 0) && "skywatch-E4" === a.zoneName) {
                var o = i.content.add(e.prodigy.create.sprite(1045, -100, "default-boss-12", "main_cloud", new Phaser.Point(.5, 1))), r = i.foreground.add(e.prodigy.create.sprite(1035, -150, "default-boss-12", "main_eyes_1", new Phaser.Point(.5, 1)));
                e.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
                var s = e.prodigy.event.create();
                s.enableInput(!1), s.validPath(i.user, i.path, 399, 400), s.validPath(i.user, i.path, 400, 400), 
                s.sound(17, "wind"), s.function(function() {
                    var t = e.prodigy.animation.translate(o, 800, 400, 2e3, 0, null, !0);
                    e.prodigy.animation.translate(r, 790, 350, 2e3, 0, null, !0), 
                    t.onComplete.add(function() {
                        n.zone.changePosition(o, r);
                    });
                }), s.delay(5e3), s.enableInput(!0), s.function(this.zone.getBattle(a, e.prodigy.gameContainer.Localizer.getText("COMBAT_CLOUD_FIGHT"), {
                    boss: {
                        ID: 12,
                        level: 60,
                        element: "storm",
                        attacks: [ 25, 26, 27, 28 ],
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_STORMY_STORM"),
                        starBonus: 50,
                        tag: "skywatch"
                    },
                    drops: [ {
                        type: "weapon",
                        ID: 23
                    } ],
                    difficulty: 7
                }, function() {
                    n.zone.completeSequence(13, 0), n.zone.setState("eugene_A1", 1), 
                    e.prodigy.world.teleport("skywatch-E4");
                })), s.start();
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.SkywatchQ13 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 12, "", {
                type: "item",
                ID: 82,
                N: 2
            }, [ "skywatch-C3", "skywatch-D3" ], [ 34, 35, 36 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "item",
                ID: 83
            } ]) || this;
            return a.collectionMaps = {
                C3: [ 1 ],
                D3: [ 2 ]
            }, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a);
            var n = a.getTag();
            if ("C3" === n) i.addCollect(1, 260, 450, {
                type: "item",
                ID: 82
            }); else if ("D3" === n) return i.addCollect(2, 640, 350, {
                type: "item",
                ID: 82
            }), {
                enableMonsters: !1
            };
            return null;
        }, e;
    }(i(6).Quest);
    e.SkywatchQ12 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 11, "QUESTS_SKYWATCH_FIND_EUGENE", {
                type: "seq",
                N: 2
            }, [ "skywatch-E2" ], [ 31, 32, 33 ], [], [ 1 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "hat",
                ID: 8
            } ]) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "skywatch-E2" === a.zoneName ? (a.addConstructedNPC(e, i, 710, 415, "atlas-68", null, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_EUGENE")), 
            this.zone.isOnSequence(11, 0) ? this.monstersAmbushEugene(e, i, a) : this.zone.isOnSequence(11, 1) && this.rescuedEugene(e, i), 
            {
                enableMonsters: !1
            }) : null;
        }, e.prototype.monstersAmbushEugene = function(t, e, i) {
            var a = this, n = t.prodigy.event.create();
            i.addMonster(t, e, 1, 380, 380, !1, {
                encounter: [ {
                    ID: 115
                } ]
            }), i.addMonster(t, e, 3, 520, 515, !1, {
                encounter: [ {
                    ID: 115
                } ]
            }), i.addMonster(t, e, 2, 900, 380, !1, {
                encounter: [ {
                    ID: 115
                } ]
            }).flip(), n.enableInput(!1), n.delay(500), n.enableInput(!0), n.text(0, "eugene"), 
            n.text(), n.text(100, "noot"), n.enableInput(!1), n.set(e.user, "evtProc", !0), 
            n.function(e.user.chat.bind(e.user, 1, 80)), n.delay(1e3), n.path(e.user, [ {
                x: 635,
                y: 560
            } ]), n.path(e.user, [ {
                x: 640,
                y: 420
            } ]), n.delay(500), n.enableInput(!0), n.function(this.zone.getBattle(i, t.prodigy.gameContainer.Localizer.getText("COMBAT_SAVE_EUGENE"), {
                pets: [ {
                    ID: 115
                }, {
                    ID: 115
                }, {
                    ID: 115
                }, {
                    ID: 115
                } ]
            }, function() {
                a.zone.completeSequence(11, 0), t.prodigy.world.teleport("skywatch-E2", 640, 420);
            })), n.start();
        }, e.prototype.rescuedEugene = function(t, e) {
            var i = t.prodigy.event.create();
            i.text(1, "eugene"), i.text(2, "eugene"), i.text(3, "eugene"), i.text(4, "eugene"), 
            i.text(5, "eugene"), i.text(6, "eugene"), i.function(this.zone.completeSequence.bind(this.zone, 11, 1)), 
            i.function(e.process.bind(e)), i.start();
        }, e;
    }(i(6).Quest);
    e.SkywatchQ11 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 10, "QUESTS_SKYWATCH_TRIM_VINES", {
                type: "seq",
                N: 1
            }, [ "skywatch-D3" ], [ 30 ], [], [ 1, 46 ], [ {
                type: "spell",
                ID: 26
            } ]) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "skywatch-D3" === a.zoneName ? {
                enableMonsters: !1
            } : null;
        }, e.prototype.start = function(e, i, a) {
            var n = this;
            if (t.prototype.start.call(this, e, i, a), this.zone.isOnSequence(10, 0) && "skywatch-D3" === a.zoneName) {
                var o = e.prodigy.create.element(i.foreground, 740, 140);
                o.highlight(!0);
                i.addClickableEvent(630, 30, 250, 250, function() {
                    var t = i.content.add(e.prodigy.create.sprite(850, -100, "default-boss-12", "ice_cloud", new Phaser.Point(.5, 1))), r = i.foreground.add(e.prodigy.create.sprite(840, -150, "default-boss-12", "med_face_0", new Phaser.Point(.5, 1))), s = function() {
                        var t = i.user.x, o = i.user.y;
                        e.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
                        var r = e.prodigy.event.create();
                        r.enableInput(!1), r.delay(2e3), r.enableInput(!0), r.function(n.zone.getBattle(a, e.prodigy.gameContainer.Localizer.getText("COMBAT_CLOUD_FIGHT"), {
                            boss: {
                                ID: 12,
                                level: 50,
                                element: "ice",
                                attacks: [ 19, 20, 21, 22 ],
                                name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_FROSTY_STORM"),
                                starBonus: 30,
                                tag: "skywatch"
                            },
                            screen: "battle-skywatch-outside"
                        }, function() {
                            n.zone.completeSequence(10, 0), n.zone.setState("plug-D3", null), 
                            n.zone.setState("vines-D3", null), e.prodigy.world.teleport("skywatch-D3", t, o);
                        })), r.start();
                    }, l = e.prodigy.event.create();
                    l.validPath(i.user, i.path, 580, 270), l.enableInput(!1), l.fire(655, 45, 290, 290, 2, !1, !0), 
                    l.function(o.highlight.bind(o, !1)), l.function(n.zone.shrinkVines.bind(n.zone, a)), 
                    l.delay(3e3), l.sound(17, "wind"), l.function(function() {
                        var i = e.prodigy.animation.translate(t, 850, 200, 2e3, 0, null, !0);
                        e.prodigy.animation.translate(r, 840, 150, 2e3, 0, null, !0), 
                        i.onComplete.add(function() {
                            n.zone.changePosition(t, r), s();
                        });
                    }.bind(n, e, i)), l.start();
                }.bind(this, e, i), null, 0);
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.SkywatchQ10 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 1, "", {
                type: "pet",
                ID: 72,
                N: 3,
                U: !0
            }, [ "skywatch-B2" ], [ 2, 3, 4, 5, 6, 7 ], [], [ 0, 8 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), "B2" === a.tag) {
                var n = {
                    randDir: !0,
                    encounter: [ {
                        ID: 72
                    } ]
                };
                return a.addMonster(e, i, 0, 400, 400, !0, n, !1), a.addMonster(e, i, 1, 810, 360, !0, n, !1), 
                a.addMonster(e, i, 2, 920, 415, !0, n, !1), {
                    enableMonsters: !1
                };
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.SkywatchQ1 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "E5", "MAP_SKYWATCH_OUTSKIRTS", 999, 555, [ "skywatch-E4" ], i) || this;
            return a.insideTrigger = !1, a.lastFrameInsideTrigger = !1, a.user = null, 
            a.battleBG = "battle-skywatch-outside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.enableLayerID(3, !1), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1010,
                y: 720,
                r: 120
            }, "skywatch-E4", 360, 380, null, o.EAreaEventAngle.DOWN, !1), this.user = i.user;
        }, e.prototype.update = function(e) {
            r.Util.isValid(this.user) && (this.insideTrigger = Phaser.Math.distance(this.user.x, this.user.y, 430, 490) <= 100, 
            this.insideTrigger !== this.lastFrameInsideTrigger && this.toggleDynamicLayer(e, 3, this.insideTrigger, 500), 
            this.lastFrameInsideTrigger = this.insideTrigger), t.prototype.update.call(this, e);
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchE5 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "E4", "MAP_SKYWATCH_END_CHAMBER", 640, 380, [ "skywatch-E3", "skywatch-E5" ], i.concat([ "default-boss-12" ])) || this;
            return a.battleBG = "battle-skywatch-inside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 640,
                y: 550,
                w: 160,
                h: 100,
                rect: !0
            }, "skywatch-E3", 600, 480, null, o.EAreaEventAngle.DOWN, !1), this.addAreaEvent(e, i, {
                x: 340,
                y: 340,
                w: 80,
                h: 40,
                rect: !0
            }, "skywatch-E5", 999, 555, null, o.EAreaEventAngle.UP, !1), i.addClickableEvent(300, 200, 80, 120, this.validPathTo.bind(this, e, i, 360, 340), null);
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchE4 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "E3", "MAP_SKYWATCH_BLAST_DOORS", 1060, 560, [ "skywatch-E1", "skywatch-E4" ], i) || this;
            return a.battleBG = "battle-skywatch-inside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1120,
                y: 720,
                r: 120
            }, "skywatch-E1", 160, 160, null, o.EAreaEventAngle.DOWN, !1), e.prodigy.player.backpack.hasItem("item", 83) > 0) this.addAreaEvent(e, i, {
                x: 620,
                y: 360,
                w: 120,
                h: 80,
                rect: !0
            }, "skywatch-E4", 640, 380, null, o.EAreaEventAngle.UP, !1), i.addClickableEvent(560, 240, 120, 160, this.validPathTo.bind(this, e, i, 620, 390), null); else {
                i.addClickableEvent(520, 200, 160, 120, function(t) {
                    var e = t.prodigy.event.create();
                    e.popup(t.prodigy.gameContainer.Localizer.getText("SKYWATCH_REQUIRE_MASTER_KEY")), 
                    e.start();
                }.bind(this, e), null);
            }
            this.addChest(e, i, "chest5", 900, 400, [ {
                type: "hat",
                ID: 45
            } ], null, "A");
            this.addMonster(e, i, 0, 725, 480, !0, {
                randDir: !0,
                encounter: [ {
                    ID: 113
                }, {
                    ID: 115
                }, {
                    ID: 120
                } ]
            }, !1);
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchE3 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "E2", "MAP_SKYWATCH_OLD_MANS_ROOM", 200, 560, [ "skywatch-E1" ], i.concat([ "atlas-68" ])) || this;
            return a.battleBG = "battle-skywatch-inside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 200,
                y: 720,
                r: 120
            }, "skywatch-E1", 1120, 370, null, o.EAreaEventAngle.DOWN, !1);
            var n = {
                opponent: [ {
                    data: {
                        level: 60
                    },
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_BARRY_BOSS"),
                        gender: "male",
                        hair: {
                            style: 16,
                            color: 3
                        },
                        skinColor: 1,
                        eyeColor: 4
                    },
                    equipment: {
                        hat: 3,
                        outfit: 3,
                        weapon: 3
                    }
                } ],
                pets: [ {
                    ID: 113,
                    level: 52
                }, {
                    ID: 115,
                    level: 53
                } ]
            };
            this.addWizard(e, i, 965, 530, "wizard2", n).flip();
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchE2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "E1", "MAP_SKYWATCH_FACTORY_MAIN_HALL", 1120, 560, [ "skywatch-D1", "skywatch-E2", "skywatch-E3" ], i) || this;
            return a.battleBG = "battle-skywatch-inside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1100,
                y: 720,
                r: 120
            }, "skywatch-D1", 680, 360, null, o.EAreaEventAngle.DOWN, !1), this.addAreaEvent(e, i, {
                x: 160,
                y: 0,
                r: 120
            }, "skywatch-E3", 1060, 560, null, o.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
                x: 1102,
                y: 320,
                w: 100,
                h: 80,
                rect: !0
            }, "skywatch-E2", 200, 560, null, o.EAreaEventAngle.UP, !1), i.addClickableEvent(1060, 200, 80, 120, this.validPathTo.bind(this, e, i, 1120, 350), null);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 113
                }, {
                    ID: 115
                }, {
                    ID: 120
                } ]
            };
            this.addMonster(e, i, 1, 800, 400, !0, n, !1), this.addMonster(e, i, 2, 400, 400, !0, n, !1);
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchE1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "D3", "MAP_SKYWATCH_WIND_TUNNEL", 270, 250, [ "skywatch-D2" ], i.concat([ "atlas-116", "default-boss-12" ])) || this;
            return a.battleBG = "battle-skywatch-outside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.enableLayerID(2, r.Util.isValid(this.zone.getState("vines-D3"))), 
            r.Util.isValid(this.zone.getState("plug-D3")) ? this.unplug(e) : this.plugIn(e), 
            t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 260,
                y: 240,
                w: 1,
                h: 1
            }, "skywatch-D2", 0, 0, null, o.EAreaEventAngle.LEFT, !1, !0);
            var n = i.content.add(e.prodigy.create.sprite(240, 175, "atlas-122", "cart-vertical"));
            n.scale.x = -n.scale.x, i.addClickableEvent(160, 210, 100, 100, this.zone.interactTrolley.bind(this.zone, i, [ {
                x: 265,
                y: 280
            }, {
                x: 200,
                y: 270
            } ], {
                trolley: n,
                x: "0",
                y: "-300",
                duration: 3e3,
                target: "skywatch-D2",
                targetX: 1020,
                targetY: 580
            }), null);
            this.addMonster(e, i, 1, 450, 400, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 40
                }, {
                    ID: 43
                } ]
            });
        }, e.prototype.displayStationaryFanribbons = function(t, e) {
            this.enableLayerID(2, !1), this.toggleDynamicLayer(t, 2, !1);
        }, e.prototype.plugIn = function(t) {
            this.enableLayerID(0, !1), this.toggleDynamicLayer(t, 0, !1), this.enableLayerID(1, !0), 
            this.toggleDynamicLayer(t, 1, !0);
        }, e.prototype.unplug = function(t) {
            this.enableLayerID(1, !1), this.toggleDynamicLayer(t, 1, !1), this.enableLayerID(0, !0), 
            this.toggleDynamicLayer(t, 0, !0);
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchD3 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "D2", "MAP_SKYWATCH_BREEZY_PASS", 140, 290, [ "skywatch-D1", "skywatch-D3" ], i.concat([ "atlas-116" ])) || this;
            return a.trolley2 = null, a.battleBG = "battle-skywatch-outside", a.coord = [ new Phaser.Point(280, 450), new Phaser.Point(780, 330) ], 
            a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.enableLayerID(2, !r.Util.isValid(this.zone.getState("vines-D2"))), 
            t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 210,
                y: 182,
                w: 1,
                h: 1
            }, "skywatch-D1", 0, 0, null, o.EAreaEventAngle.LEFT, !1, !1), this.addAreaEvent(e, i, {
                x: 1e3,
                y: 575,
                w: 1,
                h: 1
            }, "skywatch-D3", 0, 0, null, o.EAreaEventAngle.LEFT, !1, !1);
            var n = i.content.add(e.prodigy.create.sprite(100, 96, "atlas-122", "cart-horizontal"));
            this.trolley2 = i.content.add(e.prodigy.create.sprite(1e3, 515, "atlas-122", "cart-vertical")), 
            this.trolley2.scale.x = -this.trolley2.scale.x, i.addClickableEvent(105, 160, 80, 80, this.zone.interactTrolley.bind(this.zone, i, [ {
                x: 145,
                y: 250
            }, {
                x: 155,
                y: 220
            } ], {
                trolley: n,
                x: "-300",
                y: "0",
                duration: 3e3,
                target: "skywatch-D1",
                targetX: 1100,
                targetY: 540
            }), null), r.Util.isValid(this.zone.getState("vines-D2")) && i.addClickableEvent(925, 555, 90, 90, this.zone.interactTrolley.bind(this.zone, i, [ {
                x: 1040,
                y: 600
            }, {
                x: 965,
                y: 600
            } ], {
                trolley: this.trolley2,
                x: "0",
                y: "+300",
                duration: 3e3,
                target: "skywatch-D3",
                targetX: 300,
                targetY: 250
            }), null);
            var s = {
                randDir: !0,
                encounter: [ {
                    ID: 40
                }, {
                    ID: 43
                } ]
            };
            this.addMonster(e, i, 1, 500, 300, !1, s), this.addMonster(e, i, 2, 940, 250, !1, s), 
            this.addChest(e, i, "chest4", 640, 200, [ {
                type: "weapon",
                ID: 69
            } ], null, "A");
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchD2 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "D1", "MAP_SKYWATCH_FACTORY_ENTRANCE", 189, 549, [ "skywatch-A1", "skywatch-D2", "skywatch-E1" ], i.concat("atlas-81")) || this;
            return a.trolley2 = null, a.battleBG = "battle-skywatch-outside", a.coord = [ new Phaser.Point(400, 540), new Phaser.Point(780, 570) ], 
            a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.enableLayerID(2, !r.Util.isValid(this.zone.getState("vines-D1"))), 
            t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), e.prodigy.player.backpack.hasItem("item", 81) > 0) this.addAreaEvent(e, i, {
                x: 620,
                y: 280,
                w: 120,
                h: 80,
                rect: !0
            }, "skywatch-E1", 1120, 560, null, o.EAreaEventAngle.UP), i.addClickableEvent(580, 140, 80, 140, this.validPathTo.bind(this, e, i, 680, 290), null); else {
                i.addClickableEvent(580, 140, 80, 140, function(t) {
                    var e = t.prodigy.event.create();
                    e.popup(t.prodigy.gameContainer.Localizer.getText("SKYWATCH_REQUIRE_FACTORY_KEY")), 
                    e.start();
                }.bind(this, e), null, null);
            }
            this.addAreaEvent(e, i, {
                x: 190,
                y: 420,
                w: 1,
                h: 1
            }, "skywatch-A1", 0, 0, null, o.EAreaEventAngle.LEFT, !1, !0), this.addAreaEvent(e, i, {
                x: 1075,
                y: 440,
                w: 1,
                h: 1
            }, "skywatch-D2", 0, 0, null, o.EAreaEventAngle.RIGHT, !1, !0);
            var n = i.content.add(e.prodigy.create.sprite(75, 296, "atlas-122", "cart-horizontal"));
            this.trolley2 = i.content.add(e.prodigy.create.sprite(1075, 296, "atlas-122", "cart-horizontal")), 
            this.trolley2.alpha = 0, r.Util.isValid(this.zone.getState("vines-D1")) && (this.trolley2.alpha = 1, 
            i.addClickableEvent(1080, 360, 80, 80, this.zone.interactTrolley.bind(this.zone, i, [ {
                x: 1130,
                y: 450
            }, {
                x: 1120,
                y: 420
            } ], {
                trolley: this.trolley2,
                x: "+200",
                y: "0",
                duration: 3e3,
                target: "skywatch-D2",
                targetX: 140,
                targetY: 290
            }), null, 0)), i.addClickableEvent(80, 360, 80, 80, this.zone.interactTrolley.bind(this.zone, i, [ {
                x: 130,
                y: 450
            }, {
                x: 120,
                y: 420
            } ], {
                trolley: n,
                x: "-200",
                y: "0",
                duration: 3e3,
                target: "skywatch-A1",
                targetX: 1100,
                targetY: 500
            }), null, 0);
            this.addMonster(e, i, 1, 400, 425, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 40
                }, {
                    ID: 43
                } ]
            });
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchD1 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C4", "MAP_SKYWATCH_SKY_SHOWER", 1160, 550, [ "skywatch-C3" ], i.concat([ "atlas-81", "atlas-70", "default-boss-12" ])) || this;
            return a.battleBG = "battle-skywatch-outside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.plugIn(!r.Util.isValid(this.zone.getState("plug-C4"))), 
            this.enableLayerID(2, r.Util.isValid(this.zone.getState("vines-C4"))), 
            t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1150,
                y: 660,
                w: 100,
                h: 200,
                rect: !0
            }, "skywatch-C3", 120, 210, null, o.EAreaEventAngle.DOWN), !this.zone.isOnSequence(2, 3) && !this.zone.isOnQuest(9)) {
                var n = {
                    randDir: !0,
                    encounter: [ {
                        ID: 56
                    }, {
                        ID: 84
                    }, {
                        ID: 13
                    } ]
                };
                this.addMonster(e, i, 1, 250, 460, !1, n), this.addMonster(e, i, 2, 700, 560, !1, n);
            }
        }, e.prototype.plugIn = function(t) {
            this.enableLayerID(0, !t), this.enableLayerID(1, t);
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchC4 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C3", "MAP_SKYWATCH_CLOUDY_PASS", 1160, 210, [ "skywatch-C1", "skywatch-C4" ], i.concat("atlas-82")) || this;
            return a.battleBG = "battle-skywatch-outside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1155,
                y: 100,
                w: 100,
                h: 200,
                rect: !0
            }, "skywatch-C1", 115, 510, null, o.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
                x: 120,
                y: 100,
                w: 100,
                h: 200,
                rect: !0
            }, "skywatch-C4", 1160, 540, null, o.EAreaEventAngle.UP);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 56
                }, {
                    ID: 84
                }, {
                    ID: 13
                } ]
            };
            this.addMonster(e, i, 1, 400, 400, !1, n), this.addMonster(e, i, 2, 870, 320, !1, n), 
            this.addChest(e, i, "chest3", 800, 220, [ {
                type: "gold",
                N: 500
            } ], null, "A");
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchC3 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C2", "MAP_SKYWATCH_INNER_SCREWBALL_SHACK", 625, 520, [ "skywatch-C1" ], i.concat([ "atlas-81" ])) || this;
            return a.battleBG = "battle-skywatch-inside", a;
        }
        return n(e, t), e.prototype.setup = function(t, e, i) {
            this.addAreaEvent(t, e, {
                x: 620,
                y: 560,
                w: 160,
                h: 70,
                rect: !0
            }, "skywatch-C1", 200, 360, null, o.EAreaEventAngle.DOWN);
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchC2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C1", "MAP_SKYWATCH_SCREWBALL_SHACK", 1120, 160, [ "skywatch-A1", "skywatch-C2", "skywatch-C3" ], i.concat([ "atlas-116" ])) || this;
            return a.battleBG = "battle-skywatch-outside", a.coord = [ new Phaser.Point(370, 580), new Phaser.Point(590, 350) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1205,
                y: 160,
                w: 150,
                h: 100,
                rect: !0
            }, "skywatch-A1", 240, 610, null, o.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
                x: 115,
                y: 620,
                w: 100,
                h: 200,
                rect: !0
            }, "skywatch-C3", 1160, 210, null, o.EAreaEventAngle.DOWN), this.addAreaEvent(e, i, {
                x: 220,
                y: 268,
                w: 90,
                h: 140,
                rect: !0
            }, "skywatch-C2", 625, 520, null, o.EAreaEventAngle.UP);
            this.addMonster(e, i, 2, 870, 320, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 56
                }, {
                    ID: 84
                }, {
                    ID: 13
                } ]
            }), i.addClickableEvent(180, 190, 80, 120, this.validPathTo.bind(this, e, i, 195, 320), null);
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchC1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B3", "MAP_SKYWATCH_GREAT_GRATERS", 1030, 560, [ "skywatch-B1" ], i.concat([ "default-boss-12" ])) || this;
            return a.battleBG = "battle-skywatch-outside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return r.Util.isValid(this.zone.getState("plug-B3")) ? this.plugOut() : (this.plugIn(), 
            this.createIceBlocks(e, n)), this.enableLayerID(2, r.Util.isValid(this.zone.getState("vines-B3"))), 
            t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1035,
                y: 710,
                r: 130
            }, "skywatch-B1", 170, 150, null, o.EAreaEventAngle.DOWN);
        }, e.prototype.plugIn = function() {
            this.enableLayerID(0, !1), this.enableLayerID(1, !0);
        }, e.prototype.plugOut = function() {
            this.enableLayerID(1, !1), this.enableLayerID(0, !0);
        }, e.prototype.createIceBlocks = function(t, e) {
            var i = t.prodigy.event.create();
            i.delay(Math.floor(3e3 * Math.random())), i.function(this.createIceBlock.bind(this, t, e, 0)), 
            i.delay(Math.floor(3e3 * Math.random())), i.function(this.createIceBlock.bind(this, t, e, 1)), 
            i.delay(Math.floor(3e3 * Math.random())), i.function(this.createIceBlock.bind(this, t, e, 2)), 
            i.delay(Math.floor(3e3 * Math.random())), i.function(this.createIceBlock.bind(this, t, e, 3)), 
            i.start();
        }, e.prototype.createIceBlock = function(t, e, i) {
            var a = [ {
                x: 575,
                y: 430
            }, {
                x: 90,
                y: 430
            }, {
                x: 575,
                y: 550
            }, {
                x: 90,
                y: 550
            } ], n = [], o = t.prodigy.event.create();
            o.delay(Math.floor(5e3 * Math.random()) + 2e3), o.function(this.createIceBlock.bind(this, t, e, i)), 
            o.start();
            var r = [ {
                start: {
                    x: 483,
                    y: 105
                },
                path: [ {
                    x: 483,
                    y: 320
                }, {
                    x: 560,
                    y: 320
                } ],
                end: {
                    x: 715,
                    y: 380
                },
                angle: "+20"
            }, {
                start: {
                    x: 322,
                    y: 105
                },
                path: [ {
                    x: 322,
                    y: 320
                }, {
                    x: 240,
                    y: 320
                } ],
                end: {
                    x: 80,
                    y: 380
                },
                angle: "-20"
            }, {
                start: {
                    x: 483,
                    y: 740
                },
                path: [ {
                    x: 483,
                    y: 440
                }, {
                    x: 560,
                    y: 440
                } ],
                end: {
                    x: 715,
                    y: 500
                },
                angle: "+20"
            }, {
                start: {
                    x: 322,
                    y: 740
                },
                path: [ {
                    x: 322,
                    y: 440
                }, {
                    x: 240,
                    y: 440
                } ],
                end: {
                    x: 80,
                    y: 500
                },
                angle: "-20"
            } ][i], s = e.foreground.add(t.prodigy.create.sprite(r.start.x, r.start.y, "atlas-122", "ice-cube"));
            s.anchor.setTo(.5, 1), s.alpha = 0, n.push(t.add.tween(s).to({
                x: r.path[0].x,
                y: r.path[0].y
            }, 3e3, Phaser.Easing.Linear.None).to({
                x: r.path[1].x,
                y: r.path[1].y
            }, 1500, Phaser.Easing.Linear.None).to({
                x: r.end.x,
                y: r.end.y
            }, 3e3, Phaser.Easing.Linear.None)), n.push(t.add.tween(s.scale).to({
                x: .1,
                y: .1
            }, 3e3, Phaser.Easing.Linear.None, null, 4900)), n.push(t.add.tween(s).to({
                alpha: 1
            }, 250, Phaser.Easing.Linear.None, null)), n.push(t.add.tween(s).to({
                angle: r.angle
            }, 500, Phaser.Easing.Linear.None, null, 4700)), n[1].onComplete.add(this.makeSnow.bind(this, t, e, a[i].x, a[i].y)), 
            n[1].onComplete.add(function() {
                s.destroy();
            });
            for (var l = 0; l < n.length; l++) n[l].start();
        }, e.prototype.makeSnow = function(t, i, a, n) {
            var o = i.background;
            if (!r.Util.isValid(this.snows)) {
                this.snows = [];
                for (var s = 0; s < 20; s++) this.snows[s] = o.add(t.prodigy.create.sprite(a, n, "atlas-10", "42-30"));
            }
            for (s = 0; s < 20; s++) this.snows[s].x = a, this.snows[s].y = n, e.newFlake(t, this.snows[s], !0, a, n);
        }, e.newFlake = function(t, e, i, a, n) {
            if (r.Util.isValid(t)) {
                var o = Math.floor(2e3 * Math.random()) + 2e3;
                e.frameName = Math.random() < .5 ? "42-16" : "42-30", e.x = a + Math.floor(140 * Math.random()), 
                i ? o -= Math.floor(o / 720 * e.y) : e.y = n, t.prodigy.animation.translate(e, e.x, 720, o, null, null, !0);
            }
        }, e.prototype.cleanup = function() {
            for (var e = 0; e < (r.Util.isValid(this.snows) ? this.snows.length : 0); e++) this.snows[e].destroy();
            this.snows = null, t.prototype.cleanup.call(this);
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchB3 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B2", "MAP_SKYWATCH_GARDENERS_HUT_INNER", 640, 510, [ "skywatch-B1" ], i.concat([ "atlas-81" ])) || this;
            return a.battleBG = "battle-skywatch-inside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 660,
                y: 550,
                w: 130,
                h: 70,
                rect: !0
            }, "skywatch-B1", 760, 390, null, o.EAreaEventAngle.DOWN);
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchB2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(42), r = i(1), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B1", "MAP_SKYWATCH_GARDENERS_HUT_EXTERIOR", 1140, 549, [ "skywatch-A1", "skywatch-B2", "skywatch-B3" ], i.concat("atlas-82")) || this;
            return a.battleBG = "battle-skywatch-outside", a.coord = [ new Phaser.Point(460, 530), new Phaser.Point(200, 560) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1150,
                y: 710,
                r: 120
            }, "skywatch-A1", 120, 190, null, r.EAreaEventAngle.DOWN), this.addAreaEvent(e, i, {
                x: 740,
                y: 340,
                w: 80,
                h: 80,
                rect: !0
            }, "skywatch-B2", 640, 510, null, r.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
                x: 150,
                y: 0,
                r: 120
            }, "skywatch-B3", 1030, 560, null, r.EAreaEventAngle.UP), this.addPippet(e, i, 1, 775, 500);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 18
                }, {
                    ID: 20
                }, {
                    ID: 72
                } ]
            };
            this.addMonster(e, i, 1, 640, 565, !1, n), this.addMonster(e, i, 2, 200, 400, !1, n), 
            i.addClickableEvent(700, 240, 80, 120, this.validPathTo.bind(this, e, i, 740, 370), null), 
            this.addChest(e, i, "chest2", 620, 420, [ {
                type: "outfit",
                ID: 41
            } ], null, "A"), new o.ToyMerchant(e, i.content, 1144, 443);
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchB1 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(0), s = function(t) {
        function e(e, i) {
            return t.call(this, e, "A1", "MAP_SKYWATCH_UPPER_BEANOVATOR", 620, 350, [ "skywatch-A0", "skywatch-B1", "skywatch-C1", "skywatch-D1" ], i.concat([ "atlas-116", "atlas-64", "atlas-76" ])) || this;
        }
        return n(e, t), e.prototype.setup = function(i, a, n) {
            t.prototype.setup.call(this, i, a, n), this.addAreaEvent(i, a, {
                x: 50,
                y: 50,
                r: 120
            }, "skywatch-B1", 1140, 560, null, o.EAreaEventAngle.UP_LEFT, !1), this.addAreaEvent(i, a, {
                x: 110,
                y: 600,
                w: 220,
                h: 100,
                rect: !0
            }, "skywatch-C1", 1120, 160, null, o.EAreaEventAngle.LEFT, !1);
            var s = a.addConstructedQuestNPC(760, 500, "benni", !1, e.zoneComplete.bind(this, i)), l = a.content.add(i.prodigy.create.sprite(1110, 336, "atlas-122", "cart-horizontal"));
            this.addAreaEvent(i, a, {
                x: 1100,
                y: 440,
                w: 1,
                h: 1
            }, "skywatch-D1", 0, 0, null, o.EAreaEventAngle.RIGHT, !1, !0), this.addAreaEvent(i, a, {
                x: 653,
                y: 187,
                w: 1,
                h: 1,
                rect: !0
            }, "skywatch-A0", 650, 360, null, o.EAreaEventAngle.DOWN, !1, !0), a.createStoreNPC(430, 360, 5, i.prodigy.gameContainer.Localizer.getText("STORE_SKY_HIGH"), !0), 
            a.addClickableEvent(1115, 400, 80, 80, this.zone.interactTrolley.bind(this.zone, a, [ {
                x: 1140,
                y: 480
            }, {
                x: 1165,
                y: 460
            } ], {
                trolley: l,
                x: "+200",
                y: "0",
                duration: 3e3,
                target: "skywatch-D1",
                targetX: null,
                targetY: null
            }), null, 0), a.addClickableEvent(593, 200, 134, 140, this.zone.elevator.bind(this.zone, a, [ {
                x: 660,
                y: 340
            }, {
                x: 660,
                y: 320
            } ], {
                x: 600,
                y: 200
            }, {
                target: "skywatch-A0",
                x: 1100,
                y: 450
            }), null, 0);
            var h = this.addConstructedNPC(i, a, 440, 500, "atlas-64", s.process.bind(s, this.zone, null, !0), i.prodigy.gameContainer.Localizer.getText("NPC_NAME_BROCCOLINA"), null);
            r.Util.isValid(h) && (h.flip(), h.nameText.x -= 55), r.Util.isValid(this.zone.getState("eugene_A1")) && this.addConstructedNPC(i, a, 685, 390, "atlas-68", s.process.bind(s, this.zone, null, !0), i.prodigy.gameContainer.Localizer.getText("NPC_NAME_EUGENE"), null);
        }, e.zoneComplete = function(t) {
            var e = t.prodigy.event.create();
            e.text(1, "benni"), e.text(0, "benni"), e.text(45, "benni"), e.start();
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchA1 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A0", "MAP_SKYWATCH_LOWER_BEANOVATOR", 1100, 450, [ "skywatch-A1", "shiverchill-B1" ], i) || this;
            return a.battleBG = "battle-skywatch-outside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1020,
                y: 410,
                w: 1,
                h: 1,
                rect: !0
            }, "skywatch-A1", 650, 360, null, o.EAreaEventAngle.UP, !1, !1), this.addChest(e, i, "chest1", 720, 360, [ {
                type: "gold",
                N: 200
            } ], null, "A"), i.addClickableEvent(953, 320, 134, 140, this.zone.elevator.bind(this.zone, i, [ {
                x: 1020,
                y: 460
            }, {
                x: 1020,
                y: 440
            } ], {
                x: 960,
                y: 320
            }, {
                target: "skywatch-A1",
                x: null,
                y: null
            }), null, 0);
            var n = {
                opponent: [ {
                    data: {
                        level: 45
                    },
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_MARY_MOSS"),
                        gender: "female",
                        hair: {
                            style: 2,
                            color: 2
                        },
                        skinColor: 2,
                        eyeColor: 3
                    },
                    equipment: {
                        hat: 2,
                        outfit: 2,
                        weapon: 2
                    }
                } ],
                pets: [ {
                    ID: 20,
                    level: 37
                }, {
                    ID: 43,
                    level: 38
                } ]
            };
            this.addWizard(e, i, 240, 340, "wizard1", n);
        }, e;
    }(i(23).SkywatchMap);
    e.SkywatchA0 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(31), r = i(343), s = i(342), l = i(341), h = i(340), c = i(339), p = i(338), u = i(337), d = i(336), g = i(335), y = i(334), f = i(333), m = i(332), _ = i(331), v = i(330), E = i(329), b = i(328), O = i(327), T = i(326), A = i(325), I = i(324), w = i(323), C = i(322), S = i(321), P = i(320), D = i(319), L = i(318), x = i(317), M = i(316), N = i(315), U = i(314), k = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            i.name = "Skywatch", i.ID = "skywatch", i.battleBG = "battle-skywatch-inside", 
            i.onFaint = "skywatch-A1", i.questHub = "skywatch-A1", i.bgmID = 18, 
            i.currency = 16, i.states = [ "chest1", "chest2", "chest3", "chest4", "chest5", "wizard1", "wizard2", "daily", "windowBroken", "plug-D3", "plug-B3", "plug-C4", "eugene_A1", "vines-D1", "vines-D2", "vines-D3", "vines-B3", "vines-C4" ], 
            i.monsters = [ 13, 15, 18, 20, 35, 40, 43, 56, 72, 84, 113, 115, 120 ];
            var a = [ "atlas-91", "tileset-town-new", "atlas-122", "atlas-61", "atlas-64", "atlas-68", "sfx-17", "tileset-skywatch", "tileset-skywatch-buildings", "tileset-collisions", "tileset-skywatch-factory", "tileset-generic-snow", "tileset-icecave-new", "tileset-cloud-new", "tileset-cloud", "tileset-interior", "tileset-town", "bgm-18" ];
            return i.maps = {
                A0: new r.SkywatchA0(i, a),
                A1: new s.SkywatchA1(i, a),
                B1: new l.SkywatchB1(i, a),
                B2: new h.SkywatchB2(i, a),
                B3: new c.SkywatchB3(i, a),
                C1: new p.SkywatchC1(i, a),
                C2: new u.SkywatchC2(i, a),
                C3: new d.SkywatchC3(i, a),
                C4: new g.SkywatchC4(i, a),
                D1: new y.SkywatchD1(i, a),
                D2: new f.SkywatchD2(i, a),
                D3: new m.SkywatchD3(i, a),
                E1: new _.SkywatchE1(i, a),
                E2: new v.SkywatchE2(i, a),
                E3: new E.SkywatchE3(i, a),
                E4: new b.SkywatchE4(i, a),
                E5: new O.SkywatchE5(i, a)
            }, i.quests = {
                1: new T.SkywatchQ1(i, a),
                2: new S.SkywatchQ2(i, a),
                3: new P.SkywatchQ3(i, a),
                4: new D.SkywatchQ4(i, a),
                5: new L.SkywatchQ5(i, a),
                6: new x.SkywatchQ6(i, a),
                7: new M.SkywatchQ7(i, a),
                8: new N.SkywatchQ8(i, a),
                9: new U.SkywatchQ9(i, a),
                10: new A.SkywatchQ10(i, a),
                11: new I.SkywatchQ11(i, a),
                12: new w.SkywatchQ12(i, a),
                13: new C.SkywatchQ13(i, a)
            }, i;
        }
        return n(e, t), e.prototype.getDailyMaps = function() {
            return [];
        }, e.prototype.interactTrolley = function(t, e, i) {
            var a = this.game.prodigy.event.create();
            a.validPath(t.user, t.path, e[0].x, e[0].y), a.function(t.removeFollow.bind(t, this.game.prodigy.player.userID)), 
            a.path(t.user, [ {
                x: e[1].x,
                y: e[1].y
            } ]), a.sound(17, "machines"), a.function(this.animateTrolley.bind(this, t, i.trolley, i.x, i.y, i.duration, i.target, i.targetX, i.targetY)), 
            a.start();
        }, e.prototype.animateTrolley = function(t, e, i, a, n, o, r, s) {
            this.game.add.tween(e).to({
                x: i,
                y: a
            }, n, Phaser.Easing.Linear.None).start(), this.game.add.tween(t.user).to({
                x: i,
                y: a
            }, n, Phaser.Easing.Linear.None).start();
            var l = this.game.prodigy.event.create();
            l.enableInput(!1), l.delay(3e3), l.enableInput(!0), l.function(this.game.prodigy.world.teleport.bind(this.game.prodigy.world, o, r, s)), 
            l.start();
        }, e.prototype.shrinkVines = function(t) {
            t.toggleDynamicLayer(this.game, 2, !1, 3e3);
        }, e.prototype.createVines = function(t) {
            t.toggleDynamicLayer(this.game, 2, !0);
        }, e.prototype.changePosition = function(t, e) {
            this.game.prodigy.animation.float(t, 20, 1400, !0, !0), this.game.prodigy.animation.float(e, 20, 1400, !0, !0);
        }, e.prototype.elevator = function(t, e, i, a) {
            var n = this.game.prodigy.event.create();
            n.validPath(t.user, t.path, e[0].x, e[0].y), n.function(this.hideFollow.bind(this, t)), 
            n.delay(200), n.enableInput(!1), n.sound(17, "elevator"), n.function(this.animateElevatorOpen.bind(this, t.content, i.x, i.y)), 
            n.delay(1e3), n.path(t.user, [ {
                x: e[1].x,
                y: e[1].y
            } ]), n.delay(1e3), n.function(this.animateElevatorClose.bind(this, t.foreground, i.x, i.y)), 
            n.set(t.user.nameText, "visible", !1), n.delay(1e3), n.enableInput(!0), 
            n.function(this.game.prodigy.world.teleport.bind(this.game.prodigy.world, a.target, a.x, a.y)), 
            n.start();
        }, e.prototype.animateElevatorOpen = function(t, e, i) {
            var a = t.add(this.game.prodigy.create.sprite(e, i, "atlas-122", "elevator-0", new Phaser.Point(.5, 1)));
            a.anchor.setTo(0, 0), a.animations.add("stand", [ "elevator-0", "elevator-1", "elevator-2", "elevator-3", "elevator-4" ], 10, !1, !1), 
            a.animations.play("stand");
        }, e.prototype.animateElevatorClose = function(t, e, i) {
            var a = t.add(this.game.prodigy.create.sprite(e, i, "atlas-122", "elevator-2", new Phaser.Point(.5, 1)));
            a.anchor.setTo(0, 0), a.animations.add("stand", [ "elevator-4", "elevator-3", "elevator-2", "elevator-1", "elevator-0" ], 10, !1, !1), 
            a.animations.play("stand");
        }, e;
    }(o.Zone);
    e.SkywatchZone = k;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 9, "", {
                type: "item",
                ID: 71,
                N: 1,
                K: !0
            }, [ "shiverchill-A6" ], [ 26 ], [], [ 0 ], [ {
                type: "gold",
                N: 100
            } ], !1) || this;
        }
        return n(e, t), e;
    }(i(6).Quest);
    e.ShiverchillQ9 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 8, "", {
                type: "pet",
                ID: 90,
                N: 3
            }, [ "shiverchill-B7", "shiverchill-B6" ], [ 23, 24, 2, 25 ], [], [ 0 ], [ {
                type: "gold",
                N: 100
            } ], !1) || this;
        }
        return n(e, t), e;
    }(i(6).Quest);
    e.ShiverchillQ8 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i.concat("default-boss-16"), 7, "QUESTS_SHIVERCHILL_UNKNOWN", {
                type: "seq",
                N: 1
            }, [ "shiverchill-B8" ], [ 21, 22 ], [ 69 ], [ 0 ], [ {
                type: "gold",
                N: 100
            } ], !1) || this;
        }
        return n(e, t), e.prototype.start = function(t, e, i) {
            return this.zone.isOnSequence(7, 0) && "B8" === i.getTag() && this.bossBattle(t, e, i), 
            null;
        }, e.prototype.endBattle = function(t) {
            this.zone.completeSequence(7, 0), t.prodigy.world.teleport("shiverchill-B8", 480, 320);
        }, e.prototype.bossBattle = function(t, e, i) {
            var a = this.zone.getBattle(i, t.prodigy.gameContainer.Localizer.getText("COMBAT_SCARY_WORM"), {
                boss: {
                    ID: 11,
                    level: 20,
                    element: "ice",
                    attacks: [ 19, 20, 21 ],
                    name: t.prodigy.gameContainer.Localizer.getText("NPC_NAME_UNKNOWN"),
                    starBonus: 30,
                    tag: "shiverchill"
                },
                screen: "battle-shiverchill-outside"
            }, this.endBattle.bind(this, t)), n = t.prodigy.event.create();
            n.enableInput(!1), n.path(e.user, [ {
                x: 425,
                y: 326
            }, {
                x: 420,
                y: 530
            }, {
                x: 290,
                y: 640
            } ]), n.shake(0, 3e3, 10, "v", !0), n.function(e.user.chat.bind(e.user, 1, 100)), 
            n.explode(540, 250, 150, 150, 1, !0), n.delay(700), n.explode(540, 100, 150, 250, 2, !0), 
            n.delay(1e3), n.function(function() {
                var i = t.add.spine(605, 315, "default-boss-16", void 0, e.content);
                i.scale.setTo(.65, .65), i.setAnimationByName(0, "idle", !0);
            }), n.explode(540, 250, 150, 150, 1), n.delay(1500), n.enableInput(!0), 
            n.text(73, "noot"), n.function(a), n.start();
        }, e;
    }(i(6).Quest);
    e.ShiverchillQ7 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 6, "QUESTS_SHIVERCHILL_HELP_MINER", {
                type: "seq",
                N: 2
            }, [ "shiverchill-A7" ], [ 20 ], [], [ 0 ], [ {
                type: "hat",
                ID: 54
            } ], !1) || this;
        }
        return n(e, t), e.prototype.start = function(t, e, i) {
            return this.zone.isOnSequence(6, 0) && "A7" === i.getTag() ? this.ambush(t, e, i) : this.zone.isOnSequence(6, 1) && "A7" === i.getTag() && this.talkToMerchant(t, e, i), 
            null;
        }, e.prototype.endBattle = function(t) {
            this.zone.completeSequence(6, 0), t.prodigy.world.teleport("shiverchill-A7", 328, 343);
        }, e.prototype.ambush = function(t, e, i) {
            var a = i.addMonster(t, e, 1, 0, 0, !1, {
                encounter: [ {
                    ID: 87
                } ]
            }), n = i.addMonster(t, e, 1, 0, 0, !1, {
                encounter: [ {
                    ID: 87
                } ]
            }), o = i.addMonster(t, e, 1, 0, 0, !1, {
                encounter: [ {
                    ID: 87
                } ]
            }), r = function(t, e, i) {
                i.x = t, i.y = e;
            }, s = t.prodigy.gameContainer.Localizer, l = this.zone.getBattle(i, t.prodigy.gameContainer.Localizer.getText("COMBAT_SNOWBALL_FIGHT"), {
                pets: [ {
                    ID: 87,
                    nickname: s.getText("NPC_NAME_CHILLY")
                }, {
                    ID: 87,
                    nickname: s.getText("NPC_NAME_FROSTY")
                }, {
                    ID: 87,
                    nickname: s.getText("NPC_NAME_FREEZY")
                } ]
            }, this.endBattle.bind(this, t)), h = t.prodigy.event.create();
            h.enableInput(!1), h.set(e.user, "evtProc", !0), h.path(e.user, [ {
                x: 450,
                y: 550
            }, {
                x: 430,
                y: 600
            } ]), h.delay(500), h.function(r.bind(i, 900, 600, a)), h.function(r.bind(i, 950, 650, n)), 
            h.function(r.bind(i, 950, 550, o)), h.function(e.user.chat.bind(e.user, 1, 80)), 
            h.path(a, [ {
                x: 600,
                y: 333
            } ], 1, !0), h.path(n, [ {
                x: 650,
                y: 333
            } ], 1, !0), h.path(o, [ {
                x: 600,
                y: 283
            } ], 1, !1), h.hop(a, 575, -140, 100, !0), h.hop(n, 575, -140, 100, !0), 
            h.hop(o, 575, -140, 100, !1), h.enableInput(!0), h.function(l), h.start();
        }, e.prototype.talkToMerchant = function(t, e, i) {
            o.Util.isValid(i.block) && (i.block.visible = !1);
            var a = t.prodigy.event.create();
            a.text(9, "merchant"), a.text(), a.text(71, "noot"), a.text(), a.text(10, "merchant"), 
            a.text(11, "merchant"), a.text(), a.text(72, "noot"), a.text(), a.text(12, "merchant"), 
            a.text(35, "merchant"), a.text(30, "merchant"), a.text(31, "merchant"), 
            a.text(32, "merchant"), a.enableSave(!1), a.function(t.prodigy.player.backpack.consume.bind(t.prodigy.player.backpack, "item", 72, 1)), 
            a.function(this.zone.completeSequence.bind(i.zone, 6, 1)), a.enableSave(!0), 
            a.function(e.process.bind(e)), a.start();
        }, e;
    }(i(6).Quest);
    e.ShiverchillQ6 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 5, "QUESTS_SHIVERCHILL_FIND_SHOVEL", {
                type: "item",
                ID: 73,
                N: 1
            }, [ "shiverchill-B6" ], [ 17 ], [ 70 ], [ 18, 2, 19 ], [ {
                type: "gold",
                N: 100
            }, {
                type: "item",
                ID: 72
            } ], !1) || this;
        }
        return n(e, t), e;
    }(i(6).Quest);
    e.ShiverchillQ5 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 4, "QUESTS_SHIVERCHILL_EXPLORE_CAVES", {
                type: "seq",
                N: 2
            }, [ "shiverchill-A7" ], [ 12, 13 ], [ 69 ], [ 14, 15, 2, 16 ], [ {
                type: "gold",
                N: 100
            }, {
                type: "item",
                ID: 75
            } ], !1) || this;
        }
        return n(e, t), e.prototype.start = function(t, e, i) {
            if (this.zone.isOnSequence(4, 0) && "B8" === i.getTag()) {
                var a = t.prodigy.event.create();
                a.enableInput(!1), a.path(e.user, [ {
                    x: 250,
                    y: 640
                } ]), a.function(e.user.chat.bind(e.user, 1, 100)), a.shake(0, 3e3, 10, "v"), 
                a.enableInput(!0), a.text(68, "noot"), a.function(this.zone.completeSequence.bind(i.zone, 4, 0)), 
                a.start();
            } else "A7" === i.getTag() && (this.zone.isQuestComplete(4) || i.npc.highlight(!0, -60, -100));
            return null;
        }, e;
    }(i(6).Quest);
    e.ShiverchillQ4 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 3, "QUESTS_SHIVERCHILL_ACTIVATE_FURNACE", {
                type: "zgteState",
                ID: "furnace",
                N: 1
            }, [ "shiverchill-B10" ], [ 10, 11 ], [], [ 0, 1 ], [ {
                type: "spell",
                ID: 19
            } ], !1) || this;
        }
        return n(e, t), e;
    }(i(6).Quest);
    e.ShiverchillQ3 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 2, "", {
                type: "item",
                N: 1,
                ID: 71,
                K: !0
            }, [ "shiverchill-A9" ], [ 7, 2, 8, 9 ], [], [ 0 ], [ {
                type: "gold",
                N: 100
            } ], !1) || this;
            return a.monsters = [], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), "A9" === a.getTag()) {
                if (!this.zone.isQuestComplete(2)) {
                    var n = {
                        randDir: !0,
                        highlight: !0,
                        encounter: [ {
                            ID: 122,
                            drops: [ {
                                type: "item",
                                ID: 71,
                                R: .3
                            } ]
                        }, {
                            ID: 78,
                            drops: [ {
                                type: "item",
                                ID: 71,
                                R: .2
                            } ]
                        } ]
                    };
                    return this.monsters = [], this.monsters.push(a.addMonster(e, i, 1, 490, 510, !1, n)), 
                    this.monsters.push(a.addMonster(e, i, 2, 720, 200, !1, n)), 
                    this.monsters.push(a.addMonster(e, i, 3, 1150, 460, !1, n)), 
                    this.monsters.push(a.addMonster(e, i, 4, 200, 230, !1, n)), 
                    {
                        enableMonsters: !1
                    };
                }
                if (o.Util.isValid(this.monsters)) for (var r = 0; r < this.monsters.length; r++) o.Util.isValid(this.monsters[r]) && o.Util.isValid(this.monsters[r].monsterData.drops) && delete this.monsters[r].monsterData.drops;
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.ShiverchillQ2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 15, "", {
                type: "key",
                N: 1,
                K: !0,
                ID: 4
            }, [ "shiverchill-B2" ], [ 36, 37 ], [], [ 0 ], [ {
                type: "weapon",
                ID: 74
            } ], !1) || this;
            return a.collectionMaps = {
                B2: [ 1 ]
            }, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), "B2" === a.getTag()) {
                i.addCollect(1, 640, 350, {
                    type: "key",
                    ID: 4
                });
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.ShiverchillQ15 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 14, "QUESTS_SHIVERCHILL_ACTIVATE_FURNACE", {
                type: "zgteState",
                ID: "furnace",
                N: 3
            }, [ "shiverchill-B10" ], [ 10, 11 ], [], [ 0, 1 ], [ {
                type: "spell",
                ID: 21
            } ], !1) || this;
        }
        return n(e, t), e;
    }(i(6).Quest);
    e.ShiverchillQ14 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i.concat("default-boss-16"), 13, "QUESTS_SHIVERCHILL_DEFEAT_ICE_WORM", {
                type: "seq",
                N: 1
            }, [ "shiverchill-A4" ], [ 34, 2, 35 ], [], [ 0 ], [ {
                type: "gold",
                N: 100
            } ], !1) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "A4" === a.getTag() ? {
                enableMonsters: !1
            } : null;
        }, e.prototype.start = function(t, e, i) {
            return this.zone.isOnSequence(13, 0) && "A4" === i.getTag() && (this.zone.hideFollow(e), 
            this.bossBattle(t, e, i)), null;
        }, e.prototype.endBattle = function(t) {
            this.zone.completeSequence(13, 0), t.prodigy.world.teleport("shiverchill-A4", 300, 460);
        }, e.prototype.bossBattle = function(t, e, i) {
            var a = this.zone.getBattle(i, t.prodigy.gameContainer.Localizer.getText("COMBAT_BOSS_BATTLE"), {
                boss: {
                    element: "ice",
                    attacks: [ 19, 20, 21 ],
                    name: t.prodigy.gameContainer.Localizer.getText("NPC_NAME_ICE_WORM"),
                    starBonus: 50,
                    tag: "shiverchill"
                },
                screen: "battle-shiverchill-inside",
                drops: [ {
                    ID: 71,
                    type: "item"
                } ]
            }, this.endBattle.bind(this, t)), n = function(t, e, i) {
                var a = e.background.add(t.prodigy.create.sprite(e.user.x, e.user.y, "atlas-21", "crystal"));
                a.anchor.setTo(.5, 1), t.add.tween(a).to({
                    x: i
                }, 500, Phaser.Easing.Linear.None).start(), t.add.tween(a).to({
                    y: "-50"
                }, 250, Phaser.Easing.Quadratic.Out).to({
                    y: "+50"
                }, 250, Phaser.Easing.Quadratic.In).start();
            };
            t.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
            var o = t.prodigy.event.create();
            o.set(e.user, "evtProc", !0), o.enableInput(!1), o.path(e.user, [ {
                x: 640,
                y: 530
            } ]), o.function(t.prodigy.player.backpack.consume.bind(t.prodigy.player.backpack, "item", 74, 5)), 
            o.function(n.bind(i, t, e, "-50")), o.delay(500), o.path(e.user, [ {
                x: 310,
                y: 600
            } ]), o.function(n.bind(i, t, e, "-50")), o.delay(500), o.path(e.user, [ {
                x: 200,
                y: 430
            } ]), o.function(n.bind(i, t, e, "-50")), o.delay(500), o.path(e.user, [ {
                x: 250,
                y: 340
            } ]), o.function(n.bind(i, t, e, "+50")), o.delay(500), o.path(e.user, [ {
                x: 470,
                y: 380
            } ]), o.function(n.bind(i, t, e, "+50")), o.delay(500), o.path(e.user, [ {
                x: 300,
                y: 460
            } ]), o.path(e.user, [ {
                x: 301,
                y: 460
            } ]), o.delay(500), o.shake(0, 3e3, 10, "v", !0), o.function(e.user.chat.bind(e.user, 1, 100)), 
            o.explode(360, 410, 150, 150, 1, !0), o.delay(700), o.explode(360, 260, 150, 250, 2, !0), 
            o.delay(1e3), o.function(function() {
                var i = t.add.spine(500, 510, "default-boss-16", void 0, e.content);
                i.scale.setTo(.65, .65), i.setAnimationByName(0, "idle", !0);
            }), o.explode(360, 410, 150, 150, 1), o.delay(1500), o.enableInput(!0), 
            o.function(a), o.start();
        }, e;
    }(i(6).Quest);
    e.ShiverchillQ13 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 12, "", {
                type: "item",
                ID: 74,
                N: 5,
                K: !0
            }, [ "shiverchill-A3", "shiverchill-B3" ], [ 30, 2, 31, 32, 33 ], [], [ 0 ], [ {
                type: "outfit",
                ID: 47
            } ], !1) || this;
            return a.collectionMaps = {
                A3: [ 1, 2, 3 ],
                B3: [ 4, 5 ]
            }, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), "B3" === a.getTag()) {
                var n = {
                    type: "item",
                    ID: 74
                };
                i.addCollect(4, 530, 550, n), i.addCollect(5, 860, 525, n);
            } else if ("A3" === a.getTag()) {
                n = {
                    type: "item",
                    ID: 74
                };
                i.addCollect(1, 980, 160, n), i.addCollect(2, 180, 450, n), i.addCollect(3, 670, 370, n);
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.ShiverchillQ12 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i.concat("default-boss-16"), 11, "QUESTS_SHIVERCHILL_CHECK_THRONE", {
                type: "seq",
                N: 1
            }, [ "shiverchill-B3" ], [ 27, 28 ], [], [ 29 ], [ {
                type: "gold",
                N: 100
            } ], !1) || this;
        }
        return n(e, t), e.prototype.start = function(t, e, i) {
            return this.zone.isOnSequence(11, 0) && "B3" === i.getTag() && this.cutscene(t, e, i), 
            null;
        }, e.prototype.cutscene = function(t, e, i) {
            i.boss = t.add.spine(930, 440, "default-boss-16", void 0, e.content), 
            i.boss.visible = !1, i.boss.scale.setTo(.65, .65), i.boss.setAnimationByName(0, "idle", !0);
            var a = e.content.add(t.prodigy.icon.createIcon(770, 400, "icon-item-71")), n = e.addNPC(250, 400, "atlas-81");
            n.visible = !1, n.float(!0);
            var o = t.prodigy.event.create();
            o.enableInput(!1), o.path(e.user, [ {
                x: 250,
                y: 400
            } ]), o.set(n, "visible", !0), o.hop(n, 300, 50, 50), o.enableInput(!0), 
            o.text(74, "noot"), o.enableInput(!1), o.delay(500), o.function(n.chat.bind(n, 1, 100)), 
            o.delay(500), o.path(n, [ {
                x: 550,
                y: 450
            } ]), o.enableInput(!0), o.text(75, "noot"), o.enableInput(!1), o.path(n, [ {
                x: 750,
                y: 500
            } ]), o.shake(0, 3e3, 10, "v", !0), o.function(n.chat.bind(n, 1, 100)), 
            o.explode(810, 350, 200, 150, 1, !0), o.delay(500), o.hop(n, 110, -140, 100, !0), 
            o.delay(700), o.explode(810, 200, 200, 250, 2, !0), o.delay(1e3), o.set(i.boss, "visible", !0), 
            o.explode(810, 350, 150, 150, 1), o.delay(1e3), o.shake(0, 3e3, 10, "v", !0), 
            o.explode(810, 350, 200, 150, 1, !0), o.delay(700), o.explode(810, 200, 200, 250, 2, !0), 
            o.delay(700), o.set(i.boss, "visible", !1), o.set(a, "visible", !1), 
            o.explode(810, 350, 150, 150, 1), o.enableInput(!0), o.text(76, "noot"), 
            o.enableInput(!1), o.path(n, [ {
                x: 300,
                y: 400
            } ]), o.hop(n, 300, -50, 50), o.set(n, "visible", !1), o.enableInput(!0), 
            o.function(this.zone.completeSequence.bind(i.zone, 11, 0)), o.function(e.process.bind(e)), 
            o.start();
        }, e;
    }(i(6).Quest);
    e.ShiverchillQ11 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 10, "QUESTS_SHIVERCHILL_ACTIVATE_FURNACE", {
                type: "zgteState",
                ID: "furnace",
                N: 2
            }, [ "shiverchill-B10" ], [ 10, 11 ], [], [ 0, 1 ], [ {
                type: "spell",
                ID: 20
            } ], !1) || this;
        }
        return n(e, t), e;
    }(i(6).Quest);
    e.ShiverchillQ10 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 1, "", {
                type: "pet",
                ID: 122,
                N: 3,
                U: !0
            }, [ "shiverchill-B10" ], [ 3, 4, 5, 6 ], [], [ 0 ], [ {
                type: "gold",
                N: 100
            } ], !1) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), "B10" === a.getTag()) {
                var n = {
                    randDir: !0,
                    encounter: [ {
                        ID: 122
                    } ]
                };
                a.addMonster(e, i, 1, 128, 255, !0, n), a.addMonster(e, i, 2, 1150, 480, !0, n), 
                a.addMonster(e, i, 3, 417, 408, !0, n);
            }
            return null;
        }, e.prototype.start = function(t, e, i) {
            if ("B10" === i.getTag() && this.zone.isOnSequence(1, 0)) {
                var a = t.prodigy.event.create();
                a.text(67, "noot"), a.function(this.zone.completeSequence.bind(i.zone, 1, 0)), 
                a.start();
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.ShiverchillQ1 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B9", "MAP_SHIVERCHILL_HIDDEN_ROOM", 645, 500, [ "shiverchill-B10" ], i.concat([ "atlas-121" ])) || this;
            return a.battleBG = "battle-shiverchill-inside", a.dailyCoordinates = [ {
                x: 680,
                y: 250
            }, {
                x: 280,
                y: 320
            }, {
                x: 945,
                y: 380
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 645,
                y: 650,
                r: 140
            }, "shiverchill-B10", 670, 250, null, o.EAreaEventAngle.DOWN), this.addChest(e, i, "chest5", 530, 370, [ {
                type: "item",
                ID: 2
            }, {
                type: "item",
                ID: 5
            }, {
                type: "item",
                ID: 6
            }, {
                type: "item",
                ID: 7
            }, {
                type: "item",
                ID: 15
            } ], null, null);
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillB9 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B8", "MAP_SHIVERCHILL_MOUNTAIN_PASS", 100, 550, [ "shiverchill-A9", "shiverchill-A7" ], i.concat([ "atlas-121", "tileset-generic-snow" ])) || this;
            return a.battleBG = "battle-shiverchill-outside", a.coord = [ new Phaser.Point(1200, 530), new Phaser.Point(820, 400), new Phaser.Point(445, 280) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 90,
                y: 410,
                r: 80
            }, "shiverchill-A9", 1125, 225, null, o.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
                x: 1090,
                y: 100,
                w: 100,
                h: 70
            }, "shiverchill-A7", 189, 650, null, o.EAreaEventAngle.UP), this.addChest(e, i, "chest2", 750, 200, [ {
                type: "hat",
                ID: 55
            } ], null, "A");
            var n = {
                encounter: [ {
                    ID: 16,
                    R: 1
                }, {
                    ID: 61,
                    R: 25
                } ]
            };
            this.addMonster(e, i, 1, 650, 240, !1, n), this.addMonster(e, i, 2, 1018, 622, !1, n);
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillB8 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B7", "MAP_SHIVERCHILL_RUINED_PASSAGE", 110, 220, [ "shiverchill-A7", "shiverchill-B6" ], i) || this;
            return a.battleBG = "battle-shiverchill-inside", a.coord = [ new Phaser.Point(320, 260), new Phaser.Point(380, 620) ], 
            a.dailyCoordinates = [ {
                x: 370,
                y: 540
            }, {
                x: 955,
                y: 400
            }, {
                x: 1190,
                y: 330
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(i, a, n) {
            t.prototype.setup.call(this, i, a, n), this.addAreaEvent(i, a, {
                x: 1150,
                y: 0,
                w: 280,
                h: 120
            }, "shiverchill-B6", 1060, 610, null, null), this.addAreaEvent(i, a, {
                x: 0,
                y: 250,
                w: 120,
                h: 280
            }, "shiverchill-A7", 1170, 220, null, null);
            var r = {
                encounter: [ {
                    ID: 90
                } ]
            };
            this.addMonster(i, a, 1, 674, 283, !1, r);
            var s = this.addMonster(i, a, 2, 95, 645, !1, r);
            if (o.Util.isValid(s)) {
                a.user.evtProc = !0;
                var l = i.add.tween(s).to({
                    x: 268
                }, 1500, Phaser.Easing.Linear.None).delay(2e3).start();
                i.add.tween(s).to({
                    y: 450
                }, 750, Phaser.Easing.Quadratic.Out).delay(2e3).to({
                    y: 500
                }, 750, Phaser.Easing.Quadratic.In).start(), l.onComplete.add(e.startPath.bind(this, a, s));
            }
        }, e.startPath = function(t, e) {
            o.Util.isValid(e) && e.patrol([ new Phaser.Point(270, 480), new Phaser.Point(1070, 480) ]), 
            t.user.evtProc = !1;
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillB7 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B6", "MAP_SHIVERCHILL_RUINED_STEPS", 1060, 610, [ "shiverchill-A6", "shiverchill-B7" ], i.concat([ "tileset-minecarts", "tileset-iceruins" ])) || this;
            return a.battleBG = "battle-shiverchill-inside", a.coord = [ new Phaser.Point(315, 635), new Phaser.Point(650, 600), new Phaser.Point(1100, 230) ], 
            a.dailyCoordinates = [ {
                x: 1100,
                y: 420
            }, {
                x: 1015,
                y: 110
            }, {
                x: 185,
                y: 400
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1e3,
                y: 720,
                w: 280,
                h: 120
            }, "shiverchill-B7", 1060, 110, null, null), this.addAreaEvent(e, i, {
                x: 0,
                y: 400,
                w: 170,
                h: 280
            }, "shiverchill-A6", 1170, 400, null, null), this.addChest(e, i, "chest1", 545, 280, [ {
                type: "item",
                ID: 73
            }, {
                type: "gold",
                N: 250
            } ], {
                type: "item",
                ID: 75
            }, "B");
            var n = {
                randDir: !1,
                encounter: [ {
                    ID: 90
                } ]
            };
            this.addMonster(e, i, 1, 420, 400, !1, n);
            var r = this.addMonster(e, i, 2, 700, 160, !1, n);
            o.Util.isValid(r) && r.patrol([ new Phaser.Point(700, 160), new Phaser.Point(980, 160), new Phaser.Point(1148, 423), new Phaser.Point(980, 160) ]);
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillB6 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B3", "MAP_SHIVERCHILL_ROYAL_PASSAGE", 110, 280, [ "shiverchill-B1", "shiverchill-A3", "shiverchill-B2" ], i.concat([ "atlas-121", "atlas-81", "tileset-iceruins", "tileset-minecarts" ])) || this;
            return a.battleBG = "battle-shiverchill-inside", a.dailyCoordinates = [ {
                x: 980,
                y: 250
            }, {
                x: 970,
                y: 400
            }, {
                x: 255,
                y: 490
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 0,
                y: 350,
                w: 150,
                h: 275
            }, "shiverchill-A3", 1160, 230, null, null), this.checkFurnaces(e, i);
        }, e.prototype.checkFurnaces = function(t, e) {
            this.zone.getState("furnace") >= 3 ? (this.zone.smoke(e, 1, 16), this.zone.smoke(e, 27, 16), 
            this.zone.smoke(e, 26, 12), e.addClickableEvent(520, 270, 80, 120, this.zone.doorClick.bind(this, e, 560, 370), null), 
            this.addAreaEvent(t, e, {
                x: 520,
                y: 285,
                w: 90,
                h: 80,
                rect: !0
            }, "shiverchill-B2", 640, 500, null, o.EAreaEventAngle.UP), this.addAreaEvent(t, e, {
                x: 1160,
                y: 90,
                w: 120,
                h: 50
            }, "shiverchill-B1", 200, 630, null, o.EAreaEventAngle.UP)) : (e.addBlock(520, 368, {
                x: .5,
                y: 1,
                atlas: "atlas-121",
                tag: "ice-cubes"
            }), e.addBlock(1160, 175, {
                x: .5,
                y: 1,
                atlas: "atlas-121",
                tag: "ice-cubes"
            }), this.addCollisionZone(e, 460, 60, 160, 220), this.addCollisionZone(e, 1060, 40, 180, 120));
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillB3 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B2", "MAP_BONFIRE_SPIRE_THRONE_ROOM", 640, 500, [ "shiverchill-B3" ], i) || this;
            return a.battleBG = "battle-shiverchill-inside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 675,
                y: 625,
                w: 250,
                h: 100,
                rect: !0
            }, "shiverchill-B3", 560, 415, null, o.EAreaEventAngle.DOWN);
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillB2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B10", "MAP_SHIVERCHILL_FURNACE_ROOM", 235, 575, [ "shiverchill-A10" ], i.concat([ "tileset-minecarts", "atlas-82" ])) || this;
            return a.battleBG = "battle-shiverchill-inside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 200,
                y: 700,
                r: 120
            }, "shiverchill-A10", 1160, 230, null, null), this.addAreaEvent(e, i, {
                x: 660,
                y: 200,
                w: 60,
                h: 72,
                rect: !0
            }, "shiverchill-B9", 645, 500, null, null);
            for (var n = [ [ 200, 120 ], [ 440, 240 ], [ 720, 200 ], [ 1e3, 240 ] ], o = [], r = 0; r < n.length; r++) o.push(i.addClickableEvent(n[r][0], n[r][1], 120, 120, this.furnaceClick.bind(this, e, i, r + 1), null));
            e.prodigy.player.backpack.hasItem("item", 71) > 0 && this.highlightFurnace(o), 
            this.processFurnaces(i);
        }, e.prototype.highlightFurnace = function(t) {
            var e = this.zone.getState("furnace");
            o.Util.isValid(e) ? e < t.length && t[e].highlight(!0) : t[0].highlight(!0);
        }, e.prototype.furnaceClick = function(t, e, i, a) {
            var n = t.prodigy.gameContainer.Localizer, r = this.zone.getState("furnace");
            r === i - 1 || o.Util.isValid(r) || 1 === i || (r = 0);
            var s = t.prodigy.event.create();
            s.validPath(e.user, e.path, a.x + 10, a.y + 170);
            var l = function(t, e, i) {
                var a = e.content.add(t.prodigy.icon.createIcon(e.user.x, e.user.y, i));
                a.anchor.setTo(.5, 1), t.add.tween(a).to({
                    x: "+70"
                }, 2e3, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 10, Phaser.Easing.Linear.None).start(), t.add.tween(a).to({
                    y: "-200"
                }, 1e3, Phaser.Easing.Quadratic.Out).to({
                    y: "+100"
                }, 1e3, Phaser.Easing.Quadratic.In).start();
            };
            if (r >= i) if (t.prodigy.player.backpack.hasItem("item", 79) > 0) {
                for (var h = [ {
                    type: "item",
                    ID: 1
                }, {
                    type: "item",
                    ID: 2
                }, {
                    type: "item",
                    ID: 3
                } ], c = .5 * Math.random() + .5, p = [], u = Math.floor(1.5 * Math.random() + 1), d = 0; d < u; d++) Math.random() < c ? p.push({
                    type: "item",
                    ID: 80
                }) : p.push(h[Math.floor(Math.random() * h.length)]);
                s.enableInput(!1), s.enableSave(!1), s.function(t.prodigy.player.backpack.consume.bind(t.prodigy.player.backpack, "item", 79, 1)), 
                s.function(l.bind(this, t, e, "icon-item-79")), s.delay(2200), s.function(t.prodigy.open.gotItem.bind(t.prodigy.open, p)), 
                s.enableInput(!0), s.enableSave(!0);
            } else s.popup(n.getText("SHIVERCHILL_FURNACE_LIT")); else i > r + 1 ? s.popup(n.getText("SHIVERCHILL_FURNACE_IN_ORDER")) : t.prodigy.player.backpack.hasItem("item", 71) > 0 ? (s.enableInput(!1), 
            s.enableSave(!1), s.function(t.prodigy.player.backpack.consume.bind(t.prodigy.player.backpack, "item", 71, 1)), 
            s.function(this.zone.setState.bind(this.zone, "furnace", i)), s.function(a.highlight.bind(a, !1)), 
            s.function(l.bind(this, t, e, "icon-item-71")), s.delay(2e3), s.function(this.processFurnaces.bind(this, e)), 
            s.enableSave(!0), s.enableInput(!0), s.function(e.process.bind(e))) : s.popup(n.getText("SHIVERCHILL_FURNACE_FUEL"));
            s.start();
        }, e.prototype.processFurnaces = function(t) {
            var e = this.zone.getState("furnace");
            if (o.Util.isValid(e)) for (var i = [ [ 5, 4 ], [ 11, 7 ], [ 18, 6 ], [ 25, 7 ] ], a = 0; a < i.length; a++) {
                var n = i[a][0], r = i[a][1];
                e >= a + 1 && (t.floor.add(this.getTile(1042, 40 * n, 40 * r, t.path, t.area, null, !0)), 
                t.floor.add(this.getTile(1043, 40 * (n + 1), 40 * r, t.path, t.area, null, !0)), 
                t.floor.add(this.getTile(2147484690, 40 * (n + 2), 40 * r, t.path, t.area, null, !0)));
            }
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillB10 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B1", "MAP_SHIVERCHILL_GATE", 200, 630, [ "shiverchill-B3" ], i.concat([ "atlas-91", "tileset-generic-snow" ])) || this;
            return a.battleBG = "battle-shiverchill-outside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 130,
                y: 420,
                r: 80
            }, "shiverchill-B3", 1160, 230, null, o.EAreaEventAngle.UP);
            var n = {
                opponent: [ {
                    data: {
                        level: 20
                    },
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_GEROME"),
                        gender: "male",
                        hair: {
                            style: 19,
                            color: 12
                        },
                        skinColor: 1,
                        eyeColor: 4
                    },
                    equipment: {
                        hat: 25,
                        outfit: 33,
                        weapon: 31
                    }
                } ],
                pets: [ {
                    ID: 92,
                    level: 20
                }, {
                    ID: 17,
                    level: 20
                } ]
            };
            this.addWizard(e, i, 960, 500, "wizard3", n).flip();
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillB1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A9", "MAP_SHIVERCHILL_TREASURE_ROOM", 200, 550, [ "shiverchill-A10", "shiverchill-B8" ], i.concat([ "atlas-121", "tileset-minecarts", "atlas-82" ])) || this;
            return a.battleBG = "battle-shiverchill-inside", a.dailyCoordinates = [ {
                x: 125,
                y: 510
            }, {
                x: 925,
                y: 260
            }, {
                x: 620,
                y: 340
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 200,
                y: 720,
                w: 280,
                h: 200
            }, "shiverchill-A10", 221, 200, null, o.EAreaEventAngle.DOWN), this.setupFrozenLoot(e, i);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 122
                }, {
                    ID: 78
                } ]
            };
            this.addMonster(e, i, 1, 490, 510, !1, n), this.addMonster(e, i, 2, 720, 200, !1, n), 
            this.addMonster(e, i, 3, 1150, 460, !1, n), this.addMonster(e, i, 4, 200, 230, !1, n), 
            this.checkFurnace(e, i);
        }, e.prototype.setupFrozenLoot = function(t, e) {
            var i = e.content.add(new Phaser.Image(t, 1050, 550, "atlas-121", "frozen-loot"));
            i.anchor.setTo(.5, 1), i.visible = !1, this.zone.getState("furnace") >= 4 ? (this.zone.smoke(e, 22, 12), 
            this.zone.smoke(e, 16, 14), this.addChest(t, e, "chest6", 1050, 550, [ {
                type: "weapon",
                ID: 73
            } ], null, "A")) : i.visible = !0;
        }, e.prototype.checkFurnace = function(t, e) {
            this.zone.getState("furnace") >= 1 && (this.zone.smoke(e, 31, 4), this.addAreaEvent(t, e, {
                x: 1120,
                y: 130,
                w: 150,
                h: 80
            }, "shiverchill-B8", 100, 550, null, o.EAreaEventAngle.UP)), e.addClickableEvent(160, 40, 80, 80, this.zone.doorClick.bind(this, e, 200, 100), null), 
            this.zone.getState("furnace") >= 2 && (this.zone.smoke(e, 12, 7), this.addAreaEvent(t, e, {
                x: 150,
                y: 75,
                w: 100,
                h: 80,
                rect: !0
            }, "shiverchill-A6", 980, 335, null, o.EAreaEventAngle.UP)), this.zone.getState("furnace") <= 1 && (e.addBlock(150, 150, {
                x: .5,
                y: 1,
                atlas: "atlas-121",
                tag: "ice-cubes"
            }), this.addCollisionZone(e, 80, 0, 120, 80)), this.zone.getState("furnace") < 1 && (e.addBlock(1070, 250, {
                x: .5,
                y: 1,
                atlas: "atlas-121",
                tag: "ice-cubes"
            }), e.addBlock(1155, 285, {
                x: .5,
                y: 1,
                atlas: "atlas-121",
                tag: "ice-cubes"
            }), this.addCollisionZone(e, 1e3, 80, 180, 140));
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillA9 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A7", "MAP_SHIVERCHILL_RUINED_ENTRANCE", 189, 650, [ "shiverchill-B7", "shiverchill-B8" ], i.concat([ "atlas-76", "atlas-121", "tileset-minecarts" ])) || this;
            return a.battleBG = "battle-shiverchill-inside", a.coord = [ new Phaser.Point(1e3, 360), new Phaser.Point(720, 600) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 160,
                y: 520,
                r: 100
            }, "shiverchill-B8", 1100, 200, null, o.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
                x: 1280,
                y: 250,
                w: 120,
                h: 280
            }, "shiverchill-B7", 110, 220, null, null), this.setupNPC(e, i);
            var n = this.zone.getQuestState();
            r.Util.isValid(this.zone) && (!r.Util.isValid(n) || n.ID < 7 && !this.zone.isQuestComplete(6)) && (this.block = i.addBlock(385, 325, {
                x: .5,
                y: 1,
                atlas: "atlas-121",
                tag: "ice-small",
                content: !0
            }), this.addCollisionZone(i, 340, 280, 100, 60));
        }, e.prototype.setupNPC = function(t, e) {
            this.npc = e.addNPC(378, 313, "atlas-76", this.chatWithMerchant.bind(this, t, e), "Miner"), 
            this.npc.flip(), this.npc.animate("stand"), this.npc.showName(!0);
            var i = e.content.add(t.prodigy.create.sprite(350, 100, "atlas-21", "map-quest"));
            t.prodigy.animation.float(i, 20, 1400, !0, !0);
        }, e.prototype.chatWithMerchant = function(t, e) {
            var i = t.prodigy.event.create();
            this.zone.isOnQuest(4) || this.zone.isOnQuest(5) ? (i.enableInput(!1), 
            i.validPath(e.user, e.path, 324, 348), i.enableInput(!0), this.zone.isOnSequence(4, 1) ? (i.function(this.npc.highlight.bind(this.npc, !1)), 
            i.text(7, "merchant"), i.text(8, "merchant"), i.function(this.zone.completeSequence.bind(this.zone, 4, 1)), 
            i.function(e.process.bind(e))) : i.text(8, "merchant")) : this.zone.isOnQuest(6) ? i.text(12, "merchant") : this.zone.getQuestState().ID >= 6 && (0 === t.prodigy.player.backpack.hasItem("item", 80) ? (i.text(27, "merchant"), 
            i.text(30, "merchant"), i.text(31, "merchant"), i.text(32, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) < 5 ? (i.text(27, "merchant"), 
            i.text(19, "merchant"), 4 === t.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) > 4 && this.zone.getState("daily").rewards < 5 ? (i.text(26, "merchant"), 
            i.enableSave(!1), i.function(this.zone.setState.bind(this.zone, "daily", {
                date: this.zone.getState("daily").date,
                flags: this.zone.getState("daily").flags,
                rewards: 5
            })), i.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "item",
                ID: 76,
                N: 5
            } ], function() {
                i.text(20, "merchant"), i.start();
            })), i.enableSave(!0)) : t.prodigy.player.backpack.hasItem("item", 80) > 4 && t.prodigy.player.backpack.hasItem("item", 80) < 10 && this.zone.getState("daily").rewards > 4 ? (i.text(27, "merchant"), 
            i.text(20, "merchant"), 9 === t.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) > 9 && this.zone.getState("daily").rewards < 10 ? (i.text(26, "merchant"), 
            i.enableSave(!1), i.function(this.zone.setState.bind(this.zone, "daily", {
                date: this.zone.getState("daily").date,
                flags: this.zone.getState("daily").flags,
                rewards: 10
            })), i.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "item",
                ID: 77,
                N: 10
            } ], function() {
                i.text(21, "merchant"), i.start();
            })), i.enableSave(!0)) : t.prodigy.player.backpack.hasItem("item", 80) > 9 && t.prodigy.player.backpack.hasItem("item", 80) < 25 && this.zone.getState("daily").rewards > 9 ? (i.text(27, "merchant"), 
            i.text(21, "merchant"), 24 === t.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) > 24 && this.zone.getState("daily").rewards < 25 ? (i.text(26, "merchant"), 
            i.enableSave(!1), i.function(this.zone.setState.bind(this.zone, "daily", {
                date: this.zone.getState("daily").date,
                flags: this.zone.getState("daily").flags,
                rewards: 25
            })), i.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "hat",
                ID: 10
            } ], function() {
                i.text(22, "merchant"), i.start();
            })), i.enableSave(!0)) : t.prodigy.player.backpack.hasItem("item", 80) > 24 && t.prodigy.player.backpack.hasItem("item", 80) < 50 && this.zone.getState("daily").rewards > 24 ? (i.text(27, "merchant"), 
            i.text(22, "merchant"), 49 === t.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) > 49 && this.zone.getState("daily").rewards < 50 ? (i.text(26, "merchant"), 
            i.enableSave(!1), i.function(this.zone.setState.bind(this.zone, "daily", {
                date: this.zone.getState("daily").date,
                flags: this.zone.getState("daily").flags,
                rewards: 50
            })), i.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "outfit",
                ID: 6
            } ], function() {
                i.text(23, "merchant"), i.start();
            })), i.enableSave(!0)) : t.prodigy.player.backpack.hasItem("item", 80) > 49 && t.prodigy.player.backpack.hasItem("item", 80) < 75 && this.zone.getState("daily").rewards > 49 ? (i.text(27, "merchant"), 
            i.text(23, "merchant"), 74 === t.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) > 74 && this.zone.getState("daily").rewards < 75 ? (i.text(26, "merchant"), 
            i.enableSave(!1), i.function(this.zone.setState.bind(this.zone, "daily", {
                date: this.zone.getState("daily").date,
                flags: this.zone.getState("daily").flags,
                rewards: 75
            })), i.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "weapon",
                ID: 13
            } ], function() {
                i.text(24, "merchant"), i.start();
            })), i.enableSave(!0)) : t.prodigy.player.backpack.hasItem("item", 80) > 74 && t.prodigy.player.backpack.hasItem("item", 80) < 99 && this.zone.getState("daily").rewards > 74 ? (i.text(27, "merchant"), 
            i.text(24, "merchant"), 98 === t.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) > 98 && this.zone.getState("daily").rewards < 99 ? (i.text(26, "merchant"), 
            i.enableSave(!1), i.function(this.zone.setState.bind(this.zone, "daily", {
                date: this.zone.getState("daily").date,
                flags: this.zone.getState("daily").flags,
                rewards: 99
            })), i.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "hat",
                ID: 56
            } ])), i.enableSave(!0)) : i.text(36, "merchant")), i.start();
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillA7 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A6", "MAP_SHIVERCHILL_RAIL_RUINS", 1170, 400, [ "shiverchill-A5", "shiverchill-B6" ], i.concat([ "atlas-121", "tileset-minecarts", "tileset-iceruins", "atlas-91" ])) || this;
            return a.battleBG = "battle-shiverchill-inside", a.coord = [ new Phaser.Point(645, 230), new Phaser.Point(920, 555) ], 
            a.dailyCoordinates = [ {
                x: 1010,
                y: 480
            }, {
                x: 300,
                y: 480
            }, {
                x: 520,
                y: 220
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1280,
                y: 400,
                w: 120,
                h: 280
            }, "shiverchill-B6", 110, 400, null, null);
            i.addCollect(1, 674, 245, {
                type: "item",
                ID: 71
            });
            this.addMonster(e, i, 1, 770, 415, !1, {
                encounter: [ {
                    ID: 90,
                    R: 1
                }, {
                    ID: 92,
                    R: 15
                } ]
            });
            var n = {
                opponent: [ {
                    data: {
                        level: 15
                    },
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_RUTHERFORD"),
                        gender: "male",
                        hair: {
                            style: 16,
                            color: 3
                        },
                        skinColor: 1,
                        eyeColor: 4
                    },
                    equipment: {
                        hat: 1,
                        outfit: 3,
                        weapon: 1
                    }
                } ],
                pets: [ {
                    ID: 99,
                    level: 15
                }, {
                    ID: 56,
                    level: 15
                } ]
            };
            this.addWizard(e, i, 350, 370, "wizard2", n), this.checkFurnaces(e, i);
        }, e.prototype.checkFurnaces = function(t, e) {
            this.zone.getState("furnace") >= 2 ? (this.zone.smoke(e, 12, 13), e.addClickableEvent(120, 160, 120, 80, this.zone.doorClick.bind(this, e, 160, 260), null), 
            this.addAreaEvent(t, e, {
                x: 160,
                y: 170,
                w: 80,
                h: 190,
                rect: !0
            }, "shiverchill-A5", 1180, 650, null, o.EAreaEventAngle.UP), e.addClickableEvent(960, 200, 80, 80, this.zone.doorClick.bind(this, e, 1e3, 260), null), 
            this.addAreaEvent(t, e, {
                x: 980,
                y: 240,
                w: 70,
                h: 72,
                rect: !0
            }, "shiverchill-A9", 145, 170, null, o.EAreaEventAngle.UP)) : (e.addBlock(160, 300, {
                x: .5,
                y: 1,
                atlas: "atlas-121",
                tag: "ice-cubes"
            }), e.addBlock(983, 327, {
                x: .5,
                y: 1,
                atlas: "atlas-121",
                tag: "ice-cubes"
            }), this.addCollisionZone(e, 80, 80, 160, 200), this.addCollisionZone(e, 920, 200, 100, 100));
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillA6 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A5", "MAP_SHIVERCHILL_MOUNTAIN_VALLEY", 1180, 650, [ "shiverchill-A4", "shiverchill-A6" ], i.concat([ "tileset-generic-snow" ])) || this;
            return a.battleBG = "battle-shiverchill-outside", a.coord = [ new Phaser.Point(100, 540), new Phaser.Point(700, 350), new Phaser.Point(1025, 150) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1160,
                y: 530,
                r: 60
            }, "shiverchill-A6", 160, 330, null, o.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
                x: 130,
                y: 100,
                w: 100,
                h: 90
            }, "shiverchill-A4", 1160, 610, null, o.EAreaEventAngle.UP), this.addChest(e, i, "chest4", 560, 320, [ {
                type: "outfit",
                ID: 48
            } ], null, "A");
            this.addMonster(e, i, 1, 490, 510, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 50,
                    catch: !1
                } ]
            });
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillA5 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A4", "MAP_SHIVERCHILL_WORMS_REST", 1160, 610, [ "shiverchill-A3", "shiverchill-A5" ], i.concat([ "atlas-121" ])) || this;
            return a.battleBG = "battle-shiverchill-inside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 220,
                y: 0,
                w: 240,
                h: 75
            }, "shiverchill-A3", 220, 650, null, null), this.addAreaEvent(e, i, {
                x: 1160,
                y: 510,
                r: 60
            }, "shiverchill-A5", 160, 200, null, o.EAreaEventAngle.UP);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 87
                }, {
                    ID: 122
                } ]
            };
            this.addMonster(e, i, 1, 200, 300, !1, n), this.addMonster(e, i, 2, 900, 405, !1, n), 
            this.addMonster(e, i, 3, 500, 500, !1, n);
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillA4 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A3", "MAP_SHIVERCHILL_FROZEN_PASS", 200, 630, [ "shiverchill-A2", "shiverchill-A4", "shiverchill-B3" ], i.concat([ "atlas-121", "tileset-minecarts" ])) || this;
            return a.battleBG = "battle-shiverchill-inside", a.coord = [ new Phaser.Point(700, 380), new Phaser.Point(1150, 130) ], 
            a.dailyCoordinates = [ {
                x: 1100,
                y: 210
            }, {
                x: 485,
                y: 240
            }, {
                x: 390,
                y: 540
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1275,
                y: 235,
                w: 150,
                h: 240
            }, "shiverchill-B3", 100, 290, null, null), this.addAreaEvent(e, i, {
                x: 222,
                y: 700,
                w: 240,
                h: 75
            }, "shiverchill-A4", 220, 80, null, null);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 87
                }, {
                    ID: 122
                } ]
            };
            this.addMonster(e, i, 1, 200, 300, !1, n), this.addMonster(e, i, 3, 960, 360, !1, n), 
            this.checkFurnaces(e, i);
        }, e.prototype.checkFurnaces = function(t, e) {
            this.zone.getState("furnace") >= 3 ? (this.zone.smoke(e, 13, 3), this.addAreaEvent(t, e, {
                x: 120,
                y: 100,
                w: 150,
                h: 150
            }, "shiverchill-A2", 1150, 360, null, null)) : (e.addBlock(135, 240, {
                x: .5,
                y: 1,
                atlas: "atlas-121",
                tag: "ice-cubes"
            }), this.addCollisionZone(e, 60, 60, 120, 100));
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillA3 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A2", "MAP_SHIVERCHILL_THE_CHASM", 1150, 360, [ "shiverchill-A3" ], i.concat([ "tileset-generic-snow", "atlas-91" ])) || this;
            return a.battleBG = "battle-shiverchill-outside", a.dailyCoordinates = [ {
                x: 840,
                y: 320
            }, {
                x: 565,
                y: 450
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1130,
                y: 280,
                r: 80
            }, "shiverchill-A3", 100, 230, null, o.EAreaEventAngle.UP), this.addChest(e, i, "chest3", 530, 370, [ {
                type: "item",
                ID: 71
            } ], null, "A");
            var n = {
                screen: "battle-shiverchill-outside",
                opponent: [ {
                    data: {
                        level: 25
                    },
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_FIRIA"),
                        gender: "female",
                        hair: {
                            style: 4,
                            color: 12
                        },
                        skinColor: 1,
                        eyeColor: 4
                    },
                    equipment: {
                        hat: 8,
                        outfit: 34,
                        weapon: 56
                    }
                } ],
                pets: [ {
                    ID: 82,
                    level: 25
                }, {
                    ID: 48,
                    level: 25
                } ]
            };
            this.addWizard(e, i, 460, 360, "wizard4", n);
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillA2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A11", "MAP_SHIVERCHILL_BORDERLAND", 1100, 220, [ "shiverchill-A10" ], i.concat([ "atlas-91", "tileset-generic-snow" ])) || this;
            return a.battleBG = "battle-shiverchill-outside", a.coord = [ new Phaser.Point(640, 560), new Phaser.Point(785, 230), new Phaser.Point(350, 400) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1100,
                y: 130,
                w: 160,
                h: 100
            }, "shiverchill-A10", 125, 650, null, o.EAreaEventAngle.UP);
            var n = {
                opponent: [ {
                    data: {
                        level: 15
                    },
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_IVIRA"),
                        gender: "female",
                        hair: {
                            style: 1,
                            color: 3
                        },
                        skinColor: 1,
                        eyeColor: 4
                    },
                    equipment: {
                        hat: 1,
                        outfit: 3,
                        weapon: 1
                    }
                } ],
                pets: [ {
                    ID: 25,
                    level: 15
                }, {
                    ID: 33,
                    level: 15
                } ]
            };
            this.addWizard(e, i, 474, 414, "wizard1", n);
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillA11 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(42), r = i(1), s = function(t) {
        function e(e, i) {
            return t.call(this, e, "A10", "MAP_SHIVERCHILL_BOKS_CAVE", 125, 650, [ "shiverchill-B10", "shiverchill-A11", "shiverchill-A9" ], i.concat([ "atlas-76", "atlas-62", "tileset-shiverchill" ])) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 120,
                y: 520,
                r: 80
            }, "shiverchill-A11", 1100, 220, null, r.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
                x: 220,
                y: 0,
                w: 300,
                h: 200
            }, "shiverchill-A9", 200, 550, null, r.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
                x: 1140,
                y: 150,
                w: 100,
                h: 80,
                rect: !0
            }, "shiverchill-B10", 235, 575, null, r.EAreaEventAngle.UP), i.addClickableEvent(1120, 40, 80, 120, this.zone.doorClick.bind(this, i, 1160, 160), null);
            i.addQuestNPC(680, 390, "bok", !1, function(t) {
                var e = t.prodigy.event.create();
                e.text(0, "bok"), e.start();
            }.bind(this, e)), i.createStoreNPC(400, 350, 8, e.prodigy.gameContainer.Localizer.getText("STORE_SNOWDAY_SALES"), !1), 
            new o.ToyMerchant(e, i.content, 932, 365);
        }, e;
    }(i(24).ShiverchillMap);
    e.ShiverchillA10 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(94), r = i(0), s = i(31), l = i(376), h = i(375), c = i(374), p = i(373), u = i(372), d = i(371), g = i(370), y = i(369), f = i(368), m = i(367), _ = i(366), v = i(365), E = i(364), b = i(363), O = i(362), T = i(361), A = i(360), I = i(359), w = i(358), C = i(357), S = i(356), P = i(355), D = i(354), L = i(353), x = i(352), M = i(351), N = i(350), U = i(349), k = i(348), R = i(347), B = i(346), G = i(345), V = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            i.name = "Shiverchill Mountains", i.ID = "shiverchill", i.battleBG = "battle-shiverchill-inside", 
            i.onFaint = "shiverchill-A10", i.questHub = "shiverchill-A10", i.bgmID = 17, 
            i.currency = 15, i.states = [ "chest1", "chest2", "chest3", "chest4", "chest5", "wizard1", "wizard2", "wizard3", "wizard4", "furnace", "chest6", "daily" ], 
            i.monsters = [ 16, 50, 122, 78, 87 ];
            var a = [ "tileset-icecave-new", "tileset-collisions", "tileset-ship-exterior", "tileset-water-new", "bgm-17" ];
            return i.maps = {
                A11: new h.ShiverchillA11(i, a),
                A10: new l.ShiverchillA10(i, a),
                A9: new f.ShiverchillA9(i, a),
                A7: new y.ShiverchillA7(i, a),
                A6: new g.ShiverchillA6(i, a),
                A5: new d.ShiverchillA5(i, a),
                B3: new E.ShiverchillB3(i, a),
                B6: new b.ShiverchillB6(i, a),
                B7: new O.ShiverchillB7(i, a),
                B8: new T.ShiverchillB8(i, a),
                B9: new A.ShiverchillB9(i, a),
                B10: new _.ShiverchillB10(i, a),
                A4: new u.ShiverchillA4(i, a),
                A2: new c.ShiverchillA2(i, a),
                A3: new p.ShiverchillA3(i, a),
                B2: new v.ShiverchillB2(i, a),
                B1: new m.ShiverchillB1(i, a)
            }, i.quests = {
                1: new I.ShiverchillQ1(i, []),
                2: new x.ShiverchillQ2(i, []),
                3: new M.ShiverchillQ3(i, []),
                4: new N.ShiverchillQ4(i, []),
                5: new U.ShiverchillQ5(i, []),
                6: new k.ShiverchillQ6(i, []),
                7: new R.ShiverchillQ7(i, []),
                8: new B.ShiverchillQ8(i, []),
                9: new G.ShiverchillQ9(i, []),
                10: new w.ShiverchillQ10(i, []),
                11: new C.ShiverchillQ11(i, []),
                12: new S.ShiverchillQ12(i, []),
                13: new P.ShiverchillQ13(i, []),
                14: new D.ShiverchillQ14(i, []),
                15: new L.ShiverchillQ15(i, [])
            }, i;
        }
        return n(e, t), e.prototype.placeDaily = function(t, e, i) {
            if (r.Util.isValid(this.getQuestState()) && this.getQuestState().ID > 6 && e.prodigy.player.backpack.hasItem("item", 80) < 99) {
                for (var a = void 0, n = void 0, s = this.getDailyMaps(), l = new o.SeededRandomGenerator(this.getState("daily").date), h = 0; h < 5; h++) if (s[Math.floor(l.jumpFromStart(h) * (s.length - 1))] === t.tag) {
                    var c = this.getState("daily").flags;
                    r.Util.isValid(c[h].x) && (a = c[h].x, n = c[h].y);
                }
                if (!r.Util.isValid(a)) {
                    var p = t.dailyCoordinates[Math.floor(Math.random() * t.dailyCoordinates.length)];
                    a = p.x, n = p.y;
                    for (h = 0; h < 5; h++) {
                        if (s[Math.floor(l.jumpFromStart(h) * (s.length - 1))] === t.tag) (c = this.getState("daily").flags)[h] = {
                            x: a,
                            y: n
                        }, this.setState("daily", {
                            date: this.getState("daily").date,
                            flags: c,
                            rewards: this.getState("daily").rewards
                        });
                    }
                }
                this.ice = i.addClickableEvent(a, n, 60, 60, this.frozenSomethingOnClick.bind(this, i, t), null), 
                this.ice.add(e.prodigy.create.sprite(-10, -10, "atlas-121", "frozen-something"));
            }
        }, e.prototype.frozenSomethingOnClick = function(t, e) {
            var i = this.game.prodigy.event.create();
            i.validPath(t.user, t.path, this.ice.x + 20, this.ice.y + 40), i.set(t.user, "evtProc", !0), 
            i.function(this.interactFrozenSomething.bind(this, e)), i.set(t.user, "evtProc", !1), 
            i.start();
        }, e.prototype.interactFrozenSomething = function(t) {
            var e = this.getDailyMaps();
            this.ice.destroy(), this.game.prodigy.open.gotItem([ {
                type: "item",
                ID: 79
            } ]);
            for (var i = new o.SeededRandomGenerator(this.getState("daily").date), a = 0; a < 5; a++) if (e[Math.floor(i.jumpFromStart(a) * (e.length - 1))] === t.tag) {
                var n = this.getState("daily").flags;
                n[a] = 0, this.setState("daily", {
                    date: this.getState("daily").date,
                    flags: n,
                    rewards: this.getState("daily").rewards
                });
            }
        }, e.prototype.getDailyMaps = function() {
            var t = [];
            for (var e in this.maps) r.Util.isValid(this.maps[e].dailyCoordinates) && t.push(e);
            return t;
        }, e.prototype.smoke = function(t, e, i) {
            for (var a = 0; a < 4; a++) {
                var n = this.game.prodigy.create.sprite(40 * e + 20, 40 * i + 20, "atlas-19", "smoke");
                t.foreground.add(n), n.anchor.setTo(.5, .5), n.scale.x = n.scale.y = .1, 
                n.alpha = 1, this.game.add.tween(n).to({
                    y: n.y - 150,
                    alpha: 0
                }, 2e3, Phaser.Easing.Linear.None, !1, 0, 1e3, !1).delay(500 * a).start(), 
                this.game.add.tween(n.scale).to({
                    x: .75,
                    y: .75
                }, 2e3, Phaser.Easing.Linear.None, !1, 0, 1e3, !1).delay(500 * a).start();
            }
        }, e.prototype.doorClick = function(t, e, i) {
            t.user.setValidPath(t.path, e, i, null);
        }, e;
    }(s.Zone);
    e.ShiverchillZone = V;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 9, "QUESTS_SHIPWRECK_OPEN_DOOR", {
                type: "seq",
                N: 1
            }, [ "shipwreck_shore-B6" ], [ 39, 40, 41 ], [], [], [ {
                type: "gold",
                N: 200
            }, {
                type: "hat",
                ID: 80
            } ], !1, "eve", "eve", []) || this;
            return a.door = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "B6" === a.getTag() && this.zone.isOnSequence(9, 0) ? (this.door = e.prodigy.create.element(i.above, 1160, 340), 
            this.door.highlight(!0, 0, 0), {
                doorIsLockedCallback: this.startSequenceA.bind(this, e, i)
            }) : {};
        }, e.prototype.startSequenceA = function(t, e, i) {
            var a = t.prodigy.event.create();
            a.function(this.door.highlight.bind(this.door, !1)), a.text(176, "noot"), 
            a.function(this.zone.completeSequence.bind(this.zone, 9, 0)), a.function(e.process.bind(e)), 
            a.start();
        }, e;
    }(i(6).Quest);
    e.ShipwreckShoreQ9 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 8, "", {
                type: "pet",
                ID: 119,
                U: !0,
                N: 4
            }, [ "shipwreck_shore-B8" ], [ 35, 36, 37 ], [], [ 38, 0 ], [ {
                type: "gold",
                N: 200
            } ], !1, "eve", "eve", []) || this;
            return a.questParams = {}, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.updateQuestArea(!1);
            var n = a.getTag(), r = {
                randDir: !0,
                encounter: [ {
                    ID: 119
                } ],
                onEnc: this.updateQuestArea.bind(this, !0)
            };
            if (-1 !== this.area.indexOf(a.zoneName)) {
                if ("B8" === n) return a.addMonster(e, i, 1, 775, 325, !0, r, !1), 
                a.addMonster(e, i, 2, 420, 485, !0, r, !1), {
                    enableMonsters: !1
                };
                if ("B7" === n) return a.addMonster(e, i, 3, 926, 305, !0, r, !1), 
                a.addMonster(e, i, 4, 650, 475, !0, r, !1), {
                    enableMonsters: !1
                };
            }
            if (o.Util.isValid(this.questParams.enableMonsters)) return this.questParams = {}, 
            {
                enableMonsters: !1
            };
        }, e.prototype.updateQuestArea = function(t) {
            this.isMapB7Cleared() ? (this.area = [ "shipwreck_shore-B12" ], t && (this.questParams.enableMonsters = !1)) : this.isMapB8Cleared() && -1 === this.area.indexOf("shipwreck_shore-B7") && (this.area = [ "shipwreck_shore-B7" ]);
        }, e.prototype.isMapB8Cleared = function() {
            var t = this.zone.getQuestState();
            return !(!o.Util.isValid(t) || !o.Util.isValid(t.req)) && (1 === t.state[1] && 1 === t.state[2]);
        }, e.prototype.isMapB7Cleared = function() {
            var t = this.zone.getQuestState();
            return !(!o.Util.isValid(t) || !o.Util.isValid(t.req)) && (1 === t.state[3] && 1 === t.state[4]);
        }, e;
    }(i(6).Quest);
    e.ShipwreckShoreQ8 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i.concat("icon-item-113"), 7, "", {
                type: "item",
                ID: 113,
                N: 3
            }, [ "shipwreck_shore-A2" ], [ 32, 33, 34 ], [], [ 0, 17 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "spell",
                ID: 8
            } ], !1, "eve", "eve", []) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "A2" === a.getTag() && (i.addCollect(1, 880, 480, {
                type: "item",
                ID: 113
            }), i.addCollect(2, 960, 320, {
                type: "item",
                ID: 113
            }), i.addCollect(3, 400, 520, {
                type: "item",
                ID: 113
            })), {};
        }, e;
    }(i(6).Quest);
    e.ShipwreckShoreQ7 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i.concat("atlas-120", "sfx-20"), 6, "QUESTS_SHIPWRECK_FIND_JIM", {
                type: "seq",
                N: 2
            }, [ "shipwreck_shore-C9" ], [ 28, 29, 30, 31 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "outfit",
                ID: 61
            } ], !1, "eve", "eve", []) || this;
            return a.cameraButton = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.updateQuestArea(), 
            "C9" === a.getTag() && this.zone.isOnSequence(6, 0) ? {
                enableMonsters: !1
            } : {};
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), "C9" === a.getTag() && this.zone.isOnSequence(6, 0) ? this.startSequenceA(e, i, a) : "A5" === a.getTag() && this.zone.isOnSequence(6, 1) && (this.cameraButton = e.prodigy.create.button(i.menus, 1040, 240, "atlas-120", "camera-map", this.takePictureOfTunnel.bind(this, e, i)), 
            this.cameraButton.highlight(!0)), null;
        }, e.prototype.updateQuestArea = function() {
            this.zone.isOnSequence(6, 1) && (this.area = [ "shipwreck_shore-A5" ], 
            this.descKey = "QUESTS_SHIPWRECK_TAKE_PHOTO");
        }, e.prototype.startSequenceA = function(t, e, i) {
            var a = e.addNPC(i.questNPC.x - 100, i.questNPC.y, "atlas-81");
            a.visible = !1, a.float(!0);
            var n = t.prodigy.event.create();
            n.enableInput(!1), n.validPath(e.user, e.path, i.questNPC.x - 100, i.questNPC.y - 10), 
            n.set(a, "visible", !0), n.hop(a, 500, -100, 70), n.enableInput(!0), 
            n.text(5, "jim"), n.text(6, "jim"), n.reward([ {
                type: "key",
                ID: 16
            } ]), n.text(4, "jim"), n.text(), n.reward([ {
                type: "gold",
                N: 200
            } ]), n.function(e.user.faceToward.bind(e.user, a.x - 100)), n.text(175, "noot"), 
            n.hop(a, 500, 100, 70), n.set(a, "visible", !1), n.function(this.zone.completeSequence.bind(this.zone, 6, 0)), 
            n.function(this.updateQuestArea.bind(this)), n.function(e.process.bind(e)), 
            n.start();
        }, e.prototype.takePictureOfTunnel = function(t, e) {
            var i = t.prodigy.event.create();
            i.validPath(e.user, e.path, 1e3, 280), i.enableInput(!1), i.cameraFlash(), 
            i.function(this.cameraButton.destroy.bind(this.cameraButton, !0)), i.function(this.zone.completeSequence.bind(this.zone, 6, 1)), 
            i.function(e.process.bind(e)), i.enableInput(!0), i.start();
        }, e;
    }(i(6).Quest);
    e.ShipwreckShoreQ6 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 5, "QUESTS_SHIPWRECK_CLEAR_INK", {
                type: "seq",
                N: 1
            }, [ "shipwreck_shore-A7" ], [ 26, 27 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
            return a.inkHighlighter = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.updateQuestArea();
            var n = this.updateQuestArea.bind(this);
            return "A5" === a.getTag() && (n = this.startSequenceA.bind(this, e, i, a)), 
            e.broadcaster.addAppListener(o.EShipwreckShoreEvents.InkGroupDestroyed, n, this, e), 
            {};
        }, e.prototype.process = function(e, i, a) {
            t.prototype.process.call(this, e, i, a), this.showInkHighlighter(e, i, a);
        }, e.prototype.updateQuestArea = function() {
            this.zone.isOnSequence(5, 0) && (1 !== this.zone.getState("inkA7") ? this.area = [ "shipwreck_shore-A7" ] : 1 !== this.zone.getState("inkB6") ? this.area = [ "shipwreck_shore-B6" ] : 1 !== this.zone.getState("inkB5") ? this.area = [ "shipwreck_shore-B5" ] : 1 !== this.zone.getState("inkA5") ? this.area = [ "shipwreck_shore-A5" ] : this.zone.completeSequence(5, 0));
        }, e.prototype.startSequenceA = function(t, e, i) {
            var a = e.addNPC(985, 255, "atlas-81");
            a.visible = !1, a.float(!0);
            var n = t.prodigy.event.create();
            n.function(t.broadcaster.removeAppListener.bind(t.broadcaster, o.EShipwreckShoreEvents.InkGroupDestroyed, this, t)), 
            n.validPath(e.user, e.path, 985, 255), n.set(a, "visible", !0), n.hop(a, 375, -75, 70), 
            n.function(e.user.faceToward.bind(e.user, a.x - 75)), n.text(172, "noot"), 
            n.text(173, "noot"), n.hop(a, 375, 75, 70), n.set(a, "visible", !1), 
            n.function(this.zone.completeSequence.bind(this.zone, 5, 0)), n.function(e.process.bind(e)), 
            n.start();
        }, e.prototype.showInkHighlighter = function(t, e, i) {
            var a = i.getTag(), n = 0, o = 0;
            if (r.Util.isValid(this.inkHighlighter) && this.inkHighlighter.highlight(!1), 
            1 !== this.zone.getState("ink" + i.getTag())) {
                var s = !1;
                "A7" === a ? (n = 560, o = 440, s = !0) : "B6" === a ? (n = 1020, 
                o = 220, s = !0) : "B5" === a ? (n = 320, o = 400, s = !0) : "A5" === a && (n = 1040, 
                o = 360, s = !0), s && (this.inkHighlighter = t.prodigy.create.element(e.above, n, o), 
                this.inkHighlighter.highlight(!0));
            }
        }, e;
    }(i(6).Quest);
    e.ShipwreckShoreQ5 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 4, "", {
                type: "key",
                ID: 15,
                N: 1
            }, [ "shipwreck_shore-B7" ], [ 18, 19, 20, 21, 22, 23, 24, 25 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            } ], !1, "eve", "eve", []) || this;
            return a.sonicBlaster = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "B7" === a.getTag() && (this.sonicBlaster = i.addClickableEvent(320, 80, 80, 80, this.collectSonicBlaster.bind(this, e, i), null, 0)), 
            {};
        }, e.prototype.process = function(e, i, a) {
            t.prototype.process.call(this, e, i, a), "B7" === a.getTag() && this.sonicBlaster.highlight(0 === e.prodigy.player.backpack.hasItem("key", 15));
        }, e.prototype.collectSonicBlaster = function(t, e) {
            if (0 === t.prodigy.player.backpack.hasItem("key", 15)) {
                var i = t.prodigy.event.create();
                i.validPath(e.user, e.path, this.sonicBlaster.x + .5 * this.sonicBlaster.width, this.sonicBlaster.y + this.sonicBlaster.height + 10), 
                i.reward([ {
                    type: "key",
                    ID: 15
                } ]), i.function(e.process.bind(e)), i.start();
            }
        }, e;
    }(i(6).Quest);
    e.ShipwreckShoreQ4 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 3, "", {
                type: "item",
                ID: 112,
                N: 1
            }, [ "shipwreck_shore-A7" ], [ 14, 15, 16 ], [], [ 0, 17 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "spell",
                ID: 7
            } ], !1, "eve", "eve", []) || this;
            return a.ink = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "A7" === a.getTag() ? {
                inkCallbacks: [ this.collectInk.bind(this, e) ]
            } : {};
        }, e.prototype.process = function(e, i, a) {
            t.prototype.process.call(this, e, i, a), "A7" === a.getTag() && (e.prodigy.player.backpack.hasItem("item", 112) > 0 ? o.Util.isValid(this.ink) && this.ink.highlight(!1) : (this.ink = e.prodigy.create.element(i.above, 560, 440), 
            this.ink.highlight(!0)));
        }, e.prototype.collectInk = function(t) {
            0 === t.prodigy.player.backpack.hasItem("item", 112) && t.prodigy.player.backpack.add("item", 112, !1, 1);
        }, e;
    }(i(6).Quest);
    e.ShipwreckShoreQ3 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 2, "QUESTS_SHIPWRECK_FIND_JIM", {
                type: "seq",
                N: 2
            }, [ "shipwreck_shore-C9" ], [ 10, 11, 12, 13 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "boots",
                ID: 32
            } ], !1, "eve", "eve", [ 3 ]) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.updateQuestArea(), 
            "C9" === a.getTag() && this.zone.isOnSequence(2, 0) || "A7" === a.getTag() && this.zone.isOnSequence(2, 1) ? {
                enableMonsters: !1
            } : {};
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), "C9" === a.getTag() && this.zone.isOnSequence(2, 0) ? this.startSequenceA(e, i, a) : "A7" === a.getTag() && this.zone.isOnSequence(2, 1) && this.startSequenceB(e, i), 
            null;
        }, e.prototype.updateQuestArea = function() {
            this.zone.isOnSequence(2, 1) && (this.area = [ "shipwreck_shore-A7" ], 
            this.descKey = "QUESTS_SHIPWRECK_LOOK_AROUND");
        }, e.prototype.startSequenceA = function(t, e, i) {
            var a = e.addNPC(i.questNPC.x - 100, i.questNPC.y, "atlas-81");
            a.visible = !1, a.float(!0);
            var n = t.prodigy.event.create();
            n.enableInput(!1), n.validPath(e.user, e.path, i.questNPC.x - 100, i.questNPC.y - 10), 
            n.set(a, "visible", !0), n.hop(a, 500, -100, 70), n.enableInput(!0), 
            n.text(0, "jim"), n.text(), n.text(167, "noot"), n.text(168, "noot"), 
            n.text(169, "noot"), n.text(), n.text(1, "jim"), n.enableInput(!1), 
            n.hop(i.questNPC, 300, 0, 100), n.function(i.questNPC.flipJim.bind(i.questNPC, !0)), 
            n.delay(250), n.function(i.questNPC.flipJim.bind(i.questNPC, !1)), n.delay(250), 
            n.function(i.questNPC.flipJim.bind(i.questNPC, !0)), n.delay(250), n.function(i.questNPC.flipJim.bind(i.questNPC, !1)), 
            n.enableInput(!0), n.text(2, "jim"), n.text(3, "jim"), n.text(4, "jim"), 
            n.text(), n.reward([ {
                type: "gold",
                N: 200
            } ]), n.function(e.user.faceToward.bind(e.user, a.x - 100)), n.text(170, "noot"), 
            n.hop(a, 500, 100, 70), n.set(a, "visible", !1), n.function(this.zone.completeSequence.bind(this.zone, 2, 0)), 
            n.function(this.updateQuestArea.bind(this)), n.function(e.process.bind(e)), 
            n.start();
        }, e.prototype.startSequenceB = function(t, e) {
            var i = t.prodigy.event.create();
            i.text(171, "noot"), i.function(this.zone.completeSequence.bind(this.zone, 2, 1)), 
            i.function(e.process.bind(e)), i.start();
        }, e;
    }(i(6).Quest);
    e.ShipwreckShoreQ2 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(29), r = i(6), s = i(172), l = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i.concat("default-boss-15", "atlas-120", "sfx-20"), 11, "QUESTS_SHIPWRECK_DEFEAT_BOSS", {
                type: "seq",
                N: 1
            }, [ "shipwreck_shore-C6" ], [ 43 ], [], [ 0, 17, 44 ], [ {
                type: "gold",
                N: 400
            }, {
                type: "spell",
                ID: 9
            }, {
                type: "key",
                ID: 17
            } ], !1, "eve", "eve", []) || this;
            return a.squeak = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "C6" === a.getTag() && this.zone.isOnSequence(11, 0) && (this.squeak = new s.Squeak(e, i, this.zone, 740, 400), 
            this.squeak.inputEnabled = !1), {};
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), "C6" === a.getTag() && this.zone.isOnSequence(11, 0) && this.startSequenceA(e, i, a), 
            null;
        }, e.prototype.startSequenceA = function(t, e, i) {
            t.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
            var a = this.zone.getBattle(i, t.prodigy.gameContainer.Localizer.getText("COMBAT_BOSS_BATTLE"), {
                boss: {
                    element: "water",
                    attacks: [ 8, 11, 20, 42 ],
                    name: t.prodigy.gameContainer.Localizer.getText("NPC_NAME_OLD_ONE"),
                    tag: "shipwreck"
                },
                starMod: 5,
                difficulty: 6
            }, this.endSequenceA.bind(this, t)), n = t.prodigy.event.create();
            n.enableInput(!1), n.validPath(e.user, e.path, this.squeak.x - 500, this.squeak.y), 
            n.delay(250), n.shake(0, 3e3, 12, "h", !0);
            var r = 4;
            n.tween(this.squeak, {
                y: this.squeak.y - 40 * r
            }, 2e3, Phaser.Easing.Linear.None, !0), n.sound(20, "boss-monster", !1);
            for (var s = 0; s < 4; s++) {
                var l = o.Random.integerInRange(4, 8);
                n.function(this.sandCloud.bind(this, t, e, this.squeak.x - .5 * l * 40, this.squeak.y, l, r--)), 
                n.delay(400);
            }
            n.delay(750), n.enableInput(!0), n.function(a), n.start();
        }, e.prototype.endSequenceA = function(t) {
            var e = t.prodigy.event.create();
            e.function(this.zone.setState.bind(this.zone, "squeak", 4)), e.function(this.zone.completeSequence.bind(this.zone, 11, 0)), 
            e.function(t.prodigy.world.teleport.bind(t.prodigy.world, "shipwreck_shore-C6", this.squeak.x - 500, this.squeak.y)), 
            e.start();
        }, e.prototype.sandCloud = function(t, e, i, a, n, r) {
            for (var s = null, l = 0; l < n; l++) {
                s = t.prodigy.create.sprite(i + 40 * l + o.Random.integerInRange(10, 30), a + o.Random.integerInRange(10, 30), "atlas-120", "sand-cloud"), 
                e.foreground.add(s), s.anchor.setTo(.5, .5), t.add.tween(s).to({
                    y: s.y - 40 * r
                }, 2e3, Phaser.Easing.Linear.None, !1, 0, 0, !1).start();
                var h = o.Random.integerInRange(1e3, 1500), c = 0 === o.Random.integerInRange(0, 2) ? -1 : 1;
                t.add.tween(s).to({
                    angle: 360 * c
                }, h, Phaser.Easing.Linear.None, !1, 0, h, !1).start();
            }
        }, e;
    }(r.Quest);
    e.ShipwreckShoreQ11 = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 10, "", {
                type: "item",
                ID: 114,
                N: 1,
                K: 1
            }, [ "shipwreck_shore-B7" ], [ 42 ], [], [], [], !1, "eve", "eve", []) || this;
            return a.bossKey = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.updateDialogue(e), 
            "B7" === a.getTag() && 0 === e.prodigy.player.backpack.hasItem("item", 114) && (this.bossKey = i.addClickableEvent(800, 100, 80, 80, this.collectBossKey.bind(this, e, i), null, 0), 
            this.bossKey.highlight(!0)), {};
        }, e.prototype.collectBossKey = function(t, e) {
            if (0 === t.prodigy.player.backpack.hasItem("item", 114)) {
                var i = t.prodigy.event.create();
                i.validPath(e.user, e.path, this.bossKey.x + .5 * this.bossKey.width, this.bossKey.y + this.bossKey.height + 10), 
                i.reward([ {
                    type: "item",
                    ID: 114
                } ]), i.function(this.bossKey.highlight.bind(this.bossKey, !1)), 
                i.function(this.zone.completeQuest.bind(this.zone, 10)), i.function(this.zone.startQuest.bind(this.zone, 11)), 
                i.function(e.process.bind(e)), i.start();
            }
        }, e.prototype.updateDialogue = function(t) {
            t.prodigy.player.backpack.hasItem("item", 114) > 0 && (this.onStart = [ 43 ]);
        }, e;
    }(i(6).Quest);
    e.ShipwreckShoreQ10 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i.concat([ "atlas-137", "bgm-11" ]), 1, "", {
                type: "key",
                ID: 14,
                N: 1
            }, [ "shipwreck_shore-C10" ], [ 1, 2, 3, 4, 5, 6, 7, 8, 9 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            } ], !1, "eve", "eve", []) || this;
            return a.mimic1 = null, a.mimic2 = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), "C10" === a.getTag()) {
                a.addChest(e, i, "chestBreathingBubble", 210, 260, [ {
                    type: "key",
                    ID: 14
                } ]);
                var n = {
                    randDir: !0,
                    run: !1,
                    encounter: [ {
                        ID: 98
                    } ],
                    screen: this.zone.battleBG
                };
                return 1 === this.zone.getState("mimic1") || (this.mimic1 = i.addMimic("mimic1", 360, 240, "A", n, a.zoneName)), 
                1 === this.zone.getState("mimic2") || (this.mimic2 = i.addMimic("mimic2", 120, 400, "A", n, a.zoneName)), 
                {
                    enableMonsters: !1
                };
            }
            return {};
        }, e.prototype.process = function(e, i, a) {
            t.prototype.process.call(this, e, i, a), "C10" === a.getTag() && (e.prodigy.player.backpack.hasItem("key", 14) > 0 ? (o.Util.isValid(this.mimic1) && this.mimic1.highlight(!1), 
            o.Util.isValid(this.mimic2) && this.mimic2.highlight(!1)) : (o.Util.isValid(this.mimic1) && this.mimic1.highlight(1 !== this.zone.getState("mimic1"), -80, -90), 
            o.Util.isValid(this.mimic2) && this.mimic2.highlight(1 !== this.zone.getState("mimic2"), -80, -90)));
        }, e;
    }(i(6).Quest);
    e.ShipwreckShoreQ1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(3), s = i(0), l = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C9", "MAP_SHIPWRECK_SHORE_SAND_TOWN", 180, 380, [ "shipwreck_shore-C8", "shipwreck_shore-C10" ], i.concat("atlas-153", "atlas-120", "sfx-20")) || this;
            return a.questNPC = null, a.battleBG = "battle-shipwreck-underwater", 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 950,
                y: 40,
                w: 220,
                h: 80,
                rect: !0
            }, "shipwreck_shore-C8", 260, 620, null, o.EAreaEventAngle.UP, !1), 
            this.zone.addWhirlpool(i, this, 180, 520, {
                target: "shipwreck_shore-C10",
                x: 1120,
                y: 320,
                callback: null,
                handRotation: o.EAreaEventAngle.DOWN
            }), this.questNPC = this.addConstructedNPC(e, i, 1e3, 300, "atlas-153", null, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_JELLY_JIM")), 
            this.questNPC.setup(this.zone, !1), this.questNPC.addOnClick(this.interactWithJellyJim.bind(this, e));
            this.addMonster(e, i, 1, 400, 310, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 99
                } ]
            }), this.zone.addShortcut(i, 780, 480), this.enableShortcut(e, i), this.zone.addInkGroup(i, this, [ {
                x: 720,
                y: 440
            }, {
                x: 760,
                y: 480
            }, {
                x: 760,
                y: 440
            }, {
                x: 720,
                y: 480
            } ], {
                x: 780,
                y: 400
            }, [ e.broadcaster.addAppListener.bind(e.broadcaster, r.EShipwreckShoreEvents.InkGroupDestroyed, this.enableShortcut.bind(this, e, i), this) ]), 
            this.zone.addSqueak(i, this, 760, 280, !1);
        }, e.prototype.enableShortcut = function(t, e) {
            t.broadcaster.removeAppListener(r.EShipwreckShoreEvents.InkGroupDestroyed, this);
            var i = this.zone.enableShortcut(e, this, 780, 480, {
                target: "shipwreck_shore-B7",
                x: 1060,
                y: 500,
                callback: null,
                handRotation: o.EAreaEventAngle.DOWN
            });
            s.Util.isValid(i) && this.locations.push("shipwreck_shore-B7");
        }, e.prototype.interactWithJellyJim = function(t) {
            var e = t.prodigy.event.create(), i = this.zone.getCurrentQuestID();
            i > 1 && i < 6 ? (e.text(2, "jim"), e.text(3, "jim")) : e.text(7, "jim"), 
            e.start();
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreC9 = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C8", "MAP_SHIPWRECK_SHORE_DEEP_WATER", 260, 620, [ "shipwreck_shore-C9", "shipwreck_shore-B8", "shipwreck_shore-C7" ], i.concat("atlas-91", "atlas-120", "sfx-20")) || this;
            return a.battleBG = "battle-shipwreck-underwater", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1120,
                y: 40,
                w: 320,
                h: 80,
                rect: !0
            }, "shipwreck_shore-C7", 1040, 580, null, o.EAreaEventAngle.UP, !1), 
            this.addAreaEvent(e, i, {
                x: 40,
                y: 440,
                w: 80,
                h: 360,
                rect: !0
            }, "shipwreck_shore-B8", 1160, 540, null, o.EAreaEventAngle.LEFT, !1), 
            this.addAreaEvent(e, i, {
                x: 260,
                y: 680,
                w: 280,
                h: 80,
                rect: !0
            }, "shipwreck_shore-C9", 950, 120, null, o.EAreaEventAngle.DOWN, !1);
            this.addMonster(e, i, 1, 920, 360, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 33
                } ]
            }), this.zone.addUnderwaterWizard(i, this, 400, 280, "wizardC8", {
                opponent: [ {
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_CHESTER_COPPERPAN"),
                        gender: "male",
                        hair: {
                            style: 29,
                            color: 3
                        },
                        skinColor: 1,
                        eyeColor: 14
                    },
                    equipment: {
                        hat: 80,
                        outfit: 61,
                        boots: 32,
                        weapon: 19
                    }
                } ],
                pets: [ {
                    ID: 33
                }, {
                    ID: 105
                } ]
            }), this.zone.addSqueak(i, this, 560, 480, !1);
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreC8 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C7", "MAP_SHIPWRECK_SHORE_SAND_CITY", 1040, 580, [ "shipwreck_shore-C8", "shipwreck_shore-B7" ], i.concat("atlas-120", "sfx-20")) || this;
            return a.battleBG = "battle-shipwreck-underwater", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 40,
                y: 300,
                w: 80,
                h: 280,
                rect: !0
            }, "shipwreck_shore-B7", 1160, 420, null, o.EAreaEventAngle.LEFT, !1), 
            this.addAreaEvent(e, i, {
                x: 1160,
                y: 680,
                r: 120
            }, "shipwreck_shore-C8", 1120, 100, null, o.EAreaEventAngle.DOWN, !1), 
            this.addMonster(e, i, 1, 400, 470, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 99
                } ]
            }), this.addMonster(e, i, 2, 900, 320, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 33
                } ]
            }), this.zone.addSqueak(i, this, 640, 480, !1);
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreC7 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C6", "MAP_SHIPWRECK_SHORE_CAPNS_QUARTERS", 120, 320, [ "shipwreck_shore-B6" ], i) || this;
            return a.battleBG = "battle-shipwreck-underwater", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 40,
                y: 320,
                w: 80,
                h: 240,
                rect: !0
            }, "shipwreck_shore-B6", 1120, 360, null, o.EAreaEventAngle.LEFT, !1);
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreC6 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(42), r = i(1), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C12", "MAP_SHIPWRECK_SHORE_BROKEN_BOWSPRIT", 100, 420, [ "shipwreck_shore-B12", "shipwreck_shore-C11" ], i) || this;
            return a.battleBG = "battle-shipwreck-outside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1080,
                y: 40,
                w: 160,
                h: 80,
                rect: !0
            }, "shipwreck_shore-C11", 1080, 620, null, r.EAreaEventAngle.UP, !1), 
            this.addAreaEvent(e, i, {
                x: 40,
                y: 440,
                w: 80,
                h: 400,
                rect: !0
            }, "shipwreck_shore-B12", 1160, 500, null, r.EAreaEventAngle.LEFT, !1), 
            this.addPippet(e, i, 1, 520, 460);
            this.addMonster(e, i, 1, 520, 460, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 52
                } ]
            }), new o.ToyMerchant(e, i.content, 900, 300);
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreC12 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C11", "MAP_SHIPWRECK_SHORE_DESOLATE_DECK", 1080, 620, [ "shipwreck_shore-C12", "shipwreck_shore-B11", "shipwreck_shore-C10" ], i) || this;
            return a.battleBG = "battle-shipwreck-outside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 780,
                y: 120,
                w: 200,
                h: 80,
                rect: !0
            }, "shipwreck_shore-C10", 180, 600, null, o.EAreaEventAngle.UP, !1), 
            this.addAreaEvent(e, i, {
                x: 40,
                y: 320,
                w: 80,
                h: 320,
                rect: !0
            }, "shipwreck_shore-B11", 1160, 300, null, o.EAreaEventAngle.LEFT, !1), 
            this.addAreaEvent(e, i, {
                x: 1080,
                y: 680,
                w: 160,
                h: 80,
                rect: !0
            }, "shipwreck_shore-C12", 1080, 100, null, o.EAreaEventAngle.DOWN, !1), 
            this.addPippet(e, i, 1, 400, 450);
            this.addMonster(e, i, 1, 400, 450, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 55
                } ]
            });
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreC11 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C10", "MAP_SHIPWRECK_SHORE_DIVE_DOCK", 180, 600, [ "shipwreck_shore-C9", "shipwreck_shore-C11" ], i.concat("atlas-120")) || this;
            return a.battleBG = "battle-shipwreck-outside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.zone.addWhirlpool(i, this, 1180, 200, {
                target: "shipwreck_shore-C9",
                x: 180,
                y: 380,
                callback: null,
                handRotation: o.EAreaEventAngle.UP
            }), this.addAreaEvent(e, i, {
                x: 160,
                y: 680,
                w: 280,
                h: 80,
                rect: !0
            }, "shipwreck_shore-C11", 780, 220, null, o.EAreaEventAngle.DOWN, !1), 
            this.addMonster(e, i, 1, 870, 305, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 25
                } ]
            }), this.addMonster(e, i, 2, 760, 560, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 66
                } ]
            });
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreC10 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B8", "MAP_SHIPWRECK_SHORE_BROKEN_SHIP_BED", 1160, 540, [ "shipwreck_shore-C8" ], i) || this;
            return a.battleBG = "battle-shipwreck-underwater", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1240,
                y: 580,
                w: 80,
                h: 280,
                rect: !0
            }, "shipwreck_shore-C8", 140, 460, null, o.EAreaEventAngle.RIGHT, !1), 
            this.addMonster(e, i, 1, 775, 325, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 90
                } ]
            }), this.addMonster(e, i, 2, 420, 485, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 98
                } ]
            });
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreB8 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(3), s = i(0), l = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B7", "MAP_SHIPWRECK_SHORE_SECOND_SHIP_RAMP", 1160, 420, [ "shipwreck_shore-A7", "shipwreck_shore-C7" ], i.concat("atlas-120", "sfx-20")) || this;
            return a.battleBG = "battle-shipwreck-underwater", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 160,
                y: 240,
                w: 160,
                h: 80,
                rect: !0
            }, "shipwreck_shore-A7", 1160, 520, null, o.EAreaEventAngle.DOWN, !1), 
            this.addAreaEvent(e, i, {
                x: 1240,
                y: 420,
                w: 80,
                h: 200,
                rect: !0
            }, "shipwreck_shore-C7", 120, 280, null, o.EAreaEventAngle.RIGHT, !1);
            var n = this.zone;
            n.addShortcut(i, 1060, 560), this.enableShortcut(e, i), n.addInkGroup(i, this, [ {
                x: 1e3,
                y: 520
            }, {
                x: 1040,
                y: 560
            }, {
                x: 1040,
                y: 520
            }, {
                x: 1e3,
                y: 560
            } ], {
                x: 1060,
                y: 480
            }, [ e.broadcaster.addAppListener.bind(e.broadcaster, r.EShipwreckShoreEvents.InkGroupDestroyed, this.enableShortcut.bind(this, e, i), this) ]), 
            this.addMonster(e, i, 1, 675, 460, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 46
                } ]
            }), this.addMonster(e, i, 2, 900, 200, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 118
                } ]
            }), n.addSqueak(i, this, 840, 440, !0);
        }, e.prototype.enableShortcut = function(t, e) {
            t.broadcaster.removeAppListener(r.EShipwreckShoreEvents.InkGroupDestroyed, this);
            var i = this.zone.enableShortcut(e, this, 1060, 560, {
                target: "shipwreck_shore-C9",
                x: 780,
                y: 420,
                callback: null,
                handRotation: o.EAreaEventAngle.DOWN
            });
            s.Util.isValid(i) && this.locations.push("shipwreck_shore-C9");
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreB7 = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(0), s = function(t) {
        function e(e, i) {
            return t.call(this, e, "B6", "MAP_SHIPWRECK_SHORE_LOWER_DECK", 280, 540, [ "shipwreck_shore-A7", "shipwreck_shore-C6", "shipwreck_shore-B5" ], i.concat("atlas-120", "sfx-20")) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1040,
                y: 80,
                w: 160,
                h: 80,
                rect: !0
            }, "shipwreck_shore-B5", 1e3, 560, null, o.EAreaEventAngle.UP, !1);
            var n = r.Util.isValid(a) && r.Util.isValid(a.doorIsLockedCallback) ? a.doorIsLockedCallback : this.doorIsLocked.bind(this, e);
            this.addAreaEvent(e, i, {
                x: 1180,
                y: 360,
                w: 80,
                h: 160,
                rect: !0
            }, "shipwreck_shore-C6", 120, 320, 0 === e.prodigy.player.backpack.hasItem("item", 114) ? n : null, o.EAreaEventAngle.RIGHT, !1), 
            this.addAreaEvent(e, i, {
                x: 280,
                y: 600,
                w: 160,
                h: 80,
                rect: !0
            }, "shipwreck_shore-A7", 440, 120, null, o.EAreaEventAngle.DOWN, !1), 
            this.zone.addInkGroup(i, this, [ {
                x: 960,
                y: 40
            }, {
                x: 960,
                y: 80
            }, {
                x: 1040,
                y: 40
            }, {
                x: 1e3,
                y: 120
            }, {
                x: 1e3,
                y: 80
            }, {
                x: 1e3,
                y: 200
            }, {
                x: 1040,
                y: 200
            }, {
                x: 1e3,
                y: 160
            }, {
                x: 960,
                y: 240
            }, {
                x: 1040,
                y: 240
            } ], {
                x: 1040,
                y: 400
            }, []);
        }, e.prototype.doorIsLocked = function(t) {
            var e = t.prodigy.event.create();
            e.text(174, "noot"), e.start();
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreB6 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "B5", "MAP_SHIPWRECK_SHORE_CARGO_HOLD", 1e3, 560, [ "shipwreck_shore-B6", "shipwreck_shore-B4" ], i.concat("atlas-120", "sfx-20")) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 240,
                y: 40,
                w: 160,
                h: 80,
                rect: !0
            }, "shipwreck_shore-B4", 1120, 520, null, o.EAreaEventAngle.UP, !1), 
            this.addAreaEvent(e, i, {
                x: 1e3,
                y: 640,
                w: 160,
                h: 80,
                rect: !0
            }, "shipwreck_shore-B6", 1040, 140, null, o.EAreaEventAngle.DOWN, !1), 
            this.zone.addInkGroup(i, this, [ {
                x: 400,
                y: 320
            }, {
                x: 400,
                y: 400
            }, {
                x: 360,
                y: 280
            }, {
                x: 360,
                y: 360
            }, {
                x: 360,
                y: 440
            }, {
                x: 320,
                y: 320
            }, {
                x: 320,
                y: 400
            }, {
                x: 280,
                y: 360
            }, {
                x: 280,
                y: 440
            }, {
                x: 240,
                y: 400
            } ], {
                x: 520,
                y: 480
            }, []), this.addChest(e, i, "chestB5", 500, 325, [ {
                type: "item",
                ID: 108
            }, {
                type: "item",
                ID: 98
            }, {
                type: "gold",
                N: 200
            } ]);
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreB5 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B4", "MAP_SHIPWRECK_SHORE_UPPER_DECK", 1120, 520, [ "shipwreck_shore-B5", "shipwreck_shore-A4", "shipwreck_shore-B2" ], i) || this;
            return a.battleBG = "battle-shipwreck-outside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1080,
                y: 40,
                w: 160,
                h: 80,
                rect: !0
            }, "shipwreck_shore-B2", 1080, 620, null, o.EAreaEventAngle.UP, !1), 
            this.addAreaEvent(e, i, {
                x: 40,
                y: 380,
                w: 80,
                h: 280,
                rect: !0
            }, "shipwreck_shore-A4", 1160, 320, null, o.EAreaEventAngle.LEFT, !1), 
            this.addAreaEvent(e, i, {
                x: 1120,
                y: 600,
                w: 160,
                h: 80,
                rect: !0
            }, "shipwreck_shore-B5", 240, 100, null, o.EAreaEventAngle.DOWN, !1);
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreB4 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B2", "MAP_SHIPWRECK_SHORE_CROWS_NEST", 1080, 620, [ "shipwreck_shore-B4", "shipwreck_shore-A1" ], i) || this;
            return a.battleBG = "battle-shipwreck-outside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 120,
                y: 200,
                r: 80
            }, "shipwreck_shore-A1", 1160, 400, null, o.EAreaEventAngle.UP_LEFT, !1), 
            this.addAreaEvent(e, i, {
                x: 1080,
                y: 680,
                w: 160,
                h: 80,
                rect: !0
            }, "shipwreck_shore-B4", 1080, 120, null, o.EAreaEventAngle.DOWN, !1);
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreB2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B13", "MAP_SHIPWRECK_SHORE_SUNKEN_SECRET", 220, 260, [ "shipwreck_shore-B12" ], i.concat("atlas-120")) || this;
            return a.battleBG = "battle-shipwreck-underwater", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.zone.addWhirlpool(i, this, 220, 200, {
                target: "shipwreck_shore-B12",
                x: 140,
                y: 540,
                callback: null,
                handRotation: o.EAreaEventAngle.UP
            }), this.addChest(e, i, "chestB13", 1020, 350, [ {
                type: "item",
                ID: 96
            }, {
                type: "item",
                ID: 105
            }, {
                type: "item",
                ID: 98
            } ]);
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreB13 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(16), s = i(5), l = i(0), h = function(t) {
        function e(e, i, a, n, s, l, h) {
            void 0 === h && (h = !1);
            var c = t.call(this, e, i) || this;
            return c.x = a, c.y = n, c.npc = c.game.prodigy.create.sprite(0, 0, "atlas-" + s.atlasID, ""), 
            c.tween = new r.TweenController(c.npc), c.tween.set("frameName", [ "fishthing_1", "fishthing_2", "fishthing_3", "fishthing_4", "fishthing_5", "fishthing_6", "fishthing_7", "fishthing_7", "fishthing_1", "fishthing_2", "fishthing_8", "fishthing_4", "fishthing_9", "fishthing_10", "fishthing_11" ], 100, o.GameConstants.MAX_SAFE_INTEGER), 
            c.tween.start(), c.npc.inputEnabled = !0, c.npc.anchor.setTo(.5, 1), 
            c.npc.events.onInputDown.add(l, c), h && (c.npc.scale.x = -1), c.add(c.npc), 
            c.dialogue = c.game.prodigy.dialogue.create(), c.nameText = c.game.prodigy.create.nameFont(c, -15, -c.npc.height - 20, s.name), 
            c;
        }
        return n(e, t), e.prototype.setIndicator = function(t) {
            l.Util.isValid(this.indicator) || (this.indicator = this.game.prodigy.create.sprite(-14, -(this.npc.height - 10), "atlas-21", t), 
            this.indicator.anchor.setTo(.5, 1), this.add(this.indicator), this.game.add.tween(this.indicator).to({
                y: this.indicator.y - 50
            }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0)), 
            this.indicator.frameName = t;
        }, e.prototype.update = function() {
            t.prototype.update.call(this), this.tween.update();
        }, e;
    }(s.Element);
    e.FishMerchant = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(403), s = i(1), l = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B12", "MAP_SHIPWRECK_SHORE_SHORELINE", 990, 435, [ "shipwreck_shore-B13", "shipwreck_shore-C12" ], i.concat("atlas-137", "atlas-120", "atlas-155")) || this;
            return a.questNPC = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1240,
                y: 480,
                w: 80,
                h: 320,
                rect: !0
            }, "shipwreck_shore-C12", 100, 420, null, s.EAreaEventAngle.RIGHT, !1), 
            this.zone.addWhirlpool(i, this, 100, 640, {
                target: "shipwreck_shore-B13",
                x: 220,
                y: 260,
                callback: null,
                handRotation: s.EAreaEventAngle.DOWN
            }), this.questNPC = i.addConstructedQuestNPC(800, 450, "eve", !1, this.zoneComplete.bind(this, e)), 
            i.user.faceToward(this.questNPC.x);
            var n = this.game.prodigy.gameContainer.Localizer, l = [ {
                ID: 1,
                req: [ {
                    rtype: "item",
                    type: "outfit",
                    ID: 36
                }, {
                    rtype: "item",
                    type: "hat",
                    ID: 40
                }, {
                    rtype: "item",
                    type: "weapon",
                    ID: 65
                } ],
                fail: n.getText("NICKNAME_REQUIRE_PIRATE_SET")
            }, {
                ID: 2,
                req: [ {
                    rtype: "quest",
                    zone: "shipwreck_shore",
                    Q: 11
                } ],
                fail: n.getText("NICKNAME_REQUIRE_SHIPWRECK_COMPLETE")
            }, {
                ID: 5,
                req: [ {
                    rtype: "pet",
                    ID: 98
                } ],
                fail: n.getText("NICKNAME_REQUIRE_CATCH_MIMIC")
            }, {
                ID: 3,
                member: !0,
                fail: n.getText("NICKNAME_REQUIRE_MEMBERSHIP")
            }, {
                ID: 4,
                member: !0,
                fail: n.getText("NICKNAME_REQUIRE_MEMBERSHIP")
            } ], h = this.game.prodigy.create.element(i.content, 1050, 350), c = h.add(this.game.prodigy.create.sprite(0, -100, "atlas-19", "namer")), p = h.add(this.game.prodigy.create.sprite(20, -90, "atlas-19", "feather"));
            this.game.add.tween(p).to({
                x: 40,
                y: -98
            }, 1500, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0), 
            c.inputEnabled = !0, c.events.onInputDown.add(this.game.prodigy.open.nicknamer.bind(this.game.prodigy.open, l, i.user)), 
            i.user.faceToward(this.questNPC.x), new r.FishMerchant(e, i.content, 350, 450, {
                atlas: "fishthing",
                atlasID: 155,
                name: n.getText("NPC_NAME_MERCHANT")
            }, function() {
                var t = e.prodigy.dialogue.create();
                t.setText({
                    text: n.getText("STORE_PROMPT_WELCOME", n.getText("STORE_OCEAN_OUTFITTERS")),
                    face: 0,
                    yes: e.prodigy.open.store.bind(e.prodigy.open, 19)
                }), t.start("fishthing");
            }, !1).setIndicator("store");
        }, e.prototype.zoneComplete = function(t) {
            var e = t.prodigy.event.create();
            e.text(45, "eve"), e.text(46, "eve"), e.text(47, "eve"), e.start();
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreB12 = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B11", "MAP_SHIPWRECK_SHORE_SECRET_SHORE", 1160, 300, [ "shipwreck_shore-B10", "shipwreck_shore-C11" ], i.concat("atlas-120")) || this;
            return a.battleBG = "battle-shipwreck-outside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.zone.addWhirlpool(i, this, 260, 110, {
                target: "shipwreck_shore-B10",
                x: 1020,
                y: 420,
                callback: null,
                handRotation: o.EAreaEventAngle.UP
            }), this.addAreaEvent(e, i, {
                x: 1240,
                y: 280,
                w: 80,
                h: 320,
                rect: !0
            }, "shipwreck_shore-C11", 120, 360, null, o.EAreaEventAngle.RIGHT, !1);
            this.addMonster(e, i, 1, 615, 385, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 107
                } ]
            });
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreB11 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B10", "MAP_SHIPWRECK_SHORE_SEAWEED_SANCTUARY", 1020, 420, [ "shipwreck_shore-B11" ], i.concat("atlas-120")) || this;
            return a.battleBG = "battle-shipwreck-underwater", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.zone.addWhirlpool(i, this, 1020, 560, {
                target: "shipwreck_shore-B11",
                x: 260,
                y: 180,
                callback: null,
                handRotation: o.EAreaEventAngle.DOWN
            }), this.addChest(e, i, "chestB10", 380, 475, [ {
                type: "gold",
                N: 600
            }, {
                type: "item",
                ID: 98
            }, {
                type: "boots",
                ID: 31
            } ], null, "A");
            this.addMonster(e, i, 1, 430, 275, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 118
                } ]
            });
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreB10 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "A7", "MAP_SHIPWRECK_SHORE_LOWER_DECK_HALL", 1160, 520, [ "shipwreck_shore-B6", "shipwreck_shore-B7" ], i.concat([ "atlas-120", "sfx-20" ])) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 440,
                y: 40,
                w: 320,
                h: 80,
                rect: !0
            }, "shipwreck_shore-B6", 280, 540, null, o.EAreaEventAngle.UP, !1), 
            this.addAreaEvent(e, i, {
                x: 1240,
                y: 440,
                w: 80,
                h: 240,
                rect: !0
            }, "shipwreck_shore-B7", 160, 180, null, o.EAreaEventAngle.UP_RIGHT, !1), 
            this.zone.addInkGroup(i, this, [ {
                x: 520,
                y: 360
            }, {
                x: 640,
                y: 400
            }, {
                x: 560,
                y: 400
            }, {
                x: 520,
                y: 440
            }, {
                x: 600,
                y: 440
            }, {
                x: 640,
                y: 440
            }, {
                x: 520,
                y: 480
            }, {
                x: 600,
                y: 480
            }, {
                x: 560,
                y: 520
            }, {
                x: 480,
                y: 520
            } ], {
                x: 740,
                y: 500
            }, []);
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreA7 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(3), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A5", "MAP_SHIPWRECK_SHORE_UNDERWATER_ALCOVE", 180, 200, [ "shipwreck_shore-A4" ], i.concat("atlas-91", "atlas-120", "sfx-20")) || this;
            return a.battleBG = "battle-shipwreck-underwater", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a);
            var n = this.zone;
            n.addWhirlpool(i, this, 180, 120, {
                target: "shipwreck_shore-A4",
                x: 200,
                y: 600,
                callback: null,
                handRotation: o.EAreaEventAngle.UP
            });
            this.addMonster(e, i, 1, 280, 450, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 99
                } ]
            }), n.addUnderwaterWizard(i, this, 575, 305, "wizardA5", {
                opponent: [ {
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_LOTNEY_CHUNK"),
                        gender: "male",
                        hair: {
                            style: 27,
                            color: 6
                        },
                        skinColor: 3,
                        eyeColor: 3
                    },
                    equipment: {
                        hat: 39,
                        outfit: 35,
                        boots: 10,
                        weapon: 64
                    }
                } ],
                pets: [ {
                    ID: 90
                }, {
                    ID: 88
                } ]
            });
            var s = n.addInkGroup(i, this, [ {
                x: 960,
                y: 280
            }, {
                x: 1040,
                y: 280
            }, {
                x: 940,
                y: 320
            }, {
                x: 1020,
                y: 320
            }, {
                x: 1100,
                y: 320
            }, {
                x: 960,
                y: 360
            }, {
                x: 1040,
                y: 360
            }, {
                x: 1100,
                y: 360
            }, {
                x: 960,
                y: 400
            }, {
                x: 1040,
                y: 400
            }, {
                x: 1100,
                y: 400
            }, {
                x: 1e3,
                y: 440
            }, {
                x: 1080,
                y: 440
            } ], {
                x: 985,
                y: 255
            }, []), l = this.addChest(this.game, i, "chestA5", 1e3, 500, [ {
                type: "hat",
                ID: 81
            } ], null, "A");
            1 !== this.zone.getState("ink" + this.getTag()) && (l.visible = !1, 
            this.game.broadcaster.addAppListener(r.EShipwreckShoreEvents.InkBlasted, this.revealChest.bind(this, i, s, l), this, s));
        }, e.prototype.revealChest = function(t, e, i) {
            this.game.broadcaster.removeAppListener(r.EShipwreckShoreEvents.InkBlasted, this, e), 
            i.visible = !0;
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreA5 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A4", "MAP_SHIPWRECK_SHORE_SECLUDED_SHORE", 1160, 320, [ "shipwreck_shore-B4", "shipwreck_shore-A5" ], i.concat("atlas-120")) || this;
            return a.battleBG = "battle-shipwreck-outside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.zone.addWhirlpool(i, this, 60, 600, {
                target: "shipwreck_shore-A5",
                x: 180,
                y: 200,
                callback: null,
                handRotation: o.EAreaEventAngle.DOWN
            }), this.addAreaEvent(e, i, {
                x: 1240,
                y: 300,
                w: 80,
                h: 280,
                rect: !0
            }, "shipwreck_shore-B4", 120, 380, null, o.EAreaEventAngle.RIGHT, !1);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 62
                } ]
            };
            this.addMonster(e, i, 1, 500, 450, !1, n), this.addMonster(e, i, 2, 900, 310, !1, n);
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreA4 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A3", "MAP_SHIPWRECK_SHORE_SECRET_SHORE_SPACE", 1e3, 120, [ "shipwreck_shore-A2" ], i) || this;
            return a.battleBG = "battle-shipwreck-underwater", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1e3,
                y: 40,
                w: 320,
                h: 80,
                rect: !0
            }, "shipwreck_shore-A2", 1e3, 600, null, o.EAreaEventAngle.UP, !1), 
            this.addChest(e, i, "chestA3", 360, 370, [ {
                type: "gold",
                N: 800
            }, {
                type: "item",
                ID: 107
            }, {
                type: "weapon",
                ID: 93
            } ], null, "A");
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreA3 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A2", "MAP_SHIPWRECK_SHORE_SEAWEED_SKYSCRAPERS", 160, 200, [ "shipwreck_shore-A1", "shipwreck_shore-A3" ], i.concat("atlas-120")) || this;
            return a.battleBG = "battle-shipwreck-underwater", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.zone.addWhirlpool(i, this, 160, 120, {
                target: "shipwreck_shore-A1",
                x: 60,
                y: 560,
                callback: null,
                handRotation: o.EAreaEventAngle.UP
            }), this.addAreaEvent(e, i, {
                x: 1020,
                y: 680,
                w: 280,
                h: 80,
                rect: !0
            }, "shipwreck_shore-A3", 1e3, 120, null, o.EAreaEventAngle.DOWN, !1);
            this.addMonster(e, i, 1, 650, 400, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 98
                } ]
            });
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreA2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A1", "MAP_SHIPWRECK_SHORE_FAR_BEACH", 1160, 400, [ "shipwreck_shore-B2", "shipwreck_shore-A2" ], i.concat("atlas-120")) || this;
            return a.battleBG = "battle-shipwreck-outside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.zone.addWhirlpool(i, this, 60, 640, {
                target: "shipwreck_shore-A2",
                x: 160,
                y: 200,
                callback: null,
                handRotation: o.EAreaEventAngle.DOWN
            }), this.addAreaEvent(e, i, {
                x: 1240,
                y: 400,
                w: 80,
                h: 240,
                rect: !0
            }, "shipwreck_shore-B2", 200, 300, null, o.EAreaEventAngle.DOWN_RIGHT, !1);
        }, e;
    }(i(7).Map);
    e.ShipwreckShoreA1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, a, n) || this;
            r.tween = null;
            var s = r.add(r.game.prodigy.create.sprite(0, 0, "atlas-120", "whirlpool-1"));
            return r.tween = new o.TweenController(s), r.tween.set("frameName", [ "whirlpool-1", "whirlpool-2", "whirlpool-3", "whirlpool-4" ], 100, 9999), 
            r.tween.start(), r;
        }
        return n(e, t), e.prototype.update = function() {
            t.prototype.update.call(this), this.tween.update();
        }, e;
    }(i(5).Element);
    e.Whirlpool = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, a, n) || this;
            r.tween = null;
            var s = r.add(r.game.prodigy.create.sprite(0, 0, "atlas-120", "tornado-1"));
            return r.tween = new o.TweenController(s), r.tween.set("frameName", [ "tornado-1", "tornado-2", "tornado-3", "tornado-4" ], 100, 9999), 
            r.tween.start(), r;
        }
        return n(e, t), e.prototype.update = function() {
            t.prototype.update.call(this), this.tween.update();
        }, e;
    }(i(5).Element);
    e.Tornado = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(75), r = i(5), s = i(0), l = i(140), h = function(t) {
        function e(e, i, a, n, r, h) {
            var c = t.call(this, e, i.above, 0, 0) || this;
            c.inkGroup = [], c.pathTarget = null, c.onClickCallbacks = null, c.pathTarget = r, 
            c.onClickCallbacks = h.concat(i.process.bind(i));
            var p = null, u = null, d = [ 0, 250, 500, 750 ];
            d = o(d);
            for (var g = 0; g < n.length; g++) p = n[g], (u = new l.Ink(e, c, p.x, p.y, d[g % d.length])).graphic.inputEnabled = !0, 
            u.graphic.events.onInputDown.add(c.onClicked.bind(c, i, a), c), u.graphic.scale.x = s.Util.isValid(p.scaleX) ? p.scaleX : 1, 
            u.graphic.scale.y = s.Util.isValid(p.scaleY) ? p.scaleY : 1, c.inkGroup.push(u);
            return c;
        }
        return n(e, t), e.prototype.onClicked = function(t, e) {
            var i = this.game.prodigy.event.create(), a = 0;
            if (i.validPath(t.user, t.path, this.pathTarget.x, this.pathTarget.y), 
            this.game.prodigy.player.backpack.hasItem("key", 15) > 0 && e > 4) for (i.sound(20, "clear-ink", null), 
            a = 0; a < this.inkGroup.length; a++) i.function(this.inkGroup[a].onClicked.bind(this.inkGroup[a]));
            for (a = 0; a < this.onClickCallbacks.length; a++) i.function(this.onClickCallbacks[a]);
            i.start();
        }, e;
    }(r.Element);
    e.InkGroup = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 0, 0) || this;
            a.tween = null;
            var n = a.add(e.prodigy.create.sprite(0, 0, "atlas-19", "bubble-1"));
            return n.anchor.setTo(.5, 0), n.y -= .5 * i.height, a.tween = new o.TweenController(n), 
            a.tween.set("frameName", [ "bubble-1", "bubble-2", "bubble-3" ], 150, 9999), 
            a.tween.start(), a;
        }
        return n(e, t), e.prototype.update = function() {
            t.prototype.update.call(this), this.tween.update();
        }, e;
    }(i(5).Element);
    e.BreathingBubble = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(3), s = i(29), l = i(0), h = i(175), c = i(113), p = i(31), u = i(416), d = i(415), g = i(172), y = i(414), f = i(413), m = i(412), _ = i(411), v = i(410), E = i(409), b = i(408), O = i(407), T = i(406), A = i(405), I = i(404), w = i(402), C = i(401), S = i(400), P = i(399), D = i(398), L = i(397), x = i(396), M = i(395), N = i(394), U = i(393), k = i(392), R = i(391), B = i(390), G = i(389), V = i(388), H = i(387), F = i(386), j = i(385), z = i(384), W = i(383), K = i(382), Y = i(381), q = i(380), Q = i(379), X = i(378), Z = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            i.name = "Shipwreck Shore", i.ID = "shipwreck_shore", i.battleBG = "battle-shipwreck-outside", 
            i.onFaint = "shipwreck_shore-B12", i.questHub = "shipwreck_shore-B12", 
            i.bgmID = 16, i.currency = 14, i.states = [ "wizardC8", "wizardA5", "chestA3", "chestA5", "chestB5", "chestB13", "chestB10", "chestBreathingBubble", "mimic1", "mimic2", "inkA7", "inkB6", "inkB5", "inkA5", "inkC9", "inkB7", "squeak" ];
            var a = [ "tileset-water-new", "tileset-generic-new", "tileset-collisions", "tileset-ship-exterior", "tileset-ship-interior", "bgm-16" ];
            return i.maps = {
                A1: new m.ShipwreckShoreA1(i, a),
                A2: new _.ShipwreckShoreA2(i, a),
                A3: new v.ShipwreckShoreA3(i, a),
                A4: new E.ShipwreckShoreA4(i, a),
                A5: new b.ShipwreckShoreA5(i, a),
                A7: new O.ShipwreckShoreA7(i, a),
                B2: new C.ShipwreckShoreB2(i, a),
                B4: new S.ShipwreckShoreB4(i, a),
                B5: new P.ShipwreckShoreB5(i, a),
                B6: new D.ShipwreckShoreB6(i, a),
                B7: new L.ShipwreckShoreB7(i, a),
                B8: new x.ShipwreckShoreB8(i, a),
                B10: new T.ShipwreckShoreB10(i, a),
                B11: new A.ShipwreckShoreB11(i, a),
                B12: new I.ShipwreckShoreB12(i, a),
                B13: new w.ShipwreckShoreB13(i, a),
                C6: new k.ShipwreckShoreC6(i, a),
                C7: new R.ShipwreckShoreC7(i, a),
                C8: new B.ShipwreckShoreC8(i, a),
                C9: new G.ShipwreckShoreC9(i, a),
                C10: new M.ShipwreckShoreC10(i, a),
                C11: new N.ShipwreckShoreC11(i, a),
                C12: new U.ShipwreckShoreC12(i, a),
                Titan: new c.TitanMap(i, a, {
                    map: "shipwreck_shore-Titan",
                    cutscene: "shipwreck_shore-titanIntro",
                    harvey: {
                        x: 175,
                        y: 200
                    },
                    sign: {
                        x: 100,
                        y: 200
                    },
                    catapult: {
                        x: 200,
                        y: 430,
                        arcHeight: 300
                    },
                    titan: {
                        x: 1100,
                        y: 400,
                        impactOffset: {
                            x: -130,
                            y: 0
                        }
                    },
                    entry: {
                        x: 550,
                        y: 400
                    }
                })
            }, i.quests = {
                1: new V.ShipwreckShoreQ1(i, []),
                2: new j.ShipwreckShoreQ2(i, []),
                3: new z.ShipwreckShoreQ3(i, []),
                4: new W.ShipwreckShoreQ4(i, []),
                5: new K.ShipwreckShoreQ5(i, []),
                6: new Y.ShipwreckShoreQ6(i, []),
                7: new q.ShipwreckShoreQ7(i, []),
                8: new Q.ShipwreckShoreQ8(i, []),
                9: new X.ShipwreckShoreQ9(i, []),
                10: new H.ShipwreckShoreQ10(i, []),
                11: new F.ShipwreckShoreQ11(i, [])
            }, i.scenes = {
                titanIntro: new h.TitanIntro(i, [ "tileset-interior-general", "tileset-wall-collisions", "bgm-10" ])
            }, i;
        }
        return n(e, t), e.prototype.init = function(e, i, a) {
            t.prototype.init.call(this, e, i, a);
            var n = this.isUnderwaterMap(a.getTag()), o = e.prodigy.player.backpack.hasItem("key", 14) > 0;
            if (n && e.broadcaster.addAppListener(r.ECreatureEvents.PlayerLoaded, this.addBreathingBubbleToPlayerContainer.bind(this), this, this.game), 
            (this.getCurrentQuestID() > 1 || o && "B12" === a.getTag()) && (n ? (this.battleBG = "battle-shipwreck-underwater", 
            o && new u.BreathingBubble(e, i.user.sprites), a.enableLayerID(0, !(o && n))) : (this.battleBG = "battle-shipwreck-outside", 
            a.enableLayerID(0, !(o && this.hasWhirlpool(a.getTag()))))), "C9" === a.getTag() || "B7" === a.getTag()) {
                var s = this.getState("inkC9"), l = this.getState("inkB7");
                a.enableLayerID(1, 1 !== s && 1 !== l);
            } else a.enableLayerID(1, 1 !== this.getState("ink" + a.getTag()));
        }, e.prototype.addBreathingBubbleToPlayerContainer = function(t) {
            l.Util.isValid(t) && this.game.prodigy.user === t && new u.BreathingBubble(this.game, t.sprites);
        }, e.prototype.startQuest = function(e) {
            var i = t.prototype.startQuest.call(this, e);
            return l.Util.isValid(i) && e > 2 ? (this.setState("squeak", s.Random.integerInRange(0, 4)), 
            i) : null;
        }, e.prototype.cleanup = function() {
            t.prototype.cleanup.call(this), this.game.broadcaster.removeAppListener(r.EWalkableScreenEvents.PlayerAdded, this, this.game), 
            this.game.broadcaster.removeAppListener(r.ECreatureEvents.PlayerLoaded, this, this.game);
        }, e.prototype.isUnderwaterMap = function(t) {
            return "A2" === t || "A3" === t || "A5" === t || "A7" === t || "B5" === t || "B6" === t || "B7" === t || "B8" === t || "B10" === t || "B13" === t || "C6" === t || "C7" === t || "C8" === t || "C9" === t;
        }, e.prototype.hasWhirlpool = function(t) {
            return "A1" === t || "A4" === t || "B11" === t || "B12" === t || "C10" === t;
        }, e.prototype.addUnderwaterWizard = function(t, e, i, a, n, o) {
            var r = e.addWizard(this.game, t, i, a, n, o);
            l.Util.isValid(r) && (new u.BreathingBubble(this.game, r.sprites).y += 24);
        }, e.prototype.addShortcut = function(t, e, i) {
            var a = t.background.add(this.game.prodigy.create.sprite(e, i, "atlas-120", "sand-shortcut"));
            a.y -= .5 * a.height, a.x -= .5 * a.width;
        }, e.prototype.enableShortcut = function(t, e, i, a, n) {
            if (1 === this.getState("inkC9") && 1 === this.getState("inkB7")) {
                var o = this.createAreaEvent(t, e, i, a, 3, 2, n, !1);
                return o.process(this, e), o;
            }
        }, e.prototype.addWhirlpool = function(t, e, i, a, n) {
            var o, r, s, l = a;
            this.isUnderwaterMap(e.getTag()) ? ((o = new y.Tornado(this.game, t.background, i, a)).y -= .75 * o.height, 
            r = 3, s = 4, l -= 40) : ((o = new f.Whirlpool(this.game, t.background, i, a)).y -= .5 * o.height, 
            r = 3, s = 2), o.x -= .5 * o.width, this.createAreaEvent(t, e, i, l, r, s, n, this.isUnderwaterMap(e.getTag()));
        }, e.prototype.createAreaEvent = function(t, e, i, a, n, o, r, s) {
            if (this.game.prodigy.player.backpack.hasItem("key", 14) > 0) {
                var l = this.getArrowOffsetFromHandRotation(r.handRotation, s);
                return e.addAreaEvent(this.game, t, {
                    x: i,
                    y: a,
                    w: 40 * n,
                    h: 40 * o,
                    rect: !0,
                    arrowOffsetX: l.x,
                    arrowOffsetY: l.y
                }, r.target, r.x, r.y, r.callback, r.handRotation, !1);
            }
        }, e.prototype.getArrowOffsetFromHandRotation = function(t, e) {
            var i = {
                x: 0,
                y: 0
            };
            switch (t) {
              case o.EAreaEventAngle.UP:
                i.y = 40 + (e ? 40 : 0);
                break;

              case o.EAreaEventAngle.RIGHT:
                i.x = -40;
                break;

              case o.EAreaEventAngle.DOWN:
                i.y = (e ? -40 : 0) - 40;
                break;

              case o.EAreaEventAngle.LEFT:
                i.x = 40;
                break;

              default:
                i.x = 0, i.y = 0;
            }
            return i;
        }, e.prototype.addInkGroup = function(t, e, i, a, n) {
            var o = "ink" + e.getTag(), s = n;
            if (1 !== this.getState(o)) {
                var h = this.getCurrentQuestID();
                return this.game.prodigy.player.backpack.hasItem("key", 15) > 0 && h > 0 && (s.push(this.sonicBlastInk.bind(this, t, e, o)), 
                s.push(this.game.broadcaster.broadcast.bind(this.game.broadcaster, r.EShipwreckShoreEvents.InkGroupDestroyed, this.game, []))), 
                l.Util.isValid(e.questParams) && l.Util.isValid(e.questParams.inkCallbacks) && (s = s.concat(e.questParams.inkCallbacks)), 
                new d.InkGroup(this.game, t, h, i, a, s);
            }
            return null;
        }, e.prototype.sonicBlastInk = function(t, e, i) {
            this.setState(i, 1), "inkC9" === i ? e.enableLayerID(1, 1 !== this.getState("inkB7")) : "inkB7" === i ? e.enableLayerID(1, 1 !== this.getState("inkC9")) : (e.enableLayerID(1, !1), 
            t.area = e.init(this.game, e.below, e.above, t), t.path.init(t.area, t.tileSize));
        }, e.prototype.getCompletedStatesCount = function(t) {
            for (var e = 0, i = 0; i < t.length; i++) 1 === this.getState(t[i]) && e++;
            return e;
        }, e.prototype.addSqueak = function(t, e, i, a, n) {
            var o = e.getTag(), r = this.getState("squeak");
            if (l.Util.isValid(r) && 4 !== r && ("C9" === o && 0 === r || "C8" === o && 1 === r || "C7" === o && 2 === r || "B7" === o && 3 === r)) {
                var s = new g.Squeak(this.game, t, this, i, a);
                return n && (s.scale.x = -1), s;
            }
            return null;
        }, e;
    }(p.Zone);
    e.ShipwreckShoreZone = Z;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B3", i.concat([ "spine-10", "spine-9" ])) || this;
            return a.loadingData.time = 1, a;
        }
        return n(e, t), e.prototype.start = function(t, e) {
            var i = t.prodigy.gameContainer.Localizer;
            this.game.prodigy.create.animatedSpineNPC(e.content, "spine-10", {
                text: i.getText("NPC_NAME_HARRIET_HOOD"),
                x: 0,
                y: -120
            }, {
                type: "spine"
            }, 590, 415, [ {
                name: "idle-1",
                min: 1,
                max: 5
            }, {
                name: "idle-2",
                min: 1,
                max: 1
            } ], "idle-1", null), this.game.prodigy.create.animatedSpineNPC(e.content, "spine-9", {
                text: i.getText("NPC_NAME_DON_ZORRO"),
                x: 0,
                y: -100
            }, {
                type: "spine"
            }, 700, 390, [ {
                name: "idle-2",
                min: 1,
                max: 5
            }, {
                name: "idle-3",
                min: 1,
                max: 1
            } ], "idle-1", null);
            var a = this.game.prodigy.event.create();
            a.function(this.enterScene.bind(this, t, e)), a.delay(500), a.text(0, "don-zorro"), 
            a.delay(500), a.text(0, "harriet"), a.delay(500), a.text(1, "don-zorro"), 
            a.delay(500), a.text(1, "harriet"), a.delay(500), a.text(2, "don-zorro"), 
            a.delay(500), a.text(2, "harriet"), a.functionCallback(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "hat",
                ID: "126",
                N: 1
            } ])), a.delay(500), a.text(3, "don-zorro"), a.delay(500), a.text(4, "don-zorro"), 
            a.functionCallback(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "hat",
                ID: "123",
                N: 1
            } ])), a.function(this.end.bind(this, t, e, !0)), a.start();
        }, e.prototype.end = function(t, e, i) {
            if (i) {
                t.prodigy.world.teleport("lamplight-B3", 120, 420, null, {
                    fadeIn: !0,
                    time: 500,
                    fadeOut: !0
                });
                for (var a = 0; a < t.prodigy.skin.active.length; a++) "Springfest" === t.prodigy.skin.active[a].festivalName && t.prodigy.skin.active[a].setIntroState(t.prodigy.player, 1);
            }
        }, e;
    }(i(39).Scene);
    e.SpringfestIntro = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 1, "", {
                type: "seq",
                N: 7
            }, [ "lamplight-A3" ], [], [], [ 0 ], [], !1) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.zone.completeQuest(1), 
            null;
        }, e;
    }(i(6).Quest);
    e.LamplightQ1 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "D3", "MAP_LAMPLIGHT_FORT_FOX", 100, 460, [ "lamplight-C3" ], i) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i), this.addAreaEvent(e, i, {
                x: 0,
                y: 460,
                w: 80,
                h: 260,
                rect: !0
            }, "lamplight-C3", 1050, 510, null, o.EAreaEventAngle.LEFT);
        }, e;
    }(i(7).Map);
    e.LamplightD3 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__assign || Object.assign || function(t) {
        for (var e, i = 1, a = arguments.length; i < a; i++) for (var n in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        return t;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(76), s = i(207), l = i(0), h = function(t) {
        function e(e, i) {
            return t.call(this, e, "coliseum", "MAP_LAMPLIGHT_COLISEUM", 640, 520, [], i.concat([ "tileset-darktower", "tileset-town-new", "atlas-110", "atlas-111", "atlas-66", "atlas-71", "tileset-water-new" ])) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            if (void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), 
            !l.Util.isValid(s.Coliseum.dialogue[0].text)) for (var o = 0; o < s.Coliseum.dialogue.length; ++o) l.Util.isValid(s.Coliseum.dialogue[o].textKey) && Object.defineProperty(s.Coliseum.dialogue[o], "text", {
                get: function() {
                    return e.prodigy.gameContainer.Localizer.getText(this.textKey);
                }
            });
            new r.QuestNPC(e, i.content, 400, 400, {
                name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_CLANKBOOT"),
                atlas: "clankboot",
                atlasID: 66
            }, function() {
                n.openArena(e);
            }, !0), i.addGnome(640, 200, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_ARENA_CALLER"), 1, 2, function() {
                n.openArenaMenu(e);
            });
            var h = e.prodigy.create.element(i.content, 950, 325), c = e.prodigy.create.sprite(-20, -130, "singleImage-40");
            h.add(c), c.inputEnabled = !0, c.events.onInputDown.add(function() {
                var t = e.prodigy.pvpNetworkHandler, i = e.prodigy.gameContainer.Localizer;
                l.Util.isValid(t.seasonID) ? e.prodigy.open.pvpPrizes() : t.isInitialized ? e.prodigy.open.messageBoxOkay(i.getText("SEASON_COMPLETED")) : e.prodigy.open.message(i.getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE"), null, null, i.getText("MESSAGE_TITLE_OOPS"));
            }), this.zone.addDoor(i, 520, 560, 240, 80, 640, 600, function() {
                e.prodigy.world.teleport("lamplight-C3", 580, 360);
            });
        }, e.prototype.openArena = function(t) {
            var e = t.prodigy.dialogue.create();
            e.setText(o({}, s.Coliseum.dialogue[0], {
                text: t.prodigy.gameContainer.Localizer.getText(s.Coliseum.dialogue[0].textKey),
                yes: function() {
                    t.prodigy.open.arena();
                }
            })), e.start("clankboot");
        }, e.prototype.openArenaMenu = function(t) {
            var e = t.prodigy.event.create();
            l.Util.isValid(t.prodigy.player.world) ? (e.yesNoText(15, "merchant"), 
            e.function(t.prodigy.open.social.bind(t.prodigy.open, 0))) : e.text(16, "merchant"), 
            e.start();
        }, e;
    }(i(7).Map);
    e.LamplightColiseum = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(1), s = function(t) {
        function e(e, i) {
            return t.call(this, e, "C4", "MAP_LAMPLIGHT_MARKET", 200, 180, [ "lamplight-B4", "lamplight-C3" ], i.concat([ "atlas-81" ])) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 60,
                y: 420,
                w: 120,
                h: 200,
                rect: !0
            }, "lamplight-B4", 1160, 457.5, o(a, "distractCallback", null), r.EAreaEventAngle.LEFT), 
            this.addAreaEvent(e, i, {
                x: 200,
                y: 60,
                w: 160,
                h: 120,
                rect: !0
            }, "lamplight-C3", 160, 540, null, r.EAreaEventAngle.UP), this.zone.addDoor(i, 840, 280, 120, 160, 900, 440, e.prodigy.open.store.bind(e.prodigy.open, 2));
        }, e;
    }(i(7).Map);
    e.LamplightC4 = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t(t, e, i) {
            var a = this;
            this.game = null, this.pages = [], this.game = t;
            var n = this.game.prodigy.player.hasCompletedTutorial();
            if (e.addClickableEvent(900, 220, 160, 180, function() {
                if (n) {
                    var t = a.game.prodigy.event.create();
                    t.validPath(e.user, e.path, 980, 425), t.function(function() {
                        a.game.prodigy.open.bountyBoard();
                    }), t.start();
                } else a.game.prodigy.open.message(a.game.prodigy.gameContainer.Localizer.getText("BOUNTY_BOARD_UNLOCK_MESSAGE"), null);
            }, null), n) {
                e.addGnome(860, 400, t.prodigy.gameContainer.Localizer.getText("NPC_NAME_BOARDY"), 4, 3, function() {
                    a.boardyClicked();
                });
                for (var o = 0; o < this.game.prodigy.player.state.get("world-bounties").length; o++) this.game.prodigy.player.state.get("world-bounties")[o] > 0 && (this.pages[o] = e.content.add(this.game.prodigy.create.sprite(20 * o + 942.5, 300, "atlas-116", "page")));
            }
        }
        return t.prototype.boardyClicked = function() {
            for (var t, e = this, i = this.game.prodigy.bounty.getBounties(), n = 0, o = 0; o < i.length; o++) if (1 === i[o].complete) {
                this.game.prodigy.network.sendAnalytics("Bounty", "complete", "Events"), 
                n += this.game.prodigy.bounty.getReward(i[o]);
                var r = i[o].ID - 84, s = this.game.prodigy.player.state.get("world-bounties");
                s[i[o].ID - 84] = -1 * s[i[o].ID - 84], this.game.prodigy.player.state.set("world-bounties", s), 
                this.game.prodigy.player.backpack.consume("item", i[o].ID, 1), a.Util.isValid(this.pages[r]) && this.pages[r].destroy();
            }
            n > 0 ? ((t = this.game.prodigy.event.create()).text(13, "merchant"), 
            t.function(function() {
                e.game.prodigy.open.gotItem([ {
                    type: "bounty",
                    N: n
                } ], null, null, "bounty-board-reward");
            }), t.start(), this.game.prodigy.player.addBountyScore(n)) : ((t = this.game.prodigy.event.create()).yesNoText(17, "merchant"), 
            t.function(function() {
                e.game.prodigy.open.bountyStore();
            }), t.start());
        }, t;
    }();
    e.BountyBoard = n;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(7), s = i(423), l = function(t) {
        function e(e, i) {
            return t.call(this, e, "C3", "MAP_LAMPLIGHT_COLISEUM", 160, 540, [ "lamplight-B3", "lamplight-C2", "lamplight-C4" ], i.concat([ "atlas-81" ])) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 40,
                y: 400,
                w: 80,
                h: 240,
                rect: !0
            }, "lamplight-B3", 1160, 417.5, null, o.EAreaEventAngle.LEFT), this.addAreaEvent(e, i, {
                x: 200,
                y: 80,
                w: 160,
                h: 160,
                rect: !0
            }, "lamplight-C2", 200, 600, null, o.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
                x: 160,
                y: 660,
                w: 160,
                h: 120,
                rect: !0
            }, "lamplight-C4", 200, 180, null, o.EAreaEventAngle.DOWN), this.zone.addDoor(i, 520, 200, 120, 160, 580, 360, function() {
                e.prodigy.world.teleport("lamplight-coliseum");
            }), new s.BountyBoard(e, i, i.data);
        }, e;
    }(r.Map);
    e.LamplightC3 = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "C2", "MAP_LAMPLIGHT_HISTORY_DISTRICT", 200, 600, [ "lamplight-B2", "lamplight-C3" ], i.concat([ "atlas-81" ])) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 40,
                y: 320,
                w: 80,
                h: 160,
                rect: !0
            }, "lamplight-B2", 1160, 320, null, o.EAreaEventAngle.LEFT), this.addAreaEvent(e, i, {
                x: 200,
                y: 680,
                w: 160,
                h: 80,
                rect: !0
            }, "lamplight-C3", 200, 240, null, o.EAreaEventAngle.DOWN);
            var n = this.game.prodigy.gameContainer.Localizer, r = function() {
                e.prodigy.open.message(n.getText("LAMPLIGHT_DOOR_COMING_SOON_MESSAGE"), null, "star", n.getText("LAMPLIGHT_DOOR_COMING_SOON_TITLE"));
            };
            this.zone.addDoor(i, 520, 240, 120, 160, 580, 400, r, !0), this.zone.addDoor(i, 920, 240, 120, 160, 980, 400, r, !0);
        }, e;
    }(i(7).Map);
    e.LamplightC2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(0), s = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i.content, {
                name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_SIR_VEY"),
                npc: !0
            }, null, a, n) || this;
            return o.screen = null, o.surveyData = null, o.sprite = null, o.sirveySpine = null, 
            o.screen = i, o.setup(), o;
        }
        return n(e, t), e.prototype.walk = function() {
            this.stand();
        }, e.prototype.stand = function() {}, e.prototype.setup = function() {
            if (this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), 
            this.sirveySpine = this.game.add.spine(0, 0, "spine-1"), this.sirveySpine.setAnimationByName(0, "idle", !0), 
            this.sprite.add(this.sirveySpine), this.setupCollisionBlock(), this.showName(!0, this.game.prodigy.gameContainer.Localizer.getText("NPC_NAME_SIR_VEY")), 
            this.nameText.y = -115, this.surveyData = this.game.prodigy.surveyController.getSurveyData(), 
            r.Util.isValid(this.surveyData) && r.Util.isValid(this.surveyData.id)) {
                var t = this.sprite.height + 60;
                this.exclamation = this.add(this.game.prodigy.create.sprite(-20, -t, "atlas-21", "exclamation")), 
                this.game.add.tween(this.exclamation).to({
                    y: -(t + 10)
                }, 400, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0), 
                this.game.time.events.add(5e3, this.attention.bind(this), this);
            } else r.Util.isValid(this.exclamation) && (this.exclamation.destroy(), 
            this.exclamation = null);
        }, e.prototype.attention = function() {
            r.Util.isValid(this.exclamation) && (this.sirveySpine.setAnimationByName(0, "jump", !1), 
            this.sirveySpine.addAnimationByName(0, "idle", !0), this.game.time.events.add(3e3 * Math.random() + 5e3, this.attention.bind(this), this));
        }, e.prototype.setupCollisionBlock = function() {
            this.collisionBlock = this.sprite.add(this.game.prodigy.create.sprite(-.5 * this.sprite.width, -this.sprite.height, "atlas-18", "empty")), 
            this.collisionBlock.width = this.sprite.width, this.collisionBlock.height = this.sprite.height, 
            this.collisionBlock.inputEnabled = !0, this.collisionBlock.events.onInputDown.add(this.onClicked.bind(this));
        }, e.prototype.onClicked = function() {
            var t = this;
            this.screen.path.findPath(this.screen.user.x, this.screen.user.y, this.x - 20, this.y + 20, function(e) {
                r.Util.isValid(e) && t.screen.user.setPath(e, t.encounter.bind(t));
            });
        }, e.prototype.encounter = function() {
            var t = this.game.prodigy.dialogue.create();
            this.surveyData = this.game.prodigy.surveyController.getSurveyData(), 
            r.Util.isValid(this.surveyData) && r.Util.isValid(this.surveyData.id) ? (t.setText(1), 
            t.setText({
                callback: this.showSurveyPanel.bind(this)
            })) : t.setText(0), t.start("sir-vey");
        }, e.prototype.showSurveyPanel = function() {
            this.game.prodigy.open.survey(this.surveyData);
        }, e;
    }(i(14).CreatureContainer);
    e.SirVey = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(426), r = i(1), s = function(t) {
        function e(e, i) {
            return t.call(this, e, "B5", "MAP_LAMPLIGHT_SOUTHERN_DOCK", 200, 120, [ "lamplight-B4" ], i.concat("spine-1")) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 200,
                y: 40,
                w: 160,
                h: 80,
                rect: !0
            }, "lamplight-B4", 160, 600, null, r.EAreaEventAngle.UP), new o.SirVey(e, i, 600, 380);
        }, e;
    }(i(7).Map);
    e.LamplightB5 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "B4", "MAP_LAMPLIGHT_LOWER_INTERSECTION", 160, 600, [ "lamplight-A4", "lamplight-C4", "lamplight-B5" ], i) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1240,
                y: 420,
                w: 80,
                h: 200,
                rect: !0
            }, "lamplight-C4", 180, 457.5, null, o.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
                x: 40,
                y: 420,
                w: 80,
                h: 200,
                rect: !0
            }, "lamplight-A4", 1160, 457.5, null, o.EAreaEventAngle.LEFT), this.addAreaEvent(e, i, {
                x: 160,
                y: 680,
                w: 160,
                h: 80,
                rect: !0
            }, "lamplight-B5", 200, 120, null, o.EAreaEventAngle.DOWN), this.zone.addDoor(i, 600, 240, 120, 160, 660, 400, function() {
                e.prodigy.start("DanceDance");
            });
        }, e;
    }(i(7).Map);
    e.LamplightB4 = r;
}, function(t, e) {
    t.exports = function(t, e, i) {
        for (var a = -1, n = null == t ? 0 : t.length; ++a < n; ) if (i(e, t[a])) return !0;
        return !1;
    };
}, function(t, e, i) {
    var a = i(267);
    t.exports = function(t, e) {
        return !(null == t || !t.length) && a(t, e, 0) > -1;
    };
}, function(t, e, i) {
    var a = i(283), n = i(430), o = i(429), r = i(88), s = i(84), l = i(281), h = 200;
    t.exports = function(t, e, i, c) {
        var p = -1, u = n, d = !0, g = t.length, y = [], f = e.length;
        if (!g) return y;
        i && (e = r(e, s(i))), c ? (u = o, d = !1) : e.length >= h && (u = l, d = !1, 
        e = new a(e));
        t: for (;++p < g; ) {
            var m = t[p], _ = null == i ? m : i(m);
            if (m = c || 0 !== m ? m : 0, d && _ == _) {
                for (var v = f; v--; ) if (e[v] === _) continue t;
                y.push(m);
            } else u(e, _, c) || y.push(m);
        }
        return y;
    };
}, function(t, e, i) {
    var a = i(431), n = i(197), o = i(122), r = i(192), s = o(function(t, e) {
        return r(t) ? a(t, n(e, 1, r, !0)) : [];
    });
    t.exports = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(432), r = i(81), s = i(2), l = i(57), h = i(5), c = i(4), p = i(25), u = i(29), d = i(0), g = i(18), y = function(t) {
        function e(i, a, n, o, r) {
            var s = t.call(this, i, a, 0, 25) || this;
            s.player = n, s.screen = o, s.assetID = r, s.data = c.Items.getItem("prizeWheel", r).data, 
            s.wasVisible = d.Util.isValid(s.screen.questProgress) && s.screen.questProgress.visible, 
            s.wasVisible && (s.screen.questProgress.visible = !1), s.wheelItems = e.getWheelItems(s.game, s.assetID);
            var l = {
                yes: s.trySpin.bind(s),
                no: s.close.bind(s),
                text: i.prodigy.gameContainer.Localizer.getText(s.data.askSpinDialogue),
                anim: 4
            };
            s.showDialogue([ l ]);
            var h = s.game.world.centerX, p = s.game.world.centerY - 80;
            s.add(s.game.prodigy.create.sprite(h + s.data.wheelTopOffset.x, p + s.data.wheelTopOffset.y, s.data.atlas, s.data.wheelTop)), 
            s.wheel = s.game.prodigy.create.element(s, h, p), s.wheel.angle = 18, 
            s.wheel.add(s.game.prodigy.create.sprite(0, 0, s.data.atlas, s.data.wheelSprite)).anchor.setTo(.5, .5);
            for (var u = null, g = 0; g < s.wheelItems.length; g++) {
                var y = s.game.prodigy.create.element(s.wheel, 0, 0);
                y.scale.setTo(.7, .7);
                var f = (36 * g - (s.wheel.angle - 12)) * (Math.PI / 180);
                u = s.game.prodigy.icon.createIcon(0, 0, s.game.prodigy.icon.iconKey(s.wheelItems[g].item), {
                    x: .5,
                    y: .5
                }), s.game.prodigy.load.isFileLoaded(s.game.prodigy.icon.iconKey(s.wheelItems[g].item)) ? s.correctIconPostLoad(u, f) : u.onTextureLoaded = s.correctIconPostLoad.bind(s, u, f), 
                u.x = -(.5 * u.width * Math.cos(f) - 2.5 * u.height * Math.sin(f)), 
                u.y = -(.5 * u.width * Math.sin(f) + 2.5 * u.height * Math.cos(f)), 
                y.add(u);
            }
            return s.add(s.game.prodigy.create.sprite(h - 250 + 236, p - 220, s.data.atlas, s.data.wheelPointer)), 
            s;
        }
        return n(e, t), e.getWheelItems = function(t, e, i) {
            for (var a = d.Util.isValid(i) ? i : d.Util.getDateTime() + e, n = [], r = [], s = c.Items.getItem("prizeWheel", e).data, l = 0; l < s.slots.length; l++) {
                var h, p = s.slots[l], g = u.Random.weightedArrayElement(p.itemPools, a).index, y = s.itemPools[g];
                y = o(y, r), h = t.seededRandom.pick(y, a), n.push({
                    item: h,
                    weight: p.weight
                }), r.push(h);
            }
            return n;
        }, e.prototype.showDialogue = function(t) {
            this.dialogueController = this.game.prodigy.dialogue.create();
            for (var e = 0; e < t.length; e++) d.Util.isValid(t[e].textKey) && (t[e].text = this.game.prodigy.gameContainer.Localizer.getText(t[e].textKey)), 
            this.dialogueController.setText(t[e]);
            this.dialogueController.start("stache", !1);
        }, e.prototype.correctIconPostLoad = function(t, e) {
            t.x += .5 * t.width, t.y += .5 * t.height, t.angle = e * (180 / Math.PI);
        }, e.prototype.trySpin = function() {
            var t = null;
            if (this.player.data["numSpins" + this.assetID] > 0 && (t = {
                conversionFunnelName: g.EFunnelEventIDs.FunnelSecondWheelSpin
            }, this.game.prodigy.network.sendConversionFunnelEvent(t.conversionFunnelName, g.EFunnelEventIDs.StageClickSpinAgain), 
            this.game.prodigy.network.sendAnalytics("Second-Wheel-Spin")), this.player.canSpin(this.assetID)) {
                var e = {
                    text: this.game.prodigy.gameContainer.Localizer.getText(this.data.spinningDialogue),
                    anim: 4,
                    hideNext: !0
                };
                this.showDialogue([ e ]), this.startSpin();
            } else {
                (e = []).push({
                    text: this.game.prodigy.gameContainer.Localizer.getText(this.data.outOfSpinsDialogue),
                    anim: 1
                }), this.player.hasMembership() || e.push({
                    callback: this.game.prodigy.open.membershipInfo.bind(this.game.prodigy.open, null, t, p.MembershipInfo.WHEEL_SPIN)
                }), e.push({
                    callback: this.close.bind(this)
                }), this.showDialogue(e);
            }
        }, e.prototype.close = function() {
            this.wasVisible && (this.screen.questProgress.visible = !0), this.destroy();
        }, e.prototype.startSpin = function() {
            var t = s.GameConstants.get("GameConstants.Features.Wheel.SPIN_TIME");
            s.GameConstants.get("GameConstants.Build.DEBUG") && e.DEBUG_SPIN_TIME_MS > 0 && (t = e.DEBUG_SPIN_TIME_MS);
            var i = d.Util.isValid(this.selectedIndex) ? this.selectedIndex : 0;
            this.selectedIndex = this.wheelItems.indexOf(u.Random.weightedArrayElement(this.wheelItems)), 
            this.playSound(t, 100);
            var a = this.wheel.angle + 2880 + -36 * (this.selectedIndex - i);
            this.game.add.tween(this.wheel).to({
                angle: a
            }, t, Phaser.Easing.Cubic.Out).start().onComplete.addOnce(this.endSpin, this), 
            this.player.spinWheel(this.assetID);
        }, e.prototype.playSound = function(t, e) {
            if (!(t <= 0)) {
                this.game.prodigy.audio.playSFX(19, "tick");
                var i = e + 9e-7 * Math.pow(e, 3);
                setTimeout(this.playSound.bind(this, t - i, i), e);
            }
        }, e.prototype.endSpin = function() {
            if (r([ "hat", "outfit", "weapon", "boots", "follow", "dorm" ], this.wheelItems[this.selectedIndex].item.type)) {
                var t = this.game.prodigy.notifications.initNotificationTemplate(l.NotificationType.ITEMWHEEL, [ c.Items.getItem(this.wheelItems[this.selectedIndex].item.type, this.wheelItems[this.selectedIndex].item.ID).data.name, "wheel-of-wonder" === this.data.eventType ? "Wheel of Wonder" : "Twilight Wheel" ], {
                    rarity: c.Items.getItem(this.wheelItems[this.selectedIndex].item.type, this.wheelItems[this.selectedIndex].item.ID).data.rarity
                });
                this.game.prodigy.notifications.pushNotification({
                    id: l.NotificationType.ITEMWHEEL,
                    data: t
                });
            }
            var e = new Date().getHours();
            this.game.prodigy.network.sendAnalytics("Wheel-Spin-Completed-Control", e.toString()), 
            this.dialogueController.close(), this.game.prodigy.open.gotItem([ this.wheelItems[this.selectedIndex].item ], this.tryAgain.bind(this), null, this.data.eventType);
        }, e.prototype.tryAgain = function() {
            var t = {
                yes: this.trySpin.bind(this),
                no: this.close.bind(this),
                text: this.game.prodigy.gameContainer.Localizer.getText(this.data.spinAgainDialogue),
                anim: 4
            };
            this.showDialogue([ t ]);
        }, e.DEBUG_SPIN_TIME_MS = -1, e;
    }(h.Element);
    e.Wheel = y;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = function(t) {
        function e(e, i, a, n, o, r) {
            var s = t.call(this, e, i, {
                name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_SCIENTIST_SLIME"),
                npc: !0
            }, null, a, n) || this;
            return s.tweens = [], s.content = i, s.firstTime = o, s.zone = r, s.coords = new Phaser.Point(a, n), 
            s.setup(), s;
        }
        return n(e, t), e.prototype.update = function() {
            t.prototype.update.call(this);
            for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update();
        }, e.prototype.setup = function() {
            var t = "body_";
            this.body = this.content.add(this.game.prodigy.create.sprite(this.coords.x, this.coords.y, "atlas-134", t + "0")), 
            this.body.anchor.setTo(.5, 1), this.body.inputEnabled = !0, this.body.events.onInputDown.add(this.clicked.bind(this)), 
            this.standTween = [], this.standTween.push(new o.TweenController(this.body)), 
            this.standTween[0].set("frameName", [ t + "0", t + "0", t + "0", t + "0", t + "1", t + "2", t + "2", t + "2", t + "1", t + "0", t + "0", t + "0", t + "0", t + "0" ], 150, 9999), 
            this.stand();
        }, e.prototype.walk = function() {
            this.stand();
        }, e.prototype.stand = function() {
            this.tweens = this.standTween;
            for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start();
        }, e.prototype.clicked = function() {
            var t = this.game.prodigy.event.create();
            this.firstTime ? (this.game.prodigy.network.sendAnalytics("potion-store-activity", "access-store", "Events"), 
            t.text(0, "potion"), t.text(1, "potion"), t.text(2, "potion"), t.text(3, "potion"), 
            t.function(this.zone.setState.bind(this.zone, "firstPotion", !1)), t.set(this, "firstTime", !1), 
            t.reward([ {
                type: "item",
                ID: 115,
                N: 1
            } ]), t.text(4, "potion")) : (t.text(6, "potion"), t.text(7, "potion")), 
            t.function(this.game.prodigy.open.store.bind(this.game.prodigy.open, 4)), 
            t.start();
        }, e;
    }(i(14).CreatureContainer);
    e.ScientistSlimerella = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(434), r = i(1), s = i(0), l = i(7), h = i(433), c = function(t) {
        function e(e, i) {
            return t.call(this, e, "B3", "MAP_LAMPLIGHT_TOWN_SQUARE", 120, 417.5, [ "lamplight-A3", "lamplight-C3" ], i.concat("atlas-116", "atlas-76")) || this;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return s.Util.isNightTime() ? (this.enableLayerID(1, !0), this.enableLayerID(0, !1)) : (this.enableLayerID(1, !1), 
            this.enableLayerID(0, !0)), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            var n = this;
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i), this.addAreaEvent(e, i, {
                x: 1240,
                y: 380,
                w: 80,
                h: 200,
                rect: !0
            }, "lamplight-C3", 120, 437.5, null, r.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
                x: 40,
                y: 380,
                w: 80,
                h: 200,
                rect: !0
            }, "lamplight-A3", 1160, 437.5, null, r.EAreaEventAngle.LEFT), this.zone.addDoor(i, 1e3, 80, 200, 200, 1100, 280, function() {
                n.openTwilightWheel(e, i);
            }, !0), i.addGnome(970, 300, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_SPINNER"), 2, 1, function() {
                n.openTwilightWheel(e, i);
            }), this.zone.addDoor(i, 100, 80, 160, 200, 180, 280, function() {
                n.openDayWheel(e, i);
            }, !0), i.addGnome(310, 300, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_WHEELER"), 7, 5, function() {
                n.openDayWheel(e, i);
            }).flip(), e.prodigy.network.sendAnalytics("potion-store-activity", "see-scientist", "Events");
            var s = !0 === this.zone.getState("firstPotion");
            new o.ScientistSlimerella(e, i.content, 260, 575, s, this.zone);
        }, e.prototype.openTwilightWheel = function(t, e) {
            s.Util.isNightTime() ? new h.Wheel(t, e.foreground, t.prodigy.player, e, 2) : this.game.prodigy.open.messageBoxOkay(t.prodigy.gameContainer.Localizer.getText("TWILIGHT_WHEEL_COME_BACK_LATER"), this.game.prodigy.gameContainer.Localizer.getText("BUTTON_OKAY"), null);
        }, e.prototype.openDayWheel = function(t, e) {
            new h.Wheel(t, e.foreground, t.prodigy.player, e, 1);
        }, e;
    }(l.Map);
    e.LamplightB3 = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "B2", "MAP_LAMPLIGHT_OUTSKIRTS", 640, 220, [ "lamplight-A2", "lamplight-B1", "lamplight-C2" ], i) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i), this.addAreaEvent(e, i, {
                x: 640,
                y: 40,
                w: 240,
                h: 200,
                rect: !0
            }, "lamplight-B1", 1100, 600, null, o.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
                x: 1240,
                y: 320,
                w: 80,
                h: 160,
                rect: !0
            }, "lamplight-C2", 120, 320, null, o.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
                x: 40,
                y: 320,
                w: 80,
                h: 160,
                rect: !0
            }, "lamplight-A2", 1160, 360, null, o.EAreaEventAngle.LEFT);
        }, e;
    }(i(7).Map);
    e.LamplightB2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(1), s = function(t) {
        function e(e, i) {
            return t.call(this, e, "B1", "MAP_LAMPLIGHT_ACADEMY_CROSSROADS", 160, 600, [ "forest-C8", "lamplight-B2" ], i) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i), this.addAreaEvent(e, i, {
                x: 1100,
                y: 680,
                w: 240,
                h: 80,
                rect: !0
            }, "lamplight-B2", 640, 260, null, r.EAreaEventAngle.DOWN), this.addAreaEvent(e, i, {
                x: 40,
                y: 480,
                w: 80,
                h: 240,
                rect: !0
            }, "forest-C8", 1160, 520, o(a, "distractCallback", null), r.EAreaEventAngle.LEFT);
        }, e;
    }(i(7).Map);
    e.LamplightB1 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "B0", "MAP_LAMPLIGHT_ACADEMY_ENTRANCE", 160, 600, [ "lamplight-B1" ], i.concat("atlas-116")) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i), this.addAreaEvent(e, i, {
                x: 160,
                y: 680,
                w: 240,
                h: 80,
                rect: !0
            }, "lamplight-B1", 160, 120, null, o.EAreaEventAngle.DOWN), this.zone.showPedestals(i);
        }, e;
    }(i(7).Map);
    e.LamplightB0 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(42), s = i(1), l = function(t) {
        function e(e, i) {
            return t.call(this, e, "A4", "MAP_LAMPLIGHT_PET_PARK", 1120, 180, [ "house-exit", "lamplight-A3", "lamplight-B4" ], i) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1150,
                y: 700,
                w: 340,
                h: 80,
                rect: !0
            }, "lamplight-B2", 320, 340, null, s.EAreaEventAngle.DOWN), e.prodigy.world.getZone("house").completeQuest(1);
            var n = o(a, "distractCallback", null);
            this.addAreaEvent(e, i, {
                x: 40,
                y: 500,
                w: 80,
                h: 160,
                rect: !0
            }, "house-exit", 1160, 380, o(a, "blockDirectionCallbacks.left", null), s.EAreaEventAngle.LEFT), 
            this.addAreaEvent(e, i, {
                x: 1120,
                y: 60,
                w: 160,
                h: 120,
                rect: !0
            }, "lamplight-A3", 1120, 540, o(a, "blockDirectionCallbacks.up", null), s.EAreaEventAngle.UP), 
            this.addAreaEvent(e, i, {
                x: 1240,
                y: 420,
                w: 80,
                h: 200,
                rect: !0
            }, "lamplight-B4", 120, 457.5, o(a, "blockDirectionCallbacks.right", n), s.EAreaEventAngle.RIGHT), 
            this.zone.addDoor(i, 280, 240, 120, 160, 340, 400, function() {
                e.prodigy.open.store(1);
            }), e.prodigy.player.backpack.hasItem("key", 13) > 0 && new r.ToyMerchant(e, i.content, 900, 400);
        }, e;
    }(i(7).Map);
    e.LamplightA4 = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(174), s = i(1), l = i(0), h = function(t) {
        function e(e, i) {
            return t.call(this, e, "A3", "MAP_LAMPLIGHT_VENDORS_PLAZA", 1120, 540, [ "lamplight-A2", "lamplight-B3", "lamplight-A4" ], i.concat("spine-2")) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a);
            var n = o(a, "distractCallback", null), h = o(a, "blockDirectionCallbacks.up", n);
            this.addAreaEvent(e, i, {
                x: 180,
                y: 60,
                w: 200,
                h: 120,
                rect: !0
            }, "lamplight-A2", 200, 600, h, s.EAreaEventAngle.UP).isBlocked = l.Util.isValid(h) || l.Util.isValid(n), 
            this.addAreaEvent(e, i, {
                x: 1240,
                y: 400,
                w: 80,
                h: 240,
                rect: !0
            }, "lamplight-B3", 120, 417.5, o(a, "blockDirectionCallbacks.right", null), s.EAreaEventAngle.RIGHT), 
            this.addAreaEvent(e, i, {
                x: 1120,
                y: 660,
                w: 160,
                h: 120,
                rect: !0
            }, "lamplight-A4", 1120, 180, o(a, "blockDirectionCallbacks.down", null), s.EAreaEventAngle.DOWN), 
            new r.Harvey(e, i, 300, 375, !1);
            var c = this.screen.content.add(this.game.prodigy.create.sprite(385, 380, "atlas-140", "harveySign"));
            c.anchor.x = .5, c.anchor.y = 1, c.inputEnabled = !0, c.events.onInputDown.add(function() {
                e.prodigy.open.titanProgress(!0);
            }), this.zone.addDoor(i, 560, 240, 120, 160, 620, 400, e.prodigy.open.store.bind(e.prodigy.open, 3)), 
            this.zone.addDoor(i, 1e3, 160, 120, 160, 1060, 320, e.prodigy.open.stylistStore.bind(e.prodigy.open, null, null, null, {
                onCreateEvent: {
                    action: "Stylist-Interaction",
                    label: "Visit-From-Lamplight"
                }
            }));
        }, e;
    }(i(7).Map);
    e.LamplightA3 = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(1), s = function(t) {
        function e(e, i) {
            return t.call(this, e, "A2", "MAP_LAMPLIGHT_NORTHWEST_COURT", 200, 600, [ "lamplight-B2", "lamplight-A3" ], i) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1240,
                y: 360,
                w: 80,
                h: 160,
                rect: !0
            }, "lamplight-B2", 120, 320, null, r.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
                x: 200,
                y: 680,
                w: 240,
                h: 80,
                rect: !0
            }, "lamplight-A3", 180, 180, o(a, "distractCallback", null), r.EAreaEventAngle.DOWN);
        }, e;
    }(i(7).Map);
    e.LamplightA2 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "A1", "MAP_LAMPLIGHT_BURROW", 1050, 600, [ "lamplight-B2" ], i) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1150,
                y: 700,
                w: 340,
                h: 80,
                rect: !0
            }, "lamplight-B2", 320, 340, null, o.EAreaEventAngle.DOWN);
        }, e;
    }(i(7).Map);
    e.LamplightA1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(31), s = i(442), l = i(441), h = i(440), c = i(439), p = i(438), u = i(437), d = i(436), g = i(435), y = i(428), f = i(427), m = i(425), _ = i(424), v = i(422), E = i(421), b = i(420), O = i(419), T = i(418), A = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            i.store = null, i.monsters = {
                randDir: !0,
                encounter: [ {
                    ID: 59
                }, {
                    ID: 52
                }, {
                    ID: 36
                } ]
            }, i.name = "Lamplight", i.ID = "lamplight", i.game = e, i.bgmID = 9, 
            i.minLevel = 1, i.maxLevel = 4, i.battleBG = "battle-lamplight-outside", 
            i.onFaint = "lamplight-B3", i.questHub = "lamplight-B3", i.states = [ "event", "1stpresent", "bounty", "daily", "firstPotion" ];
            var a = [ "tileset-generic-new", "tileset-town-new", "tileset-forest-new", "tileset-collisions", "atlas-71", "atlas-116", "bgm-9", "sfx-15", "atlas-84" ];
            return i.maps = {
                A1: new s.LamplightA1(i, a),
                A2: new l.LamplightA2(i, a),
                A3: new h.LamplightA3(i, a),
                A4: new c.LamplightA4(i, a),
                B0: new p.LamplightB0(i, a),
                B1: new u.LamplightB1(i, a),
                B2: new d.LamplightB2(i, a),
                B3: new g.LamplightB3(i, a),
                B4: new y.LamplightB4(i, a),
                B5: new f.LamplightB5(i, a),
                C2: new m.LamplightC2(i, a),
                C3: new _.LamplightC3(i, a),
                C4: new v.LamplightC4(i, a),
                D3: new b.LamplightD3(i, a),
                coliseum: new E.LamplightColiseum(i, a)
            }, i.quests = {
                1: new O.LamplightQ1(i, a)
            }, i.scenes = {
                springfestIntro: new T.SpringfestIntro(i, a)
            }, i;
        }
        return n(e, t), e.prototype.init = function(e, i, a) {
            t.prototype.init.call(this, e, i, a), o.Util.isValid(this.getCurrentQuest()) || this.startQuest(1);
        }, e.prototype.addDoor = function(t, e, i, a, n, o, r, s, l) {
            void 0 === l && (l = !1), t.addClickableArea(e, i, a, n, t.user.setValidPath.bind(t.user, t.path, o, r, this.onDoorClick.bind(this, s, l)));
        }, e.prototype.onDoorClick = function(t, e) {
            e || this.game.prodigy.audio.playSFX(15, "door"), t();
        }, e.prototype.showPedestals = function(t) {
            var e = [];
            e.push(t.content.add(this.game.prodigy.create.sprite(400, 360, "atlas-116", "pedestal"))), 
            e.push(t.content.add(this.game.prodigy.create.sprite(640, 360, "atlas-116", "pedestal"))), 
            e.push(t.content.add(this.game.prodigy.create.sprite(880, 360, "atlas-116", "pedestal"))), 
            e.push(t.content.add(this.game.prodigy.create.sprite(520, 440, "atlas-116", "pedestal"))), 
            e.push(t.content.add(this.game.prodigy.create.sprite(760, 440, "atlas-116", "pedestal")));
            for (var i = 0; i < e.length; i++) e[i].anchor.setTo(.5, 1);
        }, e;
    }(r.Zone);
    e.LamplightZone = A;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(8), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "exit", [ "atlas-81", "bgm-11", "sfx-13", "sfx-14", "sfx-15" ]) || this;
            return a.noot = null, a.loadingData.time = 1, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), i.user.x = -100, i.user.y = 600, 
            this.monsters = [];
            for (var n = 0; n < 4; n++) {
                var o = this.addMonster(e, i, n + 1, 500, 200, !1, {
                    encounter: [ {
                        ID: 3 * n + 1
                    } ]
                }, !0, this.choosePet.bind(this, e, i, 3 * n + 1));
                o.alpha = 0, o.walkSpeed = 2, this.monsters.push(o);
            }
        }, e.prototype.start = function(e, i) {
            t.prototype.start.call(this, e, i, 11), this.noot = i.addNPC(340, 500, "atlas-81"), 
            this.noot.float(!0), this.noot.visible = !1;
            var a = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMController), n = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMService);
            a.execute(n.getStateMachine(46), {
                game: e,
                screen: i,
                scene: this,
                player: i.user,
                monsterOne: this.monsters[0],
                monsterTwo: this.monsters[1],
                monsterThree: this.monsters[2],
                monsterFour: this.monsters[3],
                noot: this.noot,
                path: i.path,
                pathfinder: i.path,
                controller: a,
                service: n
            });
        }, e.prototype.end = function(t, e) {
            this.zone.completeSequence(1, 3), t.prodigy.world.teleport("academy-GH3", 640, 700, null, {
                fadeIn: !0,
                time: 200,
                fadeOut: !0
            });
        }, e.prototype.choosePet = function(t, e, i) {
            var a = this;
            t.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "tutorial_steps_1",
                name: "palletpass_select_a_pet"
            }), t.prodigy.open.choosePet(i, function() {
                a.petsLeave(t, e, i);
            });
        }, e.prototype.petsLeave = function(t, e, i) {
            for (var a = [], n = (i - 1) / 3, r = 0; r < 4; r++) n !== r && a.push(this.monsters[r]);
            var s = t.prodigy.gameContainer.get(o.GameIdentifiers.FSMController), l = t.prodigy.gameContainer.get(o.GameIdentifiers.FSMService);
            s.execute(l.getStateMachine(47), {
                game: t,
                screen: e,
                scene: this,
                noot: this.noot,
                player: e.user,
                chosenMonster: this.monsters[n],
                monsterOne: a[0],
                monsterTwo: a[1],
                monsterThree: a[2],
                path: e.path,
                pathfinder: e.path,
                controller: s,
                service: l
            });
        }, e;
    }(i(39).Scene);
    e.HousePets = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(8), r = i(203), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "suburbs", i.concat([ "atlas-81", "bgm-11", "sfx-13" ])) || this;
            return a.loadingData.time = 1, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), i.user.x = 480, i.user.y = 280, 
            i.user.showName(!1), e.prodigy.create.houseItem(i.background, 17, 480, 160), 
            i.foreground.add(e.prodigy.create.sprite(420, 160, "sheets-dorm-17")), 
            e.prodigy.create.houseItem(i.background, 3, 400, 160), e.prodigy.create.houseItem(i.background, 18, 440, 100), 
            e.prodigy.create.houseItem(i.background, 18, 840, 100), e.prodigy.create.houseItem(i.background, 14, 880, 240), 
            e.prodigy.create.houseItem(i.background, 1, 880, 140), e.prodigy.create.houseItem(i.background, 13, 640, 80);
        }, e.prototype.start = function(e, i) {
            t.prototype.start.call(this, e, i, 11), e.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "tutorial_steps_1",
                name: "tutorial_start"
            }), r.PlayAtHome.isRequired(e.prodigy.player) ? e.prodigy.open.playAtHomePrompt(this.houseIntro.bind(this, e, i)) : this.houseIntro(e, i);
        }, e.prototype.houseIntro = function(t, e) {
            var i = e.addNPC(820, 540, "atlas-81");
            i.float(!0), i.walkSpeed = 2, i.visible = !1;
            var a = t.prodigy.gameContainer.get(o.GameIdentifiers.FSMController), n = t.prodigy.gameContainer.get(o.GameIdentifiers.FSMService);
            a.execute(n.getStateMachine(56), {
                scene: this,
                game: t,
                screen: e,
                zone: this.zone,
                player: e.user,
                noot: i,
                path: e.path,
                pathfinder: e.path
            });
        }, e;
    }(i(39).Scene);
    e.HouseIntro = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(8), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "exterior", [ "atlas-81", "monster-reduced-38", "tileset-collisions", "tileset-generic-new", "tileset-forest-new", "bgm-11" ]) || this;
            return a.noot = null, a.loadingData.time = 1, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.game = e, i.user.x = 1500, 
            i.user.y = 480, this.noot = i.addNPC(1500, 500, "atlas-81"), this.noot.float(!0);
        }, e.prototype.start = function(e, i) {
            t.prototype.start.call(this, e, i, 9);
            var a = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMController), n = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMService);
            a.execute(n.getStateMachine(49), {
                game: e,
                screen: i,
                scene: this,
                player: i.user,
                noot: this.noot,
                open: e.prodigy.open,
                path: i.path,
                pathfinder: i.path
            });
        }, e.prototype.end = function(t) {
            var e = t.prodigy.player;
            this.zone.completeQuest(1), t.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "tutorial_steps_1",
                name: "escaped_dialogue_2"
            }), e.onTutorialComplete();
        }, e.prototype.cleanup = function() {
            this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "tutorial_steps_1",
                name: "tutorial_end"
            }), t.prototype.cleanup.call(this);
        }, e;
    }(i(39).Scene);
    e.HouseEnd = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(8), r = function(t) {
        function e(e) {
            var i = t.call(this, e, "exterior", [ "atlas-81", "monster-reduced-38", "tileset-collisions", "tileset-generic-new", "tileset-forest-new", "bgm-11" ]) || this;
            return i.loadingData.time = 1, i;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), i.user.x = 600, i.user.y = 480, 
            i.user.showName(!1);
        }, e.prototype.start = function(e, i) {
            t.prototype.start.call(this, e, i, 11);
            var a = i.addNPC(770, 480, "atlas-81");
            a.float(!0), a.walkSpeed = 2;
            var n = this.addMonster(e, i, 1, 1380, 480, !1, {
                encounter: [ {
                    ID: 59
                } ]
            }, !0), r = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMController), s = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMService);
            r.execute(s.getStateMachine(44), {
                scene: this,
                game: e,
                screen: i,
                player: i.user,
                open: e.prodigy.open,
                noot: a,
                monster: n,
                path: i.path,
                pathfinder: i.path
            });
        }, e.prototype.battle = function(t) {
            var e = {
                invincible: !0,
                intro: t.prodigy.gameContainer.Localizer.getText("COMBAT_WIZARD_BATTLE"),
                catch: !1,
                run: !1,
                screen: "battle-forest-generic",
                allowMember: !1,
                switchDisabled: !0,
                encounter: [ {
                    ID: 59
                } ],
                events: [ {
                    action: "turn",
                    value: 0,
                    callback: function(t, e) {
                        var i = t.prodigy.dialogue.create();
                        i.setText(3), i.start("noot", !1, e);
                    }
                }, {
                    action: "dmg",
                    repeat: 0,
                    callback: function(t, e) {
                        var i = t.prodigy.dialogue.create();
                        i.setText(5), i.start("noot", !1, e);
                    }
                }, {
                    action: "dmg",
                    repeat: 0,
                    callback: function(t, e) {
                        var i = t.prodigy.dialogue.create();
                        i.setText(128), i.start("noot", !1, e);
                    }
                } ]
            };
            t.prodigy.battle.start(e, this.end.bind(this, t), this.end.bind(this, t), this.end.bind(this, t), "house-exit");
        }, e.prototype.end = function(t) {
            this.zone.completeSequence(1, 1), t.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "tutorial_steps_1",
                name: "frontyard_first_battle"
            }), t.prodigy.world.teleport("house-exterior", 450, 400);
        }, e;
    }(i(39).Scene);
    e.FrontyardBattle = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(8), r = i(1), s = function(t) {
        function e(e) {
            var i = t.call(this, e, "exterior", [ "atlas-81", "monster-reduced-38", "tileset-collisions", "tileset-generic-new", "tileset-forest-new", "bgm-11" ]) || this;
            return i.loadingData.time = 1, i;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), i.user.x = 600, i.user.y = 480, 
            this.exit = this.addAreaEvent(e, i, {
                x: 1240,
                y: 480,
                w: 80,
                h: 240,
                rect: !0
            }, null, 120, 500, this.end.bind(this, e), r.EAreaEventAngle.RIGHT), 
            this.noot = i.addNPC(770, 480, "atlas-81"), this.noot.float(!0), this.noot.walkSpeed = 2;
        }, e.prototype.start = function(e, i) {
            t.prototype.start.call(this, e, i, 11);
            var a = i.foreground.add(e.prodigy.create.sprite(this.noot.x, this.noot.y - 50, "atlas-18", "area-pointer"));
            a.anchor.setTo(.5, .5), a.visible = !1, a.angle = 90, a.scale.x = a.scale.y = 0, 
            e.prodigy.player.backpack.data.hat = e.prodigy.player.backpack.data.hat.filter(function(t) {
                return 12 !== t.ID;
            });
            var n = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMController), r = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMService);
            n.execute(r.getStateMachine(45), {
                scene: this,
                game: e,
                screen: i,
                pointer: a,
                exit: this.exit,
                noot: this.noot
            });
        }, e.prototype.jumpHand = function(t, e, i) {
            e.visible = !0, t.add.tween(e.scale).to({
                x: 1,
                y: 1
            }, 800, Phaser.Easing.Quadratic.Out).start(), t.add.tween(e).to({
                y: e.y - 100
            }, 1e3, Phaser.Easing.Quadratic.Out).to({
                y: e.y + 50
            }, 1e3, Phaser.Easing.Quadratic.In).start();
            var a = t.add.tween(e).to({
                x: 1180
            }, 2e3, Phaser.Easing.Linear.None);
            a.onComplete.add(i), a.start();
        }, e.prototype.end = function(t) {
            this.zone.completeSequence(1, 2), t.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "tutorial_steps_1",
                name: "frontyard_follow_arrow"
            }), t.prodigy.world.teleport("house-exit", 480, 320);
        }, e;
    }(i(39).Scene);
    e.FrontyardArrows = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 1, "", {
                type: "seq",
                N: 4
            }, [ "lamplight-A4" ], [], [], [], [ {
                type: "gold",
                N: 100
            } ], !1) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), "suburbs" === a.getTag()) {
                if (this.zone.isOnSequence(1, 0)) return e.prodigy.player.heal(), 
                e.prodigy.player.backpack.add("weapon", 25, !1, 1), o.Util.isValid(e.prodigy.player.equipment.getEquipment("weapon")) || e.prodigy.player.equip(25, "weapon"), 
                e.prodigy.world.playScene("house-intro"), {
                    quit: !0
                };
            } else if ("exterior" === a.getTag()) {
                if (this.zone.isOnSequence(1, 1)) return e.prodigy.world.playScene("house-frontyardBattle"), 
                {
                    quit: !0
                };
                if (this.zone.isOnSequence(1, 2)) return e.prodigy.world.playScene("house-frontyardArrows"), 
                {
                    quit: !0
                };
                if (this.zone.isOnSequence(1, 4)) return e.prodigy.world.playScene("house-end"), 
                {
                    quit: !0
                };
            } else if ("exit" === a.getTag() && this.zone.isOnSequence(1, 3)) return e.prodigy.world.playScene("house-pets"), 
            {
                quit: !0
            };
            return null;
        }, e;
    }(i(6).Quest);
    e.HouseQ1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "exit", "MAP_HOUSE_PALLET_PASS", 120, 580, [ "lamplight-A4", "suburbs" ], [ "tileset-collisions", "tileset-generic-new", "tileset-forest-new", "tileset-firefly-new", "bgm-10", "tileset-water-new", "tileset-town-new" ]) || this;
        }
        return n(e, t), e.prototype.setup = function(t, e, i) {
            return this.addAreaEvent(t, e, {
                x: 40,
                y: 580,
                w: 80,
                h: 240,
                rect: !0
            }, "suburbs", null, null, null, o.EAreaEventAngle.LEFT), this.addAreaEvent(t, e, {
                x: 1240,
                y: 380,
                w: 80,
                h: 240,
                rect: !0
            }, "lamplight-A4", 120, 500, null, o.EAreaEventAngle.RIGHT), null;
        }, e;
    }(i(7).Map);
    e.PalletPass = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "warden", "Academy Entrance", 160, 600, [ "house-exterior" ], [ "tileset-generic-new", "tileset-town-new", "tileset-forest-new", "tileset-collisions", "atlas-71", "atlas-116", "bgm-9", "bgm-10", "bgm-12", "sfx-15", "atlas-84" ], "map-lamplight-B0") || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 160,
                y: 680,
                w: 240,
                h: 80,
                rect: !0
            }, "house-exterior", 160, 120, null, o.EAreaEventAngle.DOWN);
            var n = [];
            n.push(i.content.add(e.prodigy.create.sprite(400, 360, "atlas-116", "pedestal"))), 
            n.push(i.content.add(e.prodigy.create.sprite(640, 360, "atlas-116", "pedestal"))), 
            n.push(i.content.add(e.prodigy.create.sprite(880, 360, "atlas-116", "pedestal"))), 
            n.push(i.content.add(e.prodigy.create.sprite(520, 440, "atlas-116", "pedestal"))), 
            n.push(i.content.add(e.prodigy.create.sprite(760, 440, "atlas-116", "pedestal")));
            for (var r = 0; r < n.length; r++) n[r].anchor.setTo(.5, 1);
        }, e;
    }(i(7).Map);
    e.HouseWarden = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, {
                name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_MOZZA_ELLE"),
                npc: !0,
                nameX: 60,
                nameY: -120
            }, null, a, n) || this;
            return o.currentTweens = [], o.idleTweens = [], o.spriteLoadCount = 0, 
            o.setup(), o;
        }
        return n(e, t), e.prototype.setup = function() {
            var t = "atlas-79", e = this.sprites.add(this.game.prodigy.create.sprite(133, -116, t, "tail-0", new Phaser.Point(0, 0), this.onSpriteLoaded.bind(this), 28, 18)), i = this.sprites.add(this.game.prodigy.create.sprite(100, -180, t, "head-0", new Phaser.Point(0, 0), this.onSpriteLoaded.bind(this), 44, 54)), a = this.sprites.add(this.game.prodigy.create.sprite(104, -137, t, "arm-right-0", new Phaser.Point(0, 0), this.onSpriteLoaded.bind(this), 8, 26)), n = this.sprites.add(this.game.prodigy.create.sprite(104, -116, t, "legs-0", new Phaser.Point(0, 0), this.onSpriteLoaded.bind(this), 34, 28)), r = this.sprites.add(this.game.prodigy.create.sprite(108, -142, t, "torso-0", new Phaser.Point(0, 0), this.onSpriteLoaded.bind(this), 34, 28));
            this.sprites.y += this.sprites.height, this.sprites.x -= this.sprites.width, 
            this.idleTweens.push(new o.TweenController(r)), this.idleTweens[this.idleTweens.length - 1].set("y", [ r.y, r.y - 1, r.y - 1, r.y ], 200, 9999), 
            this.idleTweens.push(new o.TweenController(n)), this.idleTweens[this.idleTweens.length - 1].set("frameName", [ "legs-0", "legs-1", "legs-1", "legs-0" ], 200, 9999), 
            this.idleTweens.push(new o.TweenController(a)), this.idleTweens[this.idleTweens.length - 1].set("y", [ a.y, a.y - 1, a.y - 1, a.y ], 200, 9999), 
            this.idleTweens.push(new o.TweenController(a)), this.idleTweens[this.idleTweens.length - 1].set("frameName", [ "arm-right-0", "arm-right-0", "arm-right-0", "arm-right-1" ], 200, 9999), 
            this.idleTweens.push(new o.TweenController(i)), this.idleTweens[this.idleTweens.length - 1].set("y", [ i.y, i.y - 1, i.y - 1, i.y ], 200, 9999), 
            this.idleTweens.push(new o.TweenController(i)), this.idleTweens[this.idleTweens.length - 1].set("frameName", [ "head-0", "head-1", "head-0", "head-2" ], 200, 9999), 
            this.idleTweens.push(new o.TweenController(e)), this.idleTweens[this.idleTweens.length - 1].set("y", [ e.y, e.y, e.y - 1, e.y - 1 ], 200, 9999), 
            this.idleTweens.push(new o.TweenController(e)), this.idleTweens[this.idleTweens.length - 1].set("frameName", [ "tail-0", "tail-1", "tail-0", "tail-2" ], 200, 9999), 
            this.visible = !1, this.tryToStartAnimations();
        }, e.prototype.onSpriteLoaded = function() {
            this.spriteLoadCount++, this.tryToStartAnimations();
        }, e.prototype.tryToStartAnimations = function() {
            this.spriteLoadCount >= this.sprites.length && (this.visible = !0, this.stand());
        }, e.prototype.update = function() {
            t.prototype.update.call(this);
            for (var e = 0; e < this.currentTweens.length; e++) this.currentTweens[e].update();
        }, e.prototype.walk = function() {
            this.stand();
        }, e.prototype.stand = function() {
            this.currentTweens = this.idleTweens;
            for (var t = 0; t < this.currentTweens.length; t++) this.currentTweens[t].start();
        }, e;
    }(i(14).CreatureContainer);
    e.MozzaElla = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(8), r = i(41), s = i(452), l = i(4), h = i(25), c = i(0), p = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i, a, [ "house-exit", "house-exterior" ], n) || this;
            return r.houseID = null, r.houseID = o, r;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.placeMozzaElla();
            var n = this.game.prodigy.event.create();
            return n.text(this.getMozzaEllaDialogueIndex(), "mozza-ella"), n.start(), 
            null;
        }, e.prototype.placeMozzaElla = function() {
            var t = this;
            this.game.prodigy.gameContainer.get(r.ProdigyInjectionIdentifiers.StoreService).getStore(12).then(function(e) {
                for (var i = null, a = 0; a < e.getPages().length; ++a) {
                    for (var n = e.getPages()[a], r = 0; r < n.getStoreItems().length; ++r) {
                        var l = n.getStoreItems()[r];
                        if (l.getID() === t.houseID) {
                            i = l.getCost()[0];
                            break;
                        }
                    }
                    if (null !== i) break;
                }
                if (null !== i) {
                    var h = new s.MozzaElla(t.game, t.content, 0, 0);
                    h.x = Math.round(t.houseData.exit.x + .5 * t.houseData.exit.w - .5 * h.width - 60), 
                    h.y = Math.round(t.houseData.exit.y - .75 * h.height - 60), 
                    h.sprites.children.forEach(function(e) {
                        e.inputEnabled = !0, e.events.onInputDown.add(function() {
                            t.onMozzaEllaClick(i);
                        });
                    });
                } else t.game.prodigy.gameContainer.Logger.log("Could not find house in store", o.LogLevel.Error);
            });
        }, e.prototype.onMozzaEllaClick = function(t) {
            var e = this.game.prodigy.event.create();
            e.text(11, "mozza-ella"), e.function(this.showPurchasePopup.bind(this, t)), 
            e.start();
        }, e.prototype.showPurchasePopup = function(t) {
            for (var e = this, i = l.Items.getCategoryItems("dormbg"), a = null, n = 0; n < i.length && (a = i[n]).data.tag !== this.houseTag; n++);
            var o = this.game.prodigy.gameContainer.Localizer, r = t.getAmount() > 0 ? String(t.getAmount()) : o.getText("ITEM_FREE"), s = a.data.member > 0 && !this.game.prodigy.player.hasMembership();
            this.game.prodigy.open.messageBoxGeneric(o.getText("HOUSE_PREVIEW_PURCHASE_MESSAGE"), function() {
                e.onBuyButtonClick(a, t);
            }, function() {
                e.game.prodigy.world.teleport("house");
            }, null, null, null, 7, {
                modifyProperty: [ {
                    element: "yesText",
                    property: "text",
                    value: r
                }, {
                    element: "membershipGraphic",
                    property: "visible",
                    value: s
                }, {
                    element: "houseGraphic",
                    property: "atlasName",
                    value: l.Items.getIconAtlas({
                        ID: c.Util.isValid(a) ? a.ID : 0,
                        type: "dormbg",
                        cost: t
                    })
                }, {
                    element: "houseGraphic",
                    property: "frameName",
                    value: l.Items.getIconFrame({
                        ID: c.Util.isValid(a) ? a.ID : 0,
                        type: "dormbg",
                        cost: t
                    })
                } ],
                addChildren: []
            });
        }, e.prototype.onBuyButtonClick = function(t, e) {
            var i = this.game.prodigy.gameContainer.Localizer;
            1 !== t.data.member || this.game.prodigy.player.hasMembership() ? this.game.prodigy.player.getGold() < e.getAmount() ? this.game.prodigy.player.hasMembership() ? this.game.prodigy.open.message(i.getText("PURCHASING_MESSAGE_NEED_MORE_GOLD_BODY", e.getAmount(), c.Util.numberToString(this.game.prodigy.player.getGold())), null, "gold", i.getText("MESSAGE_TITLE_UH_OH")) : this.game.prodigy.open.membershipInfo(null, {}, h.MembershipInfo.MORE_GOLD) : this.game.prodigy.open.messageBox(i.getText("MOVE_HOUSE_CONFIRM"), this.onPurchaseConfirmation.bind(this, t, e)) : this.game.prodigy.open.membershipInfo(null, {}, h.MembershipInfo.NEW_HOUSE);
        }, e.prototype.onPurchaseConfirmation = function(t, e) {
            this.game.prodigy.player.house.setCurrentHouseTag(t.data.tag), this.game.prodigy.player.changeGold(-e.getAmount()), 
            this.game.prodigy.player.house.setAllInactive(), this.game.prodigy.world.teleport("house");
        }, e.prototype.getMozzaEllaDialogueIndex = function() {
            var t = [ 11 ];
            return this.houseTag.indexOf("small") > -1 ? t = [ 0 ] : this.houseTag.indexOf("medium") > -1 ? t = [ 1, 2 ] : this.houseTag.indexOf("large") > -1 ? t = [ 3, 4 ] : "forest" === this.houseTag ? t = [ 5, 6 ] : "coolCave" === this.houseTag ? t = [ 7, 8 ] : "firePit" === this.houseTag && (t = [ 9, 10 ]), 
            t[Math.floor(Math.random() * t.length)];
        }, e;
    }(i(173).HouseMapBase);
    e.HouseMapPreview = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(34), s = i(128), l = i(0), h = function(t) {
        function e(e, i, a, n) {
            return t.call(this, e, i, a, [ "house-exit" ], n) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.screen = i, this.addAreaEvent(e, i, {
                x: this.houseData.exit.x,
                y: this.houseData.exit.y,
                w: this.houseData.exit.w,
                h: this.houseData.exit.h,
                rect: !0
            }, "house-exit", null, null, null, null, !1), this.loadHouseItems(this.player.house.getSortedActive()), 
            null;
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), this.game.broadcaster.addAppListener(o.EHouseEvents.OpenEditor, this.openedEditor.bind(this), this), 
            this.game.broadcaster.addAppListener(o.EHouseEvents.CloseEditor, this.closedEditor.bind(this), this), 
            null;
        }, e.prototype.cleanup = function() {
            this.game.broadcaster.removeAppListener(o.EHouseEvents.OpenEditor, this), 
            this.game.broadcaster.removeAppListener(o.EHouseEvents.CloseEditor, this), 
            t.prototype.cleanup.call(this);
        }, e.prototype.openedEditor = function() {
            for (var t in this.game.prodigy.open.houseEditorMenu(this, this.screen), 
            this.screen.walkEnabled = !1, this.screen.user.stopTweens(), this.screen.user.stand(), 
            this.screen.playerList) this.fadeOutPlayerContainer(this.screen.playerList[t]);
            this.fadeOutPlayerContainer(this.screen.user), this.game.broadcaster.addAppListener(o.EWalkableScreenEvents.PlayerAdded, this.playerEnteredHouse.bind(this), this);
        }, e.prototype.fadeOutPlayerContainer = function(t) {
            if (t.sprites.setAll("inputEnabled", !1), l.Util.isValid(t.follow) && (this.game.add.tween(t.follow).to({
                alpha: 0
            }, 300, Phaser.Easing.Cubic.Out).start(), t.follow instanceof r.GameObject)) {
                var e = t.follow.findComponent(s.ParticleEmitter);
                l.Util.isValid(e) && this.game.add.tween(e.emitter.renderer.display).to({
                    alpha: 0
                }, 300, Phaser.Easing.Cubic.Out).start();
            }
            return this.game.add.tween(t).to({
                alpha: 0
            }, 300, Phaser.Easing.Cubic.Out).start();
        }, e.prototype.closedEditor = function() {
            var t = this;
            for (var e in this.screen.playerList) this.fadeInPlayerContainer(this.screen.playerList[e]);
            this.fadeInPlayerContainer(this.screen.user).onComplete.addOnce(function() {
                t.screen.walkEnabled = !0;
            }, this), this.game.broadcaster.removeAppListener(o.EWalkableScreenEvents.PlayerAdded, this);
        }, e.prototype.fadeInPlayerContainer = function(t) {
            if (t.sprites.setAll("inputEnabled", !0), l.Util.isValid(t.follow) && (this.game.add.tween(t.follow).to({
                alpha: 1
            }, 300, Phaser.Easing.Cubic.In).start(), t.follow instanceof r.GameObject)) {
                var e = t.follow.findComponent(s.ParticleEmitter);
                l.Util.isValid(e) && this.game.add.tween(e.emitter.renderer.display).to({
                    alpha: 1
                }, 300, Phaser.Easing.Cubic.In).start();
            }
            return this.game.add.tween(t).to({
                alpha: 1
            }, 300, Phaser.Easing.Cubic.In).start();
        }, e.prototype.playerEnteredHouse = function(t) {
            t.alpha = 0, t.sprites.setAll("inputEnabled", !0);
        }, e;
    }(i(173).HouseMapBase);
    e.HouseMap = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "exterior", "MAP_HOUSE_EXTERIOR", 685, 420, [ "house-exit", "suburbs" ], i.concat("tileset-exterior-general")) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1240,
                y: 480,
                w: 80,
                h: 240,
                rect: !0
            }, "house-exit", 120, 580, null, o.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
                x: 685,
                y: 300,
                w: 100,
                h: 160,
                rect: !0
            }, "suburbs", null, null, null, o.EAreaEventAngle.UP);
        }, e;
    }(i(7).Map);
    e.HouseExterior = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(56), s = i(4), l = i(17), h = i(0), c = i(31), p = i(455), u = i(454), d = i(453), g = i(451), y = i(450), f = i(449), m = i(448), _ = i(447), v = i(446), E = i(445), b = i(444), O = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            i.screen = null, i.player = null, i.name = "House", i.ID = "house", 
            i.bgmID = 10, i.minLevel = 1, i.maxLevel = 4, i.battleBG = "battle-shiverchill-inside", 
            i.onFaint = "house", i.questHub = "house", i.states = [ "daily", "private", "hasClickedLockButton", "hasClickedHouseIcon", "hasClickedWorldMap", "hasClickedPlayerCardVisit", "lastInteractionDateMs", "houseMovingBreadcrumbs" ];
            var a = [ "tileset-interior-general", "tileset-wall-collisions", "bgm-10", "tileset-exterior-general" ];
            return i.quests = {
                1: new f.HouseQ1(i, a)
            }, i.scenes = {
                intro: new E.HouseIntro(i, a),
                frontyardBattle: new _.FrontyardBattle(i),
                frontyardArrows: new m.FrontyardArrows(i),
                pets: new b.HousePets(i, a),
                end: new v.HouseEnd(i, a)
            }, i.game.broadcaster.addAppListener(o.EHouseEvents.ClickedHouseIcon, i.onWorldMapHouseIconClick.bind(i), i, "UI", !0), 
            i.game.broadcaster.addAppListener(o.EBootEvents.Loaded, i.intializeHouseMaps.bind(i), i), 
            i;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            if (!h.Util.isValid(this.getCurrentQuest()) && h.Util.isValid(this.player) && this.player.userID === this.game.prodigy.player.userID && a.getTag().indexOf("exit") < 0) {
                var n = this.getState("lastInteractionDateMs"), o = h.Util.isValid(n) ? new Date(n) : null;
                h.Util.isValid(o) && h.Util.isDateToday(o) || this.game.prodigy.network.sendAnalytics("House-daily-interaction"), 
                this.setState("lastInteractionDateMs", new Date().getTime());
            }
            return this.setAllowsVisiting(this.getAllowsVisiting()), t.prototype.setup.call(this, e, i, a);
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), e.input.enabled = !0, 
            null;
        }, e.prototype.init = function(e, i, a) {
            t.prototype.init.call(this, e, i, a), this.screen = i, h.Util.isValid(this.getCurrentQuest()) || this.startQuest(1), 
            this.game.broadcaster.removeAppListener(o.EHouseEvents.ClickedHouseIcon, this, "UI"), 
            e.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.FEATURE_HOUSE_MOVING, l.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE) && e.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.FEATURE_HOUSE_VISITING, l.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE) || this.game.broadcaster.addAppListener(o.EHouseEvents.ClickedHouseIcon, this.onWorldMapHouseIconClick.bind(this), this, "UI", !0);
        }, e.prototype.gotoPreview = function(t) {
            this.teleport("preview-" + this.getHouseMapFromTag(t), void 0, void 0, this.game.prodigy.player, {});
        }, e.prototype.getAllowsVisiting = function() {
            return h.Util.isValid(this.player) && this.player.getAllowsHouseVisitors();
        }, e.prototype.setAllowsVisiting = function(t) {
            h.Util.isValid(this.player) && this.player.setAllowsHouseVisitors(t), 
            this.screen.menuBar.open(0, !0);
        }, e.prototype.teleport = function(e, i, a, n, o) {
            if (void 0 === o && (o = {}), e.indexOf("exit") > -1 || e.indexOf("exterior") > -1 || e.indexOf("warden") > -1) t.prototype.teleport.call(this, e, i, a, n, o); else {
                var r = e;
                if (this.player = h.Util.isValid(n) ? n : this.game.prodigy.player, 
                o.assets = h.Util.isValid(o.assets) ? o.assets : [], -1 === r.indexOf("preview")) {
                    var s = this.getHouseMapFromTag(this.player.house.getCurrentHouseTag());
                    if (h.Util.isValid(s) || (s = this.getHouseMapFromTag("suburbs")), 
                    !h.Util.isValid(this.maps[s])) return void h.Util.log("House was not found: " + s);
                    r = s;
                }
                this.maps[r].setOwner(this.player), t.prototype.teleport.call(this, r, i, a, [], o);
            }
        }, e.prototype.openHouseStore = function() {
            var t = this;
            this.game.prodigy.open.store(12, null, function() {
                t.game.prodigy.player.house.setAllInactive(), t.teleport("");
            }, {
                message: this.game.prodigy.gameContainer.Localizer.getText("MOVE_HOUSE_CONFIRM")
            }, r.MemberAd.NEW_HOUSE);
        }, e.prototype.getDailyMaps = function() {
            return [];
        }, e.prototype.onWorldMapHouseIconClick = function() {
            this.game.broadcaster.removeAppListener(o.EHouseEvents.ClickedHouseIcon, this, "UI"), 
            this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.FEATURE_HOUSE_MOVING, l.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE) || this.game.prodigy.breadcrumbManager.completeBreadcrumb(l.Breadcrumbs.FEATURE_HOUSE_MOVING, l.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE), 
            this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.FEATURE_HOUSE_VISITING, l.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE) || this.game.prodigy.breadcrumbManager.completeBreadcrumb(l.Breadcrumbs.FEATURE_HOUSE_VISITING, l.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE);
        }, e.prototype.intializeHouseMaps = function() {
            this.game.broadcaster.removeAppListener(o.EBootEvents.Loaded, this);
            var t = [ "tileset-collisions", "tileset-wall-collisions", "tileset-forest-new", "tileset-generic-new", "tileset-minecarts", "bgm-10", "tileset-exterior-general" ];
            this.maps = {
                exit: new y.PalletPass(this, t),
                exterior: new p.HouseExterior(this, t),
                warden: new g.HouseWarden(this, t)
            };
            var i = s.Items.getCategoryItems("dormbg");
            for (var a in e.HOUSES) {
                var n = e.HOUSES[a];
                for (var r in n.houses) {
                    for (var l = -1, h = 0; h < i.length; h++) {
                        var c = i[h];
                        if (c.data.tag === n.houses[r].tag) {
                            l = c.ID;
                            break;
                        }
                    }
                    this.maps[r] = new u.HouseMap(this, n, r, t), this.maps["preview-" + r] = new d.HouseMapPreview(this, n, r, t, l);
                }
            }
        }, e.prototype.getHouseMapFromTag = function(t) {
            for (var e in this.maps) if (this.maps[e].houseTag === t) return e;
            return "suburbs";
        }, e.HOUSES = {
            suburbs: {
                assets: [ "tileset-interior-general", "tileset-wall-collisions", "bgm-10" ],
                houses: {
                    suburbs: {
                        tag: "suburbs",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 820,
                            y: 540,
                            w: 100,
                            h: 125
                        }
                    },
                    "small-0": {
                        tag: "small0",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 380,
                            y: 540,
                            w: 120,
                            h: 120
                        }
                    },
                    "small-1": {
                        tag: "small1",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 660,
                            y: 540,
                            w: 120,
                            h: 120
                        }
                    },
                    "medium-0": {
                        tag: "medium0",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 180,
                            y: 620,
                            w: 120,
                            h: 120
                        }
                    },
                    "medium-1": {
                        tag: "medium1",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 620,
                            y: 460,
                            w: 120,
                            h: 120
                        }
                    },
                    "large-0": {
                        tag: "large0",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 100,
                            y: 620,
                            w: 120,
                            h: 120
                        }
                    },
                    "large-1": {
                        tag: "large1",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 140,
                            y: 620,
                            w: 120,
                            h: 120
                        }
                    }
                }
            },
            coolCave: {
                assets: [ "tileset-interior-icecave" ],
                houses: {
                    "cool-cave": {
                        tag: "coolCave",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 1140,
                            y: 620,
                            w: 120,
                            h: 120
                        }
                    },
                    "cool-cave-unique-1": {
                        tag: "coolCaveUnique1",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 1100,
                            y: 620,
                            w: 120,
                            h: 120
                        }
                    },
                    "cool-cave-unique-2": {
                        tag: "coolCaveUnique2",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 660,
                            y: 580,
                            w: 120,
                            h: 120
                        }
                    }
                }
            },
            firePit: {
                assets: [ "tileset-firepit" ],
                houses: {
                    "fire-pit": {
                        tag: "firePit",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 660,
                            y: 620,
                            w: 120,
                            h: 120
                        }
                    },
                    "fire-pit-2": {
                        tag: "firePit2",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 220,
                            y: 580,
                            w: 120,
                            h: 120
                        }
                    },
                    "fire-pit-3": {
                        tag: "firePit3",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 1140,
                            y: 660,
                            w: 120,
                            h: 120
                        }
                    }
                }
            },
            forest: {
                assets: [ "tileset-generic", "tileset-interior-treehouse" ],
                houses: {
                    forest: {
                        tag: "forest",
                        entryPoint: {
                            x: 700,
                            y: 250
                        },
                        exit: {
                            x: 1100,
                            y: 660,
                            w: 120,
                            h: 120
                        }
                    },
                    "treehouse-unique-1": {
                        tag: "treehouseUnique1",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 140,
                            y: 660,
                            w: 120,
                            h: 120
                        }
                    },
                    "treehouse-unique-2": {
                        tag: "treehouseUnique2",
                        entryPoint: {
                            x: 640,
                            y: 360
                        },
                        exit: {
                            x: 220,
                            y: 620,
                            w: 120,
                            h: 120
                        }
                    }
                }
            },
            largeHouse: {
                assets: [ "tileset-interior-general" ],
                houses: {
                    "house-large-3": {
                        tag: "houseLarge3",
                        entryPoint: {
                            x: 550,
                            y: 220
                        },
                        exit: {
                            x: 620,
                            y: 340,
                            w: 120,
                            h: 120
                        }
                    },
                    "house-large-4": {
                        tag: "houseLarge4",
                        entryPoint: {
                            x: 140,
                            y: 360
                        },
                        exit: {
                            x: 140,
                            y: 660,
                            w: 120,
                            h: 120
                        }
                    }
                }
            }
        }, e;
    }(c.Zone);
    e.HouseZone = O;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 9, "QUESTS_FOREST_FIND_GERALD", {
                type: "seq",
                N: 1
            }, [ "forest-D3" ], [ 24, 25 ], [], [ 26 ], [ {
                type: "gold",
                N: 200
            } ], !1) || this;
        }
        return n(e, t), e.prototype.start = function(e, i, a) {
            if (t.prototype.start.call(this, e, i, a), "D3" === a.getTag() && this.zone.isOnSequence(9, 0)) {
                var n = e.prodigy.event.create();
                n.text(59, "noot"), n.function(this.zone.completeSequence.bind(a.zone, 9, 0)), 
                n.function(i.process.bind(i)), n.start();
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.ForestQ9 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 8, "QUESTS_FOREST_DEFEAT_THE_TRIO", {
                type: "seq",
                N: 2
            }, [ "forest-A3" ], [ 21, 22, 23 ], [], [ 39 ], [ {
                type: "spell",
                ID: 14
            } ], !1) || this;
        }
        return n(e, t), e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), "A3" === a.getTag() && (this.zone.isOnSequence(8, 0) ? this.tripTropBattle(e, i, a) : this.zone.isOnSequence(8, 1) && this.chatWithNoot(e, i, a)), 
            null;
        }, e.prototype.tripTropBattle = function(t, e, i) {
            var a = this, n = t.prodigy.gameContainer.Localizer, o = this.zone.getBattle(i, n.getText("COMBAT_TRIPTROP_TRIO"), {
                drops: [ {
                    ID: 69,
                    type: "item"
                } ],
                pets: [ {
                    ID: 59,
                    nickname: n.getText("NPC_NAME_TRIPTROP_TED")
                }, {
                    ID: 59,
                    nickname: n.getText("NPC_NAME_TRIPTROP_TOM")
                }, {
                    ID: 59,
                    nickname: n.getText("NPC_NAME_TRIPTROP_TAK")
                } ]
            }, function() {
                a.zone.completeSequence(8, 0), t.prodigy.world.teleport("forest-A3", 640, 400);
            }), r = i.addMonster(t, e, 1, 640, 330, !1, {
                encounter: [ {
                    ID: 59
                } ]
            });
            r.flip();
            var s = i.addMonster(t, e, 2, 540, 360, !1, {
                encounter: [ {
                    ID: 59
                } ]
            });
            s.flip();
            var l = i.addMonster(t, e, 3, 740, 360, !1, {
                encounter: [ {
                    ID: 59
                } ]
            });
            l.flip(), e.user.evtProc = !0;
            var h = t.prodigy.event.create();
            h.enableInput(!1), h.path(e.user, [ {
                x: 910,
                y: 480
            } ]), h.delay(100), h.function(r.chat.bind(r, 1, 80)), h.hop(r, 200), 
            h.function(r.flip.bind(r)), h.function(s.chat.bind(s, 1, 80)), h.hop(s, 200), 
            h.function(s.flip.bind(s)), h.function(l.chat.bind(l, 1, 80)), h.hop(l, 200), 
            h.function(l.flip.bind(l)), h.enableInput(!0), h.text(56, "noot"), h.function(o), 
            h.start();
        }, e.prototype.chatWithNoot = function(t, e, i) {
            var a = t.prodigy.event.create();
            a.text(57, "noot"), a.function(this.zone.completeSequence.bind(i.zone, 8, 1)), 
            a.function(e.process.bind(e)), a.start();
        }, e;
    }(i(6).Quest);
    e.ForestQ8 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 7, "", {
                type: "item",
                ID: 24,
                N: 5
            }, [ "forest-A4", "forest-A5" ], [ 18, 19, 20 ], [], [ 39 ], [ {
                type: "gold",
                N: 200
            } ], !1) || this;
            return a.collectionMaps = {
                A4: [ 1, 2 ],
                A5: [ 3, 4, 5 ]
            }, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), "A4" !== a.getTag() || this.zone.isQuestComplete(7)) {
                if ("A5" === a.getTag() && !this.zone.isQuestComplete(7)) {
                    n = {
                        type: "item",
                        ID: 24
                    };
                    i.addCollect(3, 154, 511, n), i.addCollect(4, 1e3, 380, n), 
                    i.addCollect(5, 552, 210, n);
                }
            } else {
                var n = {
                    type: "item",
                    ID: 24
                };
                i.addCollect(1, 270, 460, n), i.addCollect(2, 780, 314, n);
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.ForestQ7 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 6, "", {
                type: "item",
                ID: 24,
                N: 1
            }, [ "forest-D3" ], [ 16, 17 ], [], [ 39 ], [ {
                type: "gold",
                N: 200
            } ], !1) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "D3" !== a.getTag() || this.zone.isQuestComplete(6) ? null : (this.placeMonsters(e, i, a), 
            {
                enableMonsters: !1
            });
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), "D3" === a.getTag() && this.zone.isOnSequence(6, 0) && this.chatWithNoot(a, e), 
            null;
        }, e.prototype.placeMonsters = function(t, e, i) {
            var a = {
                randDir: !0,
                encounter: [ {
                    ID: 32,
                    drops: [ {
                        type: "item",
                        ID: 24,
                        R: .5
                    } ]
                } ]
            };
            i.addMonster(t, e, 1, 481, 239, !1, a), i.addMonster(t, e, 2, 634, 428, !1, a), 
            i.addMonster(t, e, 3, 926, 230, !1, a), i.addMonster(t, e, 4, 940, 533, !1, a);
        }, e.prototype.chatWithNoot = function(t, e) {
            var i = e.prodigy.event.create();
            i.text(54, "noot"), i.text(55, "noot"), i.function(this.zone.completeSequence.bind(t.zone, 6, 0)), 
            i.start();
        }, e;
    }(i(6).Quest);
    e.ForestQ6 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 5, "QUESTS_FOREST_TALK_TO_MERCHANT", {
                type: "seq",
                N: 1
            }, [ "forest-C4" ], [ 14, 15 ], [], [ 39 ], [ {
                type: "gold",
                N: 200
            } ], !1) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            return t.prototype.setup.call(this, e, i, a), "C4" !== a.getTag() || this.zone.isQuestComplete(5) ? null : {
                onInputDownCallback: function() {
                    n.chatWithMerchant(e, i, a);
                }
            };
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), "C4" !== a.getTag() || this.zone.isQuestComplete(5) || a.questNPC.highlight(!0, -120, -130), 
            null;
        }, e.prototype.chatWithMerchant = function(t, e, i) {
            var a = t.prodigy.event.create();
            a.function(function() {
                i.questNPC.highlight(!1);
            }), a.text(3, "merchant"), a.enableInput(!1), a.function(function() {
                i.questNPC.chat(7, 100);
            }), a.delay(2e3), a.function(function() {
                i.questNPC.chat(1, 100);
            }), a.delay(500), a.enableInput(!0), a.text(4, "merchant"), a.text(5, "merchant"), 
            a.function(this.zone.completeSequence.bind(i.zone, 5, 0)), a.function(e.process.bind(e)), 
            a.start();
        }, e;
    }(i(6).Quest);
    e.ForestQ5 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 4, "", {
                type: "item",
                ID: 66,
                N: 3
            }, [ "forest-B5" ], [ 11, 12, 13 ], [], [ 39 ], [ {
                type: "spell",
                ID: 13
            }, {
                type: "item",
                ID: 67
            } ], !1) || this;
            return a.collectionMaps = {
                B5: [ 1, 2, 3 ]
            }, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "B5" !== a.getTag() || this.zone.isQuestComplete(4) || this.placeItems(e, i, a), 
            null;
        }, e.prototype.placeItems = function(t, e, i) {
            var a = {
                type: "item",
                ID: 66
            };
            e.addCollect(1, 426, 472, a), e.addCollect(2, 904, 472, a), e.addCollect(3, 696, 241, a);
            var n = {
                randDir: !0,
                randRange: 200,
                encounter: [ {
                    ID: 81
                } ]
            };
            i.addMonster(t, e, 1, 899, 297, !1, n), i.addMonster(t, e, 2, 562, 307, !1, n);
        }, e;
    }(i(6).Quest);
    e.ForestQ4 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 3, "", {
                type: "pet",
                ID: 52,
                N: 3
            }, [ "forest-B6" ], [ 8 ], [], [ 39 ], [ {
                type: "gold",
                N: 200
            } ], !1) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "B6" !== a.getTag() || this.zone.isQuestComplete(3) ? null : (this.placeMonsters(e, i, a), 
            {
                enableMonsters: !1
            });
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), "B6" === a.getTag() && this.zone.isOnSequence(3, 0) && this.zone.completeSequence(3, 0), 
            null;
        }, e.prototype.placeMonsters = function(t, e, i) {
            var a = {
                randDir: !0,
                randRange: 200,
                encounter: [ {
                    ID: 52
                } ]
            };
            i.addMonster(t, e, 1, 369, 152, !1, a), i.addMonster(t, e, 2, 819, 218, !1, a), 
            i.addMonster(t, e, 3, 558, 416, !1, a);
        }, e;
    }(i(6).Quest);
    e.ForestQ3 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 2, "", {
                type: "weapon",
                ID: 1,
                N: 1
            }, [ "forest-B7" ], [ 4, 5, 6 ], [], [ 7 ], [ {
                type: "gold",
                N: 200
            } ], !1) || this;
        }
        return n(e, t), e;
    }(i(6).Quest);
    e.ForestQ2 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 12, "QUESTS_FOREST_WAKE_GERALD", {
                type: "seq",
                N: 1
            }, [ "forest-D3" ], [ 33, 34 ], [], [ 35 ], [ {
                type: "spell",
                ID: 15
            }, {
                type: "key",
                ID: 3
            } ], !1) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "D3" === a.getTag() ? {
                enableMonsters: !1
            } : null;
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), this.zone.isQuestComplete(12) || "D3" !== a.getTag() || this.bossBattle(e, i, a), 
            null;
        }, e.prototype.update = function(t, e, i) {
            "D3" === i.getTag() && i.update();
        }, e.prototype.bossBattle = function(t, e, i) {
            var a = this, n = this.zone.getBattle(i, t.prodigy.gameContainer.Localizer.getText("COMBAT_BOSS_BATTLE"), {
                boss: {
                    ID: 10,
                    element: "earth",
                    attacks: [ 13, 14, 15, 16 ],
                    name: t.prodigy.gameContainer.Localizer.getText("NPC_NAME_GERALD"),
                    starBonus: 40,
                    tag: "forest",
                    scale: !0
                }
            }, function() {
                a.zone.setState("gerald", null), a.zone.completeSequence(12, 0), 
                t.prodigy.world.teleport("forest-D3", 572, 342);
            });
            if (this.zone.isOnSequence(12, 0)) {
                t.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
                var o = t.prodigy.event.create();
                o.enableInput(!1), o.path(e.user, [ {
                    x: 572,
                    y: 342
                } ]), o.enableInput(!0), o.text(61, "noot"), o.set(i, "_wakeUp", !0), 
                o.text(62, "noot"), o.text(63, "noot"), o.function(n), o.start();
            }
        }, e;
    }(i(6).Quest);
    e.ForestQ12 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 11, "", {
                type: "item",
                ID: 70,
                N: 1
            }, [ "forest-A3", "forest-D3" ], [ 31, 32 ], [], [ 39 ], [ {
                type: "gold",
                N: 200
            } ], !1) || this;
            return a.fakeMonster = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.fakeMonster = null, 
            "A3" === a.getTag() && this.placeThief(e, i, a), "D3" !== a.getTag() || this.zone.isQuestComplete(11) || this.placeDecoyThief(e, i, a), 
            null;
        }, e.prototype.process = function(e, i, a) {
            t.prototype.process.call(this, e, i, a), "D3" === a.getTag() && o.Util.isValid(this.fakeMonster) && this.fakeMonster.highlight(!0, -40, -90);
        }, e.prototype.getRemainingQuestAreas = function() {
            var t = [ "forest-A3" ];
            return o.Util.isValid("fakeMonsterDefeated") && this.zone.getState("fakeMonsterDefeated") || t.push("forest-D3"), 
            t;
        }, e.prototype.placeThief = function(t, e, i) {
            var a = {
                catch: !1,
                drops: [ {
                    ID: 70,
                    type: "item"
                } ],
                encounter: [ {
                    ID: 69,
                    nickname: t.prodigy.gameContainer.Localizer.getText("NPC_NAME_FOREST_THIEF")
                } ]
            };
            i.addMonster(t, e, 4, 384, 463, !0, a);
        }, e.prototype.placeDecoyThief = function(t, e, i) {
            var a = this, n = {
                catch: !1,
                encounter: [ {
                    ID: 69
                } ],
                onEnc: function() {
                    a.zone.setState("fakeMonsterDefeated", !0);
                }
            };
            this.fakeMonster = i.addMonster(t, e, 5, 484, 463, !0, n);
        }, e;
    }(i(6).Quest);
    e.ForestQ11 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 10, "QUESTS_FOREST_FIX_FLUTE", {
                type: "seq",
                N: 1
            }, [ "forest-A5" ], [ 27, 28, 29 ], [], [ 30 ], [ {
                type: "gold",
                N: 200
            } ], !1) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "A5" === a.getTag() ? {
                enableMonsters: !1
            } : null;
        }, e.prototype.start = function(e, i, a) {
            var n = this;
            if (t.prototype.start.call(this, e, i, a), !this.zone.isQuestComplete(10) && "A5" === a.getTag()) {
                var o = e.prodigy.create.element(i.content, 490, 340), r = o.add(e.prodigy.create.sprite(0, 0, "atlas-18", "overlay-light"));
                r.alpha = 0, r.width = 110, r.height = 80, o.highlight(!0, 0, -20), 
                r.inputEnabled = !0, r.events.onInputDown.add(function() {
                    n.clickStump(a, e, i, o);
                });
            }
            return null;
        }, e.prototype.clickStump = function(t, e, i, a) {
            t.questParams = {};
            var n = i.content.add(e.prodigy.icon.createIcon(540, 380, "icon-item-69"));
            n.anchor.setTo(.5, 1), e.add.tween(n).to({
                y: 370
            }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0), 
            n.visible = !1;
            var r = i.content.add(e.prodigy.icon.createIcon(540, 380, "icon-item-70"));
            r.anchor.setTo(.5, 1), e.add.tween(r).to({
                y: 370
            }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0), 
            r.visible = !1;
            var s = t.addMonster(e, i, 4, 982, 626, !1, {
                encounter: [ {
                    ID: 69
                } ]
            });
            s.visible = !1;
            var l = e.prodigy.event.create();
            l.function(a.highlight.bind(a, !1)), l.enableInput(!1), l.path(i.user, [ {
                x: 537,
                y: 460
            } ]), l.set(i.user, "evtProc", !0), l.function(e.prodigy.player.backpack.consume.bind(e.prodigy.player.backpack, "item", 69, 1)), 
            l.delay(100), l.set(n, "visible", !0), l.delay(500), l.explode(505, 325, 80, 80, 3), 
            l.set(n, "visible", !1), l.set(r, "visible", !0), l.delay(500), l.set(s, "visible", !0), 
            l.path(s, [ {
                x: 708,
                y: 383
            } ], 1), l.hop(s, 500, -140, 100), l.set(r, "visible", !1), l.function(i.user.chat.bind(i.user, 1, 80)), 
            l.sound(18, "dig"), l.hop(s, 500, -160, 100), l.path(s, [ {
                x: 218,
                y: 0
            } ], 2), l.set(s, "visible", !1), l.enableInput(!0), l.text(60, "noot"), 
            l.function(a.destroy.bind(a)), l.function(this.zone.completeSequence.bind(t.zone, 10, 0)), 
            l.set(i.user, "evtProc", !1), l.function(i.process.bind(i)), l.start();
        }, e;
    }(i(6).Quest);
    e.ForestQ10 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 1, "", {
                type: "pet",
                ID: 81,
                N: 2,
                U: !0
            }, [ "forest-B8" ], [ 0, 1, 2, 3 ], [], [ 39 ], [ {
                type: "gold",
                N: 200
            } ], !1) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "B8" === a.getTag() && this.spawnMonsters(e, i, a), 
            null;
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), "B8" === a.getTag() && this.zone.isOnSequence(1, 0) && this.saveMerchant(e, a), 
            null;
        }, e.prototype.saveMerchant = function(t, e) {
            var i = t.prodigy.event.create();
            i.function(function() {
                e.questNPC.chat(1, 80);
            }), i.function(function() {
                e.chatWithMerchant(t);
            }), i.function(this.zone.completeSequence.bind(this.zone, 1, 0));
        }, e.prototype.spawnMonsters = function(t, e, i) {
            var a = {
                run: !1,
                encounter: [ {
                    ID: 81
                } ]
            };
            i.addMonster(t, e, 1, 384, 463, !0, a), i.addMonster(t, e, 2, 554, 338, !0, a);
        }, e;
    }(i(6).Quest);
    e.ForestQ1 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "D3", "MAP_FOREST_OLD_ROAD_REMAINS", 200, 520, [ "forest-C4" ], i.concat("default-boss-14")) || this;
            return a.wakeUp = !1, a.tween = [], a.wakeUpTween = [], a.awakeTween = [], 
            a.coord = [ new Phaser.Point(500, 640), new Phaser.Point(750, 120), new Phaser.Point(1100, 450) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.game = e, this.wakeUp = !1, 
            this.addAreaEvent(e, i, {
                x: 0,
                y: 720,
                r: 200
            }, "forest-C4", 1080, 200, null, null);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 52
                }, {
                    ID: 55
                }, {
                    ID: 69
                }, {
                    ID: 81
                }, {
                    ID: 61
                } ]
            };
            this.addMonster(e, i, 1, 481, 239, !1, n), this.addMonster(e, i, 2, 634, 428, !1, n), 
            this.addMonster(e, i, 3, 926, 230, !1, n), this.addMonster(e, i, 4, 940, 533, !1, n);
            for (var r = e.cache.getJSON(this.file), s = e.cache.getJSON("map-pathing").tilesets, l = null, h = 0; h < r.layers.length; h++) "gerald" === r.layers[h].name && (l = r.layers[h]);
            var c = i.foreground.add(this.game.prodigy.create.sprite(760, 160, "default-boss-14", "Gerald-head1")), p = [];
            p.push(new o.TweenController(c)), p[0].set("frameName", [ "Gerald-head1", "Gerald-head2", "Gerald-head3", "Gerald-head2", "Gerald-head1" ], 300, 9999), 
            p[0].end(this.wakeUpGerald.bind(this)), this.tween = p, this.wakeUpTween = [], 
            this.wakeUpTween.push(new o.TweenController(c)), this.wakeUpTween[0].set("frameName", [ "Gerald-head4", "Gerald-head5", "Gerald-head4", "Gerald-head1", "Gerald-head5" ], 150, 9999), 
            this.wakeUpTween[0].end(this.stayAwake.bind(this));
            var u = [];
            if (u.push(new o.TweenController(c)), u[0].set("frameName", [ "Gerald-head5" ], 150, 9999), 
            this.zone.getQuestState().ID > 8 && !this.zone.isQuestComplete(12)) {
                this.initLayer(this.above, l, r.tilesets, s, null);
                for (h = 0; h < this.tween.length; h++) this.tween[h].start();
            } else c.visible = !1;
        }, e.prototype.init = function(e, i, a, n) {
            return this.checkForGerald(), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.checkForGerald = function() {
            this.zone.getQuestState().ID > 8 && !this.zone.isQuestComplete(12) ? (this.enableLayerID(0, !0), 
            this.enableLayerID(1, !0)) : (this.enableLayerID(0, !1), this.enableLayerID(1, !1));
        }, e.prototype.wakeUpGerald = function() {
            if (this.wakeUp) {
                this.tween = this.wakeUpTween;
                for (var t = 0; t < this.tween.length; t++) this.tween[t].start();
            }
        }, e.prototype.stayAwake = function() {
            this.tween = this.awakeTween;
            for (var t = 0; t < this.tween.length; t++) this.tween[t].start();
        }, e.prototype.update = function() {
            for (var e = 0; e < this.tween.length; e++) this.tween[e].update();
            t.prototype.update.call(this, this.game);
        }, e;
    }(i(36).ForestMap);
    e.ForestD3 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(42), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "C8", "MAP_FOREST_BIG_TREE", 1190, 520, [ "forest-C7", "forest-B8" ], i.concat("atlas-70", "atlas-76")) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), e.prodigy.world.getZone("lamplight").completeQuest(2), 
            this.addAreaEvent(e, i, {
                x: 200,
                y: 40,
                w: 240,
                h: 80
            }, "forest-C7", 200, 630, null, null), this.addAreaEvent(e, i, {
                x: 40,
                y: 480,
                w: 80,
                h: 200
            }, "forest-B8", 1190, 480, null, null), this.addAreaEvent(e, i, {
                x: 1240,
                y: 520,
                w: 80,
                h: 240
            }, "lamplight-B1", 120, 480, null, null);
            i.addConstructedQuestNPC(620, 300, "flora", !0, function(t) {
                var e = t.prodigy.event.create();
                e.text(39, "flora"), e.start();
            }.bind(this, e)), i.createStoreNPC(1130, 390, 7, e.prodigy.gameContainer.Localizer.getText("STORE_NAME_FIREFLY"), !1), 
            new o.ToyMerchant(e, i.content, 920, 390);
        }, e;
    }(i(36).ForestMap);
    e.ForestC8 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C7", "MAP_FOREST_STONEFISH_BEACH", 200, 630, [ "forest-B7", "forest-C8" ], i) || this;
            return a.coord = [ new Phaser.Point(640, 500), new Phaser.Point(330, 170), new Phaser.Point(220, 260) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 40,
                y: 220,
                w: 80,
                h: 200
            }, "forest-B7", 1190, 240, null, null), this.addAreaEvent(e, i, {
                x: 200,
                y: 680,
                w: 240,
                h: 80
            }, "forest-C8", 200, 90, null, null), i.addCollect(1, 980, 520, {
                type: "item",
                ID: 51
            });
            var n = {
                opponent: [ {
                    data: {
                        level: 2
                    },
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_MILLY"),
                        gender: "female",
                        hair: {
                            style: 1,
                            color: 3
                        },
                        skinColor: 1,
                        eyeColor: 2
                    },
                    equipment: {
                        hat: 12
                    }
                } ],
                pets: []
            };
            this.addWizard(e, i, 550, 480, "wizard1", n);
        }, e;
    }(i(36).ForestMap);
    e.ForestC7 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C4", "MAP_FOREST_THE_OLD_ROAD", 200, 520, [ "forest-B5", "forest-D3" ], i.concat([ "atlas-76" ])) || this;
            return a.questNPC = null, a.coord = [ new Phaser.Point(400, 580), new Phaser.Point(820, 500), new Phaser.Point(800, 330) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 0,
                y: 720,
                r: 200
            }, "forest-B5", 1080, 200, null, null), this.addAreaEvent(e, i, {
                x: 1280,
                y: 0,
                r: 200
            }, "forest-D3", 200, 520, null, null), this.questNPC = i.addNPC(378, 313, "atlas-76", o.Util.isValid(a) && o.Util.isValid(a.onInputDownCallback) ? a.onInputDownCallback : this.chatWithMerchant.bind(this, e)), 
            this.questNPC.flip(), this.questNPC.animate("stand");
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 29
                }, {
                    ID: 55
                }, {
                    ID: 69
                } ]
            };
            this.addMonster(e, i, 1, 608, 488, !1, n), this.addMonster(e, i, 2, 787, 200, !1, n);
            var r = {
                opponent: [ {
                    data: {
                        level: 7
                    },
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_CALEB_FORESTMASTER"),
                        gender: "male",
                        hair: {
                            style: 21,
                            color: 3
                        },
                        skinColor: 1,
                        eyeColor: 4
                    },
                    equipment: {
                        hat: 15,
                        outfit: 29,
                        weapon: 8
                    }
                } ],
                pets: [ {
                    ID: 55,
                    level: 5
                }, {
                    ID: 29,
                    level: 7
                } ]
            };
            this.addWizard(e, i, 1040, 450, "wizard3", r).flip(), this.addChest(e, i, "chest2", 300, 400, [ {
                type: "gold",
                N: 250
            } ], null, "A");
        }, e.prototype.chatWithMerchant = function(t) {
            var e = t.prodigy.event.create();
            e.text(6, "merchant"), e.start();
        }, e;
    }(i(36).ForestMap);
    e.ForestC4 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B8", "MAP_FOREST_FIREFLY_CLEARING", 1190, 480, [ "forest-C8" ], i.concat("atlas-76")) || this;
            return a.questNPC = null, a.coord = [ new Phaser.Point(490, 570), new Phaser.Point(785, 270), new Phaser.Point(440, 200) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1240,
                y: 480,
                w: 80,
                h: 200
            }, "forest-C8", 90, 480, null, null), this.questNPC = i.addNPC(378, 313, "atlas-76", this.chatWithMerchant.bind(this, e)), 
            this.questNPC.flip(), this.questNPC.animate("stand");
            var n = i.foreground.add(e.prodigy.create.sprite(350, 150, "atlas-21", "map-quest"));
            e.add.tween(n).to({
                y: "-20"
            }, 1400, Phaser.Easing.Quadratic.InOut).to({
                y: "20"
            }, 1400, Phaser.Easing.Quadratic.InOut).loop().start(), this.addChest(e, i, "chest4", 1136, 264, [ {
                type: "gold",
                N: 500
            } ], null, "C");
        }, e.prototype.start = function(e, i, a) {
            if (t.prototype.start.call(this, e, i, a), this.zone.isQuestComplete(1) && !o.Util.isValid(this.zone.getState("hasdaily"))) {
                this.zone.setState("hasdaily", 1);
                var n = e.prodigy.event.create();
                n.text(33, "merchant"), n.text(34, "merchant"), n.start();
            }
        }, e.prototype.chatWithMerchant = function(t) {
            var e = t.prodigy.event.create();
            this.zone.isOnQuest(1) && !this.zone.isQuestComplete(1) ? e.text(1, "merchant") : 0 === t.prodigy.player.backpack.hasItem("item", 78) ? (e.text(18, "merchant"), 
            e.text(28, "merchant"), e.text(29, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) < 5 ? (e.text(18, "merchant"), 
            e.text(19, "merchant"), 4 === t.prodigy.player.backpack.hasItem("item", 78) && e.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 4 && this.zone.getState("daily").rewards < 5 ? (e.text(26, "merchant"), 
            e.enableSave(!1), e.function(this.zone.setState.bind(this.zone, "daily", {
                date: this.zone.getState("daily").date,
                flags: this.zone.getState("daily").flags,
                rewards: 5
            })), e.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "item",
                ID: 77,
                N: 5
            } ])), e.enableSave(!0), e.text(20, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 4 && t.prodigy.player.backpack.hasItem("item", 78) < 10 && this.zone.getState("daily").rewards > 4 ? (e.text(18, "merchant"), 
            e.text(20, "merchant"), 9 === t.prodigy.player.backpack.hasItem("item", 78) && e.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 9 && this.zone.getState("daily").rewards < 10 ? (e.text(26, "merchant"), 
            e.enableSave(!1), e.function(this.zone.setState.bind(this.zone, "daily", {
                date: this.zone.getState("daily").date,
                flags: this.zone.getState("daily").flags,
                rewards: 10
            })), e.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "item",
                ID: 76,
                N: 10
            } ])), e.enableSave(!0), e.text(21, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 9 && t.prodigy.player.backpack.hasItem("item", 78) < 25 && this.zone.getState("daily").rewards > 9 ? (e.text(18, "merchant"), 
            e.text(21, "merchant"), 24 === t.prodigy.player.backpack.hasItem("item", 78) && e.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 24 && this.zone.getState("daily").rewards < 25 ? (e.text(26, "merchant"), 
            e.enableSave(!1), e.function(this.zone.setState.bind(this.zone, "daily", {
                date: this.zone.getState("daily").date,
                flags: this.zone.getState("daily").flags,
                rewards: 25
            })), e.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "hat",
                ID: 64
            } ])), e.enableSave(!0), e.text(22, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 24 && t.prodigy.player.backpack.hasItem("item", 78) < 50 && this.zone.getState("daily").rewards > 24 ? (e.text(18, "merchant"), 
            e.text(22, "merchant"), 49 === t.prodigy.player.backpack.hasItem("item", 78) && e.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 49 && this.zone.getState("daily").rewards < 50 ? (e.text(26, "merchant"), 
            e.enableSave(!1), e.function(this.zone.setState.bind(this.zone, "daily", {
                date: this.zone.getState("daily").date,
                flags: this.zone.getState("daily").flags,
                rewards: 50
            })), e.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "outfit",
                ID: 55
            } ])), e.enableSave(!0), e.text(23, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 49 && t.prodigy.player.backpack.hasItem("item", 78) < 75 && this.zone.getState("daily").rewards > 49 ? (e.text(18, "merchant"), 
            e.text(23, "merchant"), 74 === t.prodigy.player.backpack.hasItem("item", 78) && e.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 74 && this.zone.getState("daily").rewards < 75 ? (e.text(26, "merchant"), 
            e.enableSave(!1), e.function(this.zone.setState.bind(this.zone, "daily", {
                date: this.zone.getState("daily").date,
                flags: this.zone.getState("daily").flags,
                rewards: 75
            })), e.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "item",
                ID: 77,
                N: 5
            } ])), e.enableSave(!0), e.text(24, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 74 && t.prodigy.player.backpack.hasItem("item", 78) < 99 && this.zone.getState("daily").rewards > 74 ? (e.text(18, "merchant"), 
            e.text(24, "merchant"), 98 === t.prodigy.player.backpack.hasItem("item", 78) && e.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 98 && this.zone.getState("daily").rewards < 99 ? (e.text(26, "merchant"), 
            e.enableSave(!1), e.function(this.zone.setState.bind(this.zone, "daily", {
                date: this.zone.getState("daily").date,
                flags: this.zone.getState("daily").flags,
                rewards: 99
            })), e.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [ {
                type: "weapon",
                ID: 80
            } ])), e.enableSave(!0)) : e.text(36, "merchant"), e.start();
        }, e;
    }(i(36).ForestMap);
    e.ForestB8 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B7", "MAP_FOREST_FISHERMANS_POND", 1190, 240, [ "forest-B6", "forest-C7" ], i.concat("atlas-82")) || this;
            return a.coord = [ new Phaser.Point(955, 690), new Phaser.Point(130, 530), new Phaser.Point(255, 680) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 200,
                y: 40,
                w: 320,
                h: 80
            }, "forest-B6", 200, 630, null, null), this.addAreaEvent(e, i, {
                x: 1240,
                y: 240,
                w: 80,
                h: 280
            }, "forest-C7", 90, 240, null, null), this.addPippet(e, i, 2, 200, 546);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 29
                }, {
                    ID: 32
                }, {
                    ID: 59
                }, {
                    ID: 81
                } ]
            };
            this.addMonster(e, i, 1, 253, 288, !1, n), this.addMonster(e, i, 2, 200, 546, !1, n), 
            this.addMonster(e, i, 3, 632, 542, !1, n), this.addChest(e, i, "chest1", 780, 230, [ {
                type: "weapon",
                ID: 1
            } ], null, "A");
        }, e;
    }(i(36).ForestMap);
    e.ForestB7 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B6", "MAP_FOREST_GRASSY_CLEARING", 200, 630, [ "forest-B5", "forest-B7" ], i.concat("atlas-82")) || this;
            return a.coord = [ new Phaser.Point(210, 390), new Phaser.Point(300, 130), new Phaser.Point(540, 260) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1100,
                y: 40,
                w: 280,
                h: 80
            }, "forest-B5", 1100, 630, null, null), this.addAreaEvent(e, i, {
                x: 200,
                y: 680,
                w: 320,
                h: 80
            }, "forest-B7", 200, 90, null, null);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 29
                }, {
                    ID: 32
                }, {
                    ID: 59
                }, {
                    ID: 81
                } ]
            };
            this.addMonster(e, i, 1, 369, 152, !1, n), this.addMonster(e, i, 2, 819, 218, !1, n), 
            this.addMonster(e, i, 3, 558, 416, !1, n);
        }, e;
    }(i(36).ForestMap);
    e.ForestB6 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B5", "MAP_FOREST_CROSSROADS", 1100, 630, [ "forest-A4", "forest-C4", "forest-B6" ], i) || this;
            return a.coord = [ new Phaser.Point(1e3, 180), new Phaser.Point(200, 200), new Phaser.Point(690, 125) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 0,
                y: 0,
                r: 200
            }, "forest-A4", 1080, 520, null, null), this.addAreaEvent(e, i, {
                x: 1280,
                y: 0,
                r: 200
            }, "forest-C4", 200, 520, null, null), this.addAreaEvent(e, i, {
                x: 1100,
                y: 680,
                w: 280,
                h: 80
            }, "forest-B6", 1100, 90, null, null);
            var n = {
                opponent: [ {
                    data: {
                        level: 4
                    },
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_WOODSMAN_MIKE"),
                        gender: "male",
                        hair: {
                            style: 19,
                            color: 2
                        },
                        skinColor: 2,
                        eyeColor: 3
                    },
                    equipment: {
                        hat: 7,
                        outfit: 12,
                        weapon: 1
                    }
                } ],
                pets: [ {
                    ID: 32,
                    level: 3
                } ]
            };
            this.addWizard(e, i, 335, 371, "wizard2", n);
        }, e;
    }(i(36).ForestMap);
    e.ForestB5 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A5", "MAP_FOREST_FIREFLY_CROSSING", 220, 90, [ "forest-A4" ], i) || this;
            return a.coord = [ new Phaser.Point(200, 600), new Phaser.Point(900, 510), new Phaser.Point(100, 420) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 220,
                y: 40,
                w: 280,
                h: 80
            }, "forest-A4", 220, 630, null, null);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 32
                }, {
                    ID: 52
                }, {
                    ID: 55
                }, {
                    ID: 59
                }, {
                    ID: 69
                }, {
                    ID: 36
                } ]
            };
            this.addMonster(e, i, 1, 414, 482, !1, n), this.addMonster(e, i, 2, 697, 343, !1, n), 
            this.addMonster(e, i, 3, 755, 601, !1, n), this.addChest(e, i, "chest3", 810, 280, [ {
                type: "outfit",
                ID: 12
            } ], null, "A");
        }, e;
    }(i(36).ForestMap);
    e.ForestA5 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A4", "MAP_FOREST_MOUNTAIN_PASS", 1080, 520, [ "forest-A3", "forest-A5", "forest-B5" ], i) || this;
            return a.coord = [ new Phaser.Point(150, 430), new Phaser.Point(755, 400) ], 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1080,
                y: 40,
                w: 320,
                h: 80
            }, "forest-A3", 1080, 630, null, null), this.addAreaEvent(e, i, {
                x: 1280,
                y: 720,
                r: 200
            }, "forest-B5", 200, 200, null, null), this.addAreaEvent(e, i, {
                x: 220,
                y: 680,
                w: 280,
                h: 80
            }, "forest-A5", 220, 90, null, null);
            this.addMonster(e, i, 1, 590, 500, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 59
                }, {
                    ID: 52
                }, {
                    ID: 36
                } ]
            });
            var n = {
                opponent: [ {
                    data: {
                        level: 9
                    },
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_LUCKY_JACK"),
                        gender: "male",
                        hair: {
                            style: 16,
                            color: 3
                        },
                        skinColor: 1,
                        eyeColor: 4
                    },
                    equipment: {
                        hat: 8,
                        outfit: 16,
                        weapon: 24
                    }
                } ],
                pets: [ {
                    ID: 36,
                    level: 5
                }, {
                    ID: 61,
                    level: 5
                } ]
            };
            this.addWizard(e, i, 1046, 208, "wizard4", n).flip();
        }, e;
    }(i(36).ForestMap);
    e.ForestA4 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, "A3", "MAP_FOREST_MOUNTAIN_GATE", 1080, 630, [ "forest-A4" ], i) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1080,
                y: 680,
                w: 320,
                h: 80
            }, "forest-A4", 1080, 90, null, null);
        }, e;
    }(i(36).ForestMap);
    e.ForestA3 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(94), r = i(0), s = i(175), l = i(113), h = i(31), c = i(479), p = i(478), u = i(477), d = i(476), g = i(475), y = i(474), f = i(473), m = i(472), _ = i(471), v = i(470), E = i(469), b = i(468), O = i(467), T = i(466), A = i(465), I = i(464), w = i(463), C = i(462), S = i(461), P = i(460), D = i(459), L = i(458), x = i(457), M = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            i.name = "Firefly Forest", i.ID = "forest", i.battleBG = "battle-forest-outside", 
            i.onFaint = "forest-C8", i.questHub = "forest-C8", i.bgmID = 15, i.currency = 13, 
            i.states = [ "chest1", "chest2", "chest3", "chest4", "wizard1", "wizard2", "wizard3", "wizard4", "daily", "hasdaily", "fakeMonsterDefeated" ], 
            i.monsters = [ 25, 29, 32, 52, 55, 59, 69, 81 ];
            var a = [ "tileset-firefly-new", "atlas-91", "atlas-115", "tileset-collisions", "bgm-15" ];
            return i.maps = {
                A3: new c.ForestA3(i, a),
                A4: new p.ForestA4(i, a),
                A5: new u.ForestA5(i, a),
                B5: new d.ForestB5(i, a),
                B6: new g.ForestB6(i, a),
                B7: new y.ForestB7(i, a),
                B8: new f.ForestB8(i, a),
                C4: new m.ForestC4(i, a),
                C7: new _.ForestC7(i, a),
                C8: new v.ForestC8(i, a),
                D3: new E.ForestD3(i, a),
                Titan: new l.TitanMap(i, a, {
                    map: "forest-Titan",
                    cutscene: "forest-titanIntro",
                    harvey: {
                        x: 330,
                        y: 270
                    },
                    sign: {
                        x: 240,
                        y: 280
                    },
                    catapult: {
                        x: 200,
                        y: 430,
                        arcHeight: 300
                    },
                    titan: {
                        x: 1100,
                        y: 390,
                        impactOffset: {
                            x: -130,
                            y: 0
                        }
                    },
                    entry: {
                        x: 550,
                        y: 450
                    }
                })
            }, i.quests = {
                1: new b.ForestQ1(i, a),
                2: new I.ForestQ2(i, a),
                3: new w.ForestQ3(i, a),
                4: new C.ForestQ4(i, a),
                5: new S.ForestQ5(i, a),
                6: new P.ForestQ6(i, a),
                7: new D.ForestQ7(i, a),
                8: new L.ForestQ8(i, a),
                9: new x.ForestQ9(i, a),
                10: new O.ForestQ10(i, a),
                11: new T.ForestQ11(i, a),
                12: new A.ForestQ12(i, a)
            }, i.scenes = {
                titanIntro: new s.TitanIntro(i, [ "tileset-interior-general", "tileset-wall-collisions", "bgm-10" ])
            }, i;
        }
        return n(e, t), e.prototype.placeDaily = function(t, e, i) {
            (1 === this.getState("hasdaily") || r.Util.isValid(this.getQuestState()) && this.getQuestState().ID > 1 && this.getQuestState().ID > 1) && e.prodigy.player.backpack.hasItem("item", 78) < 99 && (this.firefly = i.addFireflyEvent(1260 * Math.random(), 700 * Math.random(), 100, 100, this.fireflyOnClick.bind(this, i, t), null, 0));
        }, e.prototype.fireflyOnClick = function(t, e) {
            var i = this.game.prodigy.event.create();
            i.validPath(t.user, t.path, this.firefly.x, this.firefly.y + 100), i.set(t.user, "evtProc", !0), 
            i.function(this.interactFirefly.bind(this, t, e)), i.set(t.user, "evtProc", !1), 
            i.start();
        }, e.prototype.interactFirefly = function(t, e) {
            if (!this.firefly.moving && Math.abs(t.user.x - this.firefly.x) < 100 && Math.abs(this.firefly.y + 100 - t.user.y) < 100) {
                this.firefly.destroy(), this.game.prodigy.open.gotItem([ {
                    type: "item",
                    ID: 78
                } ], null, null, "firefly");
                var i = [];
                for (var a in this.maps) i.push(a);
                for (var n = new o.SeededRandomGenerator(this.getState("daily").date), r = 0; r < 5; r++) if (i[Math.floor(n.jumpFromStart(r) * (i.length - 1))] === e.tag) {
                    var s = this.getState("daily").flags;
                    s[r] = 0, this.setState("daily", {
                        date: this.getState("daily").date,
                        flags: s,
                        rewards: this.getState("daily").rewards
                    });
                }
            }
        }, e;
    }(h.Zone);
    e.ForestZone = M;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "A3", "MAP_DARK_TOWER_SHOWDOWN", 260, 550, [ "darktower-A2" ], i) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 640,
                y: 280,
                w: 160,
                h: 160,
                rect: !1,
                canReTrigger: !0
            }, null, null, null, function() {
                n.toBase();
            }, o.EAreaEventAngle.DOWN), i.addClickableMoveEvent(560, 200, 160, 160, 640, 340);
        }, e.prototype.updateZoneNameFromCurrentFloor = function() {
            t.prototype.updateZoneNameFromCurrentFloor.call(this), this.zoneName = this.zoneName + "-" + this.zone.game.prodigy.player.userID;
        }, e;
    }(i(179).DarktowerMap);
    e.DarktowerA3 = r;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(27), n = i(37), o = i(0), r = function() {
        function t(t, e, i) {
            this.htmlWindow = '<!DOCTYPE html>\n<html lang="en">\n<head>\n<title>Prodigy UI JSON Editor</title>\n<style type="text/css" media="screen">\n    #editor { \n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n    }\n</style>\n</head>\n<body>\n\n<div id="editor">put json here</div>    \n<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.3.3/ace.js" type="text/javascript" charset="utf-8"><\/script>\n<script>\n    var editor = ace.edit("editor");\n    editor.setTheme("ace/theme/monokai");\n    editor.session.setMode("ace/mode/json");\nwindow.document["getEditor"] = function () {\nreturn editor;\n}\n<\/script>\n</body>\n</html>', 
            this.game = t, this.parent = e, this.loadAssets(i), this.buildEditorWindow();
        }
        return t.prototype.buildEditorWindow = function() {
            var t = this;
            o.Util.isValid(this.uiPreviewEditorWindow) ? this.uiPreviewEditorWindow.focus() : (this.uiPreviewEditorWindow = window.open("", "editor", "height=700,width=780"), 
            this.uiPreviewEditorWindow.document.write(this.htmlWindow), setTimeout(function() {
                t.aceEditor = t.uiPreviewEditorWindow.document.getEditor(), t.aceEditor.on("change", t.reload.bind(t));
            }, 1e3), this.uiPreviewEditorWindow.addEventListener("beforeunload", function(e) {
                t.uiPreviewEditorWindow = null;
            }, !1));
        }, t.prototype.reload = function() {
            var t = null;
            try {
                var e = this.aceEditor.getValue();
                t = JSON.parse(e);
            } catch (t) {
                return void o.Util.log(t);
            }
            o.Util.isValid(this.uiPreviewObject) && this.uiPreviewObject.destroy(), 
            this.uiPreviewObject = new a.UIElement(this.game, this.parent), this.uiPreviewObject.populate({
                type: "UIElement",
                name: "root",
                width: 1300,
                height: 740
            }), new n.UIParser(this.game).createUIElements(t.elements, this.uiPreviewObject);
        }, t.prototype.loadAssets = function(t) {
            o.Util.isValid(t) && t.length > 0 && this.game.prodigy.load.assets(t, null);
        }, t;
    }();
    e.LiveUIPreview = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(17), s = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, a, n, "atlas-22", "world-map") || this;
            return r.callback = r.onClickCallback.bind(r), r.updateMapIndicator(), 
            e.broadcaster.addAppListener(o.EHUDEvents.SetClickedWorldMap, r.updateMapIndicator.bind(r), r, "HUD", !1), 
            r;
        }
        return n(e, t), e.prototype.destroy = function() {
            this.game.broadcaster.removeAppListener(o.EHUDEvents.SetClickedWorldMap, this, "HUD"), 
            t.prototype.destroy.call(this);
        }, e.prototype.onClickCallback = function() {
            this.areBreadcrumbsComplete() || (this.game.prodigy.breadcrumbManager.completeBreadcrumb(r.Breadcrumbs.FEATURE_HOUSE_VISITING, r.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON), 
            this.game.prodigy.breadcrumbManager.completeBreadcrumb(r.Breadcrumbs.FEATURE_HOUSE_MOVING, r.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON)), 
            this.updateMapIndicator(), this.game.prodigy.classModeController.isClassMode([ 3 ]) ? this.game.prodigy.open.map(!1, [ "WORLD_DYNO_DIG_OASIS", "WORLD_LAMPLIGHT_TOWN", "WORLD_THE_ACADEMY", "WORLD_YOUR_HOUSE" ]) : this.game.prodigy.open.map();
        }, e.prototype.updateMapIndicator = function() {
            this.showIndicator(!this.areBreadcrumbsComplete());
        }, e.prototype.areBreadcrumbsComplete = function() {
            return this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_HOUSE_VISITING, r.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON) && this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_HOUSE_MOVING, r.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON);
        }, e;
    }(i(28).HUDButton);
    e.WorldMapButton = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n) {
            return t.call(this, e, i, a, n, "atlas-22", "spellbook", e.prodigy.open.character.bind(e.prodigy.open)) || this;
        }
        return n(e, t), e;
    }(i(28).HUDButton);
    e.SpellbookButton = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(17), r = i(120), s = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n, "atlas-22", "social", e.prodigy.open.social.bind(e.prodigy.open, r.ESocialMenuType.SeasonDetails)) || this;
            return o.mailCallback = null, o.process(e.prodigy.mail.getMailCount()), 
            o.mailCallback = o.process.bind(o), e.prodigy.mail.addUpdateCallback(o.mailCallback), 
            o;
        }
        return n(e, t), e.prototype.destroy = function() {
            this.game.prodigy.mail.removeUpdateCallback(this.mailCallback), t.prototype.destroy.call(this);
        }, e.prototype.onDown = function() {
            t.prototype.onDown.call(this), this.game.prodigy.breadcrumbManager.completeBreadcrumb(o.Breadcrumbs.FEATURE_BADGES, o.Breadcrumbs.BREADCRUMB_CLICKED_SOCIAL_BUTTON), 
            this.process(this.game.prodigy.mail.getMailCount());
        }, e.prototype.process = function(t, e) {
            this.showIndicator(t > 0 || !this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(o.Breadcrumbs.FEATURE_BADGES, o.Breadcrumbs.BREADCRUMB_CLICKED_SOCIAL_BUTTON));
        }, e;
    }(i(28).HUDButton);
    e.SocialButton = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n, "atlas-22", "settings", e.prodigy.open.settings.bind(e.prodigy.open)) || this;
            return !e.prodigy.player.hasValidatedParentEmail() && e.prodigy.player.hasCompletedTutorial() && o.showIndicator(!0), 
            o;
        }
        return n(e, t), e;
    }(i(28).HUDButton);
    e.SettingsButton = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n) {
            return t.call(this, e, i, a, n, "atlas-22", "pets", e.prodigy.open.pets.bind(e.prodigy.open)) || this;
        }
        return n(e, t), e;
    }(i(28).HUDButton);
    e.PetsButton = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(3), s = i(17), l = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, a, n, "atlas-22", "move") || this;
            return r.isHouseMovingEnabled = !1, r.callback = r.onClickCallback.bind(r), 
            r.isHouseMovingEnabled = o.GameConstants.get("GameConstants.Features.ENABLE_HOUSE_MOVING"), 
            r.showIndicator(r.isHouseMovingEnabled && e.prodigy.player.hasCompletedTutorial() && !e.prodigy.breadcrumbManager.isBreadcrumbComplete(s.Breadcrumbs.FEATURE_HOUSE_MOVING, s.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_MOVE_BUTTON)), 
            r;
        }
        return n(e, t), e.prototype.onClickCallback = function() {
            this.isHouseMovingEnabled ? (this.game.prodigy.breadcrumbManager.completeBreadcrumb(s.Breadcrumbs.FEATURE_HOUSE_MOVING, s.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_MOVE_BUTTON), 
            this.showIndicator(!1), this.game.broadcaster.broadcast(r.EHUDEvents.SetClickedWorldMap, "HUD", []), 
            this.game.prodigy.world.getZone("house").openHouseStore()) : this.game.prodigy.open.message(this.game.prodigy.gameContainer.Localizer.getText("COMING_SOON_MESSAGE"));
        }, e;
    }(i(28).HUDButton);
    e.MoveHouseButton = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(18), r = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n, "atlas-22", "membership") || this;
            return o.callback = o.onClickCallback.bind(o), o;
        }
        return n(e, t), e.prototype.onClickCallback = function() {
            this.game.prodigy.network.sendConversionFunnelEvent(o.EFunnelEventIDs.FunnelClickHUDButton, o.EFunnelEventIDs.StageClickButton), 
            this.game.prodigy.open.membershipInfo(null, {
                conversionFunnelName: o.EFunnelEventIDs.FunnelClickHUDButton
            });
        }, e;
    }(i(28).HUDButton);
    e.MemberIconButton = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(195), s = i(0), l = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, a, n, "atlas-22", "mail", e.prodigy.open.mailer.bind(e.prodigy.open)) || this;
            return r.game.broadcaster.addAppListener(o.EMailerEvents.GetTotalMailFailure, r.showIndicator.bind(r, !1), r, "ProdigyMailer"), 
            r.game.broadcaster.addAppListener(o.EMailerEvents.UpdateMailCounters, r.process.bind(r), r, "ProdigyMailerButton"), 
            s.Util.isValid(e.prodigy.mailNetworkHandler) && s.Util.isValid(e.prodigy.mailNetworkHandler.totalMail) && r.process(e.prodigy.mailNetworkHandler.totalMail), 
            r;
        }
        return n(e, t), e.prototype.destroy = function() {
            this.game.broadcaster.removeAppListener(o.EMailerEvents.GetTotalMailFailure, this, "ProdigyMailer"), 
            this.game.broadcaster.removeAppListener(o.EMailerEvents.UpdateMailCounters, this, "ProdigyMailerButton"), 
            t.prototype.destroy.call(this);
        }, e.prototype.process = function(t) {
            var e = new r.MailerSplitTests(this.game), i = t.totalUnread;
            if (s.Util.isValid(t.splitTestKeys)) for (var a = 0; a < t.splitTestKeys.length; a++) e.isInSplitTest(t.splitTestKeys[a]) || i--;
            this.showIndicator(i > 0);
        }, e;
    }(i(28).HUDButton);
    e.MailerButton = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(17), s = i(0), l = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n, "atlas-22", "visiting-locked") || this;
            return o.callback = o.onLockButtonClick.bind(o), o.showIndicator(e.prodigy.player.hasCompletedTutorial() && !o.game.prodigy.breadcrumbManager.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_HOUSE_VISITING, r.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON)), 
            o.setAllowsVisiting(o.getAllowsVisiting()), o;
        }
        return n(e, t), e.prototype.onLockButtonClick = function() {
            this.game.prodigy.player.hasCompletedTutorial() && !this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_HOUSE_VISITING, r.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON) && (this.showIndicator(!1), 
            this.game.prodigy.breadcrumbManager.completeBreadcrumb(r.Breadcrumbs.FEATURE_HOUSE_VISITING, r.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON), 
            this.game.broadcaster.broadcast(o.EHUDEvents.SetClickedWorldMap, "HUD", []));
            var t = !this.getAllowsVisiting(), e = this.game.prodigy.gameContainer.Localizer.getText(t ? "HOUSE_VISITING_UNLOCKED" : "HOUSE_VISITING_LOCKED");
            this.game.prodigy.open.message(e, null, null, null), this.game.prodigy.network.sendAnalytics("Click-House-Lock-Toggle", t ? "Visiting-Enabled" : "Visiting-Disabled"), 
            this.setAllowsVisiting(t);
        }, e.prototype.getAllowsVisiting = function() {
            return s.Util.isValid(this.game.prodigy.player) && this.game.prodigy.player.getAllowsHouseVisitors();
        }, e.prototype.setAllowsVisiting = function(t) {
            s.Util.isValid(this.game.prodigy.player) && this.game.prodigy.player.setAllowsHouseVisitors(t), 
            this.sprite.frameName = t ? "visiting-unlocked" : "visiting-locked";
        }, e;
    }(i(28).HUDButton);
    e.LockHouseButton = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, a, n, "atlas-22", "friendsList", e.prodigy.open.friendsList.bind(e.prodigy.open, null)) || this;
            return e.broadcaster.addAppListener(o.EFriendsListEvents.GetTotalFriendRequests, r.process.bind(r), r, "HUD", !1), 
            e.broadcaster.addAppListener(o.EFriendsListEvents.RequestReceived, r.process.bind(r), r, "HUD", !1), 
            e.broadcaster.addAppListener(o.EFriendsListEvents.RequestRejected, r.process.bind(r), r, "HUD", !1), 
            e.broadcaster.addAppListener(o.EFriendsListEvents.RequestAccepted, r.process.bind(r), r, "HUD", !1), 
            e.broadcaster.addAppListener(o.EFriendsListEvents.RequestCancelled, r.process.bind(r), r, "HUD", !1), 
            r;
        }
        return n(e, t), e.prototype.destroy = function() {
            this.game.broadcaster.removeAppListener(o.EFriendsListEvents.GetTotalFriendRequests, this, "HUD"), 
            this.game.broadcaster.removeAppListener(o.EFriendsListEvents.RequestReceived, this, "HUD"), 
            this.game.broadcaster.removeAppListener(o.EFriendsListEvents.RequestRejected, this, "HUD"), 
            this.game.broadcaster.removeAppListener(o.EFriendsListEvents.RequestAccepted, this, "HUD"), 
            this.game.broadcaster.removeAppListener(o.EFriendsListEvents.RequestCancelled, this, "HUD"), 
            t.prototype.destroy.call(this);
        }, e.prototype.process = function(t) {
            this.showIndicator(t > 0);
        }, e;
    }(i(28).HUDButton);
    e.FriendsListButton = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n) {
            return t.call(this, e, i, a, n, "atlas-22", "feed", e.prodigy.open.socialFeed.bind(e.prodigy.open)) || this;
        }
        return n(e, t), e;
    }(i(28).HUDButton);
    e.FeedButton = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n, "atlas-22", "edit") || this;
            return o.callback = o.broadcastEvent.bind(o), o;
        }
        return n(e, t), e.prototype.broadcastEvent = function() {
            this.game.broadcaster.broadcast(o.EHouseEvents.OpenEditor);
        }, e;
    }(i(28).HUDButton);
    e.EditHouseButton = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(17), s = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, a, n, "atlas-22", "chat") || this;
            return r.callback = r.openChat.bind(r), r.game.broadcaster.addAppListener(o.EHUDEvents.HideChatNotif, r.process.bind(r), r, "chatButton"), 
            r.process(), r;
        }
        return n(e, t), e.prototype.destroy = function() {
            this.game.broadcaster.removeAppListener(o.EHUDEvents.HideChatNotif, this, "chatButton"), 
            t.prototype.destroy.call(this);
        }, e.prototype.openChat = function() {
            this.game.broadcaster.broadcast(o.EHUDEvents.OpenChat, "HUD", []), this.game.prodigy.open.chat(this.game.broadcaster.broadcast.bind(this.game.broadcaster, o.EHUDEvents.CloseChat, "HUD"));
        }, e.prototype.process = function() {
            this.showIndicator(!this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(r.Breadcrumbs.BREADCRUMB_CLICKED_DAB, r.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DAB_BUTTON));
        }, e;
    }(i(28).HUDButton);
    e.ChatButton = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(17), s = function(t) {
        function e(e, i, a, n) {
            var s = t.call(this, e, i, a, n, "atlas-22", "items", e.prodigy.open.backpack.bind(e.prodigy.open)) || this;
            return e.prodigy.player.backpack.hasItem("mount", 1) > 0 && !e.prodigy.breadcrumbManager.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_CLOUD_MOUNT, r.Breadcrumbs.BREADCRUMB_CLOUD_MOUNT_TOGGLED) && (s.showIndicator(!0), 
            e.broadcaster.addAppListener(o.EUIEvents.MountTogglePressed, s.mountToggled.bind(s), s, "mount")), 
            s;
        }
        return n(e, t), e.prototype.destroy = function() {
            this.game.broadcaster.removeAppListener(o.EUIEvents.MountTogglePressed, this, "mount"), 
            t.prototype.destroy.call(this);
        }, e.prototype.mountToggled = function() {
            this.game.broadcaster.removeAppListener(o.EUIEvents.MountTogglePressed, this, "mount"), 
            this.showIndicator(!1);
        }, e;
    }(i(28).HUDButton);
    e.BackpackButton = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(0), o = i(496), r = i(495), s = i(494), l = i(493), h = i(492), c = i(491), p = i(490), u = i(489), d = i(488), g = i(487), y = i(486), f = i(485), m = i(484), _ = i(483), v = function() {
        function t(t) {
            this.game = t, this.resetConfig();
        }
        return t.prototype.resetConfig = function() {
            this.pages = [];
        }, t.prototype.addPage = function(t) {
            n.Util.isValid(this.pages[t]) || this.pages.push([]);
        }, t.prototype.addMenu = function(t, e) {
            n.Util.isValid(this.pages[t][e]) || this.pages[t].push([]);
        }, t.prototype.addDefaultConfig = function() {
            this.addPage(0), this.addMenu(0, 0), this.addMemberIcon(0, 0), this.addBackpack(0, 0), 
            this.addSpellbook(0, 0), this.addPet(0, 0), this.addMap(0, 0), this.addEvent(0, 0), 
            this.addSocial(0, 0), this.addSettings(0, 0), this.addChat(0, 0), this.addFeedIcon(0, 0), 
            this.addFriendsList(0, 0), this.addMailer(0, 0);
        }, t.prototype.addHouseConfig = function(t) {
            this.addMenu(t, 1), this.addMoveHouse(t, 1), this.addEditHouse(t, 1), 
            this.addLockHouse(t, 1);
        }, t.prototype.addMoveHouse = function(t, e) {
            this.pages[t][e].push({
                type: d.MoveHouseButton
            });
        }, t.prototype.addEditHouse = function(t, e) {
            this.pages[t][e].push({
                type: s.EditHouseButton
            });
        }, t.prototype.addLockHouse = function(t, e) {
            this.pages[t][e].push({
                type: c.LockHouseButton
            });
        }, t.prototype.addMailer = function(t, e) {
            this.pages[t][e].push({
                type: p.MailerButton
            });
        }, t.prototype.addSpellbook = function(t, e) {
            this.pages[t][e].push({
                type: m.SpellbookButton
            });
        }, t.prototype.addBackpack = function(t, e) {
            (this.game.prodigy.player.getGold() > 0 || this.game.prodigy.player.backpack.getTotalUnique() > 0) && this.pages[t][e].push({
                type: o.BackpackButton
            });
        }, t.prototype.addPet = function(t, e) {
            this.game.prodigy.player.kennel.getPets().length > 0 && this.pages[t][e].push({
                type: g.PetsButton
            });
        }, t.prototype.addSocial = function(t, e) {
            this.game.prodigy.player.hasCompletedTutorial() && this.pages[t][e].push({
                type: f.SocialButton
            });
        }, t.prototype.addFriendsList = function(t, e) {
            this.pages[t][e].push({
                type: h.FriendsListButton
            });
        }, t.prototype.addMap = function(t, e) {
            (this.game.prodigy.player.hasCompletedTutorial() || a.GameConstants.get("GameConstants.Debug.ENABLE_MAP")) && this.pages[t][e].push({
                type: _.WorldMapButton
            });
        }, t.prototype.addEvent = function(t, e) {
            for (var i = this.game.prodigy.skin.getButtons(), a = 0; a < i.length; a++) this.pages[t][e].push(i[a]);
        }, t.prototype.addChat = function(t, e) {
            this.pages[t][e].push({
                type: r.ChatButton
            });
        }, t.prototype.addSettings = function(t, e) {
            this.pages[t][e].push({
                type: y.SettingsButton
            });
        }, t.prototype.addMemberIcon = function(t, e) {
            this.pages[t][e].push({
                type: u.MemberIconButton
            });
        }, t.prototype.addFeedIcon = function(t, e) {
            this.game.prodigy.player.hasCompletedTutorial() && this.pages[t][e].push({
                type: l.FeedButton
            });
        }, t;
    }();
    e.MenuModel = v;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(3), s = i(0), l = i(497), h = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            return a.ID = 1, a.page = 0, a.isHouse = !1, a.model = new l.MenuModel(e), 
            a.menus = [], a.onDestroy.add(a.cleanup.bind(a)), a.game.broadcaster.addAppListener(r.EHUDEvents.OpenChat, a.show.bind(a, !1), a, "HUD", !1), 
            a.game.broadcaster.addAppListener(r.EHUDEvents.CloseChat, a.show.bind(a, !0), a, "HUD", !1), 
            a.game.broadcaster.addAppListener(r.EGiftBoxEvents.UpdateConjureCubeCount, a.addConjureCubeButton.bind(a), a, "HUD", !1), 
            a.open(0, a.isHouse), a;
        }
        return n(e, t), e.prototype.open = function(t, e) {
            this.removeAll(!0), this.model.resetConfig(), this.model.addDefaultConfig(), 
            this.addConjureCubeButton(), this.isHouse = e, e && this.model.addHouseConfig(t), 
            this.menus = [];
            for (var i = this.model.pages[t], a = 0; a < i.length; a++) this.menus.push(this.createMenu(i[a]));
            this.centreMenus();
        }, e.prototype.addConjureCubeButton = function() {
            this.game.prodigy.player.hasCompletedTutorial() && this.game.prodigy.giftBoxController.hasConjureCubes() && (s.Util.isValid(this.conjureCubeButton) && this.conjureCubeButton.destroy(!0), 
            this.conjureCubeButton = this.game.prodigy.create.conjureCubeButton(this, this.game.width - 150, 50), 
            this.game.prodigy.player.isPlayerTransformed() && (this.conjureCubeButton.visible = !1));
        }, e.prototype.createMenu = function(t) {
            var e = this.game.prodigy.create.element(this, 0, 0);
            e.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "HUD-end"));
            for (var i = 30, a = 0; a < t.length; a++) e.add(this.game.prodigy.create.sprite(i, 0, "atlas-18", "HUD-mid")), 
            i += 62;
            e.add(this.game.prodigy.create.sprite(i + 30, 0, "atlas-18", "HUD-end")).scale.x = -1, 
            i = 33;
            var n = [];
            for (a = 0; a < t.length; a++) {
                var o = t[a], r = {
                    buttonSprite: o.type ? this.game.prodigy.create.hudButton(o.type, e, i, 14) : s.Util.isValid(o.frameName) ? this.game.prodigy.create.button(e, i, 14, o.key, o.frameName, o.callback) : null,
                    exclamationSprite: null
                };
                i += 62, n.push(r);
            }
            return {
                bar: e,
                buttons: n
            };
        }, e.prototype.centreMenus = function() {
            for (var t = 0, e = 0; e < this.menus.length; e++) s.Util.isValid(this.menus[e].bar) && (t += this.menus[e].bar.width);
            t += 10 * (this.menus.length - 1);
            var i = Math.floor(.5 * (1280 - t));
            for (e = 0; e < this.menus.length; e++) s.Util.isValid(this.menus[e].bar) && (this.menus[e].bar.x = i + 50 * e, 
            this.menus[e].bar.y = 638, i += this.menus[e].bar.width + 10);
        }, e.prototype.show = function(t) {
            this.visible = t;
        }, e.prototype.cleanup = function() {
            this.game.broadcaster.removeAppListener(r.EHouseEvents.ClickedHouseIcon, this, "UI"), 
            this.game.broadcaster.removeAppListener(r.EHUDEvents.OpenChat, this, "HUD"), 
            this.game.broadcaster.removeAppListener(r.EHUDEvents.CloseChat, this, "HUD");
        }, e;
    }(o.Element);
    e.Menu = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(14), s = i(4), l = i(13), h = i(29), c = i(0), p = function(t) {
        function e(e, i, a, n, r, p, u, d, g) {
            var y = t.call(this, e, i, {
                name: "",
                npc: !1
            }, null, a, n) || this;
            y.ID = u, y.user = r, y.path = p, c.Util.isValid(d.range) || (d.range = 4e4 * o.GameConstants.get("GameConstants.Debug.SCALE_ENCOUNTER_DISTANCE")), 
            y.mods = d;
            var f = new l.Player(y.game), m = y.game.prodigy.player.getLevel();
            y.mods.opponent = y.mods.opponent || [ {
                data: {
                    level: h.Random.integerInRange(Math.max(1, m - 2), Math.min(m + 2, 100))
                },
                appearance: f.appearance.data,
                equipment: f.equipment.data
            } ];
            for (var _ = [], v = Math.min(4, y.game.prodigy.player.kennel.getTeam().length - 2 + 3 * Math.random()), E = 0; E < v; E++) {
                var b = {
                    level: h.Random.integerInRange(Math.max(1, m - 2), Math.min(m + 2, 100)),
                    ID: 0
                };
                b.ID = s.Items.getRandomItem("pet").ID, _.push(b);
            }
            if (y.mods.pets = y.mods.pets || _, y.mods.catch = !1, y.mods.run = !1, 
            y.sprite = y.sprites.add(y.game.prodigy.create.sprite(0, 0, "atlas-91")), 
            y.sprite.animations.add("walk", [ "npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7" ], 10, !0, !1), 
            y.sprite.animations.add("stand", [ "npc_8", "npc_9", "npc_10", "npc_11", "npc_12", "npc_13", "npc_14", "npc_15" ], 10, !0, !1), 
            y.sprite.animations.play("stand"), y.sprite.anchor.setTo(.5, 1), y.visible = !1, 
            o.GameConstants.get("GameConstants.Debug.MONSTER_RADIUS_VISIBLE")) {
                var O = e.add.graphics(0, 0);
                O.beginFill(16711680, .5), O.drawCircle(a, n, 2 * Math.sqrt(d.range)), 
                g.above.add(O);
            }
            return y;
        }
        return n(e, t), e.prototype.process = function(t) {
            this.zone = t;
            var e = t.getState(this.ID);
            this.visible = !(c.Util.isValid(e) && 0 !== e) && o.GameConstants.get("GameConstants.Debug.WIZARDS_ENABLED");
        }, e.prototype.update = function() {
            t.prototype.update.call(this), this.visible && !this.started && !this.user.evtProc && Phaser.Math.distanceSq(this.x, this.y, this.user.x, this.user.y) < this.mods.range && !this.path.isPathBlocked(this.x, this.y, this.user.x, this.user.y) && this.alert();
        }, e.prototype.alert = function() {
            this.started = !0, this.highlight(!1), this.game.prodigy.audio.pauseBGM(), 
            this.game.prodigy.audio.playSFX(19, "monster"), this.user.evtProc = !0, 
            this.chat(1, 80), this.user.setPath([]), this.user.x = Math.floor(this.user.x), 
            this.user.y = Math.floor(this.user.y), this.game.input.enabled = !1, 
            this.hop(300, this.engage.bind(this));
        }, e.prototype.engage = function() {
            this.setPath([ {
                x: this.user.x,
                y: this.user.y
            } ], this.startBattle.bind(this));
        }, e.prototype.startBattle = function() {
            var t = this;
            this.game.input.enabled = !0, this.mods.scale = !0;
            var e = this.game;
            this.game.prodigy.battle.start(this.mods, function() {
                e.prodigy.world.teleport(t.mods.onEnd, t.x, t.y);
            }, function() {
                e.prodigy.world.teleport(t.mods.onEnd, t.x, t.y), t.zone.setState(t.ID, 1);
            }, null, this.mods.onFaint);
        }, e;
    }(r.CreatureContainer);
    e.WizardEvent = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(79), r = i(5), s = i(0), l = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 440, 5) || this;
            return n.user = null, n.banner = null, n.icon = null, n.state = null, 
            n.text = null, n.user = a, n.banner = n.game.prodigy.create.panel(n, 0, 0, 10, 2, "banner"), 
            n.banner.visible = !1, n.icon = n.add(n.game.prodigy.create.sprite(50, 5, "atlas-21", "quest")), 
            n.state = n.add(n.game.prodigy.create.sprite(50, 5, "atlas-21", "quest")), 
            n.icon.visible = !1, n.state.visible = !1, n.arrow = n.add(n.game.prodigy.create.sprite(175, 0, "atlas-21", "up")), 
            n.arrow.visible = !1, n;
        }
        return n(e, t), e.prototype.process = function(t, e) {
            var i = this, a = this.game.prodigy.gameContainer.Localizer;
            this.visible = !1;
            var n = null;
            if (s.Util.isValid(this.text) && (n = this.text.text, this.text.destroy()), 
            this.state.frameName = "quest", this.icon.loadNewTexture("atlas-21", "quest"), 
            this.state.visible = this.icon.visible = !0, s.Util.isValid(t.getState("dailyQuest"))) {
                if (t.hasDailyQuestExpired() || t.isDailyQuestComplete() && t.getState("handedOverQuest")) return;
                var r = t.getDailyQuestDescription(0);
                if (t.isDailyQuestComplete()) this.icon.destroy(), this.icon = this.add(this.game.prodigy.create.sprite(50, 5, "atlas-21", "quest-complete")), 
                this.icon.x = 350 - this.icon.width, this.state.frameName = "quest-complete", 
                this.text = this.game.prodigy.create.font(this, 98, 24, a.getText("QUEST_JOB_COMPLETE"), {
                    align: "center",
                    width: 204,
                    size: 20
                }); else if ("pet" === r.type) {
                    this.icon.destroy();
                    this.icon = this.add(this.game.prodigy.icon.createFromData(r, 300, 5, null, function(t) {
                        t.x = 350 - t.width, t.onTextureLoaded = null;
                    }.bind(this))), this.state.visible = !1, this.text = this.game.prodigy.create.font(this, 50, 24, a.getText("QUEST_PROGRESS_DEFEAT_MORE", r.N), {
                        size: 20
                    });
                }
                this.banner.visible = !0, this.visible = !0;
            }
            var l = t.getQuestState();
            if (s.Util.isValid(l) && s.Util.isValid(l.req)) {
                var h = t.getQuest(l.ID);
                if (s.Util.isValid(h)) {
                    if (t.isQuestComplete(l.ID)) {
                        if (this.icon.destroy(), this.icon = this.add(this.game.prodigy.create.sprite(50, 5, "atlas-21", "quest-complete")), 
                        this.state.frameName = "quest-complete", this.text = this.game.prodigy.create.font(this, 98, 24, a.getText("QUEST_JOB_COMPLETE"), {
                            align: "center",
                            width: 204,
                            size: 20
                        }), !h.chain && !t.isQuestProcessed(l.ID) && !e.isQuestHub) {
                            t.processQuest(l.ID);
                            var c = this.game.prodigy.event.create();
                            if (c.set(this.user, "evtProc", !0), s.Util.isValid(h.onProc) && h.onProc.length > 0) for (var p = 0; p < h.onProc.length; p++) h.onProc[p] >= 0 && c.text(h.onProc[p], "noot"); else c.text(41, "noot");
                            c.set(this.user, "evtProc", !1), c.start();
                        }
                    } else if (s.Util.isValid(h.area) && !s.Util.inArray(h.area, this.game.prodigy.player.data.zone)) this.text = this.game.prodigy.create.font(this, 98, 24, a.getText("QUEST_FOLLOW_PATH"), {
                        align: "center",
                        width: 204,
                        size: 20
                    }); else {
                        r = l.req;
                        s.Util.isValid(h.descKey) && o(h.descKey) > 0 ? this.text = this.game.prodigy.create.font(this, 98, 24, a.getText(h.descKey), {
                            align: "center",
                            width: 204,
                            size: 20
                        }) : s.Util.inArray([ "item", "weapon", "hat", "outfit", "boots", "key" ], r.type) ? (this.remove(this.icon), 
                        this.icon = this.add(this.game.prodigy.icon.createFromData(r, 50, 5, null, function(t) {
                            i.icon.x = 350 - t.width;
                        })), this.state.visible = !1, this.text = this.game.prodigy.create.font(this, 50, 24, a.getText("QUEST_PROGRESS_COLLECT_MORE", Math.max(0, r.N - this.game.prodigy.player.backpack.hasItem(r.type, r.ID))), {
                            size: 20
                        })) : "pet" === r.type ? (this.remove(this.icon), this.icon = this.add(this.game.prodigy.icon.createFromData(r, 50, 5, null, function(t) {
                            i.icon.x = 350 - t.width;
                        })), this.state.visible = !1, this.text = this.game.prodigy.create.font(this, 50, 24, a.getText("QUEST_PROGRESS_DEFEAT_MORE", r.N), {
                            size: 20
                        })) : "clear" === r.type && (this.state.visible = !1, this.text = this.game.prodigy.create.font(this, 50, 24, a.getText("QUEST_CLEAR", r.T), {
                            size: 20
                        }));
                    }
                    if (this.banner.visible = !0, this.icon.x = 350 - this.icon.width, 
                    s.Util.isValid(this.text) && n !== this.text.text && s.Util.isValid(n)) this.arrow.visible = !0, 
                    this.arrow.y = 50, this.arrow.alpha = 1, this.game.add.tween(this.arrow).to({
                        y: 30,
                        alpha: 0
                    }, 1e3, Phaser.Easing.Linear.None).start().onComplete.add(function() {
                        i.arrow.visible = !1;
                    }, this);
                    this.visible = !0;
                }
            }
        }, e;
    }(r.Element);
    e.QuestProgressEvent = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.tween = [], e;
        }
        return n(e, t), e.prototype.setup = function(t, e, i) {
            this.npc = this.add(this.game.prodigy.create.element(this, 0, 0)), this.game.prodigy.create.nameFont(this, 10, -110, this.game.prodigy.gameContainer.Localizer.getText("NPC_NAME_FLORA")), 
            this.y += 90, this.x -= 50, this.particles = [];
            for (var a = 0; a < 4; a++) this.particles.push(this.npc.add(this.game.prodigy.create.sprite(-35, -84, "atlas-70", "particle-1")));
            var n = this.npc.add(this.game.prodigy.create.sprite(-35, -84, "atlas-70", "head-1")), r = this.npc.add(this.game.prodigy.create.sprite(-6, -39, "atlas-70", "back-wing-1")), s = this.npc.add(this.game.prodigy.create.sprite(-12, -22, "atlas-70", "front-wing-1")), l = this.npc.add(this.game.prodigy.create.sprite(-19, -35, "atlas-70", "body"));
            l.inputEnabled = !0, l.events.onInputDown.add(this.process.bind(this, t, null, !0), this), 
            n.inputEnabled = !0, n.events.onInputDown.add(this.process.bind(this, t, null, !0), this), 
            r.inputEnabled = !0, r.events.onInputDown.add(this.process.bind(this, t, null, !0), this), 
            s.inputEnabled = !0, s.events.onInputDown.add(this.process.bind(this, t, null, !0), this), 
            this.particlesTween = [];
            for (var h = 0; h < this.particles.length; h++) this.particlesTween.push(new o.TweenController(this.particles[h])), 
            this.particlesTween[h].set("frameName", [ "particle-1", "particle-2" ], 200, 9999), 
            this.particlesTween[h].end(this.randomizePos.bind(this, this.particles[h])), 
            this.particlesTween[h].start();
            i && (this.npc.scale.x = -1);
            var c = -35, p = -84, u = -84, d = -19, g = -35, y = -6, f = -39, m = -6, _ = -39, v = -6, E = -35, b = -7, O = -25, T = -28, A = -27, I = -26, w = -28, C = -12, S = -22, P = -9, D = -29, L = -6, x = -31;
            this.tween = [], this.tween.push(new o.TweenController(n)), this.tween[0].set("frameName", [ "head-1", "head-1", "head-1", "head-1", "head-1", "head-2", "head-2", "head-1" ], 150, 9999), 
            this.tween.push(new o.TweenController(n)), this.tween[1].set("x", [ c ], 150, 9999), 
            this.tween.push(new o.TweenController(n)), this.tween[2].set("y", [ p, p + 1, p + 2, p + 2, p - 1, u - 2, u - 2, p - 1 ], 100, 9999), 
            this.tween.push(new o.TweenController(l)), this.tween[3].set("x", [ d ], 150, 9999), 
            this.tween.push(new o.TweenController(l)), this.tween[4].set("y", [ g, g + 1, g + 2, g + 2, g, g - 1, g - 1, g ], 100, 9999), 
            this.tween.push(new o.TweenController(r)), this.tween[5].set("frameName", [ "back-wing-1", "back-wing-2", "back-wing-2", "back-wing-1", "back-wing-3", "back-wing-4", "back-wing-5", "back-wing-6" ], 100, 9999), 
            this.tween.push(new o.TweenController(r)), this.tween[6].set("x", [ y, m, m, y, v, b, T, I ], 100, 9999), 
            this.tween.push(new o.TweenController(r)), this.tween[7].set("y", [ f, _, _ + 1, f + 2, E, O, A, w ], 100, 9999), 
            this.tween.push(new o.TweenController(s)), this.tween[8].set("frameName", [ "fake-pixel", "fake-pixel", "fake-pixel", "fake-pixel", "fake-pixel", "fake-pixel", "front-wing-1", "front-wing-2" ], 100, 9999), 
            this.tween.push(new o.TweenController(s)), this.tween[9].set("x", [ C, C, C, C, C, C, P, L ], 100, 9999), 
            this.tween.push(new o.TweenController(s)), this.tween[10].set("y", [ S, S + 1, S + 2, S + 2, S, S - 1, D, x ], 100, 9999);
            for (a = 0; a < this.tween.length; a++) this.tween[a].start();
        }, e.prototype.randomizePos = function(t) {
            t.x = Math.floor(35 * Math.random()) - 15, t.y = Math.floor(30 * Math.random()) - 35;
        }, e.prototype.update = function() {
            for (var t = 0; t < this.tween.length; t++) this.tween[t].update();
            for (var e = 0; e < this.particlesTween.length; e++) this.particlesTween[e].update(), 
            this.particles[e].y += .7;
        }, e;
    }(i(90).QuestEvent);
    e.FloraEvent = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = i(0), s = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.tweens = [], e.idleCounter = 0, e;
        }
        return n(e, t), e.prototype.setup = function(t, e, i) {
            this.npc = this.add(this.game.prodigy.create.element(this, 0, 0));
            var a = this.npc.add(this.game.prodigy.create.sprite(-13, -9, "atlas-137", "eve-head-1"));
            a.anchor.setTo(.5, 1);
            var n = this.npc.add(this.game.prodigy.create.sprite(0, 0, "atlas-137", "eve-body"));
            n.anchor.setTo(.5, 1);
            var r = this.npc.add(this.game.prodigy.create.sprite(-2, -47, "atlas-137", "eve-face-1"));
            r.anchor.setTo(.5, 1), a.inputEnabled = !0, a.events.onInputDown.add(this.process.bind(this, t, null, !0), this), 
            n.inputEnabled = !0, n.events.onInputDown.add(this.process.bind(this, t, null, !0), this), 
            r.inputEnabled = !0, r.events.onInputDown.add(this.process.bind(this, t, null, !0), this), 
            i && (this.npc.scale.x = -1), this.standTween1 = [], this.standTween1.push(new o.TweenController(a)), 
            this.standTween1[0].set("y", [ a.y ], 150, 9999), this.standTween1.push(new o.TweenController(r)), 
            this.standTween1[1].set("y", [ r.y ], 150, 9999), this.standTween1.push(new o.TweenController(a)), 
            this.standTween1[2].set("frameName", [ "eve-head-1" ], 150, 9999), this.standTween1.push(new o.TweenController(r)), 
            this.standTween1[3].set("frameName", [ "eve-face-1" ], 150, 9999), this.standTween1[3].end(this.updateIdleCounter.bind(this)), 
            this.standTween2 = [], this.standTween2.push(new o.TweenController(r)), 
            this.standTween2[0].set("frameName", [ "eve-face-1", "eve-face-2", "eve-face-3", "eve-face-3", "eve-face-2", "eve-face-1" ], 150, 9999), 
            this.standTween2.push(new o.TweenController(a)), this.standTween2[1].set("frameName", [ "eve-head-1", "eve-head-2", "eve-head-1", "eve-head-1", "eve-head-1", "eve-head-1" ], 150, 9999), 
            this.standTween2.push(new o.TweenController(r)), this.standTween2[2].set("y", [ r.y, r.y + 1, r.y + 1, r.y + 1, r.y, r.y ], 150, 9999), 
            this.standTween2.push(new o.TweenController(a)), this.standTween2[3].set("y", [ a.y, a.y + 1, a.y + 1, a.y + 1, a.y, a.y ], 150, 9999), 
            this.standTween2[3].end(this.resetToDefaultIdle.bind(this)), this.tweens = this.standTween1, 
            this.game.prodigy.create.nameFont(this, -7, -160, this.game.prodigy.gameContainer.Localizer.getText("NPC_NAME_EVE")), 
            this.stand();
        }, e.prototype.process = function(t, e, i) {
            var a;
            if (this.game.prodigy.user.faceToward(this.x), this.flip(this.x > this.game.prodigy.user.x), 
            !r.Util.isValid(t.getQuestState())) return t.getQuest(1).questGiver === this.npcTag && (t.startQuest(1), 
            (a = this.queueEventText(t, "onStart", 1)).function(this.updateCallback), 
            a.start()), null;
            var n = t.getQuestState().ID, o = t.getQuest(n), s = r.Util.isValid(o) && r.Util.isValid(o.questGiver) ? o.questGiver : this.npcTag, l = r.Util.isValid(o) && r.Util.isValid(o.questReceiver) ? o.questReceiver : this.npcTag;
            t.isQuestComplete(n) && !o.chain ? l === this.npcTag ? ((a = this.queueEventText(t, "onComplete", n)).enableSave(!1), 
            r.Util.isValid(o.reward) && a.reward(o.reward, "advanced-quest-event-reward"), 
            a.function(t.completeQuest.bind(t, n)), a.enableSave(!0), a.function(this.updateCallback), 
            a.start()) : s === this.npcTag && ((a = this.queueEventText(t, "onStart", n)).function(this.updateCallback), 
            a.start()) : !t.isQuestStarted(n) && r.Util.isValid(o) && s === this.npcTag ? ((a = this.queueEventText(t, "onStart", n)).function(t.startQuest.bind(t, n)), 
            a.function(this.updateCallback), a.start()) : i && r.Util.isValid(o) ? this.queueEventText(t, s === this.npcTag ? "onStart" : "alternateOnStart", n).start() : i && this.onComplete();
        }, e.prototype.update = function() {
            t.prototype.update.call(this);
            for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update();
        }, e.prototype.walk = function() {
            this.stand();
        }, e.prototype.stand = function() {
            for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start();
        }, e.prototype.updateIdleCounter = function() {
            this.idleCounter++, this.idleCounter > 100 * Math.random() + 10 && (this.tweens = this.standTween2, 
            this.stand(), this.idleCounter = 0);
        }, e.prototype.resetToDefaultIdle = function() {
            this.tweens = this.standTween1, this.stand();
        }, e;
    }(i(90).QuestEvent);
    e.EveEvent = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.setup = function(t, e, i) {
            var a = [], n = this.add(this.game.prodigy.create.sprite(0, -25, "atlas-61", "body_0"));
            n.animations.add("stand", [ "body_0", "body_1", "body_2" ], 5, !0, !1), 
            n.animations.play("stand"), a.push(n);
            var o = this.add(this.game.prodigy.create.sprite(-23, -97, "atlas-61", "head"));
            a.push(o);
            var r = this.add(this.game.prodigy.create.sprite(-23, -97, "atlas-61", "eyes_0"));
            a.push(r);
            var s = this.add(this.game.prodigy.create.sprite(-23, -97, "atlas-61", "pupils"));
            a.push(s);
            var l = this.add(this.game.prodigy.create.sprite(-23, -97, "atlas-61", "pigtails_0"));
            l.animations.add("stand", [ "pigtails_0", "pigtails_1", "pigtails_2" ], 5, !0, !1), 
            l.animations.play("stand"), a.push(l), this.game.add.tween(o).to({
                y: "+2"
            }, 400, Phaser.Easing.Linear.None).to({
                y: o.y
            }, 300, Phaser.Easing.Linear.None).loop().start(), this.game.add.tween(l).to({
                y: "+2"
            }, 400, Phaser.Easing.Linear.None).to({
                y: o.y
            }, 300, Phaser.Easing.Linear.None).loop().start(), this.game.add.tween(r).to({
                y: "+2"
            }, 400, Phaser.Easing.Linear.None).to({
                y: o.y
            }, 300, Phaser.Easing.Linear.None).loop().start(), this.game.add.tween(s).to({
                y: "+2"
            }, 400, Phaser.Easing.Linear.None).to({
                y: o.y
            }, 300, Phaser.Easing.Linear.None).loop().start();
            for (var h = 0; h < a.length; h++) a[h].inputEnabled = !0, a[h].events.onInputDown.add(this.process.bind(this, t, null, !0), this);
            this.game.prodigy.create.nameFont(this, 20, -117, this.game.prodigy.gameContainer.Localizer.getText("NPC_NAME_BENNI"));
        }, e;
    }(i(90).QuestEvent);
    e.BenniEvent = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(14), r = i(0), s = function(t) {
        function e(e, i, a, n, o, s, l, h, c) {
            var p = t.call(this, e, i, {
                name: l,
                npc: !0,
                nameX: h,
                nameY: c
            }, null, a, n) || this;
            if (p.radish = null, "atlas-87" === o) p.body = p.add(e.prodigy.create.sprite(0, -60, "atlas-87", "body_0")), 
            p.body.animations.add("stand", [ "body_0", "body_1", "body_2" ], 8, !0, !1), 
            p.body.animations.add("idle", [ "stand_0", "stand_1", "stand_2" ], 8, !0, !1), 
            p.body.animations.play("stand"), p.face = p.add(e.prodigy.create.sprite(12, -45, "atlas-87", "face")), 
            p.radish = p.add(e.prodigy.create.sprite(20, -80, "atlas-87", "radish_0")), 
            p.radish.animations.add("stand", [ "radish_0", "radish_1", "radish_2" ], 10, !0, !1), 
            p.faceTween = e.add.tween(p.face).to({
                y: "-1"
            }, 300, Phaser.Easing.Linear.None).to({
                y: p.face.y
            }, 300, Phaser.Easing.Linear.None).delay(100).loop().start(), p.sprites.add(p.radish), 
            p.sprites.add(p.body), p.sprites.add(p.face), r.Util.isValid(s) && (p.body.inputEnabled = !0, 
            p.body.events.onInputDown.add(s)), p.nameText.y -= 100; else {
                p.body = p.add(e.prodigy.create.sprite(-30, -63, "atlas-87", "red_0")), 
                p.body.animations.add("stand", [ "red_0", "red_0", "red_1", "red_1", "red_2", "red_2" ], 10, !0, !1), 
                p.body.animations.play("stand");
                var u = p.add(e.prodigy.create.sprite(-55, -110, "atlas-112", "pot"));
                p.face = p.add(e.prodigy.create.sprite(-18, -45, "atlas-87", "face_red")), 
                e.add.tween(p.face).to({
                    y: "-1"
                }, 300, Phaser.Easing.Linear.None).to({
                    y: p.face.y
                }, 300, Phaser.Easing.Linear.None).delay(100).loop().start(), p.sprites.add(u), 
                p.sprites.add(p.body), p.sprites.add(p.face), p.nameText.y += 50;
            }
            return r.Util.isValid(l) && p.showName(!0), p;
        }
        return n(e, t), e.prototype.idle = function() {
            this.body.animations.play("idle"), this.face.frameName = "stand_face", 
            this.face.x -= 7, this.body.y -= 15, this.faceTween.stop(), this.face.y = -60, 
            this.faceTween = this.game.add.tween(this.face).to({
                y: "-1"
            }, 300, Phaser.Easing.Linear.None).to({
                y: this.face.y
            }, 300, Phaser.Easing.Linear.None).delay(100).loop().start();
        }, e;
    }(o.CreatureContainer);
    e.WorkerSlimeEvent = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(14), r = i(16), s = i(0), l = function(t) {
        function e(e, i, a, n, o, r) {
            var s = t.call(this, e, i, {
                name: r,
                nameX: -10,
                nameY: -150,
                npc: !0
            }, null, a, n) || this;
            return s.tween = null, s;
        }
        return n(e, t), e.prototype.setup = function(t, e) {
            var i = "jelly-idle-", a = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-153", i + "1"));
            a.anchor.setTo(.5, 1), this.sprites.add(a), e && (this.sprites.scale.x = -1), 
            this.tween = new r.TweenController(a), this.tween.set("frameName", [ i + "1", i + "2", i + "3", i + "4", i + "5", i + "6", i + "7", i + "8" ], 150, 9999), 
            this.stand();
        }, e.prototype.update = function() {
            s.Util.isValid(this.tween) && this.tween.update();
        }, e.prototype.walk = function() {
            this.stand();
        }, e.prototype.stand = function() {
            this.tween.start();
        }, e.prototype.flipJim = function(t) {
            this.sprites.scale.x = t ? -1 : 1;
        }, e;
    }(o.CreatureContainer);
    e.JellyJimEvent = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(14), r = i(0), s = function(t) {
        function e(e, i, a, n, o, s, l) {
            var h = t.call(this, e, i, {
                name: l,
                nameX: -5,
                npc: !0
            }, null, a, n) || this, c = h.add(e.prodigy.create.sprite(-20, -75, "atlas-68", "right_arm")), p = h.add(e.prodigy.create.sprite(0, -80, "atlas-68", "body_0"));
            p.animations.add("stand", [ "body_0", "body_1", "body_2", "body_2", "body_2", "body_2", "body_1" ], 5, !0, !1), 
            p.animations.play("stand");
            var u = h.add(e.prodigy.create.sprite(40, -75, "atlas-68", "left_arm_0")), d = h.add(e.prodigy.create.sprite(0, -110, "atlas-68", "head"));
            return h.sprites.add(c), h.sprites.add(p), h.sprites.add(d), h.sprites.add(u), 
            e.add.tween(d).to({
                y: "-1"
            }, 200, Phaser.Easing.Linear.None).to({
                y: "+2"
            }, 500, Phaser.Easing.Linear.None).to({
                y: d.y
            }, 400, Phaser.Easing.Linear.None).loop().start(), e.add.tween(u).to({
                y: "+2"
            }, 800, Phaser.Easing.Linear.None).delay(600).to({
                y: u.y
            }, 800, Phaser.Easing.Linear.None).loop().start(), e.add.tween(c).to({
                y: "+2",
                x: "-1"
            }, 800, Phaser.Easing.Linear.None).delay(600).to({
                y: c.y,
                x: c.x
            }, 800, Phaser.Easing.Linear.None).loop().start(), r.Util.isValid(s) && h.addOnClick(s.bind(h)), 
            h.nameText.y += 17, r.Util.isValid(l) && h.showName(!0), h;
        }
        return n(e, t), e;
    }(o.CreatureContainer);
    e.EugeneEvent = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(14), r = i(0), s = function(t) {
        function e(e, i, a, n, o, s, l) {
            var h = t.call(this, e, i, {
                name: l,
                npc: !0
            }, null, a, n) || this, c = h.add(e.prodigy.create.sprite(0, -60, "atlas-64", "body_0"));
            c.animations.add("stand", [ "body_0", "body_1", "body_2" ], 4, !0, !1), 
            c.animations.play("stand");
            var p = h.add(e.prodigy.create.sprite(9, -108, "atlas-64", "head_0"));
            return p.animations.add("stand", [ "head_0", "head_1", "head_2" ], 5, !0, !1), 
            p.animations.play("stand"), h.sprites.add(c), h.sprites.add(p), e.add.tween(p).to({
                y: "-1"
            }, 100, Phaser.Easing.Linear.None).to({
                y: "+2"
            }, 400, Phaser.Easing.Linear.None).to({
                y: p.y
            }, 300, Phaser.Easing.Linear.None).loop().start(), r.Util.isValid(s) && h.addOnClick(s.bind(h)), 
            h.nameText.y += 20, r.Util.isValid(l) && h.showName(!0), h;
        }
        return n(e, t), e;
    }(o.CreatureContainer);
    e.BroccolinaEvent = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(14), r = i(0), s = function(t) {
        function e(e, i, a, n, o, s, l) {
            var h = t.call(this, e, i, {
                name: l,
                npc: !0
            }, null, a, n) || this;
            return h.sprite = h.sprites.add(e.prodigy.create.sprite(0, 0, o, 0)), 
            h.sprite.anchor.setTo(.5, 1), o.indexOf("monster") > -1 ? (h.sprite.animations.add("walk", [ 0, 1, 2, 3, 4, 5, 6, 7 ], 10, !0, !1), 
            h.sprite.animations.add("stand", [ 8, 9, 10, 11, 12, 13, 14, 15 ], 10, !0, !1)) : h.sprite.animations.add("stand", [ "npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7" ], 10, !0, !1), 
            r.Util.isValid(s) && (h.sprite.inputEnabled = !0, h.sprite.events.onInputDown.add(s)), 
            r.Util.isValid(l) && h.showName(!0), "atlas-88" !== o && "atlas-85" !== o || (h.nameText.y += 40), 
            h;
        }
        return n(e, t), e.prototype.animate = function(t) {
            void 0 === t && (t = "stand"), this.sprite.animations.play(t);
        }, e.prototype.stand = function() {
            this.animate("stand"), this.mode = 1;
        }, e.prototype.walk = function() {
            this.animate("walk"), this.mode = 0;
        }, e;
    }(o.CreatureContainer);
    e.NPCEvent = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(4), r = i(0), s = function(t) {
        function e(e, i, a, n, r, s, l, h, c, p, u, d, g) {
            var y = t.call(this, e, i, a, n, r, s, l, h, c, p, u, d, g) || this, f = o.Items.getItem("pet", y.source.data.ID);
            return y.monsterItemData = f.data, y.monsterAsset = f.metadata.assets.default, 
            y.uiConfig = f.metadata.uiConfig, y;
        }
        return n(e, t), e.prototype.startLoad = function() {
            t.prototype.startLoad.call(this), this.loading = !0, this.assets = [ "spine-" + this.monsterAsset.ID, "spine-25" ], 
            this.game.prodigy.load.assets(this.assets, this.setup.bind(this));
        }, e.prototype.setup = function(t, e) {
            if (e) {
                if (this.sprites.removeAll(!0), this.spine = this.game.add.spine(0, 0, this.assets[0]), 
                this.spine.setToSetupPose(), this.spine.setAnimationByName(0, "idle", !0), 
                this.spine.scale.x = r.Util.isValid(this.monsterAsset.flip) && this.monsterAsset.flip ? -1 : 1, 
                this.sprites.add(this.spine), 1 === this.monsterItemData.member) {
                    var i = this.game.add.spine(this.nameText.x, this.nameText.y + 30, "spine-25");
                    i.setToSetupPose(), i.setAnimationByName(0, "animation", !0), 
                    this.add(i), r.Util.inTestGroups(this.game.prodigy.player, [ 2, 3 ], 1e3, 10) && !this.game.prodigy.player.hasMembership() && (this.clickable = this.game.prodigy.create.sprite(.5 * -this.spine.getBounds().width, -this.spine.getBounds().height, "atlas-18", "empty"), 
                    this.clickable.width = this.spine.getBounds().width, this.clickable.height = this.spine.getBounds().height, 
                    this.clickable.inputEnabled = !0, this.clickable.events.onInputDown.add(this.showMemberPopup.bind(this)), 
                    this.sprites.add(this.clickable));
                }
                this.complete = !0, this.loading = !1, r.Util.isValid(this.loadedCallback) && this.loadedCallback(this);
            }
        }, e.prototype.walk = function() {
            this.spine.setAnimationByName(0, "walk", !0);
        }, e.prototype.checkPlayerInRange = function() {
            1 === this.monsterItemData.member ? this.game.prodigy.player.hasMembership() && t.prototype.checkPlayerInRange.call(this) : t.prototype.checkPlayerInRange.call(this);
        }, e.prototype.engage = function() {
            t.prototype.engage.call(this), 1 === this.monsterItemData.member && this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "Member-Locked-Pets",
                name: "Locked-Pet-Engaged",
                pet: this.source.getName()
            });
        }, e.prototype.showMemberPopup = function() {
            this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "Member-Locked-Pets",
                name: "Locked-Pet-Clicked",
                pet: this.source.getName()
            }), this.game.prodigy.open.membershipInfo(null, null, null, !1, "memberLockedPet").setSpineMonsterConfig(this.uiConfig);
        }, e;
    }(i(95).MonsterEvent);
    e.MonsterSpineEvent = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = function(t) {
        function e(e, i, a, n, o, r, s, l, h, c) {
            var p = t.call(this, e, i, a, n) || this;
            return p.ID = null, p.user = null, p.chestType = null, p.mods = null, 
            p.zoneName = "", p.path = null, p.sprite = null, p.zone = null, p.ID = s, 
            p.user = o, p.chestType = l, p.mods = h, p.zoneName = c, p.sprite = p.add(p.game.prodigy.create.animatedSprite(0, 0, "atlas-110", [ "chest-" + p.chestType + "-1", "chest-" + p.chestType + "-2" ])), 
            p.sprite.inputEnabled = !0, p.sprite.events.onInputDown.add(function() {
                p.clicked();
            }, p), p.sprite.x -= Math.floor(.5 * p.sprite.width), p.sprite.y = -p.sprite.height, 
            p.path = r, p;
        }
        return n(e, t), e.prototype.process = function(t) {
            this.zone = t, this.highlight(!1);
            var e = t.getState(this.ID);
            r.Util.isValid(e) && 0 !== e && (this.sprite.inputEnabled = !1, this.sprite.frameName = "chest-" + this.chestType + "-2");
        }, e.prototype.clicked = function() {
            var t = this;
            this.path.findPath(this.user.x, this.user.y, this.x - 20, this.y + 20, function(e) {
                r.Util.isValid(e) && t.user.setPath(e, function() {
                    t.collect();
                });
            });
        }, e.prototype.collect = function() {
            !this.user.evtProc && Phaser.Math.distance(this.user.x, this.user.y, this.x, this.y) > 50 || (this.game.prodigy.player.saveEnabled = !1, 
            this.sprite.inputEnabled = !1, this.user.evtProc = !0, this.openChest());
        }, e.prototype.openChest = function() {
            var t = this.game.prodigy.event.create();
            t.sound(18, "dig"), t.function(this.user.chat.bind(this.user, 1)), t.delay(1e3), 
            t.enableInput(!0), t.function(this.startMimicBattle.bind(this)), t.start();
        }, e.prototype.startMimicBattle = function() {
            this.game.prodigy.battle.start(this.mods, this.afterBattle.bind(this, this.game, this.zoneName, this.x, this.y, !0), this.afterBattle.bind(this, this.game, this.zoneName, this.x, this.y, !1), null, this.zone.onFaint);
        }, e.prototype.afterBattle = function(t, e, i, a, n) {
            t.prodigy.world.teleport(e, i - 20, a + 20, null, {
                callback: this.zone.setState.bind(this.zone, this.ID, 1)
            });
        }, e;
    }(o.Element);
    e.MimicEvent = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(14), s = i(0), l = function(t) {
        function e(e, i, a, n, o, r, l, h, c, p) {
            var u = t.call(this, e, i, {
                name: l,
                npc: !0,
                nameY: 5 === c ? -135 : null
            }, null, o, r) || this;
            u.sprite = null, u.animWalk = null, u.animStand = null, u.head = null, 
            u.indicator = null, u.nameOffsetX = -5, u.sprite = u.sprites.add(u.game.prodigy.create.sprite(0, 0, "atlas-71", "npc_0")), 
            u.sprite.x -= Math.floor(u.sprite.width / 2), u.sprite.y = -u.sprite.height, 
            u.animWalk = u.sprite.animations.add("walk", [ "npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7" ], 10, !0, !1), 
            u.animStand = u.sprite.animations.add("stand", [ "npc_8", "npc_9", "npc_10", "npc_11", "npc_12", "npc_13", "npc_14", "npc_15" ], 10, !0, !1), 
            u.head = u.game.prodigy.create.element(u.sprites, u.sprite.x, 0);
            var d = 13 - (2 === c || 3 === c || 4 === c ? 5 : 5 === c ? 20 : 6 === c ? 22 : 0), g = u.head.add(u.game.prodigy.create.sprite(d, 0, "atlas-71", "hat_" + (s.Util.isValid(c) ? c : 1)));
            g.y = 10 - g.height;
            var y = u.head.add(u.game.prodigy.create.sprite(0, 0, "atlas-71", "head_" + (s.Util.isValid(h) ? h : 1)));
            return s.Util.isValid(p) && (y.inputEnabled = !0, y.events.onInputDown.add(function() {
                u.clicked(a, n, p);
            }), g.inputEnabled = !0, g.events.onInputDown.add(function() {
                u.clicked(a, n, p);
            }), u.sprite.inputEnabled = !0, u.sprite.events.onInputDown.add(function() {
                u.clicked(a, n, p);
            })), u.stand(), u.showName(!0), u.repositionName(), u;
        }
        return n(e, t), e.prototype.flip = function() {
            t.prototype.flip.call(this), this.repositionName();
        }, e.prototype.update = function() {
            if (t.prototype.update.call(this), s.Util.isValid(this.animWalk) && s.Util.isValid(this.animStand)) {
                var i = "npc_0";
                1 === this.mode ? i = this.animStand.currentFrame.name : 0 === this.mode && (i = this.animWalk.currentFrame.name), 
                s.Util.isValid(this.head) && (this.head.y = this.sprite.y - 15 + e.frameOffsets[i]);
            }
        }, e.prototype.setIndicator = function(t) {
            s.Util.isValid(this.indicator) || (this.indicator = this.game.prodigy.create.sprite(0, -70, "atlas-21", t), 
            this.indicator.anchor.setTo(.5, 1), this.indicatorE.add(this.indicator), 
            this.game.add.tween(this.indicator).to({
                y: this.indicator.y - 50
            }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0)), 
            this.indicator.frameName = t;
        }, e.prototype.clicked = function(t, e, i) {
            e.findPath(t.x, t.y, this.x - 20, this.y + 20, function(e) {
                s.Util.isValid(e) && t.setPath(e, function() {
                    s.Util.isValid(i) && i();
                });
            });
        }, e.prototype.repositionName = function() {
            this.nameText.x = Math.round(-.5 * this.nameText.width + (this.sprites.scale.x < 0 ? -1 : 1) * this.nameOffsetX);
        }, e.frameOffsets = {
            npc_0: 0,
            npc_1: 0,
            npc_2: 2,
            npc_3: 1,
            npc_4: 0,
            npc_5: 0,
            npc_6: 2,
            npc_7: 1,
            npc_8: 0,
            npc_9: 0,
            npc_10: 1,
            npc_11: 2,
            npc_12: 4,
            npc_13: 5,
            npc_14: 4,
            npc_15: 3
        }, e;
    }(r.CreatureContainer);
    e.GnomeEvent = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            void 0 === h && (h = 0);
            var c = t.call(this, e, i, a, n, o, r, s, l, h) || this;
            return c.moving = !1, c.dir = 1, c.sprite = c.add(e.prodigy.create.sprite(50, 90, "atlas-115", "firefly_1")), 
            c.float(!0), c.animate(), c.delay(), c;
        }
        return n(e, t), e.prototype.move = function() {
            if (o.Util.isValid(this.game)) {
                this.moving = !0;
                var t = 1080 * Math.random() + 100, e = 520 * Math.random() + 100;
                t < this.x && 1 === this.dir ? (this.sprite.scale.x *= -1, this.dir = -1) : t > this.x && -1 === this.dir && (this.sprite.scale.x *= -1, 
                this.dir = 1);
                var i = this.game.add.tween(this).to({
                    x: t,
                    y: e
                }, 2500, Phaser.Easing.Quadratic.InOut);
                i.start(), i.onComplete.add(this.delay, this);
            }
        }, e.prototype.delay = function() {
            if (o.Util.isValid(this.game)) {
                this.moving = !1;
                var t = this.game.prodigy.event.create();
                t.delay(3e3 * Math.random() + 2e3), t.function(this.move.bind(this)), 
                t.start();
            }
        }, e.prototype.float = function(t) {
            o.Util.isValid(this.floatTween) ? this.floatTween.stop() : (this.sprite.oldY = this.sprite.y, 
            this.sprite.y = this.sprite.y - 10, this.floatTween = this.game.add.tween(this.sprite).to({
                y: "-20"
            }, 1400, Phaser.Easing.Quadratic.InOut).to({
                y: "20"
            }, 1400, Phaser.Easing.Quadratic.InOut).loop()), t ? this.floatTween.start() : (this.floatTween.stop(), 
            this.sprite.y = this.sprite.oldY);
        }, e.prototype.animate = function() {
            this.sprite.animations.add("fly", [ "firefly_1", "firefly_2", "firefly_3" ], 10, !0, !1), 
            this.sprite.animations.play("fly");
        }, e;
    }(i(115).ClickableEvent);
    e.FireflyEvent = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(5), s = i(0), l = function(t) {
        function e(e, i, a, n, r, l, h, c, p) {
            var u = t.call(this, e, i, a, n) || this;
            u.user = null, u.path = null, u.ID = null, u.callback = null, u.collected = !1, 
            u.allowCollect = !1, u.data = null, u.questState = null, u.user = r, 
            u.path = l, u.ID = h, u.callback = p, u.data = s.Util.isValid(c) ? c : {
                range: 30
            }, s.Util.isValid(c.range) || (u.data.range = 30);
            var d = u.add(u.game.prodigy.icon.createFromData(c, 0, 0, null, null, null, null, o(c, "showLoading", !0)));
            return d.inputEnabled = !0, d.events.onInputDown.add(u.clicked.bind(u), u), 
            d.x -= Math.floor(.5 * d.width), d.y = -d.height, u;
        }
        return n(e, t), e.prototype.process = function(t) {
            this.allowCollect = !1, this.visible = !1, this.highlight(!1);
            var e = t.getQuestState();
            s.Util.isValid(e) && s.Util.isValid(e.req) && (this.questState = e.state, 
            1 === e.state[this.ID] || "item" !== e.req.type && "key" !== e.req.type || e.req.ID !== this.data.ID || this.collected || (this.visible = !0, 
            e.req.N > this.game.prodigy.player.backpack.hasItem(e.req.type, e.req.ID) && (this.allowCollect = !0, 
            this.highlight(!0, -80, -90))));
        }, e.prototype.clicked = function() {
            this.path.findPath(this.user.x, this.user.y, this.x, this.y, this.clickedCallback.bind(this));
        }, e.prototype.clickedCallback = function(t) {
            var e = this;
            s.Util.isValid(t) && this.user.setPath(t, function() {
                e.collect();
            });
        }, e.prototype.collect = function() {
            !this.allowCollect || Phaser.Math.distance(this.user.x, this.user.y, this.x, this.y) > this.data.range || (this.collected = !0, 
            this.questState[this.ID] = 1, this.game.prodigy.player.state.updated = !0, 
            this.game.prodigy.audio.playSFX(18, "dig"), this.game.prodigy.player.backpack.add(this.data.type, this.data.ID), 
            this.callback());
        }, e;
    }(r.Element);
    e.CollectEvent = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(0), s = i(115), l = i(3), h = function(t) {
        function e(e, i, a, n, r, s, l, h, c, p) {
            var u = t.call(this, e, i, a, n, r, s, h, c, p) || this;
            return u.moveToX = null, u.moveToY = null, u.moveToX = o(l, "moveToX", a), 
            u.moveToY = o(l, "moveToY", n), u.addPathingIconFunction = o(l, "addPathingIconFunction", null), 
            u;
        }
        return n(e, t), e.prototype.clicked = function(e, i) {
            t.prototype.clicked.call(this, e, i), this.game.broadcaster.broadcast(l.EPlayerLocomotionEvents.MovePlayer, null, [ this.moveToX, this.moveToY ]) && (r.Util.isValid(this.addPathingIconFunction) ? this.addPathingIconFunction(i.x, i.y) : r.Util.log("ClickableMoveEvent.clicked - pathing was successful, but parent does not have addPathingIcon function.  No pathing star shown.", r.Util.ERROR));
        }, e;
    }(s.ClickableEvent);
    e.ClickableMoveEvent = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(56), s = i(4), l = i(0), h = i(18), c = function(t) {
        function e(e, i, a, n, o, r, h, c, p, u, d) {
            var g = t.call(this, e, i, a, n) || this;
            if (g.callback = null, g.user = null, g.key = null, g.reward = [], g.chestType = null, 
            g.chestSprite = null, g.path = null, g.zone = null, g.chestID = h, g.callback = u, 
            g.user = o, g.key = p, l.Util.isValid(c) && (g.reward = c), l.Util.isValid(d)) g.chestType = d; else {
                g.chestType = "A";
                for (var y = 0; y < c.length; y++) {
                    var f = s.Items.getItem(c[y].type, c[y].ID);
                    if (l.Util.isValid(f) && l.Util.isValid(f.data)) {
                        if (l.Util.isValid(f.data.quest) && 1 === f.data.quest) {
                            g.chestType = "B";
                            break;
                        }
                        1 === f.data.member && (g.chestType = "C");
                    }
                    "gold" === c[y].type && c[y].N >= 500 && (g.chestType = "C");
                }
            }
            return g.chestSprite = g.add(g.game.prodigy.create.sprite(0, 0, "atlas-110", "chest-" + g.chestType + "-1")), 
            g.chestSprite.inputEnabled = !0, g.chestSprite.events.onInputDown.add(function() {
                g.clicked();
            }, g), g.chestSprite.x -= Math.floor(.5 * g.chestSprite.width), g.chestSprite.y = -g.chestSprite.height, 
            g.path = r, g;
        }
        return n(e, t), e.prototype.process = function(t) {
            this.zone = t, this.highlight(!1);
            var e = t.getState(this.chestID);
            l.Util.isValid(e) && 0 !== e && (this.chestSprite.inputEnabled = !1, 
            this.chestSprite.frameName = "chest-" + this.chestType + "-2");
            var i = t.getQuestState();
            if (l.Util.isValid(i) && l.Util.isValid(i.req)) for (var a = 0; a < this.reward.length; a++) {
                var n = this.reward[a];
                i.req.type === n.type && i.req.ID === n.ID && i.req.N > this.game.prodigy.player.backpack.hasItem(i.req.type, i.req.ID) && this.highlight(!0, -80, -90);
            }
        }, e.prototype.clicked = function() {
            var t = this;
            this.path.findPath(this.user.x, this.user.y, this.x - 20, this.y + 20, function(e) {
                l.Util.isValid(e) && t.user.setPath(e, t.collect.bind(t));
            });
        }, e.prototype.collect = function() {
            if (this.user.evtProc || !(Phaser.Math.distance(this.user.x, this.user.y, this.x, this.y) > 50)) {
                if ("C" === this.chestType && !this.game.prodigy.player.hasMembership()) {
                    var t = this.game.prodigy.world.getCurrentMap();
                    l.Util.isValid(t) || (t = "");
                    var e = {
                        conversionFunnelName: h.EFunnelEventIDs.FunnelOpenMemberChestWorld,
                        conversionFunnelMetadata: t
                    };
                    return this.game.prodigy.network.sendConversionFunnelEvent(e.conversionFunnelName, h.EFunnelEventIDs.StageOpenChest, e.conversionFunnelMetadata), 
                    void this.game.prodigy.open.membershipInfo(null, e, r.MemberAd.MEMBER_CHESTS);
                }
                if (l.Util.isValid(this.key) && 0 === this.game.prodigy.player.backpack.hasItem(this.key.type, this.key.ID)) this.game.prodigy.open.message(this.game.prodigy.gameContainer.Localizer.getText("CHEST_LOCKED_MESSAGE", this.key.type, this.key.ID)); else this.game.prodigy.player.saveEnabled = !1, 
                this.game.input.enabled = !1, this.chestSprite.inputEnabled = !1, 
                this.user.evtProc = !0, this.game.prodigy.audio.playSFX(18, "whoosh"), 
                this.game.add.tween(this.chestSprite).to({
                    x: "-5"
                }, 50, Phaser.Easing.Linear.None).to({
                    x: "+10"
                }, 150, Phaser.Easing.Linear.None).to({
                    x: "-10"
                }, 150, Phaser.Easing.Linear.None).to({
                    x: "+5"
                }, 50, Phaser.Easing.Linear.None).to({
                    y: "-50"
                }, 200, Phaser.Easing.Quadratic.Out).to({
                    y: "+50"
                }, 200, Phaser.Easing.Quadratic.In).to({
                    y: "-20"
                }, 100, Phaser.Easing.Quadratic.Out).to({
                    y: "+20"
                }, 100, Phaser.Easing.Quadratic.In).start().onComplete.add(this.openChest, this, 1);
            }
        }, e.prototype.openChest = function() {
            var t = this;
            this.game.prodigy.audio.playSFX(18, "dig"), this.game.prodigy.audio.playSFX(19, "item"), 
            this.chestSprite.frameName = "chest-" + this.chestType + "-2", this.game.input.enabled = !0, 
            this.game.prodigy.open.gotItem(this.reward, function() {
                t.setOpenedState();
            }, null, "open-chest");
        }, e.prototype.setOpenedState = function() {
            this.zone.setState(this.chestID, 1), l.Util.isValid(this.key) && this.game.prodigy.player.backpack.consume(this.key.type, this.key.ID, 1), 
            this.user.evtProc = !1, this.game.prodigy.player.saveEnabled = !0, this.callback();
        }, e;
    }(o.Element);
    e.ChestEvent = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__assign || Object.assign || function(t) {
        for (var e, i = 1, a = arguments.length; i < a; i++) for (var n in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        return t;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(0), s = function(t) {
        function e(e, i, a, n, r, s, l, h, c, p, u) {
            return t.call(this, e, i, a, n, r, s, l, o({}, h, {
                monsterData: e.prodigy.battle.chooseRandomMonster(h.encounter)
            }), c, p, u) || this;
        }
        return n(e, t), e.prototype.startBattle = function() {
            var t = this.game, e = this.zone, i = this.ID, a = this.unique, n = this.onEnc, o = this.source, s = this.mods, l = this.x, h = this.y, c = function(c) {
                if (c && (e.defeatMonster(o.getID(), i, a), r.Util.isValid(n) && n(), 
                t.prodigy.bounty.completeBounty(s.bounty)), c) if (0 === t.prodigy.player.getBountyScore()) {
                    var p = t.prodigy.event.create();
                    p.text(94, "noot"), p.function(t.prodigy.world.teleport.bind(t.prodigy.world, s.onEnd, l, h)), 
                    p.start();
                } else t.prodigy.world.teleport(s.onEnd, l, h); else t.prodigy.world.teleport(s.onEnd);
            };
            this.game.input.enabled = !0, this.game.prodigy.battle.start(this.mods, function() {
                c(!1);
            }, function() {
                c(!0);
            }, null, this.mods.onFaint);
        }, e;
    }(i(95).MonsterEvent);
    e.BountyEvent = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n, o, r) {
            var s = t.call(this, e, i, a, n) || this;
            s.iceBlockSprite = null, s.iceBlockSprite = s.add(s.game.prodigy.create.sprite(0, 0, r.atlas, r.tag)), 
            s.iceBlockSprite.anchor.setTo(r.x, r.y);
            for (var l = Math.floor(s.iceBlockSprite.width / o.size), h = Math.floor((a - s.iceBlockSprite.width * r.x) / o.size), c = Math.floor(s.iceBlockSprite.height / o.size), p = Math.floor((n - s.iceBlockSprite.height * r.y) / o.size), u = h; u < h + l; u++) for (var d = p; d < p + c; d++) o.area[d][u] = 0;
            return s;
        }
        return n(e, t), e;
    }(i(5).Element);
    e.BlockEvent = o;
}, function(t, e) {
    var i = Math.ceil, a = Math.max;
    t.exports = function(t, e, n, o) {
        for (var r = -1, s = a(i((e - t) / (n || 1)), 0), l = Array(s); s--; ) l[o ? s : ++r] = t, 
        t += n;
        return l;
    };
}, function(t, e, i) {
    var a = i(518), n = i(66), o = i(150);
    t.exports = function(t) {
        return function(e, i, r) {
            return r && "number" != typeof r && n(e, i, r) && (i = r = void 0), 
            e = o(e), void 0 === i ? (i = e, e = 0) : i = o(i), r = void 0 === r ? e < i ? 1 : -1 : o(r), 
            a(e, i, r, t);
        };
    };
}, function(t, e, i) {
    var a = i(519)();
    t.exports = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(5), s = i(178), l = i(0), h = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, a) || this;
            return r.callback = null, r.mods = null, r.callback = o, r.mods = n, 
            r.game.input.enabled = !1, i.user.setValidPath(i.path, i.user.x, i.user.y), 
            e.prodigy.effects.flashText(r.game.prodigy.gameContainer.Localizer.getText("TOWER_CHANCE_WHEEL"), function() {
                r.createWheel();
            }), r;
        }
        return n(e, t), e.prototype.close = function() {
            this.game.prodigy.notifications.startTimer(!0), this.game.input.enabled = !0, 
            this.game.add.tween(this).to({
                alpha: 0
            }, 1e3, Phaser.Easing.Linear.None).start().onComplete.addOnce(this.callback, this);
        }, e.prototype.createWheel = function() {
            var t = this;
            this.game.prodigy.notifications.clearNotifications(!0);
            var e = this.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small");
            e.width = this.game.world.width, e.height = this.game.world.height, 
            e.alpha = .5, this.add(e), e.inputEnabled = !0;
            var i = this.game.prodigy.create.sprite(395, 85, "atlas-124", "wings");
            i.alpha = 0, this.add(i), this.game.add.tween(i).to({
                alpha: 1
            }, 300, Phaser.Easing.Quadratic.Out).delay(600).start();
            var a = this.game.prodigy.create.sprite(640, 360, "atlas-124", "wheel");
            a.anchor.setTo(.5, .5), a.scale.x = a.scale.y = 0, this.add(a), this.game.add.tween(a.scale).to({
                x: 1.2,
                y: 1.2
            }, 400, Phaser.Easing.Quadratic.Out).to({
                x: 1,
                y: 1
            }, 200, Phaser.Easing.Quadratic.In).start();
            var n = this.game.prodigy.create.sprite(542, 90, "atlas-124", "pointer");
            n.alpha = 0, this.add(n), this.game.add.tween(n).to({
                alpha: 1
            }, 300, Phaser.Easing.Quadratic.Out).delay(600).start().onComplete.addOnce(function() {
                t.startWheel(a);
            }, this);
        }, e.prototype.startWheel = function(t) {
            var e = Math.floor(10 * Math.random());
            o.GameConstants.get("GameConstants.Build.DEBUG") && -1 !== s.Debug.ROULETTE && (e = s.Debug.ROULETTE);
            var i = 36 * e + 18;
            this.game.add.tween(t).to({
                angle: 2880 - i
            }, 8e3, Phaser.Easing.Cubic.Out).start().onComplete.addOnce(this.showResult.bind(this, e), this), 
            this.playSound(8e3, 100);
        }, e.prototype.showResult = function(t) {
            var e = this, i = "", a = 0, n = this.game.prodigy.gameContainer.Localizer;
            0 === t || 6 === t ? (i = n.getText("TOWER_CHANCE_LOSE_HEARTS", 40), 
            a = -40) : 1 === t || 5 === t ? (i = n.getText("TOWER_CHANCE_GAIN_HEARTS", 40), 
            a = 40) : 2 === t ? (i = n.getText("TOWER_CHANCE_LOSE_HEARTS", 120), 
            a = -120) : 7 === t ? (i = n.getText("TOWER_CHANCE_GAIN_HEARTS", 120), 
            a = 120) : 3 === t ? (i = n.getText("TOWER_CHANCE_DAMAGE_INCREASED"), 
            this.mods.dmgMod = 20) : 8 === t ? (i = n.getText("TOWER_CHANCE_DAMAGE_REDUCED"), 
            this.mods.dmgMod = -20) : 9 === t ? (i = n.getText("TOWER_CHANCE_DOUBLE_STARS"), 
            this.mods.starMod = 2) : 4 === t && (i = n.getText("TOWER_CHANCE_DISABLE_SWITCHING"), 
            this.mods.switchDisabled = !0);
            for (var o = this.game.prodigy.player.kennel.getTeam(), r = 0; r < o.length; r++) l.Util.isValid(o[r]) && o[r].getCurrentHearts() > 0 && (o[r].changeCurrentHearts(a), 
            o[r].getCurrentHearts() <= 0 && o[r].changeCurrentHearts(20));
            this.game.prodigy.effects.flashText(i, function() {
                e.close();
            });
        }, e.prototype.playSound = function(t, e) {
            if (!(t <= 0) && l.Util.isValid(this.game)) {
                this.game.prodigy.audio.playSFX(19, "tick");
                var i = e + 9e-7 * Math.pow(e, 3);
                setTimeout(this.playSound.bind(this, t - i, i), e);
            }
        }, e;
    }(r.Element);
    e.Roulette = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            return t.call(this, e, "A2", "MAP_DARK_TOWER_FLOOR", 260, 550, [ "darktower-A1", "darktower-A3" ], i) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 240,
                y: 640,
                w: 160,
                h: 80,
                canReTrigger: !0
            }, null, null, null, function() {
                n.toBase();
            }, o.EAreaEventAngle.DOWN);
        }, e.prototype.getName = function() {
            return "" + t.prototype.getName.call(this) + this.floor;
        }, e;
    }(i(179).DarktowerMap);
    e.DarktowerA2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__assign || Object.assign || function(t) {
        for (var e, i = 1, a = arguments.length; i < a; i++) for (var n in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        return t;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(2), s = i(76), l = i(25), h = i(0), c = i(18), p = function(t) {
        function e(e, i) {
            return t.call(this, e, "A1", "MAP_DARK_TOWER_ENTRANCE", 200, 400, [ "darktower-A2" ], i) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            void 0 === a && (a = {}), t.prototype.setup.call(this, e, i, a), new s.QuestNPC(e, i.content, 900, 360, {
                name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_MIRA_SHADE"),
                atlas: "mira",
                atlasID: 77
            }, function() {
                n.openTower();
            }), this.zone.bgmID = 3, this.game.prodigy.player.healTeam(r.GameConstants.MAX_SAFE_INTEGER);
        }, e.prototype.openTower = function() {
            var t = this, i = this.game.prodigy.gameContainer.Localizer, a = this.game.prodigy.player.getTowerProgress();
            if ((a = a - a % 5 + 1) > 100 && (a = 100), this.game.prodigy.network.sendAnalytics("Dark-Tower"), 
            this.game.prodigy.player.isBlockedByDarkTowerMemberGate()) {
                var n = {
                    conversionFunnelName: c.EFunnelEventIDs.FunnelEnterDarkTower,
                    conversionFunnelMetadata: "towerBase"
                };
                this.game.prodigy.network.sendConversionFunnelEvent(n.conversionFunnelName, c.EFunnelEventIDs.StageEnterTower, n.conversionFunnelMetadata), 
                this.game.prodigy.open.darkTowerMemberGate(null, n);
            } else {
                var r = this.game.prodigy.dialogue.create();
                if (0 === this.game.prodigy.player.getTowerProgress()) {
                    for (var s = 1; s < 6; s++) r.setText(o({}, e.DIALOGUE[s], {
                        text: i.getText(e.DIALOGUE[s].textKey)
                    }));
                    r.setText({
                        text: i.getText("TOWER_PROMPT_START", a),
                        face: 0,
                        yes: this.changeTeam.bind(this, a),
                        audio: e.AUDIO[0]
                    });
                } else if (this.game.prodigy.player.getTowerProgress() > 99) for (s = 6; s < 8; s++) r.setText(o({}, e.DIALOGUE[s], {
                    text: i.getText(e.DIALOGUE[s].textKey)
                })); else r.setText({
                    text: i.getText("TOWER_PROMPT_START_GOLD", a),
                    face: 0,
                    yes: function() {
                        t.changeTeam(a, 500);
                    },
                    audio: e.AUDIO[0]
                });
                r.start("mira");
            }
        }, e.prototype.changeTeam = function(t, i) {
            var a = !0;
            if (h.Util.isValid(i)) if (this.game.prodigy.player.getGold() >= i) this.game.prodigy.player.changeGold(-500); else {
                var n = this.game.prodigy.dialogue.create(), r = this.game.prodigy.player.hasMembership() ? null : this.game.prodigy.open.membershipInfo.bind(this.game.prodigy.open, null, {}, l.MembershipInfo.TOWER);
                n.setText(o({}, e.DIALOGUE[8], {
                    text: this.game.prodigy.gameContainer.Localizer.getText(e.DIALOGUE[8].textKey)
                })), n.start("mira", null, r), a = !1;
            }
            a && this.toFloor(t, !0);
        }, e.prototype.toFloor = function(t, e) {
            if (e) {
                var i = t < 100 ? "A2" : "A3";
                this.zone.maps[i].floor = t, this.zone.maps[i].updateZoneNameFromCurrentFloor(), 
                this.zone.maps[i].cleared = !1, this.game.prodigy.world.teleport("darktower-" + i, 260, 550);
            }
        }, e.AUDIO = [ {
            tag: "voice-2",
            s: 0,
            d: 1
        } ], e.DIALOGUE = [ {
            textKey: "DIALOGUE_MIRA_0",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-2",
                s: 0,
                d: 1
            }
        }, {
            textKey: "DIALOGUE_MIRA_1",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-2",
                s: 4,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_MIRA_2",
            face: 2,
            audio: {
                tag: "voice-2",
                s: 9,
                d: 1
            }
        }, {
            textKey: "DIALOGUE_MIRA_3",
            face: 2
        }, {
            textKey: "DIALOGUE_MIRA_4",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-2",
                s: 0,
                d: 1
            }
        }, {
            textKey: "DIALOGUE_MIRA_5",
            face: 2,
            audio: {
                tag: "voice-2",
                s: 3,
                d: 1
            }
        }, {
            textKey: "DIALOGUE_MIRA_6",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-2",
                s: 4,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_MIRA_7",
            face: 0
        }, {
            textKey: "DIALOGUE_MIRA_8",
            face: 0,
            anim: 1,
            audio: {
                tag: "voice-2",
                s: 0,
                d: 1
            }
        } ], e;
    }(i(7).Map);
    e.DarktowerA1 = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 9, "QUESTS_BONFIRE_SPIRE_SAVE_GATHERERS", {
                type: "item",
                ID: 90,
                N: 2
            }, [ "bonfire_spire-A4" ], [ 25, 26 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "item",
                ID: 91,
                N: 1
            } ]) || this;
            return a.slimeNPCs = [], a.slimeNPCHighlights = [], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            t.prototype.setup.call(this, e, i, a), this.slimeNPCs = [], this.slimeNPCHighlights = [];
            var r = {
                encounter: [ {
                    ID: 48
                } ],
                ignorePathfindingForAlert: !0
            };
            if ("A4" === a.getTag()) {
                this.slimeNPCs.push(a.addConstructedNPC(e, i, 885, 205, "atlas-87", function() {
                    n.interactSlime(e, i, 0);
                }, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_WORKER_SLIME")));
                if (this.zone.getState("turnip1")) this.slimeNPCs[0].radish.destroy(), 
                this.slimeNPCs[0].idle(); else {
                    this.slimeNPCHighlights[0] = o.Util.hilightObjectOnLayer(e, 70, -120, this.slimeNPCs[0], i.foreground);
                    var s = a.addMonster(e, i, 3, 995, 190, !0, r);
                    o.Util.isValid(s) && s.flip();
                }
                if (this.slimeNPCs.push(a.addConstructedNPC(e, i, 370, 440, "atlas-87", function() {
                    n.interactSlime(e, i, 1);
                }, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_WORKER_SLIME"))), 
                this.zone.getState("turnip2")) this.slimeNPCs[1].radish.destroy(), 
                this.slimeNPCs[1].idle(); else {
                    this.slimeNPCHighlights[1] = o.Util.hilightObjectOnLayer(e, 70, -120, this.slimeNPCs[1], i.content);
                    var l = a.addMonster(e, i, 4, 480, 425, !0, r);
                    o.Util.isValid(l) && l.flip();
                }
            }
            return null;
        }, e.prototype.start = function(t, e, i) {
            if ("A4" === i.getTag() && this.zone.isOnSequence(9, 0)) {
                this.zone.completeSequence(9, 0);
                var a = t.prodigy.event.create();
                a.text(0, "slime_worker"), a.start();
            }
            return null;
        }, e.prototype.interactSlime = function(t, e, i) {
            var a = this;
            if (!this.zone.getState(0 === i ? "turnip1" : "turnip2")) {
                var n = t.prodigy.event.create();
                n.validPath(e.user, e.path, this.slimeNPCs[i].x + 81, this.slimeNPCs[i].y), 
                n.validPath(e.user, e.path, this.slimeNPCs[i].x + 80, this.slimeNPCs[i].y), 
                n.text(1, "slime_worker"), n.function(function() {
                    a.slimeNPCHighlights[i].destroy();
                }), n.function(function() {
                    a.slimeNPCs[i].radish.destroy();
                }), n.function(function() {
                    a.slimeNPCs[i].idle();
                }), n.function(function() {
                    t.prodigy.open.gotItem([ {
                        type: "item",
                        ID: 90,
                        N: 1
                    } ], e.process.bind(e));
                }), n.function(this.zone.setState.bind(this.zone, 0 === i ? "turnip1" : "turnip2", 1)), 
                n.start();
            }
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ9 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 8, "QUESTS_BONFIRE_SPIRE_TALK_TO_GUARDS", {
                type: "seq",
                N: 1
            }, [ "bonfire_spire-C6" ], [ 22, 23, 24 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
        }
        return n(e, t), e.prototype.start = function(e, i, a) {
            if (t.prototype.setup.call(this, e, i, a), "C6" === a.getTag() && this.zone.isOnSequence(8, 0)) {
                var n = e.prodigy.event.create(), o = e.prodigy.gameContainer.Localizer, r = i.addNPC(430, 380, "atlas-85", null, o.getText("NPC_NAME_HANK")), s = i.addNPC(650, 520, "atlas-85", null, o.getText("NPC_NAME_MIKE"));
                r.animate(), s.animate(), n.hop(r, 100, 0, 20, !1), n.hop(r, 100, 0, 20, !0), 
                n.text(1, "slime_guard"), n.hop(s, 100, 0, 20, !1), n.hop(s, 100, 0, 20, !0), 
                n.text(2, "slime_guard"), n.hop(r, 100, 0, 20, !1), n.hop(r, 100, 0, 20, !0), 
                n.text(3, "slime_guard"), n.hop(s, 100, 0, 20, !1), n.hop(s, 100, 0, 20, !0), 
                n.text(4, "slime_guard"), n.function(this.zone.completeSequence.bind(a.zone, 8, 0)), 
                n.function(i.process.bind(i)), n.start();
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ8 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 7, "", {
                type: "item",
                ID: 89,
                N: 3
            }, [ "bonfire_spire-D1", "bonfire_spire-C2", "bonfire_spire-D4" ], [ 17, 18, 19, 20, 21 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "outfit",
                ID: 56
            } ]) || this;
            return a.collectionMaps = {
                D1: [ 0 ],
                C2: [ 1 ],
                D4: [ 2 ]
            }, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a);
            var n = a.getTag();
            return "D1" === n ? i.addCollect(0, 640, 480, {
                type: "item",
                ID: 89,
                showLoading: !1
            }) : "C2" === n ? i.addCollect(1, 670, 265, {
                type: "item",
                ID: 89,
                showLoading: !1
            }) : "D4" === n && i.addCollect(2, 640, 360, {
                type: "item",
                ID: 89,
                showLoading: !1
            }), null;
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ7 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i.concat("sfx-10"), 6, "QUESTS_BONFIRE_SPIRE_ATTEND_DINNER", {
                type: "seq",
                N: 1
            }, [ "bonfire_spire-D5" ], [ 15, 16 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
        }
        return n(e, t), e.prototype.start = function(e, i, a) {
            if (t.prototype.start.call(this, e, i, a), "D5" === a.getTag() && this.zone.isOnSequence(6, 0)) {
                var n = i.foreground.add(e.prodigy.create.sprite(690, 250, "atlas-112", "food"));
                n.visible = !1;
                var o = a.addConstructedNPC(e, i, 720, 490, "npc-sprite-worker-slime-red", null, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_WORKER_SLIME")), r = a.addConstructedNPC(e, i, 500, 330, "atlas-65", null, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_CEBOLLINI"), i.foreground), s = e.prodigy.event.create();
                s.text(0, "slime_guard"), s.function(function() {
                    a.queen.flip();
                }), s.enableInput(!1), s.path(o, [ {
                    x: 730,
                    y: 350
                } ], 1, !0), s.delay(1e3), s.enableInput(!0), s.text(0, "slime_queen"), 
                s.enableInput(!1), s.enableInput(!0), s.text(1, "cebollini"), s.enableInput(!1), 
                s.set(n, "visible", !0), s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, n, "-80", "-200", "+100", 2e3, !0, !0)), 
                s.delay(2e3), s.sound(10, "eating"), s.delay(2e3), s.enableInput(!0), 
                s.text(1, "slime_queen"), s.function(function() {
                    a.queen.flip();
                }), s.text(2, "slime_queen"), s.enableInput(!1), s.set(n, "alpha", 1), 
                s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, n, "-90", "-50", "+150", 600, !0, !0)), 
                s.delay(1e3), s.enableInput(!0), s.text(2, "cebollini"), s.text(), 
                s.text(3, "slime_queen"), s.text(4, "slime_queen"), s.text(), s.text(3, "cebollini"), 
                s.enableInput(!1), s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+200", "-100", "+220", 1e3, !1, !0), !0), 
                s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+100", "-100", "+150", 1e3, !1, !0), !0), 
                s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+150", "-100", "+100", 1e3, !1, !0), !0), 
                s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+200", "-200", "+230", 1e3, !1, !0), !0), 
                s.enableInput(!0), s.text(4, "cebollini"), s.enableInput(!1), s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+60", "-100", "+200", 1e3, !0, !0), !0), 
                s.enableInput(!0), s.text(103, "noot"), s.function(this.zone.completeSequence.bind(a.zone, 6, 0)), 
                s.function(i.process.bind(i)), s.start();
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ6 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(6), s = i(31), l = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i.concat([ "sfx-9" ]), 5, "QUESTS_BONFIRE_SPIRE_ADD_INGREDIENT", {
                type: "seq",
                N: 1
            }, [ "bonfire_spire-E6" ], [ 13, 14 ], [], [ 0, 1 ], [ {
                type: "spell",
                ID: 1
            } ]) || this;
            return a.food = null, a.cebollini = null, a.cebollini2 = null, a.cookingPot = null, 
            a.caught = !1, a.foodPlaced = !1, a.hover = !1, a.cookingPotHighlight = null, 
            a.visionCone = null, a.button = null, a.buttonIcon = null, a.pot = null, 
            a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            return t.prototype.setup.call(this, e, i, a), "E6" !== a.getTag() || this.zone.isQuestComplete(5) ? null : (this.food = i.foreground.add(e.prodigy.create.sprite(650, 180, "icon-item-88")), 
            this.food.visible = !1, this.cebollini = a.addConstructedNPC(e, i, 580, 370, "atlas-65", null, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_CEBOLLINI")), 
            this.cebollini2 = a.addConstructedNPC(e, i, this.cebollini.x, this.cebollini.y, "atlas-65", null, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_CEBOLLINI")), 
            this.cebollini2.visible = !1, this.caught = !1, this.foodPlaced = !1, 
            this.hover = !1, this.cookingPot = i.content.add(e.prodigy.create.sprite(740, 234, "atlas-112", "pot")), 
            this.cookingPot.anchor.setTo(.5, 1), this.cookingPot.inputEnabled = !0, 
            this.cookingPot.events.onInputDown.add(function() {
                n.potClick(e, i);
            }), this.cookingPotHighlight = o.Util.hilightObjectOnLayer(e, 810, 130, null, i.content), 
            a.toggleDynamicLayer(e, 5, !0), this.visionCone = i.background.add(e.prodigy.create.sprite(this.cebollini.x, this.cebollini.y - 25, "atlas-112", "visioncone")), 
            this.visionCone.anchor.setTo(.5, .5), this.button = i.content.add(e.prodigy.create.sprite(i.user.x - 40, i.user.y - 200, "atlas-21", "icon-base-active")), 
            this.button.inputEnabled = !0, this.button.events.onInputDown.add(function() {
                n.hideButtonClick(e, i);
            }, this), this.buttonIcon = i.content.add(e.prodigy.create.sprite(i.user.x - 40, i.user.y - 200, "atlas-112", "cauldron-icon")), 
            this.button.events.onInputOver.add(function() {
                n.hover = !0;
            }), this.button.events.onInputOut.add(function() {
                n.hover = !1;
            }), this.pot = i.content.add(e.prodigy.create.sprite(i.user.x, i.user.y, "atlas-112", "cauldron")), 
            this.pot.anchor.setTo(.5, 1), this.pot.visible = !1, {
                enableMonsters: !1
            });
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), "E6" !== a.getTag() || this.zone.isQuestComplete(5) || (this.tutorial(e), 
            s.Zone.patrol(this.cebollini, [ {
                x: 920,
                y: 260
            }, {
                x: 680,
                y: 400
            }, {
                x: 930,
                y: 450
            }, {
                x: 790,
                y: 300
            }, {
                x: 720,
                y: 490
            }, {
                x: 640,
                y: 300
            } ], .5)), null;
        }, e.prototype.update = function(t, e, i) {
            if ("E6" === i.getTag()) if (this.zone.isQuestComplete(5)) o.Util.isValid(this.visionCone) && (this.visionCone.visible = !1, 
            delete this.visionCone, o.Util.isValid(this.button) && this.button.destroy(), 
            o.Util.isValid(this.buttonIcon) && this.buttonIcon.destroy()); else {
                this.button.x = e.user.x - 40, this.button.y = e.user.y - 200, this.hover ? this.buttonIcon.y = e.user.y - 190 : this.buttonIcon.y = e.user.y - 187, 
                this.buttonIcon.x = e.user.x - 27, this.caught ? this.visionCone.visible = !1 : (this.visionCone.visible = !0, 
                this.visionCone.x = this.cebollini.x, this.visionCone.y = this.cebollini.y - 25), 
                this.pot.x === e.user.x && this.pot.y === e.user.y || (this.pot.visible = !1, 
                this.button.visible = !0, this.buttonIcon.visible = !0, e.user.visible = !0, 
                this.pot.x = e.user.x, this.pot.y = e.user.y);
                var a = (e.user.x - (this.cebollini.x - 5)) * (e.user.x - (this.cebollini.x - 5)) + (e.user.y - (this.cebollini.y - 25)) * (e.user.y - (this.cebollini.y - 25));
                if (this.caught && (this.foodPlaced || (this.cebollini.visible = !1, 
                this.cebollini2.visible || (this.cebollini2.scale.x = this.cebollini.scale.x, 
                this.cebollini2.x = this.cebollini.x, this.cebollini2.y = this.cebollini.y, 
                this.cebollini2.visible = !0)), this.visionCone.visible = !1), a < 22500 && !this.pot.visible) {
                    var n = t.prodigy.event.create();
                    this.caught || (this.caught = !0, this.foodPlaced || (n.enableInput(!1), 
                    n.validPath(e.user, e.path, e.user.x, e.user.y), n.enableInput(!0), 
                    n.text(0, "cebollini"), n.function(t.prodigy.world.teleport.bind(t.prodigy.world, "bonfire_spire-E6")))), 
                    n.start();
                }
            }
        }, e.prototype.tutorial = function(t) {
            if (!o.Util.isValid(this.zone.getState("minigametut"))) {
                this.zone.setState("minigametut", 1);
                var e = t.prodigy.event.create();
                e.text(112, "noot"), e.text(113, "noot"), e.text(114, "noot"), e.text(115, "noot"), 
                e.text(116, "noot"), e.start();
            }
        }, e.prototype.hideButtonClick = function(t, e) {
            var i = t.prodigy.event.create();
            i.validPath(e.user, e.path, e.user.x, e.user.y), i.delay(50), i.function(t.prodigy.audio.playSFX.bind(t.prodigy.audio, 18, "pop")), 
            i.set(this.pot, "visible", !0), i.set(e.user, "visible", !1), i.set(this.button, "visible", !1), 
            i.set(this.buttonIcon, "visible", !1), i.start();
        }, e.prototype.potClick = function(t, e) {
            if (!this.foodPlaced) {
                var i = t.prodigy.event.create();
                i.validPath(e.user, e.path, 700, 240), i.enableInput(!1), i.set(this.food, "visible", !0), 
                i.set(this, "foodPlaced", !0), i.set(this.button, "visible", !1), 
                i.set(this.buttonIcon, "visible", !1), i.animation(t.prodigy.animation.hop.bind(t.prodigy.animation, this.food, "50", "-200", "+100", 2e3, !0, !0)), 
                i.function(this.cookingPotHighlight.destroy.bind(this.cookingPotHighlight)), 
                i.delay(2350), i.sound(9, "plop"), i.sound(9, "cooking"), i.enableInput(!0), 
                i.function(t.prodigy.player.backpack.consume.bind(t.prodigy.player.backpack, "item", 88, 1)), 
                i.function(this.zone.completeSequence.bind(this.zone, 5, 0)), i.function(e.process.bind(e)), 
                i.start();
            }
        }, e;
    }(r.Quest);
    e.BonfireSpireQ5 = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 4, "", {
                type: "item",
                ID: 88,
                N: 1,
                K: !0
            }, [ "bonfire_spire-C3" ], [ 10, 11, 12 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
            return a.collectionMaps = {
                C3: [ 0 ]
            }, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "C3" === a.getTag() && i.addCollect(0, 635, 340, {
                type: "item",
                ID: 88,
                showLoading: !1
            }), null;
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ4 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 3, "QUESTS_BONFIRE_SPIRE_PULL_LEVER", {
                type: "seq",
                N: 1
            }, [ "bonfire_spire-D4" ], [ 8, 9 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "hat",
                ID: 65
            } ]) || this;
        }
        return n(e, t), e.prototype.process = function(e, i, a) {
            t.prototype.process.call(this, e, i, a), this.zone.isQuestComplete(3) || (this.zone.processLeverRequirements(i, a, [ 1, 1, 1 ]), 
            this.zone.processLeverQuest(i, 3));
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ3 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 2, "QUESTS_BONFIRE_SPIRE_PULL_LEVER", {
                type: "seq",
                N: 1
            }, [ "bonfire_spire-C2" ], [ 6, 7 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
        }
        return n(e, t), e.prototype.process = function(e, i, a) {
            t.prototype.process.call(this, e, i, a), this.zone.isQuestComplete(2) || (this.zone.processLeverRequirements(i, a, [ 1, 1, null ]), 
            this.zone.processLeverQuest(i, 2));
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ2 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i.concat("sfx-10"), 14, "QUESTS_BONFIRE_SPIRE_TALK_TO_QUEEN", {
                type: "seq",
                N: 1
            }, [ "bonfire_spire-D5" ], [ 41, 42 ], [], [ 45, 46, 1, 47 ], [ {
                type: "spell",
                ID: 3
            }, {
                type: "key",
                ID: 11
            } ]) || this;
        }
        return n(e, t), e.prototype.start = function(e, i, a) {
            if (t.prototype.start.call(this, e, i, a), "D5" === a.getTag() && this.zone.isOnSequence(14, 0)) {
                var n = i.foreground.add(e.prodigy.create.sprite(690, 250, "atlas-112", "food"));
                n.visible = !1;
                var o = e.prodigy.gameContainer.Localizer, r = a.addConstructedNPC(e, i, 720, 490, "npc-sprite-worker-slime-red", null, o.getText("NPC_NAME_WORKER_SLIME")), s = i.addNPC(530, 310, "atlas-88", null, o.getText("NPC_NAME_SLURPY"), i.foreground), l = a.addConstructedNPC(e, i, 835, 390, "atlas-65", null, o.getText("NPC_NAME_CEBOLLINI"));
                l.flip(), s.animate();
                var h = e.prodigy.event.create();
                h.text(108, "noot"), h.text(), h.text(5, "slime_queen"), h.text(), 
                h.text(16, "cebollini"), h.text(), h.function(function() {
                    a.queen.flip();
                }), h.text(6, "slime_queen"), h.enableInput(!1), h.path(r, [ {
                    x: 730,
                    y: 350
                } ], 1, !0), h.delay(1e3), h.set(n, "visible", !0), h.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, n, "-70", "-200", "+100", 2e3, !0, !0)), 
                h.delay(2e3), h.sound(10, "eating"), h.delay(2e3), h.enableInput(!0), 
                h.text(7, "slime_queen"), h.function(l.chat.bind(l, 1, 100)), h.function(function() {
                    a.queen.flip();
                }), h.text(8, "slime_queen"), h.text(), h.text(43, "slurpy"), h.text(44, "slurpy"), 
                h.enableInput(!1), h.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, s, "+100", "-100", "+250", 1e3, !1, !0), !0), 
                h.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, s, "-100", "-100", "+200", 1e3, !1, !0), !0), 
                h.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, s, "-150", "-100", "+100", 1e3, !1, !0), !0), 
                h.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, s, "-120", "-150", "+150", 1e3, !1, !0), !0), 
                h.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, s, "-180", "-150", "+300", 1e3, !0, !0), !0), 
                h.enableInput(!0), h.text(), h.function(function() {
                    a.queen.flip();
                }), h.text(17, "cebollini"), h.text(18, "cebollini"), h.text(), 
                h.text(9, "slime_queen"), h.text(), h.text(19, "cebollini"), h.function(this.zone.completeSequence.bind(a.zone, 14, 0)), 
                h.function(i.process.bind(i)), h.start();
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ14 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 13, "QUESTS_BONFIRE_SPIRE_DEFEAT_CHEF", {
                type: "seq",
                N: 2
            }, [ "bonfire_spire-D6" ], [ 38, 39, 40 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            }, {
                type: "weapon",
                ID: 81
            } ]) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "D6" === a.getTag() ? (a.addConstructedNPC(e, i, 850, 400, "atlas-65", function() {
                var t = e.prodigy.event.create();
                t.text(14, "cebollini"), t.text(15, "cebollini"), t.start();
            }, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_CEBOLLINI")).flip(), 
            {
                enableMonsters: !1
            }) : null;
        }, e.prototype.start = function(e, i, a) {
            return t.prototype.start.call(this, e, i, a), "D6" === a.getTag() && this.zone.isOnSequence(13, 0) ? this.bossBattle(e, i, a) : "D6" === a.getTag() && this.zone.isOnSequence(13, 1) && this.postBattle(e, i), 
            null;
        }, e.prototype.bossBattle = function(t, e, i) {
            var a = this;
            t.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
            var n = this.zone.getBattle(i, t.prodigy.gameContainer.Localizer.getText("COMBAT_BOSS_BATTLE"), {
                boss: {
                    ID: 13,
                    level: 80,
                    element: "fire",
                    attacks: [ 1, 2, 3, 4, 5 ],
                    name: t.prodigy.gameContainer.Localizer.getText("NPC_NAME_CEBOLLINI"),
                    starBonus: 50,
                    tag: "bonfire"
                },
                drops: [ {
                    type: "weapon",
                    ID: 16
                } ],
                difficulty: 7,
                screen: "battle-bonfire-outside",
                events: [ {
                    action: "turn",
                    value: 0,
                    callback: function(t, e) {
                        var i = t.prodigy.dialogue.create();
                        i.setText(10), i.start("cebollini", !1, e);
                    }
                } ]
            }, function() {
                var e = t.prodigy.event.create();
                e.function(a.zone.completeSequence.bind(a.zone, 13, 0)), e.function(t.prodigy.world.teleport.bind(t.prodigy.world, "bonfire_spire-D6")), 
                e.start();
            }), o = t.prodigy.event.create();
            o.enableInput(!1), o.validPath(e.user, e.path, 399, 400), o.validPath(e.user, e.path, 400, 400), 
            o.enableInput(!0), o.text(8, "cebollini"), o.text(9, "cebollini"), o.function(n), 
            o.start();
        }, e.prototype.postBattle = function(t, e) {
            var i = t.prodigy.event.create();
            i.text(13, "cebollini"), i.text(14, "cebollini"), i.text(), i.text(107, "noot"), 
            i.text(), i.text(15, "cebollini"), i.function(this.zone.completeSequence.bind(this.zone, 13, 1)), 
            i.function(e.process.bind(e)), i.start();
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ13 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 12, "QUESTS_BONFIRE_SPIRE_UNLOCK_CHEST", {
                type: "key",
                ID: 12,
                N: 1
            }, [ "bonfire_spire-A4" ], [ 35, 36, 37 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
            return a.chest = null, a.chestElement = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            var n = this;
            return t.prototype.setup.call(this, e, i, a), "A4" === a.getTag() && this.zone.isOnQuest(12) ? (this.zone.isOnSequence(12, 0) ? (this.chest = i.content.add(e.prodigy.create.sprite(800, 225, "atlas-110", "chest-B-1")), 
            this.chest.inputEnabled = !0, this.chest.events.onInputDown.add(function() {
                n.openTheChest(e, i, a);
            }, this), this.chest.anchor.setTo(.5, 1), this.chestElement = e.prodigy.create.element(i.foreground, 745, 135), 
            o.Util.isValid(this.chestElement) && (this.chestElement.highlight(!0), 
            this.chestElement.visible = !0)) : this.zone.isOnSequence(12, 1) && a.addChest(e, i, "chestGuardian", 800, 225, [ {
                type: "key",
                ID: 12
            } ], {
                type: "item",
                ID: 92
            }), {
                enableChests: !1
            }) : null;
        }, e.prototype.openTheChest = function(t, e, i) {
            var a = this, n = i.addMonster(t, e, 0, 725, 250, !1, {
                randDir: !1,
                encounter: [ {
                    ID: 65
                } ]
            });
            n.visible = !1, n.alpha = 0;
            var o = t.prodigy.event.create();
            o.validPath(e.user, e.path, 800, 250), o.enableInput(!1), o.set(e.user, "evtProc", !0), 
            o.set(n, "alpha", 0), o.function(function() {
                n.visible = !0, t.add.tween(n).to({
                    alpha: 1
                }, 1e3, Phaser.Easing.Linear.None).start();
            }), o.delay(2e3), o.enableInput(!0), o.function(function() {
                t.prodigy.battle.start({
                    intro: t.prodigy.gameContainer.Localizer.getText("COMBAT_DEFEAT_GUARDIAN"),
                    catch: !1,
                    run: !1,
                    screen: "battle-bonfire-outside",
                    pets: [ {
                        ID: 65,
                        nickname: t.prodigy.gameContainer.Localizer.getText("NPC_NAME_GUARDIAN")
                    } ]
                }, null, function() {
                    a.zone.completeSequence(12, 0), t.prodigy.world.teleport("bonfire_spire-A4", 800, 270);
                }, null, a.zone.onFaint);
            }), o.set(e.user, "evtProc", !1), o.start();
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ12 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i.concat("atlas-81"), 11, "QUESTS_BONFIRE_SPIRE_FIND_KEY", {
                type: "item",
                ID: 92,
                N: 1,
                K: 1
            }, [ "bonfire_spire-C4" ], [ 29, 30, 31, 32, 33, 34 ], [], [ 0, 1 ], [ {
                type: "spell",
                ID: 2
            } ]) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 75,
                    drops: [ {
                        type: "item",
                        ID: 92,
                        R: .25
                    } ]
                } ]
            }, o = a.getTag();
            if ("C4" === o && !this.zone.isQuestComplete(11)) return a.addMonster(e, i, 1, 480, 480, !1, n, !0), 
            a.addMonster(e, i, 2, 840, 240, !1, n, !0), {
                enableMonsters: !1
            };
            if ("A4" === o) {
                var r = a.addChest(e, i, "chestGuardian", 742, 236, [ {
                    type: "key",
                    ID: 12
                } ], {
                    type: "item",
                    ID: 92
                });
                return r.chestSprite.events.onInputDown.removeAll(), r.chestSprite.events.onInputDown.add(function() {
                    var t = e.prodigy.event.create();
                    t.text(111, "noot"), t.start();
                }), {
                    enableChests: !1
                };
            }
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ11 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 10, "QUESTS_BONFIRE_SPIRE_OFFER_DISH", {
                type: "seq",
                N: 1
            }, [ "bonfire_spire-C6" ], [ 27, 28 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
        }
        return n(e, t), e.prototype.start = function(e, i, a) {
            if (t.prototype.start.call(this, e, i, a), "C6" === a.getTag() && this.zone.isOnSequence(10, 0)) {
                var n = a.addConstructedNPC(e, i, 885, 340, "atlas-65", null, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_CEBOLLINI"));
                n.visible = !1;
                var o = e.prodigy.event.create();
                o.enableInput(!1), o.set(i.user, "evtProc", !0), o.validPath(i.user, i.path, 650, 420), 
                o.enableInput(!0), o.text(5, "cebollini"), o.set(n, "visible", !0), 
                o.text(6, "cebollini"), o.text(7, "cebollini"), o.enableInput(!1), 
                o.validPath(n, i.path, 650, 420), o.function(e.prodigy.player.backpack.consume.bind(e.prodigy.player.backpack, "item", 91, 1)), 
                o.path(n, [ {
                    x: 1280,
                    y: 510
                } ]), o.set(n, "visible", !1), o.enableInput(!0), o.text(104, "noot"), 
                o.text(105, "noot"), o.text(106, "noot"), o.function(this.zone.completeSequence.bind(a.zone, 10, 0)), 
                o.function(i.process.bind(i)), o.set(i.user, "evtProc", !1), o.start();
            }
            return null;
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ10 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 1, "QUESTS_BONFIRE_SPIRE_PULL_LEVER", {
                type: "seq",
                N: 1
            }, [ "bonfire_spire-D1" ], [ 2, 3, 4, 5 ], [], [ 0 ], [ {
                type: "gold",
                N: 200
            } ]) || this;
        }
        return n(e, t), e.prototype.process = function(e, i, a) {
            t.prototype.process.call(this, e, i, a), this.zone.isQuestComplete(1) || (this.zone.processLeverRequirements(i, a, [ 1, null, null ]), 
            this.zone.processLeverQuest(i, 1));
        }, e;
    }(i(6).Quest);
    e.BonfireSpireQ1 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "E6", "MAP_BONFIRE_SPIRE_ROYAL_KITCHEN", 180, 547.5, [ "bonfire_spire-E5", "bonfire_spire-D5" ], i.concat([ "atlas-65" ])) || this;
            return a.battleBG = "battle-bonfire-inside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1160,
                y: 65,
                w: 160,
                h: 130,
                rect: !0
            }, "bonfire_spire-E5", 120, 512.5, null, o.EAreaEventAngle.UP, !1), 
            i.addClickableMoveEvent(1080, 0, 160, 130, 1180, 120, null, null, 0, null), 
            this.addAreaEvent(e, i, {
                x: 50,
                y: 500,
                w: 100,
                h: 170,
                guideHandPathToX: 100,
                guideHandPathToY: 480,
                rect: !0
            }, "bonfire_spire-D5", 1020, 500, null, o.EAreaEventAngle.LEFT, !1), 
            i.addClickableMoveEvent(0, 415, 100, 170, 100, 480, null, null, 0, null);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 37,
                    R: 1
                }, {
                    ID: 38,
                    R: 1
                }, {
                    ID: 94,
                    R: 1
                }, {
                    ID: 97,
                    R: 57
                } ]
            };
            this.addMonster(e, i, 1, 400, 430, !1, n), this.addMonster(e, i, 2, 980, 330, !1, n);
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireE6 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "E5", "MAP_BONFIRE_SPIRE_FIERY_ALCOVE", 115, 510, [ "bonfire_spire-E6" ], i.concat([ "atlas-116" ])) || this;
            return a.battleBG = "battle-bonfire-inside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 160,
                y: 655,
                w: 160,
                h: 130,
                rect: !0
            }, "bonfire_spire-E6", 1160, 162.5, null, o.EAreaEventAngle.DOWN, !1), 
            this.addChest(e, i, "chest6", 800, 368, [ {
                type: "gold",
                N: 200
            } ]);
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireE5 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "D6", "MAP_BONFIRE_SPIRE_GARDEN_GETAWAY", 330, 510, [ "bonfire_spire-C6" ], i.concat([ "atlas-116", "atlas-65" ])) || this;
            return a.battleBG = "battle-bonfire-outside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            var o = e.prodigy.player.backpack.hasItem("key", 12) > 0;
            return this.enableLayerID(1, !o), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 70,
                y: 500,
                w: 140,
                h: 250,
                rect: !0
            }, "bonfire_spire-C6", 1080, 480, null, o.EAreaEventAngle.LEFT, !1);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 37
                }, {
                    ID: 38
                }, {
                    ID: 94
                } ]
            };
            this.addMonster(e, i, 1, 430, 275, !1, n), this.addMonster(e, i, 2, 770, 500, !1, n);
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireD6 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "D5", "MAP_BONFIRE_SPIRE_THRONE_ROOM", 180, 550, [ "bonfire_spire-E6", "bonfire_spire-C6" ], i.concat([ "atlas-88", "atlas-86", "atlas-85", "atlas-65", "atlas-87" ])) || this;
            return a.queen = null, a.battleBG = "battle-bonfire-inside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1180,
                y: 501,
                w: 200,
                h: 210,
                rect: !0
            }, "bonfire_spire-E6", 180, 547.5, null, o.EAreaEventAngle.RIGHT, !1), 
            i.addClickableMoveEvent(1080, 396, 200, 210, 1210, 580, null, null, 0, null), 
            this.addAreaEvent(e, i, {
                x: 65,
                y: 695,
                r: 160
            }, "bonfire_spire-C6", 900, 355, null, o.EAreaEventAngle.DOWN_LEFT, !1);
            var n = e.prodigy.gameContainer.Localizer;
            i.addNPC(570, 430, "atlas-85", this.talkToGuard.bind(this, e), n.getText("NPC_NAME_GUARD_SLIME")).animate(), 
            this.queen = i.addNPC(645, 282, "atlas-86", this.talkToQueen.bind(this, e), n.getText("NPC_NAME_QUEEN_GOO_LIA")), 
            this.queen.animate();
        }, e.prototype.talkToGuard = function(t) {
            var e = t.prodigy.event.create();
            e.text(5, "slime_guard"), e.start();
        }, e.prototype.talkToQueen = function(t) {
            var e = t.prodigy.event.create();
            e.text(10, "slime_queen"), e.text(), e.text(5, "slime_guard"), e.start();
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireD5 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "D4", "MAP_BONFIRE_SPIRE_OUTER_SLIMEBURBIA", 220, 467.5, [ "bonfire_spire-C4" ], i.concat([ "atlas-116" ])) || this;
            return a.leverNumber = 3, a.battleBG = "battle-bonfire-outside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 100,
                y: 421,
                w: 200,
                h: 210,
                rect: !0
            }, "bonfire_spire-C4", 1120, 367.5, null, o.EAreaEventAngle.LEFT, !1), 
            i.addClickableMoveEvent(0, 316, 200, 210, 102, 500, null, null, 0, null), 
            this.toggleDynamicLayer(e, 3, 1 === this.zone.getState("lever3")), this.toggleDynamicLayer(e, 4, 1 !== this.zone.getState("lever3")), 
            i.addClickableEvent(960, 260, 120, 80, this.zone.toggleLever.bind(this.zone, i, 2, this, {
                x: 920,
                y: 320
            }));
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireD4 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "D3", "MAP_BONFIRE_SPIRE_MOLTEN_ENCLAVE", 180, 377.5, [ "bonfire_spire-C3" ], i) || this;
            return a.leverNumber = 2, a.battleBG = "battle-bonfire-inside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 60,
                y: 322.5,
                w: 120,
                h: 235,
                rect: !0
            }, "bonfire_spire-C3", 1100, 515, null, o.EAreaEventAngle.LEFT, !1), 
            i.addClickableMoveEvent(0, 205, 120, 235, 52, 360, null, null, 0, null);
            var n = {
                opponent: [ {
                    data: {
                        level: 70
                    },
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_BLAZE"),
                        gender: "male",
                        hair: {
                            style: 17,
                            color: 3
                        },
                        skinColor: 4,
                        eyeColor: 5
                    },
                    equipment: {
                        hat: 11,
                        outfit: 8,
                        weapon: 22
                    }
                } ],
                pets: [ {
                    ID: 27,
                    level: 57
                }, {
                    ID: 45,
                    level: 58
                } ]
            };
            this.addWizard(e, i, 740, 400, "wizard2", n).flip(), this.addChest(e, i, "chest3", 840, 415, [ {
                type: "outfit",
                ID: 27
            } ]);
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireD3 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "D2", "MAP_BONFIRE_SPIRE_VOLCANIC_SANCTUM", 180, 292.5, [ "bonfire_spire-C1" ], i) || this;
            return a.leverNumber = 2, a.battleBG = "battle-bonfire-inside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 60,
                y: 242.5,
                w: 120,
                h: 235,
                rect: !0
            }, "bonfire_spire-C1", 1145, 657.5, null, o.EAreaEventAngle.LEFT, !1), 
            i.addClickableMoveEvent(0, 125, 120, 235, 52, 280, null, null, 0, null);
            var n = {
                opponent: [ {
                    data: {
                        level: 60
                    },
                    appearance: {
                        name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_MARY_FIRE"),
                        gender: "female",
                        hair: {
                            style: 1,
                            color: 2
                        },
                        skinColor: 3,
                        eyeColor: 4
                    },
                    equipment: {
                        hat: 9,
                        outfit: 10,
                        weapon: 9
                    }
                } ],
                pets: [ {
                    ID: 7,
                    level: 57
                }, {
                    ID: 23,
                    level: 58
                } ]
            };
            this.addWizard(e, i, 640, 360, "wizard1", n).flip(), this.addChest(e, i, "chest2", 732, 374, [ {
                type: "hat",
                ID: 34
            } ]);
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireD2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "D1", "MAP_BONFIRE_SPIRE_PALM_TERRACE", 260, 382.5, [ "bonfire_spire-C1" ], i) || this;
            return a.leverNumber = 1, a.battleBG = "battle-bonfire-outside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 100,
                y: 359.5,
                w: 200,
                h: 235,
                rect: !0
            }, "bonfire_spire-C1", 1120, 237.5, null, o.EAreaEventAngle.LEFT, !1), 
            i.addClickableMoveEvent(0, 242, 200, 235, 98, 420, null, null, 0, null), 
            this.toggleDynamicLayer(e, 3, 1 === this.zone.getState("lever1")), this.toggleDynamicLayer(e, 4, 1 !== this.zone.getState("lever1")), 
            i.addClickableEvent(840, 240, 120, 100, this.zone.toggleLever.bind(this.zone, i, 0, this, {
                x: 800,
                y: 300
            }));
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireD1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C6", "MAP_BONFIRE_SPIRE_THRONE_ROOM_ENTRANCE", 250, 400, [ "bonfire_spire-D5", "bonfire_spire-D6", "bonfire_spire-B5" ], i.concat([ "atlas-65", "atlas-85" ])) || this;
            return a.battleBG = "battle-bonfire-outside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            var o = e.prodigy.player.backpack.hasItem("key", 12) > 0;
            return this.enableLayerID(1, !o), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1250,
                y: 510,
                w: 60,
                h: 300,
                rect: !0
            }, "bonfire_spire-D6", 350, 557.5, null, o.EAreaEventAngle.RIGHT, !1), 
            this.addAreaEvent(e, i, {
                x: 100,
                y: 401,
                w: 200,
                h: 250,
                rect: !0
            }, "bonfire_spire-B5", 1120, 527.5, null, o.EAreaEventAngle.LEFT, !1), 
            i.addClickableMoveEvent(0, 276, 200, 250, 160, 380, null, null, 0, null), 
            this.addAreaEvent(e, i, {
                x: 880,
                y: 211,
                w: 190,
                h: 190,
                rect: !0
            }, "bonfire_spire-D5", 180, 550, null, o.EAreaEventAngle.UP, !1), i.addClickableMoveEvent(785, 116, 190, 190, 880, 305, null, null, 0, null), 
            this.addChest(e, i, "chest5", 400, 290, [ {
                type: "weapon",
                ID: 21
            } ]);
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireC6 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C4", "MAP_BONFIRE_SPIRE_LAVA_PITS", 110, 397.5, [ "bonfire_spire-D4", "bonfire_spire-B4" ], i) || this;
            return a.leverNumber = 3, a.battleBG = "battle-bonfire-inside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1230,
                y: 330,
                w: 100,
                h: 280,
                rect: !0
            }, "bonfire_spire-D4", 220, 467.5, null, o.EAreaEventAngle.RIGHT, !1), 
            this.addAreaEvent(e, i, {
                x: 40,
                y: 360,
                w: 80,
                h: 150,
                arrowOffsetY: -20,
                rect: !0
            }, "bonfire_spire-B4", 1150, 280, null, o.EAreaEventAngle.LEFT, !1);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 34
                }, {
                    ID: 48
                }, {
                    ID: 75
                } ]
            };
            this.zone.isOnQuest(11) || (this.addMonster(e, i, 3, 520, 480, !1, n), 
            this.addMonster(e, i, 4, 740, 170, !1, n));
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireC4 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C3", "MAP_BONFIRE_SPIRE_SLIME_SHANTY", 160, 417.5, [ "bonfire_spire-C2", "bonfire_spire-D3", "bonfire_spire-B2" ], i) || this;
            return a.leverNumber = 2, a.battleBG = "battle-bonfire-inside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1117.5,
                y: 60,
                w: 145,
                h: 120,
                rect: !0
            }, "bonfire_spire-C2", 1100, 597.5, null, o.EAreaEventAngle.UP, !1), 
            i.addClickableMoveEvent(1045, 0, 145, 120, 1120, 20, null, null, 0, null), 
            this.addAreaEvent(e, i, {
                x: 1268,
                y: 519,
                w: 24,
                h: 158,
                rect: !0
            }, "bonfire_spire-D3", 180, 377.5, null, o.EAreaEventAngle.RIGHT, !1), 
            i.addClickableMoveEvent(1256, 440, 24, 158, 1270, 520, null, null, 0, null), 
            this.addAreaEvent(e, i, {
                x: 32,
                y: 417,
                w: 64,
                h: 210,
                rect: !0
            }, "bonfire_spire-B2", 1120, 342.5, null, o.EAreaEventAngle.LEFT, !1), 
            i.addClickableMoveEvent(0, 312, 64, 210, 22, 414, null, null, 0, null);
            this.addMonster(e, i, 2, 480, 350, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 23
                }, {
                    ID: 27
                }, {
                    ID: 39
                }, {
                    ID: 45
                }, {
                    ID: 63
                } ]
            });
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireC3 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C2", "MAP_BONFIRE_SPIRE_PALM_PATH", 1100, 597.5, [ "bonfire_spire-C3" ], i) || this;
            return a.leverNumber = 2, a.battleBG = "battle-bonfire-outside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1080.5,
                y: 680,
                w: 145,
                h: 80,
                rect: !0
            }, "bonfire_spire-C3", 1100, 200, null, o.EAreaEventAngle.DOWN, !1), 
            i.addClickableMoveEvent(1008, 640, 145, 80, 1080, 704, null, null, 0, null), 
            this.toggleDynamicLayer(e, 3, 1 === this.zone.getState("lever2")), this.toggleDynamicLayer(e, 4, 1 !== this.zone.getState("lever2")), 
            i.addClickableEvent(200, 120, 120, 100, this.zone.toggleLever.bind(this.zone, i, 1, this, {
                x: 260,
                y: 250
            }));
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireC2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C1", "MAP_BONFIRE_SPIRE_FIREWATCH_ROAD", 180, 417.5, [ "bonfire_spire-D1", "bonfire_spire-D2", "bonfire_spire-B1" ], i.concat("atlas-82")) || this;
            return a.leverNumber = 1, a.battleBG = "battle-bonfire-inside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1232,
                y: 199,
                w: 96,
                h: 230,
                rect: !0
            }, "bonfire_spire-D1", 300, 360, null, o.EAreaEventAngle.RIGHT, !1), 
            i.addClickableMoveEvent(1184, 84, 96, 230, 1256, 180, null, null, 0, null), 
            this.addAreaEvent(e, i, {
                x: 1254,
                y: 617.5,
                w: 52,
                h: 205,
                rect: !0
            }, "bonfire_spire-D2", 260, 382.5, null, o.EAreaEventAngle.RIGHT, !1), 
            i.addClickableMoveEvent(1228, 515, 52, 205, 1256, 602, null, null, 0, null), 
            this.addAreaEvent(e, i, {
                x: 31,
                y: 415,
                w: 62,
                h: 200,
                rect: !1
            }, "bonfire_spire-B1", 1120, 417.5, null, o.EAreaEventAngle.LEFT, !1), 
            i.addClickableMoveEvent(0, 315, 62, 200, 22, 416, null, null, 0, null), 
            this.addPippet(e, i, 1, 490, 350);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 7
                }, {
                    ID: 23
                }, {
                    ID: 39
                }, {
                    ID: 63
                } ]
            };
            this.addMonster(e, i, 1, 490, 350, !1, n), this.addMonster(e, i, 2, 880, 330, !1, n);
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireC1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B5", "MAP_BONFIRE_SPIRE_RED_HOT_RIVER", 150, 210, [ "bonfire_spire-B4", "bonfire_spire-C6" ], i) || this;
            return a.battleBG = "battle-bonfire-inside", a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 160,
                y: 60,
                w: 160,
                h: 120,
                rect: !0
            }, "bonfire_spire-B4", 160, 527.5, null, o.EAreaEventAngle.UP, !1), 
            i.addClickableMoveEvent(80, 0, 160, 120, 160, 100, null, null, 0, null), 
            this.addAreaEvent(e, i, {
                x: 1230,
                y: 480,
                w: 100,
                h: 180,
                rect: !0
            }, "bonfire_spire-C6", 250, 400, null, o.EAreaEventAngle.RIGHT, !1), 
            i.addClickableMoveEvent(1180, 390, 100, 180, 1200, 480, null, null, 0, null);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 37
                }, {
                    ID: 38
                }, {
                    ID: 94
                } ]
            };
            this.addMonster(e, i, 1, 740, 300, !1, n), this.addMonster(e, i, 2, 490, 210, !1, n), 
            this.addChest(e, i, "chest4", 740, 520, [ {
                type: "gold",
                N: 200
            } ]);
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireB5 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B4", "MAP_BONFIRE_SPIRE_VOLCANO_JUNCTION", 1080, 117.5, [ "bonfire_spire-A4", "bonfire_spire-B2", "bonfire_spire-C4", "bonfire_spire-B5" ], i) || this;
            return a.leverNumber = 3, a.battleBG = "battle-bonfire-inside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1080,
                y: 40,
                w: 160,
                h: 80,
                rect: !0
            }, "bonfire_spire-B2", 1100, 509.5, null, o.EAreaEventAngle.UP, !1), 
            this.addAreaEvent(e, i, {
                x: 1250,
                y: 280,
                w: 80,
                h: 160,
                arrowOffsetY: -20,
                rect: !0
            }, "bonfire_spire-C4", 130, 360, null, o.EAreaEventAngle.RIGHT, !1), 
            1 === this.zone.getState("lever3") && this.addAreaEvent(e, i, {
                x: 160,
                y: 675,
                w: 160,
                h: 90,
                rect: !0
            }, "bonfire_spire-B5", 160, 237.5, null, o.EAreaEventAngle.DOWN, !1), 
            this.addAreaEvent(e, i, {
                x: 25,
                y: 180,
                w: 50,
                h: 160,
                rect: !0
            }, "bonfire_spire-A4", 1020, 400, null, o.EAreaEventAngle.LEFT, !1);
            var n = {
                randDir: !0,
                encounter: [ {
                    ID: 34
                }, {
                    ID: 48
                }, {
                    ID: 75
                } ]
            };
            this.addMonster(e, i, 1, 440, 230, !1, n), this.addMonster(e, i, 2, 820, 310, !1, n);
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireB4 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B2", "MAP_BONFIRE_SPIRE_VOLCANIC_CAVERN", 180, 117.5, [ "bonfire_spire-B1", "bonfire_spire-C3", "bonfire_spire-B4" ], i) || this;
            return a.leverNumber = 2, a.battleBG = "battle-bonfire-inside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 198.5,
                y: 39,
                w: 145,
                h: 78,
                rect: !0
            }, "bonfire_spire-B1", 180, 532.5, null, o.EAreaEventAngle.UP, !1), 
            i.addClickableMoveEvent(126, 0, 145, 78, 200, 28, null, null, 0, null), 
            this.addAreaEvent(e, i, {
                x: 1248,
                y: 280,
                w: 64,
                h: 180,
                rect: !0
            }, "bonfire_spire-C3", 160, 417.5, null, o.EAreaEventAngle.RIGHT, !1), 
            i.addClickableMoveEvent(1216, 190, 64, 180, 1262, 282, null, null, 0, null), 
            1 === this.zone.getState("lever2") && (this.addAreaEvent(e, i, {
                x: 1120.5,
                y: 640,
                w: 145,
                h: 160,
                rect: !0
            }, "bonfire_spire-B4", 1040, 117.5, null, o.EAreaEventAngle.DOWN, !1), 
            i.addClickableMoveEvent(1048, 560, 145, 160, 1120, 700, null, null, 0, null));
            this.addMonster(e, i, 1, 600, 340, !1, {
                randDir: !0,
                encounter: [ {
                    ID: 7
                }, {
                    ID: 23
                }, {
                    ID: 27
                }, {
                    ID: 39
                }, {
                    ID: 45
                }, {
                    ID: 63
                } ]
            });
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireB2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(42), r = i(1), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B1", "MAP_BONFIRE_SPIRE_VOLCANO_VILLAGE", 160, 307, [ "bonfire_spire-C1", "bonfire_spire-B2", "bonfire_spire-A1" ], i.concat([ "atlas-88", "atlas-86", "atlas-85", "atlas-76" ])) || this;
            return a.questNPC = null, a.leverNumber = 1, a.battleBG = "battle-bonfire-inside", 
            a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(i, a, n) {
            t.prototype.setup.call(this, i, a, n), this.addAreaEvent(i, a, {
                x: 1248,
                y: 370,
                w: 64,
                h: 260,
                rect: !0
            }, "bonfire_spire-C1", 170, 417.5, null, r.EAreaEventAngle.RIGHT, !1), 
            a.addClickableMoveEvent(1216, 240, 64, 260, 1265, 385, null, null, 0, null), 
            1 === this.zone.getState("lever1") && (this.addAreaEvent(i, a, {
                x: 198.5,
                y: 690,
                w: 145,
                h: 60,
                rect: !0
            }, "bonfire_spire-B2", 180, 117.5, null, r.EAreaEventAngle.DOWN, !1), 
            a.addClickableMoveEvent(126, 660, 145, 60, 200, 700, null, null, 0, null)), 
            this.addAreaEvent(i, a, {
                x: 48,
                y: 277,
                w: 96,
                h: 230,
                rect: !0
            }, "bonfire_spire-A1", 865, 482, null, r.EAreaEventAngle.UP_LEFT, !1), 
            a.addClickableMoveEvent(0, 162, 96, 230, 28, 255, null, null, 0, null), 
            this.questNPC = a.addQuestNPC(750, 530, "slurpy", !1, e.onComplete.bind(this, i)), 
            a.createStoreNPC(360, 310, 6, i.prodigy.gameContainer.Localizer.getText("STORE_HOT_HOT_THREADS"), !0), 
            new o.ToyMerchant(i, a.content, 1054, 275);
        }, e.onComplete = function(t) {
            var e = t.prodigy.event.create();
            e.text(0, "slurpy"), e.start();
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireB1 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A4", "MAP_BONFIRE_SPIRE_PITFALL_TERRACE", 1020, 400, [ "bonfire_spire-B4" ], i.concat("atlas-87")) || this;
            return a.wasInsideTriggerLastFrame = !1, a.user = null, a.leverNumber = 3, 
            a.battleBG = "battle-bonfire-outside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.user = i.user, this.addAreaEvent(e, i, {
                x: 1180,
                y: 420,
                w: 200,
                h: 210,
                rect: !0
            }, "bonfire_spire-B4", 140, 200, null, o.EAreaEventAngle.RIGHT, !1), 
            i.addClickableMoveEvent(1080, 315, 200, 210, 1186, 492, null, null, 0, null), 
            this.addChest(e, i, "chestGuardian", 742, 236, [ {
                type: "key",
                ID: 12
            } ], {
                type: "item",
                ID: 92
            }), this.toggleDynamicLayer(e, 6, !1);
        }, e.prototype.update = function(e) {
            if (r.Util.isValid(this.user)) {
                var i = Phaser.Math.distance(this.user.x, this.user.y, 100, 380) <= 80;
                i !== this.wasInsideTriggerLastFrame && this.toggleDynamicLayer(e, 6, i, 500), 
                this.wasInsideTriggerLastFrame = i;
            }
            t.prototype.update.call(this, e);
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireA4 = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A1", "MAP_BONFIRE_SPIRE_VOLCANO_ENTRANCE", 865, 482, [ "bonfire_spire-B1" ], i) || this;
            return a.leverNumber = 1, a.battleBG = "battle-bonfire-outside", a;
        }
        return n(e, t), e.prototype.init = function(e, i, a, n) {
            return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, a, n);
        }, e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 995,
                y: 420,
                w: 120,
                h: 150,
                rect: !0
            }, "bonfire_spire-B1", 160, 307.5, null, o.EAreaEventAngle.DOWN_RIGHT, !1), 
            i.addClickableMoveEvent(920, 322, 235, 235, 1052, 506, null, null, 0, null), 
            this.addChest(e, i, "chest1", 774, 308, [ {
                type: "gold",
                N: 200
            } ]);
        }, e;
    }(i(20).BonfireSpireMap);
    e.BonfireSpireA1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(31), s = i(556), l = i(555), h = i(554), c = i(553), p = i(552), u = i(551), d = i(550), g = i(549), y = i(548), f = i(547), m = i(546), _ = i(545), v = i(544), E = i(543), b = i(542), O = i(541), T = i(540), A = i(539), I = i(538), w = i(537), C = i(536), S = i(535), P = i(534), D = i(533), L = i(532), x = i(531), M = i(530), N = i(529), U = i(528), k = i(527), R = i(526), B = i(525), G = i(524), V = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            i.name = "Bonfire Spire", i.ID = "bonfire_spire", i.battleBG = "battle-bonfire-outside", 
            i.onFaint = "bonfire_spire-B1", i.questHub = "bonfire_spire-B1", i.bgmID = 14, 
            i.currency = 12, i.states = [ "chest1", "chest2", "chest3", "chest4", "chest5", "chest6", "chestGuardian", "wizard1", "wizard2", "lever1", "lever2", "lever3", "turnip1", "turnip2", "minigametut" ];
            var a = [ "tileset-bonfire", "tileset-cloud", "tileset-cloud-new", "tileset-volcano", "tileset-volcano-new", "tileset-generic", "atlas-91", "tileset-town", "atlas-112", "tileset-collisions", "bgm-14" ];
            return i.maps = {
                A1: new s.BonfireSpireA1(i, a),
                A4: new l.BonfireSpireA4(i, a),
                B1: new h.BonfireSpireB1(i, a),
                B2: new c.BonfireSpireB2(i, a),
                B4: new p.BonfireSpireB4(i, a),
                B5: new u.BonfireSpireB5(i, a),
                C1: new d.BonfireSpireC1(i, a),
                C2: new g.BonfireSpireC2(i, a),
                C3: new y.BonfireSpireC3(i, a),
                C4: new f.BonfireSpireC4(i, a),
                C6: new m.BonfireSpireC6(i, a),
                D1: new _.BonfireSpireD1(i, a),
                D2: new v.BonfireSpireD2(i, a),
                D3: new E.BonfireSpireD3(i, a),
                D4: new b.BonfireSpireD4(i, a),
                D5: new O.BonfireSpireD5(i, a),
                D6: new T.BonfireSpireD6(i, a),
                E5: new A.BonfireSpireE5(i, a),
                E6: new I.BonfireSpireE6(i, a)
            }, i.quests = {
                1: new w.BonfireSpireQ1(i, a),
                2: new x.BonfireSpireQ2(i, a),
                3: new M.BonfireSpireQ3(i, a),
                4: new N.BonfireSpireQ4(i, a),
                5: new U.BonfireSpireQ5(i, []),
                6: new k.BonfireSpireQ6(i, []),
                7: new R.BonfireSpireQ7(i, a),
                8: new B.BonfireSpireQ8(i, a),
                9: new G.BonfireSpireQ9(i, a),
                10: new C.BonfireSpireQ10(i, a),
                11: new S.BonfireSpireQ11(i, a),
                12: new P.BonfireSpireQ12(i, a),
                13: new D.BonfireSpireQ13(i, a),
                14: new L.BonfireSpireQ14(i, [])
            }, i;
        }
        return n(e, t), e.prototype.processLeverRequirements = function(t, e, i) {
            this.enableLeverElement(!1);
            for (var a, n, r = this.getCurrentQuest(), s = 0; s < 3; s++) {
                var l = this.getState("lever" + (s + 1));
                if (o.Util.isValid(i[s]) && i[s] !== l) {
                    a = s + 1, o.Util.log("Required Lever: lever" + a);
                    break;
                }
            }
            var h = "QUESTS_BONFIRE_SPIRE_PULL_LEVER";
            switch (a) {
              case 1:
                n = [ "bonfire_spire-D1" ], this.highlightLever(t, e, "D1", 960, 203);
                break;

              case 2:
                n = [ "bonfire_spire-C2" ], this.highlightLever(t, e, "C2", 320, 80);
                break;

              case 3:
                n = [ "bonfire_spire-D4" ], this.highlightLever(t, e, "D4", 1080, 190);
                break;

              default:
                h = r.descCacheKey, n = r.areaCache;
            }
            r.area !== n && (r.area = n, r.descKey = h, o.Util.isValid(this.toggle) && this.toggle && (this.toggle = !1, 
            o.Util.log("Toggled"), t.process())), o.Util.log("Quest Target Area: " + r.area);
        }, e.prototype.enableLeverElement = function(t) {
            o.Util.isValid(this.leverGuideHand) && (this.leverGuideHand.visible = t);
        }, e.prototype.highlightLever = function(t, e, i, a, n) {
            e.getTag() === i && (this.leverGuideHand = o.Util.hilightObjectOnLayer(this.game, a, n, null, t.content), 
            this.enableLeverElement(!0));
        }, e.prototype.isLeverLocked = function(t) {
            return !(this.getCurrentQuestID() > 14) && 1 === this.getState("lever" + (t + 1));
        }, e.prototype.toggleLever = function(t, e, i, a) {
            if (!this.isLeverLocked(e)) {
                var n = this.game.prodigy.event.create();
                n.validPath(t.user, t.path, a.x, a.y, !1), n.function(this.faceLever.bind(this, t)), 
                n.enableInput(!1), n.function(this.bonfireSetStates.bind(this, i, e)), 
                n.shake(0, 3e3, 10, "v"), n.enableInput(!0), n.function(t.process.bind(t)), 
                n.start();
            }
        }, e.prototype.faceLever = function(t) {
            t.user.isFacingLeft() && t.user.flip();
        }, e.prototype.bonfireSetStates = function(t, e) {
            var i = 1 !== this.getState("lever" + (e + 1)), a = i ? e + 1 : e;
            this.setState("lever1", null), this.setState("lever2", null), this.setState("lever3", null);
            for (var n = 0; n < a; n++) this.setState("lever" + (n + 1), 1);
            this.toggle = !0, t.toggleDynamicLayer(this.game, 3, i), t.toggleDynamicLayer(this.game, 4, !i), 
            i && o.Util.isValid(this.leverGuideHand) && (this.leverGuideHand.visible = !1);
        }, e.prototype.processLeverQuest = function(t, e) {
            1 === this.getState("lever" + e) && this.isOnSequence(e, 0) && (this.completeSequence(e, 0), 
            t.process());
        }, e.prototype.processLavaLayers = function(t) {
            var e = [ this.getState("lever1"), this.getState("lever2"), this.getState("lever3") ];
            if (o.Util.isValid(t.leverNumber)) {
                var i = !(1 === e[t.leverNumber - 1]), a = this.game.prodigy.player.backpack.hasItem("key", 12) > 0;
                t.enableLayerID(0, !i), t.enableLayerID(1, i && !a), t.enableLayerID(2, i);
            }
        }, e;
    }(r.Zone);
    e.BonfireSpireZone = V;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C2", "MAP_ACTIVITY_RIVER_BRIDGE", 100, 480, [ "activity_zone-C1", "activity_zone-B2" ], i) || this;
            return a.mapId = 5, a.monsterCoords = [ {
                x: 440,
                y: 160
            }, {
                x: 760,
                y: 160
            }, {
                x: 660,
                y: 500
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1060,
                y: 40,
                w: 120,
                h: 80,
                rect: !0
            }, "activity_zone-C1", 1040, 620, null, o.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
                x: 40,
                y: 480,
                w: 80,
                h: 160,
                rect: !0
            }, "activity_zone-B2", 1180, 480, null, o.EAreaEventAngle.LEFT, !1), 
            null;
        }, e;
    }(i(55).ActivityZoneMap);
    e.ActivityZoneC2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "C1", "MAP_ACTIVITY_NORTHEAST", 520, 500, [ "activity_zone-B1", "activity_zone-C2" ], i) || this;
            return a.mapId = 4, a.monsterCoords = [ {
                x: 440,
                y: 160
            }, {
                x: 840,
                y: 280
            }, {
                x: 400,
                y: 440
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 40,
                y: 140,
                w: 80,
                h: 200,
                rect: !0
            }, "activity_zone-B1", 1180, 220, null, o.EAreaEventAngle.LEFT, !1), 
            this.addAreaEvent(e, i, {
                x: 40,
                y: 620,
                w: 80,
                h: 120,
                rect: !0
            }, "activity_zone-B2", 1160, 100, null, o.EAreaEventAngle.LEFT, !1), 
            this.addAreaEvent(e, i, {
                x: 40,
                y: 360,
                w: 80,
                h: 160,
                rect: !0
            }, "activity_zone-B1", 1180, 420, null, o.EAreaEventAngle.LEFT, !1), 
            this.addAreaEvent(e, i, {
                x: 1080,
                y: 680,
                w: 240,
                h: 80,
                rect: !0
            }, "activity_zone-C2", 1060, 100, null, o.EAreaEventAngle.DOWN, !1), 
            this.addChest(e, i, "chest1", 230, 600, [ {
                type: "item",
                ID: 96
            }, {
                type: "item",
                ID: 97
            }, {
                type: "item",
                ID: 106
            } ]), null;
        }, e;
    }(i(55).ActivityZoneMap);
    e.ActivityZoneC1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i, {
                name: e.prodigy.gameContainer.Localizer.getText("NPC_NAME_SWOOPY"),
                npc: !0,
                nameX: -7,
                nameY: -100
            }, null, a, n) || this;
            return r.tweens = [], r.content = i, r.coords = {
                x: a,
                y: n
            }, r.onClick = o, r.setup(), r;
        }
        return n(e, t), e.prototype.setup = function() {
            var t = "atlas-139";
            this.sprite = this.game.prodigy.create.element(this.content, this.coords.x, this.coords.y);
            for (var e = this.sprite.add(this.game.prodigy.create.sprite(0, -43, t, "backpack-0")), i = this.sprite.add(this.game.prodigy.create.sprite(36, -33, t, "l-arm-0")), a = this.sprite.add(this.game.prodigy.create.sprite(0, -33, t, "r-arm-0")), n = this.sprite.add(this.game.prodigy.create.sprite(11, -80, t, "puff-0")), r = this.sprite.add(this.game.prodigy.create.sprite(2, -50, t, "body-0")), s = 0; s < this.sprite.children.length; s++) this.sprite.children[s].inputEnabled = !0, 
            this.sprite.children[s].events.onInputDown.add(this.onClick);
            this.standTween1 = [], this.standTween1.push(new o.TweenController(r)), 
            this.standTween1[0].set("y", [ r.y, r.y + 1, r.y + 1, r.y ], 150, 9999), 
            this.standTween1.push(new o.TweenController(n)), this.standTween1[1].set("y", [ n.y, n.y, n.y + 1, n.y + 1 ], 150, 9999), 
            this.standTween1.push(new o.TweenController(a)), this.standTween1[2].set("y", [ a.y, a.y + 1, a.y + 1, a.y ], 150, 9999), 
            this.standTween1.push(new o.TweenController(i)), this.standTween1[3].set("y", [ i.y, i.y + 1, i.y + 1, i.y ], 150, 9999), 
            this.standTween1.push(new o.TweenController(e)), this.standTween1[4].set("y", [ e.y, e.y + 1, e.y + 1, e.y ], 150, 9999), 
            this.standTween1[4].end(this.updateIdleCounter.bind(this)), this.standTween2 = [], 
            this.standTween2.push(new o.TweenController(r)), this.standTween2[0].set("frameName", [ "body-0", "body-0", "body-1", "body-1", "body-0", "body-0", "body-0", "body-0", "body-0", "body-2", "body-2", "body-0", "body-0" ], 150, 9999), 
            this.standTween2.push(new o.TweenController(r)), this.standTween2[1].set("y", [ r.y, r.y, r.y + 1, r.y + 1, r.y, r.y, r.y, r.y, r.y, r.y + 1, r.y + 1, r.y, r.y ], 150, 9999), 
            this.standTween2.push(new o.TweenController(n)), this.standTween2[2].set("y", [ n.y, n.y, n.y, n.y + 1, n.y + 1, n.y, n.y, n.y - 1, n.y - 1, n.y, n.y, n.y + 1, n.y + 1 ], 150, 9999), 
            this.standTween2.push(new o.TweenController(a)), this.standTween2[3].set("y", [ a.y, a.y, a.y + 1, a.y + 2, a.y + 1, a.y - 1, a.y - 1, a.y, a.y, a.y, a.y, a.y, a.y ], 150, 9999), 
            this.standTween2.push(new o.TweenController(i)), this.standTween2[4].set("frameName", [ "l-arm-0", "l-arm-0", "l-arm-1", "l-arm-2", "l-arm-2", "l-arm-2", "l-arm-2", "l-arm-2", "l-arm-2", "l-arm-2", "l-arm-2", "l-arm-0", "l-arm-0" ], 150, 9999), 
            this.standTween2.push(new o.TweenController(i)), this.standTween2[5].set("y", [ i.y, i.y, i.y + 1, i.y + 1, i.y, i.y - 2, i.y - 2, i.y - 1, i.y - 1, i.y, i.y, i.y, i.y ], 150, 9999), 
            this.standTween2.push(new o.TweenController(e)), this.standTween2[6].set("y", [ e.y, e.y, e.y + 1, e.y + 1, e.y + 1, e.y, e.y - 1, e.y - 1, e.y + 1, e.y + 1, e.y, e.y ], 150, 9999), 
            this.standTween2[6].end(this.resetToDefaultIdle.bind(this)), this.tweens = this.standTween1, 
            this.showName(!0), this.stand();
        }, e.prototype.update = function() {
            t.prototype.update.call(this);
            for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update();
        }, e.prototype.walk = function() {
            this.stand();
        }, e.prototype.stand = function() {
            for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start();
        }, e.prototype.updateIdleCounter = function() {
            this.idleCounter++, this.idleCounter > 3 * Math.random() + 3 && (this.tweens = this.standTween2, 
            this.stand(), this.idleCounter = 0);
        }, e.prototype.resetToDefaultIdle = function() {
            this.tweens = this.standTween1, this.stand();
        }, e;
    }(i(14).CreatureContainer);
    e.Swoopy = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(560), r = i(1), s = i(0), l = function(t) {
        function e(e, i) {
            return t.call(this, e, "B3", "MAP_ACTIVITY_CENTRAL_VILLAGE", 640, 360, [ "activity_zone-B2" ], i.concat("atlas-76")) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 200,
                y: 40,
                w: 160,
                h: 80,
                rect: !0
            }, "activity_zone-B2", 200, 620, null, r.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
                x: 1080,
                y: 40,
                w: 160,
                h: 80,
                rect: !0
            }, "activity_zone-B2", 1080, 620, null, r.EAreaEventAngle.UP, !1), new o.Swoopy(e, i.content, 585, 300, this.zone.onNpcClicked.bind(this.zone, i)), 
            s.Util.isValid(this.zone.getState("firstVisit")) && !0 !== this.zone.getState("firstVisit") || this.zone.setState("firstVisit", !1), 
            null;
        }, e;
    }(i(55).ActivityZoneMap);
    e.ActivityZoneB3 = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B2", "MAP_ACTIVITY_ISLAND_CENTER", 640, 360, [ "activity_zone-B1", "activity_zone-A2", "activity_zone-C2", "activity_zone-B3" ], i) || this;
            return a.mapId = 3, a.monsterCoords = [ {
                x: 240,
                y: 340
            }, {
                x: 1e3,
                y: 340
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 40,
                y: 500,
                w: 80,
                h: 280,
                rect: !0
            }, "activity_zone-A2", 1180, 480, null, o.EAreaEventAngle.LEFT, !1), 
            this.addAreaEvent(e, i, {
                x: 1240,
                y: 480,
                w: 80,
                h: 200,
                rect: !0
            }, "activity_zone-C2", 100, 480, null, o.EAreaEventAngle.RIGHT, !1), 
            this.addAreaEvent(e, i, {
                x: 200,
                y: 40,
                w: 160,
                h: 80,
                rect: !0
            }, "activity_zone-B1", 220, 620, null, o.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
                x: 1160,
                y: 40,
                w: 160,
                h: 80,
                rect: !0
            }, "activity_zone-C1", 100, 620, null, o.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
                x: 200,
                y: 680,
                w: 160,
                h: 80,
                rect: !0
            }, "activity_zone-B3", 200, 100, null, o.EAreaEventAngle.DOWN, !1), 
            this.addAreaEvent(e, i, {
                x: 1080,
                y: 680,
                w: 160,
                h: 80,
                rect: !0
            }, "activity_zone-B3", 1080, 100, null, o.EAreaEventAngle.DOWN, !1), 
            null;
        }, e;
    }(i(55).ActivityZoneMap);
    e.ActivityZoneB2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "B1", "MAP_ACTIVITY_SWING_BRIDGE", 320, 480, [ "activity_zone-A1", "activity_zone-C1", "activity_zone-B2" ], i) || this;
            return a.mapId = 2, a.monsterCoords = [ {
                x: 640,
                y: 570
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 40,
                y: 220,
                w: 80,
                h: 120,
                rect: !0
            }, "activity_zone-A1", 1180, 220, null, o.EAreaEventAngle.LEFT, !1), 
            this.addAreaEvent(e, i, {
                x: 1240,
                y: 200,
                w: 80,
                h: 120,
                rect: !0
            }, "activity_zone-C1", 100, 160, null, o.EAreaEventAngle.RIGHT, !1), 
            this.addAreaEvent(e, i, {
                x: 220,
                y: 680,
                w: 120,
                h: 80,
                rect: !0
            }, "activity_zone-B2", 200, 100, null, o.EAreaEventAngle.DOWN, !1), 
            this.addAreaEvent(e, i, {
                x: 1180,
                y: 700,
                w: 120,
                h: 40,
                rect: !0
            }, "activity_zone-B2", 1160, 100, null, o.EAreaEventAngle.DOWN, !1), 
            this.addAreaEvent(e, i, {
                x: 1260,
                y: 620,
                w: 40,
                h: 120,
                rect: !0
            }, "activity_zone-C1", 100, 620, null, o.EAreaEventAngle.RIGHT, !1), 
            this.addAreaEvent(e, i, {
                x: 1240,
                y: 380,
                w: 80,
                h: 120,
                rect: !0
            }, "activity_zone-C1", 100, 360, null, o.EAreaEventAngle.RIGHT, !1), 
            this.addAreaEvent(e, i, {
                x: 40,
                y: 420,
                w: 80,
                h: 120,
                rect: !0
            }, "activity_zone-A1", 1180, 440, null, o.EAreaEventAngle.RIGHT, !1), 
            null;
        }, e;
    }(i(55).ActivityZoneMap);
    e.ActivityZoneB1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A2", "MAP_ACTIVITY_WESTERN_SHORE", 1180, 480, [ "activity_zone-B2", "activity_zone-A1" ], i) || this;
            return a.mapId = 1, a.monsterCoords = [ {
                x: 480,
                y: 240
            }, {
                x: 800,
                y: 440
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 280,
                y: 40,
                w: 120,
                h: 80,
                rect: !0
            }, "activity_zone-A1", 260, 620, null, o.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
                x: 1100,
                y: 40,
                w: 120,
                h: 80,
                rect: !0
            }, "activity_zone-A1", 1140, 620, null, o.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
                x: 1240,
                y: 480,
                w: 80,
                h: 120,
                rect: !0
            }, "activity_zone-B2", 100, 500, null, o.EAreaEventAngle.RIGHT, !1), 
            null;
        }, e;
    }(i(55).ActivityZoneMap);
    e.ActivityZoneA2 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(1), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "A1", "MAP_ACTIVITY_NORTHWEST", 260, 620, [ "activity_zone-B1", "activity_zone-A2" ], i) || this;
            return a.mapId = 0, a.monsterCoords = [ {
                x: 260,
                y: 250
            }, {
                x: 680,
                y: 320
            }, {
                x: 760,
                y: 560
            } ], a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 1240,
                y: 220,
                w: 80,
                h: 120,
                rect: !0
            }, "activity_zone-B1", 100, 240, null, o.EAreaEventAngle.RIGHT, !1), 
            this.addAreaEvent(e, i, {
                x: 1240,
                y: 420,
                w: 80,
                h: 120,
                rect: !0
            }, "activity_zone-B1", 100, 420, null, o.EAreaEventAngle.RIGHT, !1), 
            this.addAreaEvent(e, i, {
                x: 260,
                y: 680,
                w: 120,
                h: 80,
                rect: !0
            }, "activity_zone-A2", 300, 100, null, o.EAreaEventAngle.DOWN, !1), 
            this.addAreaEvent(e, i, {
                x: 1140,
                y: 680,
                w: 120,
                h: 80,
                rect: !0
            }, "activity_zone-A2", 1060, 100, null, o.EAreaEventAngle.UP, !1), null;
        }, e;
    }(i(55).ActivityZoneMap);
    e.ActivityZoneA1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(8), r = i(183), s = i(182), l = i(39), h = i(185), c = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "GH1", i.concat([ "atlas-81", "atlas-83", "atlas-82", "atlas-116", "bgm-11", "bgm-12", "spine-68", "spine-69", "spine-71", "spine-73" ]), "map-academy-GH1") || this;
            return a.noot = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), i.user.position.x = 640, i.user.position.y = 850, 
            this.master = new s.PuppetMaster(e, i.content, 640, 0), this.pippet = new r.Pippet(e, i.content, 640, 0, i.user, i.path, null), 
            this.pippet.flip(), this.master.alpha = this.pippet.alpha = 1, h.AcademyGH1.addEffects(e, i);
        }, e.prototype.start = function(e, i) {
            t.prototype.start.call(this, e, i), this.noot = i.addNPC(640, 800, "atlas-81"), 
            this.noot.float(!0), this.noot.walkSpeed = 2;
            var a = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMController), n = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMService);
            a.execute(n.getStateMachine(55), {
                game: e,
                screen: i,
                scene: this,
                player: i.user,
                noot: this.noot,
                path: i.path,
                puppetmaster: this.master,
                pippet: this.pippet,
                pathfinder: i.path
            });
        }, e;
    }(l.Scene);
    e.GreatHallPt3 = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(8), r = i(39), s = i(184), l = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "GH2", i.concat([ "atlas-81", "atlas-83", "atlas-82", "atlas-116", "bgm-11", "bgm-12", "spine-67", "spine-69", "spine-72", "spine-73", "spine-74" ]), "map-academy-GH2") || this;
            return a.noot = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), i.user.position.x = 640, i.user.position.y = 850, 
            this.keystonesSpine = this.game.add.spine(640, 403, "spine-65"), this.keystonesSpine.setToSetupPose(), 
            this.screen.content.add(this.keystonesSpine), this.debris = this.game.add.spine(640, 480, "spine-67"), 
            this.debris.setToSetupPose(), this.screen.foreground.add(this.debris), 
            s.AcademyGH2.addEffects(e, i);
        }, e.prototype.start = function(e, i) {
            t.prototype.start.call(this, e, i), this.noot = i.addNPC(640, 800, "atlas-81"), 
            this.noot.float(!0), this.noot.walkSpeed = 2;
            var a = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMController), n = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMService);
            a.execute(n.getStateMachine(54), {
                game: e,
                screen: i,
                scene: this,
                player: i.user,
                noot: this.noot,
                keystones: this.keystonesSpine,
                debris: this.debris
            });
        }, e;
    }(r.Scene);
    e.GreatHallPt2 = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(8), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, "GH3", i.concat([ "atlas-81", "atlas-83", "atlas-82", "atlas-116", "bgm-11", "bgm-12", "spine-67", "spine-69", "spine-72" ]), "map-academy-GH3") || this;
            return a.noot = null, a;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), i.user.position.x = 640, i.user.position.y = 850, 
            this.debris = this.game.add.spine(640, 480, "spine-67"), this.debris.setToSetupPose(), 
            this.screen.foreground.add(this.debris);
        }, e.prototype.start = function(e, i) {
            t.prototype.start.call(this, e, i), this.noot = i.addNPC(640, 760, "atlas-81"), 
            this.noot.float(!0), this.noot.walkSpeed = 2;
            var a = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMController), n = e.prodigy.gameContainer.get(o.GameIdentifiers.FSMService);
            a.execute(n.getStateMachine(53), {
                game: e,
                screen: i,
                scene: this,
                player: i.user,
                noot: this.noot,
                path: i.path,
                pathfinder: i.path,
                debris: this.debris
            });
        }, e;
    }(i(39).Scene);
    e.GreatHallPt1 = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, i, 1, "", {
                type: "seq",
                N: 1
            }, [ "academy-GH1" ], [], [], [], [], !1) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            return t.prototype.setup.call(this, e, i, a), "GH3" === a.getTag() ? e.prodigy.world.playScene("academy-greatHallPt1") : "GH2" === a.getTag() ? e.prodigy.world.playScene("academy-greatHallPt2") : "GH1" === a.getTag() && e.prodigy.world.playScene("academy-greatHallPt3"), 
            {
                quit: !0
            };
        }, e;
    }(i(6).Quest);
    e.AcademyTutorial = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            return t.call(this, e, "GH3", "MAP_ACADEMY_GREATHALL", 640, 600, [ "academy-GH2" ], i.concat([ "spine-69", "spine-75" ])) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i, a) {
            t.prototype.setup.call(this, e, i, a), this.addAreaEvent(e, i, {
                x: 640,
                y: 40,
                w: 960,
                h: 80
            }, "academy-GH2", 640, 600);
            var n = e.add.spine(949, 448, "spine-75");
            n.setAnimationByName(0, "animation", !0), n.scale.x = -1, i.content.add(n);
        }, e;
    }(i(7).Map);
    e.AcademyGH3 = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(31), s = i(185), l = i(184), h = i(570), c = i(569), p = i(568), u = i(567), d = i(566), g = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            i.name = "The Academy", i.ID = "academy", i.battleBG = "", i.onFaint = "academy-GH3", 
            i.questHub = "academy-GH3", i.bgmID = 12, i.currency = 13, i.states = [ "daily" ], 
            i.monsters = [];
            var a = [ "tileset-academy", "tileset-collisions", "bgm-" + i.bgmID ];
            return i.maps = {
                GH1: new s.AcademyGH1(i, a),
                GH2: new l.AcademyGH2(i, a),
                GH3: new h.AcademyGH3(i, a)
            }, i.quests = {
                1: new c.AcademyTutorial(i, a)
            }, i.scenes = {
                greatHallPt1: new p.GreatHallPt1(i, a),
                greatHallPt2: new u.GreatHallPt2(i, a),
                greatHallPt3: new d.GreatHallPt3(i, a)
            }, i;
        }
        return n(e, t), e.prototype.placeDaily = function(t, e, i) {}, e.prototype.init = function(e, i, a) {
            t.prototype.init.call(this, e, i, a), o.Util.isValid(this.getCurrentQuest()) || this.startQuest(1);
        }, e;
    }(r.Zone);
    e.AcademyZone = g;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(10), n = i(81), o = i(96), r = i(0), s = i(571), l = i(181), h = i(557), c = i(180), p = i(126), u = i(480), d = i(456), g = i(443), y = i(417), f = i(377), m = i(344), _ = i(313), v = function() {
        function t(t) {
            this.game = t, this.zones = {
                forest: new u.ForestZone(t),
                shiverchill: new f.ShiverchillZone(t),
                skywatch: new m.SkywatchZone(t),
                lamplight: new g.LamplightZone(t),
                dyno: new p.DynoZone(t),
                bonfire_spire: new h.BonfireSpireZone(t),
                house: new d.HouseZone(t),
                toyzone: new _.ToyZone(t),
                shipwreck_shore: new y.ShipwreckShoreZone(t),
                activity_zone: new l.ActivityZone(t),
                darktower: new c.DarktowerZone(t),
                academy: new s.AcademyZone(t)
            }, this.pippetEncounterDaily = null, this.pippetEncounterSpawn = null;
        }
        return t.prototype.enter = function() {
            this.pippetEncounterDaily = new o.PippetEncounter(this.game, this.game.prodigy.player), 
            !this.pippetEncounterDaily.isInitialized() || this.pippetEncounterDaily.hasDateIdChanged() ? (this.pippetEncounterDaily.init(), 
            this.pippetEncounterSpawn = this.pippetEncounterDaily.getSpawn()) : this.pippetEncounterDaily.isComplete() || (this.pippetEncounterSpawn = this.pippetEncounterDaily.getSpawn());
            var t = this.zones.house.getQuestState();
            if (!r.Util.isDefined(t) || 1 === a(t, "ID", 0) && a(t, "seq", 0) < 4) {
                this.game.prodigy.player.data.level = 1, this.game.prodigy.player.data.stars = 0, 
                this.game.prodigy.player.tutorial.setData({
                    zones: {},
                    menus: {}
                }), this.game.prodigy.player.tutorial.updated = !0, this.game.prodigy.player.backpack.data.weapon = this.game.prodigy.player.backpack.data.weapon.filter(function(t) {
                    return 25 !== t.ID;
                });
                var e = [ 1, 4, 7, 10 ];
                this.game.prodigy.player.kennel.data = this.game.prodigy.player.kennel.data.filter(function(t) {
                    return !n(e, t.ID);
                }), this.game.prodigy.player.appearance.setName(null), delete this.game.prodigy.player.equipment.data.hat, 
                this.zones.house.startQuest(1), this.teleport("house");
            } else if (r.Util.isDefined(t) && 1 === a(t, "ID", 0) && a(t, "seq", 0) >= 4) r.Util.isValid(this.game.prodigy.player.state.data.zone.academy) && (this.game.prodigy.player.state.data.zone.academy.quest = null), 
            this.teleport("academy-GH3"); else {
                var i = a(this.game.prodigy.player.data, "zone", "");
                i = this.game.prodigy.skin.checkForExclusiveMap(i), this.game.prodigy.classModeController.isClassMode([ 3 ]) && this.game.prodigy.classModeController.isLockedZone(i) ? this.teleport("forest-C8") : r.Util.isDefined(i) && i.indexOf("-") > 0 ? this.teleport(i) : this.teleport("house");
            }
        }, t.prototype.isValidLocation = function(t) {
            var e = t.split("-");
            return r.Util.isValid(this.zones[e[0]]) && r.Util.isValid(this.zones[e[0]].maps[e[1]]);
        }, t.prototype.teleport = function(t, e, i, a, n) {
            void 0 === n && (n = {}), this.process();
            var o = t.replace("tower-0", "darktower-A1");
            n.assets = r.Util.isValid(n.assets) ? n.assets : [], n.assets = n.assets.concat("sfx-19");
            var s = o.split("-");
            if ("house" === o) this.zones.house.teleport("house", e, i, a, n); else if (r.Util.isValid(this.zones[s[0]]) && this.isValidLocation(o)) this.zones[s[0]].teleport(s[1], e, i, a, n); else {
                var l = void 0;
                switch (r.Util.isValid(e) && r.Util.isValid(i) && (l = {
                    playerPosition: {
                        x: e,
                        y: i
                    }
                }), o) {
                  case "dino-1":
                    this.game.prodigy.start("Museum", n, l);
                    break;

                  default:
                    this.zones.house.teleport("house", e, i, a, n);
                }
            }
        }, t.prototype.playScene = function(t) {
            this.process();
            var e = t.split("-");
            r.Util.isValid(this.zones[e[0]]) && this.zones[e[0]].playScene(e[1]);
        }, t.prototype.getCurrentMap = function() {
            return this.currentZone;
        }, t.prototype.getState = function(t) {
            return this.game.prodigy.player.state.get("world-" + t);
        }, t.prototype.setState = function(t, e) {
            this.game.prodigy.player.state.set("world-" + t, e);
        }, t.prototype.getZone = function(t) {
            return this.zones[t];
        }, t.prototype.process = function() {
            this.getWorldDate() !== this.getTownState("bounty") && (this.game.prodigy.bounty.generateBounties(this.getWorldDate()), 
            this.setTownState(this.getWorldDate(), "bounty"));
        }, t.prototype.getTownState = function(t) {
            return this.getZone("lamplight").getState(t);
        }, t.prototype.setTownState = function(t, e) {
            this.getZone("lamplight").setState(e, t);
        }, t.prototype.getWorldDate = function() {
            var t = new Date(), e = t.getDate(), i = t.getMonth() + 1, a = t.getFullYear();
            return e < 10 && (e = "0" + e), i < 10 && (i = "0" + i), "" + i + e + a;
        }, t;
    }();
    e.World = v;
}, function(t) {
    t.exports = {
        noot: [ {
            textKey: "DIALOGUE_NOOT_0",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-12",
                s: 0,
                d: 1
            }
        }, {
            textKey: "DIALOGUE_NOOT_1",
            face: 3,
            anim: 1,
            audio: {
                tag: "voice-10-12",
                s: 1,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_2",
            face: 0,
            audio: {
                tag: "voice-10-12",
                s: 5,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_3",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-10-13",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_4",
            face: 1,
            audio: {
                tag: "voice-10-13",
                s: 7,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_5",
            face: 3,
            audio: {
                tag: "voice-10-13",
                s: 13,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_6",
            face: 4,
            audio: {
                tag: "voice-10-14",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_7",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-14",
                s: 6,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_8",
            face: 4,
            audio: {
                tag: "voice-10-3",
                s: 2,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_9",
            face: 1,
            audio: {
                tag: "voice-10-1",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_10",
            face: 0,
            audio: {
                tag: "voice-10-1",
                s: 6,
                d: 3.5
            }
        }, {
            textKey: "DIALOGUE_NOOT_11",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-2",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_12",
            face: 3,
            audio: {
                tag: "voice-10-2",
                s: 4,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_13",
            face: 4,
            audio: {
                tag: "voice-10-4",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_14",
            face: 0,
            audio: {
                tag: "voice-10-15",
                s: 8,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_15",
            face: 0,
            audio: {
                tag: "voice-10-5",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_16",
            face: 4,
            audio: {
                tag: "voice-10-5",
                s: 4,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_17",
            face: 3,
            audio: {
                tag: "voice-10-5",
                s: 8,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_18",
            face: 2,
            audio: {
                tag: "voice-10-6",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_19",
            face: 0,
            audio: {
                tag: "voice-10-7",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_20",
            face: 4,
            audio: {
                tag: "voice-10-7",
                s: 3,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_21",
            face: 0,
            audio: {
                tag: "voice-10-7",
                s: 6,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_22",
            face: 1,
            anim: 1,
            audio: {
                tag: "voice-10-8",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_23",
            face: 4,
            audio: {
                tag: "voice-10-8",
                s: 4,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_24",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-16",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_25",
            face: 5,
            anim: 4,
            audio: {
                tag: "voice-10-16",
                s: 4,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_26",
            face: 4,
            audio: {
                tag: "voice-10-16",
                s: 7,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_NOOT_27",
            face: 0,
            audio: {
                tag: "voice-10-15",
                s: 0,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_NOOT_28",
            face: 1,
            audio: {
                tag: "voice-10-12",
                s: 12,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_29",
            face: 5,
            anim: 2,
            audio: {
                tag: "voice-10-17",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_30",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-17",
                s: 6,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_NOOT_31",
            face: 1,
            audio: {
                tag: "voice-10-17",
                s: 14,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_32",
            face: 3,
            audio: {
                tag: "voice-10-18",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_33",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-18",
                s: 5,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_34",
            face: 0,
            audio: {
                tag: "voice-10-16",
                s: 15,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_35",
            face: 0,
            audio: {
                tag: "voice-10-19",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_36",
            face: 2,
            audio: {
                tag: "voice-10-19",
                s: 10,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_37",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-19",
                s: 6,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_38",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-20",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_39",
            face: 1,
            audio: {
                tag: "voice-10-20",
                s: 3,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_40",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-20",
                s: 5,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_41",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-20",
                s: 8,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_42",
            face: 0,
            audio: {
                tag: "voice-10-19",
                s: 15,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_43",
            face: 0,
            audio: {
                tag: "voice-10-19",
                s: 22,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_44",
            face: 0,
            audio: {
                tag: "voice-10-21",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_45",
            face: 2,
            audio: {
                tag: "voice-10-21",
                s: 4,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_46",
            face: 3,
            audio: {
                tag: "voice-10-21",
                s: 7,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_47",
            face: 4,
            audio: {
                tag: "voice-10-21",
                s: 11,
                d: 1
            }
        }, {
            textKey: "DIALOGUE_NOOT_48",
            face: 1,
            audio: {
                tag: "voice-10-21",
                s: 12,
                d: 1
            }
        }, {
            textKey: "DIALOGUE_NOOT_49",
            face: 2,
            audio: {
                tag: "voice-10-21",
                s: 13,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_50",
            face: 3,
            audio: {
                tag: "voice-10-21",
                s: 15,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_51",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-21",
                s: 17,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_52",
            face: 1,
            audio: {
                tag: "voice-10-21",
                s: 21,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_53",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-22",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_54",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-23",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_55",
            face: 0,
            audio: {
                tag: "voice-10-23",
                s: 6,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_56",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-10-24",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_57",
            face: 2,
            audio: {
                tag: "voice-10-24",
                s: 4,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_58",
            face: 4,
            audio: {
                tag: "voice-10-24",
                s: 8,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_59",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-25",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_60",
            face: 5,
            audio: {
                tag: "voice-10-26",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_61",
            face: 1,
            audio: {
                tag: "voice-10-27",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_62",
            face: 3,
            audio: {
                tag: "voice-10-27",
                s: 6,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_63",
            face: 5,
            audio: {
                tag: "voice-10-27",
                s: 8,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_64",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-28",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_65",
            face: 3,
            audio: {
                tag: "voice-10-28",
                s: 4,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_66",
            face: 1,
            audio: {
                tag: "voice-10-21",
                s: 25,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_67",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-10-29",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_68",
            face: 1,
            audio: {
                tag: "voice-10-30",
                s: 0,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_69",
            face: 4,
            audio: {
                tag: "voice-10-31",
                s: 0,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_70",
            face: 5,
            audio: {
                tag: "voice-10-32",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_71",
            face: 1,
            audio: {
                tag: "voice-10-33",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_72",
            face: 4,
            audio: {
                tag: "voice-10-33",
                s: 3,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_73",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-34",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_74",
            face: 1,
            audio: {
                tag: "voice-10-35",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_75",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-35",
                s: 5,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_76",
            face: 1,
            audio: {
                tag: "voice-10-35",
                s: 11,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_77",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-36",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_78",
            face: 2,
            anim: 4,
            audio: {}
        }, {
            textKey: "DIALOGUE_NOOT_79",
            face: 3
        }, {
            textKey: "DIALOGUE_NOOT_80",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-37",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_81",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-37",
                s: 6,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_82",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-37",
                s: 11,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_83",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-38",
                s: 0,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_NOOT_84",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-38",
                s: 8,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_85",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-39",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_86",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-39",
                s: 5,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_87",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-39",
                s: 9,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_88",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-40",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_89",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-40",
                s: 4,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_90",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-40",
                s: 9,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_91",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-41",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_92",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-41",
                s: 4,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_NOOT_93",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-41",
                s: 12,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_94",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-42",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_95",
            face: 5,
            anim: 1,
            audio: {
                tag: "voice-10-43",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_96",
            face: 5,
            anim: 4,
            audio: {
                tag: "voice-10-43",
                s: 4,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_97",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-10-44",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_98",
            face: 4,
            anim: 1,
            audio: {
                tag: "voice-10-45",
                s: 0,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_99",
            face: 1
        }, {
            textKey: "DIALOGUE_NOOT_100",
            face: 5,
            anim: 4,
            audio: {
                tag: "voice-10-46",
                s: 0,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_101",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-47",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_102",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-47",
                s: 4,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_103",
            face: 4,
            anim: 1,
            audio: {
                tag: "voice-10-50",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_104",
            face: 5,
            anim: 1,
            audio: {
                tag: "voice-10-51",
                s: 0,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_105",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-10-51",
                s: 2,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_106",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-10-51",
                s: 5,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_107",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-10-52",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_108",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-48",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_109",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-49",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_110",
            face: 3,
            anim: 4
        }, {
            textKey: "DIALOGUE_NOOT_111",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-20",
                s: 9,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_112",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-10-66",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_113",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-10-66",
                s: 6,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_114",
            face: 4,
            anim: 4,
            audio: {
                tag: "voice-10-66",
                s: 12,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_115",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-66",
                s: 17,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_116",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-66",
                s: 21,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_117",
            face: 2
        }, {
            textKey: "DIALOGUE_NOOT_118",
            face: 1,
            audio: {
                tag: "voice-10-53",
                s: 0,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_119",
            face: 5,
            anim: 2,
            audio: {
                tag: "voice-10-53",
                s: 2,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_120",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-53",
                s: 4,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_121",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-54",
                s: 0,
                d: 1
            }
        }, {
            textKey: "DIALOGUE_NOOT_122",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-54",
                s: 1,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_123",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-10-54",
                s: 8,
                d: 1
            }
        }, {
            textKey: "DIALOGUE_NOOT_124",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-55",
                s: 0,
                d: 1
            }
        }, {
            textKey: "DIALOGUE_NOOT_125",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-55",
                s: 1,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_126",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-10-55",
                s: 4,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_127",
            face: 5,
            anim: 3,
            audio: {
                tag: "voice-10-55",
                s: 9,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_128",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-56",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_129",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-10-56",
                s: 4,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_130",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-56",
                s: 9,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_131",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-56",
                s: 14,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_132",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-57",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_133",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-57",
                s: 7,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_134",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-57",
                s: 12,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_135",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-57",
                s: 17,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_136",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-57",
                s: 22,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_137",
            face: 4,
            anim: 3,
            audio: {
                tag: "voice-10-57",
                s: 26,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_138",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-57",
                s: 29,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_NOOT_139",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-10-58",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_140",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-58",
                s: 4,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_141",
            face: 5,
            anim: 2,
            audio: {
                tag: "voice-10-59",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_142",
            face: 5,
            anim: 4,
            audio: {
                tag: "voice-10-60",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_143",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-61",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_144",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-61",
                s: 5,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_NOOT_145",
            face: 5,
            anim: 3,
            audio: {
                tag: "voice-10-61",
                s: 14,
                d: 1
            }
        }, {
            textKey: "DIALOGUE_NOOT_146",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-10-61",
                s: 15,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_147",
            face: 1,
            anim: 1,
            audio: {
                tag: "voice-10-62",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_148",
            face: 4,
            anim: 4,
            audio: {
                tag: "voice-10-62",
                s: 4,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_149",
            face: 5,
            anim: 2,
            audio: {
                tag: "voice-10-62",
                s: 7,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_150",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-10-63",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_151",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-63",
                s: 5,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_152",
            face: 5,
            anim: 2,
            audio: {
                tag: "voice-10-63",
                s: 8,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_153",
            face: 1,
            anim: 3,
            audio: {
                tag: "voice-10-63",
                s: 15,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_154",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-64",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_155",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-64",
                s: 7,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_156",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-86",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_157",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-10-64",
                s: 15,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_158",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-64",
                s: 20,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_159",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-64",
                s: 24,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_160",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-64",
                s: 29,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_161",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-64",
                s: 31,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_162",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-86",
                s: 10,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_163",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-10-64",
                s: 40,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_164",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-10-64",
                s: 47,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_NOOT_165",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-18",
                s: 7,
                d: 1.6
            }
        }, {
            textKey: "DIALOGUE_NOOT_166",
            face: 1
        }, {
            textKey: "DIALOGUE_NOOT_167",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-25-1",
                s: 0,
                d: 2.8
            }
        }, {
            textKey: "DIALOGUE_NOOT_168",
            face: 1,
            audio: {
                tag: "voice-25-1",
                s: 3,
                d: 5.5
            }
        }, {
            textKey: "DIALOGUE_NOOT_169",
            face: 1,
            audio: {
                tag: "voice-25-1",
                s: 9,
                d: 1.6
            }
        }, {
            textKey: "DIALOGUE_NOOT_170",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-25-1",
                s: 11,
                d: 3.1
            }
        }, {
            textKey: "DIALOGUE_NOOT_171",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-25-1",
                s: 15,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_NOOT_172",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-25-1",
                s: 32,
                d: 7.3
            }
        }, {
            textKey: "DIALOGUE_NOOT_173",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-25-1",
                s: 40,
                d: 2.9
            }
        }, {
            textKey: "DIALOGUE_NOOT_174",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-25-1",
                s: 44,
                d: 5.4
            }
        }, {
            textKey: "DIALOGUE_NOOT_175",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-25-1",
                s: 50,
                d: 1.4
            }
        }, {
            textKey: "DIALOGUE_NOOT_176",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-25-1",
                s: 52,
                d: 2.74
            }
        }, {
            textKey: "DIALOGUE_NOOT_177",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-10-65",
                s: 0,
                d: 2.54
            }
        }, {
            textKey: "DIALOGUE_NOOT_178",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-67",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_179",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-10-67",
                s: 5.5,
                d: 8.5
            }
        }, {
            textKey: "DIALOGUE_NOOT_180",
            face: 4,
            audio: {
                tag: "voice-10-67",
                s: 15,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_NOOT_181",
            face: 0,
            audio: {
                tag: "voice-10-67",
                s: 19,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_NOOT_182",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-10-67",
                s: 28,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_NOOT_183",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-10-67",
                s: 33,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_184",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-69",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_185",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-70",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_186",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-71",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_187",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-72",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_188",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-73",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_189",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-74",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_190",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-75",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_191",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-76",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_192",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-77",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_193",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-78",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_194",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-79",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_195",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-80",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_196",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-81",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_197",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-82",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_NOOT_198",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-57",
                s: 32.5,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_NOOT_199",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-10-16",
                s: 0,
                d: 1.2
            }
        } ],
        flora: [ {
            textKey: "DIALOGUE_FLORA_0",
            face: 5,
            anim: 4,
            audio: {
                tag: "voice-8-1",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_FLORA_1",
            face: 3,
            audio: {
                tag: "voice-8-1",
                s: 6,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_FLORA_2",
            face: 2,
            audio: {
                tag: "voice-8-1",
                s: 12,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_FLORA_3",
            face: 6,
            anim: 2,
            audio: {
                tag: "voice-8-1",
                s: 15,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_FLORA_4",
            face: 2,
            audio: {
                tag: "voice-8-2",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_FLORA_5",
            face: 1,
            audio: {
                tag: "voice-8-2",
                s: 4,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_FLORA_6",
            face: 2,
            audio: {
                tag: "voice-8-2",
                s: 12,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_FLORA_7",
            face: 1,
            audio: {
                tag: "voice-8-2",
                s: 15,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_FLORA_8",
            face: 2,
            audio: {
                tag: "voice-8-3",
                s: 2.1,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_FLORA_9",
            face: 5,
            audio: {
                tag: "voice-8-3",
                s: 4,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_FLORA_10",
            face: 3,
            audio: {
                tag: "voice-8-3",
                s: 10,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_FLORA_11",
            face: 4,
            anim: 4,
            audio: {
                tag: "voice-8-4",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_FLORA_12",
            face: 6,
            audio: {
                tag: "voice-8-4",
                s: 7,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_FLORA_13",
            face: 7,
            audio: {
                tag: "voice-8-4",
                s: 13,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_FLORA_14",
            face: 2,
            audio: {
                tag: "voice-8-5",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_FLORA_15",
            face: 0,
            audio: {
                tag: "voice-8-5",
                s: 5,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_FLORA_16",
            face: 6,
            anim: 1,
            audio: {
                tag: "voice-8-6",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_FLORA_17",
            face: 6,
            audio: {
                tag: "voice-8-6",
                s: 5,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_FLORA_18",
            face: 3,
            audio: {
                tag: "voice-8-7",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_FLORA_19",
            face: 6,
            audio: {
                tag: "voice-8-7",
                s: 6,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_FLORA_20",
            face: 1,
            audio: {
                tag: "voice-8-7",
                s: 11,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_FLORA_21",
            face: 6,
            anim: 4,
            audio: {
                tag: "voice-8-8",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_FLORA_22",
            face: 7,
            audio: {
                tag: "voice-8-8",
                s: 6,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_FLORA_23",
            face: 6,
            audio: {
                tag: "voice-8-8",
                s: 10,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_FLORA_24",
            face: 6,
            anim: 2,
            audio: {
                tag: "voice-8-9",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_FLORA_25",
            face: 2,
            audio: {
                tag: "voice-8-9",
                s: 6,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_FLORA_26",
            face: 6,
            anim: 4,
            audio: {
                tag: "voice-8-9",
                s: 12,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_FLORA_27",
            face: 2,
            audio: {
                tag: "voice-8-10",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_FLORA_28",
            face: 7,
            audio: {
                tag: "voice-8-10",
                s: 7,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_FLORA_29",
            face: 0,
            audio: {
                tag: "voice-8-10",
                s: 12,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_FLORA_30",
            face: 6,
            anim: 2,
            audio: {
                tag: "voice-8-10",
                s: 16,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_FLORA_31",
            face: 6,
            anim: 4,
            audio: {
                tag: "voice-8-11",
                s: 0,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_FLORA_32",
            face: 6,
            audio: {
                tag: "voice-8-11",
                s: 9,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_FLORA_33",
            face: 3,
            audio: {
                tag: "voice-8-12",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_FLORA_34",
            face: 2,
            audio: {
                tag: "voice-8-12",
                s: 4,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_FLORA_35",
            face: 4,
            anim: 4,
            audio: {
                tag: "voice-8-12",
                s: 10,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_FLORA_36",
            face: 5,
            audio: {
                tag: "voice-8-13",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_FLORA_37",
            face: 4,
            audio: {
                tag: "voice-8-13",
                s: 6,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_FLORA_38",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-8-14",
                s: 0,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_FLORA_39",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-8-14",
                s: 2,
                d: 2
            }
        } ],
        bok: [ {
            textKey: "DIALOGUE_BOK_0",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-1-1",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BOK_1",
            face: 7,
            anim: 2,
            audio: {
                tag: "voice-1-1",
                s: 5,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_BOK_2",
            face: 2,
            audio: {
                tag: "voice-1-1",
                s: 13,
                d: 1
            }
        }, {
            textKey: "DIALOGUE_BOK_3",
            face: 1,
            audio: {
                tag: "voice-1-2",
                s: 0,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_BOK_4",
            face: 6,
            anim: 1,
            audio: {
                tag: "voice-1-2",
                s: 8,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_BOK_5",
            face: 3,
            audio: {
                tag: "voice-1-2",
                s: 16,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BOK_6",
            face: 4,
            audio: {
                tag: "voice-1-2",
                s: 22,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_BOK_7",
            face: 8,
            audio: {
                tag: "voice-1-3",
                s: 0,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_BOK_8",
            face: 6,
            audio: {
                tag: "voice-1-3",
                s: 8,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_BOK_9",
            face: 3,
            audio: {
                tag: "voice-1-3",
                s: 16,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BOK_10",
            face: 0,
            audio: {
                tag: "voice-1-4",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BOK_11",
            face: 1,
            audio: {
                tag: "voice-1-4",
                s: 5,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BOK_12",
            face: 5,
            audio: {
                tag: "voice-1-5",
                s: 0,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_BOK_13",
            face: 0,
            audio: {
                tag: "voice-1-5",
                s: 9,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_BOK_14",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-1-5",
                s: 18,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BOK_15",
            face: 8,
            audio: {
                tag: "voice-1-5",
                s: 24,
                d: 10
            }
        }, {
            textKey: "DIALOGUE_BOK_16",
            face: 5,
            audio: {
                tag: "voice-1-5",
                s: 34,
                d: 12
            }
        }, {
            textKey: "DIALOGUE_BOK_17",
            face: 4,
            audio: {
                tag: "voice-1-6",
                s: 0,
                d: 11
            }
        }, {
            textKey: "DIALOGUE_BOK_18",
            face: 8,
            anim: 2,
            audio: {
                tag: "voice-1-6",
                s: 11,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_BOK_19",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-1-6",
                s: 19,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_BOK_20",
            face: 0,
            audio: {
                tag: "voice-1-7",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_BOK_21",
            face: 8,
            audio: {
                tag: "voice-1-8",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_BOK_22",
            face: 0,
            audio: {
                tag: "voice-1-8",
                s: 7,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BOK_23",
            face: 5,
            audio: {
                tag: "voice-1-9",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BOK_24",
            face: 1,
            audio: {
                tag: "voice-1-9",
                s: 6,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_BOK_25",
            face: 8,
            audio: {
                tag: "voice-1-9",
                s: 13,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_BOK_26",
            face: 3,
            audio: {
                tag: "voice-1-10",
                s: 0,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_BOK_27",
            face: 0,
            audio: {
                tag: "voice-1-11",
                s: 0,
                d: 10
            }
        }, {
            textKey: "DIALOGUE_BOK_28",
            face: 4,
            audio: {
                tag: "voice-1-11",
                s: 10,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_BOK_29",
            face: 6,
            audio: {
                tag: "voice-1-11",
                s: 17,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_BOK_30",
            face: 0,
            audio: {
                tag: "voice-1-12",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BOK_31",
            face: 3,
            audio: {
                tag: "voice-1-12",
                s: 3,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BOK_32",
            face: 5,
            audio: {
                tag: "voice-1-12",
                s: 8,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BOK_33",
            face: 1,
            audio: {
                tag: "voice-1-12",
                s: 13,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_BOK_34",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-1-13",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_BOK_35",
            face: 4,
            audio: {
                tag: "voice-1-13",
                s: 7,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_BOK_36",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-1-14",
                s: 7,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BOK_37",
            face: 5,
            audio: {
                tag: "voice-1-14",
                s: 13,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_BOK_38",
            face: 7,
            anim: 4,
            audio: {
                tag: "voice-1-15",
                s: 0,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_BOK_39",
            face: 5
        } ],
        merchant: [ {
            textKey: "DIALOGUE_MERCHANT_0",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-11",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_1",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-11",
                s: 24,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_2",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-11",
                s: 6,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_3",
            face: 0,
            audio: {
                tag: "voice-11",
                s: 9,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_4",
            face: 0,
            audio: {
                tag: "voice-11",
                s: 19,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_5",
            face: 0,
            audio: {
                tag: "voice-11",
                s: 14,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_6",
            face: 0,
            audio: {
                tag: "voice-11",
                s: 4,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_7",
            face: 0,
            audio: {
                tag: "voice-11-1",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_8",
            face: 0,
            audio: {
                tag: "voice-11-1",
                s: 6,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_9",
            face: 0,
            audio: {
                tag: "voice-11-2",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_10",
            face: 0,
            audio: {
                tag: "voice-11-2",
                s: 4,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_11",
            face: 0,
            audio: {
                tag: "voice-11-2",
                s: 10,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_12",
            face: 0,
            audio: {
                tag: "voice-11-2",
                s: 14,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_13"
        }, {
            textKey: "DIALOGUE_MERCHANT_14"
        }, {
            textKey: "DIALOGUE_MERCHANT_15"
        }, {
            textKey: "DIALOGUE_MERCHANT_16"
        }, {
            textKey: "DIALOGUE_MERCHANT_17"
        }, {
            textKey: "DIALOGUE_MERCHANT_18",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_19",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_20",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_21",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_22",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_23",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_24",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_25",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_26",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_27",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_28",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_29",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_30",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_31",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_32",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_33",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_34",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_35",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_36",
            face: 0
        }, {
            textKey: "DIALOGUE_MERCHANT_37",
            face: 1,
            anim: 1,
            audio: {
                tag: "voice-11-3",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_38",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-11-3",
                s: 6,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_MERCHANT_39",
            face: 1,
            audio: {
                tag: "voice-11-3",
                s: 10,
                d: 8
            }
        } ],
        winterfest: [ {
            textKey: "DIALOGUE_WINTERFEST_0",
            audio: {}
        }, {
            textKey: "DIALOGUE_WINTERFEST_1",
            audio: {}
        } ],
        benni: [ {
            textKey: "DIALOGUE_BENNI_0",
            face: 7,
            anim: 4,
            audio: {
                tag: "voice-12-1",
                s: 0,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_BENNI_1",
            face: 4,
            anim: 4,
            audio: {
                tag: "voice-12-1",
                s: 2,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_BENNI_2",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-12-2",
                s: 0,
                d: 5.05
            }
        }, {
            textKey: "DIALOGUE_BENNI_3",
            face: 6,
            anim: 2,
            audio: {
                tag: "voice-12-2",
                s: 5,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_4",
            face: 10,
            anim: 2,
            audio: {
                tag: "voice-12-2",
                s: 8,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_BENNI_5",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-12-2",
                s: 10,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_BENNI_6",
            face: 6,
            anim: 1,
            audio: {
                tag: "voice-12-2",
                s: 14,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BENNI_7",
            face: 10,
            anim: 2,
            audio: {
                tag: "voice-12-2",
                s: 20,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BENNI_8",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-12-3",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_9",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-12-4",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BENNI_10",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-12-4",
                s: 6,
                d: 10
            }
        }, {
            textKey: "DIALOGUE_BENNI_11",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-12-4",
                s: 16,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_12",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-12-4",
                s: 19,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BENNI_13",
            face: 2,
            audio: {
                tag: "voice-12-5",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BENNI_14",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-12-5",
                s: 6,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_BENNI_15",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-12-5",
                s: 10,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_16",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-12-6",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BENNI_17",
            face: 9,
            audio: {
                tag: "voice-12-6",
                s: 5,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_18",
            face: 1,
            anim: 1,
            audio: {
                tag: "voice-12-6",
                s: 8,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_BENNI_19",
            face: 3,
            audio: {
                tag: "voice-12-7",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BENNI_20",
            face: 8,
            anim: 2,
            audio: {
                tag: "voice-12-7",
                s: 5,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BENNI_21",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-12-7",
                s: 10,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BENNI_22",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-12-7",
                s: 16,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_BENNI_23",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-12-8",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BENNI_24",
            face: 5,
            anim: 2,
            audio: {
                tag: "voice-12-8",
                s: 5,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_BENNI_25",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-12-9",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BENNI_26",
            face: 4,
            anim: 4,
            audio: {
                tag: "voice-12-10",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_BENNI_27",
            face: 8,
            anim: 2,
            audio: {
                tag: "voice-12-10",
                s: 4,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_BENNI_28",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-12-10",
                s: 6,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BENNI_29",
            face: 5,
            anim: 2,
            audio: {
                tag: "voice-12-11",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_30",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-12-12",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_31",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-12-13",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_BENNI_32",
            face: 8,
            anim: 2,
            audio: {
                tag: "voice-12-13",
                s: 4,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_33",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-12-13",
                s: 7,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_BENNI_34",
            face: 9,
            audio: {
                tag: "voice-12-14",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_35",
            face: 3,
            anim: 1,
            audio: {
                tag: "voice-12-14",
                s: 3,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_BENNI_36",
            face: 5,
            anim: 2,
            audio: {
                tag: "voice-12-14",
                s: 7,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_BENNI_37",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-12-15",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_BENNI_38",
            face: 6,
            anim: 2,
            audio: {
                tag: "voice-12-15",
                s: 7,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_BENNI_39",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-12-16",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_40",
            face: 6,
            anim: 1,
            audio: {
                tag: "voice-12-16",
                s: 3,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_41",
            face: 15,
            anim: 4,
            audio: {
                tag: "voice-12-16",
                s: 6,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_BENNI_42",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-12-17",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BENNI_43",
            face: 8,
            anim: 4,
            audio: {
                tag: "voice-12-17",
                s: 5,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_44",
            face: 4,
            audio: {
                tag: "voice-12-17",
                s: 8,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_BENNI_45",
            face: 15,
            anim: 4,
            audio: {
                tag: "voice-12-17",
                s: 11,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_BENNI_46",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-12-18",
                s: 0,
                d: 3
            }
        } ],
        broccolina: [ {
            textKey: "DIALOGUE_BROCCOLINA_0",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-13-1",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_BROCCOLINA_1",
            face: 3,
            anim: 2
        } ],
        eugene: [ {
            textKey: "DIALOGUE_EUGENE_0",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-14-1",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_EUGENE_1",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-14-2",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_EUGENE_2",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-14-2",
                s: 4,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_EUGENE_3",
            face: 4,
            anim: 4,
            audio: {
                tag: "voice-14-2",
                s: 10,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_EUGENE_4",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-14-2",
                s: 12,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_EUGENE_5",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-14-2",
                s: 16,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_EUGENE_6",
            face: 4,
            anim: 1,
            audio: {
                tag: "voice-14-2",
                s: 25,
                d: 6
            }
        } ],
        cebollini: [ {
            textKey: "DIALOGUE_CEBOLLINI_0",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-2",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_1",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-3",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_2",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-3",
                s: 3,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_3",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-3",
                s: 6,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_4",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-3",
                s: 11,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_5",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-4",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_6",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-4",
                s: 3,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_7",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-4",
                s: 10,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_8",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-5",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_9",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-5",
                s: 5,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_10",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-5",
                s: 10,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_11",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-5",
                s: 13,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_12",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-5",
                s: 17,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_13",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-5",
                s: 20,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_14",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-5",
                s: 29,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_15",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-5",
                s: 33,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_16",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-1",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_17",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-1",
                s: 5,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_18",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-1",
                s: 14,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_CEBOLLINI_19",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-18-1",
                s: 17,
                d: 4
            }
        } ],
        slime_queen: [ {
            textKey: "DIALOGUE_SLIME_QUEEN_0",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-16-3",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_SLIME_QUEEN_1",
            face: 1,
            anim: 2
        }, {
            textKey: "DIALOGUE_SLIME_QUEEN_2",
            face: 5,
            anim: 1,
            audio: {
                tag: "voice-16-3",
                s: 7,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLIME_QUEEN_3",
            face: 5,
            anim: 4,
            audio: {
                tag: "voice-16-3",
                s: 11,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_SLIME_QUEEN_4",
            face: 5,
            anim: 1,
            audio: {
                tag: "voice-16-3",
                s: 19,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_SLIME_QUEEN_5",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-16-1",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_SLIME_QUEEN_6",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-16-3",
                s: 7.8,
                d: .85
            }
        }, {
            textKey: "DIALOGUE_SLIME_QUEEN_7",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-16-1",
                s: 5,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_SLIME_QUEEN_8",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-16-1",
                s: 11,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_SLIME_QUEEN_9",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-16-1",
                s: 19,
                d: 10
            }
        }, {
            textKey: "DIALOGUE_SLIME_QUEEN_10",
            face: 4,
            anim: 1,
            audio: {
                tag: "voice-16-2",
                s: 0,
                d: 5
            }
        } ],
        slime_guard: [ {
            textKey: "DIALOGUE_SLIME_GUARD_0",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-17-3",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_SLIME_GUARD_1",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-17-4",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLIME_GUARD_2",
            face: 0,
            anim: 1,
            audio: {
                tag: "voice-17-4",
                s: 4,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLIME_GUARD_3",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-17-4",
                s: 8,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLIME_GUARD_4",
            face: 2,
            anim: 1,
            audio: {
                tag: "voice-17-4",
                s: 12,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_SLIME_GUARD_5",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-17-2",
                s: 0,
                d: 6
            }
        } ],
        slime_worker: [ {
            textKey: "DIALOGUE_SLIME_WORKER_0",
            face: 3,
            anim: 1,
            audio: {
                tag: "voice-17-1",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLIME_WORKER_1",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-17-1",
                s: 4,
                d: 6
            }
        } ],
        slurpy: [ {
            textKey: "DIALOGUE_SLURPY_0",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-15-2",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_SLURPY_1",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-15-7",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLURPY_2",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-1",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_SLURPY_3",
            face: 4,
            anim: 4,
            audio: {
                tag: "voice-15-1",
                s: 6,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_SLURPY_4",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-1",
                s: 13,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_SLURPY_5",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-1",
                s: 18,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_SLURPY_6",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-15-3",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLURPY_7",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-3",
                s: 4,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLURPY_8",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-15-4",
                s: 0,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_SLURPY_9",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-4",
                s: 9,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_SLURPY_10",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-15-5",
                s: 0,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_SLURPY_11",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-5",
                s: 9,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_SLURPY_12",
            face: 2,
            anim: 1,
            audio: {
                tag: "voice-15-5",
                s: 12,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_SLURPY_13",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-6",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_SLURPY_14",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-6",
                s: 6,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_SLURPY_15",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-15-8",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_SLURPY_16",
            face: 2,
            anim: 1,
            audio: {
                tag: "voice-15-8",
                s: 7,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_SLURPY_17",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-15-9",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_SLURPY_18",
            face: 2,
            anim: 1,
            audio: {
                tag: "voice-15-9",
                s: 6,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_SLURPY_19",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-9",
                s: 13,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLURPY_20",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-15-9",
                s: 17,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_SLURPY_21",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-9",
                s: 19,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_SLURPY_22",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-15-10",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_SLURPY_23",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-10",
                s: 6,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_SLURPY_24",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-10",
                s: 12,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_SLURPY_25",
            face: 2,
            anim: 1,
            audio: {
                tag: "voice-15-11",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_SLURPY_26",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-11",
                s: 7,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_SLURPY_27",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-15-12",
                s: 0,
                d: 10
            }
        }, {
            textKey: "DIALOGUE_SLURPY_28",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-12",
                s: 10,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_SLURPY_29",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-15-13",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLURPY_30",
            face: 0,
            anim: 2
        }, {
            textKey: "DIALOGUE_SLURPY_31",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-13",
                s: 4,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_SLURPY_32",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-13",
                s: 9,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_SLURPY_33",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-13",
                s: 15,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_SLURPY_34",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-13",
                s: 23,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLURPY_35",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-14",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_SLURPY_36",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-14",
                s: 3,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_SLURPY_37",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-14",
                s: 8,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_SLURPY_38",
            face: 3,
            anim: 1,
            audio: {
                tag: "voice-15-16",
                s: 0,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_SLURPY_39",
            face: 4,
            anim: 4,
            audio: {
                tag: "voice-15-16",
                s: 8,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_SLURPY_40",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-16",
                s: 10,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_SLURPY_41",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-15-17",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLURPY_42",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-17",
                s: 4,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_SLURPY_43",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-15-17",
                s: 8,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_SLURPY_44",
            face: 2,
            anim: 1,
            audio: {
                tag: "voice-15-17",
                s: 11,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_SLURPY_45",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-15-17",
                s: 13,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_SLURPY_46",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-17",
                s: 20,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_SLURPY_47",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-15-17",
                s: 22,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_SLURPY_48",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-15-18",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_SLURPY_49",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-15-18",
                s: 5,
                d: 9
            }
        } ],
        puppetmaster: [ {
            textKey: "DIALOGUE_PUPPET_MASTER_0",
            face: 0,
            audio: {
                tag: "voice-20-1",
                s: 0,
                d: 10
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_1",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-20-1",
                s: 10,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_2",
            face: 0,
            audio: {
                tag: "voice-20-1",
                s: 15,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_3",
            face: 0,
            audio: {
                tag: "voice-20-1",
                s: 20,
                d: 10
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_4",
            face: 2,
            audio: {
                tag: "voice-20-1",
                s: 30,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_5",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-20-1",
                s: 33,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_6",
            face: 3,
            anim: 1,
            audio: {
                tag: "voice-20-1",
                s: 38,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_7",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-20-1",
                s: 41,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_8",
            face: 1,
            audio: {
                tag: "voice-20-1",
                s: 48,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_9",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-20-1",
                s: 50,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_10",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-20-2",
                s: 0,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_11",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-20-2",
                s: 9,
                d: 11
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_12",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-20-2",
                s: 21,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_13",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-20-2",
                s: 26,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_PUPPET_MASTER_14",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-20-2",
                s: 33,
                d: 6
            }
        } ],
        pippet: [ {
            textKey: "DIALOGUE_PIPPIT_0",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-19-1",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_PIPPIT_1",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-19-1",
                s: 5,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_PIPPIT_2",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-19-1",
                s: 13,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_PIPPIT_3",
            face: 5,
            anim: 4,
            audio: {
                tag: "voice-28-1",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_PIPPIT_4",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-28-1",
                s: 7,
                d: 4.5
            }
        }, {
            textKey: "DIALOGUE_PIPPIT_5",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-28-1",
                s: 12,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_PIPPIT_6",
            face: 5,
            anim: 2,
            audio: {
                tag: "voice-28-1",
                s: 17,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_PIPPIT_7",
            face: 5,
            anim: 4,
            audio: {
                tag: "voice-28-1",
                s: 25,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_PIPPIT_8",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-28-1",
                s: 31,
                d: 7
            }
        } ],
        julia_ghoulia: [ {
            textKey: "DIALOGUE_JULIA_GHOULIA_0",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-21-2",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_JULIA_GHOULIA_1",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-21-1",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_JULIA_GHOULIA_2",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-21-1",
                s: 3,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_JULIA_GHOULIA_3",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-21-1",
                s: 10,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_JULIA_GHOULIA_4",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-21-1",
                s: 15,
                d: 11
            }
        }, {
            textKey: "DIALOGUE_JULIA_GHOULIA_5",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-21-1",
                s: 26,
                d: 7
            }
        } ],
        mama_star: [ {
            textKey: "DIALOGUE_MAMA_STAR_0",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-22-1",
                s: 34,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_1",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-22-1",
                s: 34,
                d: 11
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_2",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-22-1",
                s: 45,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_3",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-22-1",
                s: 0,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_4",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-22-1",
                s: 6,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_5",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-22-1",
                s: 12,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_6",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-22-1",
                s: 17,
                d: 10
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_7",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-22-1",
                s: 27,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_8",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-22-2",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_9",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-22-2",
                s: 7,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_10",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-22-2",
                s: 12,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_11",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-22-2",
                s: 21,
                d: 10
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_12",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-22-2",
                s: 31,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_13",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-22-2",
                s: 40,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_14",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-22-2",
                s: 46,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_15",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-22-2",
                s: 54,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_MAMA_STAR_16",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-22-2",
                s: 62,
                d: 5
            }
        } ],
        toy: [ {
            textKey: "DIALOGUE_TOY_0",
            face: 0,
            audio: {
                tag: "voice-23-1",
                s: 0,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_TOY_1",
            face: 0,
            audio: {
                tag: "voice-23-1",
                s: 8,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_TOY_2",
            face: 0,
            audio: {
                tag: "voice-23-1",
                s: 8,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_TOY_3",
            face: 0,
            audio: {
                tag: "voice-23-2",
                s: 12.6,
                d: 10.4
            }
        }, {
            textKey: "DIALOGUE_TOY_4",
            face: 0,
            audio: {
                tag: "voice-23-2",
                s: 23.1,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_TOY_5",
            face: 0,
            audio: {
                tag: "voice-23-2",
                s: 32.4,
                d: 9.6
            }
        }, {
            textKey: "DIALOGUE_TOY_6",
            face: 0,
            audio: {
                tag: "voice-23-2",
                s: 42,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_TOY_7",
            face: 0,
            audio: {
                tag: "voice-23-2",
                s: 50,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_TOY_8",
            face: 0,
            audio: {
                tag: "voice-23-2",
                s: 59,
                d: 7.3
            }
        }, {
            textKey: "DIALOGUE_TOY_9",
            face: 0,
            audio: {
                tag: "voice-23-2",
                s: 67.5,
                d: 8.5
            }
        }, {
            textKey: "DIALOGUE_TOY_10",
            face: 0,
            audio: {
                tag: "voice-23-2",
                s: 0,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_TOY_11",
            face: 0,
            audio: {
                tag: "voice-23-2",
                s: 7,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_TOY_12",
            face: 0
        }, {
            textKey: "DIALOGUE_TOY_13",
            face: 0,
            audio: {
                tag: "voice-23-3",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_TOY_14",
            face: 0,
            audio: {
                tag: "voice-23-3",
                s: 22,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_TOY_15",
            face: 0,
            audio: {
                tag: "voice-23-3",
                s: 31,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_TOY_16",
            face: 0,
            audio: {
                tag: "voice-23-3",
                s: 5,
                d: 9
            }
        }, {
            textKey: "DIALOGUE_TOY_17",
            face: 0,
            audio: {
                tag: "voice-23-3",
                s: 14,
                d: 8
            }
        } ],
        howard_cornelius: [ {
            textKey: "DIALOGUE_HOWARD_CORNELIUS_0",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-24-1",
                s: 21.9,
                d: 5.1
            }
        }, {
            textKey: "DIALOGUE_HOWARD_CORNELIUS_1",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-24-1",
                s: 27,
                d: 2.25
            }
        }, {
            textKey: "DIALOGUE_HOWARD_CORNELIUS_2",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-24-1",
                s: 29.25,
                d: 3.5
            }
        }, {
            textKey: "DIALOGUE_HOWARD_CORNELIUS_3",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-24-1",
                s: 0,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_HOWARD_CORNELIUS_4",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-24-1",
                s: 5.9,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_HOWARD_CORNELIUS_5",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-24-1",
                s: 13.9,
                d: 8
            }
        } ],
        "sir-vey": [ {
            textKey: "DIALOGUE_SIR_VEY_0",
            anim: 4,
            face: 0
        }, {
            textKey: "DIALOGUE_SIR_VEY_1",
            anim: 4,
            face: 1
        } ],
        "mozza-ella": [ {
            textKey: "DIALOGUE_MOZZA_ELLE_0",
            face: 0
        }, {
            textKey: "DIALOGUE_MOZZA_ELLE_1",
            face: 0
        }, {
            textKey: "DIALOGUE_MOZZA_ELLE_2",
            face: 0
        }, {
            textKey: "DIALOGUE_MOZZA_ELLE_3",
            face: 0
        }, {
            textKey: "DIALOGUE_MOZZA_ELLE_4",
            face: 0
        }, {
            textKey: "DIALOGUE_MOZZA_ELLE_5",
            face: 0
        }, {
            textKey: "DIALOGUE_MOZZA_ELLE_6",
            face: 0
        }, {
            textKey: "DIALOGUE_MOZZA_ELLE_7",
            face: 0
        }, {
            textKey: "DIALOGUE_MOZZA_ELLE_8",
            face: 0
        }, {
            textKey: "DIALOGUE_MOZZA_ELLE_9",
            face: 0
        }, {
            textKey: "DIALOGUE_MOZZA_ELLE_10",
            face: 0
        }, {
            textKey: "DIALOGUE_MOZZA_ELLE_11",
            face: 1
        } ],
        potion: [ {
            textKey: "DIALOGUE_POTION_0",
            face: 1
        }, {
            textKey: "DIALOGUE_POTION_1",
            face: 0
        }, {
            textKey: "DIALOGUE_POTION_2",
            face: 1
        }, {
            textKey: "DIALOGUE_POTION_3",
            face: 0
        }, {
            textKey: "DIALOGUE_POTION_4",
            face: 0
        }, {
            textKey: "DIALOGUE_POTION_5",
            face: 1
        }, {
            textKey: "DIALOGUE_POTION_6",
            face: 0
        }, {
            textKey: "DIALOGUE_POTION_7",
            face: 0
        } ],
        swoopy: [ {
            textKey: "DIALOGUE_SWOOPY_0",
            face: 1
        }, {
            textKey: "DIALOGUE_SWOOPY_1",
            face: 0
        }, {
            textKey: "DIALOGUE_SWOOPY_2",
            face: 1
        }, {
            textKey: "DIALOGUE_SWOOPY_3",
            face: 0
        }, {
            textKey: "DIALOGUE_SWOOPY_4",
            face: 0
        } ],
        eve: [ {
            textKey: "DIALOGUE_EVE_0",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-27-1",
                s: 62,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_EVE_1",
            face: 3,
            audio: {
                tag: "voice-27-1",
                s: 0,
                d: 1.2
            }
        }, {
            textKey: "DIALOGUE_EVE_2",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 2,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_EVE_3",
            face: 0,
            audio: {
                tag: "voice-27-1",
                s: 11,
                d: 8.2
            }
        }, {
            textKey: "DIALOGUE_EVE_4",
            face: 0,
            audio: {
                tag: "voice-27-1",
                s: 20,
                d: 4.2
            }
        }, {
            textKey: "DIALOGUE_EVE_5",
            face: 4,
            audio: {
                tag: "voice-27-1",
                s: 25,
                d: 7.5
            }
        }, {
            textKey: "DIALOGUE_EVE_6",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-27-1",
                s: 34,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_EVE_7",
            face: 4,
            audio: {
                tag: "voice-27-1",
                s: 41,
                d: 5.5
            }
        }, {
            textKey: "DIALOGUE_EVE_8",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 47,
                d: 5.5
            }
        }, {
            textKey: "DIALOGUE_EVE_9",
            face: 0,
            audio: {
                tag: "voice-27-1",
                s: 53,
                d: 7.5
            }
        }, {
            textKey: "DIALOGUE_EVE_10",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-27-1",
                s: 66,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_EVE_11",
            face: 4,
            audio: {
                tag: "voice-27-1",
                s: 71,
                d: 5.5
            }
        }, {
            textKey: "DIALOGUE_EVE_12",
            face: 0,
            audio: {
                tag: "voice-27-1",
                s: 77,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_EVE_13",
            face: 4,
            audio: {
                tag: "voice-27-1",
                s: 85,
                d: 4.5
            }
        }, {
            textKey: "DIALOGUE_EVE_14",
            face: 5,
            anim: 2,
            audio: {
                tag: "voice-25-1",
                s: 24,
                d: 4.2
            }
        }, {
            textKey: "DIALOGUE_EVE_15",
            face: 4,
            audio: {
                tag: "voice-27-1",
                s: 90,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_EVE_16",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 96,
                d: 3.5
            }
        }, {
            textKey: "DIALOGUE_EVE_17",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-27-1",
                s: 100,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_EVE_18",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 106,
                d: 4.5
            }
        }, {
            textKey: "DIALOGUE_EVE_19",
            face: 2,
            audio: {
                tag: "voice-27-1",
                s: 111,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_EVE_20",
            face: 0,
            audio: {
                tag: "voice-27-1",
                s: 115,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_EVE_21",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 123,
                d: 3.2
            }
        }, {
            textKey: "DIALOGUE_EVE_22",
            face: 6,
            anim: 2,
            audio: {
                tag: "voice-25-1",
                s: 29,
                d: 2.5
            }
        }, {
            textKey: "DIALOGUE_EVE_23",
            face: 1,
            audio: {
                tag: "voice-27-1",
                s: 127,
                d: 5.5
            }
        }, {
            textKey: "DIALOGUE_EVE_24",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 133,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_EVE_25",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-27-1",
                s: 138,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_EVE_26",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-27-1",
                s: 141,
                d: 7.5
            }
        }, {
            textKey: "DIALOGUE_EVE_27",
            face: 3,
            audio: {
                tag: "voice-27-1",
                s: 150,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_EVE_28",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 157,
                d: 7.5
            }
        }, {
            textKey: "DIALOGUE_EVE_29",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 165,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_EVE_30",
            face: 2,
            audio: {
                tag: "voice-27-1",
                s: 172,
                d: 5.5
            }
        }, {
            textKey: "DIALOGUE_EVE_31",
            face: 3,
            audio: {
                tag: "voice-27-1",
                s: 178,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_EVE_32",
            face: 2,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 182,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_EVE_33",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 190,
                d: 7.5
            }
        }, {
            textKey: "DIALOGUE_EVE_34",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 198,
                d: 2.5
            }
        }, {
            textKey: "DIALOGUE_EVE_35",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-27-1",
                s: 201,
                d: 8.5
            }
        }, {
            textKey: "DIALOGUE_EVE_36",
            face: 2,
            audio: {
                tag: "voice-27-1",
                s: 210,
                d: 8
            }
        }, {
            textKey: "DIALOGUE_EVE_37",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 219,
                d: 8.5
            }
        }, {
            textKey: "DIALOGUE_EVE_38",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-27-1",
                s: 228,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_EVE_39",
            face: 0,
            audio: {
                tag: "voice-27-1",
                s: 231,
                d: 3.5
            }
        }, {
            textKey: "DIALOGUE_EVE_40",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 235,
                d: 10
            }
        }, {
            textKey: "DIALOGUE_EVE_41",
            face: 3,
            audio: {
                tag: "voice-27-1",
                s: 246,
                d: 5
            }
        }, {
            textKey: "DIALOGUE_EVE_42",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 253,
                d: 6
            }
        }, {
            textKey: "DIALOGUE_EVE_43",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 260,
                d: 2.5
            }
        }, {
            textKey: "DIALOGUE_EVE_44",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-27-1",
                s: 265,
                d: 3.5
            }
        }, {
            textKey: "DIALOGUE_EVE_45",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 269,
                d: 4.5
            }
        }, {
            textKey: "DIALOGUE_EVE_46",
            face: 4,
            anim: 2,
            audio: {
                tag: "voice-27-1",
                s: 274,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_EVE_47",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-27-1",
                s: 282,
                d: 3
            }
        } ],
        jim: [ {
            textKey: "DIALOGUE_JELLY_JIM_0",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-26-1",
                s: 0,
                d: 7.2
            }
        }, {
            textKey: "DIALOGUE_JELLY_JIM_1",
            face: 1,
            audio: {
                tag: "voice-26-1",
                s: 8,
                d: 9.2
            }
        }, {
            textKey: "DIALOGUE_JELLY_JIM_2",
            face: 0,
            audio: {
                tag: "voice-26-1",
                s: 18,
                d: 9.5
            }
        }, {
            textKey: "DIALOGUE_JELLY_JIM_3",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-26-1",
                s: 28,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_JELLY_JIM_4",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-26-1",
                s: 33,
                d: 7.2
            }
        }, {
            textKey: "DIALOGUE_JELLY_JIM_5",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-26-1",
                s: 41,
                d: 5.7
            }
        }, {
            textKey: "DIALOGUE_JELLY_JIM_6",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-26-1",
                s: 47,
                d: 8.4
            }
        }, {
            textKey: "DIALOGUE_JELLY_JIM_7",
            face: 2,
            anim: 4,
            audio: {
                tag: "voice-26-1",
                s: 56,
                d: 10.3
            }
        } ],
        harvey: [ {
            textKey: "DIALOGUE_HARVEY_0",
            face: 0,
            anim: 2,
            audio: {
                tag: "voice-29-1",
                s: 0,
                d: 4
            }
        }, {
            textKey: "DIALOGUE_HARVEY_1",
            face: 1,
            audio: {
                tag: "voice-29-1",
                s: 5,
                d: 10
            }
        }, {
            textKey: "DIALOGUE_HARVEY_2",
            face: 1,
            audio: {
                tag: "voice-29-1",
                s: 16,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_HARVEY_3",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-29-1",
                s: 20,
                d: 7
            }
        }, {
            textKey: "DIALOGUE_HARVEY_4",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-29-1",
                s: 28,
                d: 4
            }
        } ],
        professor_scoog: [ {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_0",
            face: 1,
            audio: {
                tag: "voice-9",
                s: 3,
                d: 2
            },
            anim: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_1",
            face: 0,
            audio: {
                tag: "voice-9",
                s: 7,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_2",
            face: 2,
            audio: {
                tag: "voice-9",
                s: 3,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_3",
            face: 1,
            audio: {
                tag: "voice-9",
                s: 0,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_4",
            face: 3
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_5",
            face: 2,
            audio: {
                tag: "voice-9",
                s: 9,
                d: 2
            },
            anim: 3
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_6",
            face: 1
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_7",
            face: 0
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_8",
            face: 1,
            audio: {
                tag: "voice-9",
                s: 3,
                d: 2
            },
            anim: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_9",
            face: 0,
            audio: {
                tag: "voice-9",
                s: 11,
                d: 3
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_10",
            face: 1,
            anim: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_11",
            face: 0
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_12",
            face: 0
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_13",
            face: 0
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_14",
            anim: 1,
            face: 2,
            audio: {
                tag: "voice-9",
                s: 5,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_15",
            anim: 2,
            face: 1,
            audio: {
                tag: "voice-9",
                s: 3,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_16",
            face: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_17",
            face: 3
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_18",
            face: 1,
            anim: 3,
            audio: {
                tag: "voice-9",
                s: 3,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_19",
            anim: 4,
            face: 1
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_20",
            face: 1,
            audio: {
                tag: "voice-9",
                s: 9,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_21",
            face: 3
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_22",
            face: 1,
            anim: 4
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_23",
            face: 0
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_24",
            face: 3,
            anim: 1
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_25",
            face: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_26",
            face: 3,
            anim: 4
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_27",
            face: 3,
            anim: 1,
            audio: {
                tag: "voice-9",
                s: 5,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_28",
            face: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_29",
            face: 0,
            anim: 4,
            audio: {
                tag: "voice-9",
                s: 3,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_30",
            face: 3,
            anim: 1,
            audio: {
                tag: "voice-9",
                s: 5,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_31",
            face: 1,
            anim: 4
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_32",
            face: 1
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_33",
            face: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_34",
            face: 3
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_35",
            face: 3,
            audio: {
                tag: "voice-9",
                s: 9,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_36",
            face: 0,
            anim: 4
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_37",
            face: 0
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_38",
            face: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_39",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-9",
                s: 3,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_40",
            face: 3
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_41",
            face: 3,
            anim: 1,
            audio: {
                tag: "voice-9",
                s: 5,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_42",
            face: 0
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_43",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-9",
                s: 3,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_44",
            face: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_45",
            face: 0
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_46",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-9",
                s: 5,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_47",
            face: 3,
            anim: 4
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_48",
            face: 3,
            anim: 2,
            audio: {
                tag: "voice-9",
                s: 5,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_49",
            face: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_50",
            face: 1
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_51",
            face: 0
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_52",
            face: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_53",
            face: 1,
            anim: 4
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_54",
            face: 2,
            audio: {
                tag: "voice-9",
                s: 9,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_55",
            face: 3,
            anim: 4,
            audio: {
                tag: "voice-9",
                s: 9,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_56",
            face: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_57",
            face: 3,
            anim: 4
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_58",
            face: 3,
            anim: 2
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_59",
            face: 1,
            anim: 4,
            audio: {
                tag: "voice-9",
                s: 3,
                d: 2
            }
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_60",
            face: 1
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_61",
            face: 0
        }, {
            textKey: "DIALOGUE_PROFESSOR_SCOOG_62",
            face: 1,
            anim: 2,
            audio: {
                tag: "voice-9",
                s: 11,
                d: 3
            }
        } ],
        "don-zorro": [ {
            textKey: "DIALOGUE_DON_ZORRO_0",
            face: 2
        }, {
            textKey: "DIALOGUE_DON_ZORRO_1",
            face: 1
        }, {
            textKey: "DIALOGUE_DON_ZORRO_2",
            face: 1
        }, {
            textKey: "DIALOGUE_DON_ZORRO_3",
            face: 1
        }, {
            textKey: "DIALOGUE_DON_ZORRO_4",
            face: 0
        }, {
            textKey: "DIALOGUE_DON_ZORRO_5",
            face: 0
        }, {
            textKey: "DIALOGUE_DON_ZORRO_6",
            face: 2
        }, {
            textKey: "DIALOGUE_DON_ZORRO_7",
            face: 1
        }, {
            textKey: "DIALOGUE_DON_ZORRO_8",
            face: 0
        }, {
            textKey: "DIALOGUE_DON_ZORRO_9",
            face: 2
        }, {
            textKey: "DIALOGUE_DON_ZORRO_10",
            face: 1
        }, {
            textKey: "DIALOGUE_DON_ZORRO_11",
            face: 0
        }, {
            textKey: "DIALOGUE_DON_ZORRO_12",
            face: 1
        }, {
            textKey: "DIALOGUE_DON_ZORRO_13",
            face: 2
        }, {
            textKey: "DIALOGUE_DON_ZORRO_14",
            face: 0
        } ],
        harriet: [ {
            textKey: "DIALOGUE_HARRIET_0",
            face: 1
        }, {
            textKey: "DIALOGUE_HARRIET_1",
            face: 0
        }, {
            textKey: "DIALOGUE_HARRIET_2",
            face: 2
        }, {
            textKey: "DIALOGUE_HARRIET_3",
            face: 0
        }, {
            textKey: "DIALOGUE_HARRIET_4",
            face: 1
        }, {
            textKey: "DIALOGUE_HARRIET_5",
            face: 0
        }, {
            textKey: "DIALOGUE_HARRIET_6",
            face: 2
        }, {
            textKey: "DIALOGUE_HARRIET_7",
            face: 1
        }, {
            textKey: "DIALOGUE_HARRIET_8",
            face: 0
        }, {
            textKey: "DIALOGUE_HARRIET_9",
            face: 2
        }, {
            textKey: "DIALOGUE_HARRIET_10",
            face: 2
        }, {
            textKey: "DIALOGUE_HARRIET_11",
            face: 1
        }, {
            textKey: "DIALOGUE_HARRIET_12",
            face: 0
        } ],
        verna: [ {
            textKey: "DIALOGUE_VERNA_0",
            face: 0
        }, {
            textKey: "DIALOGUE_VERNA_1",
            face: 2
        }, {
            textKey: "DIALOGUE_VERNA_2",
            face: 0
        }, {
            textKey: "DIALOGUE_VERNA_3",
            face: 1
        } ],
        "bargo-bunny": [ {
            textKey: "DIALOGUE_BARGO_0",
            face: 0
        }, {
            textKey: "DIALOGUE_BARGO_1",
            face: 1
        }, {
            textKey: "DIALOGUE_BARGO_2",
            face: 3
        }, {
            textKey: "DIALOGUE_BARGO_3",
            face: 1
        }, {
            textKey: "DIALOGUE_BARGO_4",
            face: 2
        } ]
    };
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t(t) {
            for (var e in this.data = null, this.data = i(573), this.data) for (var a = this.data[e], n = function(e) {
                var i = a[e];
                Object.defineProperty(i, "text", {
                    get: function() {
                        return t.prodigy.gameContainer.Localizer.getText(i.textKey);
                    }
                });
            }, o = 0; o < a.length; o++) n(o);
        }
        return t.prototype.get = function(t, e) {
            return this.data[t][e];
        }, t;
    }();
    e.Dialogues = a;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t() {
            this.rewards = [], this.rewards.push({
                type: "item",
                ID: 1
            }), this.rewards.push({
                type: "item",
                ID: 77
            }), this.rewards.push({
                type: "gold",
                N: 200
            }), this.rewards.push({
                type: "item",
                ID: 4
            }), this.rewards.push({
                type: "gold",
                N: 250,
                M: 1
            });
        }
        return t.prototype.getRewards = function() {
            return this.rewards;
        }, t.prototype.getReward = function(t) {
            return this.getRewards()[t];
        }, t.prototype.getCurrencyRewardAmount = function(t) {
            return a.Util.isValid(t.R) ? t.N + Math.floor(Math.random() * t.R) : t.N;
        }, t;
    }();
    e.DailyLoginBonusRewards = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = i(4), o = function() {
        function t() {}
        return t.prototype.calculateDamage = function(t, e, i, n, o) {
            void 0 === n && (n = 0), void 0 === o && (o = 1);
            var r = 0;
            a.Util.isValid(t) && a.Util.isValid(t.data.damage) && (r = t.data.damage);
            var s = t.data.element, l = i.getElement();
            return "Glacial Shield" !== t.data.name && 0 === i.modifiers.ignoreElement && (this.isStrong(s, l) ? r += 4 : this.isWeak(s, l) && (r -= 3) <= 0 && (r = 2)), 
            r = Math.floor(10 * r * o), Math.max(Math.floor(r + (a.Util.isValid(n) ? n : 0)), 0);
        }, t.prototype.isStrong = function(t, e) {
            return a.Util.isValid(t) && a.Util.isValid(e) && ("fire" === t && ("ice" === e || "earth" === e || "ice & fire" === e) || "water" === t && ("fire" === e || "ice & fire" === e) || "earth" === t && "water" === e || "storm" === t && "water" === e || "mech" === t && "mech" === e || "ice" === t && ("storm" === e || "mech" === e) || "shadow" === t && "wizard" !== e || "wizard" === t && "shadow" === e);
        }, t.prototype.isWeak = function(t, e) {
            return a.Util.isValid(t) && a.Util.isValid(e) && ("fire" === t && "water" === e || "water" === t && ("earth" === e || "storm" === e || "mech" === e) || "earth" === t && ("fire" === e || "ice & fire" === e) || "storm" === t && "ice" === e || "ice & fire" === e || "mech" === t && "ice" === e || "ice & fire" === e || "ice" === t && "fire" === e || "ice & fire" === e || "shadow" === t && "wizard" === e || "wizard" !== t && "shadow" === e);
        }, t.prototype.getBestAttack = function(t, e, i) {
            if (void 0 === i && (i = 0), t.length <= 0) return null;
            for (var a, n = [], o = 0; o < t.length; o++) "Glacial Shield" === (a = this.getAttack(t[o])).data.name ? n[o] = {
                dmg: 0,
                ID: t[o]
            } : n[o] = {
                dmg: this.calculateDamage(a, null, e, 0, 1),
                ID: t[o]
            };
            n.sort(function(t, e) {
                return e.dmg - t.dmg;
            });
            var r = n[n.length - 1].ID, s = i;
            for (o = 0; o < n.length; o++) {
                if (Math.random() > s) {
                    r = n[o].ID;
                    break;
                }
                s *= .75;
            }
            return this.getAttack(r);
        }, t.prototype.getAttack = function(t) {
            return n.Items.getItem("spell", t);
        }, t.prototype.getHealingAttack = function(t) {
            for (var e, i = 0; i < t.length; i++) if ((e = this.getAttack(t[i])).data.heal) return e;
            return null;
        }, t.prototype.getAttackPriority = function(t) {
            return a.Util.isValid(t.data.priority) ? t.data.priority : 0;
        }, t;
    }();
    e.Attacks = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(10), n = i(0), o = i(4), r = function() {
        function t(t) {
            this.assets = null;
            var e = "v1/tilesets/", i = "v1/tiled-data/";
            this.assets = {
                "tileset-bonfire": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-bonfire/12/tileset-bonfire.png",
                    w: 40,
                    h: 40
                },
                "tileset-cloud": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-cloud/2/tileset-cloud.png",
                    w: 40,
                    h: 40
                },
                "tileset-cloud-no-collisions": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-cloud-no-collisions/2/tileset-cloud-no-collisions.png",
                    w: 40,
                    h: 40
                },
                "tileset-collisions": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-collisions/2/tileset-collisions.png",
                    w: 40,
                    h: 40
                },
                "tileset-forest": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-forest/2/tileset-forest.png",
                    w: 40,
                    h: 40
                },
                "tileset-forest-new": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-forest-new/10/tileset-forest-new.png",
                    w: 40,
                    h: 40
                },
                "tileset-firefly-new": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-firefly-new/6/tileset-firefly-new.png",
                    w: 40,
                    h: 40
                },
                "tileset-generic": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-generic/2/tileset-generic.png",
                    w: 40,
                    h: 40
                },
                "tileset-generic-new": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-generic-new/7/tileset-generic-new.png",
                    w: 40,
                    h: 40
                },
                "tileset-icecave": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-icecave/4/tileset-icecave.png",
                    w: 40,
                    h: 40
                },
                "tileset-interior": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-interior/2/tileset-interior.png",
                    w: 40,
                    h: 40
                },
                "tileset-interior-general": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-interior-general/2/tileset-interior-general.png",
                    w: 40,
                    h: 40
                },
                "tileset-outside": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-outside/2/tileset-outside.png",
                    w: 40,
                    h: 40
                },
                "tileset-outsidesnow": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-outsidesnow/2/tileset-outsidesnow.png",
                    w: 40,
                    h: 40
                },
                "tileset-railruins": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-railruins/2/tileset-railruins.png",
                    w: 40,
                    h: 40
                },
                "tileset-town": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-town/2/tileset-town.png",
                    w: 40,
                    h: 40
                },
                "tileset-town-december": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-town-december/2/tileset-town-december.png",
                    w: 40,
                    h: 40
                },
                "tileset-town-new": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-town-new/9/tileset-town-new.png",
                    w: 40,
                    h: 40
                },
                "tileset-town-november": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-town-november/2/tileset-town-november.png",
                    w: 40,
                    h: 40
                },
                "tileset-town-october": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-town-october/2/tileset-town-october.png",
                    w: 40,
                    h: 40
                },
                "tileset-toyzone": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-toyzone/4/tileset-toyzone.png",
                    w: 40,
                    h: 40
                },
                "tileset-toyzone-dragons": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-toyzone-dragons/3/tileset-toyzone-dragons.png",
                    w: 40,
                    h: 40
                },
                "tileset-toy-ruins-test": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-toyzone/3/tileset-toyzone.png",
                    w: 40,
                    h: 40
                },
                "tileset-volcano": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-volcano/2/tileset-volcano.png",
                    w: 40,
                    h: 40
                },
                "tileset-volcano-new": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-volcano-new/11/tileset-volcano-new.png",
                    w: 40,
                    h: 40
                },
                "tileset-wall-collisions": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-wall-collisions/2/tileset-wall-collisions.png",
                    w: 40,
                    h: 40
                },
                "tileset-interior-icecave": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-interior-icecave/2/tileset-interior-icecave.png",
                    w: 40,
                    h: 40
                },
                "tileset-firepit": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-firepit/2/tileset-firepit.png",
                    w: 40,
                    h: 40
                },
                "tileset-interior-treehouse": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-interior-treehouse/2/tileset-interior-treehouse.png",
                    w: 40,
                    h: 40
                },
                "tileset-UI": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-UI/1/tileset-UI.png",
                    w: 40,
                    h: 40
                },
                "tileset-twilight-arcade": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-twilight-arcade/2/tileset-twilight-arcade.png",
                    w: 40,
                    h: 40
                },
                "tileset-shiverchill-new": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-shiverchill-new/1/tileset-shiverchill-new.png",
                    w: 40,
                    h: 40
                },
                "tileset-water-new": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-water-new/20/tileset-water-new.png",
                    w: 40,
                    h: 40
                },
                "tileset-activityzone": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-activityzone/2/tileset-activityzone.png",
                    w: 40,
                    h: 40
                },
                "tileset-generic-snow": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-generic-snow/2/tileset-generic-snow.png",
                    w: 40,
                    h: 40
                },
                "tileset-icecave-new": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-icecave-new/4/tileset-icecave-new.png",
                    w: 40,
                    h: 40
                },
                "tileset-iceruins": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-iceruins/2/tileset-iceruins.png",
                    w: 40,
                    h: 40
                },
                "tileset-minecarts": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-minecarts/2/tileset-minecarts.png",
                    w: 40,
                    h: 40
                },
                "tileset-ship-exterior": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-ship-exterior/3/tileset-ship-exterior.png",
                    w: 40,
                    h: 40
                },
                "tileset-ship-interior": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-ship-interior/4/tileset-ship-interior.png",
                    w: 40,
                    h: 40
                },
                "tileset-shiverchill": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-shiverchill/2/tileset-shiverchill.png",
                    w: 40,
                    h: 40
                },
                "tileset-cloud-new": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-cloud-new/11/tileset-cloud-new.png",
                    w: 40,
                    h: 40
                },
                "tileset-skywatch-factory": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-skywatch-factory/6/tileset-skywatch-factory.png",
                    w: 40,
                    h: 40
                },
                "tileset-skywatch-buildings": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-skywatch-buildings/4/tileset-skywatch-buildings.png",
                    w: 40,
                    h: 40
                },
                "tileset-skywatch": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-skywatch/12/tileset-skywatch.png",
                    w: 40,
                    h: 40
                },
                "tileset-darktower": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-darktower/21/tileset-darktower.png",
                    w: 40,
                    h: 40
                },
                "tileset-springfest": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-springfest/4/tileset-springfest.png",
                    w: 40,
                    h: 40
                },
                "tileset-exterior-general": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-exterior-general/1/tileset-exterior-general.png",
                    w: 40,
                    h: 40
                },
                "tileset-academy": {
                    type: "spritesheet",
                    base: e,
                    url: "tileset-academy/14/tileset-academy.png",
                    w: 40,
                    h: 40
                },
                "game-data": {
                    type: "json",
                    base: "",
                    fullURL: t.getDataURI()
                },
                "map-pathing": {
                    type: "json",
                    base: i,
                    url: "map-pathing/1/map-pathing.json"
                },
                "map-tutorial-b9": {
                    type: "json",
                    base: i,
                    url: "map-tutorial-b9/1/map-tutorial-b9.json"
                },
                "map-tutorial-c9": {
                    type: "json",
                    base: i,
                    url: "map-tutorial-c9/1/map-tutorial-c9.json"
                },
                "map-tutorial-d8": {
                    type: "json",
                    base: i,
                    url: "map-tutorial-d8/1/map-tutorial-d8.json"
                },
                "map-tutorial-d9": {
                    type: "json",
                    base: i,
                    url: "map-tutorial-d9/1/map-tutorial-d9.json"
                },
                "map-forest-a3": {
                    type: "json",
                    base: i,
                    url: "map-forest-a3/5/map-forest-a3.json"
                },
                "map-forest-a4": {
                    type: "json",
                    base: i,
                    url: "map-forest-a4/5/map-forest-a4.json"
                },
                "map-forest-a5": {
                    type: "json",
                    base: i,
                    url: "map-forest-a5/6/map-forest-a5.json"
                },
                "map-forest-b5": {
                    type: "json",
                    base: i,
                    url: "map-forest-b5/4/map-forest-b5.json"
                },
                "map-forest-b6": {
                    type: "json",
                    base: i,
                    url: "map-forest-b6/4/map-forest-b6.json"
                },
                "map-forest-b7": {
                    type: "json",
                    base: i,
                    url: "map-forest-b7/5/map-forest-b7.json"
                },
                "map-forest-b8": {
                    type: "json",
                    base: i,
                    url: "map-forest-b8/5/map-forest-b8.json"
                },
                "map-forest-c4": {
                    type: "json",
                    base: i,
                    url: "map-forest-c4/4/map-forest-c4.json"
                },
                "map-forest-c7": {
                    type: "json",
                    base: i,
                    url: "map-forest-c7/4/map-forest-c7.json"
                },
                "map-forest-c8": {
                    type: "json",
                    base: i,
                    url: "map-forest-c8/8/map-forest-c8.json"
                },
                "map-forest-d3": {
                    type: "json",
                    base: i,
                    url: "map-forest-d3/15/map-forest-d3.json"
                },
                "map-shiverchill-a5": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-a5/6/map-shiverchill-a5.json"
                },
                "map-shiverchill-a6": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-a6/5/map-shiverchill-a6.json"
                },
                "map-shiverchill-a7": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-a7/4/map-shiverchill-a7.json"
                },
                "map-shiverchill-a11": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-a11/5/map-shiverchill-a11.json"
                },
                "map-shiverchill-a10": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-a10/6/map-shiverchill-a10.json"
                },
                "map-shiverchill-a9": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-a9/5/map-shiverchill-a9.json"
                },
                "map-shiverchill-b3": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-b3/5/map-shiverchill-b3.json"
                },
                "map-shiverchill-b6": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-b6/4/map-shiverchill-b6.json"
                },
                "map-shiverchill-b7": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-b7/5/map-shiverchill-b7.json"
                },
                "map-shiverchill-b1": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-b1/5/map-shiverchill-b1.json"
                },
                "map-shiverchill-b10": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-b10/6/map-shiverchill-b10.json"
                },
                "map-shiverchill-a4": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-a4/5/map-shiverchill-a4.json"
                },
                "map-shiverchill-a3": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-a3/4/map-shiverchill-a3.json"
                },
                "map-shiverchill-a2": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-a2/4/map-shiverchill-a2.json"
                },
                "map-shiverchill-b2": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-b2/5/map-shiverchill-b2.json"
                },
                "map-shiverchill-b8": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-b8/5/map-shiverchill-b8.json"
                },
                "map-shiverchill-b9": {
                    type: "json",
                    base: i,
                    url: "map-shiverchill-b9/4/map-shiverchill-b9.json"
                },
                "map-lamplight-a2": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a2/1/map-lamplight-a2.json"
                },
                "map-lamplight-a3": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a3/2/map-lamplight-a3.json"
                },
                "map-lamplight-a4": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a4/1/map-lamplight-a4.json"
                },
                "map-lamplight-b0": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b0/1/map-lamplight-b0.json"
                },
                "map-lamplight-b1": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b1/3/map-lamplight-b1.json"
                },
                "map-lamplight-b2": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b2/1/map-lamplight-b2.json"
                },
                "map-lamplight-b3": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b3/3/map-lamplight-b3.json"
                },
                "map-lamplight-b4": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b4/1/map-lamplight-b4.json"
                },
                "map-lamplight-b5": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b5/1/map-lamplight-b5.json"
                },
                "map-lamplight-c1": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c1/1/map-lamplight-c1.json"
                },
                "map-lamplight-c2": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c2/1/map-lamplight-c2.json"
                },
                "map-lamplight-c3": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c3/3/map-lamplight-c3.json"
                },
                "map-lamplight-c4": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c4/1/map-lamplight-c4.json"
                },
                "map-lamplight-coliseum": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-coliseum/2/map-lamplight-coliseum.json"
                },
                "map-lamplight-a2-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a2-pumpkinfest/2/map-lamplight-a2-pumpkinfest.json"
                },
                "map-lamplight-a3-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a3-pumpkinfest/3/map-lamplight-a3-pumpkinfest.json"
                },
                "map-lamplight-a4-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a4-pumpkinfest/2/map-lamplight-a4-pumpkinfest.json"
                },
                "map-lamplight-b0-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b0-pumpkinfest/1/map-lamplight-b0-pumpkinfest.json"
                },
                "map-lamplight-b1-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b1-pumpkinfest/1/map-lamplight-b1-pumpkinfest.json"
                },
                "map-lamplight-b2-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b2-pumpkinfest/3/map-lamplight-b2-pumpkinfest.json"
                },
                "map-lamplight-b3-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b3-pumpkinfest/2/map-lamplight-b3-pumpkinfest.json"
                },
                "map-lamplight-b4-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b4-pumpkinfest/2/map-lamplight-b4-pumpkinfest.json"
                },
                "map-lamplight-b5-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b5-pumpkinfest/1/map-lamplight-b5-pumpkinfest.json"
                },
                "map-lamplight-c1-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c1-pumpkinfest.json"
                },
                "map-lamplight-c2-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c2-pumpkinfest/2/map-lamplight-c2-pumpkinfest.json"
                },
                "map-lamplight-c3-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c3-pumpkinfest/5/map-lamplight-c3-pumpkinfest.json"
                },
                "map-lamplight-c4-pumpkinfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c4-pumpkinfest/2/map-lamplight-c4-pumpkinfest.json"
                },
                "map-lamplight-a2-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a2-starlight_festival/1/map-lamplight-a2-starlight_festival.json"
                },
                "map-lamplight-a3-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a3-starlight_festival/3/map-lamplight-a3-starlight_festival.json"
                },
                "map-lamplight-a4-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a4-starlight_festival/1/map-lamplight-a4-starlight_festival.json"
                },
                "map-lamplight-b0-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b0-starlight_festival/1/map-lamplight-b0-starlight_festival.json"
                },
                "map-lamplight-b1-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b1-starlight_festival/1/map-lamplight-b1-starlight_festival.json"
                },
                "map-lamplight-b2-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b2-starlight_festival/1/map-lamplight-b2-starlight_festival.json"
                },
                "map-lamplight-b3-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b3-starlight_festival/2/map-lamplight-b3-starlight_festival.json"
                },
                "map-lamplight-b4-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b4-starlight_festival/1/map-lamplight-b4-starlight_festival.json"
                },
                "map-lamplight-b5-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b5-starlight_festival/1/map-lamplight-b5-starlight_festival.json"
                },
                "map-lamplight-c1-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c1-starlight_festival.json"
                },
                "map-lamplight-c2-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c2-starlight_festival/1/map-lamplight-c2-starlight_festival.json"
                },
                "map-lamplight-c3-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c3-starlight_festival/3/map-lamplight-c3-starlight_festival.json"
                },
                "map-lamplight-c4-starlight_festival": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c4-starlight_festival/1/map-lamplight-c4-starlight_festival.json"
                },
                "map-lamplight-a2-winterfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a2-winterfest/1/map-lamplight-a2-winterfest.json"
                },
                "map-lamplight-a3-winterfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a3-winterfest/3/map-lamplight-a3-winterfest.json"
                },
                "map-lamplight-a4-winterfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a4-winterfest/2/map-lamplight-a4-winterfest.json"
                },
                "map-lamplight-b0-winterfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b0-winterfest/1/map-lamplight-b0-winterfest.json"
                },
                "map-lamplight-b1-winterfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b1-winterfest/1/map-lamplight-b1-winterfest.json"
                },
                "map-lamplight-b2-winterfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b2-winterfest/1/map-lamplight-b2-winterfest.json"
                },
                "map-lamplight-b3-winterfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b3-winterfest/3/map-lamplight-b3-winterfest.json"
                },
                "map-lamplight-b4-winterfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b4-winterfest/2/map-lamplight-b4-winterfest.json"
                },
                "map-lamplight-b5-winterfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b5-winterfest/1/map-lamplight-b5-winterfest.json"
                },
                "map-lamplight-c2-winterfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c2-winterfest/1/map-lamplight-c2-winterfest.json"
                },
                "map-lamplight-c3-winterfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c3-winterfest/7/map-lamplight-c3-winterfest.json"
                },
                "map-lamplight-c4-winterfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c4-winterfest/2/map-lamplight-c4-winterfest.json"
                },
                "map-lamplight-a1-springfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a1-springfest/4/map-lamplight-a1-springfest.json"
                },
                "map-lamplight-a2-springfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a2-springfest/4/map-lamplight-a2-springfest.json"
                },
                "map-lamplight-a3-springfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-a3-springfest/4/map-lamplight-a3-springfest.json"
                },
                "map-lamplight-b2-springfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b2-springfest/5/map-lamplight-b2-springfest.json"
                },
                "map-lamplight-b3-springfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b3-springfest/5/map-lamplight-b3-springfest.json"
                },
                "map-lamplight-b4-springfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b4-springfest/1/map-lamplight-b4-springfest.json"
                },
                "map-lamplight-c2-springfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c2-springfest/1/map-lamplight-c2-springfest.json"
                },
                "map-lamplight-c3-springfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c3-springfest/5/map-lamplight-c3-springfest.json"
                },
                "map-lamplight-c4-springfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c4-springfest/1/map-lamplight-c4-springfest.json"
                },
                "map-lamplight-d3-springfest": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-d3-springfest/5/map-lamplight-d3-springfest.json"
                },
                "map-skywatch-a0": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-a0/4/map-cloudzone-a0.json"
                },
                "map-skywatch-a1": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-a1/3/map-cloudzone-a1.json"
                },
                "map-skywatch-b1": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-b1/7/map-cloudzone-b1.json"
                },
                "map-skywatch-b2": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-b2/7/map-cloudzone-b2.json"
                },
                "map-skywatch-b3": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-b3/10/map-cloudzone-b3.json"
                },
                "map-skywatch-c1": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-c1/3/map-cloudzone-c1.json"
                },
                "map-skywatch-c2": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-c2/4/map-cloudzone-c2.json"
                },
                "map-skywatch-c3": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-c3/3/map-cloudzone-c3.json"
                },
                "map-skywatch-c4": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-c4/12/map-cloudzone-c4.json"
                },
                "map-skywatch-c5": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-c5/1/map-cloudzone-c5.json"
                },
                "map-skywatch-d1": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-d1/6/map-cloudzone-d1.json"
                },
                "map-skywatch-d2": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-d2/11/map-cloudzone-d2.json"
                },
                "map-skywatch-d3": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-d3/12/map-cloudzone-d3.json"
                },
                "map-skywatch-e1": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-e1/3/map-cloudzone-e1.json"
                },
                "map-skywatch-e2": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-e2/6/map-cloudzone-e2.json"
                },
                "map-skywatch-e3": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-e3/3/map-cloudzone-e3.json"
                },
                "map-skywatch-e4": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-e4/3/map-cloudzone-e4.json"
                },
                "map-skywatch-e5": {
                    type: "json",
                    base: i,
                    url: "map-cloudzone-e5/5/map-cloudzone-e5.json"
                },
                "map-bonfire_spire-a1": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-a1/4/map-bonfire_spire-a1.json"
                },
                "map-bonfire_spire-a4": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-a4/6/map-bonfire_spire-a4.json"
                },
                "map-bonfire_spire-b1": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-b1/10/map-bonfire_spire-b1.json"
                },
                "map-bonfire_spire-b2": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-b2/8/map-bonfire_spire-b2.json"
                },
                "map-bonfire_spire-b4": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-b4/11/map-bonfire_spire-b4.json"
                },
                "map-bonfire_spire-b5": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-b5/7/map-bonfire_spire-b5.json"
                },
                "map-bonfire_spire-c1": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-c1/6/map-bonfire_spire-c1.json"
                },
                "map-bonfire_spire-c2": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-c2/7/map-bonfire_spire-c2.json"
                },
                "map-bonfire_spire-c3": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-c3/7/map-bonfire_spire-c3.json"
                },
                "map-bonfire_spire-c4": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-c4/7/map-bonfire_spire-c4.json"
                },
                "map-bonfire_spire-c6": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-c6/10/map-bonfire_spire-c6.json"
                },
                "map-bonfire_spire-d1": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-d1/8/map-bonfire_spire-d1.json"
                },
                "map-bonfire_spire-d2": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-d2/4/map-bonfire_spire-d2.json"
                },
                "map-bonfire_spire-d3": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-d3/5/map-bonfire_spire-d3.json"
                },
                "map-bonfire_spire-d4": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-d4/7/map-bonfire_spire-d4.json"
                },
                "map-bonfire_spire-d5": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-d5/5/map-bonfire_spire-d5.json"
                },
                "map-bonfire_spire-d6": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-d6/5/map-bonfire_spire-d6.json"
                },
                "map-bonfire_spire-e5": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-e5/5/map-bonfire_spire-e5.json"
                },
                "map-bonfire_spire-e6": {
                    type: "json",
                    base: i,
                    url: "map-bonfire_spire-e6/9/map-bonfire_spire-e6.json"
                },
                "map-dyno-a0": {
                    type: "json",
                    base: i,
                    url: "map-dyno-a0/2/map-dyno-a0.json"
                },
                "map-house-exterior": {
                    type: "json",
                    base: i,
                    url: "map-house-exterior/6/map-house-exterior.json"
                },
                "map-house-exit": {
                    type: "json",
                    base: i,
                    url: "map-house-exit/1/map-house-exit.json"
                },
                "map-house-suburbs": {
                    type: "json",
                    base: i,
                    url: "map-house-suburbs/2/map-house-suburbs.json"
                },
                "map-house-icecaves": {
                    type: "json",
                    base: i,
                    url: "map-house-icecaves/1/map-house-icecaves.json"
                },
                "map-house-treehouse": {
                    type: "json",
                    base: i,
                    url: "map-house-treehouse/1/map-house-treehouse.json"
                },
                "map-house-cool-cave": {
                    type: "json",
                    base: i,
                    url: "map-house-cool-cave/2/map-house-cool-cave.json"
                },
                "map-house-fire-pit": {
                    type: "json",
                    base: i,
                    url: "map-house-fire-pit/3/map-house-fire-pit.json"
                },
                "map-house-forest": {
                    type: "json",
                    base: i,
                    url: "map-house-forest/3/map-house-forest.json"
                },
                "map-house-large-0": {
                    type: "json",
                    base: i,
                    url: "map-house-large-0/2/map-house-large-0.json"
                },
                "map-house-large-1": {
                    type: "json",
                    base: i,
                    url: "map-house-large-1/2/map-house-large-1.json"
                },
                "map-house-medium-0": {
                    type: "json",
                    base: i,
                    url: "map-house-medium-0/2/map-house-medium-0.json"
                },
                "map-house-medium-1": {
                    type: "json",
                    base: i,
                    url: "map-house-medium-1/2/map-house-medium-1.json"
                },
                "map-house-small-0": {
                    type: "json",
                    base: i,
                    url: "map-house-small-0/2/map-house-small-0.json"
                },
                "map-house-small-1": {
                    type: "json",
                    base: i,
                    url: "map-house-small-1/2/map-house-small-1.json"
                },
                "map-toyzone-a1": {
                    type: "json",
                    base: i,
                    url: "map-toyzone-a1/10/map-toyzone-a1.json"
                },
                "map-toyzone-b1": {
                    type: "json",
                    base: i,
                    url: "map-toyzone-b1/12/map-toyzone-b1.json"
                },
                "map-toyzone-b2": {
                    type: "json",
                    base: i,
                    url: "map-toyzone-b2/13/map-toyzone-b2.json"
                },
                "map-house-fire-pit-2": {
                    type: "json",
                    base: i,
                    url: "map-house-fire-pit-2/3/map-house-fire-pit-2.json"
                },
                "map-house-fire-pit-3": {
                    type: "json",
                    base: i,
                    url: "map-house-fire-pit-3/2/map-house-fire-pit-3.json"
                },
                "map-house-house-large-3": {
                    type: "json",
                    base: i,
                    url: "map-house-house-large-3/4/map-house-house-large-3.json"
                },
                "map-house-house-large-4": {
                    type: "json",
                    base: i,
                    url: "map-house-house-large-4/5/map-house-house-large-4.json"
                },
                "map-house-cool-cave-unique-1": {
                    type: "json",
                    base: i,
                    url: "map-house-cool-cave-unique-1/9/map-house-cool-cave-unique-1.json"
                },
                "map-house-cool-cave-unique-2": {
                    type: "json",
                    base: i,
                    url: "map-house-cool-cave-unique-2/2/map-house-cool-cave-unique-2.json"
                },
                "map-house-treehouse-unique-1": {
                    type: "json",
                    base: i,
                    url: "map-house-treehouse-unique-1/3/map-house-treehouse-unique-1.json"
                },
                "map-house-treehouse-unique-2": {
                    type: "json",
                    base: i,
                    url: "map-house-treehouse-unique-2/5/map-house-treehouse-unique-2.json"
                },
                "map-lamplight-b3-twilight-wheel": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-b3-twilight-wheel/5/map-lamplight-b3-twilight-wheel.json"
                },
                "map-lamplight-c3-twilight-wheel": {
                    type: "json",
                    base: i,
                    url: "map-lamplight-c3-twilight-wheel/2/map-lamplight-c3-twilight-wheel.json"
                },
                "map-activity_zone-a1": {
                    type: "json",
                    base: i,
                    url: "map-activity_zone-a1/7/map-activity_zone-a1.json"
                },
                "map-activity_zone-a2": {
                    type: "json",
                    base: i,
                    url: "map-activity_zone-a2/5/map-activity_zone-a2.json"
                },
                "map-activity_zone-b1": {
                    type: "json",
                    base: i,
                    url: "map-activity_zone-b1/9/map-activity_zone-b1.json"
                },
                "map-activity_zone-b2": {
                    type: "json",
                    base: i,
                    url: "map-activity_zone-b2/9/map-activity_zone-b2.json"
                },
                "map-activity_zone-c1": {
                    type: "json",
                    base: i,
                    url: "map-activity_zone-c1/8/map-activity_zone-c1.json"
                },
                "map-activity_zone-c2": {
                    type: "json",
                    base: i,
                    url: "map-activity_zone-c2/7/map-activity_zone-c2.json"
                },
                "map-activity_zone-b3": {
                    type: "json",
                    base: i,
                    url: "map-activity_zone-b3/6/map-activity_zone-b3.json"
                },
                "map-shipwreck_shore-a1": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-a1/5/map-shipwreck_shore-a1.json"
                },
                "map-shipwreck_shore-a2": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-a2/4/map-shipwreck_shore-a2.json"
                },
                "map-shipwreck_shore-a3": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-a3/5/map-shipwreck_shore-a3.json"
                },
                "map-shipwreck_shore-a4": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-a4/4/map-shipwreck_shore-a4.json"
                },
                "map-shipwreck_shore-a5": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-a5/9/map-shipwreck_shore-a5.json"
                },
                "map-shipwreck_shore-a7": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-a7/5/map-shipwreck_shore-a7.json"
                },
                "map-shipwreck_shore-b10": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-b10/5/map-shipwreck_shore-b10.json"
                },
                "map-shipwreck_shore-b11": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-b11/6/map-shipwreck_shore-b11.json"
                },
                "map-shipwreck_shore-b12": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-b12/7/map-shipwreck_shore-b12.json"
                },
                "map-shipwreck_shore-b13": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-b13/6/map-shipwreck_shore-b13.json"
                },
                "map-shipwreck_shore-b2": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-b2/4/map-shipwreck_shore-b2.json"
                },
                "map-shipwreck_shore-b4": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-b4/3/map-shipwreck_shore-b4.json"
                },
                "map-shipwreck_shore-b5": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-b5/5/map-shipwreck_shore-b5.json"
                },
                "map-shipwreck_shore-b6": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-b6/7/map-shipwreck_shore-b6.json"
                },
                "map-shipwreck_shore-b7": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-b7/7/map-shipwreck_shore-b7.json"
                },
                "map-shipwreck_shore-b8": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-b8/4/map-shipwreck_shore-b8.json"
                },
                "map-shipwreck_shore-c10": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-c10/5/map-shipwreck_shore-c10.json"
                },
                "map-shipwreck_shore-c11": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-c11/6/map-shipwreck_shore-c11.json"
                },
                "map-shipwreck_shore-c12": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-c12/5/map-shipwreck_shore-c12.json"
                },
                "map-shipwreck_shore-c6": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-c6/4/map-shipwreck_shore-c6.json"
                },
                "map-shipwreck_shore-c7": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-c7/4/map-shipwreck_shore-c7.json"
                },
                "map-shipwreck_shore-c8": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-c8/6/map-shipwreck_shore-c8.json"
                },
                "map-shipwreck_shore-c9": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-c9/8/map-shipwreck_shore-c9.json"
                },
                "map-darktower-a1": {
                    type: "json",
                    base: i,
                    url: "map-darktower-a1/14/map-darktower-a1.json"
                },
                "map-darktower-a2": {
                    type: "json",
                    base: i,
                    url: "map-darktower-a2/23/map-darktower-a2.json"
                },
                "map-darktower-a3": {
                    type: "json",
                    base: i,
                    url: "map-darktower-a3/9/map-darktower-a3.json"
                },
                "map-shipwreck_shore-titan": {
                    type: "json",
                    base: i,
                    url: "map-shipwreck_shore-titan/5/map-shipwreck_shore-titan.json"
                },
                "map-forest-titan": {
                    type: "json",
                    base: i,
                    url: "map-forest-titan/2/map-forest-titan.json"
                },
                "map-academy-gh1": {
                    type: "json",
                    base: i,
                    url: "map-academy-gh1/9/map-academy-gh1.json"
                },
                "map-academy-gh2": {
                    type: "json",
                    base: i,
                    url: "map-academy-gh2/8/map-academy-gh2.json"
                },
                "map-academy-gh3": {
                    type: "json",
                    base: i,
                    url: "map-academy-gh3/15/map-academy-gh3.json"
                },
                "battle-shiverchill-outside": {
                    type: "json",
                    base: i,
                    url: "battle-shiverchill-outside/1/battle-shiverchill-outside.json"
                },
                "battle-shiverchill-inside": {
                    type: "json",
                    base: i,
                    url: "battle-shiverchill-inside/4/battle-shiverchill-inside.json"
                },
                "battle-shipwreck-outside": {
                    type: "json",
                    base: i,
                    url: "battle-shipwreck-outside/4/battle-shipwreck-outside.json"
                },
                "battle-shipwreck-underwater": {
                    type: "json",
                    base: i,
                    url: "battle-shipwreck-underwater/1/battle-shipwreck-underwater.json"
                },
                "battle-bonfire-outside": {
                    type: "json",
                    base: i,
                    url: "battle-bonfire-outside/3/battle-bonfire-outside.json"
                },
                "battle-bonfire-inside": {
                    type: "json",
                    base: i,
                    url: "battle-bonfire-inside/1/battle-bonfire-inside.json"
                },
                "battle-bonfire-lava": {
                    type: "json",
                    base: i,
                    url: "battle-bonfire-lava/3/battle-bonfire-lava.json"
                },
                "battle-tower-inside": {
                    type: "json",
                    base: i,
                    url: "battle-tower-inside/3/battle-tower-inside.json"
                },
                "battle-coliseum-outside": {
                    type: "json",
                    base: i,
                    url: "battle-colosseum-outside/1/battle-colosseum-outside.json"
                },
                "battle-lamplight-outside": {
                    type: "json",
                    base: i,
                    url: "battle-lamplight-outside/1/battle-lamplight-outside.json"
                },
                "battle-forest-outside": {
                    type: "json",
                    base: i,
                    url: "battle-forest-outside/1/battle-forest-outside.json"
                },
                "battle-skywatch-outside": {
                    type: "json",
                    base: i,
                    url: "battle-skywatch-outside/3/battle-skywatch-outside.json"
                },
                "battle-skywatch-inside": {
                    type: "json",
                    base: i,
                    url: "battle-skywatch-inside/4/battle-skywatch-inside.json"
                },
                "battle-forest-generic": {
                    type: "json",
                    base: i,
                    url: "battle-forest-generic/1/battle-forest-generic.json"
                },
                "voice-1-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-2": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-3": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-4": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-5": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-6": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-7": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-8": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-9": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-10": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-11": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-12": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-13": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-14": {
                    type: "sfx",
                    v: 5
                },
                "voice-1-15": {
                    type: "sfx",
                    v: 5
                },
                "voice-0": {
                    type: "sfx",
                    v: 5
                },
                "voice-2": {
                    type: "sfx",
                    v: 5
                },
                "voice-3": {
                    type: "sfx",
                    v: 5
                },
                "voice-4": {
                    type: "sfx",
                    v: 5
                },
                "voice-5": {
                    type: "sfx",
                    v: 5
                },
                "voice-6": {
                    type: "sfx",
                    v: 5
                },
                "voice-7": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-2": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-3": {
                    type: "sfx",
                    v: 10
                },
                "voice-8-4": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-5": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-6": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-7": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-8": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-9": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-10": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-11": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-12": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-13": {
                    type: "sfx",
                    v: 5
                },
                "voice-8-14": {
                    type: "sfx",
                    v: 5
                },
                "voice-9": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-2": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-3": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-4": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-5": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-6": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-7": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-8": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-9": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-10": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-11": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-12": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-13": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-14": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-15": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-16": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-17": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-18": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-19": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-20": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-21": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-22": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-23": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-24": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-25": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-26": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-27": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-28": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-29": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-30": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-31": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-32": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-33": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-34": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-35": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-36": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-37": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-38": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-39": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-40": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-41": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-42": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-43": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-44": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-45": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-46": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-47": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-48": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-49": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-50": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-51": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-52": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-53": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-54": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-55": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-56": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-57": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-58": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-59": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-60": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-61": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-62": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-63": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-64": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-65": {
                    type: "sfx",
                    v: 3
                },
                "voice-10-66": {
                    type: "sfx",
                    v: 5
                },
                "voice-10-67": {
                    type: "sfx",
                    v: 2
                },
                "voice-10-68": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-69": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-70": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-71": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-72": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-73": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-74": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-75": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-76": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-77": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-78": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-79": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-80": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-81": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-82": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-83": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-84": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-85": {
                    type: "sfx",
                    v: 1
                },
                "voice-10-86": {
                    type: "sfx",
                    v: 1
                },
                "voice-11": {
                    type: "sfx",
                    v: 5
                },
                "voice-11-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-11-2": {
                    type: "sfx",
                    v: 5
                },
                "voice-11-3": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-2": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-3": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-4": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-5": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-6": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-7": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-8": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-9": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-10": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-11": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-12": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-13": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-14": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-15": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-16": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-17": {
                    type: "sfx",
                    v: 5
                },
                "voice-12-18": {
                    type: "sfx",
                    v: 5
                },
                "voice-13-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-14-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-14-2": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-2": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-3": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-4": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-5": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-6": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-7": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-8": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-9": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-10": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-11": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-12": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-13": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-14": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-15": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-16": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-17": {
                    type: "sfx",
                    v: 5
                },
                "voice-15-18": {
                    type: "sfx",
                    v: 5
                },
                "voice-16-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-16-2": {
                    type: "sfx",
                    v: 5
                },
                "voice-16-3": {
                    type: "sfx",
                    v: 5
                },
                "voice-17-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-17-2": {
                    type: "sfx",
                    v: 5
                },
                "voice-17-3": {
                    type: "sfx",
                    v: 5
                },
                "voice-17-4": {
                    type: "sfx",
                    v: 5
                },
                "voice-18-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-18-2": {
                    type: "sfx",
                    v: 5
                },
                "voice-18-3": {
                    type: "sfx",
                    v: 5
                },
                "voice-18-4": {
                    type: "sfx",
                    v: 5
                },
                "voice-18-5": {
                    type: "sfx",
                    v: 5
                },
                "voice-19-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-20-1": {
                    type: "sfx",
                    v: 6
                },
                "voice-20-2": {
                    type: "sfx",
                    v: 3
                },
                "voice-21-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-21-2": {
                    type: "sfx",
                    v: 5
                },
                "voice-22-1": {
                    type: "sfx",
                    v: 8
                },
                "voice-22-2": {
                    type: "sfx",
                    v: 3
                },
                "voice-23-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-23-2": {
                    type: "sfx",
                    v: 3
                },
                "voice-23-3": {
                    type: "sfx",
                    v: 3
                },
                "voice-24-1": {
                    type: "sfx",
                    v: 5
                },
                "voice-25-1": {
                    type: "sfx",
                    v: 4
                },
                "voice-26-1": {
                    type: "sfx",
                    v: 4
                },
                "voice-27-1": {
                    type: "sfx",
                    v: 4
                },
                "voice-28-1": {
                    type: "sfx",
                    v: 4
                },
                "voice-29-1": {
                    type: "sfx",
                    v: 3
                }
            };
        }
        return t.prototype.getAsset = function(t) {
            if (!n.Util.isValid(this.assets[t])) {
                var e = null, i = null, r = 0 === t.indexOf("horizontal-dorm") || 0 === t.indexOf("vertical-dorm") || 0 === t.indexOf("sheets-dorm"), s = 0 === t.indexOf("default-pet-") || 0 === t.indexOf("reduced-pet-") || 0 === t.indexOf("small-pet-"), l = 0 === t.indexOf("male-outfit-") || 0 === t.indexOf("female-outfit-"), h = 0 === t.indexOf("above-mount-") || 0 === t.indexOf("below-mount-");
                if (0 === t.indexOf("icon-")) {
                    if ((e = t.split("-")).length > 2) if ("storeTab" === e[1]) {
                        var c = o.Items.getItem("singleImage", parseInt(e[2]) + 22);
                        this.assets[t] = {
                            type: "singleImage",
                            v: a(c, "metadata.v", 1),
                            key: t
                        };
                    } else i = o.Items.getItemMetadata(e[1], parseInt(e[2])), this.assets[t] = {
                        type: "singleImage",
                        v: a(i, "vIcon", 1)
                    };
                } else if (r || s || l || h || 0 === t.indexOf("default-boss-") || 0 === t.indexOf("default-follow-") || 0 === t.indexOf("default-titan-")) (e = t.split("-")).length > 2 && (i = o.Items.getItemMetadata(e[1], parseInt(e[2])), 
                n.Util.isValid(i) && (this.assets[t] = i.assets[e[0]])); else if (0 === t.indexOf("default-emote-")) (e = t.split("-")).length > 2 && (i = o.Items.getItemMetadata(e[1], parseInt(e[2])).assets[e[0]], 
                n.Util.isValid(i) && (this.assets[t] = {
                    type: i.type,
                    v: n.Util.isValid(i) && n.Util.isValid(i.v) ? i.v : 1
                })); else if (0 === t.indexOf("atlas-") || 0 === t.indexOf("bitmapFont-") || 0 === t.indexOf("sfx-") || 0 === t.indexOf("bgm-") || 0 === t.indexOf("singleImage-") || 0 === t.indexOf("spine-")) {
                    if (2 === (e = t.split("-")).length) {
                        c = o.Items.getItem(e[0], parseInt(e[1]));
                        this.assets[t] = {
                            filename: c.data.filename,
                            type: e[0],
                            v: a(c, "metadata.assets.default.v", 1)
                        };
                    }
                } else this.assets[t] = {};
            }
            return this.assets[t];
        }, t.prototype.getImageBounds = function(t) {
            var e = this.getAsset(t);
            return n.Util.isValid(e) ? [ e.x, e.y, e.w, e.h ] : [ 0, 0, 0, 0 ];
        }, t.prototype.getImagePivots = function(t) {
            var e = this.getAsset(t);
            return n.Util.isValid(e) ? [ n.Util.isValid(e.pivotX) ? e.pivotX : null, n.Util.isValid(e.pivotY) ? e.pivotY : null ] : [ null, null ];
        }, t.prototype.appendAssets = function(t) {
            for (var e in t) this.assets[e] = t[e];
        }, t;
    }();
    e.Assets = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e) {
            return t.call(this, e, [], [ "shiverchill-B1", "shiverchill-A2", "shiverchill-A5", "shiverchill-B8", "shiverchill-A11" ]) || this;
        }
        return n(e, t), e.prototype.applySkin = function(e) {
            t.prototype.init.call(this, e);
            var i = {
                type: "LINE_ZONE",
                x1: -200,
                y1: 0,
                x2: 1280,
                y2: 0
            };
            this.game.prodigy.create.createParticleEmitter(e.foreground, 1, new Phaser.Point(0, 0), i), 
            this.game.prodigy.create.createParticleEmitter(e.foreground, 2, new Phaser.Point(0, 0), i);
        }, e;
    }(i(91).Skin);
    e.Snow = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = function(t) {
        function e(e) {
            var i = t.call(this, e, [], [ "forest-A3", "forest-A4", "forest-A5", "forest-B5", "forest-B6", "forest-B7", "forest-B8", "forest-C4", "forest-C7", "forest-C8", "forest-D3" ]) || this;
            return i.count = 0, i.magicParticle = [], i;
        }
        return n(e, t), e.prototype.init = function(e) {
            t.prototype.init.call(this, e);
            var i = e.foreground;
            this.initListeners();
            for (var a = 0; a < 5; a++) this.magicParticle.push(i.add(this.game.prodigy.create.sprite(Math.floor(1280 * Math.random()), Math.floor(720 * Math.random()), "atlas-18", "sparkle-yellow-1")));
            return {};
        }, e.prototype.initListeners = function() {
            this.game.broadcaster.addAppListener(o.EGameObjEvents.Update, this.update.bind(this), this, this.game);
        }, e.prototype.stopListeners = function() {
            this.game.broadcaster.removeAppListener(o.EGameObjEvents.Update, this, this.game);
        }, e.prototype.randomizePosition = function() {
            for (var t = 0, e = this.magicParticle; t < e.length; t++) {
                var i = e[t];
                i.x = Math.floor(1280 * Math.random()), i.y = Math.floor(720 * Math.random());
            }
        }, e.prototype.update = function() {
            for (var t = 0, e = this.magicParticle; t < e.length; t++) {
                e[t].y -= 1;
            }
            this.count++, this.count > 180 && (this.randomizePosition(), this.count = 0);
        }, e;
    }(i(91).Skin);
    e.MagicParticle = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(29), r = i(0), s = function(t) {
        function e(e) {
            return t.call(this, e, [], [ "shipwreck_shore-A2", "shipwreck_shore-A3", "shipwreck_shore-A5", "shipwreck_shore-A7", "shipwreck_shore-B5", "shipwreck_shore-B6", "shipwreck_shore-B7", "shipwreck_shore-B8", "shipwreck_shore-B10", "shipwreck_shore-B13", "shipwreck_shore-C6", "shipwreck_shore-C7", "shipwreck_shore-C8", "shipwreck_shore-C9" ]) || this;
        }
        return n(e, t), e.prototype.init = function(e) {
            t.prototype.init.call(this, e), this.bubbles = [];
            for (var i = 0; i < 5; i++) {
                var a = e.foreground.add(this.game.prodigy.create.sprite(o.Random.integerInRange(0, 1280), o.Random.integerInRange(0, 720), "atlas-156", "tiny-bubble"));
                this.initBubble(a, !0), this.bubbles.push(a);
            }
            return {};
        }, e.prototype.initBubble = function(t, e) {
            if (r.Util.isValid(this.game)) {
                var i = o.Random.integerInRange(0, 2e3) + 5e3;
                t.x = o.Random.integerInRange(0, 1280), e ? (t.y = o.Random.integerInRange(70, 770), 
                i -= Math.floor(i / 770 * t.y)) : t.y = 770, this.game.add.tween(t).to({
                    x: "-10"
                }, 1e3, Phaser.Easing.Sinusoidal.InOut).to({
                    x: "+10"
                }, 1e3, Phaser.Easing.Sinusoidal.InOut).loop().start();
                var a = this.game.add.tween(t).to({
                    y: -50
                }, i, Phaser.Easing.Linear.None);
                a.onComplete.addOnce(this.initBubble.bind(this, t, !1)), a.start();
            }
        }, e;
    }(i(91).Skin);
    e.Bubbles = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(187), n = i(580), o = i(579), r = i(578), s = function() {
        function t(t) {
            this.gameFestivalsData = [ {
                festivalName: "Springfest",
                destinationMap: "lamplight-B3",
                exclusiveMap: [ "lamplight-A1", "lamplight-D3" ]
            } ], this.game = t, this.active = [ new r.Snow(t), new o.MagicParticle(t), new n.Bubbles(t) ];
        }
        return t.prototype.getButtons = function() {
            for (var t = [], e = 0; e < this.active.length; e++) {
                var i = this.active[e];
                t = t.concat(i.getButtons());
            }
            return t;
        }, t.prototype.getAssets = function(t) {
            for (var e = [], i = 0; i < this.active.length; i++) {
                var a = this.active[i];
                a.active(t) && (e = e.concat(a.getAssets(t)));
            }
            return e;
        }, t.prototype.init = function(t) {
            for (var e = {}, i = 0; i < this.active.length; i++) {
                var a = this.active[i];
                a.active(t.saveTag) && Object.assign(e, a.init(t));
            }
            return e;
        }, t.prototype.applySkin = function(t) {
            for (var e = 0; e < this.active.length; e++) {
                var i = this.active[e];
                i.active(t.saveTag) && i.applySkin(t);
            }
        }, t.prototype.checkForExclusiveMap = function(t) {
            for (var e = 0; e < this.gameFestivalsData.length; e++) for (var i = this.gameFestivalsData[e], a = 0; a < i.exclusiveMap.length; a++) if (t === i.exclusiveMap[a] && !this.isFestivalActive(i.festivalName)) return i.destinationMap;
            return t;
        }, t.prototype.isFestivalActive = function(t) {
            for (var e = 0; e < this.active.length; e++) {
                var i = this.active[e];
                if (i instanceof a.GameFestival && i.festivalName === t) return !0;
            }
            return !1;
        }, t;
    }();
    e.SkinManager = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            return i.titan = null, e.broadcaster.addAppListener(o.ENetworkHandlerEvents.Setup, function() {
                i.setup();
            }, i, "NetworkHandlers", !0), i;
        }
        return n(e, t), e.prototype.getTitans = function() {
            this.game.prodigy.player.hasCompletedTutorial() && (this.game.prodigy.loading(!0), 
            this.game.prodigy.network.getTitans(this.getTitansSuccess.bind(this), this.networkCallFailure.bind(this)));
        }, e.prototype.getTitan = function(t, e) {
            void 0 === e && (e = "Titan"), this.game.prodigy.player.hasCompletedTutorial() && (this.game.prodigy.loading(!0), 
            this.game.prodigy.network.getTitan(t, this.getTitanSuccess.bind(this, e), this.getTitanFailure.bind(this, e)));
        }, e.prototype.getTitanUserData = function() {
            this.game.prodigy.player.hasCompletedTutorial() && this.game.prodigy.network.getTitanUserData(null, null);
        }, e.prototype.hitTitan = function(t, e) {
            this.game.prodigy.player.hasCompletedTutorial() && (this.game.prodigy.loading(!0), 
            this.game.prodigy.network.hitTitan(t, this.hitTitanSuccess.bind(this), this.networkCallFailure.bind(this)), 
            e && this.game.prodigy.network.hitTitan(t, this.hitTitanSuccess.bind(this), this.networkCallFailure.bind(this)));
        }, e.prototype.isTitanAlive = function() {
            return !(!r.Util.isValid(this.titan) || !r.Util.isValid(this.titan.id)) && (this.titan.health > 0 && !this.titan.processed);
        }, e.prototype.setup = function() {
            this.game.broadcaster.removeAppListener(o.ENetworkHandlerEvents.Setup, this, "NetworkHandlers"), 
            this.getTitanUserData();
        }, e.prototype.getTitansSuccess = function(t) {
            this.game.prodigy.loading(!1), this.titan = t, this.game.broadcaster.broadcast(o.ETitanEvents.GotTitans, "Titan", [ t ]);
        }, e.prototype.getTitanSuccess = function(t, e) {
            this.game.prodigy.loading(!1), this.titan = e, this.game.broadcaster.broadcast(o.ETitanEvents.GotTitan, t, [ e ]);
        }, e.prototype.getTitanFailure = function(t) {
            this.game.prodigy.loading(!1), r.Util.log("Error: Titan network call failure"), 
            this.titan = null, this.game.broadcaster.broadcast(o.ETitanEvents.GotTitan, t, [ null ]);
        }, e.prototype.hitTitanSuccess = function(t) {
            this.game.prodigy.loading(!1), this.titan.hits = t.hits;
        }, e.prototype.networkCallFailure = function() {
            this.game.prodigy.loading(!1), this.titan = null, r.Util.log("Error: Titan network call failure"), 
            this.game.broadcaster.broadcast(o.ETitanEvents.GotTitan, "Titan", [ null ]);
        }, e;
    }(i(92).NetworkHandler);
    e.TitansNetworkHandler = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(3), s = i(0), l = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            return i.seasonID = null, i.seasonName = "", i.leaderboard = null, i.isInitialized = !1, 
            i.rank = {
                points: 0
            }, i.startListeners(), i;
        }
        return n(e, t), Object.defineProperty(e.prototype, "userLeaderboard", {
            get: function() {
                return this.leaderboard;
            },
            set: function(t) {
                this.leaderboard = t;
                var e = o.GameConstants.get("GameConstants.PVP.OVERRIDE_USER_POINTS");
                s.Util.isValid(e) && (this.leaderboard.points = e);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "userRank", {
            get: function() {
                return this.rank;
            },
            set: function(t) {
                this.rank = t;
                var e = o.GameConstants.get("GameConstants.PVP.OVERRIDE_USER_RANK");
                s.Util.isValid(e) && (this.rank = e);
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.startListeners = function() {
            s.Util.log("PVPNetworkHandler: Starting listeners", s.Util.DEV), this.game.broadcaster.addAppListener(r.ENetworkHandlerEvents.Setup, this.setup.bind(this), this, "NetworkHandlers", !0);
        }, e.prototype.stopListeners = function() {
            s.Util.log("PVPNetworkHandler: Stopping listeners", s.Util.DEV), this.game.broadcaster.removeAppListener(r.ENetworkHandlerEvents.Setup, this, "NetworkHandlers");
        }, e.prototype.setup = function() {
            s.Util.log("PVPNetworkHandler: setup", s.Util.DEV), this.stopListeners(), 
            this.initUserLeaderboard();
        }, e.prototype.initUserLeaderboard = function() {
            this.game.prodigy.player.hasCompletedTutorial() && (s.Util.log("Initializing user leaderboard", s.Util.DEV), 
            this.game.prodigy.network.initUserLeaderboard(this.initUserLeaderboardSuccess.bind(this), this.initUserLeaderboardFailure.bind(this)));
        }, e.prototype.initUserLeaderboardSuccess = function(t) {
            s.Util.log("Successfully initialized user leaderboard", s.Util.DEV), 
            this.isInitialized = !0, this.seasonID = s.Util.isValid(t.seasonID) ? t.seasonID : null, 
            this.userRank = {
                points: t.points
            }, this.seasonName = t.name;
        }, e.prototype.initUserLeaderboardFailure = function() {
            s.Util.log("Failed to initialize user leaderboard", s.Util.ERROR), this.isInitialized = !1;
        }, e.prototype.updateUserLeaderboard = function(t, e, i) {
            this.game.prodigy.player.hasCompletedTutorial() && (s.Util.log("Updating user leaderboard", s.Util.DEV), 
            this.updatePlayerWinLoss(t), this.game.prodigy.network.updateUserLeaderboard(t, this.updateUserLeaderboardSuccess.bind(this, e), this.updateUserLeaderboardFailure.bind(this, i)));
        }, e.prototype.updatePlayerWinLoss = function(t) {
            "win" === t ? this.game.prodigy.player.addWin() : "loss" === t && this.game.prodigy.player.addLoss();
        }, e.prototype.updateUserLeaderboardSuccess = function(t, e) {
            s.Util.isValid(e) && s.Util.isValid(e.points) && (s.Util.isValid(this.userRank) || (this.userRank = {
                points: 0
            }), this.userRank.points = e.points), s.Util.isValid(t) && t(this.userRank.points);
        }, e.prototype.updateUserLeaderboardFailure = function(t) {
            s.Util.log("Failed to update user leaderboard", s.Util.ERROR), s.Util.isValid(t) && t();
        }, e.prototype.getUserLeaderboard = function(t, e) {
            this.enableInput(!1), this.game.prodigy.network.getUserLeaderboard(this.getUserLeaderboardSuccess.bind(this, t), this.onPVPNetworkFailure.bind(this, e));
        }, e.prototype.getUserLeaderboardSuccess = function(t, e) {
            this.enableInput(!0), this.seasonID = e.seasonID, this.userLeaderboard = e, 
            t(this.userLeaderboard);
        }, e.prototype.onPVPNetworkFailure = function(t) {
            this.enableInput(!0), s.Util.isValid(t) && t();
        }, e.prototype.getUserRank = function(t, e, i) {
            this.enableInput(!1), this.game.prodigy.network.getUserRank(t, this.getUserRankSuccess.bind(this, e), this.onPVPNetworkFailure.bind(this, i));
        }, e.prototype.getUserRankSuccess = function(t, e) {
            this.enableInput(!0), this.userRank = e, t(this.userRank);
        }, e.prototype.getSeasonLeaderboard = function(t, e, i) {
            this.enableInput(!1), this.game.prodigy.network.getSeasonLeaderboard(t, e, this.getSeasonLeaderboardSuccess.bind(this, i), this.onPVPNetworkFailure.bind(this));
        }, e.prototype.getSeasonLeaderboardSuccess = function(t, e) {
            this.enableInput(!0), t(e);
        }, e.prototype.getClassLeaderboard = function(t, e, i) {
            var a = this;
            this.enableInput(!1), this.game.prodigy.network.getClassLeaderboard(t, this.seasonID, function(t) {
                a.getClassLeaderboardSuccess(e, t);
            }, this.onPVPNetworkFailure.bind(this, i));
        }, e.prototype.getClassLeaderboardSuccess = function(t, e) {
            this.enableInput(!0), t(e);
        }, e.prototype.enableInput = function(t) {
            if (this.game.input.enabled = t, !t) for (var e = 0; e < this.game.input.pointers.length; e++) this.game.input.pointers[e].active = !1;
        }, e;
    }(i(92).NetworkHandler);
    e.PVPNetworkHandler = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            return i.totalMail = null, e.broadcaster.addAppListener(o.ENetworkHandlerEvents.Setup, function() {
                i.setup();
            }, i, "NetworkHandlers", !0), i;
        }
        return n(e, t), e.prototype.getMailerData = function() {
            return this.totalMail;
        }, e.prototype.setup = function() {
            this.game.broadcaster.addAppListener(o.EMailerEvents.GetTotalMail, this.getTotalMail.bind(this), this, "ProdigyMailerButton", !0), 
            this.game.broadcaster.addAppListener(o.EMailerEvents.GetTotalMail, this.getTotalMail.bind(this), this, "ProdigyMailer", !0), 
            this.game.broadcaster.addAppListener(o.EMailerEvents.GetAllMail, this.getAllMail.bind(this), this, "ProdigyMailer", !0), 
            this.game.broadcaster.addAppListener(o.EMailerEvents.MarkAsRead, this.markAsRead.bind(this), this, "ProdigyMailView", !0), 
            this.game.broadcaster.addAppListener(o.EMailerEvents.DeleteMail, this.deleteMail.bind(this), this, "ProdigyMailer", !0), 
            this.game.broadcaster.removeAppListener(o.ENetworkHandlerEvents.Setup, this, "NetworkHandlers");
        }, e.prototype.getTotalMail = function(t) {
            this.game.prodigy.network.getTotalMail(this.getTotalMailSuccess.bind(this, t), this.getTotalMailFailure.bind(this));
        }, e.prototype.getTotalMailSuccess = function(t, e) {
            this.totalMail = e, this.game.broadcaster.broadcast(o.EMailerEvents.UpdateMailCounters, "ProdigyMailerButton", [ e ]), 
            r.Util.isValid(t) && t(e);
        }, e.prototype.getTotalMailFailure = function() {
            this.game.input.enabled = !0, r.Util.log("Could not get total mail.", r.Util.ERROR), 
            this.game.broadcaster.broadcast(o.EMailerEvents.GetTotalMailFailure, "ProdigyMailer");
        }, e.prototype.getAllMail = function(t, e) {
            this.game.prodigy.network.getAllMail(t, e, this.getAllMailSuccess.bind(this), this.getAllMailFailure.bind(this));
        }, e.prototype.getAllMailSuccess = function(t) {
            this.game.broadcaster.broadcast(o.EMailerEvents.GetAllMailSuccess, "ProdigyMailer", [ t ]);
        }, e.prototype.getAllMailFailure = function() {
            this.game.input.enabled = !0, this.game.broadcaster.broadcast(o.EMailerEvents.GetAllMailFailure, "ProdigyMailer"), 
            r.Util.log("Could not get all mail.", r.Util.ERROR);
        }, e.prototype.markAsRead = function(t, e) {
            this.game.prodigy.network.markAsRead(e.id, e, function(e) {
                r.Util.isValid(t) && t(e);
            }, this.markAsReadFailure.bind(this));
        }, e.prototype.markAsReadFailure = function() {
            this.game.input.enabled = !0, this.game.broadcaster.broadcast(o.EMailerEvents.MarkAsReadFailure, "ProdigyMailer"), 
            r.Util.log("Could not mark as read.", r.Util.ERROR);
        }, e.prototype.deleteMail = function(t, e) {
            var i = this;
            r.Util.isValid(t) ? this.game.prodigy.network.deleteMail(t.id, function() {
                i.deleteMailSuccessful(t, e);
            }, this.deleteMailFailure.bind(this)) : r.Util.log("Mail model data is not defined.", r.Util.ERROR);
        }, e.prototype.deleteMailSuccessful = function(t, e) {
            var i = t.isOpened;
            this.game.broadcaster.broadcast(o.EMailerEvents.DeleteMailSuccess, "ProdigyMailView" + e, [ t, e, i ]), 
            this.game.broadcaster.broadcast(o.EMailerEvents.DeleteMailSuccess, "ProdigyMailer", [ t, e, i ]);
        }, e.prototype.deleteMailFailure = function() {
            this.game.input.enabled = !0, this.game.broadcaster.broadcast(o.EMailerEvents.DeleteMailFailure, "ProdigyMailer"), 
            r.Util.log("Could not delete mail.", r.Util.ERROR);
        }, e;
    }(i(92).NetworkHandler);
    e.MailerNetworkHandler = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(3), s = i(65), l = i(13), h = i(0), c = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            return i.pendingRequests = null, i.friendsCap = null, i.totalFriends = null, 
            i.friendsList = [], i.classList = [], i.friendRequestList = [], i.hasReceivedFriends = !1, 
            i.hasReceivedClass = !1, e.broadcaster.addAppListener(r.ENetworkHandlerEvents.Setup, function() {
                i.setup();
            }, i, "NetworkHandlers", !0), e.broadcaster.addAppListener(r.EGameObjEvents.PlayerInitialized, function() {
                i.getUserClass();
            }, i, null, !0), i;
        }
        return n(e, t), e.prototype.getFriendsCap = function() {
            return this.friendsCap;
        }, e.prototype.hasPendingRequests = function() {
            return this.pendingRequests > 0;
        }, e.prototype.getTotalFriends = function() {
            return this.totalFriends;
        }, e.prototype.isFriendsListDownloaded = function() {
            return this.hasReceivedFriends;
        }, e.prototype.isClassmatesListDownloaded = function() {
            return this.hasReceivedClass;
        }, e.prototype.getFriend = function(t) {
            for (var e = null, i = 0; i < this.friendsList.length; i++) if (this.friendsList[i].userID === t) {
                e = this.friendsList[i];
                break;
            }
            if (null === e) for (i = 0; i < this.classList.length; i++) this.classList[i].userID === t && (e = this.classList[i]);
            if (null !== e) {
                var a = new l.Player(this.game, !0);
                return a.init(e), a;
            }
            return null;
        }, e.prototype.getFriendQuestProgress = function(t) {
            for (var e = [], i = 0; i < this.friendsList.length; i++) {
                var a = {
                    isMember: 0
                }, n = this.friendsList[i];
                if (a.questProgress = o(n, "zone." + t + ".quest.ID", 0), h.Util.isValid(n.appearance) && h.Util.isValid(n.appearance.name) && h.Util.isValid(n.data) && h.Util.isValid(n.data.level) && h.Util.isValid(n.userID)) {
                    var r = this.game.prodigy.gameContainer.resolve(s.OnlinePlayerAppearance);
                    r.setAppearance(n.appearance), a.name = r.getFullName(), a.appearance = n.appearance, 
                    a.level = n.data.level, a.isMember = h.Util.isValid(n.isMember) ? n.isMember : 0, 
                    a.userID = n.userID, e.push(a);
                }
            }
            return e;
        }, e.prototype.rejectFriendRequest = function(t, e) {
            this.game.prodigy.loading(!0), this.game.prodigy.network.rejectFriendRequest(t, this.rejectFriendRequestSuccess.bind(this, t, e), this.networkCallFailure.bind(this));
        }, e.prototype.getFriendRequestList = function(t, e) {
            this.game.prodigy.loading(!0), this.game.prodigy.network.getFriendRequestList(h.Util.isValid(t) ? t : this.friendRequestList.length, e, this.getFriendRequestListSuccess.bind(this), this.networkCallFailure.bind(this));
        }, e.prototype.acceptFriendRequest = function(t, e) {
            this.game.prodigy.loading(!0), this.game.prodigy.network.acceptFriendRequest(t, this.acceptFriendRequestSuccess.bind(this, t, e), this.networkCallFailure.bind(this));
        }, e.prototype.setup = function() {
            this.game.broadcaster.removeAppListener(r.ENetworkHandlerEvents.Setup, this, "NetworkHandlers"), 
            this.game.broadcaster.removeAppListener(r.EGameObjEvents.PlayerInitialized, this), 
            this.game.broadcaster.addAppListener(r.EFriendsListEvents.SendRequest, this.sendFriendRequest.bind(this), this, "Card", !0), 
            this.game.broadcaster.addAppListener(r.EFriendsListEvents.CancelRequest, this.cancelFriendRequest.bind(this), this, "Card", !0), 
            this.game.broadcaster.addAppListener(r.EFriendsListEvents.RemoveFriend, this.removeFriend.bind(this), this, "Card", !0), 
            this.game.broadcaster.addAppListener(r.EFriendsListEvents.RemoveFriend, this.removeFriend.bind(this), this, "FriendsList", !0), 
            this.game.broadcaster.addAppListener(r.EFriendsListEvents.GetTotalFriendRequests, this.getTotalFriendRequests.bind(this), this, "FriendsList", !0), 
            this.game.broadcaster.addAppListener(r.EFriendsListEvents.GetFriendList, this.getFriendsList.bind(this), this, "FriendsList", !0), 
            this.game.broadcaster.addAppListener(r.EFriendsListEvents.ClearFriendRequestsCache, this.clearFriendRequestsCache.bind(this), this, "FriendsList", !0);
        }, e.prototype.getTotalFriendRequests = function(t) {
            void 0 === t && (t = !1), this.game.prodigy.player.hasCompletedTutorial() && (this.game.prodigy.loading(!0), 
            this.game.prodigy.network.getTotalFriendRequests(this.getTotalFriendRequestsSuccess.bind(this, t), this.getTotalFriendRequestsFailure.bind(this)));
        }, e.prototype.getTotalFriendRequestsSuccess = function(t, e) {
            this.pendingRequests = e.data.pendingRequests, this.friendsCap = e.meta.friendsCap, 
            this.totalFriends = e.meta.totalFriends, this.game.broadcaster.broadcast(r.EFriendsListEvents.GetTotalFriendRequests, "HUD", [ this.pendingRequests ]), 
            t || this.game.broadcaster.broadcast(r.EFriendsListEvents.GetFriendList, "FriendsList");
        }, e.prototype.getTotalFriendRequestsFailure = function(t, e) {
            this.game.prodigy.loading(!1), this.game.broadcaster.broadcast(r.EFriendsListEvents.GetTotalFriendRequestsFailure, "FriendsList");
        }, e.prototype.getUserClass = function() {
            if (this.game.prodigy.player.hasCompletedTutorial() && this.game.prodigy.player.classIDs.length > 0) {
                this.game.prodigy.loading(!0);
                var t = this.game.prodigy.player, e = h.Util.getLatestClassID(t.owners, t.playerTeachers, t.playerParents);
                this.game.prodigy.network.getUserClass(e, this.getUserClassSuccess.bind(this), this.networkCallFailure.bind(this));
            }
        }, e.prototype.getUserClassSuccess = function(t) {
            this.game.prodigy.loading(!1);
            for (var e = 0; e < t.data.length; e++) if (t.data[e].userID === this.game.prodigy.player.userID) {
                t.data.splice(e, 1);
                break;
            }
            this.classList = t.data, this.hasReceivedClass = !0, this.getUserAppearance(this.classList, !0);
        }, e.prototype.getFriendsList = function() {
            this.game.prodigy.player.hasCompletedTutorial() && (this.game.prodigy.loading(!0), 
            this.game.prodigy.network.getFriendsList(this.getFriendsListSuccess.bind(this), this.networkCallFailure.bind(this)));
        }, e.prototype.getFriendsListSuccess = function(t) {
            this.game.prodigy.loading(!1), this.friendsList = t.data, this.friendsCap = t.meta.friendsCap, 
            this.totalFriends = t.meta.totalFriends, this.hasReceivedFriends = !0, 
            this.game.broadcaster.broadcast(r.EFriendsListEvents.GotFriendsList, "FriendsList", [ this.friendsList ]), 
            this.getUserAppearance(this.friendsList);
        }, e.prototype.getFriendRequestListSuccess = function(t) {
            this.game.prodigy.loading(!1), this.friendsCap = t.meta.friendsCap, 
            this.totalFriends = t.meta.totalFriends;
            for (var e = this.friendRequestList.length, i = 0; i < t.data.length; i++) {
                for (var a = !0, n = 0; n < e; n++) if (t.data[i].userID === this.friendRequestList[n].userID) {
                    a = !1;
                    break;
                }
                a && this.friendRequestList.push(t.data[i]);
            }
            var o = "", r = "";
            for (i = 0; i < this.friendRequestList.length; i++) r = this.friendRequestList[i].userID + ",", 
            o = o.concat(r);
            (o = o.replace(/,$/, "")).length > 0 && this.game.prodigy.network.getCharData(o, [ "appearance", "state" ], this.getUserData.bind(this), null);
        }, e.prototype.getUserData = function(t) {
            for (var e in t) for (var i = 0; i < this.friendRequestList.length; i++) if (this.friendRequestList[i].userID === parseInt(e)) {
                var a = this.game.prodigy.gameContainer.resolve(s.OnlinePlayerAppearance);
                a.setAppearance(t[e].appearance), h.Util.isValid(a) ? this.friendRequestList[i].name = a.getFullName() : this.friendRequestList[i].name = e;
            }
            this.game.broadcaster.broadcast(r.EFriendsListEvents.GotFriendRequestList, "FriendsList", [ this.friendRequestList ]);
        }, e.prototype.clearFriendRequestsCache = function() {
            this.friendRequestList = [];
        }, e.prototype.sendFriendRequest = function(t) {
            this.game.prodigy.loading(!0), this.game.prodigy.network.sendFriendRequest(t, this.sendFriendRequestSuccess.bind(this, t), this.networkCallFailure.bind(this));
        }, e.prototype.sendFriendRequestSuccess = function(t, e) {
            var i = this;
            if (this.game.prodigy.loading(!1), "ACCEPT" === e.data.action) this.acceptFriendRequestSuccess(t, 0, e); else {
                this.friendsCap = e.meta.friendsCap, this.totalFriends = e.meta.totalFriends, 
                this.friendsList.push({
                    userID: t,
                    status: 0,
                    isMember: 0
                }), this.getUserAppearance(this.friendsList.slice(this.friendsList.length - 1, this.friendsList.length));
                var a = this.game.prodigy.gameContainer.Localizer;
                this.game.prodigy.open.message(a.getText("FRIENDS_LIST_SENT_MESSAGE_BODY"), function() {
                    i.game.broadcaster.broadcast(r.EFriendsListEvents.RequestSent, "FriendsList", [ t ]), 
                    i.game.broadcaster.broadcast(r.EFriendsListEvents.RequestSent, "Card", []);
                }, null, a.getText("FRIENDS_LIST_SENT_MESSAGE_TITLE"));
            }
        }, e.prototype.cancelFriendRequest = function(t) {
            this.game.prodigy.loading(!0), this.game.prodigy.network.cancelFriendRequest(t, this.cancelFriendRequestSuccess.bind(this, t), this.networkCallFailure.bind(this));
        }, e.prototype.cancelFriendRequestSuccess = function(t, i) {
            this.game.prodigy.loading(!1), this.friendsCap = i.meta.friendsCap, 
            this.totalFriends = i.meta.totalFriends, e.removeUserFromArray(this.friendsList, t), 
            this.game.prodigy.open.message(this.game.prodigy.gameContainer.Localizer.getText("FRIENDS_LIST_CANCEL_MESSAGE_BODY"), this.onCancelFriendRequestClose.bind(this, t), null, this.game.prodigy.gameContainer.Localizer.getText("FRIENDS_LIST_CANCEL_MESSAGE_TITLE"));
        }, e.prototype.onCancelFriendRequestClose = function(t) {
            this.game.broadcaster.broadcast(r.EFriendsListEvents.RequestCancelled, "FriendsList", [ t ]), 
            this.game.broadcaster.broadcast(r.EFriendsListEvents.RequestCancelled, "Card", [ t ]);
        }, e.prototype.acceptFriendRequestSuccess = function(t, i, a) {
            this.game.prodigy.loading(!1), h.Util.isValid(a) && (this.friendsCap = a.meta.friendsCap, 
            this.totalFriends = a.meta.totalFriends), this.friendsList.push({
                userID: t,
                status: 1,
                isMember: 0
            }), this.getUserAppearance(this.friendsList.slice(this.friendsList.length - 1, this.friendsList.length)), 
            e.removeUserFromArray(this.friendRequestList, t), this.pendingRequests--, 
            this.game.broadcaster.broadcast(r.EFriendsListEvents.RequestAccepted, "FriendsList", [ t, i ]), 
            this.game.broadcaster.broadcast(r.EFriendsListEvents.RequestAccepted, "HUD", [ this.pendingRequests ]), 
            this.game.broadcaster.broadcast(r.EFriendsListEvents.RequestAccepted, "Card", []);
        }, e.prototype.getUserAppearance = function(t, e) {
            void 0 === e && (e = !1);
            for (var i = "", a = "", n = 0; n < t.length; n++) a = t[n].userID + ",", 
            i = i.concat(a);
            (i = i.replace(/,$/, "")).length > 0 && this.game.prodigy.network.getCharData(i, [ "appearance", "isMember", "equipment", "data", "state" ], this.onGetUserAppearance.bind(this, e), this.networkCallFailure.bind(this));
        }, e.prototype.onGetUserAppearance = function(t, e) {
            var i = t ? this.classList : this.friendsList;
            for (var a in e) for (var n = 0; n < i.length; n++) i[n].userID === parseInt(a) && h.Util.isValid(e[a]) && (h.Util.isValid(e[a].appearance) && (i[n].appearance = e[a].appearance), 
            h.Util.isValid(e[a].isMember) && (i[n].isMember = e[a].isMember), h.Util.isValid(e[a].data) && (i[n].data = e[a].data), 
            h.Util.isValid(e[a].equipment) && (i[n].equipment = e[a].equipment), 
            h.Util.isValid(e[a].state) && (i[n].zone = e[a].state.zone));
            this.game.broadcaster.broadcast(r.EFriendsListEvents.GotFriendsListAppearance, "FriendsList", [ this.friendsList ]);
        }, e.prototype.rejectFriendRequestSuccess = function(t, i, a) {
            this.game.prodigy.loading(!1), this.friendsCap = a.meta.friendsCap, 
            this.totalFriends = a.meta.totalFriends, e.removeUserFromArray(this.friendRequestList, t), 
            this.pendingRequests--, this.game.broadcaster.broadcast(r.EFriendsListEvents.RequestRejected, "FriendsList", [ t, i ]), 
            this.game.broadcaster.broadcast(r.EFriendsListEvents.RequestRejected, "HUD", [ this.pendingRequests ]);
        }, e.prototype.removeFriend = function(t) {
            this.game.prodigy.loading(!0), this.game.prodigy.network.removeFriend(t, this.removeFriendSuccess.bind(this, t), this.networkCallFailure.bind(this));
        }, e.prototype.removeFriendSuccess = function(t, i) {
            this.game.prodigy.loading(!1), this.friendsCap = i.meta.friendsCap, 
            this.totalFriends = i.meta.totalFriends, e.removeUserFromArray(this.friendsList, t), 
            this.game.broadcaster.broadcast(r.EFriendsListEvents.FriendRemoved, "FriendsList", [ t ]), 
            this.game.broadcaster.broadcast(r.EFriendsListEvents.FriendRemoved, "Card", []);
        }, e.prototype.networkCallFailure = function(t, e) {
            this.game.prodigy.loading(!1);
            var i = this.game.prodigy.gameContainer.Localizer;
            423 === e ? this.game.prodigy.open.message(i.getText("FRIENDS_LIST_FULL_MESSAGE_BODY"), null, null, i.getText("MESSAGE_TITLE_OOPS")) : 406 === e ? "cancelFriendRequest" === t && h.Util.log("Illogical friend request cancellation") : this.game.prodigy.open.message(i.getText("FRIENDS_LIST_ERROR_MESSAGE_BODY"), null, null, i.getText("MESSAGE_TITLE_OOPS"));
        }, e.removeUserFromArray = function(t, e) {
            for (var i = 0; i < t.length; i++) e === t[i].userID && t.splice(i, 1);
        }, e;
    }(i(92).NetworkHandler);
    e.FriendsListNetworkHandler = c;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t() {
            this.receivers = [];
        }
        return t.prototype.add = function(t, e, i) {
            this.receivers.push({
                action: t,
                callback: e,
                once: i
            });
        }, t.prototype.clear = function(t) {
            if (a.Util.isValid(t)) for (var e = this.receivers.length - 1; e >= 0; e--) {
                this.receivers[e].action === t && this.receivers.splice(e, 1);
            } else this.receivers = [];
        }, t.prototype.onMessage = function(t) {
            a.Util.log("Message received: " + t.action);
            for (var e = this.receivers.length - 1; e >= 0; e--) {
                var i = this.receivers[e];
                i.action === t.action && (i.callback(t.data), i.once && this.receivers.splice(e, 1));
            }
        }, t;
    }();
    e.MessageListener = n;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(11), o = i(4), r = function() {
        function t() {}
        return t.prototype.getStateMachine = function(t) {
            return o.Items.getItem("fsm", t).data;
        }, t = a([ n.injectable() ], t);
    }();
    e.FSMItemsDataProvider = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = function(t) {
        function e(e, i, a, n, o, r, s, l) {
            var h = t.call(this, e, i, a, n) || this;
            return h.sprite = h.game.prodigy.create.sprite(0, 0, o, 0), h.sprite.inputEnabled = !0, 
            h.sprite.events.onInputDown.add(h.onClicked, h), h.add(h.sprite), h.callback = l, 
            h.font = h.game.prodigy.create.font(h, 0, 60, "", {
                size: 20,
                width: 100,
                align: "left"
            }), h.icon = h.game.prodigy.create.font(h, 0, 0, "@", {
                size: 16
            }), h.icon.alpha = 0, h.add(h.icon), h.visible = !1, h.setValue(o, r, s), 
            h;
        }
        return n(e, t), e.prototype.setValue = function(t, e, i) {
            if (i <= 0 || !r.Util.isValid(i)) return this.visible = !1, this.icon.alpha = 0, 
            void this.font.setText("");
            this.visible = !0, r.Util.isValid(t) && r.Util.isValid(this.sprite.key) && this.sprite.loadNewTexture(t, e), 
            r.Util.isValid(e) && (this.sprite.frameName = e), this.font.setText(r.Util.isValid(i) && i > 1 ? "" + i : "");
        }, e.prototype.setCallback = function(t) {
            this.callback = t;
        }, e.prototype.onClicked = function() {
            r.Util.isValid(this.callback) && this.callback();
        }, e.prototype.centerAnchor = function() {
            this.sprite.anchor.setTo(.5, .5);
        }, e;
    }(o.Element);
    e.QuantityIcon = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(588), n = i(64), o = i(34), r = i(52), s = i(4), l = i(0), h = function() {
        function t(t) {
            this.game = t;
        }
        return t.prototype.createIcon = function(t, e, i, a, o, r, s, l) {
            return void 0 === a && (a = null), void 0 === l && (l = !0), new n.Sprite(this.game, t, e, i, null, a, o, r, s, l);
        }, t.prototype.gold = function(t, e, i, a, n, o) {
            return this.createIcon(t, e, "icon-currency-1", i, a, n, o);
        }, t.prototype.createFromData = function(t, e, i, a, n, o, r, h) {
            var c;
            return void 0 === a && (a = null), "gold" === t.type ? this.gold(e, i, a, n, o, r) : "hairColor" === t.type ? ((c = this.game.prodigy.create.sprite(e, i, "atlas-21", this.iconKey(t), a, n, o, r)).tint = l.Util.rgb2hex(t.data.colors[2][0], t.data.colors[2][1], t.data.colors[2][2]), 
            c) : "eyeColor" === t.type ? ((c = this.game.prodigy.create.sprite(e, i, "atlas-21", this.iconKey(t), a, n, o, r)).tint = l.Util.rgbArrayToHex(t.data.colors[0]), 
            c) : "skinColor" === t.type ? ((c = this.game.prodigy.create.sprite(e, i, "atlas-21", this.iconKey(t), a, n, o, r)).tint = l.Util.rgbArrayToHex(t.data.colors[1]), 
            c) : l.Util.isValid(t.type) && l.Util.isValid(t.ID) ? this.createIcon(e, i, this.iconKey(t), a, n, o, r, h) : this.game.prodigy.create.sprite(0, 0, s.Items.getIconAtlas(t), l.Util.convertItemToIcon(t));
        }, t.prototype.createFromDataAdvanced = function(t, e, i, a, n, h, c, p, u) {
            var d = this.game.prodigy.create.element(e, i, a), g = null, y = n ? new Phaser.Point(.5, 1) : null;
            if ("gold" === t.type ? g = this.gold(0, 0, n, h, c, p) : "hairColor" === t.type ? (g = this.game.prodigy.create.sprite(0, 0, "atlas-21", this.iconKey(t), y, h, c, p)).tint = l.Util.rgb2hex(t.data.colors[2][0], t.data.colors[2][1], t.data.colors[2][2]) : "eyeColor" === t.type ? (g = this.game.prodigy.create.sprite(0, 0, "atlas-21", this.iconKey(t), y, h, c, p)).tint = l.Util.rgbArrayToHex(t.data.colors[0]) : "skinColor" === t.type ? (g = this.game.prodigy.create.sprite(0, 0, "atlas-21", this.iconKey(t), y, h, c, p)).tint = l.Util.rgbArrayToHex(t.data.colors[1]) : g = l.Util.isValid(t.type) && l.Util.isValid(t.ID) ? this.createIcon(0, 0, this.iconKey(t), n, h, c, p, u) : this.game.prodigy.create.sprite(0, 0, s.Items.getIconAtlas(t), l.Util.convertItemToIcon(t)), 
            d.add(g), "item" === t.type) {
                var f = s.Items.getItem(t.type, t.ID).data;
                if (l.Util.isValid(f.effect) && l.Util.isValid(f.effect.transform)) {
                    var m = r.RenderFactory.createRenderer("spine-11", {
                        type: "spine",
                        anchor: {
                            x: .5,
                            y: 1
                        }
                    });
                    new o.GameObject(this.game, d, [ m ], 48, 11), m.playAnimation("animation", !0);
                }
            }
            return d;
        }, t.prototype.createWithQuantity = function(t, e, i, n, o, r) {
            return new a.QuantityIcon(this.game, t, e, i, n, null, o, r);
        }, t.prototype.iconKey = function(t) {
            if ("gold" === t.type) return "icon-item-26";
            if ("hairColor" === t.type || "skinColor" === t.type || "eyeColor" === t.type) return "empty";
            if ("item" === t.type) {
                var e = s.Items.getItem(t.type, t.ID).data;
                if (l.Util.isValid(e.effect) && l.Util.isValid(e.effect.transform)) return "icon-" + e.effect.transform + "-" + e.effect.ID;
            }
            return "icon-" + t.type + "-" + t.ID;
        }, t;
    }();
    e.IconFactory = h;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(211), o = i(17), r = i(0), s = function() {
        function t(t) {
            this.game = null, this.init = !1, this.originalBGMVolume = null, this.rankUpArray = null, 
            this.game = t;
        }
        return t.prototype.openFull = function() {
            this.game.stage.visible = !1;
        }, t.prototype.closeFull = function() {
            this.game.stage.visible = !0;
        }, t.prototype.question = function(t, e) {
            this.game.prodigy.network.stopInactiveTimer(), this.game.input.keyboard.clearCaptures(), 
            this.reduceBGMVolumeBeforeQuestion();
            var i = "PVP" === this.game.state.current ? 0 : 1;
            r.Util.isValid(e) && (i = e ? 1 : 0);
            var n = {
                selector: "#external-content",
                userID: this.game.prodigy.player.userID,
                callback: this.answerQuestion.bind(this, t),
                classIDs: this.game.prodigy.player.classIDs,
                isTeacher: !1,
                hideCallback: this.openFull.bind(this),
                showAnswerBonus: i,
                showAnswerBonusAnimation: 0
            };
            a.GameConstants.get("GameConstants.Debug.SET_NFACTOR") && (n.nFactor = a.GameConstants.get("GameConstants.Debug.SET_NFACTOR"));
            var o = QI.showQuestion(n);
            this.init || (o.on("assignment-complete", this.finishAssignment.bind(this)), 
            o.on("update-user", this.updateUser.bind(this)), o.on("grade-complete", this.finishGrade.bind(this)), 
            o.on("placement-complete", this.finishPlacement.bind(this)), o.on("placement-test-by-strand-update placement-test-by-strand-complete", this.updateStrandBasedPlacementTest.bind(this)), 
            o.on("update-plan-student", this.updatePlanStudent.bind(this)), o.on("topics-ranked-up", this.updateBreadcrumbs.bind(this)), 
            this.init = !0);
        }, t.prototype.updateStrandBasedPlacementTest = function(t) {
            r.Util.log("updateStrandBasedPlacementTest"), r.Util.log(t), this.game.prodigy.network.updateStrandBasedPlacementTest(t);
        }, t.prototype.answerQuestion = function(t, e) {
            this.game.prodigy.network.startInactiveTimer(), this.restoreBGMVolumeAfterQuestion(), 
            this.game.input.keyboard.addKeyCapture([ Phaser.Keyboard.BACKSPACE ]), 
            this.game.prodigy.network.answerQuestion(e), this.closeFull(), r.Util.isValid(t) && t(e.wasCorrect, e.respTime, e.nFactor);
        }, t.prototype.reduceBGMVolumeBeforeQuestion = function() {
            this.originalBGMVolume = this.game.prodigy.audio.getBGMVolume(), this.originalBGMVolume > .05 && this.game.prodigy.audio.setBGMVolume(.05, !0);
        }, t.prototype.restoreBGMVolumeAfterQuestion = function() {
            r.Util.isValid(this.originalBGMVolume) && this.game.prodigy.audio.setBGMVolume(this.originalBGMVolume, !0);
        }, t.prototype.closeQuestion = function() {
            this.game.prodigy.network.startInactiveTimer(), QI.close(), this.closeFull();
        }, t.prototype.initialize = function(t) {
            this.game.prodigy.player.grade = r.Util.isValid(t.chosenGrade) ? t.chosenGrade : n.GradePage.MIN_GRADE, 
            QI.init(t);
        }, t.prototype.processAnswerResponses = function() {
            r.Util.isValid(QI.processAnswerResponses) && QI.processAnswerResponses();
        }, t.prototype.getMasteredSkills = function() {
            return QI.getMasteredSkills();
        }, t.prototype.getAllTopicBadges = function() {
            return QI.getAllTopicBadges();
        }, t.prototype.getRankUpBadges = function() {
            return this.rankUpArray;
        }, t.prototype.updateUser = function(t) {
            this.game.prodigy.network.updateUser(t, function() {});
        }, t.prototype.updatePlanStudent = function(t) {
            this.game.prodigy.network.updatePlanStudent(t);
        }, t.prototype.updateBreadcrumbs = function(t) {
            var e = this;
            if (this.rankUpArray = t, r.Util.isValid(this.rankUpArray) && this.rankUpArray.length > 0) for (var i = function(t) {
                for (var i = QI.getAllTopicBadges().find(function(i) {
                    return i.id === e.rankUpArray[t].collectionId;
                }), n = 0; n < i.topics.length; n++) i.topics[n].id === a.rankUpArray[t].topicId && i.topics[n].numSkillsMastered >= i.topics[n].ranks[i.topics[n].ranks.length - 1] && a.game.prodigy.breadcrumbManager.resetBreadcrumbs(o.Breadcrumbs.FEATURE_BADGES);
            }, a = this, n = 0; n < this.rankUpArray.length; n++) i(n);
        }, t.prototype.finishPlacement = function(t) {
            this.game.prodigy.network.finishPlacement(t.grade, this.game.prodigy.player.classIDs);
        }, t.prototype.finishAssignment = function(t) {
            this.game.prodigy.network.completeAssignment(t.assignmentID);
        }, t.prototype.finishGrade = function(t) {}, t;
    }();
    e.ExternalFactory = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t(t, e) {
            this.game = null, this.ID = 0, this.npc = null, this.dialogue = [], 
            this.events = [], this.game = t, this.ID = e, this.end();
        }
        return t.prototype.start = function() {
            this.text(), this.next();
        }, t.prototype.end = function(t) {
            void 0 === t && (t = null), a.Util.isValid(t) && t(), this.npc = null, 
            this.dialogue = [], this.events = [];
        }, t.prototype.next = function() {
            if (this.events.length > 0) {
                var t = this.events[0];
                this.events.splice(0, 1), t();
            } else this.end();
        }, t.prototype.add = function(t) {
            this.text(), this.events.push(t);
        }, t.prototype.text = function(t, e, i) {
            var n = this, o = this.game.prodigy.dialogue.create();
            if (this.dialogue.length > 0 && (e !== this.npc || !a.Util.isValid(t))) {
                this.events.push(function(t, e) {
                    for (var a = 0; a < e.length; a++) o.setText(e[a]);
                    o.setText({
                        callback: n.next.bind(n)
                    }), o.start(t, i);
                }.bind(this, this.npc, this.dialogue)), this.dialogue = [];
            } else a.Util.isValid(t) && this.dialogue.push(t);
            this.npc = e;
        }, t.prototype.yesNoText = function(t, e, i) {
            var a = {
                index: t,
                yes: this.next.bind(this),
                no: this.end.bind(this, i)
            };
            this.text(a, e);
        }, t.prototype.function = function(t) {
            this.add(function(e) {
                t(), e();
            }.bind(this, this.next.bind(this)));
        }, t.prototype.animation = function(t, e) {
            var i = this;
            void 0 === e && (e = !1);
            this.add(function() {
                e ? t().onComplete.add(i.next.bind(i)) : (t(), i.next());
            }.bind(this));
        }, t.prototype.enableInput = function(t) {
            var e = this;
            this.add(function() {
                if (e.game.input.enabled = t, !t) for (var i = 0; i < e.game.input.pointers.length; i++) e.game.input.pointers[i].active = !1;
                e.next();
            }.bind(this));
        }, t.prototype.enableSave = function(t) {
            var e = this;
            this.add(function() {
                e.game.prodigy.player.saveEnabled = t, e.next();
            }.bind(this));
        }, t.prototype.set = function(t, e, i) {
            var a = this;
            this.add(function() {
                t[e] = i, a.next();
            });
        }, t.prototype.path = function(t, e, i, a) {
            var n = this;
            void 0 === a && (a = !1);
            this.add(function() {
                a ? (t.setPath(e, null, i), n.next()) : t.setPath(e, n.next.bind(n), i);
            }.bind(this));
        }, t.prototype.validPath = function(t, e, i, a, n) {
            var o = this;
            void 0 === n && (n = !1);
            this.add(function(n) {
                n ? (t.setValidPath(e, i, a, null), o.next()) : t.setValidPath(e, i, a, o.next.bind(o));
            }.bind(this, n));
        }, t.prototype.hop = function(t, e, i, a, n) {
            var o = this;
            void 0 === n && (n = !1);
            this.add(function() {
                n ? (t.hop(e, null, i, a), o.next()) : t.hop(e, o.next.bind(o), i, a);
            }.bind(this));
        }, t.prototype.delay = function(t) {
            this.add(this.game.time.events.add.bind(this.game.time.events, t, this.next, this));
        }, t.prototype.explode = function(t, e, i, a, n, o, r) {
            var s = this;
            void 0 === o && (o = !1), void 0 === r && (r = !1);
            this.add(function() {
                o ? (s.game.prodigy.effects.explode(t, e, i, a, n, null, r), s.next()) : s.game.prodigy.effects.explode(t, e, i, a, n, s.next.bind(s), r);
            }.bind(this));
        }, t.prototype.fire = function(t, e, i, a, n, o, r) {
            var s = this;
            void 0 === r && (r = !1);
            this.add(function() {
                r ? (s.game.prodigy.effects.fire(t, e, i, a, n, o), s.next()) : s.game.prodigy.effects.fire(t, e, i, a, n, o, s.next.bind(s));
            }.bind(this));
        }, t.prototype.portalEffect = function(t, e, i) {
            var a = this;
            void 0 === i && (i = !1);
            this.add(function() {
                i ? (a.game.prodigy.effects.portalEffect(t, e), a.next()) : a.game.prodigy.effects.portalEffect(t, e, a.next.bind(a));
            }.bind(this));
        }, t.prototype.shake = function(t, e, i, a, n) {
            var o = this;
            void 0 === n && (n = !1);
            this.add(function() {
                n ? (o.game.prodigy.effects.shake(t, e, i, a), o.next()) : o.game.prodigy.effects.shake(t, e, i, a, o.next.bind(o));
            }.bind(this));
        }, t.prototype.firework = function(t, e) {
            var i = this;
            this.add(function() {
                i.game.prodigy.effects.firework(t, e, i.next.bind(i));
            }.bind(this));
        }, t.prototype.confetti = function(t, e) {
            var i = this;
            this.add(function() {
                i.game.prodigy.effects.confetti(t, e, i.next.bind(i));
            }.bind(this));
        }, t.prototype.goldwork = function(t, e) {
            var i = this;
            this.add(function() {
                i.game.prodigy.effects.goldWork(t, e, i.next.bind(i));
            }.bind(this));
        }, t.prototype.sound = function(t, e, i) {
            var a = this;
            if (void 0 === i && (i = !1), i) this.add(this.game.prodigy.audio.playSFX.bind(this.game.prodigy.audio, t, e, this.next.bind(this))); else {
                this.add(function() {
                    a.game.prodigy.audio.playSFX(t, e), a.next();
                });
            }
        }, t.prototype.bgm = function(t) {
            var e = this;
            this.add(function() {
                a.Util.isValid(t) ? (e.game.prodigy.audio.playBGM(t, !0), e.game.prodigy.audio.resumeBGM()) : e.game.prodigy.audio.pauseBGM(), 
                e.next();
            }.bind(this));
        }, t.prototype.tween = function(t, e, i, a, n) {
            var o = this;
            this.add(function() {
                var r = o.game.add.tween(t).to(e, i, a);
                n ? o.next() : r.onComplete.add(o.next.bind(o)), r.start();
            }.bind(this));
        }, t.prototype.cameraFlash = function() {
            var t = this;
            this.add(function() {
                var e = t.game.add.group();
                e.add(new Phaser.TileSprite(t.game, 0, 0, 1280, 720, "atlas-161", "overlay-light")), 
                e.alpha = 0, t.game.prodigy.audio.playSFX(20, "camera");
                var i = t.game.add.tween(e).to({
                    alpha: 1
                }, 150, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 150, Phaser.Easing.Linear.None);
                i.onComplete.add(function() {
                    e.destroy(), t.set(e, "visible", !1), t.next();
                }), i.start();
            }.bind(this));
        }, t.prototype.reward = function(t, e) {
            a.Util.isValid(t) && t.length > 0 && this.add(this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, t, this.next.bind(this), null, e));
        }, t.prototype.popup = function(t) {
            this.add(this.game.prodigy.open.message.bind(this.game.prodigy.open, t, this.next.bind(this)));
        }, t.prototype.functionCallback = function(t) {
            var e = this;
            this.add(function() {
                t(e.next.bind(e));
            }.bind(this));
        }, t;
    }();
    e.EventController = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(591), n = function() {
        function t(t) {
            this.game = null, this.eventID = 0, this.game = t;
        }
        return t.prototype.create = function() {
            return this.eventID++, new a.EventController(this.game, this.eventID);
        }, t;
    }();
    e.EventFactory = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(0), o = function() {
        function t(t) {
            this.menuLayer = void 0, this.game = null, this.events = [], this.currentID = 0, 
            this.spinner = null, this.face = null, this.text = null, this.yesButton = null, 
            this.noButton = null, this.nextButton = null, this.onClose = null, this.audioCallback = null, 
            this.overlayMode = !1, this.window = null, this.overlay = null, this.element = null, 
            this.currentSound = null, this.current = null, this.faceAnim = null, 
            this.game = t;
        }
        return t.prototype.create = function(t, e, i, a) {
            var o = this;
            n.Util.isValid(this.game) && a && (this.spinner.destroy(), t.alpha = 1, 
            this.face = this.game.prodigy.create.sprite(180, 188, e, "face_0"), 
            this.face.anchor.setTo(.5, 1), t.add(this.face), this.text = this.game.prodigy.create.font(t, 300, 20, "", {
                size: 30,
                width: 680,
                lineHeight: 40
            }), this.yesButton = this.game.prodigy.create.button(t, 1e3, 20, "atlas-18", "yes-btn", function() {
                o.yes();
            }), this.nextButton = this.game.prodigy.create.button(t, 1e3, 115, "atlas-18", "next-btn", function() {
                o.next(o.currentID);
            }), this.noButton = this.game.prodigy.create.button(t, 1e3, 115, "atlas-18", "no-btn", function() {
                o.no();
            }), this.nextButton.highlight(!0, -20, -10), this.next(this.currentID));
        }, t.prototype.start = function(e, i, o, r, s, l) {
            var h = this;
            this.game.prodigy.notifications.clearNotifications(), this.game.prodigy.notifications.dialogueOpen = !0;
            var c = 0;
            c = 0 === r ? 20 : 1 === r ? 255 : 510, this.game.prodigy.open.closeChat(), 
            this.currentID++, this.onClose = o, this.cleanup(), this.audioCallback = l;
            for (var p = 0; p < this.events.length; p++) {
                var u = this.events[p];
                if (n.Util.isValid(u.index)) {
                    var d = this.game.prodigy.dialogues.get(e, u.index);
                    u.text = d.text, u.face = d.face, u.audio = d.audio, u.anim = d.anim;
                }
            }
            this.window = this.game.prodigy.create.element(this.menuLayer, 0, 0), 
            this.overlayMode = i, this.overlay = this.window.add(this.game.prodigy.create.sprite(0, 0)), 
            this.overlay.width = this.game.world.width, this.overlay.height = this.game.world.height, 
            this.overlay.inputEnabled = !0, this.overlay.visible = !i, this.element = this.game.prodigy.create.element(this.window, 0, 0);
            var g = this.game.prodigy.create.element(this.window, 103, c);
            if (g.x = 0, !s) for (p = 0; p < 26; p++) g.add(this.game.prodigy.create.sprite(50 * p, 0, "atlas-18", "dialogue"));
            g.alpha = .8, this.spinner = this.window.add(this.game.prodigy.create.sprite(645, 610, "atlas-18", "loading")), 
            this.spinner.alpha = 0, this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
                angle: 360
            }, 1500, Phaser.Easing.Linear.None, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !1), 
            this.game.add.tween(this.spinner).to({
                alpha: 1
            }, 500, Phaser.Easing.Linear.None, !0, 300);
            var y = [];
            for (p = 0; p < this.events.length; p++) n.Util.isValid(this.events[p].audio) && (n.Util.inArray(y, this.events[p].audio.tag) || y.push(this.events[p].audio.tag));
            this.game.prodigy.load.assets(y.concat(t.atlasIDs[e]), function(i, a) {
                h.create(g, t.atlasIDs[e], i, a);
            });
        }, t.prototype.setText = function(t, e, i) {
            if (void 0 === e && (e = null), void 0 === i && (i = null), n.Util.isValid(t)) {
                var a = {};
                if (isNaN(t)) {
                    var o = t;
                    n.Util.isValid(o.index) && (a.index = o.index), n.Util.isValid(o.text) && (a.text = o.text), 
                    n.Util.isValid(o.face) && (a.face = o.face), n.Util.isValid(o.audio) && (a.audio = o.audio), 
                    n.Util.isValid(o.yes) && (a.yes = o.yes), n.Util.isValid(o.no) && (a.no = o.no), 
                    n.Util.isValid(o.callback) && (a.callback = o.callback), n.Util.isValid(o.anim) && (a.anim = o.anim), 
                    n.Util.isValid(o.element) && (a.element = o.element), n.Util.isValid(o.hideNext) && (a.hideNext = o.hideNext);
                } else a.index = t, n.Util.isValid(e) && (a.yes = e), n.Util.isValid(i) && (a.no = i);
                this.events.push(a);
            }
        }, t.prototype.close = function(t) {
            void 0 === t && (t = !1), this.cleanup(), n.Util.isValid(this.currentSound) && this.currentSound.stop(), 
            this.events = [], this.current = null, n.Util.isValid(this.element) && this.element.removeAll(!0), 
            n.Util.isValid(this.onClose) && !t && this.onClose(), this.game.prodigy.notifications.dialogueOpen = !1;
        }, t.prototype.cleanup = function() {
            n.Util.isValid(this.window) && (this.window.destroy(), this.window = null);
        }, t.prototype.next = function(t) {
            if (this.game.prodigy.notifications.dialogueOpen = !0, t === this.currentID) if (n.Util.isValid(this.currentSound) && this.currentSound.stop(), 
            this.events.length > 0) {
                var e = !1;
                this.current = this.events[0], this.events.splice(0, 1), this.yesButton.visible = this.noButton.visible = !1, 
                this.nextButton.visible = !this.current.hideNext && !this.overlayMode, 
                n.Util.isValid(this.current.text) && this.text.setText(this.current.text), 
                n.Util.isValid(this.current.face) ? (this.face.visible = !0, this.face.frameName = "face_" + this.current.face) : this.face.visible = !1, 
                n.Util.isValid(this.current.audio) && (this.currentSound = this.game.prodigy.audio.playVoice(this.current.audio.tag, this.audioCallback, this.current.audio.s, this.current.audio.d)), 
                this.setAnimation(this.current.anim), (n.Util.isValid(this.current.yes) || n.Util.isValid(this.current.no)) && (this.noButton.visible = this.yesButton.visible = !this.overlayMode, 
                this.nextButton.visible = !1), n.Util.isValid(this.current.callback) && (this.current.callback(), 
                e = !0), n.Util.isValid(this.current.element) && (this.element.removeAll(!0), 
                this.current.element(this.element), e = !0), e && this.next(t);
            } else this.close();
        }, t.prototype.setAnimation = function(t) {
            n.Util.isValid(this.faceAnim) && this.game.tweens.remove(this.faceAnim), 
            this.face.x = 185, this.face.y = 188, this.face.scale.x = this.face.scale.y = 1, 
            n.Util.isValid(t) && (1 === t ? this.faceAnim = this.game.add.tween(this.face).to({
                x: this.face.x + 10
            }, 100, Phaser.Easing.Quadratic.Out, !1).to({
                x: this.face.x - 10
            }, 200, Phaser.Easing.Quadratic.InOut).to({
                x: this.face.x + 10
            }, 200, Phaser.Easing.Quadratic.InOut).to({
                x: this.face.x - 10
            }, 200, Phaser.Easing.Quadratic.InOut).to({
                x: this.face.x
            }, 100, Phaser.Easing.Quadratic.InOut).start() : 2 === t ? this.faceAnim = this.game.add.tween(this.face).to({
                y: this.face.y - 20
            }, 1e3, Phaser.Easing.Sinusoidal.InOut, !0, 0, 9999, !0) : 3 === t ? this.faceAnim = this.game.add.tween(this.face.scale).to({
                x: -1
            }, 50, Phaser.Easing.Quadratic.InOut, !1).to({
                x: 1
            }, 50, Phaser.Easing.Quadratic.InOut, !1, 300).to({
                x: -1
            }, 50, Phaser.Easing.Quadratic.InOut, !1, 300).to({
                x: 1
            }, 50, Phaser.Easing.Quadratic.InOut, !1, 300).start() : 4 === t && (this.faceAnim = this.game.add.tween(this.face.scale).to({
                x: 1.2,
                y: 1.1
            }, 300, Phaser.Easing.Linear.None, !1).to({
                y: 1.3,
                x: 1.1
            }, 200, Phaser.Easing.Quadratic.InOut).to({
                x: 1,
                y: 1
            }, 300, Phaser.Easing.Quadratic.InOut).start()));
        }, t.prototype.yes = function() {
            var t = this.current.yes;
            this.close(), n.Util.isValid(t) && t();
        }, t.prototype.no = function() {
            var t = this.current.no;
            this.close(), n.Util.isValid(t) && t();
        }, t.atlasIDs = {
            benni: "atlas-30",
            bok: "atlas-31",
            boombox: "atlas-32",
            broccolina: "atlas-33",
            cebollini: "atlas-34",
            clankboot: "atlas-35",
            cumulo: "atlas-36",
            eugene: "atlas-37",
            eve: "atlas-38",
            flora: "atlas-39",
            guard: "atlas-40",
            harvey: "atlas-41",
            howard_cornelius: "atlas-42",
            julia_ghoulia: "atlas-43",
            mama_star: "atlas-44",
            merchant: "atlas-45",
            mira: "atlas-46",
            morris: "atlas-47",
            "mozza-ella": "atlas-48",
            mugs: "atlas-49",
            noot: "atlas-50",
            pippet: "atlas-51",
            puppetmaster: "atlas-52",
            scoog: "atlas-53",
            slime_guard: "atlas-54",
            slime_queen: "atlas-55",
            slime_worker: "atlas-56",
            slurpy: "atlas-57",
            stache: "atlas-58",
            toy: "atlas-59",
            wizard: "atlas-60",
            "bargo-bunny": "atlas-92",
            "don-zorro": "atlas-93",
            verna: "atlas-94",
            harriet: "atlas-95",
            "sir-vey": "atlas-129",
            potion: "atlas-135",
            windsail: "atlas-136",
            swoopy: "atlas-138",
            jim: "atlas-152",
            fishthing: "atlas-154"
        }, t;
    }();
    e.DialogueController = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(593), n = function() {
        function t(t) {
            this.game = null, this.game = t;
        }
        return t.prototype.create = function() {
            return new a.DialogueController(this.game);
        }, t;
    }();
    e.DialogueFactory = n;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(3), s = i(0), l = function(t) {
        function e(e, i, a, n, l, h) {
            var c = t.call(this, e, i, a, n) || this;
            c.callback = null, c.contents = null, c.topIcon = null, c.isActive = !0, 
            c.oldY = null, c.tween = null, c.callback = h, c.contents = c.game.prodigy.create.element(c, 0, 0);
            for (var p = !1, u = 0; u < l.length; u++) {
                var d = l[u];
                if (s.Util.isValid(d.tag)) {
                    var g = null;
                    g = "object" == typeof d.tag ? c.topIcon = c.addIcon(d.tag, d.x, d.y, d.w, d.h) : c.topIcon = c.addImage(d.tag, d.x, d.y, d.w, d.h), 
                    p || (p = !0, g.inputEnabled = !0, g.events.onInputDown.add(c.onDown, c), 
                    g.events.onInputUp.add(c.onUp, c), g.events.onInputOver.add(c.onOver, c), 
                    g.events.onInputOut.add(c.onOut, c));
                } else if (s.Util.isValid(d.text)) {
                    var y = s.Util.isValid(d.x) ? d.x : 0, f = s.Util.isValid(d.y) ? d.y : 0;
                    c.game.prodigy.create.font(c.contents, y, f, d.text, {
                        width: 80,
                        align: "center",
                        size: s.Util.isValid(d.size) ? d.size : 20
                    });
                }
            }
            return o.GameConstants.get("GameConstants.Build.DEBUG") && s.Util.isValid(c.topIcon.frameName) && (c.game.prodigy.automation.addTrigger({
                ID: "autoclick-" + c.topIcon.frameName,
                context: c,
                callback: function() {
                    return {
                        x: c.worldPosition.x + .5 * c.topIcon.width,
                        y: c.worldPosition.y + .5 * c.topIcon.height
                    };
                }
            }), c.game.broadcaster.addAppListener(r.EDebugEvents.AutoClick, c.onDebugAutoClick.bind(c), c)), 
            c.onDestroy.add(c.handleDestroy.bind(c)), c;
        }
        return n(e, t), e.prototype.addImage = function(t, e, i, a, n) {
            var o = this.contents.add(this.game.prodigy.create.sprite(s.Util.isValid(e) ? e : 0, s.Util.isValid(i) ? i : 0, "atlas-21", t));
            return s.Util.isValid(a) && (o.width = a), s.Util.isValid(n) && (o.height = n), 
            o;
        }, e.prototype.addIcon = function(t, e, i, a, n) {
            var o = this.contents.add(this.game.prodigy.icon.createFromData(t, s.Util.isValid(e) ? e : 0, s.Util.isValid(i) ? i : 0));
            return s.Util.isValid(a) && (o.width = a), s.Util.isValid(n) && (o.height = n), 
            o;
        }, e.prototype.enable = function(t) {
            s.Util.isValid(this.topIcon) && (this.topIcon.tint = t ? 16777215 : 2236962), 
            this.isActive = t;
        }, e.prototype.setActive = function() {
            this.isActive = !0;
        }, e.prototype.setInactive = function() {
            this.isActive = !1, this.contents.y = 0;
        }, e.prototype.select = function() {
            this.y = s.Util.isValid(this.oldY) ? this.oldY : this.y, this.oldY = this.y, 
            s.Util.isValid(this.tween) && this.tween.stop(), this.tween = this.game.add.tween(this).to({
                y: this.y - 10
            }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0);
        }, e.prototype.deselect = function() {
            this.isActive = !0, s.Util.isValid(this.tween) && (this.tween.stop(), 
            this.tween = null), this.y = s.Util.isValid(this.oldY) ? this.oldY : this.y;
        }, e.prototype.onDown = function() {
            this.isActive && (this.contents.y = 0, this.game.prodigy.audio.playSFX(18, "pop"), 
            s.Util.isValid(this.callback) && this.callback());
        }, e.prototype.onUp = function() {
            this.isActive && (this.contents.y = -3);
        }, e.prototype.onOver = function() {
            this.isActive && (this.contents.y = -3);
        }, e.prototype.onOut = function() {
            this.isActive && (this.contents.y = 0);
        }, e.prototype.handleDestroy = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && s.Util.isValid(this.topIcon.frameName) && (this.game.prodigy.automation.removeAllTriggers(this), 
            this.game.broadcaster.removeAppListener(r.EDebugEvents.AutoClick, this));
        }, e.prototype.onDebugAutoClick = function(t) {
            s.Util.isValid(this.topIcon.frameName) && (s.Util.isValid(t) ? t === this.topIcon.frameName && this.onDown() : s.Util.log("Button Stack Tag: " + this.topIcon.frameName));
        }, e;
    }(i(5).Element);
    e.StackButton = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = function(t) {
        function e(e, i, a, n, r, s, l) {
            var h = t.call(this, e, i, a, n) || this;
            h.page = 0, h.len = 0, h.isVertical = !1, h.bar = null, h.lower = null, 
            h.higher = null, h.slide = null, h.pages = 0, h.paging = 0, h.inc = 0, 
            h.items = 0, h.itemsPerPage = 0, h.callback = null, h.len = r - 100, 
            h.isVertical = s, l && h.game.broadcaster.addAppListener(o.EInputEvents.OnMouseWheel, h.onScroll.bind(h), h, "Input", !1), 
            h.isVertical ? h.bar = h.add(new Phaser.TileSprite(h.game, 50, 0, r, 50, "atlas-161", "slider")) : h.bar = h.add(new Phaser.TileSprite(h.game, 0, 0, r, 50, "atlas-161", "slider")), 
            h.bar.inputEnabled = !0, h.bar.events.onInputDown.add(h.barClick, h), 
            h.isVertical ? (h.lower = h.game.prodigy.create.button(h, 50, 0, "atlas-18", "arrow-btn-back", h.btnClick.bind(h, -1)), 
            h.higher = h.game.prodigy.create.button(h, 50, h.len + 50, "atlas-18", "arrow-btn-next", h.btnClick.bind(h, 1))) : (h.lower = h.game.prodigy.create.button(h, 0, 0, "atlas-18", "arrow-btn-back", h.btnClick.bind(h, -1)), 
            h.higher = h.game.prodigy.create.button(h, h.len + 50, 0, "atlas-18", "arrow-btn-next", h.btnClick.bind(h, 1))), 
            h.lower.setInactive(), h.higher.setInactive(), h.isVertical && (h.bar.angle = 90, 
            h.lower.angle = 90, h.higher.angle = 90);
            var c = h.isVertical ? new Phaser.Rectangle(0, 50, 50, h.len) : new Phaser.Rectangle(50, 0, h.len, 50);
            return h.slide = h.add(h.game.prodigy.create.sprite(c.x, c.y, "atlas-18", "btn-white")), 
            h.slide.anchor.setTo(h.isVertical ? 0 : .5, h.isVertical ? .5 : 0), 
            h.slide.visible = !1, h.slide.inputEnabled = !0, h.slide.input.enableDrag(), 
            h.slide.input.boundsRect = c, h.slide.events.onDragStop.add(h.onDragStop, h), 
            h;
        }
        return n(e, t), e.prototype.destroy = function(e, i) {
            r.Util.isValid(this.game) && this.game.broadcaster.removeAppListener(o.EInputEvents.OnMouseWheel, this, "Input"), 
            t.prototype.destroy.call(this, e, i);
        }, e.prototype.reset = function(t, e, i, a) {
            this.items = t, this.callback = a, r.Util.isValid(e) ? this.itemsPerPage = e : this.itemsPerPage = 1, 
            this.paging = i < 0 ? this.itemsPerPage : 1, i >= 0 ? (this.page = Math.max(0, i - e), 
            this.pages = Math.max(1, this.items - this.itemsPerPage + 1)) : (this.page = 0, 
            this.pages = Math.max(1, Math.ceil(this.items / this.itemsPerPage))), 
            this.inc = this.pages > 1 ? (this.len - 50) / (this.pages - 1) : this.len - 50, 
            this.slide.visible = this.pages > 1, this.btnClick(0), this.callback(this.page * this.paging);
        }, e.prototype.process = function() {
            this.callback(this.page * this.paging);
        }, e.prototype.onDragStop = function() {
            var t = 0;
            t = this.isVertical ? Math.round((this.slide.y - 50 - 25) / this.inc) : Math.round((this.slide.x - 50 - 25) / this.inc), 
            this.btnClick(t - this.page);
        }, e.prototype.barClick = function(t, e) {
            var i = 0;
            i = this.isVertical ? Math.round((e.y - this.bar.world.y - 50 - 25) / this.inc) : Math.round((e.x - this.bar.world.x - 50 - 25) / this.inc), 
            this.btnClick(i - this.page);
        }, e.prototype.btnClick = function(t) {
            var e = this.page;
            this.page += t, this.page > this.pages - 1 && (this.page = this.pages - 1), 
            this.page < 0 && (this.page = 0), 0 === this.page ? this.lower.setInactive() : this.lower.setActive(), 
            this.page === this.pages - 1 ? this.higher.setInactive() : this.higher.setActive(), 
            this.isVertical ? this.slide.y = 75 + Math.round(this.inc * this.page) : this.slide.x = 75 + Math.round(this.inc * this.page), 
            e !== this.page && this.callback(this.page * this.paging);
        }, e.prototype.onScroll = function(t) {
            r.Util.isValid(this.game) && this.visible && this.btnClick(-Math.floor(this.game.input.mouse.wheelDelta));
        }, e;
    }(i(5).Element);
    e.Slider = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(21), s = function(t) {
        function e(e, i, a, n, o, s) {
            var l = t.call(this, e, i, a, n) || this;
            return l.callback = null, l.scroll = null, l.up = null, l.down = null, 
            l.pages = 0, l.diff = 0, l.page = 0, l.callback = s, l.height = o, l.add(new Phaser.TileSprite(l.game, 0, 25, 50, o - 50, "atlas-161", "panel-side")), 
            l.add(new Phaser.TileSprite(l.game, 50, 25, 50, o - 50, "atlas-161", "panel-side2")), 
            l.scroll = l.add(l.game.prodigy.create.sprite(0, 50, "atlas-18", "btn-mini")), 
            l.up = l.game.prodigy.create.textButton(l, 0, 0, {
                icon: "up",
                size: r.TextButton.MINI
            }, l.clickScrollBar.bind(l, -1)), l.up.icon.x = 25, l.down = l.game.prodigy.create.textButton(l, 0, o - 50, {
                icon: "down",
                size: r.TextButton.MINI
            }, l.clickScrollBar.bind(l, 1)), l.down.icon.x = 25, l;
        }
        return n(e, t), e.prototype.setPages = function(t, e) {
            void 0 === e && (e = 0), this.page = e, this.pages = t, this.diff = (this.height - 100 - 50) / Math.max(1, t - 1), 
            this.clickScrollBar(0);
        }, e.prototype.clickScrollBar = function(t) {
            this.page = this.page + t, this.page < 0 && (this.page = 0), this.page >= this.pages && (this.page = this.pages - 1), 
            0 === this.page ? this.up.setInactive() : this.up.setActive(), this.page === this.pages - 1 ? this.down.setInactive() : this.down.setActive(), 
            this.scroll.y = this.diff * this.page + 50, this.scroll.y < 50 && (this.scroll.y = 50), 
            this.callback(this.page);
        }, e;
    }(o.Element);
    e.ScrollBar = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i, a, n) || this;
            r.barWidth = 0, r.bar = null, r.text = null, r.barWidth = o - 12;
            var s = o - 80;
            return r.add(r.game.prodigy.create.sprite(0, 0, "atlas-18", "bar-corner")), 
            r.add(new Phaser.TileSprite(r.game, 40, 0, s, 40, "atlas-161", "bar-top")), 
            r.add(r.game.prodigy.create.sprite(s + 40, 0, "atlas-18", "bar-corner2")), 
            r.bar = r.add(new Phaser.TileSprite(r.game, 6, 6, 0, 28, "atlas-161", "bar-fill")), 
            r.text = r.game.prodigy.create.font(r, 0, 8, "", {
                width: s + 80,
                align: "center",
                size: 16
            }), r;
        }
        return n(e, t), e.prototype.setProgress = function(t, e) {
            void 0 === e && (e = ""), this.bar.width = Math.floor(t * this.barWidth), 
            this.text.setText(e);
        }, e;
    }(i(5).Element);
    e.ProgressBar = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(0), s = function(t) {
        function e(e, i, a, n, r, s, l, h, c) {
            void 0 === c && (c = {});
            var p = t.call(this, e, i, a, n) || this;
            return p.callback = null, p.content = null, p.isActive = !0, p.isActive = !0, 
            p.callback = h, p.content = p.game.prodigy.create.element(p), p.game.prodigy.create.panel(p.content, 0, 0, r, s, l, c).setClickable(p.onDown.bind(p), p.onUp.bind(p), p.onOver.bind(p), p.onOut.bind(p)), 
            o.GameConstants.get("GameConstants.Build.DEBUG") && p.game.prodigy.automation.addTrigger({
                ID: "autoclick-" + l,
                context: p,
                callback: function() {
                    return {
                        x: p.worldPosition.x + .5 * p.width,
                        y: p.worldPosition.y + .5 * p.height
                    };
                }
            }), p.onDestroy.add(p.handleDestroy.bind(p)), p;
        }
        return n(e, t), e.prototype.setActive = function(t) {
            this.isActive = t, this.content.y = 0;
        }, e.prototype.handleDestroy = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this);
        }, e.prototype.onDown = function() {
            this.isActive && (this.content.y = 0, this.game.prodigy.audio.playSFX(18, "pop"), 
            r.Util.isValid(this.callback) && this.callback());
        }, e.prototype.onUp = function() {
            this.isActive && (this.content.y = -3);
        }, e.prototype.onOver = function() {
            this.isActive && (this.content.y = -3);
        }, e.prototype.onOut = function() {
            this.isActive && (this.content.y = 0);
        }, e;
    }(i(5).Element);
    e.PanelButton = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n, r, s, l, h) {
            void 0 === h && (h = {});
            var c = t.call(this, e, i, a, n) || this;
            c.totalWidth = 0, c.totalHeight = 0, c.images = [];
            var p = 0, u = 0, d = null, g = h;
            o.Util.isValid(g) || (g = {});
            for (var y = 0; y < r; y++) {
                u = 0;
                for (var f = 0; f < s; f++) {
                    var m = null;
                    m = o.Util.isValid(l) ? l + "-" : "panel-", g.hideLeft || 0 !== y || 0 !== f ? g.hideRight || y !== r - 1 || 0 !== f ? g.hideRight || y !== r - 1 || f !== s - 1 ? g.hideLeft || 0 !== y || f !== s - 1 ? g.hideLeft || 0 !== y ? g.hideRight || y !== r - 1 ? m += 0 === f ? "top" : f === s - 1 ? "top2" : "mid" : m += "side2" : m += "side" : m += "corner4" : m += "corner3" : m += "corner2" : m += "corner", 
                    u += (d = c.add(new Phaser.Image(c.game, p, u, "atlas-18", m))).height, 
                    c.totalHeight += d.height, d.inputEnabled = !0, c.images.push(d);
                }
                p += d.width, c.totalWidth += d.width;
            }
            return c;
        }
        return n(e, t), e.prototype.setClickable = function(t, e, i, a) {
            if (o.Util.isValid(t)) for (var n = 0; n < this.images.length; n++) t && this.images[n].events.onInputDown.add(t), 
            e && this.images[n].events.onInputUp.add(e), i && this.images[n].events.onInputOver.add(i), 
            a && this.images[n].events.onInputOut.add(a);
        }, e.prototype.changePanel = function(t) {
            var e = this.images[0];
            if (e.frameName !== t) for (var i = e.frameName.replace("-corner", ""), a = 0; a < this.images.length; a++) this.images[a].frameName = this.images[a].frameName.replace(i, t);
        }, e;
    }(i(5).Element);
    e.Panel = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a) {
            return t.call(this, e, i, a, "atlas-21", "exclamation") || this;
        }
        return n(e, t), e.prototype.addTween = function() {
            this.game.add.tween(this).to({
                y: this.y - 10
            }, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0);
        }, e;
    }(Phaser.Image);
    e.Indicator = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n, r, s, l, h, c, p, u, d, g) {
            var y = t.call(this, e, i, a, n) || this;
            return y.back = null, y.bar = null, y.icon = null, y.label = null, y.direction = 0, 
            y.fillFunction = null, y.onFill = null, y.current = 0, y.target = 0, 
            y.delay = 0, y.currentLevel = 0, y.speed = 1, y.callback = null, y.fillFunction = h, 
            y.direction = l, y.onFill = g, y.back = y.add(y.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small")), 
            y.bar = y.add(y.game.prodigy.create.sprite(1, s - 1, "atlas-18", "overlay-light")), 
            y.bar.anchor.setTo(0, 1), y.back.width = r, y.back.height = s, y.bar.width = r - 2, 
            y.bar.height = s - 2, y.bar.tint = o.Util.isValid(c) ? c : 16777215, 
            y.bar.alpha = u, y.icon = y.game.prodigy.create.element(y, -Math.floor((80 - r) / 2), -60), 
            o.Util.isValid(p) && ("string" == typeof p ? y.icon.add(y.game.prodigy.create.sprite(0, 0, "atlas-21", p)) : y.icon.add(y.game.prodigy.icon.createFromData(p, 0, 0))), 
            y.label = y.game.prodigy.create.font(y.icon, 0, 20, "", {
                size: 30,
                width: 80,
                align: "center"
            }), y.current = 0, y.target = 0, y.delay = 0, y.currentLevel = 0, d && (y.back.visible = !1), 
            y.setBar(), y;
        }
        return n(e, t), e.prototype.update = function() {
            t.prototype.update.call(this), this.current !== this.target ? (this.delay--, 
            this.delay <= 0 && (this.delay = this.speed, this.current < this.target ? this.current++ : this.current > this.target && this.current--, 
            this.setBar())) : o.Util.isValid(this.callback) && (this.callback(), 
            this.callback = null);
        }, e.prototype.setValue = function(t) {
            this.current = this.target = t, this.setBar();
        }, e.prototype.addValue = function(t, e, i) {
            return this.target += t, this.target < 0 && (this.target = 0), o.Util.isValid(e) ? this.speed = e : this.speed = 1, 
            this.callback = i, this.target;
        }, e.prototype.getValue = function() {
            return this.current;
        }, e.prototype.getLevel = function() {
            return this.currentLevel;
        }, e.prototype.setBar = function() {
            for (var t = {
                target: 0,
                text: null,
                color: null
            }, e = {
                target: 0,
                text: null,
                color: null
            }, i = 1, a = 0, n = !0; n; ) {
                if (-1 === (t = this.fillFunction(i)).target) {
                    this.current = this.target, a = 1, n = !1;
                    break;
                }
                if (this.current < t.target) {
                    a = (this.current - e.target) / (t.target - e.target), n = !1;
                    break;
                }
                e = t, i++;
            }
            0 === this.direction ? this.bar.width = Math.floor((this.back.width - 2) * a) : this.bar.height = Math.floor((this.back.height - 2) * a), 
            this.label.setText(t.text), o.Util.isValid(t.color) && (this.bar.tint = t.color), 
            i > this.currentLevel ? (o.Util.isValid(this.onFill) && this.onFill(i), 
            this.game.add.tween(this.icon).to({
                y: -70
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: -60
            }, 250, Phaser.Easing.Quadratic.In).start()) : i < this.currentLevel && (o.Util.isValid(this.onFill) && this.onFill(i), 
            this.game.add.tween(this.icon).to({
                x: this.icon.x - 5
            }, 100, Phaser.Easing.Linear.None).to({
                x: this.icon.x + 5
            }, 100, Phaser.Easing.Linear.None).to({
                x: this.icon.x - 5
            }, 100, Phaser.Easing.Linear.None).to({
                x: this.icon.x
            }, 100, Phaser.Easing.Linear.None).start()), this.currentLevel = i;
        }, e;
    }(i(5).Element);
    e.FillBar = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n, r, s) {
            void 0 === s && (s = {});
            var l = t.call(this, e, i) || this;
            return l.lines = 0, l.text = "", l.sprites = [], l.boundsWidth = 1280, 
            l.fontSize = 20, l.alignment = null, l.fontID = 10, l.fontName = null, 
            l.lineHeight = 0, l.monoSpace = 0, l.iconOffsetY = 0, l.x = a, l.y = n, 
            o.Util.isValid(s.width) && (l.boundsWidth = s.width), o.Util.isValid(s.size) && (l.fontSize = s.size), 
            l.alignment = s.align, o.Util.isValid(s.fontID) && (l.fontID = s.fontID), 
            l.fontName = "atlas-" + l.fontID, l.lineHeight = s.lineHeight, l.monoSpace = s.mono, 
            o.Util.isValid(s.iconOffsetY) && (l.iconOffsetY = s.iconOffsetY), o.Util.isValid(r) && l.setText(r), 
            l;
        }
        return n(e, t), e.prototype.setText = function(t) {
            if (o.Util.isValid(this.game)) {
                this.text = t;
                for (var e = 0, i = 0, a = 0, n = [], r = 0, s = null, l = 0; l < this.sprites.length; l++) this.sprites[l].kill();
                for (var h = 0; h < t.length; h++) {
                    var c = t.charCodeAt(h), p = null;
                    if (91 !== c) {
                        if (93 === c) p = s, s = null; else if (o.Util.isValid(s)) {
                            r++, s += t[h];
                            continue;
                        }
                        l = h - r;
                        var u = 10;
                        o.Util.isValid(this.monoSpace) && (u = this.monoSpace);
                        var d = null;
                        if (l >= this.sprites.length ? (d = this.game.prodigy.create.sprite(e, i, this.fontName), 
                        this.add(d), this.sprites.push(d)) : (d = this.sprites[l]).revive(), 
                        d.x = e, d.y = i, o.Util.isValid(p)) {
                            var g = p.split(":");
                            if (2 === g.length && "single-image" === g[0]) {
                                var y = g[1];
                                d.key !== y && (this.remove(d), d = this.game.prodigy.icon.createIcon(e, i, y), 
                                this.add(d), this.sprites.splice(l, 1, d));
                            } else "atlas-21" !== d.key && d.loadTexture("atlas-21"), 
                            d.frameName = p;
                            d.y += this.iconOffsetY;
                        } else d.key !== this.fontName && d.loadTexture(this.fontName), 
                        10 !== c && (d.frameName = c + "-" + this.fontSize);
                        if (32 === c || h === t.length - 1 || 10 === c) {
                            var f = 0;
                            if (f = o.Util.isValid(this.lineHeight) ? this.lineHeight : this.fontSize + 5, 
                            e >= this.boundsWidth) {
                                var m = e;
                                e = 0, i += f;
                                for (var _ = a; _ <= l; _++) this.sprites[_].x = e, 
                                this.sprites[_].y = i, "atlas-21" === this.sprites[_].key && (this.sprites[_].y += (this.sprites[_].height - this.fontSize) / 2), 
                                o.Util.isValid(this.monoSpace) ? e += this.monoSpace : e += this.sprites[_].width;
                                n.push(m - e);
                            } else 10 === c && (d.kill(), i += f, e = 0);
                            a = l + 1, 32 === c && (e += u);
                        }
                        10 !== c && (o.Util.isValid(this.monoSpace) ? e += this.monoSpace : e += d.width), 
                        h === t.length - 1 && n.push(e);
                    } else r++, s = "";
                }
                if (this.lines = n.length, o.Util.isValid(this.alignment) && "left" !== this.alignment) {
                    var v = -1, E = 0, b = -1;
                    for (l = 0; l < this.sprites.length; l++) {
                        var O = this.sprites[l];
                        v !== O.y && (v = O.y, b++, o.Util.isValid(n[b]) && ("center" === this.alignment ? E = Math.floor((this.boundsWidth - n[b]) / 2) : "right" === this.alignment && (E = Math.floor(this.boundsWidth - n[b])))), 
                        O.x += E;
                    }
                }
            }
        }, e.prototype.setCenterAnchor = function() {
            for (var t = this.width >> 1, e = this.height >> 1, i = 0; i < this.sprites.length; i++) this.sprites[i].x -= t, 
            this.sprites[i].y -= e;
        }, e.prototype.addClickCallback = function(t, e, i) {
            var a = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-light"));
            a.width = e, a.height = i, a.alpha = 0, a.inputEnabled = !0, a.events.onInputDown.add(t);
        }, e;
    }(Phaser.Group);
    e.BitmapFont = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n, o, r, s, l) {
            void 0 === r && (r = null);
            var h = t.call(this, e, i, a, n, o[0], r) || this;
            return h.frames = [], h.frameIndex = 0, h.frames = o, h.scaleValues = s, 
            h.positionValues = l, h.updateFrameProperties(), h;
        }
        return n(e, t), Object.defineProperty(e.prototype, "frameNumber", {
            get: function() {
                return this.frameIndex;
            },
            set: function(t) {
                o.Util.isValid(this.frames) && (this.frameIndex = Math.floor(t), 
                this.frameName = this.frames[this.frameIndex], this.updateFrameProperties());
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.updateFrameProperties = function() {
            o.Util.isValid(this.scaleValues) && (this.scale.x = this.scaleValues[this.frameIndex], 
            this.scale.y = this.scaleValues[this.frameIndex]), o.Util.isValid(this.positionValues) && (this.x = this.positionValues[this.frameIndex].x, 
            this.y = this.positionValues[this.frameIndex].y);
        }, e;
    }(i(64).Sprite);
    e.AnimatedSprite = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(3), s = i(4), l = i(0), h = function(t) {
        function e(e, i, a, n, h, c) {
            var p = t.call(this, e, i, a, n) || this;
            p.sprite = null, p.isActive = !0, p.disabled = !1, p.data = null, p.callback = null, 
            p.content = null, p.data = h, p.callback = c, p.content = p.game.prodigy.create.element(p), 
            p.sprite = p.content.add(p.game.prodigy.create.sprite(0, 0, "atlas-18", "btn-core")), 
            p.sprite.inputEnabled = !0, p.sprite.events.onInputDown.add(p.onDown, p), 
            p.sprite.events.onInputUp.add(p.onUp, p), p.sprite.events.onInputOver.add(p.onOver, p), 
            p.sprite.events.onInputOut.add(p.onOut, p);
            var u = null, d = null;
            if (l.Util.isValid(h.icon)) {
                var g = l.Util.isValid(h.icon.forcedWidth) ? h.icon.forcedWidth : null, y = l.Util.isValid(h.icon.forcedHeight) ? h.icon.forcedHeight : null;
                u = l.Util.isValid(h.atlas) ? h.atlas : s.Items.getIconAtlas(h.icon), 
                d = s.Items.getIconFrame(h.icon), p.content.add(p.game.prodigy.create.sprite(0, 0, u, d, null, p.resize.bind(p), g, y)).alpha = .4;
            }
            if (l.Util.isValid(h.top) && p.game.prodigy.create.font(p.content, 5, 8, h.top, {
                size: 16,
                align: "center",
                width: p.sprite.width - 10
            }), l.Util.isValid(h.bot) && p.game.prodigy.create.font(p.content, 5, p.sprite.height - 33, h.bot, {
                size: 16,
                align: "center",
                width: p.sprite.width - 10
            }), o.GameConstants.get("GameConstants.Build.DEBUG")) {
                var f = p.generateButtonKey();
                f.length > 0 && p.game.prodigy.automation.addTrigger({
                    ID: "autoclick-" + f,
                    context: p,
                    callback: function() {
                        return {
                            x: p.worldPosition.x + .5 * p.sprite.width,
                            y: p.worldPosition.y + .5 * p.sprite.height
                        };
                    }
                }), p.game.broadcaster.addAppListener(r.EDebugEvents.AutoClick, p.onDebugAutoClick.bind(p), p);
            }
            return p.onDestroy.add(p.handleDestroy, p), p;
        }
        return n(e, t), e.prototype.disable = function() {
            this.setActive(!1), this.disabled = !0;
        }, e.prototype.enable = function() {
            this.setActive(!0), this.disabled = !1;
        }, e.prototype.setActive = function(t) {
            this.disabled || (this.isActive = t, this.sprite.tint = t ? 16777215 : 5789784, 
            this.content.y = 0);
        }, e.prototype.resize = function(t) {
            t.x = Math.floor(.5 * (this.width - t.width)), t.y = Math.floor(.5 * (this.height - t.height));
        }, e.prototype.handleDestroy = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && (this.game.prodigy.automation.removeAllTriggers(this), 
            this.game.broadcaster.removeAppListener(r.EDebugEvents.AutoClick, this));
        }, e.prototype.onDown = function() {
            this.isActive && !this.disabled && (this.content.y = 0, this.game.prodigy.audio.playSFX(18, "pop"), 
            l.Util.isValid(this.callback) && this.callback());
        }, e.prototype.onUp = function() {
            this.isActive && !this.disabled && (this.content.y = -3);
        }, e.prototype.onOver = function() {
            this.isActive && !this.disabled && (this.content.y = -3);
        }, e.prototype.onOut = function() {
            this.isActive && !this.disabled && (this.content.y = 0);
        }, e.prototype.generateButtonKey = function() {
            var t = "", e = l.Util.isValid(this.data.top) && this.data.top.length > 0, i = l.Util.isValid(this.data.bot) && this.data.bot.length > 0;
            if (e && (t += this.data.top, i && (t += "-")), i && (t += this.data.bot), 
            0 === t.length && l.Util.isValid(this.data.icon)) {
                var a = l.Util.isValid(this.data.atlas) ? this.data.atlas : s.Items.getIconAtlas(this.data.icon), n = s.Items.getIconFrame(this.data.icon);
                l.Util.isValid(a) && (t = l.Util.isValid(n) ? a + "-" + n : a);
            }
            return t;
        }, e.prototype.onDebugAutoClick = function(t) {
            var e = this.generateButtonKey();
            e.length > 0 && (e = e.toLowerCase(), l.Util.isValid(t) ? e === t && this.onDown() : l.Util.log("Button Tag: " + e));
        }, e;
    }(i(5).Element);
    e.AdvButton = h;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(605), n = i(604), o = i(603), r = i(116), s = i(5), l = i(602), h = i(601), c = i(600), p = i(599), u = i(598), d = i(597), g = i(596), y = i(64), f = i(595), m = i(21), _ = i(37), v = i(0), E = function() {
        function t(t) {
            this.game = null, this.game = t;
        }
        return t.prototype.indicator = function(t, e) {
            return new h.Indicator(this.game, t, e);
        }, t.prototype.advButton = function(t, e, i, n, o) {
            return new a.AdvButton(this.game, t, e, i, n, o);
        }, t.prototype.button = function(t, e, i, a, n, o, s, l, h, c, p) {
            return void 0 === h && (h = !1), new r.Button(this.game, t, e, i, a, n, o, s, l, h, c, p);
        }, t.prototype.hudButton = function(t, e, i, a) {
            return new t(this.game, e, i, a);
        }, t.prototype.element = function(t, e, i) {
            return new s.Element(this.game, t, e, i);
        }, t.prototype.fillBar = function(t, e, i, a, n, o, r, s, h, c, p, u) {
            return new l.FillBar(this.game, t, e, i, a, n, o, r, s, h, c, p, u);
        }, t.prototype.font = function(t, e, i, a, n) {
            return new o.BitmapFont(this.game, t, e, i, a, n);
        }, t.prototype.nameFont = function(t, e, i, a) {
            var n = this.game.add.bitmapText(e, i, "bitmapFont-1", a, 22);
            return n.x -= Math.floor(.5 * n.width), t.add(n), n;
        }, t.prototype.panel = function(t, e, i, a, n, o, r) {
            switch (o) {
              case "bases/backgroundwood":
              case "bases/matte":
              case "base/matte":
              case "banners/banner":
              case "banner/banner":
              case "banners/rope-horiz":
              case "banners/tag":
                var s = 144;
                v.Util.isValid(r) && v.Util.isValid(r.atlasID) && (s = r.atlasID);
                var l = {
                    elements: [ {
                        type: "SlicedGraphic",
                        name: "Panel",
                        anchorX: 0,
                        anchorY: 0,
                        x: e,
                        y: i,
                        width: 40 * a,
                        height: 40 * n
                    } ]
                };
                l.elements[0].atlasID = s, l.elements[0].baseFrameName = o, l.elements[0].sliceType = "nineScale";
                var h = l.elements[0];
                switch (o) {
                  case "banners/banner":
                  case "banner/banner":
                    h.type = "SlicedBanner", h.sliceType = "three", h.isThreeSlice = !0;
                    break;

                  case "banners/rope-horiz":
                  case "banners/tag":
                    h.sliceType = "three";
                }
                return new _.UIParser(this.game).createUIElements(l.elements, t)[0];

              default:
                return new c.Panel(this.game, t, e, i, a, n, o, r);
            }
        }, t.prototype.panelButton = function(t, e, i, a, n, o, r, s) {
            return new p.PanelButton(this.game, t, e, i, a, n, o, r, s);
        }, t.prototype.progressBar = function(t, e, i, a) {
            return new u.ProgressBar(this.game, t, e, i, a);
        }, t.prototype.scrollBar = function(t, e, i, a, n) {
            return new d.ScrollBar(this.game, t, e, i, a, n);
        }, t.prototype.slider = function(t, e, i, a, n, o) {
            return new g.Slider(this.game, t, e, i, a, n, o);
        }, t.prototype.sprite = function(t, e, i, a, n, o, r, s) {
            return new y.Sprite(this.game, t, e, i, a, n, o, r, s, !1);
        }, t.prototype.animatedSprite = function(t, e, i, a, o, r, s) {
            return new n.AnimatedSprite(this.game, t, e, i, a, o, r, s);
        }, t.prototype.stackButton = function(t, e, i, a, n) {
            return new f.StackButton(this.game, t, e, i, a, n);
        }, t.prototype.textButton = function(t, e, i, a, n) {
            return new m.TextButton(this.game, t, e, i, a, n);
        }, t;
    }();
    e.GameObjectFactory = E;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, a, n, "atlas-28", "conjure-cube-hud-icon", e.prodigy.open.conjureCube.bind(e.prodigy.open), 94, 94) || this;
            return r.toOpenCounterBG = null, r.toOpenCounter = null, r.createIcons(), 
            r.game.broadcaster.addAppListener(o.EGiftBoxEvents.UpdateConjureCubeCount, r.updateCubesCount.bind(r), r, "ConjureCubes"), 
            r.updateCubesCount(), r;
        }
        return n(e, t), e.prototype.destroy = function(e, i) {
            r.Util.isValid(this.game) && this.game.broadcaster.removeAppListener(o.EGiftBoxEvents.UpdateConjureCubeCount, this, "ConjureCubes"), 
            t.prototype.destroy.call(this, e, i);
        }, e.prototype.createIcons = function() {
            this.toOpenCounterBG = this.game.prodigy.create.sprite(65, 60, "atlas-28", "conjure-cube-counter-bg"), 
            this.toOpenCounterBG.visible = !0, this.sprite.addChild(this.toOpenCounterBG), 
            this.toOpenCounter = this.game.prodigy.create.font(this, -7, 8, "", {
                fontID: 11,
                width: 46,
                align: "center",
                lineHeight: 46
            }), this.toOpenCounterBG.addChild(this.toOpenCounter), this.toOpenCounterBG.visible = !1;
        }, e.prototype.updateCubesCount = function() {
            if (this.toOpenCounterBG.visible = !1, r.Util.isValid(this.game.prodigy.giftBoxController.giftBoxesToOpen)) {
                var t = Math.min(this.game.prodigy.giftBoxController.getUnopenedConjureCubesCount(), 99);
                t > 0 ? (this.toOpenCounter.setText(t.toString()), this.toOpenCounterBG.visible = !0) : this.visible = !1;
            }
        }, e;
    }(i(28).HUDButton);
    e.ConjureCubeButton = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(43), s = i(238), l = function(t) {
        function e(e) {
            var i = t.call(this) || this;
            return i.animations = null, i.timesPlayed = 0, i.targetLoops = 0, i.nextIdleAnim = 0, 
            i.renderer = null, i.animations = e, i;
        }
        return n(e, t), e.prototype.create = function() {
            this.renderer = this.gameObject.findComponent(s.SpineRenderer), this.renderer.setAnchor(.5, 0), 
            this.idle();
        }, e.prototype.idle = function() {
            o.Util.isValid(this.renderer.spine) ? (this.chooseRandomAnimation(), 
            this.renderer.spine.onComplete.has(this.chooseRandomAnimation, this) && this.renderer.spine.onComplete.remove(this.chooseRandomAnimation, this), 
            this.renderer.spine.onComplete.add(this.chooseRandomAnimation, this)) : (this.renderer.onLoaded.has(this.idle, this) && this.renderer.onLoaded.remove(this.idle, this), 
            this.renderer.onLoaded.addOnce(this.idle, this));
        }, e.prototype.chooseRandomAnimation = function() {
            this.timesPlayed === this.targetLoops ? (this.targetLoops = this.animations[this.nextIdleAnim].min + Math.floor(Math.random() * (this.animations[this.nextIdleAnim].max + 1 - this.animations[this.nextIdleAnim].min)), 
            this.renderer.getAnimationLength(this.animations[this.nextIdleAnim].name) > 0 && this.renderer.playAnimation(this.animations[this.nextIdleAnim].name, !0), 
            this.timesPlayed = 1, this.nextIdleAnim++, this.nextIdleAnim = this.nextIdleAnim % this.animations.length) : this.timesPlayed++;
        }, e;
    }(r.Component);
    e.PlayAnimationList = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e) {
            var i = t.call(this) || this;
            return i.text = null, i.xCoord = 0, i.yCoord = 0, i.text = e.text, i.xCoord = e.x, 
            i.yCoord = e.y, i;
        }
        return n(e, t), e.prototype.create = function() {
            this.gameObject.game.prodigy.create.nameFont(this.gameObject, this.gameObject.position.x + this.xCoord, this.gameObject.position.y + this.yCoord, this.text);
        }, e;
    }(i(43).Component);
    e.NameLabel = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(34), r = i(52), s = i(0), l = function(t) {
        function e(e, i, a, n, o, r) {
            var l = t.call(this, e, i, a, n) || this;
            return l.callback = null, l.maxTime = 6e4, l.timeDelta = 1e4, l.radius = 30, 
            l.clickMessage = "", l.hideElements = [], l.blocks = [], l.currentBlockIndex = -1, 
            l.renderer = null, l.gameObject = null, l.time = 0, l.endTransformMessage = null, 
            l.numberOfSquares = [], l.callback = r, s.Util.isValid(o.maxTime) && (l.maxTime = o.maxTime), 
            s.Util.isValid(o.timeDelta) && (l.timeDelta = o.timeDelta), s.Util.isValid(o.radius) && (l.radius = o.radius), 
            s.Util.isValid(o.clickMessage) && (l.clickMessage = o.clickMessage), 
            s.Util.isValid(o.hideElements) && (l.hideElements = o.hideElements), 
            l.setup(), l;
        }
        return n(e, t), e.prototype.setup = function() {
            for (var t = 0; t < this.hideElements.length; t++) s.Util.isValid(this.hideElements[t]) && (this.hideElements[t].visible = !1);
            this.renderer = r.RenderFactory.createRenderer("spine-11", {
                type: "spine",
                anchor: {
                    x: .5,
                    y: .5
                }
            }), this.renderer.playAnimation("animation", !0), this.gameObject = new o.GameObject(this.game, this, [ this.renderer ], -33, -33), 
            this.renderer.inputSprite = this.gameObject.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "empty")), 
            this.renderer.playAnimation("", !0, 0), this.renderer.setInputEnabled(!0);
            var e = this.renderer.getEvents();
            s.Util.isValid(e) && e.onInputDown.add(this.onClick, this), this.setupTimerVisuals(this.maxTime, this.timeDelta, this.radius);
        }, e.prototype.updateTimerValue = function(t) {
            this.updateTimerVisuals(t, this.timeDelta, this.radius);
        }, e.prototype.autoUpdateTimer = function(t) {
            var e = this;
            this.update = t ? function() {
                s.Util.isValid(e.time) || (e.time = 0), e.time += 1 / 60, e.updateTimerVisuals(e.time, .5, 10);
            } : function() {};
        }, e.prototype.onClick = function() {
            this.endTransformMessage = this.game.prodigy.open.messageBox(this.clickMessage, this.callback);
        }, e.prototype.setupTimerVisuals = function(t, e, i) {
            var a = this, n = t / e, o = Math.floor(360 / n / 3), r = Math.floor(360 / n) * Math.PI / 180, l = 3 * Math.PI / 180;
            this.numberOfSquares = [];
            for (var h = function(t, e, i, a) {
                t.anchor.setTo(.5, .5), t.scale.x = 3 * a * .1, t.angle = 180 * i / Math.PI - 90, 
                e.add(t);
            }, c = function(t, e, i, n, o, r) {
                if (a.numberOfSquares[t]--, 0 === a.numberOfSquares[t]) {
                    h(r, e, n, o);
                    var s = a.game.prodigy.create.element(a, 0, 0), l = a.game.add.renderTexture(74, 74);
                    l.renderXY(e, 37, 37, !0), s.add(new Phaser.Image(a.game, -37, -37, l)), 
                    e.destroy(), a.blocks.push({
                        block: s,
                        direction: i
                    });
                }
            }, p = 0; p < n; p++) {
                var u = this.game.prodigy.create.element(this, 0, 0), d = -(Math.PI / 2 - (p + .5) * r + .5 * l), g = {
                    x: Math.cos(d),
                    y: Math.sin(d)
                }, y = p * r + .5 * l;
                this.numberOfSquares.push(o);
                for (var f = 0; f < o; f++) {
                    var m = -(Math.PI / 2 - (y + f * l)), _ = i * Math.cos(m), v = i * Math.sin(m), E = "block-middle", b = 1;
                    0 === f ? (E = "block-white", b = .6) : f === o - 1 && (E = "block-white", 
                    b = .6);
                    var O = this.game.prodigy.create.sprite(_, v, "atlas-162", E, null, c.bind(this, p, u, g, m, b));
                    s.Util.isValid(u) && h(O, u, m, b);
                }
            }
        }, e.prototype.updateTimerVisuals = function(t, e, i) {
            var a = this, n = Math.floor(t / e - 1);
            if (n > this.currentBlockIndex && n < this.blocks.length) {
                this.currentBlockIndex = n;
                for (var o = null, r = 0; r <= n; r++) {
                    var l = this.blocks[r];
                    o = this.game.add.tween(l.block).to({
                        x: i * l.direction.x,
                        y: i * l.direction.y,
                        alpha: 0
                    }, 3e3, Phaser.Easing.Exponential.Out).start();
                }
                if (n === this.blocks.length - 1) {
                    this.renderer.setInputEnabled(!1), s.Util.isValid(this.endTransformMessage) && this.endTransformMessage.destroy(!0);
                    this.game.add.tween(this.gameObject).to({
                        alpha: 0
                    }, 3e3, Phaser.Easing.Exponential.Out).start(), o.onComplete.add(function() {
                        for (var t = 0; t < a.hideElements.length; t++) s.Util.isValid(a.hideElements[t]) && (a.hideElements[t].visible = !0);
                        a.destroy(!0);
                    }.bind(this));
                }
            }
        }, e.prototype.endTimer = function() {
            this.updateTimerValue(this.maxTime);
        }, e;
    }(i(5).Element);
    e.TimerControl = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i, a, n) || this;
            (r.eventFormat = !1, o) || (r.game.prodigy.create.panel(r, 0, 0, 6, 2, "white").alpha = .8);
            return r.text = r.game.prodigy.create.font(r, 0, 10, "00:00", {
                width: 240,
                size: 40,
                align: "center"
            }), r.msg = r.game.prodigy.create.font(r, 0, 55, "", {
                width: 240,
                size: 16,
                align: "center"
            }), r;
        }
        return n(e, t), e.prototype.processTime = function(t) {
            if (t <= 0) return "00:00";
            var e, i = Math.floor(t / 36e5), a = Math.floor((t - 36e5 * i) / 6e4), n = Math.floor((t - 36e5 * i - 6e4 * a) / 1e3);
            0 === i ? e = "00" : i < 10 && (e = "0" + i);
            var o = "" + a;
            0 === a ? o = "00" : a < 10 && (o = "0" + a);
            var r = "" + n;
            return 0 === n ? r = "00" : n < 10 && (r = "0" + n), "00" === e ? o + ":" + r : i < 24 ? e + ":" + o + ":" + r : this.game.prodigy.gameContainer.Localizer.getText("TIMER_FORMAT_DAYS", Math.floor(i / 24));
        }, e.prototype.processTimeFormatted = function(t) {
            if (t <= 0) return "0";
            var e = Math.floor(t / 864e5), i = t - 864e5 * e, a = Math.floor(i / 36e5);
            i -= 36e5 * a;
            var n = Math.floor(i / 6e4), o = a.toString();
            a < 10 && (o = "0" + a);
            var r = n.toString();
            return n < 10 && (r = "0" + n), this.game.prodigy.gameContainer.Localizer.getText("TIMER_FORMAT", e, o, r);
        }, e.prototype.setTime = function(t) {
            this.target = t, this.text.setText(this.eventFormat ? this.processTimeFormatted(t) : this.processTime(t));
        }, e.prototype.setMsg = function(t) {
            this.msg.setText(t);
        }, e.prototype.start = function(t, e, i) {
            void 0 === i && (i = !1), this.eventFormat = i, this.setTime(t), this.callback = e, 
            this.targetTime = new Date().getTime() + this.target, this.clear(), 
            this.timer = setInterval(this.process.bind(this), 100);
        }, e.prototype.pause = function() {
            this.paused = this.targetTime - new Date().getTime();
        }, e.prototype.resume = function() {
            this.targetTime = new Date().getTime() + this.paused, this.paused = null;
        }, e.prototype.blink = function() {
            this.game.add.tween(this.text).to({
                y: 0
            }, 500, Phaser.Easing.Quadratic.Out).to({
                y: 10
            }, 500, Phaser.Easing.Quadratic.In).start();
        }, e.prototype.add = function(t) {
            this.targetTime += t, this.process(), this.blink();
        }, e.prototype.clear = function() {
            r.Util.isValid(this.timer) && (window.clearInterval(this.timer), this.timer = null);
        }, e.prototype.process = function() {
            if (!r.Util.isValid(this.paused)) {
                var t = this.targetTime - new Date().getTime();
                this.text.setText(this.eventFormat ? this.processTimeFormatted(t) : this.processTime(t)), 
                t <= 0 && (this.clear(), r.Util.isValid(this.callback) && this.callback());
            }
        }, e.prototype.isInProgress = function() {
            return r.Util.isValid(this.timer);
        }, e.prototype.destroy = function() {
            this.clear(), t.prototype.destroy.call(this);
        }, e;
    }(o.Element);
    e.TimerContainer = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(16), r = i(4), s = i(0), l = function(t) {
        function e(e, i, a, n, o) {
            var s = t.call(this, e, i, {
                name: "",
                npc: !0
            }, null, n.x, n.y - 1) || this;
            return s.tweens = [], s.coords = [], s.mode = -1, s.tweens = [], s.itemData = r.Items.getItem("follow", a).data, 
            s.assets = [ "pets" ], s.player = n, s;
        }
        return n(e, t), e.prototype.startLoad = function() {
            t.prototype.startLoad.call(this), this.loading = !0, this.assets = [ "atlas-29", "atlas-19" ], 
            this.game.prodigy.load.assets(this.assets, this.setup.bind(this));
        }, e.prototype.setup = function(t) {
            var e = this;
            if (s.Util.isValid(this.game) && t && s.Util.isValid(this.assets)) {
                var i = this.itemData.tag;
                this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), 
                i.indexOf("cat") > -1 ? i.indexOf("sparkle") > -1 ? this.createSparkleCat(i, this.itemData.spriteOffsets) : this.createCat(i, this.itemData.spriteOffsets) : i.indexOf("dog") > -1 ? i.indexOf("sparkle") > -1 ? this.createSparkleDog(i) : this.createDog(i) : i.indexOf("rodent") > -1 ? i.indexOf("sparkle") > -1 ? this.createSparkleRodent(i) : this.createRodent(i) : i.indexOf("bird") > -1 ? this.createBird(i) : i.indexOf("lizard") > -1 ? this.createLizard(i) : i.indexOf("turtle") > -1 ? this.createTurtle(i, this.itemData.spriteOffsets) : i.indexOf("reindeer") > -1 ? this.createReindeer(i) : i.indexOf("penguin") > -1 ? this.createPenguin(i) : i.indexOf("snowman") > -1 ? this.createSnowman(i) : i.indexOf("panda") > -1 ? this.createPanda(i) : i.indexOf("sheep") > -1 ? this.createSheep(i) : i.indexOf("cactus") > -1 ? this.createCactus(i) : i.indexOf("fox") > -1 && this.createFox(i), 
                s.Util.isValid(this.itemData.extraAnims) && this.itemData.extraAnims.forEach(function(t) {
                    var a = e.sprite.add(e.game.prodigy.create.sprite(t.offsets.x, t.offsets.y, "atlas-29", i + "/" + t.animFrames[0])), n = null;
                    (n = "walk" === t.targetCycle ? e.walkTween : e.standTween).push(new o.TweenController(a)), 
                    n[n.length - 1].set("frameName", t.animFrames.map(function(t) {
                        return i + "/" + t;
                    }, e), 80, 9999);
                }, this), this.complete = !0, this.loading = !1, s.Util.isValid(this.loadedCallback) && this.loadedCallback();
            }
        }, e.prototype.setupWalk = function(t) {
            var e = t + "/walk/";
            this.walkTween = [], this.walkTween.push(new o.TweenController(this.body)), 
            this.walkTween[0].set("y", [ this.body.y, this.body.y + 1 ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.legs)), this.walkTween[1].set("frameName", [ e + "legs-0", e + "legs-1", e + "legs-2", e + "legs-3" ], 150, 9999), 
            s.Util.isValid(this.tail) && (this.walkTween.push(new o.TweenController(this.tail)), 
            this.walkTween[2].set("frameName", [ e + "tail-0", e + "tail-1" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.tail)), this.walkTween[3].set("y", [ this.tail.y, this.tail.y + 1 ], 150, 9999));
        }, e.prototype.setupStand = function(t) {
            var e = t + "/idle/";
            this.standTween = [], s.Util.isValid(this.tail) && (this.standTween.push(new o.TweenController(this.tail)), 
            this.standTween[0].set("y", [ this.tail.y + 6 ], 1e4, 9999), this.standTween.push(new o.TweenController(this.tail)), 
            this.standTween[1].set("frameName", [ e + "tail-0", e + "tail-1", e + "tail-2" ], 150, 9999));
        }, e.prototype.setSpriteDefaults = function(t) {
            var e = function(t, e) {
                s.Util.isValid(e) && (s.Util.isValid(e._defaultAnims) && (e.frameName = e._defaultAnims[t]), 
                s.Util.isValid(e._defaultVisibility) && (e.visible = e._defaultVisibility[t]), 
                s.Util.isValid(e._defaults) && (e.x = e._defaults[t][0], e.y = e._defaults[t][1]));
            };
            e(t, this.head), e(t, this.body), e(t, this.legs), e(t, this.tail);
        }, e.prototype.createCat = function(t, e) {
            var i = s.Util.isValid(e) ? e : {};
            s.Util.isValid(i.tail) || (i.tail = {
                x: -12,
                y: 1
            }), s.Util.isValid(i.body) || (i.body = {
                x: 0,
                y: 0
            }), s.Util.isValid(i.legs) || (i.legs = {
                x: -1,
                y: 29
            }), this.tail = this.sprite.add(this.game.prodigy.create.sprite(0 + i.tail.x, 0 + i.tail.y, "atlas-29", t + "/walk/tail-0")), 
            this.body = this.sprite.add(this.game.prodigy.create.sprite(0 + i.body.x, 0 + i.body.y, "atlas-29", t + "/walk/body-0")), 
            this.legs = this.sprite.add(this.game.prodigy.create.sprite(0 + i.legs.x, 0 + i.legs.y, "atlas-29", t + "/walk/legs-0")), 
            this.sprite.y = -this.body.height - this.legs.height, this.sprite.x = -Math.floor(this.body.width / 2), 
            this.setupWalk(t), this.setupStand(t);
        }, e.prototype.createSparkleCat = function(t, e) {
            var i = s.Util.isValid(e) ? e : {};
            s.Util.isValid(i.tail) || (i.tail = {
                x: -12,
                y: 1
            }), s.Util.isValid(i.body) || (i.body = {
                x: 0,
                y: 0
            }), s.Util.isValid(i.legs) || (i.legs = {
                x: -1,
                y: 29
            }), this.tail = this.sprite.add(this.game.prodigy.create.sprite(0 + i.tail.x, 0 + i.tail.y, "atlas-29", t + "/walk/tail-0")), 
            this.tail._defaultVisibility = {
                walk: !0,
                stand: !1
            }, this.body = this.sprite.add(this.game.prodigy.create.sprite(0 + i.body.x, 0 + i.body.y, "atlas-29", t + "/walk/body-0")), 
            this.body._defaults = {
                walk: [ 0, 0 ],
                stand: [ -12, 0 ]
            }, this.legs = this.sprite.add(this.game.prodigy.create.sprite(0 + i.legs.x, 0 + i.legs.y, "atlas-29", t + "/walk/legs-0")), 
            this.legs._defaultVisibility = {
                walk: !0,
                stand: !1
            }, this.sprite.y = -this.body.height - this.legs.height, this.sprite.x = -Math.floor(.5 * this.body.width), 
            this.setupWalk(t);
            var a = t + "/idle/";
            this.standTween = [], this.standTween.push(new o.TweenController(this.body)), 
            this.standTween[0].set("frameName", [ a + "body-0", a + "body-1", a + "body-2", a + "body-3" ], 150, 9999);
        }, e.prototype.createDog = function(t) {
            this.tail = this.sprite.add(this.game.prodigy.create.sprite(-12, 9, "atlas-29", t + "/walk/tail-0")), 
            this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), 
            this.legs = this.sprite.add(this.game.prodigy.create.sprite(-1, 33, "atlas-29", t + "/walk/legs-0")), 
            this.sprite.y = -this.body.height - this.legs.height, this.sprite.x = -Math.floor(this.body.width / 2), 
            this.setupWalk(t), this.setupStand(t);
        }, e.prototype.createSparkleDog = function(t) {
            this.tail = this.sprite.add(this.game.prodigy.create.sprite(-12, 9, "atlas-29", t + "/walk/tail-0")), 
            this.tail._defaultVisibility = {
                walk: !0,
                stand: !1
            }, this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), 
            this.body._defaults = {
                walk: [ 0, 0 ],
                stand: [ -12, 0 ]
            }, this.legs = this.sprite.add(this.game.prodigy.create.sprite(-1, 33, "atlas-29", t + "/walk/legs-0")), 
            this.legs._defaultVisibility = {
                walk: !0,
                stand: !1
            }, this.sprite.y = -this.body.height - this.legs.height, this.sprite.x = -Math.floor(.5 * this.body.width), 
            this.setupWalk(t);
            var e = t + "/idle/";
            this.standTween = [], this.standTween.push(new o.TweenController(this.body)), 
            this.standTween[0].set("frameName", [ e + "body-0", e + "body-1", e + "body-2", e + "body-3" ], 150, 9999);
        }, e.prototype.createRodent = function(t) {
            this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), 
            this.legs = this.sprite.add(this.game.prodigy.create.sprite(2, 18, "atlas-29", t + "/walk/legs-0")), 
            this.sprite.y = -this.body.height - this.legs.height, this.sprite.x = -Math.floor(this.body.width / 2), 
            this.setupWalk(t), this.setupStand(t);
        }, e.prototype.createSparkleRodent = function(t) {
            this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), 
            this.sprite.y = -this.body.height, this.sprite.x = -Math.floor(.5 * this.body.width);
            var e = t + "/walk/";
            this.walkTween = [], this.walkTween.push(new o.TweenController(this.body)), 
            this.walkTween[0].set("frameName", [ e + "body-0", e + "body-1", e + "body-2", e + "body-3" ], 150, 9999);
            var i = t + "/idle/";
            this.standTween = [], this.standTween.push(new o.TweenController(this.body)), 
            this.standTween[0].set("frameName", [ i + "body-0", i + "body-1", i + "body-2", i + "body-3" ], 150, 9999);
        }, e.prototype.createBird = function(t) {
            var e = s.Util.isValid(this.itemData.numWalkAnimFrames) ? this.itemData.numWalkAnimFrames : 4;
            this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), 
            this.sprite.y = -this.body.height - 30, this.sprite.x = -Math.floor(this.body.width / 2);
            var i = t + "/walk/";
            this.walkTween = [], this.walkTween.push(new o.TweenController(this.body));
            for (var a = [], n = 0; n < e; n++) a.push(i + "body-" + n);
            this.walkTween[0].set("frameName", a, 80, 9999), this.standTween = this.walkTween;
        }, e.prototype.createLizard = function(t) {
            var e = s.Util.isValid(this.itemData.numStandAnimFrames) ? this.itemData.numStandAnimFrames : 0, i = t + "/walk/", a = t + "/idle/", n = [], r = [];
            if (this.walkTween = [], this.standTween = [], this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), 
            this.tail = this.sprite.add(this.game.prodigy.create.sprite(-16, 6, "atlas-29", t + "/walk/tail-0")), 
            this.head = this.sprite.add(this.game.prodigy.create.sprite(22, 0, "atlas-29", t + "/walk/head-0")), 
            this.head._defaultVisibility = {
                walk: !0,
                stand: !1
            }, this.sprite.y = -this.body.height, this.sprite.x = -Math.floor(this.body.width / 2), 
            this.walkTween.push(new o.TweenController(this.body)), this.walkTween[0].set("frameName", [ i + "body-0", i + "body-1", i + "body-2", i + "body-3" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.tail)), this.walkTween[1].set("frameName", [ i + "tail-0", i + "tail-1" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.head)), this.walkTween[2].set("y", [ this.tail.y, this.tail.y - 1 ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.head)), this.walkTween[3].set("y", [ this.head.y, this.head.y + 1 ], 150, 9999), 
            e > 0) {
                this.standTween.push(new o.TweenController(this.body)), this.standTween.push(new o.TweenController(this.tail));
                for (var l = 0; l < e; l++) n.push(a + "body-" + l), r.push(a + "tail-" + l);
                this.standTween[0].set("frameName", n, 150, 9999), this.standTween[1].set("frameName", r, 150, 9999);
            }
        }, e.prototype.createTurtle = function(t, e) {
            var i = s.Util.isValid(e) ? e : {};
            s.Util.isValid(i.body) || (i.body = {
                x: 0,
                y: 0
            }), s.Util.isValid(i.legs) || (i.legs = {
                x: 0,
                y: 0
            }), this.body = this.sprite.add(this.game.prodigy.create.sprite(i.body.x, i.body.y, "atlas-29", t + "/walk/body-0")), 
            this.legs = this.sprite.add(this.game.prodigy.create.sprite(i.legs.x, i.legs.y + this.body.height, "atlas-29", t + "/walk/legs-0")), 
            this.sprite.y = -(this.body.height + this.legs.height), this.sprite.x = -Math.floor(this.body.width / 2);
            var a = t + "/walk/";
            this.walkTween = [], this.walkTween.push(new o.TweenController(this.body)), 
            this.walkTween[0].set("frameName", [ a + "body-0" ], 150, 9999), this.walkTween.push(new o.TweenController(this.legs)), 
            this.walkTween[1].set("frameName", [ a + "legs-0", a + "legs-1", a + "legs-2", a + "legs-3" ], 150, 9999), 
            this.standTween = [];
        }, e.prototype.createReindeer = function(t) {
            this.body = this.sprite.add(this.game.prodigy.create.sprite(7, 0, "atlas-29", t + "/walk/body-0")), 
            this.legs = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/legs-0")), 
            this.tail = this.sprite.add(this.game.prodigy.create.sprite(0, 26, "atlas-29", t + "/walk/tail-0")), 
            this.body._defaults = {
                walk: [ 3, 0 ],
                stand: [ 7, 0 ]
            }, this.legs._defaults = {
                walk: [ 3, 32 ],
                stand: [ 0, 0 ]
            }, this.tail._defaults = {
                walk: [ 0, 18 ],
                stand: [ 0, 26 ]
            }, this.sprite.y = -(this.body.height + this.legs.height), this.sprite.x = -Math.floor(this.body.width / 2);
            var e = t + "/walk/";
            this.walkTween = [], this.setSpriteDefaults("walk"), this.walkTween.push(new o.TweenController(this.body)), 
            this.walkTween[0].set("frameName", [ e + "body-0" ], 150, 9999), this.walkTween.push(new o.TweenController(this.legs)), 
            this.walkTween[1].set("frameName", [ e + "legs-0", e + "legs-1", e + "legs-2", e + "legs-3" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.tail)), this.walkTween[2].set("frameName", [ e + "tail-0", e + "tail-1", e + "tail-0", e + "tail-1" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.body)), this.walkTween[3].set("y", [ this.body.y, this.body.y + 1, this.body.y, this.body.y + 1 ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.tail)), this.walkTween[4].set("y", [ this.tail.y, this.tail.y + 1, this.tail.y, this.tail.y + 1 ], 150, 9999);
            var i = t + "/idle/";
            this.standTween = [], this.setSpriteDefaults("stand"), this.standTween.push(new o.TweenController(this.body)), 
            this.standTween[0].set("frameName", [ i + "body-0" ], 150, 9999), this.standTween.push(new o.TweenController(this.tail)), 
            this.standTween[1].set("frameName", [ i + "tail-0", i + "tail-2", i + "tail-1", i + "tail-2" ], 150, 9999);
        }, e.prototype.createPenguin = function(t) {
            this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), 
            this.head = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/head-0")), 
            this.body._defaults = {
                walk: [ 0, 0 ],
                stand: [ 0, 0 ]
            }, this.head._defaults = {
                walk: [ 8, -15 ],
                stand: [ 5, -15 ]
            }, this.sprite.y = -this.body.height, this.sprite.x = -Math.floor(this.body.width / 2);
            var e = t + "/walk/";
            this.walkTween = [], this.setSpriteDefaults("walk"), this.walkTween.push(new o.TweenController(this.body)), 
            this.walkTween[0].set("frameName", [ e + "body-0", e + "body-1", e + "body-2", e + "body-3" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.head)), this.walkTween[1].set("frameName", [ e + "head-0" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.head)), this.walkTween[2].set("y", [ this.head.y, this.head.y + 1, this.head.y, this.head.y + 1 ], 150, 9999);
            var i = t + "/idle/";
            this.standTween = [], this.setSpriteDefaults("stand"), this.standTween.push(new o.TweenController(this.body)), 
            this.standTween[0].set("frameName", [ i + "body-0", i + "body-1", i + "body-2" ], 150, 9999), 
            this.standTween.push(new o.TweenController(this.head)), this.standTween[1].set("frameName", [ i + "head-0" ], 150, 9999);
        }, e.prototype.createSnowman = function(t) {
            this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), 
            this.head = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/head-0")), 
            this.body._defaults = {
                walk: [ 0, 0 ],
                stand: [ 0, 0 ]
            }, this.head._defaults = {
                walk: [ 8, -17 ],
                stand: [ 8, -18 ]
            }, this.sprite.y = -this.body.height, this.sprite.x = -Math.floor(this.body.width / 2);
            var e = t + "/walk/";
            this.walkTween = [], this.setSpriteDefaults("walk"), this.walkTween.push(new o.TweenController(this.body)), 
            this.walkTween[0].set("frameName", [ e + "body-0", e + "body-1", e + "body-2", e + "body-3" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.head)), this.walkTween[1].set("frameName", [ e + "head-0" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.head)), this.walkTween[2].set("x", [ this.head.x, this.head.x + 1, this.head.x + 2, this.head.x + 1 ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.head)), this.walkTween[3].set("y", [ this.head.y, this.head.y - 1, this.head.y - 1, this.head.y ], 150, 9999);
            var i = t + "/idle/";
            this.standTween = [], this.setSpriteDefaults("stand"), this.standTween.push(new o.TweenController(this.body)), 
            this.standTween[0].set("frameName", [ i + "body-0", i + "body-1", i + "body-1", i + "body-0" ], 150, 9999), 
            this.standTween.push(new o.TweenController(this.head)), this.standTween[1].set("frameName", [ i + "head-0" ], 150, 9999), 
            this.standTween.push(new o.TweenController(this.head)), this.standTween[2].set("y", [ this.head.y, this.head.y - 1, this.head.y - 2, this.head.y - 1 ], 150, 9999);
        }, e.prototype.createPanda = function(t) {
            var e = t + "/walk/", i = t + "/idle/";
            this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", e + "body-0")), 
            this.sprite.y = -this.body.height, this.sprite.x = -Math.floor(this.body.width / 2), 
            this.walkTween = [ new o.TweenController(this.body) ], this.walkTween[this.walkTween.length - 1].set("frameName", [ e + "body-0", e + "body-1", e + "body-2", e + "body-3" ], 150, 9999), 
            this.standTween = [ new o.TweenController(this.body) ], this.standTween[this.standTween.length - 1].set("frameName", [ i + "body-0", i + "body-1", i + "body-2" ], 150, 9999);
        }, e.prototype.createSheep = function(t) {
            var e = t + "/walk/", i = t + "/idle/";
            this.walkTween = [], this.standTween = [], this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", e + "body-0")), 
            this.legs = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", e + "shadow-0")), 
            this.legs._defaults = {
                walk: [ 15, 43 ],
                stand: [ 13, 29 ]
            }, this.legs._defaultAnims = {
                walk: e + "shadow-0",
                stand: i + "legs-0"
            }, this.legs._defaultVisibility = {
                walk: !0,
                stand: !0
            }, this.sprite.y = -(this.body.height + this.legs.height), this.sprite.x = -Math.floor(this.body.width / 2), 
            this.walkTween.push(new o.TweenController(this.body)), this.walkTween[this.walkTween.length - 1].set("frameName", [ e + "body-0", e + "body-1", e + "body-1", e + "body-0" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.body)), this.walkTween[this.walkTween.length - 1].set("y", [ this.body.y, this.body.y - 1, this.body.y - 2, this.body.y - 1 ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.legs)), this.walkTween[this.walkTween.length - 1].set("frameName", [ e + "shadow-0" ], 150, 9999), 
            this.standTween.push(new o.TweenController(this.body)), this.standTween[this.standTween.length - 1].set("frameName", [ i + "body-0", i + "body-0", i + "body-1", i + "body-1" ], 150, 9999), 
            this.standTween.push(new o.TweenController(this.body)), this.standTween[this.standTween.length - 1].set("y", [ this.body.y, this.body.y - 1, this.body.y, this.body.y + 1 ], 150, 9999), 
            this.standTween.push(new o.TweenController(this.legs)), this.standTween[this.standTween.length - 1].set("frameName", [ i + "legs-0", i + "legs-1", i + "legs-2", i + "legs-3" ], 150, 9999), 
            this.setSpriteDefaults("walk"), this.setSpriteDefaults("stand");
        }, e.prototype.createCactus = function(t) {
            var e = t + "/walk/", i = t + "/idle/";
            this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", e + "body-0")), 
            this.head = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", e + "flower-0")), 
            this.head._defaults = {
                walk: [ 11, -17 ],
                stand: [ 11, -17 ]
            }, this.head._defaultAnims = {
                walk: e + "flower-0",
                stand: i + "flower-0"
            }, this.sprite.y = -this.body.height, this.sprite.x = -Math.floor(this.body.width / 2), 
            this.walkTween = [], this.standTween = [], this.walkTween.push(new o.TweenController(this.body)), 
            this.walkTween[this.walkTween.length - 1].set("frameName", [ e + "body-0", e + "body-1", e + "body-2", e + "body-3" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.head)), this.walkTween[this.walkTween.length - 1].set("frameName", [ e + "flower-0", e + "flower-1", e + "flower-2", e + "flower-3" ], 150, 9999), 
            this.standTween.push(new o.TweenController(this.body)), this.standTween[this.standTween.length - 1].set("frameName", [ i + "body-0", i + "body-1", i + "body-2", i + "body-3" ], 150, 9999), 
            this.standTween.push(new o.TweenController(this.head)), this.standTween[this.standTween.length - 1].set("frameName", [ i + "flower-0", i + "flower-1", i + "flower-2", i + "flower-3" ], 150, 9999), 
            this.setSpriteDefaults("walk"), this.setSpriteDefaults("stand");
        }, e.prototype.createFox = function(t) {
            var e = t + "/walk/", i = t + "/idle/";
            this.tail = this.sprite.add(this.game.prodigy.create.sprite(0, 14, "atlas-29", t + "/walk/tail-0")), 
            this.body = this.sprite.add(this.game.prodigy.create.sprite(19, 0, "atlas-29", t + "/walk/body-0")), 
            this.legs = this.sprite.add(this.game.prodigy.create.sprite(18, 30, "atlas-29", t + "/walk/legs-0")), 
            this.tail._defaults = {
                walk: [ 0, 14 ],
                stand: [ 0, 13 ]
            }, this.body._defaults = {
                walk: [ 19, 0 ],
                stand: [ 13, 0 ]
            }, this.legs._defaults = {
                walk: [ 18, 30 ],
                stand: [ 0, 0 ]
            }, this.sprite.y = -this.body.height - this.legs.height, this.sprite.x = -Math.floor(.5 * this.body.width), 
            this.standTween = [], this.walkTween = [];
            for (var a = [], n = Math.round(2350 / 150), r = 0; r < n; r++) a.push(i + "body-0");
            a.push(i + "body-1");
            var s = [], l = Math.round(850 / 150);
            for (r = 0; r < l; r++) s.push(i + "tail-0");
            s.push(i + "tail-1"), this.standTween.push(new o.TweenController(this.body)), 
            this.standTween[this.standTween.length - 1].set("frameName", a, 150, 9999), 
            this.standTween.push(new o.TweenController(this.tail)), this.standTween[this.standTween.length - 1].set("frameName", s, 150, 9999), 
            this.walkTween.push(new o.TweenController(this.body)), this.walkTween[this.walkTween.length - 1].set("y", [ this.body.y, this.body.y + 1 ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.legs)), this.walkTween[this.walkTween.length - 1].set("frameName", [ e + "legs-0", e + "legs-1", e + "legs-2", e + "legs-3" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.tail)), this.walkTween[this.walkTween.length - 1].set("frameName", [ e + "tail-0", e + "tail-1" ], 150, 9999), 
            this.walkTween.push(new o.TweenController(this.tail)), this.walkTween[this.walkTween.length - 1].set("y", [ this.tail.y, this.tail.y + 1 ], 150, 9999), 
            this.setSpriteDefaults("stand"), this.setSpriteDefaults("walk");
        }, e.prototype.update = function() {
            if (t.prototype.update.call(this), this.complete) {
                if (s.Util.isValid(this.tweens)) for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update();
                if (s.Util.isValid(this.player)) {
                    var i = this.coords[this.coords.length - 1], a = Math.round(this.player.x), n = Math.round(this.player.y);
                    s.Util.isValid(i) && i.x === this.player.x && i.y === this.player.y || this.coords.push({
                        x: a,
                        y: n
                    }), this.coords.length > 20 || this.x <= 0 && this.y <= 0 ? (this.x < this.coords[0].x ? this.sprites.scale.x = 1 : this.x > this.coords[0].x && (this.sprites.scale.x = -1), 
                    this.x = this.coords[0].x, this.y = this.coords[0].y, this.walk(), 
                    this.coords.splice(0, 1)) : this.stand();
                }
            }
        }, e.prototype.walk = function() {
            if (0 !== this.mode) {
                this.mode = 0, s.Util.isValid(this.legs) && (this.legs.visible = !0), 
                s.Util.isValid(this.body) && (this.body.frameName = this.itemData.tag + "/walk/body-0"), 
                this.setSpriteDefaults("walk"), this.tweens = this.walkTween;
                for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start();
            }
        }, e.prototype.stand = function() {
            if (1 !== this.mode) {
                this.mode = 1, s.Util.isValid(this.legs) && (this.legs.visible = !1), 
                s.Util.isValid(this.body) && (this.body.frameName = this.itemData.tag + "/idle/body-0"), 
                this.setSpriteDefaults("stand"), this.tweens = this.standTween;
                for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start();
            }
        }, e;
    }(i(14).CreatureContainer);
    e.Pet = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(4), r = i(0), s = function(t) {
        function e(e, i, a, n, r, s) {
            var l = t.call(this, e, i, a, n, r, s, !0, null) || this;
            return l.monsterAsset = o.Items.getItem("pet", l.source.data.ID).metadata.assets.default, 
            l;
        }
        return n(e, t), e.prototype.startLoad = function() {
            t.prototype.startLoad.call(this), this.loading = !0, this.assets = [ "spine-" + this.monsterAsset.ID ], 
            this.game.prodigy.load.assets(this.assets, this.setup.bind(this));
        }, e.prototype.walk = function() {
            this.spine.setToSetupPose(), this.spine.setAnimationByName(0, "walk", !0), 
            this.mode = 0;
        }, e.prototype.stand = function() {
            this.spine.setToSetupPose(), this.spine.setAnimationByName(0, "idle", !0), 
            this.mode = 1;
        }, e.prototype.attack = function() {
            var t = this;
            setTimeout(function() {
                t.spine.setToSetupPose(), t.spine.setAnimationByName(0, "attack", !1), 
                t.spine.onComplete.addOnce(t.stand.bind(t));
            }, 10);
        }, e.prototype.setup = function(t, e) {
            r.Util.isValid(this.game) && (!r.Util.isValid(e) || e) && r.Util.isValid(this.assets) && (this.sprites.removeAll(!0), 
            this.battleScale = r.Util.isValid(this.monsterAsset.battleScale) ? this.monsterAsset.battleScale : 1, 
            this.spine = this.game.add.spine(0, 0, this.assets[0]), this.spine.setToSetupPose(), 
            this.spine.setAnimationByName(0, "idle", !0), this.spine.scale.x = r.Util.isValid(this.monsterAsset.flip) && this.monsterAsset.flip ? -1 : 1, 
            this.sprites.add(this.spine), this.complete = !0, this.loading = !1, 
            r.Util.isValid(this.loadedCallback) && this.loadedCallback(this));
        }, e;
    }(i(22).MonsterContainer);
    e.MonsterSpineContainer = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(5), s = i(64), l = i(188), h = i(50), c = i(32), p = i(4), u = i(13), d = i(0), g = i(198), y = function(t) {
        function e(e, i, a, n, r, s, l) {
            void 0 === r && (r = {});
            var h = t.call(this, e, i, a, n) || this;
            if (h.owned = !1, h.price = 0, d.Util.isValid(r.data) || (r.data = {}), 
            h.itemObject = r, d.Util.isValid(r.ID) && (h.ID = r.ID), d.Util.isValid(r.type) && (h.itemType = r.type), 
            d.Util.isValid(r.N) && (h.N = r.N), d.Util.isValid(s) && (h.mode = s), 
            h.onClick = l, h.drawCard(h.mode), o.GameConstants.get("GameConstants.Build.DEBUG") && d.Util.isValid(h.itemObject.ID) && d.Util.isValid(h.itemObject.type)) {
                var c = p.Items.getItem(h.itemType, h.ID);
                h.game.prodigy.automation.addTrigger({
                    ID: "autoclick-" + c.data.name,
                    context: h,
                    callback: h.onAutoClick.bind(h)
                });
            }
            return h.onDestroy.add(h.handleDestroy.bind(h)), h;
        }
        return n(e, t), e.prototype.onAutoClick = function() {
            return {
                x: this.panel.worldPosition.x,
                y: this.panel.worldPosition.y
            };
        }, e.prototype.handleDestroy = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && d.Util.isValid(this.itemObject.ID) && d.Util.isValid(this.itemObject.type) && this.game.prodigy.automation.removeAllTriggers(this);
        }, e.prototype.drawCard = function(t) {
            var e = {
                data: {}
            };
            switch (e = "gold" === this.itemType || "bounty" === this.itemType ? {
                type: this.itemType
            } : "spell" === this.itemType ? this.game.prodigy.attacks.getAttack(this.ID) : p.Items.getItem(this.itemType, this.ID), 
            "pet" === this.itemType && (e.data.nickname = d.Util.isValid(e.data.name) ? e.data.name : this.itemObject.data.nickname), 
            t) {
              case c.EItemInfoMode.Icon:
                this.createSmall(e, !0);
                break;

              case c.EItemInfoMode.IconNoBackground:
                this.createSmall(e, !1);
                break;

              case c.EItemInfoMode.Inventory:
                this.createInventory(e);
                break;

              case c.EItemInfoMode.Store:
                this.createStore(e);
                break;

              case c.EItemInfoMode.Card:
                this.createCard(e);
                break;

              case c.EItemInfoMode.Info:
                this.createLarge(e);
                break;

              case c.EItemInfoMode.StylistCard:
                this.createStylistCard(e);
            }
        }, e.prototype.createPanel = function(t, e, i, a, n) {
            if (d.Util.isValid(this.panel) && this.panel.destroy(), d.Util.isValid(n)) this.panel = this.game.prodigy.create.panel(this, 0, 0, i, a, n); else if ("gold" === this.itemType || "bounty" === this.itemType) this.panel = this.game.prodigy.create.panel(this, 0, 0, i, a, "item-currency"); else if ("spell" === this.itemType) this.panel = this.game.prodigy.create.panel(this, 0, 0, i, a, "item-" + this.itemType); else if ("item" === this.itemType && !d.Util.isValid(e) || "fossil" === this.itemType || "currency" === this.itemType || "giftBox" === this.itemType || "gender" === this.itemType || "hairColor" === this.itemType || "eyeColor" === this.itemType || "skinColor" === this.itemType || "hair" === this.itemType || "face" === this.itemType) this.panel = this.game.prodigy.create.panel(this, 0, 0, i, a, "item-common"); else if (d.Util.isValid(e)) {
                var o = null;
                switch (e) {
                  case 0:
                    o = "common";
                    break;

                  case 1:
                    o = "uncommon";
                    break;

                  case 2:
                    o = "rare";
                    break;

                  case 3:
                    o = "epic";
                    break;

                  case 4:
                    o = "legend";
                    break;

                  default:
                    o = "common";
                }
                this.panel = this.game.prodigy.create.panel(this, 0, 0, i, a, "item-" + o);
            } else this.panel = this.game.prodigy.create.panel(this, 0, 0, i, a, "empty");
            d.Util.isValid(this.onClick) && this.panel.setClickable(this.clicked.bind(this));
        }, e.prototype.createSmall = function(t, e) {
            this.panel = this.game.prodigy.create.element(this, 0, 0);
            var i = d.Util.isValid(t), a = null, n = null, o = {
                x: 0,
                y: 0
            };
            if (d.Util.isValid(e) && !e || (n = this.game.prodigy.create.sprite(0, 0, "atlas-18", i ? "white-icon" : "empty-icon"), 
            this.panel.add(n), o.x = 10, o.y = 10), i ? a = this.game.prodigy.icon.createFromDataAdvanced(t, this.panel, o.x, o.y) : (a = this.game.prodigy.create.sprite(o.x, o.y, "atlas-21", "empty-" + this.itemType)).alpha = .6, 
            this.panel.add(a), d.Util.isValid(this.onClick)) {
                var r = null;
                d.Util.isValid(n) ? r = n : a instanceof s.Sprite && (r = a), d.Util.isValid(r) && (r.inputEnabled = !0, 
                r.events.onInputDown.add(this.clicked.bind(this)));
            }
        }, e.prototype.createMedium = function(t) {
            if (d.Util.isValid(t)) {
                d.Util.isValid(t.data) || (t.data = {}), this.createPanel(null, t.data.rarity, 4, 5);
                var e = this.game.prodigy.create.font(this, 10, 0, t.data.name, {
                    width: 140,
                    size: 16,
                    align: "center",
                    lineHeight: 18
                });
                if (e.y = e.lines > 1 ? 2 : 8, e.lines > 2 && (e.destroy(), (e = this.game.prodigy.create.font(this, 10, 0, t.data.name, {
                    width: 180,
                    size: 16,
                    align: "center",
                    lineHeight: 18
                })).y = 2, e.width = 130), "gold" === this.itemType ? (this.panel.add(this.game.prodigy.icon.gold(50, 70)), 
                e.setText(this.game.prodigy.gameContainer.Localizer.getText("CURRENCY_GOLD_COINS"))) : "giftBox" === this.itemType ? (this.panel.add(this.game.prodigy.create.sprite(40, 60, "atlas-28", "conjure-cube-icon")), 
                e.setText("Conjure Cube")) : "bounty" === this.itemType ? (this.panel.add(this.game.prodigy.create.sprite(40, 50, "atlas-21", "bounty")), 
                e.setText(this.game.prodigy.gameContainer.Localizer.getText("CURRENCY_BOUNTY_POINTS"))) : "spell" === this.itemType ? this.game.prodigy.icon.createFromDataAdvanced(t, this.panel, 40, 70) : "item" === this.itemType && d.Util.isValid(t.type) && "potion" === t.type ? this.game.prodigy.icon.createFromDataAdvanced({
                    type: this.itemType,
                    ID: this.ID
                }, this.panel, 40, 60) : "gender" === this.itemType || "hairColor" === this.itemType || "eyeColor" === this.itemType || "skinColor" === this.itemType || "hair" === this.itemType || "face" === this.itemType ? this.panel.add(this.game.prodigy.icon.createFromData(t, 40, 50, null, this.onTextureLoaded.bind(this))) : (this.game.prodigy.icon.createFromDataAdvanced(t, this.panel, 40, 50), 
                "pet" === this.itemType && d.Util.isValid(t.data.nickname) && e.setText(t.data.nickname)), 
                "gold" === this.itemType || "bounty" === this.itemType) this.game.prodigy.create.font(this.panel, 0, 165, "" + this.N, {
                    width: 160,
                    align: "center"
                }); else if (this.N > 1) {
                    "currency" !== this.itemType && this.panel.add(this.game.prodigy.create.sprite(10, 150, "atlas-21", "mail-empty"));
                    var i = d.Util.isValid(this.N) ? String(this.N) : "99";
                    "currency" === this.itemType ? this.game.prodigy.create.font(this.panel, 0, 165, i, {
                        width: 160,
                        align: "center"
                    }) : this.game.prodigy.create.font(this.panel, 10, 155, i, {
                        width: 40,
                        align: "center"
                    });
                }
            }
        }, e.prototype.onTextureLoaded = function(t) {
            if (d.Util.isValid(t)) {
                var e = d.Util.getCenteredXY(t.width, t.height, 0, 0, this.panel.width, this.panel.height);
                t.x = e.x, t.y = e.y;
            }
        }, e.prototype.createLarge = function(t) {
            if (d.Util.isValid(t)) {
                this.createPanel(null, t.data.rarity, 17, 9);
                var e = new Phaser.TileSprite(this.game, 3, 40, 230, 280, "atlas-161", "overlay-small");
                e.alpha = .1, this.panel.add(e);
                var i = p.Items.getItem(t.type, t.ID).data, a = "item" === t.type && d.Util.isValid(i.effect) && d.Util.isValid(i.effect.transform);
                if (this.game.prodigy.create.font(this, 0, 0, t.data.name, {
                    fontID: 9,
                    size: 36,
                    width: 680,
                    align: "center"
                }), "gender" === t.type || "hair" === t.type || "eyeColor" === t.type || "skinColor" === t.type || "hairColor" === t.type || "outfit" === t.type || "hat" === t.type || "weapon" === t.type || "face" === t.type || a) {
                    var n = this.createCharacter(t, 40, 40, !1);
                    a && this.transformEffect(i, n);
                } else if ("follow" === t.type) {
                    var o = this.game.prodigy.create.element(this.panel, 120, 160);
                    this.followContainer = this.game.prodigy.create.follow(this.panel, t.ID, 1, o, null), 
                    d.Util.isValid(this.followContainer.reload) && this.followContainer.reload();
                } else this.game.prodigy.icon.createFromDataAdvanced(t, this.panel, 80, 80);
                this.game.prodigy.create.font(this.panel, 260, 60, t.data.flavorText, {
                    size: 20,
                    fontID: 8,
                    width: 400,
                    lineHeight: 30
                }), this.checkForItemAffixes(t);
            }
        }, e.prototype.transformEffect = function(t, e) {
            if (d.Util.isValid(this.game) && d.Util.isValid(e)) {
                var i = t.effect, a = this.game.prodigy.event.create();
                a.delay(500), a.function(e.transformToItem.bind(e, i.transform, i.ID, !0)), 
                a.delay(5e3), a.function(e.resetItemTransformation.bind(e, !0)), 
                a.delay(1e3), a.function(this.transformEffect.bind(this, t, e)), 
                a.start();
            }
        }, e.prototype.checkForItemAffixes = function(t) {
            if (d.Util.isValid(t.data.effects) && t.data.effects.length > 0) {
                var e = p.Items.getItem("affix", t.data.effects[0]).data;
                if (d.Util.isValid(e)) {
                    var i = String(e.label) + String(e.value);
                    this.game.prodigy.create.font(this, 260, 265, i, {
                        size: 36,
                        width: 400,
                        fontID: 9
                    });
                }
            } else d.Util.isValid(t.data.effect) && (d.Util.isValid(t.data.effect.hp) ? this.game.prodigy.create.font(this, 260, 265, this.game.prodigy.gameContainer.Localizer.getText("ITEM_HEAL_HP", t.data.effect.hp), {
                size: 36,
                width: 400,
                fontID: 9
            }) : d.Util.isValid(t.data.type) && "potion" === t.data.type && this.game.prodigy.create.font(this, 260, 235, t.data.effect, {
                size: 36,
                width: 400,
                fontID: 9
            }));
        }, e.prototype.createInventory = function(t) {
            if (!d.Util.isValid(t)) return null;
            this.createMedium(t), 1 !== this.itemObject.L || this.game.prodigy.player.hasMembership() || this.panel.add(this.game.prodigy.create.sprite(110, 150, "atlas-21", "mail-member")), 
            this.game.prodigy.player.equipment.getEquipment(this.itemType) === t.ID && this.panel.add(this.game.prodigy.create.sprite(4, 40, "atlas-18", "ribbon"));
        }, e.prototype.createCard = function(t) {
            if (d.Util.isValid(t) && (this.createMedium(t), t.data.member > 0 && !this.game.prodigy.player.hasMembership())) {
                if (d.Util.isValid(t.isGift) && t.isGift) return null;
                this.panel.add(this.game.prodigy.create.sprite(110, 150, "atlas-21", "mail-member"));
            }
        }, e.prototype.createStylistCard = function(t) {
            if (!d.Util.isValid(t)) return null;
            this.createCharacter(t, 0, 0, !0), t.data.member > 0 && !this.game.prodigy.player.hasMembership() && (d.Util.isValid(t.isGift) && t.isGift || this.panel.add(this.game.prodigy.create.sprite(110, 150, "atlas-21", "mail-member")));
        }, e.prototype.createCharacter = function(t, e, i, a) {
            if (!d.Util.isValid(t)) return null;
            a && this.game.prodigy.create.panel(this, e, i, 4, 5, "shine");
            var n = new u.Player(this.game), o = new g.UserEquipment(this.game, this, e - 88, i - 75, n, 1, !1);
            return this.resetPlayer(n, o, t), o.user;
        }, e.prototype.resetPlayer = function(t, e, i) {
            var a = this.game.prodigy.player.appearance.getGender(), n = this.game.prodigy.player.appearance.getHair(), o = n.color, r = n.style, s = this.game.prodigy.player.appearance.getEyeColor(), l = this.game.prodigy.player.appearance.getSkinColor(), h = this.game.prodigy.player.appearance.getFace(), c = this.game.prodigy.player.equipment.getEquipment("outfit"), p = this.game.prodigy.player.equipment.getEquipment("hat"), u = this.game.prodigy.player.equipment.getEquipment("weapon");
            "gender" === i.type ? (a = 1 === i.ID ? "male" : "female", h = 1 === i.ID ? 4 : 12) : "hair" === i.type ? r = i.ID : "eyeColor" === i.type ? s = i.ID : "skinColor" === i.type ? l = i.ID : "hairColor" === i.type ? o = i.ID : "face" === i.type ? h = i.ID : "outfit" === i.type ? c = i.ID : "hat" === i.type ? p = i.ID : "weapon" === i.type && (u = i.ID, 
            e.user.forceWeaponVisual = !0), t.appearance.setGender(a), t.appearance.setHair(r, o), 
            t.appearance.setEyeColor(s), t.appearance.setSkinColor(l), t.appearance.setFace(h), 
            t.equipment.setEquipment({
                outfit: c,
                hat: p,
                weapon: u
            }), t.appearanceChanged = !0, e.user.reload();
        }, e.prototype.createStore = function(t) {
            if (!d.Util.isValid(t)) return null;
            this.createMedium(t);
            var e = this.game.prodigy.player.backpack.hasItem(this.itemType, this.ID);
            if (this.owned = e > 0, "dorm" === this.itemType) this.owned = this.game.prodigy.player.house.getOwned(this.ID) >= 9; else if ("pet" === this.itemType) this.owned = this.game.prodigy.player.kennel.hasPet(this.ID); else if ("dormbg" === this.itemType) this.owned = this.game.prodigy.player.house.getCurrentHouseTag() === t.data.tag; else if ("gender" === this.itemType) {
                this.owned = {
                    male: 1,
                    female: 2
                }[this.game.prodigy.player.appearance.getGender()] === this.ID;
            } else "hair" === this.itemType ? this.owned = this.game.prodigy.player.appearance.getHair().style === this.ID : "eyeColor" === this.itemType ? this.owned = this.game.prodigy.player.appearance.getEyeColor() === this.ID : "skinColor" === this.itemType ? this.owned = this.game.prodigy.player.appearance.getSkinColor() === this.ID : "hairColor" === this.itemType ? this.owned = this.game.prodigy.player.appearance.getHair().color === this.ID : "face" === this.itemType && (this.owned = this.game.prodigy.player.appearance.getFace() === this.ID);
            this.cost = this.itemObject.cost;
            var i = "[mail-gold] ";
            if ("currency" === this.cost.type && 1 === this.cost.ID || (i = "[" + p.Items.getItem(this.cost.type, this.cost.ID).data.icon + "] "), 
            "item" === this.itemType && e >= 99 || "item" !== this.itemType && this.owned) {
                var a = void 0;
                a = "dorm" === this.itemType || e >= 99 ? this.game.prodigy.gameContainer.Localizer.getText("ITEM_MAX") : "gender" === this.itemType || "hair" === this.itemType || "eyeColor" === this.itemType || "skinColor" === this.itemType || "hairColor" === this.itemType || "face" === this.itemType ? this.game.prodigy.gameContainer.Localizer.getText("ITEM_CURRENT") : this.game.prodigy.gameContainer.Localizer.getText("ITEM_OWNED"), 
                this.game.prodigy.create.font(this.panel, 10, 166, a, {
                    size: 20
                });
            } else this.cost.N <= 0 ? this.game.prodigy.create.font(this.panel, 10, 166, this.game.prodigy.gameContainer.Localizer.getText("ITEM_FREE"), {
                size: 20
            }) : this.game.prodigy.create.font(this.panel, 6, 166, i + d.Util.numberToString(this.cost.N), {
                size: 20
            });
            t.data.member > 0 && this.panel.add(this.game.prodigy.create.sprite(120, 160, "atlas-21", "mail-member"));
        }, e.prototype.clicked = function() {
            d.Util.isValid(this.onClick) && this.onClick({
                type: this.itemType,
                ID: this.ID
            }, this.owned, this.price);
        }, e.prototype.update = function() {
            if (t.prototype.update.call(this), d.Util.isValid(this.followContainer)) {
                if (d.Util.isValid(this.followContainer.player) && (this.followContainer.player = null), 
                d.Util.isValid(this.followContainer.findComponent) && !d.Util.isValid(this.renderComponent)) {
                    var e = this.followContainer.findComponent(l.Follow);
                    d.Util.isValid(e) && this.followContainer.removeComponent(e), 
                    d.Util.isValid(this.followContainer.findComponent(h.Renderer)) && (this.renderComponent = this.followContainer.findComponent(h.Renderer));
                }
                if (d.Util.isValid(this.itemContainerWalking) || (this.itemContainerWalking = !0), 
                !d.Util.isValid(this.itemContainerAnimDuration) || this.itemContainerAnimDuration <= 0) {
                    this.itemContainerAnimDuration = 0;
                    var i = !1;
                    this.itemContainerWalking ? d.Util.isValid(this.followContainer._tweens) && d.Util.isValid(this.followContainer._standTween) ? (this.followContainer.stand(), 
                    i = !0) : d.Util.isValid(this.renderComponent) && (this.renderComponent.playAnimation("idle", !0), 
                    i = !0) : d.Util.isValid(this.followContainer._tweens) && d.Util.isValid(this.followContainer._standTween) ? (this.followContainer.walk(), 
                    i = !0) : d.Util.isValid(this.renderComponent) && (this.renderComponent.playAnimation("walk", !0), 
                    i = !0), i && (this.itemContainerAnimDuration = 3e3 * Math.random() + 1e3, 
                    this.itemContainerWalking = !this.itemContainerWalking);
                }
                d.Util.isValid(this.followTimer) || (this.followTimer = new Phaser.Time(this.game)), 
                this.itemContainerAnimDuration -= this.followTimer.physicsElapsedMS;
            }
        }, e;
    }(r.Element);
    e.ItemContainer = y;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(0), s = function(t) {
        function e(e, i, a, n, r, s) {
            var l = t.call(this, e, i, a, n, r.x, r.y - 1, !1, s) || this;
            return l.coordinates = [], l.elementToFollow = r, o.GameConstants.get("GameConstants.Build.DEBUG") && l.game.prodigy.automation.addTrigger({
                ID: "autoclick-follow-" + a.data.ID,
                context: l,
                callback: l.onAddTrigger.bind(l)
            }), l.onDestroy.add(l.handleDestroy.bind(l)), l;
        }
        return n(e, t), e.prototype.onAddTrigger = function() {
            return {
                x: this.x,
                y: this.y
            };
        }, e.prototype.handleDestroy = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this);
        }, e.prototype.update = function() {
            if (t.prototype.update.call(this), r.Util.isValid(this.elementToFollow)) {
                var e = this.coordinates[this.coordinates.length - 1], i = Math.round(this.elementToFollow.x), a = Math.round(this.elementToFollow.y);
                r.Util.isValid(e) && e.x === this.elementToFollow.x && e.y === this.elementToFollow.y || this.coordinates.push({
                    x: i,
                    y: a
                }), this.coordinates.length > 50 || this.x <= 0 && this.y <= 0 ? (this.x < this.coordinates[0].x ? this.sprites.scale.x = 1 : this.x > this.coordinates[0].x && (this.sprites.scale.x = -1), 
                this.x = this.coordinates[0].x, this.y = this.coordinates[0].y, 
                this.walk(), this.coordinates.splice(0, 1)) : this.stand();
            }
        }, e;
    }(i(22).MonsterContainer);
    e.FollowContainer = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n, o) {
            return t.call(this, e, i, a, n, o) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            var t = this.game.prodigy.create.element(this.sprites, 0, 0);
            this.spine = this.game.add.spine(0, 0, "default-boss-16"), this.idle(), 
            t.add(this.spine);
        }, e.prototype.idle = function() {
            this.spine.setAnimationByName(0, "idle", !0), this.spine.setToSetupPose();
        }, e.prototype.attack = function() {
            this.spine.setAnimationByName(0, "attack", !1), this.spine.addAnimationByName(0, "idle", !0), 
            this.spine.setToSetupPose();
        }, e;
    }(i(49).BossContainer);
    e.IceWyrmBossContainer = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n, o, r) {
            var s = t.call(this, e, i, a, n, o) || this;
            return s.elementMode = r, s;
        }
        return n(e, t), e.prototype.setup = function(t) {
            if (o.Util.isValid(this.game) && t && o.Util.isValid(this.assets)) {
                if ("water" === this.elementMode || "ice" === this.elementMode || "earth" === this.elementMode) {
                    this.miniBoss = !0;
                    var e = void 0, i = void 0;
                    "ice" === this.elementMode ? (e = this.game.prodigy.create.sprite(-100, -200, "default-boss-12", "ice_cloud"), 
                    i = this.game.prodigy.create.sprite(-38, -149, "default-boss-12", "med_face_0")) : "water" === this.elementMode ? (e = this.game.prodigy.create.sprite(-100, -200, "default-boss-12", "water_cloud"), 
                    i = this.game.prodigy.create.sprite(-38, -149, "default-boss-12", "med_face_1")) : "earth" === this.elementMode && (e = this.game.prodigy.create.sprite(-100, -200, "default-boss-12", "earth_cloud"), 
                    i = this.game.prodigy.create.sprite(-38, -149, "default-boss-12", "med_face_2")), 
                    this.cloudParts = {
                        base: e,
                        eyes: i
                    }, this.floatTweens = {
                        base: [],
                        eyes: []
                    }, this.add(this.cloudParts.base), this.add(this.cloudParts.eyes), 
                    this.floatClouds(this.cloudParts.base, "base", 1400, 20), this.floatClouds(this.cloudParts.eyes, "eyes", 1400, 20);
                } else {
                    for (var a in this.waterActive = !0, this.iceActive = !0, this.earthActive = !0, 
                    this.attacks = [ 25, 26, 27, 28 ], this.coords = {
                        main: {
                            x: -200,
                            y: -200
                        },
                        unactive_water: {
                            x: 45,
                            y: -185
                        },
                        unactive_ice: {
                            x: -150,
                            y: -300
                        },
                        active: {
                            x: -300,
                            y: -100
                        },
                        unactive_earth: {
                            x: -110,
                            y: -20
                        }
                    }, this.cloudParts = {
                        base: this.game.prodigy.create.sprite(this.coords.main.x, this.coords.main.y, "default-boss-12", "main_cloud"),
                        eyes: this.game.prodigy.create.sprite(this.coords.main.x + 94, this.coords.main.y + 72, "default-boss-12", "main_eyes_1"),
                        ice_cloud: this.game.prodigy.create.sprite(this.coords.unactive_ice.x, this.coords.unactive_ice.y, "default-boss-12", "ice_cloud"),
                        ice_eyes: this.game.prodigy.create.sprite(this.coords.unactive_ice.x + 94, this.coords.unactive_ice.y + 92, "default-boss-12", "med_face_0", new Phaser.Point(.5, 1)),
                        water_cloud: this.game.prodigy.create.sprite(this.coords.unactive_water.x, this.coords.unactive_water.y, "default-boss-12", "water_cloud"),
                        water_eyes: this.game.prodigy.create.sprite(this.coords.unactive_water.x + 94, this.coords.unactive_water.y + 72 + 20, "default-boss-12", "med_face_1", new Phaser.Point(.5, 1)),
                        earth_cloud: this.game.prodigy.create.sprite(this.coords.unactive_earth.x, this.coords.unactive_earth.y, "default-boss-12", "earth_cloud"),
                        earth_eyes: this.game.prodigy.create.sprite(this.coords.unactive_earth.x + 94, this.coords.unactive_earth.y + 92, "default-boss-12", "med_face_2", new Phaser.Point(.5, 1))
                    }, this.cloudParts) this.cloudParts.hasOwnProperty(a) && this.add(this.cloudParts[a]);
                    this.floatTweens = {
                        base: [],
                        eyes: [],
                        ice_cloud: [],
                        ice_eyes: [],
                        water_cloud: [],
                        water_eyes: [],
                        earth_cloud: [],
                        earth_eyes: []
                    }, this.floatTimes = {
                        ice: 1500,
                        water: 1600,
                        earth: 1300
                    }, this.floatClouds(this.cloudParts.base, "base", 1400, 20), 
                    this.floatClouds(this.cloudParts.eyes, "eyes", 1400, 20), this.floatClouds(this.cloudParts.ice_cloud, "ice_cloud", this.floatTimes.ice, 10, !0), 
                    this.floatClouds(this.cloudParts.ice_eyes, "ice_eyes", this.floatTimes.ice, 10, !0), 
                    this.floatClouds(this.cloudParts.water_cloud, "water_cloud", this.floatTimes.water, 10, !0), 
                    this.floatClouds(this.cloudParts.water_eyes, "water_eyes", this.floatTimes.water, 10, !0), 
                    this.floatClouds(this.cloudParts.earth_cloud, "earth_cloud", this.floatTimes.earth, 10, !0), 
                    this.floatClouds(this.cloudParts.earth_eyes, "earth_eyes", this.floatTimes.earth, 10, !0), 
                    this.cloudParts.earth_eyes.scale.x = -1;
                }
                this.complete = !0, this.loading = !1;
            }
        }, e.prototype.floatClouds = function(t, e, i, a, n) {
            o.Util.isValid(this.floatTweens[e][0]) && this.floatTweens[e][0].stop(), 
            o.Util.isValid(this.floatTweens[e][1]) && this.floatTweens[e][1].stop(), 
            this.floatTweens[e][0] = this.game.add.tween(t).to({
                y: "-" + a
            }, i, Phaser.Easing.Quadratic.InOut).to({
                y: "" + a
            }, i, Phaser.Easing.Quadratic.InOut).loop().start(), n && (this.floatTweens[e][1] = this.game.add.tween(t).to({
                x: "-" + a
            }, Math.floor(i / 2), Phaser.Easing.Quadratic.InOut).to({
                x: "" + a
            }, Math.floor(i / 2), Phaser.Easing.Quadratic.InOut).loop().start());
        }, e.prototype.stormMode = function() {
            if ("storm" !== this.elementMode) {
                var t = this.game.add.tween(this.cloudParts[this.elementMode + "_cloud"]).to({
                    x: this.coords["unactive_" + this.elementMode].x,
                    y: this.coords["unactive_" + this.elementMode].y
                }, 1500, Phaser.Easing.Quadratic.InOut).start(), e = this.game.add.tween(this.cloudParts[this.elementMode + "_eyes"]).to({
                    x: this.coords["unactive_" + this.elementMode].x + 94,
                    y: this.coords["unactive_" + this.elementMode].y + 92
                }, 1500, Phaser.Easing.Quadratic.InOut).start();
                t.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_cloud"], this.elementMode + "_cloud", this.floatTimes[this.elementMode], 10, !0)), 
                e.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_eyes"], this.elementMode + "_eyes", this.floatTimes[this.elementMode], 10, !0));
            }
            this.attacks = [ 25, 26, 27, 28 ], this.elementMode = "storm", this.source.element = "storm", 
            this.source.source.element = "storm";
        }, e.prototype.iceMode = function() {
            if (this.iceActive && "ice" !== this.elementMode) {
                if ("storm" !== this.elementMode) {
                    var t = this.game.add.tween(this.cloudParts[this.elementMode + "_cloud"]).to({
                        x: this.coords["unactive_" + this.elementMode].x,
                        y: this.coords["unactive_" + this.elementMode].y
                    }, 1500, Phaser.Easing.Quadratic.InOut).start(), e = this.game.add.tween(this.cloudParts[this.elementMode + "_eyes"]).to({
                        x: this.coords["unactive_" + this.elementMode].x + 94,
                        y: this.coords["unactive_" + this.elementMode].y + 92
                    }, 1500, Phaser.Easing.Quadratic.InOut).start();
                    t.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_cloud"], this.elementMode + "_cloud", this.floatTimes[this.elementMode], 10, !0)), 
                    e.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_eyes"], this.elementMode + "_eyes", this.floatTimes[this.elementMode], 10, !0));
                }
                this.attacks = [ 19, 20, 21, 22 ], this.elementMode = "ice", this.source.element = "ice", 
                this.source.source.element = "ice";
                var i = this.game.add.tween(this.cloudParts.ice_cloud).to({
                    x: this.coords.active.x,
                    y: this.coords.active.y
                }, 1500, Phaser.Easing.Quadratic.InOut).start(), a = this.game.add.tween(this.cloudParts.ice_eyes).to({
                    x: this.coords.active.x + 94,
                    y: this.coords.active.y + 92
                }, 1500, Phaser.Easing.Quadratic.InOut).start();
                i.onComplete.add(this.float.bind(this, this.cloudParts.ice_cloud, "ice_cloud", this.floatTimes.ice, 10, !0)), 
                a.onComplete.add(this.float.bind(this, this.cloudParts.ice_eyes, "ice_eyes", this.floatTimes.ice, 10, !0));
            }
        }, e.prototype.earthMode = function() {
            if (this.earthActive && "earth" !== this.elementMode) {
                if ("storm" !== this.elementMode) {
                    var t = this.game.add.tween(this.cloudParts[this.elementMode + "_cloud"]).to({
                        x: this.coords["unactive_" + this.elementMode].x,
                        y: this.coords["unactive_" + this.elementMode].y
                    }, 1500, Phaser.Easing.Quadratic.InOut).start(), e = this.game.add.tween(this.cloudParts[this.elementMode + "_eyes"]).to({
                        x: this.coords["unactive_" + this.elementMode].x + 94,
                        y: this.coords["unactive_" + this.elementMode].y + 92
                    }, 1500, Phaser.Easing.Quadratic.InOut).start();
                    t.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_cloud"], this.elementMode + "_cloud", this.floatTimes[this.elementMode], 10, !0)), 
                    e.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_eyes"], this.elementMode + "_eyes", this.floatTimes[this.elementMode], 10, !0));
                }
                this.attacks = [ 13, 14, 15, 16 ], this.elementMode = "earth", this.source.element = "earth", 
                this.source.source.element = "earth";
                var i = this.game.add.tween(this.cloudParts.earth_cloud).to({
                    x: this.coords.active.x,
                    y: this.coords.active.y
                }, 1500, Phaser.Easing.Quadratic.InOut).start(), a = this.game.add.tween(this.cloudParts.earth_eyes).to({
                    x: this.coords.active.x + 94,
                    y: this.coords.active.y + 92
                }, 1500, Phaser.Easing.Quadratic.InOut).start();
                i.onComplete.add(this.float.bind(this, this.cloudParts.earth_cloud, "earth_cloud", this.floatTimes.earth, 10, !0)), 
                a.onComplete.add(this.float.bind(this, this.cloudParts.earth_eyes, "earth_eyes", this.floatTimes.earth, 10, !0));
            }
        }, e.prototype.waterMode = function() {
            if (this.waterActive && "water" !== this.elementMode) {
                if ("storm" !== this.elementMode) {
                    var t = this.game.add.tween(this.cloudParts[this.elementMode + "_cloud"]).to({
                        x: this.coords["unactive_" + this.elementMode].x,
                        y: this.coords["unactive_" + this.elementMode].y
                    }, 1500, Phaser.Easing.Quadratic.InOut).start(), e = this.game.add.tween(this.cloudParts[this.elementMode + "_eyes"]).to({
                        x: this.coords["unactive_" + this.elementMode].x + 94,
                        y: this.coords["unactive_" + this.elementMode].y + 92
                    }, 1500, Phaser.Easing.Quadratic.InOut).start();
                    t.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_cloud"], this.elementMode + "_cloud", this.floatTimes[this.elementMode], 10, !0)), 
                    e.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_eyes"], this.elementMode + "_eyes", this.floatTimes[this.elementMode], 10, !0));
                }
                this.attacks = [ 7, 8, 9, 10 ], this.elementMode = "water", this.source.element = "water", 
                this.source.source.element = "water";
                var i = this.game.add.tween(this.cloudParts.water_cloud).to({
                    x: this.coords.active.x,
                    y: this.coords.active.y
                }, 1500, Phaser.Easing.Quadratic.InOut).start(), a = this.game.add.tween(this.cloudParts.water_eyes).to({
                    x: this.coords.active.x + 94,
                    y: this.coords.active.y + 92
                }, 1500, Phaser.Easing.Quadratic.InOut).start();
                i.onComplete.add(this.float.bind(this, this.cloudParts.water_cloud, "water_cloud", this.floatTimes.water, 10, !0)), 
                a.onComplete.add(this.float.bind(this, this.cloudParts.water_eyes, "water_eyes", this.floatTimes.water, 10, !0));
            }
        }, e.prototype.updateClouds = function() {
            var t = this.source.getCurrentHearts() / this.source.getMaxHearts();
            t < .25 ? (this.waterActive = !1, this.cloudParts.water_cloud.frameName = "small_cloud", 
            this.cloudParts.water_eyes.visible = !1, "water" === this.elementMode && this.stormMode()) : t < .5 ? (this.earthActive = !1, 
            this.cloudParts.earth_cloud.frameName = "small_cloud", this.cloudParts.earth_eyes.visible = !1, 
            "earth" === this.elementMode && this.stormMode()) : t < .75 && (this.iceActive = !1, 
            this.cloudParts.ice_cloud.frameName = "small_cloud", this.cloudParts.ice_eyes.visible = !1, 
            "ice" === this.elementMode && this.stormMode());
        }, e;
    }(i(49).BossContainer);
    e.CloudContainer = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(189), r = i(0), s = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i, a, n, o) || this;
            return r.foodMode = "soup", r;
        }
        return n(e, t), e.prototype.setup = function(t) {
            if (r.Util.isValid(this.game) && t && r.Util.isValid(this.assets)) {
                var e;
                for (e in this.potParts = {
                    pot: this.game.prodigy.create.sprite(-100, 0, "default-boss-13", "pot"),
                    lid: this.game.prodigy.create.sprite(140, -140, "default-boss-13", "pot-lid")
                }, this.potParts.lid.anchor.setTo(1, 1), this.potParts.pot.anchor.setTo(0, 1), 
                this.burgerParts = {
                    dish: this.game.prodigy.create.sprite(300, -50, "default-boss-13", "dish"),
                    bottom: this.game.prodigy.create.sprite(320, -10, "default-boss-13", "burger-bottom"),
                    top: this.game.prodigy.create.sprite(510, -70, "default-boss-13", "burger-lid")
                }, this.burgerParts.top.anchor.setTo(1, 1), this.burgerParts.bottom.anchor.setTo(0, 1), 
                this.cakeParts = {
                    dish: this.game.prodigy.create.sprite(300, -50, "default-boss-13", "dish"),
                    lava: this.game.prodigy.create.sprite(310, 0, "default-boss-13", "lava"),
                    face: this.game.prodigy.create.sprite(350, 10, "default-boss-13", "expression-1"),
                    strawberry: this.game.prodigy.create.sprite(400, -200, "default-boss-13", "berry")
                }, this.cakeParts.face.animations.add("attack", [ "expression-1", "expression-2", "expression-3", "expression-3", "expression-3", "expression-2", "expression-1" ], 10, !1, !1), 
                this.cakeParts.lava.anchor.setTo(0, 1), this.cakeParts.face.anchor.setTo(0, 1), 
                this.potParts) this.potParts.hasOwnProperty(e) && this.add(this.potParts[e]);
                for (e in this.burgerParts) this.burgerParts.hasOwnProperty(e) && (this.add(this.burgerParts[e]), 
                this.burgerParts[e].visible = !1);
                for (e in this.cakeParts) this.cakeParts.hasOwnProperty(e) && (this.add(this.cakeParts[e]), 
                this.cakeParts[e].visible = !1);
                this.npc = new o.CebolliniEvent(this.game, this, -100, 0, "atlas-65", null), 
                this.npc.flip(), this.npc.bossStart(this.game), this.complete = !0, 
                this.loading = !1;
            }
        }, e.prototype.attack = function() {
            var t, e, i = this.game.prodigy.animation;
            "soup" === this.foodMode ? ((t = this.game.prodigy.event.create()).animation(i.rotate.bind(i, this.potParts.lid, "35", 1e3, 0, null, !0)), 
            t.animation(i.translate.bind(i, this.potParts.lid, "0", "-20", 1e3, 0, null, !0), !0), 
            t.animation(i.rotate.bind(i, this.potParts.lid, "-35", 1e3, 0, null, !0)), 
            t.animation(i.translate.bind(i, this.potParts.lid, "0", "20", 1e3, 0, null, !0)), 
            (e = this.game.prodigy.event.create()).animation(i.rotate.bind(i, this.potParts.pot, "-10", 1e3, 0, null, !0), !0), 
            e.animation(i.rotate.bind(i, this.potParts.pot, "10", 1e3, 0, null, !0)), 
            t.start(), e.start()) : "burger" === this.foodMode ? ((t = this.game.prodigy.event.create()).animation(i.rotate.bind(i, this.burgerParts.top, "25", 700, 0, null, !0)), 
            t.animation(i.translate.bind(i, this.burgerParts.top, "0", "-20", 700, 0, null, !0), !0), 
            t.animation(i.rotate.bind(i, this.burgerParts.top, "-25", 700, 0, null, !0)), 
            t.animation(i.translate.bind(i, this.burgerParts.top, "0", "20", 700, 0, null, !0)), 
            (e = this.game.prodigy.event.create()).animation(i.rotate.bind(i, this.burgerParts.bottom, "-10", 700, 0, null, !0), !0), 
            e.animation(i.rotate.bind(i, this.burgerParts.bottom, "10", 700, 0, null, !0)), 
            t.start(), e.start()) : "cake" === this.foodMode && this.cakeParts.face.animations.play("attack");
        }, e.prototype.startEntree = function() {
            this.foodMode = "burger", this.npc.entreeStart();
            var t, e = this.game.prodigy.event.create();
            for (t in e.text(11, "cebollini"), e.enableInput(!1), this.potParts) this.potParts.hasOwnProperty(t) && e.animation(this.game.prodigy.animation.hop.bind(this.game.prodigy.animation, this.potParts[t], "400", "-150", "+150", 2e3, !1, !0));
            for (t in e.delay(2e3), this.potParts) this.potParts.hasOwnProperty(t) && e.set(this.potParts[t], "visible", !1);
            for (t in this.burgerParts) this.burgerParts.hasOwnProperty(t) && e.set(this.burgerParts[t], "visible", !0);
            for (t in this.burgerParts) this.burgerParts.hasOwnProperty(t) && e.animation(this.game.prodigy.animation.hop.bind(this.game.prodigy.animation, this.burgerParts[t], "-400", "-150", "+150", 2e3, !1, !0));
            e.delay(2e3), e.enableInput(!0), e.start();
        }, e.prototype.startDessert = function() {
            this.foodMode = "cake", this.npc.dessertStart();
            var t, e = this.game.prodigy.event.create();
            for (t in e.text(12, "cebollini"), e.enableInput(!1), this.burgerParts) this.burgerParts.hasOwnProperty(t) && e.animation(this.game.prodigy.animation.hop.bind(this.game.prodigy.animation, this.burgerParts[t], "400", "-150", "+150", 2e3, !1, !0));
            for (t in e.delay(2e3), this.burgerParts) this.burgerParts.hasOwnProperty(t) && e.set(this.burgerParts[t], "visible", !1);
            for (t in this.cakeParts) this.cakeParts.hasOwnProperty(t) && e.set(this.cakeParts[t], "visible", !0);
            for (t in this.cakeParts) this.cakeParts.hasOwnProperty(t) && e.animation(this.game.prodigy.animation.hop.bind(this.game.prodigy.animation, this.cakeParts[t], "-400", "-150", "+150", 2e3, !1, !0));
            e.delay(2e3), e.enableInput(!0), e.start();
        }, e;
    }(i(49).BossContainer);
    e.BonfireContainer = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(5), s = i(4), l = i(0), h = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i, a, n) || this;
            r.achievement = null, r.iconContainer = null, r.achievementName = null, 
            r.description = null, r.progress = null, r.stars = [], r.award = null, 
            r.star = null, r.icon = null, r.achievement = o;
            var s = r.game.prodigy.create.panel(r, 0, 0, 16, 3, "award");
            s.add(r.game.prodigy.create.sprite(10, 10, "atlas-18", "award-frame")), 
            r.iconContainer = r.game.prodigy.create.panel(s, 550, 10, 2, 2, "white"), 
            r.achievementName = r.game.prodigy.create.font(s, 120, 6, "", {}), r.description = r.game.prodigy.create.font(s, 120, 93, "", {
                align: "right",
                width: 510,
                size: 16
            }), r.progress = r.game.prodigy.create.progressBar(s, 120, 50, 420), 
            r.stars = [];
            for (var l = 0; l < 5; l++) r.stars.push(s.add(r.game.prodigy.create.sprite(60, 60, "atlas-18", "star-empty"))), 
            r.stars[l].anchor.setTo(.5, .5), r.stars[l].visible = !1;
            return r.star = s.add(r.game.prodigy.create.sprite(60, 60, "atlas-18", "star-full")), 
            r.star.anchor.setTo(.5, .5), r.star.visible = !1, r.award = s.add(r.game.prodigy.create.sprite(60, 55, "atlas-18", "award-ribbon")), 
            r.award.anchor.setTo(.5, .5), r.award.visible = !1, r;
        }
        return n(e, t), e.prototype.setSource = function(t) {
            if (this.achievement !== t && (this.achievement = t, this.visible = l.Util.isValid(this.achievement), 
            this.visible)) {
                this.achievementName.setText(this.game.prodigy.achievements.getName(this.achievement)), 
                this.description.setText(this.game.prodigy.achievements.getDesc(this.achievement)), 
                this.progress.setProgress(this.game.prodigy.achievements.getProgress(this.achievement), this.game.prodigy.achievements.getCompletionText(this.achievement)), 
                l.Util.isValid(this.icon) && (this.iconContainer.remove(this.icon), 
                this.icon = null);
                var e = o(this.achievement, "metadata.icon", null);
                "string" == typeof this.achievement.metadata.icon && 0 === e.indexOf("icon-") && (this.icon = this.game.prodigy.icon.createIcon(40, 40, e, {
                    x: .5,
                    y: .5
                })), l.Util.isValid(this.icon) || (this.icon = this.game.prodigy.create.sprite(40, 40, "atlas-18", "empty"), 
                this.icon.loadNewTexture(s.Items.getIconAtlas(this.achievement), l.Util.convertItemToIcon(this.achievement)), 
                this.icon.anchor.setTo(.5, .5)), this.icon.scale.x = this.icon.scale.y = .8, 
                this.iconContainer.add(this.icon);
                for (var i = this.achievement.data.ranks.length <= 1 ? .5 * Math.PI : Math.PI - (.5236 + .5236 * (2 - .5 * (this.achievement.data.ranks.length - 1))), a = this.game.prodigy.player.achievements.getProgress(this.achievement.ID), n = 0; n < 5; n++) {
                    var r = this.stars[n];
                    n >= this.achievement.data.ranks.length ? r.visible = !1 : (r.visible = !0, 
                    r.x = Math.floor(40 * Math.cos(i - .5236 * n) + 60), r.y = Math.floor(40 * Math.sin(i - .5236 * n) + 60), 
                    r.frameName = n < a ? "star-full" : "star-empty");
                }
                this.award.visible = a >= this.achievement.data.ranks.length;
            }
        }, e;
    }(r.Element);
    e.AchievementContainer = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(117), r = i(619), s = i(49), l = i(618), h = i(617), c = i(233), p = i(616), u = i(615), d = i(614), g = i(22), y = i(613), f = i(612), m = i(97), _ = i(611), v = i(610), E = i(188), b = i(609), O = i(608), T = i(34), A = i(128), I = i(52), w = i(607), C = i(4), S = i(15), P = i(30), D = i(0), L = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.achievement = function(t, e, i, a) {
            return new r.AchievementContainer(this.game, t, e, i, a);
        }, e.prototype.boss = function(t, e, i, a) {
            return new s.BossContainer(this.game, t, e, i, a);
        }, e.prototype.forestBoss = function(t, e, i, a) {
            return new c.ForestContainer(this.game, t, e, i, a);
        }, e.prototype.cloudBoss = function(t, e, i, a, n) {
            return new h.CloudContainer(this.game, t, e, i, a, n);
        }, e.prototype.bonfireBoss = function(t, e, i, a) {
            return new l.BonfireContainer(this.game, t, e, i, a);
        }, e.prototype.shiverchillBoss = function(t, e, i, a) {
            var n = new p.IceWyrmBossContainer(this.game, t, e, i, a);
            return n.flip(), n;
        }, e.prototype.item = function(t, e, i, a, n, o) {
            return new d.ItemContainer(this.game, t, e, i, a, n, o);
        }, e.prototype.conjureCubeButton = function(t, e, i) {
            return new w.ConjureCubeButton(this.game, t, e, i);
        }, e.prototype.follow = function(t, e, i, a, n) {
            var o = C.Items.getItem("follow", e);
            if (D.Util.isValid(o.metadata) && D.Util.isValid(o.metadata.type)) switch (o.metadata.type) {
              case "spine":
              case "multiple":
                var r = I.RenderFactory.createRenderer("default-follow-" + e, o.metadata), s = new T.GameObject(this.game, t, [ r, new E.Follow(a, 20) ], a.x, a.y - 1);
                if (r.setAnchor(.5, 1), !P.Device.isTablet() && !P.Device.isIOS()) {
                    var l = o.data.particleEffects;
                    if (D.Util.isValid(l)) for (var h = 0; h < l.length; ++h) {
                        var c = new A.ParticleEmitter(l[h], this.game.particleStorm, this.game.time);
                        s.addComponent(c), c.sortTargets = [ s, a ];
                    }
                }
                return s;

              case "pet":
                var p = e;
                return D.Util.isValid(o.metadata.petID) && (p = o.metadata.petID), 
                new u.FollowContainer(this.game, t, new S.Monster(this.game, {
                    ID: p
                }), i, a, n);
            }
            return new f.Pet(this.game, t, e, a, n);
        }, e.prototype.monster = function(t, e, i, a, n, o) {
            return "spine" === e.source.assetType ? new y.MonsterSpineContainer(this.game, t, e, i, a, n) : new g.MonsterContainer(this.game, t, e, i, a, n, o);
        }, e.prototype.player = function(t, e, i, a, n, o, r, s, l) {
            return void 0 === o && (o = !1), void 0 === r && (r = !1), void 0 === s && (s = !1), 
            void 0 === l && (l = !1), new m.PlayerContainer(this.game, t, e, i, a, n, o, r, s, l);
        }, e.prototype.timer = function(t, e, i, a) {
            return void 0 === a && (a = !1), new _.TimerContainer(this.game, t, e, i, a);
        }, e.prototype.houseItem = function(t, e, i, a, n, r) {
            return new T.GameObject(this.game, t, [ new o.HouseItem(this.game, r, e, n) ], i, a);
        }, e.prototype.createParticleEmitter = function(t, e, i, a) {
            D.Util.isValid(a.x1) || (a.x1 = 0), D.Util.isValid(a.y1) || (a.y1 = 0), 
            D.Util.isValid(a.x2) || (a.x2 = 0), D.Util.isValid(a.y2) || (a.y2 = 0);
            var n = C.Items.getItem("particleEffect", e).data;
            D.Util.isValid(this.game.particleStorm.getData(e.toString())) || this.game.particleStorm.addData(e.toString(), n.particle);
            var o = JSON.parse(JSON.stringify(n.emitter));
            D.Util.isValid(a) && ("LINE_ZONE" === a.type ? o.zone = this.game.particleStorm.createLineZone(a.x1, a.y1, a.x2, a.y2) : o.zone = null);
            var r = this.game.particleStorm.createEmitter(Phaser.ParticleStorm.SPRITE_BATCH, n.force);
            return r.addToWorld(t), r.emit(e.toString(), i.x, i.y, o), r;
        }, e.prototype.animatedSpineNPC = function(t, e, i, a, n, o, r, s, l) {
            var h = I.RenderFactory.createRenderer(e, a), c = new T.GameObject(this.game, t, [ h, new O.PlayAnimationList(r), new b.NameLabel(i) ], n, o);
            if (D.Util.isValid(l)) {
                var p = function() {
                    h.setInputEnabled(!0), h.getEvents().onInputDown.add(l, h);
                };
                D.Util.isValid(h.spine) ? p() : h.onLoaded.addOnce(p);
            }
            return c;
        }, e.prototype.countdownTimer = function(t, e, i, a, n) {
            return new v.TimerControl(this.game, t, e, i, a, n);
        }, e;
    }(i(606).GameObjectFactory);
    e.AdvGameObjectFactory = L;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, n = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, o = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = i(11), l = i(41), h = function() {
        function t(t, e) {
            this.httpClient = null, this.logger = null, this.httpClient = e, this.logger = t;
        }
        return t.ENVIRONMENT_URLS = {
            local: "https://" + window.location.host + "/",
            dev: "https://www.prodigygame.net/",
            staging: "https://www.prodigygame.org/",
            production: "https://www.prodigygame.com/"
        }, t = a([ s.injectable(), o(0, s.inject(r.GameIdentifiers.LoggerService)), o(1, s.inject(l.ProdigyInjectionIdentifiers.HttpClient)), n("design:paramtypes", [ Object, Object ]) ], t);
    }();
    e.HttpDataProvider = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, r = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, s = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    }, l = this && this.__awaiter || function(t, e, i, a) {
        return new (i || (i = Promise))(function(n, o) {
            function r(t) {
                try {
                    l(a.next(t));
                } catch (t) {
                    o(t);
                }
            }
            function s(t) {
                try {
                    l(a.throw(t));
                } catch (t) {
                    o(t);
                }
            }
            function l(t) {
                t.done ? n(t.value) : new i(function(e) {
                    e(t.value);
                }).then(r, s);
            }
            l((a = a.apply(t, e || [])).next());
        });
    }, h = this && this.__generator || function(t, e) {
        var i, a, n, o, r = {
            label: 0,
            sent: function() {
                if (1 & n[0]) throw n[1];
                return n[1];
            },
            trys: [],
            ops: []
        };
        return o = {
            next: s(0),
            throw: s(1),
            return: s(2)
        }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this;
        }), o;
        function s(o) {
            return function(s) {
                return function(o) {
                    if (i) throw new TypeError("Generator is already executing.");
                    for (;r; ) try {
                        if (i = 1, a && (n = a[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(n = n.call(a, o[1])).done) return n;
                        switch (a = 0, n && (o = [ 0, n.value ]), o[0]) {
                          case 0:
                          case 1:
                            n = o;
                            break;

                          case 4:
                            return r.label++, {
                                value: o[1],
                                done: !1
                            };

                          case 5:
                            r.label++, a = o[1], o = [ 0 ];
                            continue;

                          case 7:
                            o = r.ops.pop(), r.trys.pop();
                            continue;

                          default:
                            if (!(n = (n = r.trys).length > 0 && n[n.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                r = 0;
                                continue;
                            }
                            if (3 === o[0] && (!n || o[1] > n[0] && o[1] < n[3])) {
                                r.label = o[1];
                                break;
                            }
                            if (6 === o[0] && r.label < n[1]) {
                                r.label = n[1], n = o;
                                break;
                            }
                            if (n && r.label < n[2]) {
                                r.label = n[2], r.ops.push(o);
                                break;
                            }
                            n[2] && r.ops.pop(), r.trys.pop();
                            continue;
                        }
                        o = e.call(t, r);
                    } catch (t) {
                        o = [ 6, t ], a = 0;
                    } finally {
                        i = n = 0;
                    }
                    if (5 & o[0]) throw o[1];
                    return {
                        value: o[0] ? o[1] : void 0,
                        done: !0
                    };
                }([ o, s ]);
            };
        }
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var c = i(8), p = i(11), u = i(41), d = i(0), g = i(621), y = function(t) {
        function e(e, i) {
            return t.call(this, e, i) || this;
        }
        return n(e, t), i = e, e.prototype.getStore = function(t) {
            return l(this, void 0, void 0, function() {
                return h(this, function(e) {
                    return [ 2, this.httpClient.get("" + g.HttpDataProvider.ENVIRONMENT_URLS[d.Util.getEnvironment()] + i.BASE_URL + t) ];
                });
            });
        }, e.BASE_URL = "game-store-api/v1/store/", e = i = o([ p.injectable(), s(0, p.inject(c.GameIdentifiers.LoggerService)), s(1, p.inject(u.ProdigyInjectionIdentifiers.HttpClient)), r("design:paramtypes", [ Object, Object ]) ], e);
        var i;
    }(g.HttpDataProvider);
    e.StoreHttpDataProvider = y;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        return function(t, e) {
            this.statusCode = t, this.errorMessage = e;
        };
    }();
    e.HttpDataProviderFailure = a;
}, function(t, e, i) {
    "use strict";
    var a = new RegExp("%[a-f0-9]{2}", "gi"), n = new RegExp("(%[a-f0-9]{2})+", "gi");
    function o(t, e) {
        try {
            return decodeURIComponent(t.join(""));
        } catch (t) {}
        if (1 === t.length) return t;
        e = e || 1;
        var i = t.slice(0, e), a = t.slice(e);
        return Array.prototype.concat.call([], o(i), o(a));
    }
    function r(t) {
        try {
            return decodeURIComponent(t);
        } catch (n) {
            for (var e = t.match(a), i = 1; i < e.length; i++) e = (t = o(e, i).join("")).match(a);
            return t;
        }
    }
    t.exports = function(t) {
        if ("string" != typeof t) throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + typeof t + "`");
        try {
            return t = t.replace(/\+/g, " "), decodeURIComponent(t);
        } catch (e) {
            return function(t) {
                for (var e = {
                    "%FE%FF": "",
                    "%FF%FE": ""
                }, i = n.exec(t); i; ) {
                    try {
                        e[i[0]] = decodeURIComponent(i[0]);
                    } catch (t) {
                        var a = r(i[0]);
                        a !== i[0] && (e[i[0]] = a);
                    }
                    i = n.exec(t);
                }
                e["%C2"] = "";
                for (var o = Object.keys(e), s = 0; s < o.length; s++) {
                    var l = o[s];
                    t = t.replace(new RegExp(l, "g"), e[l]);
                }
                return t;
            }(t);
        }
    };
}, function(t, e, i) {
    "use strict";
    var a = Object.getOwnPropertySymbols, n = Object.prototype.hasOwnProperty, o = Object.prototype.propertyIsEnumerable;
    t.exports = function() {
        try {
            if (!Object.assign) return !1;
            var t = new String("abc");
            if (t[5] = "de", "5" === Object.getOwnPropertyNames(t)[0]) return !1;
            for (var e = {}, i = 0; i < 10; i++) e["_" + String.fromCharCode(i)] = i;
            if ("0123456789" !== Object.getOwnPropertyNames(e).map(function(t) {
                return e[t];
            }).join("")) return !1;
            var a = {};
            return "abcdefghijklmnopqrst".split("").forEach(function(t) {
                a[t] = t;
            }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, a)).join("");
        } catch (t) {
            return !1;
        }
    }() ? Object.assign : function(t, e) {
        for (var i, r, s = function(t) {
            if (null === t || void 0 === t) throw new TypeError("Object.assign cannot be called with null or undefined");
            return Object(t);
        }(t), l = 1; l < arguments.length; l++) {
            for (var h in i = Object(arguments[l])) n.call(i, h) && (s[h] = i[h]);
            if (a) {
                r = a(i);
                for (var c = 0; c < r.length; c++) o.call(i, r[c]) && (s[r[c]] = i[r[c]]);
            }
        }
        return s;
    };
}, function(t, e, i) {
    "use strict";
    t.exports = function(t) {
        return encodeURIComponent(t).replace(/[!'()*]/g, function(t) {
            return "%" + t.charCodeAt(0).toString(16).toUpperCase();
        });
    };
}, function(t, e, i) {
    "use strict";
    var a = i(626), n = i(625), o = i(624);
    function r(t, e) {
        return e.encode ? e.strict ? a(t) : encodeURIComponent(t) : t;
    }
    e.extract = function(t) {
        return t.split("?")[1] || "";
    }, e.parse = function(t, e) {
        var i = function(t) {
            var e;
            switch (t.arrayFormat) {
              case "index":
                return function(t, i, a) {
                    e = /\[(\d*)\]$/.exec(t), t = t.replace(/\[\d*\]$/, ""), e ? (void 0 === a[t] && (a[t] = {}), 
                    a[t][e[1]] = i) : a[t] = i;
                };

              case "bracket":
                return function(t, i, a) {
                    e = /(\[\])$/.exec(t), t = t.replace(/\[\]$/, ""), e ? void 0 !== a[t] ? a[t] = [].concat(a[t], i) : a[t] = [ i ] : a[t] = i;
                };

              default:
                return function(t, e, i) {
                    void 0 !== i[t] ? i[t] = [].concat(i[t], e) : i[t] = e;
                };
            }
        }(e = n({
            arrayFormat: "none"
        }, e)), a = Object.create(null);
        return "string" != typeof t ? a : (t = t.trim().replace(/^(\?|#|&)/, "")) ? (t.split("&").forEach(function(t) {
            var e = t.replace(/\+/g, " ").split("="), n = e.shift(), r = e.length > 0 ? e.join("=") : void 0;
            r = void 0 === r ? null : o(r), i(o(n), r, a);
        }), Object.keys(a).sort().reduce(function(t, e) {
            var i = a[e];
            return Boolean(i) && "object" == typeof i && !Array.isArray(i) ? t[e] = function t(e) {
                return Array.isArray(e) ? e.sort() : "object" == typeof e ? t(Object.keys(e)).sort(function(t, e) {
                    return Number(t) - Number(e);
                }).map(function(t) {
                    return e[t];
                }) : e;
            }(i) : t[e] = i, t;
        }, Object.create(null))) : a;
    }, e.stringify = function(t, e) {
        var i = function(t) {
            switch (t.arrayFormat) {
              case "index":
                return function(e, i, a) {
                    return null === i ? [ r(e, t), "[", a, "]" ].join("") : [ r(e, t), "[", r(a, t), "]=", r(i, t) ].join("");
                };

              case "bracket":
                return function(e, i) {
                    return null === i ? r(e, t) : [ r(e, t), "[]=", r(i, t) ].join("");
                };

              default:
                return function(e, i) {
                    return null === i ? r(e, t) : [ r(e, t), "=", r(i, t) ].join("");
                };
            }
        }(e = n({
            encode: !0,
            strict: !0,
            arrayFormat: "none"
        }, e));
        return t ? Object.keys(t).sort().map(function(a) {
            var n = t[a];
            if (void 0 === n) return "";
            if (null === n) return r(a, e);
            if (Array.isArray(n)) {
                var o = [];
                return n.slice().forEach(function(t) {
                    void 0 !== t && o.push(i(a, t, o.length));
                }), o.join("&");
            }
            return r(a, e) + "=" + r(n, e);
        }).filter(function(t) {
            return t.length > 0;
        }).join("&") : "";
    };
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, n = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, o = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    }, r = this && this.__awaiter || function(t, e, i, a) {
        return new (i || (i = Promise))(function(n, o) {
            function r(t) {
                try {
                    l(a.next(t));
                } catch (t) {
                    o(t);
                }
            }
            function s(t) {
                try {
                    l(a.throw(t));
                } catch (t) {
                    o(t);
                }
            }
            function l(t) {
                t.done ? n(t.value) : new i(function(e) {
                    e(t.value);
                }).then(r, s);
            }
            l((a = a.apply(t, e || [])).next());
        });
    }, s = this && this.__generator || function(t, e) {
        var i, a, n, o, r = {
            label: 0,
            sent: function() {
                if (1 & n[0]) throw n[1];
                return n[1];
            },
            trys: [],
            ops: []
        };
        return o = {
            next: s(0),
            throw: s(1),
            return: s(2)
        }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this;
        }), o;
        function s(o) {
            return function(s) {
                return function(o) {
                    if (i) throw new TypeError("Generator is already executing.");
                    for (;r; ) try {
                        if (i = 1, a && (n = a[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(n = n.call(a, o[1])).done) return n;
                        switch (a = 0, n && (o = [ 0, n.value ]), o[0]) {
                          case 0:
                          case 1:
                            n = o;
                            break;

                          case 4:
                            return r.label++, {
                                value: o[1],
                                done: !1
                            };

                          case 5:
                            r.label++, a = o[1], o = [ 0 ];
                            continue;

                          case 7:
                            o = r.ops.pop(), r.trys.pop();
                            continue;

                          default:
                            if (!(n = (n = r.trys).length > 0 && n[n.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                r = 0;
                                continue;
                            }
                            if (3 === o[0] && (!n || o[1] > n[0] && o[1] < n[3])) {
                                r.label = o[1];
                                break;
                            }
                            if (6 === o[0] && r.label < n[1]) {
                                r.label = n[1], n = o;
                                break;
                            }
                            if (n && r.label < n[2]) {
                                r.label = n[2], r.ops.push(o);
                                break;
                            }
                            n[2] && r.ops.pop(), r.trys.pop();
                            continue;
                        }
                        o = e.call(t, r);
                    } catch (t) {
                        o = [ 6, t ], a = 0;
                    } finally {
                        i = n = 0;
                    }
                    if (5 & o[0]) throw o[1];
                    return {
                        value: o[0] ? o[1] : void 0,
                        done: !0
                    };
                }([ o, s ]);
            };
        }
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var l = i(8), h = i(11), c = i(194), p = i(101), u = i(627), d = i(0), g = i(623), y = function() {
        function t(t) {
            this.authenticationData = null, this.logger = null, this.logger = t;
        }
        return e = t, t.prototype.setAuthenticationData = function(t) {
            this.authenticationData = t;
        }, t.prototype.get = function(t, i, a, n) {
            return void 0 === i && (i = null), void 0 === a && (a = !0), void 0 === n && (n = 1e4), 
            r(this, void 0, void 0, function() {
                var o = this;
                return s(this, function(h) {
                    return [ 2, new Promise(function(h, y) {
                        return r(o, void 0, void 0, function() {
                            var o, r, f, m, _, v, E;
                            return s(this, function(s) {
                                switch (s.label) {
                                  case 0:
                                    o = {
                                        method: "GET",
                                        timeout: n
                                    }, r = c({}, i), a && (null === this.authenticationData ? this.logger.log("Tried to authenticate an HTTP request but no authentication data has been set", l.LogLevel.Verbose) : c(r, {
                                        userID: this.authenticationData.userID,
                                        token: this.authenticationData.userToken
                                    })), f = t, p(r) || (f = f + "?" + u.stringify(r)), 
                                    m = null, s.label = 1;

                                  case 1:
                                    return s.trys.push([ 1, 8, , 9 ]), [ 4, e.sendRequest(f, o) ];

                                  case 2:
                                    return m = s.sent(), d.Util.isValid(m) ? m.status >= 200 && m.status <= 299 ? (this.logger.log("Request to " + t + " succeeded with status " + m.status, l.LogLevel.Verbose), 
                                    _ = h, [ 4, m.json() ]) : [ 3, 4 ] : [ 3, 6 ];

                                  case 3:
                                    return _.apply(void 0, [ s.sent() ]), [ 3, 5 ];

                                  case 4:
                                    switch (v = "", m.status) {
                                      case 500:
                                        v = "An internal server error occurred";
                                        break;

                                      case 503:
                                        v = "The API is currently in maintenance mode";
                                        break;

                                      default:
                                        v = "Unexpected response code " + m.status + " was returned when connecting to " + t;
                                    }
                                    this.logger.log("Request to " + t + " failed: " + v, l.LogLevel.Error), 
                                    y(new g.HttpDataProviderFailure(m.status, v)), 
                                    s.label = 5;

                                  case 5:
                                    return [ 3, 7 ];

                                  case 6:
                                    y(new g.HttpDataProviderFailure(0, "Failed to connect to over HTTP")), 
                                    s.label = 7;

                                  case 7:
                                    return [ 3, 9 ];

                                  case 8:
                                    return E = s.sent(), this.logger.log("Request to " + t + " failed: " + E.errorMessage, l.LogLevel.Error), 
                                    y(new g.HttpDataProviderFailure(0, "An unknown error occurred")), 
                                    [ 3, 9 ];

                                  case 9:
                                    return [ 2 ];
                                }
                            });
                        });
                    }) ];
                });
            });
        }, t.sendRequest = function(t, e) {
            return r(this, void 0, void 0, function() {
                return s(this, function(i) {
                    return [ 2, new Promise(function(i, a) {
                        setTimeout(function() {
                            a(new g.HttpDataProviderFailure(0, "Failed to connect to over HTTP"));
                        }, d.Util.isValid(e.timeout) ? e.timeout : 1e4), fetch(t, {
                            method: e.method,
                            body: e.body,
                            headers: e.headers
                        }).then(function(t) {
                            i(t);
                        }).catch(function(t) {
                            a(new g.HttpDataProviderFailure(0, t.message));
                        });
                    }) ];
                });
            });
        }, t = e = a([ h.injectable(), o(0, h.inject(l.GameIdentifiers.LoggerService)), n("design:paramtypes", [ Object ]) ], t);
        var e;
    }();
    e.FetchLibraryHttpClient = y;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t(t) {
            this.game = null, this.surveyData = null, this.game = t, this.surveyData = [ {
                id: 12,
                type: 2,
                questionKeys: [ "SURVEY_WIZARD_QUESTION" ],
                answers: [ [ {
                    id: "1",
                    textKey: "SURVEY_MEMBERSHIP_ANSWER_1"
                }, {
                    id: "2",
                    textKey: "SURVEY_MEMBERSHIP_ANSWER_2"
                }, {
                    id: "3",
                    textKey: "SURVEY_MEMBERSHIP_ANSWER_3"
                }, {
                    id: "moreThan3",
                    textKey: "SURVEY_MEMBERSHIP_ANSWER_MORE"
                } ] ]
            } ];
            for (var e = function(e) {
                var a = i.surveyData[e];
                Object.defineProperty(a, "question", {
                    get: function() {
                        for (var e = [], i = 0; i < a.questionKeys.length; i++) e.push(t.prodigy.gameContainer.Localizer.getText(a.questionKeys[i]));
                        return e;
                    }
                });
                for (var n = 0; n < a.answers.length; n++) for (var o = a.answers[n], r = function(e) {
                    var i = o[e];
                    Object.defineProperty(i, "text", {
                        get: function() {
                            return t.prodigy.gameContainer.Localizer.getText(i.textKey);
                        }
                    });
                }, s = 0; s < o.length; s++) r(s);
            }, i = this, a = 0; a < this.surveyData.length; a++) e(a);
        }
        return t.prototype.getSurveyData = function() {
            for (var t = 0; t < this.surveyData.length; t++) {
                var e = this.surveyData[t];
                if (this.game.prodigy.player.getSurvey() < e.id) return e;
            }
            return {};
        }, t;
    }();
    e.SurveyController = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(123), s = function(t) {
        function e(e) {
            return t.call(this, e) || this;
        }
        return n(e, t), e.prototype.startPVP = function(t, e, i, a, n) {
            var s = {
                screen: "battle-coliseum-outside"
            };
            for (var l in r.BattleController.MOD_DEFAULTS) {
                var h = r.BattleController.MOD_DEFAULTS[l];
                o.Util.isValid(s[l]) || (s[l] = h);
            }
            s.arena = n, s.catch = !1, s.run = !1;
            var c = "zone-battle-" + t + "-", p = {
                mods: s,
                zoneName: c += e.userID === t ? i.userID : e.userID,
                callback: a,
                challengerID: t,
                playerA: e,
                playerB: i
            };
            this.game.prodigy.start("PVP", p, p);
        }, e;
    }(r.BattleController);
    e.PVPController = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t(t) {
            this.game = null, this.mail = [], this.callbacks = [], this.game = t;
        }
        return t.prototype.cleanup = function() {
            this.callbacks = [];
        }, t.prototype.getMailCount = function() {
            return this.mail.length;
        }, t.prototype.getMail = function(t, e) {
            return this.mail.slice(t, t + e);
        }, t.prototype.add = function(t) {
            a.Util.log("MailController, mail received"), a.Util.log(JSON.stringify(t)), 
            this.game.prodigy.audio.playSFX(18, "dig"), this.mail = this.mail.concat(t), 
            a.Util.isValid(t.time) && window.setTimeout(this.remove.bind(this, t), t.time), 
            this.invokeCallbacks(t);
        }, t.prototype.remove = function(t) {
            for (var e = 0; e < this.mail.length; e++) if (this.mail[e] === t) {
                this.mail.splice(e, 1);
                break;
            }
            this.invokeCallbacks();
        }, t.prototype.addUpdateCallback = function(t) {
            this.callbacks.push(t);
        }, t.prototype.removeUpdateCallback = function(t) {
            this.callbacks.splice(this.callbacks.indexOf(t), 1);
        }, t.prototype.invokeCallbacks = function(t) {
            for (var e = 0; e < this.callbacks.length; e++) a.Util.isValid(this.callbacks[e]) && this.callbacks[e](this.getMailCount(), t);
        }, t;
    }();
    e.MailController = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t(t) {
            this.game = null, this.game = t;
        }
        return t.prototype.setResolutionSmall = function() {
            this.game.scale.maxWidth = 640, this.game.scale.maxHeight = 360, this.game.scale.updateLayout();
        }, t.prototype.setResolutionMedium = function() {
            this.game.scale.maxWidth = 1280, this.game.scale.maxHeight = 720, this.game.scale.updateLayout();
        }, t.prototype.setResolutionLarge = function() {
            this.game.scale.maxWidth = 0, this.game.scale.maxHeight = 0, this.game.scale.scaleMode = Phaser.ScaleManager.EXACT_FIT, 
            this.game.scale.refresh();
        }, t;
    }();
    e.GraphicsController = a;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(79), n = i(3), o = i(4), r = i(0), s = function() {
        function t(t) {
            this.game = null, this.giftBoxes = [], this.giftBoxesToOpen = [], this.game = t;
        }
        return t.prototype.isConjureCubeGiftBox = function(t) {
            return 1 === t || 2 === t;
        }, t.prototype.receiveGiftBox = function(t, e) {
            if (r.Util.isValid(e)) {
                var i = o.Items.getItem("giftBox", e.ID);
                if (r.Util.isValid(i)) {
                    r.Util.isValid(t) && this.game.prodigy.open.gotItem([ i ], t, null, "receive-conjure-cube");
                    var n = a(this.giftBoxes) + 1;
                    this.giftBoxes[n] = {
                        ID: e.ID,
                        isOpen: !1
                    }, 1 !== e.ID && 2 !== e.ID || this.giftBoxesToOpen.push(n), 
                    this.game.prodigy.network.addGiftBox(e.ID, null, null);
                }
            }
        }, t.prototype.openConjureCube = function(t) {
            if (this.giftBoxesToOpen.length > 0) {
                var e = this.giftBoxesToOpen.pop();
                r.Util.isValid(this.giftBoxes[e]) && (r.Util.isValid(this.giftBoxes[e].isOpen) && (this.giftBoxes[e].isOpen = !0), 
                this.game.prodigy.network.updateGiftBox(e, this.giftBoxes[e], this.completeOpenConjureCube.bind(this, e, t), null));
            }
        }, t.prototype.completeOpenConjureCube = function(t, e) {
            this.giftBoxes.hasOwnProperty(t) && (this.game.prodigy.network.sendAnalytics("Conjure-Cube-Opened", "Cube-Opened-at-Level-" + this.game.prodigy.player.data.level), 
            this.game.broadcaster.broadcast(n.EGiftBoxEvents.UpdateConjureCubeCount, "ConjureCubes", []), 
            this.game.prodigy.open.gotItem(e, null, null, "open-conjure-cube"));
        }, t.prototype.getGiftBoxesCount = function(t) {
            for (var e = 0, i = 0; i < this.giftBoxes.length; i++) {
                var a = this.giftBoxes[i];
                r.Util.isValid(a) && a.ID === t && e++;
            }
            return e;
        }, t.prototype.getUnopenedConjureCubesCount = function() {
            for (var t = 0, e = 0; e < this.giftBoxesToOpen.length; e++) {
                var i = this.giftBoxes[this.giftBoxesToOpen[e]];
                r.Util.isValid(i) && this.isConjureCubeGiftBox(i.ID) && t++;
            }
            return t;
        }, t.prototype.hasConjureCubes = function() {
            for (var t = 0; t < this.giftBoxesToOpen.length; t++) {
                var e = this.giftBoxes[this.giftBoxesToOpen[t]];
                if (r.Util.isValid(e) && this.isConjureCubeGiftBox(e.ID)) return !0;
            }
            return !1;
        }, t;
    }();
    e.GiftBoxController = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(4), n = i(0), o = function() {
        function t(t) {
            this.game = null, this.baseDictionary = {}, this.isBaseReady = {}, this.isColorReady = {}, 
            this.baseColor = [], this.newColor = [], this.game = t;
        }
        return t.prototype.checkColorAsset = function(t, e, i) {
            var a = this.generateAssetName(t, e);
            n.Util.isValid(this.isColorReady[a]) ? this.isColorReady[a].ready ? this.safeCallback(i) : this.isColorReady[a].callbacks.push(i) : n.Util.isValid(this.isBaseReady[t]) ? this.isBaseReady[t].ready ? (this.isColorReady[a] = {
                ready: !1,
                callbacks: [ i ]
            }, this.generateNewColor(t, e)) : this.isBaseReady[t].callbacks.push({
                colorReplaceData: e,
                callback: i
            }) : (this.isBaseReady[t] = {
                ready: !1,
                callbacks: [ {
                    colorReplaceData: e,
                    callback: i
                } ]
            }, this.game.prodigy.create.sprite(0, 0, t, 0, null, this.onBaseColorReady.bind(this, t)));
        }, t.prototype.generateAssetName = function(t, e) {
            for (var i = t, a = 0; a < e.length; a++) i += "-" + e[a].color;
            return i;
        }, t.prototype.onBaseColorReady = function(t, e) {
            if ("__missing" !== e.key) for (this.isBaseReady[e.key].ready = !0, 
            this.baseDictionary[e.key] = e; this.isBaseReady[e.key].callbacks.length > 0; ) {
                var i = this.isBaseReady[e.key].callbacks.pop(), a = this.generateAssetName(e.key, i.colorReplaceData);
                n.Util.isValid(this.isColorReady[a]) ? this.isColorReady[a].ready ? this.safeCallback(i.callback) : this.isColorReady[a].callbacks.push(i.callback) : (this.isColorReady[a] = {
                    ready: !1,
                    callbacks: [ i.callback ]
                }, this.generateNewColor(e.key, i.colorReplaceData));
            } else for (this.isBaseReady[t].ready = !0, this.baseDictionary[t] = e; this.isBaseReady[t].callbacks.length > 0; ) {
                i = this.isBaseReady[t].callbacks.pop();
                this.safeCallback(i.callback);
            }
        }, t.prototype.pixelColorReplace = function(t) {
            for (var e = 0; e < this.baseColor.length; e++) t.r === this.baseColor[e][0] && t.g === this.baseColor[e][1] && t.b === this.baseColor[e][2] && (t.r = this.newColor[e][0], 
            t.g = this.newColor[e][1], t.b = this.newColor[e][2]);
            return t;
        }, t.prototype.generateNewColor = function(t, e) {
            var i = this.generateAssetName(t, e), o = new Phaser.BitmapData(this.game, null, this.baseDictionary[t].width, this.baseDictionary[t].height);
            o.draw(this.baseDictionary[t]), o.update();
            for (var r = [], s = [], l = 0; l < e.length; l++) r = r.concat(n.Util.isValid(e[l].base) ? e[l].base : a.Items.getItemData(e[l].itemColor, 1).colors), 
            s = s.concat(a.Items.getItemData(e[l].itemColor, e[l].color).colors);
            for (l = r.length - 1; l >= 0; l--) r[l][0] === s[l][0] && r[l][1] === s[l][1] && r[l][2] === s[l][2] && (r.splice(l, 1), 
            s.splice(l, 1));
            r.length > 0 && o.processPixelRGB(this.pixelColorReplace, {
                baseColor: r,
                newColor: s
            }), o.generateTexture(i, this.textureGenerated.bind(this, t, i, o));
        }, t.prototype.textureGenerated = function(t, e, i, a) {
            var o = this.game.cache.getFrameData(t, 2);
            n.Util.isValid(o) && (o = {
                frames: {}
            }), o.getFrames && (o = n.Util.frameDataToFrameJson(o.getFrames())), 
            this.game.cache.addTextureAtlas(e, "", a.baseTexture.source, o, Phaser.Loader.TEXTURE_ATLAS_JSON_HASH), 
            i.clear(), Phaser.CanvasPool.removeByCanvas(i.canvas), i.destroy();
            for (var r = this.isColorReady[e].callbacks, s = 0; s < r.length; ++s) this.safeCallback(r[s]);
            this.isColorReady[e] = {
                ready: !0
            };
        }, t.prototype.safeCallback = function(t) {
            n.Util.isValid(t) && t();
        }, t;
    }();
    e.ColorReplaceController = o;
}, function(t, e, i) {
    var a = i(67), n = i(80);
    t.exports = function(t) {
        return a(t, n(t));
    };
}, function(t, e, i) {
    var a = i(59), n = i(147), o = i(45), r = "[object Object]", s = Function.prototype, l = Object.prototype, h = s.toString, c = l.hasOwnProperty, p = h.call(Object);
    t.exports = function(t) {
        if (!o(t) || a(t) != r) return !1;
        var e = n(t);
        if (null === e) return !0;
        var i = c.call(e, "constructor") && e.constructor;
        return "function" == typeof i && i instanceof i && h.call(i) == p;
    };
}, function(t, e, i) {
    var a = i(193), n = i(261), o = i(259), r = i(100), s = i(258), l = i(86), h = i(19), c = i(192), p = i(85), u = i(164), d = i(46), g = i(636), y = i(104), f = i(191), m = i(635);
    t.exports = function(t, e, i, _, v, E, b) {
        var O = f(t, i), T = f(e, i), A = b.get(T);
        if (A) a(t, i, A); else {
            var I = E ? E(O, T, i + "", t, e, b) : void 0, w = void 0 === I;
            if (w) {
                var C = h(T), S = !C && p(T), P = !C && !S && y(T);
                I = T, C || S || P ? h(O) ? I = O : c(O) ? I = r(O) : S ? (w = !1, 
                I = n(T, !0)) : P ? (w = !1, I = o(T, !0)) : I = [] : g(T) || l(T) ? (I = O, 
                l(O) ? I = m(O) : (!d(O) || _ && u(O)) && (I = s(T))) : w = !1;
            }
            w && (b.set(T, I), v(I, T, _, E, b), b.delete(T)), a(t, i, I);
        }
    };
}, function(t, e, i) {
    var a = i(111), n = i(193), o = i(268), r = i(637), s = i(46), l = i(80), h = i(191);
    t.exports = function t(e, i, c, p, u) {
        e !== i && o(i, function(o, l) {
            if (s(o)) u || (u = new a()), r(e, i, l, c, t, p, u); else {
                var d = p ? p(h(e, l), o, l + "", e, i, u) : void 0;
                void 0 === d && (d = o), n(e, l, d);
            }
        }, l);
    };
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(194), n = i(0), o = function() {
        function t(e, i, a) {
            if (this.userID = null, this.uniqueKey = null, this.genericAjaxError = function() {}, 
            this.defaultSettings = null, this.defaultHandlers = {}, this.wasSocketConnected = !1, 
            this.worldID = 0, this.apiData = null, this.socket = null, this.zone = null, 
            this.clientVersion = null, this.apiData = a, this.clientVersion = e.clientVersion, 
            this.defaultSettings = t.getDefaultSettings(), null !== e) for (var o in e) void 0 !== e[o] && (this.defaultSettings[o] = e[o]);
            if (this.defaultHandlers[500] = function() {
                n.Util.log("Something happened with the webservice...", n.Util.ERROR);
            }, this.defaultHandlers[404] = function() {
                n.Util.log("The data you are attempting to access does not exist.");
            }, null !== i) for (var r = Object.keys(i), s = r.length, l = 0; l < s; ++l) void 0 !== i[r[l]] && (this.defaultHandlers[r[l]] = i[r[l]]);
        }
        return t.prototype.setErrorHandler = function(t) {
            this.genericAjaxError = t;
        }, t.prototype.getUserToken = function() {
            return this.uniqueKey;
        }, t.prototype.request = function(t, e, i, a, o, r) {
            var s = this;
            void 0 === i && (i = {}), void 0 === a && (a = {}), void 0 === o && (o = ""), 
            void 0 === r && (r = {}), i["auth-key"] = this.uniqueKey, i.token = this.uniqueKey;
            var l = {
                url: e,
                data: i,
                timeout: 3e4,
                type: t,
                success: a[200],
                crossDomain: !0,
                error: function(t) {
                    "Service Unavailable" === t.responseText && (t.status = 503), 
                    void 0 !== a[t.status] ? "function" == typeof a[t.status] ? a[t.status](o, t.status) : n.Util.log("APIClient Error: handler " + t.status + " is not a function", n.Util.ERROR) : s.genericAjaxError(o, t.status);
                }
            };
            r.ignoreHeaders && (l.headers = null), $.ajax(l);
        }, t.prototype.get = function(t, e, i, a) {
            "/status" === t ? this.request("get", "" + this.defaultSettings.root + t.substr(1), e, i, a) : this.request("get", "" + this.defaultSettings.root + this.defaultSettings.version + t, e, i, a);
        }, t.prototype.post = function(t, e, i, a) {
            this.request("post", "" + this.defaultSettings.root + this.defaultSettings.version + t, e, i, a);
        }, t.verifyHandlers = function(t, e, i) {
            for (var a = e.length, o = 0; o < a; ++o) if (void 0 === t[e[o]]) return n.Util.log("Missing method for " + i + " statusCode: " + e[o], n.Util.ERROR), 
            null;
            return t;
        }, t.prototype.assignHandlers = function(e, i, n) {
            for (var o = a({}, this.defaultHandlers), r = Object.keys(e), s = r.length, l = 0; l < s; ++l) o[r[l]] = e[r[l]];
            return void 0 !== i ? t.verifyHandlers(o, i, n) : null;
        }, t.prototype.joinMultiplayerServer = function(t, e, i, a, o, r, s, l) {
            var h = this;
            this.wasSocketConnected = !1, this.worldID = t;
            var c = this.assignHandlers(i, [ "200", "503" ], "Join multiplayer Server");
            if (null !== c) {
                var p = this.userID, u = this.uniqueKey;
                if (void 0 === p || void 0 === u) return n.Util.log("missing user id or token"), 
                !1;
                var d = !1, g = this.apiData.getMultiplayerClusterForWorld(t), y = g.url;
                /^https:\/\//.test(y) && (d = !0);
                var f = {
                    userId: p,
                    worldId: t,
                    serverId: g.ID,
                    userToken: u
                }, m = {
                    "force new connection": !0,
                    reconnection: !0,
                    transports: [ "websocket", "xhr-polling", "jsonp-polling", "htmlfile" ],
                    reconnectionDelay: 1e4,
                    reconnectionDelayMax: 15e3,
                    reconnectionAttempts: 10,
                    secure: d,
                    query: f,
                    path: n.Util.isValid(g.path) ? g.path : null
                };
                return this.socket = io.connect(y, m), this.socket.on("connect", function() {
                    n.Util.log("client connected"), h.wasSocketConnected = !0;
                }), this.socket.on("connect", c[200]), this.socket.on("connect_error", function(t) {
                    n.Util.log("connect_error"), n.Util.log(t, n.Util.ERROR), h.wasSocketConnected || (h.socket.disconnect(), 
                    h.socket = void 0);
                }), this.socket.on("error", function(t) {
                    n.Util.isValid(t) && n.Util.log(t, n.Util.ERROR);
                    var e = t;
                    n.Util.isValid(e.code) && n.Util.isValid(c[e.code]) && c[e.code]();
                }), this.socket.on("connect_error", c[503]), this.socket.on("reconnect_attempt", function() {
                    n.Util.isValid(h.zone) ? f.zone = h.zone : n.Util.isValid(f.zone) || delete f.zone, 
                    h.socket.io.opts.query = f;
                }), this.socket.on("message", function(t) {
                    a(t);
                }), this.socket.on("playerJoined", function(t) {
                    n.Util.log("player Joined - playerId: " + t), s(t);
                }), this.socket.on("playerLeft", function(t) {
                    n.Util.log("player Left - playerId: " + t), l(t);
                }), this.socket.on("playerList", function(t) {
                    n.Util.log("player list received"), o(t);
                }), this.socket.on("disconnect", function() {
                    n.Util.log("Disconnected from multiplayer server"), r();
                }), !0;
            }
            return !1;
        }, t.prototype.emitMessage = function(t, e) {
            return null !== this.assignHandlers(e, [ "200" ], "emit message") && null !== this.socket && (this.socket.emit("message", t), 
            !0);
        }, t.prototype.getWorldList = function(t) {
            var e = this.assignHandlers(t, [ "200", "400", "500", "503" ], "get world list");
            if (null !== e) {
                var i = this.defaultSettings.url.multiplayer + "worlds";
                return this.request("get", i, {}, e, "getWorldList", {
                    ignoreHeaders: !0
                }), !0;
            }
            return !1;
        }, t.prototype.login = function(t, e) {
            var i = this;
            if (null !== this.uniqueKey && null !== this.userID) return !1;
            var a = this.assignHandlers(e, [ "200", "400", "401", "404", "426" ], "login");
            if (null !== a) {
                var n = a[200];
                return a[200] = function(t) {
                    i.uniqueKey = t.authToken, i.userID = t.userID, n(t);
                }, null !== this.clientVersion && (t.clientVersion = this.clientVersion), 
                this.request("post", this.defaultSettings.root + "v3/login", t, a, "login"), 
                !0;
            }
            return !1;
        }, t.prototype.adminLogin = function(t, e, i, a) {
            var n = this, o = this.assignHandlers(a, [ "200", "401", "404" ], "Admin Login");
            if (null !== o) {
                var r = this.defaultSettings.root + "v2/admin/user/info", s = o[200];
                return o[200] = function(t) {
                    n.uniqueKey = t.authToken, n.userID = t.userID, s(t);
                }, this.request("get", r, {
                    userId: t,
                    sessionToken: e,
                    key: i
                }, o, "adminLogin", {
                    ignoreHeaders: !0
                }), !0;
            }
            return !1;
        }, t.prototype.verifyClassCode = function(t, e) {
            var i = this.assignHandlers(e, [ "200", "400", "404", "500" ], "verifyClassCode");
            return null !== i && (this.request("post", this.defaultSettings.root + "v1/classCode/" + t, {}, i, "verify-class-code"), 
            !0);
        }, t.prototype.attachStudentUsingClassCode = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "attachStudentUsingClassCode");
            return null !== i && (this.request("post", this.defaultSettings.root + "v1/users/" + this.userID + "/teacher", {
                classCode: t
            }, i, "attachStudentUsingCassCode"), !0);
        }, t.prototype.create = function(t, e, i, a) {
            i.first_name = t, i.last_name = e, null !== this.clientVersion && (i.clientVersion = this.clientVersion);
            var n = this.assignHandlers(a, [ "200", "400", "426", "500" ], "create");
            return null !== n && (this.request("post", this.defaultSettings.root + "v2/users", i, n, "create"), 
            !0);
        }, t.prototype.createCharacter = function(t, e, i) {
            var a = this.assignHandlers(i, [ "200" ], "createCharacter");
            return null !== a && (this.request("post", this.defaultSettings.root + "v2/characters/" + t, {
                data: JSON.stringify(e)
            }, a, "createCharacter"), !0);
        }, t.prototype.updateUser = function(t, e) {
            var i = this.assignHandlers(e, [ "200", "401" ], "update user properties");
            return t.clientVersion = this.clientVersion, null !== i && (this.request("patch", this.defaultSettings.root + "v2/users/" + this.userID, t, i, "update"), 
            !0);
        }, t.prototype.setParentEmail = function(t, e) {
            var i = this.assignHandlers(e, [ "200", "401", "500" ], "update user parent email");
            return null !== i && (this.request("patch", this.defaultSettings.root + "v2/users/" + this.userID, {
                parentEmail: t
            }, i, "updateParentEmail"), !0);
        }, t.prototype.logout = function(t) {
            this.uniqueKey = null, this.userID = null, null !== this.socket && (this.socket.disconnect(), 
            this.socket = null), t[200] && t[200]();
        }, t.prototype.updateCharacter = function(t, e) {
            var i = this.assignHandlers(e, [ "200", "401" ], "update property");
            return null !== i && (this.request("post", this.defaultSettings.root + "v2/characters/" + this.userID, {
                data: JSON.stringify(t)
            }, i, "update"), !0);
        }, t.prototype.leaveZone = function() {
            null !== this.socket && (this.zone = null, this.socket.emit("leaveZone"));
        }, t.prototype.joinZone = function(t) {
            null !== this.socket && (this.zone = t, this.socket.emit("joinZone", t));
        }, t.prototype.loadSkills = function(t, e, i) {
            var a = this.assignHandlers(i, [ "200" ], "get user ability");
            if (null !== a) {
                var n = this.defaultSettings.url.education + "v1/users/" + this.userID, o = this.defaultSettings.url.assignments + "v1/user/" + this.userID + "/assignments/active", r = this.defaultSettings.url.web + "v1/students/" + this.userID + "/parent-goal", s = {
                    token: this.uniqueKey,
                    userID: this.userID
                }, l = a[200], h = 0, c = {};
                return a[200] = function() {
                    if (h++, c[this.url] = Array.prototype.slice.call(arguments), 
                    3 === h) {
                        var t = null, e = null, i = null;
                        Object.keys(c).forEach(function(a) {
                            -1 !== a.indexOf("assignment-api") ? e = c[a] : -1 !== a.indexOf("web-api") ? i = c[a] : t = c[a];
                        }), i && (t[0].goalId = i[0].goalId), t[0].homework = e[0], 
                        l.apply(null, t);
                    }
                }, this.request("get", n, {
                    classIDs: e.join(",")
                }, a, "load_skills"), this.request("get", o, s, a, "load_skills"), 
                this.request("get", r, s, a, "load_parent_goalId"), !0;
            }
            return !1;
        }, t.prototype.updateStrandBasedPlacementTest = function(t, e, i) {
            var a = this.assignHandlers(i, [ "200" ], "update strand-based placement test");
            if (a) {
                var n = this.defaultSettings.url.education + "v2/placement-tests/instance/" + t + "/" + this.userID;
                return e.token = this.uniqueKey, e.userID = this.userID, this.request("post", n, e, a, "updateStrandBasedPlacementTest"), 
                !0;
            }
            return !1;
        }, t.prototype.updatePlanStudent = function(t, e, i, a) {
            var n = this.assignHandlers(a, [ "200" ], "fail plan"), o = {
                token: this.uniqueKey,
                userID: this.userID
            };
            return void 0 !== e && (o.currentSkillId = e), void 0 !== i && (o.hasFailed = i ? 1 : 0), 
            null !== n && (this.request("post", this.defaultSettings.url.planner + "v1/plans/" + t + "/users/" + this.userID, o, n, "updatePlanStudent"), 
            !0);
        }, t.prototype.updatePlacementTest = function(t, e, i) {
            var a = this.assignHandlers(i, [ "200" ], "update placement test");
            return null !== a && (this.request("post", this.defaultSettings.url.account + "v2/users/" + this.userID + "/education/" + t + "/placement-test", {
                ownerIDs: e
            }, a, "upgradePlacementTest"), !0);
        }, t.prototype.saveAnswer = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "save answer");
            return null !== i && (this.request("post", this.defaultSettings.root + "v1/users/" + this.userID + "/answers", t, i, "saveAnswer"), 
            !0);
        }, t.prototype.getUserClass = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "get user class");
            return null !== i && (this.request("get", this.defaultSettings.url.account + "v2/user/" + this.userID + "/class/" + t, {}, i, "getUserClass"), 
            !0);
        }, t.prototype.getClassLeaderboard = function(t, e, i, a) {
            var n = this.assignHandlers(a, [ "200" ], "get leaderboard");
            return null !== n && (this.request("get", this.defaultSettings.url.leaderboard + "class/" + t, {
                limit: i,
                storeDataInPlayerList: !0,
                seasonID: e
            }, n, "leaderboard", {
                ignoreHeaders: !0
            }), !0);
        }, t.prototype.getSeasonLeaderboard = function(t, e, i, a) {
            void 0 === e && (e = 0), void 0 === i && (i = 30), void 0 === a && (a = {});
            var n = this.assignHandlers(a, [ "200" ], "get season leaderboard");
            return null !== n && (this.request("get", this.defaultSettings.url.leaderboard + "season/" + t, {
                page: e,
                limit: i
            }, n, "leaderboard", {
                ignoreHeaders: !0
            }), !0);
        }, t.prototype.getUserLeaderboard = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "get user leaderboard");
            return null !== i && (this.request("get", this.defaultSettings.url.leaderboard + "season/" + t + "/user/" + this.userID, {}, i, "leaderboard", {
                ignoreHeaders: !0
            }), !0);
        }, t.prototype.getUserRank = function(t, e, i) {
            var a = this.assignHandlers(i, [ "200" ], "get user rank");
            return null !== a && (this.request("get", this.defaultSettings.url.leaderboard + "season/" + e + "/user/" + t + "/rank", {}, a, "leaderboard", {
                ignoreHeaders: !0
            }), !0);
        }, t.prototype.updateUserLeaderboard = function(t, e, i) {
            var a = this.assignHandlers(i, [ "200" ], "update user leaderboard");
            return null !== a && (this.request("post", this.defaultSettings.url.leaderboard + "season/" + t + "/user/" + this.userID + "/pvp", {
                seasonID: t,
                action: e
            }, a, "updateUserLeaderboard"), !0);
        }, t.prototype.initUserLeaderboard = function(t) {
            var e = this.assignHandlers(t, [ "200" ], "init user leaderboard");
            return null !== e && (this.request("get", this.defaultSettings.url.leaderboard + "user/" + this.userID + "/init", {}, e, "initUserLeaderboard"), 
            !0);
        }, t.prototype.getUserFeed = function(t, e, i, a, o, r) {
            void 0 === t && (t = null), void 0 === e && (e = null), void 0 === i && (i = 0), 
            void 0 === a && (a = 30), void 0 === o && (o = null);
            var s = this.assignHandlers(r, [ "200" ], "get user feed");
            if (null !== s) {
                var l = this.defaultSettings.url.gameFeed + "v1/user/" + this.userID + "/view";
                return n.Util.isValid(e) && (l = l + "?targetUserID=" + e), this.request("get", l, {
                    feedTypeID: t,
                    offset: i,
                    limit: a,
                    startDate: o
                }, s, "getUserFeed"), !0;
            }
            return !1;
        }, t.prototype.createUserFeed = function(t, e, i, a, n) {
            void 0 === t && (t = null), void 0 === e && (e = "{}"), void 0 === i && (i = ""), 
            void 0 === a && (a = "false");
            var o = this.assignHandlers(n, [ "200" ], "create user feed");
            return null !== o && (this.request("post", this.defaultSettings.url.gameFeed + "v1/user/" + this.userID + "/feed", {
                feedTypeID: t,
                metaData: e,
                mapping: i,
                shared: a
            }, o, "createUserFeed"), !0);
        }, t.prototype.likeUserFeed = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "like user feed");
            return null !== i && (this.request("post", this.defaultSettings.url.gameFeed + "v1/user/" + this.userID + "/feed/" + t + "/like", {}, i, "likeUserFeed"), 
            !0);
        }, t.prototype.shareUserFeed = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "share user feed");
            return null !== i && (this.request("post", this.defaultSettings.url.gameFeed + "v1/user/" + this.userID + "/feed/" + t + "/share", {}, i, "shareUserFeed"), 
            !0);
        }, t.prototype.getUserLikes = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "get user likes");
            return null !== i && (this.request("get", this.defaultSettings.url.gameFeed + "v1/user/" + this.userID + "/feed/" + t + "/likes", {}, i, "getUserLikes"), 
            !0);
        }, t.prototype.openMail = function(t, e, i) {
            var a = this.assignHandlers(i, [ "200" ], "Mark mail as read");
            return null !== a && (this.request("post", this.defaultSettings.url.mailer + "v1/mail/" + t, {
                id: t,
                rawData: e,
                userID: this.userID
            }, a, "openMail"), !0);
        }, t.prototype.getAllMail = function(t, e, i, a, o, r, s) {
            void 0 === t && (t = null);
            var l = this.assignHandlers(s, [ "200" ], "get user mails"), h = n.Util.isValid(t) ? t.toISOString().substring(0, 10) : null, c = n.Util.isValid(i) ? i.substring(0, 10) : "2010-01-01", p = n.Util.isValid(a) ? a.substring(0, 10) : null;
            return null !== l && (this.request("get", this.defaultSettings.url.mailer + "v1/mail", {
                offset: o,
                limit: r,
                isMember: e,
                memberStartDate: c,
                memberEndDate: p,
                userID: this.userID,
                userRegisterDate: h
            }, l, "getAllMail"), !0);
        }, t.prototype.deleteMail = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "delete mail");
            return null !== i && (this.request("delete", this.defaultSettings.url.mailer + "v1/mail/" + t, {
                id: t,
                type: "broadcast",
                userID: this.userID
            }, i, "deleteMessage"), !0);
        }, t.prototype.getTotalMail = function(t, e, i, a, o) {
            var r = this.assignHandlers(o, [ "200" ], "get user mail counts"), s = n.Util.isValid(t) ? t.toISOString().substring(0, 10) : null, l = n.Util.isValid(i) ? i.substring(0, 10) : "2010-01-01", h = n.Util.isValid(a) ? a.substring(0, 10) : null;
            return null !== r && (this.request("get", this.defaultSettings.url.mailer + "v1/mailer/count", {
                type: "broadcast",
                userID: this.userID,
                isMember: e,
                userRegisterDate: s,
                memberStartDate: l,
                memberEndDate: h
            }, r, "getMailCounts"), !0);
        }, t.prototype.getUser = function(t, e, i) {
            var a = this.assignHandlers(i, [ "200" ], "getUserData");
            return null !== a && (this.request("get", this.defaultSettings.root + "v2/characters/" + t + "?fields=" + e.join(","), {}, a, "getUser", {
                ignoreHeaders: !0
            }), !0);
        }, t.prototype.getTitans = function(t) {
            var e = this.assignHandlers(t, [ "200" ], "get titans");
            return null !== e && (this.request("get", this.defaultSettings.url.titan + "v1/titans", {
                userID: this.userID
            }, e, "getTitans"), !0);
        }, t.prototype.getTitan = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "get titans");
            return null !== i && (this.request("get", this.defaultSettings.url.titan + "v1/titan/" + t, {
                userID: this.userID
            }, i, "getTitan"), !0);
        }, t.prototype.hitTitan = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "get titans");
            return null !== i && (this.request("post", this.defaultSettings.url.titan + "v1/titan/" + t + "/hit", {
                userID: this.userID,
                hits: 1
            }, i, "hitTitan"), !0);
        }, t.prototype.getTitanUserData = function(t) {
            var e = this.assignHandlers(t, [ "200" ], "get titan user data");
            return null !== e && (this.request("get", this.defaultSettings.url.titan + "v1/titan/user/" + this.userID, {}, e, "getTitanUserData"), 
            !0);
        }, t.prototype.startMatchmaking = function(t, e, i, a) {
            var n = this.assignHandlers(a, [ "200", "503" ], "startMatchmaking");
            return null !== n && (this.request("post", this.defaultSettings.url.matchmaking + "begin", {
                userID: this.userID,
                level: t,
                score: e,
                playerData: i,
                serverId: this.apiData.getMultiplayerClusterForWorld(this.worldID).ID,
                token: this.uniqueKey
            }, n, "startMatchmaking"), !0);
        }, t.prototype.quitMatchmaking = function(t) {
            var e = this.assignHandlers(t, [ "200" ], "quitMatchmaking");
            return null !== e && (this.request("post", this.defaultSettings.url.matchmaking + "end", {
                userID: this.userID,
                token: this.uniqueKey
            }, e, "quitMatchmaking"), !0);
        }, t.prototype.getFriendList = function(t) {
            var e = this.assignHandlers(t, [ "200", "400", "401", "404", "406", "409", "423", "500", "503" ], "getFriendList");
            return null !== e && (this.request("get", this.defaultSettings.url.friend + "v1/friend/" + this.userID, {
                token: this.uniqueKey,
                offset: 0,
                limit: 0
            }, e, "getFriendList"), !0);
        }, t.prototype.getTotalFriendRequests = function(t) {
            var e = this.assignHandlers(t, [ "200", "400", "401", "404", "406", "409", "423", "500", "503" ], "getTotalFriendRequests");
            return null !== e && (this.request("get", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/countFriendRequest", {
                token: this.uniqueKey
            }, e, "getTotalFriendRequests"), !0);
        }, t.prototype.getFriendRequestList = function(t, e, i) {
            var a = this.assignHandlers(i, [ "200", "400", "401", "404", "406", "409", "423", "500", "503" ], "getFriendRequestList");
            return null !== a && (this.request("get", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/request", {
                token: this.uniqueKey,
                offset: t,
                limit: e
            }, a, "getFriendRequestList"), !0);
        }, t.prototype.sendFriendRequest = function(t, e) {
            var i = this.assignHandlers(e, [ "200", "400", "401", "404", "406", "409", "423", "500", "503" ], "sendFriendRequest");
            return null !== i && (this.request("post", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/add/" + t, {
                token: this.uniqueKey
            }, i, "sendFriendRequest"), !0);
        }, t.prototype.cancelFriendRequest = function(t, e) {
            var i = this.assignHandlers(e, [ "200", "400", "401", "404", "406", "409", "423", "500", "503" ], "cancelFriendRequest");
            return null !== i && (this.request("delete", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/cancel/" + t, {
                token: this.uniqueKey
            }, i, "cancelFriendRequest"), !0);
        }, t.prototype.acceptFriendRequest = function(t, e) {
            var i = this.assignHandlers(e, [ "200", "400", "401", "404", "406", "409", "423", "500", "503" ], "acceptFriendRequest");
            return null !== i && (this.request("post", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/accept/" + t, {
                token: this.uniqueKey
            }, i, "acceptFriendRequest"), !0);
        }, t.prototype.rejectFriendRequest = function(t, e) {
            var i = this.assignHandlers(e, [ "200", "400", "401", "404", "406", "409", "423", "500", "503" ], "rejectFriendRequest");
            return null !== i && (this.request("delete", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/reject/" + t, {
                token: this.uniqueKey
            }, i, "rejectFriendRequest"), !0);
        }, t.prototype.removeFriend = function(t, e) {
            var i = this.assignHandlers(e, [ "200", "400", "401", "404", "406", "409", "423", "500", "503" ], "removeFriend");
            return null !== i && (this.request("delete", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/remove/" + t, {
                token: this.uniqueKey
            }, i, "removeFriend"), !0);
        }, t.prototype.getGiftBoxes = function(t) {
            var e = this.assignHandlers(t, [ "200", "400", "401", "403", "409", "500", "503" ], "getGiftBoxes");
            return null !== e && (this.request("get", this.defaultSettings.root + "v1/users/" + this.userID + "/giftboxes", {
                token: this.uniqueKey,
                userID: this.userID
            }, e, "getGiftBoxes"), !0);
        }, t.prototype.updateGiftBox = function(t, e, i) {
            var a = this.assignHandlers(i, [ "200", "400", "401", "403", "409", "500", "503" ], "updateGiftBox");
            return null !== a && (this.request("post", this.defaultSettings.root + "v1/users/" + this.userID + "/giftbox/" + t, {
                token: this.uniqueKey,
                giftBoxData: JSON.stringify(e),
                userID: this.userID
            }, a, "updateGiftBox"), !0);
        }, t.prototype.addGiftBox = function(t, e) {
            var i = this.assignHandlers(e, [ "200", "400", "401", "403", "409", "500", "503" ], "addGiftBox");
            return null !== i && (this.request("post", this.defaultSettings.root + "v1/users/" + this.userID + "/giftboxes", {
                token: this.uniqueKey,
                userID: this.userID,
                giftBoxID: t
            }, i, "addGiftBox"), !0);
        }, t.prototype.trackEvent = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "trackEvent");
            return null !== i && (this.request("post", this.defaultSettings.url.events + "v2/game-events", {
                userID: this.userID,
                token: this.uniqueKey,
                events: t
            }, i, "trackEvent"), !0);
        }, t.prototype.trackEventAnonymous = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "trackEvent");
            return null !== i && (this.request("post", this.defaultSettings.url.events + "v2/anonymous-events", {
                events: t
            }, i, "trackEvent"), !0);
        }, t.prototype.completeAssignment = function(t, e) {
            var i = this.assignHandlers(e, [ "200" ], "completeStudentAssignment");
            return null !== i && (this.request("post", this.defaultSettings.url.assignments + "v1/users/" + this.userID + "/assignments/" + t, {
                token: this.uniqueKey,
                userID: this.userID
            }, i, "completeStudentAssignment"), !1);
        }, t.getDefaultSettings = function() {
            var e = t.ENVIRONMENT_URL_ROOTS[n.Util.getEnvironment()];
            return {
                version: "v1",
                root: e + "game-api/",
                url: {
                    leaderboard: e + "leaderboard-api/",
                    account: e + "account-api/",
                    matchmaking: e + "matchmaking-api/",
                    multiplayer: e + "multiplayer-api/",
                    friend: e + "friend-api/",
                    mailer: e + "game-mailer-api/",
                    planner: e + "planner-api/",
                    assignments: e + "assignment-api/",
                    education: e + "education-api/",
                    events: e + "events-api/",
                    titan: e + "titan-api/",
                    web: e + "web-api/",
                    gameFeed: e + "game-feed-api/"
                }
            };
        }, t.ENVIRONMENT_URL_ROOTS = {
            local: "/",
            dev: "https://api.prodigygame.net/",
            staging: "https://api.prodigygame.org/",
            production: "https://api.prodigygame.com/"
        }, t;
    }();
    e.APIClient = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t() {}
        return t.DATA = [ {
            id: 0,
            subject: "Hello World 0",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42. This text is particularly long so we can figure out what happens when it's very long! Arguably there has to be a logical limit to the size of the text but putting in an entire paragraph is probably a pretty good test of the max size.",
            attachments: [ {
                type: "item",
                ID: 1
            }, {
                type: "item",
                ID: 2
            }, {
                type: "item",
                ID: 3
            } ]
        }, {
            id: 1,
            subject: "SPLIT TEST MAIL",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: [ {
                type: "item",
                ID: 1
            }, {
                type: "item",
                ID: 2
            }, {
                type: "item",
                ID: 3
            }, {
                type: "item",
                ID: 4
            } ],
            gameMethod: {
                name: "openMembershipSignUp",
                params: [ 2 ]
            }
        }, {
            id: 2,
            subject: "Hello World 2",
            isOpened: !1,
            image: "noImage",
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: [ {
                type: "item",
                ID: 1
            }, {
                type: "item",
                ID: 2
            } ]
        }, {
            id: 3,
            subject: "Hello World 3",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: [ {
                type: "currency",
                ID: 11,
                N: 50
            } ]
        }, {
            id: 4,
            subject: "Hello World 4",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 5,
            subject: "You have a Reward Goal!",
            isOpened: !1,
            membership: 0,
            image: null,
            message: "Your parent has setup a goal for you! Answer 10 correct questions and your parent will sent you a Reward!",
            attachments: [],
            gameMethod: {
                name: "openGiftBox",
                params: [ 3 ]
            }
        }, {
            id: 5,
            subject: "You have a Member Box!",
            isOpened: !1,
            membership: 2,
            image: null,
            message: "Your parent has setup a goal for you! Answer 10 correct questions and your parent will sent you a Reward!",
            attachments: [ {
                type: "item",
                ID: 1
            }, {
                type: "item",
                ID: 2
            }, {
                type: "item",
                ID: 3
            }, {
                type: "item",
                ID: 4
            }, {
                type: "item",
                ID: 5
            } ],
            gameMethod: {
                name: "openGiftBox"
            }
        }, {
            id: 5,
            subject: "Sign Up for Membership!",
            isOpened: !1,
            membership: 1,
            image: null,
            message: "Your parent has setup a goal for you! Answer 10 correct questions and your parent will sent you a Reward!",
            attachments: [],
            gameMethod: {
                name: "openMembershipSignUp"
            }
        }, {
            id: 10,
            subject: "Hello World 10",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 20,
            subject: "Hello World 20",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 30,
            subject: "Hello World 30",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 40,
            subject: "Hello World 40",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 50,
            subject: "Hello World 50",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 60,
            subject: "Hello World 60",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 70,
            subject: "Hello World 70",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 80,
            subject: "Hello World 80",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 90,
            subject: "Hello World 90",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 100,
            subject: "Hello World 100",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 1e3,
            subject: "Hello World 1000",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 2e3,
            subject: "Hello World 2000",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 3e3,
            subject: "Hello World 3000",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 4e3,
            subject: "Hello World 4000",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 5e3,
            subject: "Hello World 5000",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 6e3,
            subject: "Hello World 6000",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 7e3,
            subject: "Hello World 7000",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 8e3,
            subject: "Hello World 8000",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 9e3,
            subject: "Hello World 9000",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        }, {
            id: 1e4,
            subject: "Hello World 10000",
            isOpened: !1,
            image: null,
            message: "The answer to the ultimate question of life, the universe, and everything is 42.",
            attachments: []
        } ], t.TOTAL_MAIL = {
            totalUnread: 0
        }, t;
    }();
    e.TestMail = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = function(t) {
        function e(e, i, a, n, o, r) {
            var s = t.call(this, e, i, o, r) || this;
            return s.onIconPressed = null, s.itemIcon = null, s.quantityLabel = null, 
            s.itemID = -1, s.quantityLabel = s.game.prodigy.create.font(s, 0, 65, "0", {
                width: 80,
                align: "right"
            }), s.setItemID(a), s.setQuantity(n), s;
        }
        return n(e, t), e.prototype.setItemID = function(t) {
            this.itemID = t, r.Util.isValid(this.itemIcon) ? this.itemIcon.loadNewTexture("icon-dorm-" + t) : (this.itemIcon = this.add(this.game.prodigy.create.sprite(0, 0, "icon-dorm-" + t)), 
            this.itemIcon.inputEnabled = !0, this.itemIcon.events.onInputDown.add(this.iconPressed, this));
        }, e.prototype.setQuantity = function(t) {
            this.quantityLabel.setText("" + t);
        }, e.prototype.iconPressed = function(t, e) {
            r.Util.isValid(this.onIconPressed) && this.onIconPressed.dispatch(this.itemID, Math.floor(e.x), Math.floor(e.y));
        }, e;
    }(o.Element);
    e.HouseItemIcon = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(641), s = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n) || this;
            return o.onIconPressed = new Phaser.Signal(), o.houseItems = [], o.pageNumber = 0, 
            o.itemIcons = [], o.pageBackground = null, o.prevPageButton = null, 
            o.nextPageButton = null, o.pageBackground = o.add(o.game.prodigy.create.sprite(25, 30, "atlas-18", "overlay-light")), 
            o.pageBackground.alpha = .2, o.pageBackground.width = 670, o.pageBackground.height = 50, 
            o.pageBackground.visible = !1, o.prevPageButton = o.game.prodigy.create.button(o, 0, 30, "atlas-21", "back", o.decreasePageNumber.bind(o)), 
            o.nextPageButton = o.game.prodigy.create.button(o, 670, 30, "atlas-21", "next", o.increasePageNumber.bind(o)), 
            o.prevPageButton.visible = !1, o.nextPageButton.visible = !1, o;
        }
        return n(e, t), e.prototype.getItemCount = function() {
            return this.houseItems.length;
        }, e.prototype.showItems = function(t) {
            this.houseItems = t.slice(), t.length > 0 ? (this.showItemPages(!0), 
            this.setPage(0), this.updatePrevPageButton(), this.updateNextPageButton()) : this.showItemPages(!1);
        }, e.prototype.setPage = function(t) {
            void 0 === t && (t = 0), this.pageNumber = Phaser.Math.clamp(t, 0, this.getPageCount());
            for (var e = this.houseItems.slice(6 * this.pageNumber, 6 * (this.pageNumber + 1)), i = 0; i < Math.max(this.itemIcons.length, e.length); ++i) i < e.length ? this.setItemIcon(i, e[i].ID, e[i].N) : this.itemIcons[i].visible = !1;
        }, e.prototype.reduceQuantity = function(t) {
            var e = this.getItemIndex(t);
            if (e > -1) {
                this.houseItems[e].N -= 1, this.houseItems[e].N <= 0 && this.houseItems.splice(e, 1);
                var i = 6 * this.pageNumber;
                return e >= i && e < i + 6 && (this.houseItems.length > 0 ? (this.pageNumber > this.getPageCount() - 1 ? this.setPage(this.pageNumber - 1) : this.setPage(this.pageNumber), 
                this.updateNextPageButton()) : this.showItemPages(!1)), this.houseItems;
            }
            return [];
        }, e.prototype.increaseQuantity = function(t) {
            var e = this.getItemIndex(t);
            -1 === e && (0 === this.houseItems.length && this.showItemPages(), e = this.houseItems.push({
                ID: t,
                N: 0
            }) - 1), this.houseItems[e].N += 1, this.houseItems.sort(function(t, e) {
                return t.ID - e.ID;
            }), e = this.getItemIndex(t);
            var i = 6 * this.pageNumber;
            return e >= i && e < i + 6 && this.setPage(this.pageNumber), this.updateNextPageButton(), 
            this.updatePrevPageButton(), this.houseItems;
        }, e.prototype.getItemIndex = function(t) {
            return this.houseItems.findIndex(function(e) {
                return e.ID === t;
            });
        }, e.prototype.getPageCount = function() {
            return Math.ceil(this.houseItems.length / 6);
        }, e.prototype.increasePageNumber = function() {
            this.setPage(this.pageNumber + 1), this.updateNextPageButton(), this.updatePrevPageButton();
        }, e.prototype.decreasePageNumber = function() {
            this.setPage(this.pageNumber - 1), this.updatePrevPageButton(), this.updateNextPageButton();
        }, e.prototype.updatePrevPageButton = function() {
            this.pageNumber <= 0 ? this.prevPageButton.setInactive() : this.prevPageButton.isActive || this.prevPageButton.setActive();
        }, e.prototype.updateNextPageButton = function() {
            this.pageNumber >= this.getPageCount() - 1 ? this.nextPageButton.setInactive() : this.nextPageButton.isActive || this.nextPageButton.setActive();
        }, e.prototype.setItemIcon = function(t, e, i) {
            if (t < this.itemIcons.length) this.itemIcons[t].setItemID(e), this.itemIcons[t].setQuantity(i), 
            this.itemIcons[t].visible = !0; else {
                var a = new r.HouseItemIcon(this.game, this, e, i, 100 * t + 70, 0);
                a.onIconPressed = this.onIconPressed, this.itemIcons.push(a);
            }
            var n = "vertical-dorm-" + e;
            this.game.cache.checkImageKey(n) || this.game.prodigy.load.assets([ n ], null);
        }, e.prototype.showItemPages = function(t) {
            void 0 === t && (t = !0), this.pageBackground.visible = t, this.nextPageButton.visible = t, 
            this.prevPageButton.visible = t;
            for (var e = 0; e < this.itemIcons.length; ++e) this.itemIcons[e].visible = t;
        }, e;
    }(o.Element);
    e.HouseItemsScroll = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(117), r = i(116), s = i(40), l = i(3), h = i(34), c = i(50), p = i(4), u = i(0), d = i(642), g = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, -1, {
                hideMenu: !0,
                hideOverlay: !0,
                hideContent: !1
            }) || this;
            return o.focusedItem = null, o.screen = null, o.houseMap = null, o.itemsScroll = null, 
            o.currentCategory = null, o.categories = null, o.trashIcon = null, o.rotateButton = null, 
            o.editStartTime = 0, o.screen = n, o.game = e, o.houseMap = a, o.categories = [ {
                icon: {
                    ID: 1,
                    type: "dorm"
                },
                callback: function() {
                    o.showCategoryPage("Comfy");
                },
                category: "Comfy"
            }, {
                icon: {
                    ID: 3,
                    type: "dorm"
                },
                callback: function() {
                    o.showCategoryPage("Surface");
                },
                category: "Surface"
            }, {
                icon: {
                    ID: 6,
                    type: "dorm"
                },
                callback: function() {
                    o.showCategoryPage("Plants");
                },
                category: "Plants"
            }, {
                icon: {
                    ID: 13,
                    type: "dorm"
                },
                callback: function() {
                    o.showCategoryPage("Storage");
                },
                category: "Storage"
            }, {
                icon: {
                    ID: 18,
                    type: "dorm"
                },
                callback: function() {
                    o.showCategoryPage("Wall");
                },
                category: "Wall"
            }, {
                icon: {
                    ID: 41,
                    type: "dorm"
                },
                callback: function() {
                    o.showCategoryPage("Lamps");
                },
                category: "Lamps"
            }, {
                icon: {
                    ID: 22,
                    type: "dorm"
                },
                callback: function() {
                    o.showCategoryPage("Items");
                },
                category: "Items"
            } ], o.trashIcon = o.game.prodigy.create.button(o, 1160, 500, "atlas-21", "dorm-trash", o.game.prodigy.open.messageBox.bind(o.game.prodigy.open, o.game.prodigy.gameContainer.Localizer.getText("HOUSE_EDITOR_CONFIRM_PACK_UP"), function() {
                o.removeAllItems();
            })), o.updateTrashIcon(), o.rotateButton = o.game.prodigy.create.button(o, 0, 0, "atlas-21", "dorm-rotate", function() {
                o.rotateCurrentFocusedItem();
            }), o.rotateButton.visible = !1, o.rotateButton.sprite.anchor.setTo(.5, .5), 
            n.menuBar.show(!1), o.setup(), o.setEditing(), o.game.input.onUp.add(o.inputReleased, o, -999), 
            o;
        }
        return n(e, t), e.prototype.menuSetup = function() {
            t.prototype.menuSetup.call(this);
            var e = this.game.prodigy.gameContainer.Localizer;
            this.showFrame("map", e.getText("HOUSE_EDITOR_TITLE"), this.categories);
            var i = this.game.prodigy.create.textButton(this, 0, 0, {
                icon: "close",
                text: e.getText("BUTTON_CLOSE")
            }, this.close.bind(this));
            this.showBtns([], [ i ]), this.updateCategoryTabState(), this.itemsScroll = new d.HouseItemsScroll(this.game, this, 190, 620), 
            this.itemsScroll.onIconPressed.add(this.spawnHouseItem, this), this.btns[0].isActive ? this.btns[0].onDown() : this.showCategoryPage(this.categories[0].category), 
            this.editStartTime = Math.floor(Date.now() / 1e3);
        }, e.prototype.close = function() {
            var e = Math.floor(Date.now() / 1e3) - this.editStartTime;
            this.game.prodigy.network.sendAdvancedEvent("game_mod", {
                type: "house",
                id: "",
                tag: this.game.prodigy.player.house.getCurrentHouseTag(),
                length: e
            }, !0), this.screen.menuBar.show(!0), this.game.broadcaster.broadcast(l.EHouseEvents.CloseEditor, this.game), 
            this.setEditing(!1), this.game.input.onUp.remove(this.inputReleased, this), 
            t.prototype.close.call(this);
        }, e.prototype.showCategoryPage = function(t) {
            u.Util.isValid(this.itemsScroll) && (this.currentCategory = t, this.itemsScroll.showItems(this.getUnplacedItemsInCategory(t)));
        }, e.prototype.updateCategoryTabState = function() {
            for (var t = 0; t < this.categories.length; ++t) this.getUnplacedItemsInCategory(this.categories[t].category).length > 0 ? this.btns[t].setActive() : this.btns[t].setInactive();
        }, e.prototype.getUnplacedItemsInCategory = function(t) {
            return this.game.prodigy.player.house.getUnplacedItems().filter(function(e) {
                var i = p.Items.getItem("dorm", e.ID).data;
                return i.category.toLowerCase() === t.toLowerCase() ? i : null;
            });
        }, e.prototype.getIndexOfCategory = function(t) {
            return this.categories.findIndex(function(e) {
                return e.category === t;
            });
        }, e.prototype.spawnHouseItem = function(t, e, i) {
            var a = this;
            this.clearFocusedItem();
            var n = e + (20 - e % 20), r = i - i % 20, s = this.game.prodigy.create.houseItem(this.houseMap.content, t, Math.floor(n), Math.floor(r), 0, this.houseMap).findComponent(o.HouseItem);
            s.setEditable();
            this.game.time.events.add(33, function(t) {
                var e = t.getRenderer().getInputHandler();
                a.game.input.activePointer.isDown && u.Util.isValid(e) ? (e._pointerData[a.game.input.activePointer.id].isDown = !0, 
                e.startDrag(a.game.input.activePointer)) : t.gameObject.destroy();
            }, this, s), s.onItemDropped.addOnce(this.itemWasPlacedInHouse, this);
        }, e.prototype.itemWasPlacedInHouse = function(t, e, i) {
            if (this.itemsScroll.reduceQuantity(t.itemID), this.itemsScroll.getItemCount() < 1) {
                var a = this.getIndexOfCategory(this.currentCategory);
                this.resetButton(a), this.btns[a].setInactive(), this.currentBtn = -1;
            }
            this.houseMap.addHouseItem(t.gameObject), this.registerHouseItemListeners(t), 
            this.game.prodigy.player.house.setActive(t.itemID, e, i, 0, 0, 0, 0, 0), 
            this.updateTrashIcon();
        }, e.prototype.setEditing = function(t) {
            if (void 0 === t && (t = !0), u.Util.isValid(this.houseMap)) for (var e = 0; e < this.houseMap.houseItems.length; ++e) {
                var i = this.houseMap.houseItems[e].findComponent(o.HouseItem);
                i.setEditable(t), t ? this.registerHouseItemListeners(i) : this.unregisterHouseItemListeners(i);
            }
        }, e.prototype.registerHouseItemListeners = function(t) {
            t.onItemInputDown.add(this.itemReceivedFocus, this, 0, t), t.onItemDropped.add(this.checkDeleteItem, this, 0, t), 
            t.onItemMoved.add(this.itemWasMoved, this, 0, t), t.onItemDrag.add(this.hideRotateButton, this);
        }, e.prototype.unregisterHouseItemListeners = function(t) {
            t.onItemInputDown.remove(this.itemReceivedFocus, this), t.onItemDropped.remove(this.checkDeleteItem, this), 
            t.onItemMoved.remove(this.itemWasMoved, this), t.onItemDrag.remove(this.hideRotateButton, this);
        }, e.prototype.checkDeleteItem = function(t) {
            var e = this.trashIcon.getBounds();
            Phaser.Rectangle.intersects(new Phaser.Rectangle(e.x, e.y, e.width, e.height), t.getRenderer().getBounds()) ? (this.clearFocusedItem(), 
            this.removeHouseItem(t)) : u.Util.isValid(this.focusedItem) && this.focusedItem.canRotate() && (this.rotateButton.visible = !0);
        }, e.prototype.removeAllItems = function() {
            for (;this.houseMap.houseItems.length > 0; ) this.removeHouseItem(this.houseMap.houseItems[0].findComponent(o.HouseItem));
            this.updateTrashIcon();
        }, e.prototype.updateTrashIcon = function() {
            this.houseMap.houseItems.length > 0 ? this.trashIcon.setActive() : this.trashIcon.setInactive();
        }, e.prototype.removeHouseItem = function(t) {
            this.clearFocusedItem(), this.houseMap.removeHouseItem(t.gameObject);
            for (var e = p.Items.getItem("dorm", t.itemID).data.category, i = this.game.prodigy.player.house.data.active, a = 0; a < i.length; ++a) if (i[a].ID === t.itemID && Phaser.Math.fuzzyEqual(i[a].x, t.gameObject.x, 5) && Phaser.Math.fuzzyEqual(i[a].y, t.gameObject.y, 5)) {
                this.game.prodigy.player.house.setInactive(i[a]);
                break;
            }
            if (e === this.currentCategory) if (0 === this.itemsScroll.houseItems.length) {
                var n = this.getIndexOfCategory(this.currentCategory);
                this.btns[n].setActive(), this.clickBtn(n, this.btns, this.showCategoryPage.bind(this, this.currentCategory));
            } else this.itemsScroll.increaseQuantity(t.itemID); else this.btns[this.getIndexOfCategory(e)].setActive();
            t.gameObject.destroy();
        }, e.prototype.itemWasMoved = function(t, e, i, a, n) {
            this.updateItem(t, e, i, a, n), this.itemReceivedFocus(t);
        }, e.prototype.updateItem = function(t, e, i, a, n) {
            for (var o = void 0 === e ? t.gameObject.x : e, r = void 0 === i ? t.gameObject.y : i, s = void 0 === a ? t.gameObject.x : a, l = void 0 === n ? t.gameObject.y : n, h = this.game.prodigy.player.house.data.active, c = 0; c < h.length; ++c) if (h[c].ID === t.itemID && Phaser.Math.fuzzyEqual(h[c].x, o, 5) && Phaser.Math.fuzzyEqual(h[c].y, r, 5)) {
                this.game.prodigy.player.house.updateActive(h[c], t.itemID, s, l, 1, 0, 0, 0, t.orientation);
                break;
            }
        }, e.prototype.itemReceivedFocus = function(t) {
            this.focusedItem = t, this.showRotationButton(t);
        }, e.prototype.clearFocusedItem = function() {
            this.focusedItem = null, this.rotateButton.visible = !1;
        }, e.prototype.showRotationButton = function(t) {
            if (this.focusedItem.canRotate()) {
                this.rotateButton.visible = !0;
                var e = t.getRenderer().getWorld();
                this.rotateButton.x = e.x, this.rotateButton.y = e.y - 5;
            }
        }, e.prototype.rotateCurrentFocusedItem = function() {
            var t = this;
            if (u.Util.isValid(this.focusedItem)) {
                var e = this.focusedItem.gameObject.findComponent(c.Renderer);
                e.onLoaded.addOnce(function() {
                    t.focusedItem.setEditable(!1), t.focusedItem.setEditable(!0), 
                    e.playAnimation("idle", !0);
                }), this.focusedItem.rotateItem(), this.updateItem(this.focusedItem);
            }
        }, e.prototype.hideRotateButton = function() {
            this.rotateButton.visible = !1;
        }, e.prototype.inputReleased = function(t) {
            if (u.Util.isValid(t.targetObject)) {
                var e = t.targetObject.sprite.parent, i = e instanceof h.GameObject && u.Util.isValid(e.findComponent(o.HouseItem)), a = e instanceof r.Button && "dorm-rotate" === e.sprite.frameName;
                i || a || this.clearFocusedItem();
            }
        }, e;
    }(s.LegacyMenu);
    e.HouseEditorMenu = g;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(26), s = i(37), l = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            return a.loadButton = null, a.closeButton = null, a.backButton = null, 
            a.createdUI = null, a.create(), a;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.loadButton.onClickCallback = this.loadFile.bind(this), 
            this.closeButton.onClickCallback = this.close.bind(this), this.backButton.onClickCallback = this.showViewer.bind(this), 
            this.showViewer(), this.findUIElement("loadingText").visible = !1;
        }, e.prototype.loadFile = function() {
            var t = document.createElement("INPUT");
            t.setAttribute("type", "file"), t.setAttribute("id", "fileinput"), document.body.appendChild(t), 
            t.addEventListener("change", this.fileChosen.bind(this)), t.click(), 
            document.body.removeChild(t);
        }, e.prototype.fileChosen = function(t) {
            var e = this, i = new FileReader();
            i.onloadstart = function() {
                e.findUIElement("loadingText").visible = !0;
            }, i.onload = function(t) {
                try {
                    e.hideViewer(), e.createSampleUI(i.result);
                } catch (t) {
                    o.Util.log("Error loading config file", o.Util.ERROR);
                }
            }, i.onloadend = function() {
                e.findUIElement("loadingText").visible = !1;
            }, i.onerror = function() {
                o.Util.log("Error loading config file", o.Util.ERROR);
            }, i.readAsText(t.currentTarget.files[0]);
        }, e.prototype.createSampleUI = function(t) {
            var e = this, i = new s.UIParser(this.game), a = s.UIParser.parseJSON(t), n = [ "atlas-157" ];
            o.Util.isValid(a.dependencies) && (n = n.concat(a.dependencies)), o.Util.isValid(a.elements) && this.game.prodigy.load.assets(n, function() {
                e.createdUI = i.createUIElements(a.elements, e.findUIElement("viewerInterface"));
            });
        }, e.prototype.destroyUIElements = function() {
            o.Util.isValid(this.createdUI) && this.createdUI.forEach(function(t) {
                t.destroy();
            });
        }, e.prototype.showViewer = function() {
            this.destroyUIElements(), this.findUIElement("loadInterface").visible = !0, 
            this.findUIElement("viewerInterface").visible = !1;
        }, e.prototype.hideViewer = function() {
            this.findUIElement("loadInterface").visible = !1, this.findUIElement("viewerInterface").visible = !0;
        }, e;
    }(r.Menu);
    e.UIViewer = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(4), r = i(13), s = i(0), l = i(27), h = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 8, {
                modifyProperty: [ {
                    element: "woodBackground",
                    property: "atlasID",
                    value: a
                }, {
                    element: "progressMatte",
                    property: "atlasID",
                    value: a
                }, {
                    element: "summaryMatte",
                    property: "atlasID",
                    value: a
                }, {
                    element: "completeMatte",
                    property: "atlasID",
                    value: a
                }, {
                    element: "jewelMatte",
                    property: "atlasID",
                    value: a
                }, {
                    element: "jewel",
                    property: "atlasID",
                    value: a
                }, {
                    element: "buttonNPC",
                    property: "atlasID",
                    value: a
                }, {
                    element: "mainQuestSlider",
                    property: "endCapAtlasID",
                    value: a
                }, {
                    element: "completeQuestSlider",
                    property: "endCapAtlasID",
                    value: a
                }, {
                    element: "npc",
                    property: "atlasID",
                    value: a
                }, {
                    element: "npcCellMatte",
                    property: "atlasID",
                    value: a
                }, {
                    element: "PlayButtonBackground",
                    property: "atlasID",
                    value: a
                }, {
                    element: "friendScrollBar",
                    property: "atlasID",
                    value: a
                }, {
                    element: "friendsMatte",
                    property: "atlasID",
                    value: a
                }, {
                    element: "bossButtonContainer",
                    property: "visible",
                    value: !1
                } ],
                addChildren: [],
                modifyTemplateProperty: [ {
                    element: "friendsCellMatte",
                    property: "atlasID",
                    value: a
                }, {
                    element: "friendsJewel",
                    property: "atlasID",
                    value: a
                }, {
                    element: "friendsCellHighlightLayer",
                    property: "atlasID",
                    value: a
                } ]
            }) || this;
            return n.currentPage = 0, n.friendProgress = [], n.playerProgress = 0, 
            n.summaryText = null, n.questText = null, n.taskContainer = null, n.zoneDecals = null, 
            n.titleContainer = null, n.completeContainer = null, n.inProgressContainer = null, 
            n.playButton = null, n.bossButton = null, n.rightPage = null, n.leftPage = null, 
            n.closeButton = null, n.mainQuestSlider = null, n.completeQuestSlider = null, 
            n.friendContents = null, n.friendScrollView = null, n.friendCellList = [], 
            n.summaryContainer = null, n.progressContainer = null, n.friendsContainer = null, 
            n.friendScrollBar = null, n.noFriendsElement = null, n.bossButtonContainer = null, 
            n.buttonsContainer = null, n;
        }
        return n(e, t), e.prototype.preprocess = function(t) {
            var e = this;
            this.currentPage = 0, this.friendProgress = this.game.prodigy.friendsListNetworkHandler.getFriendQuestProgress(t.zone), 
            this.sortFriendProgress(), this.playerProgress = this.game.prodigy.player.state.getCompletedQuests(t.zone) + 1, 
            this.queuePostCreateCallback(function() {
                e.openTween(), e.setButtons(), e.setPanelText(t), e.setProgress(t), 
                e.setBorders(t), e.makeNotches(t), e.fillFriends(t), e.friendScrollView.linkScrollBar(e.friendScrollBar), 
                e.getTitan(t);
            });
        }, e.prototype.setConfirm = function(t, e) {
            this.playButton.visible = !0, this.playButton.onClickCallback = this.close.bind(this, t), 
            this.bossButton.onClickCallback = this.close.bind(this, e);
        }, e.prototype.close = function(e) {
            s.Util.isValid(e) && e(), t.prototype.close.call(this);
        }, e.prototype.setPanelText = function(t) {
            this.summaryText.setText(t.summary), this.playerProgress < 1 ? this.taskContainer.visible = !1 : s.Util.isValid(t.msgKeys[this.playerProgress]) && (this.taskContainer.visible = !0, 
            this.questText.setText(this.game.prodigy.gameContainer.Localizer.getText(t.msgKeys[this.playerProgress])));
        }, e.prototype.setBorders = function(t) {
            this.instantiateTemplate(t.tag + "BannerDecals", this.titleContainer), 
            this.instantiateTemplate(t.tag + "ZoneDecals", this.zoneDecals);
        }, e.prototype.setProgress = function(t) {
            var e = this.playerProgress / (Object.keys(t.msgKeys).length + 1);
            e >= 1 && (this.completeContainer.visible = !0, this.inProgressContainer.visible = !1), 
            e > 0 ? this.setPage(1) : this.rightPage.visible = !1, this.mainQuestSlider.setPercentComplete(e + .08, !0), 
            this.completeQuestSlider.setPercentComplete(1, !0);
        }, e.prototype.makeNotches = function(t) {
            var e = Object.keys(t.msgKeys).length + 1, i = [], a = this.mainQuestSlider;
            this.completeContainer.visible && (a = this.completeQuestSlider);
            for (var n = 1, o = this.friendProgress.length - 1; o >= 0; o--) if (o < this.friendProgress.length - 1 && this.friendProgress[o].questProgress === this.friendProgress[o + 1].questProgress) n += 1, 
            i[i.length - 1].friendCount.setText(n.toString()), s.Util.isValid(i[i.length - 1].notch) ? i[i.length - 1].notch.onClickCallback = this.clickNotch.bind(this, o) : i[i.length - 1].notchFlip.onClickCallback = this.clickNotch.bind(this, o); else {
                var r = this.friendProgress[o].questProgress / e;
                if (n = 1, (this.playerProgress % 2 == 1 && this.friendProgress[o].questProgress % 2 == 1 || this.playerProgress % 2 == 0 && this.friendProgress[o].questProgress % 2 == 0) && this.friendProgress[o].questProgress !== e && a !== this.completeQuestSlider) {
                    var l = this.instantiateTemplate("notchFlip", a);
                    l.notchFlip.x = a.getPositionAtPercent(Math.max(r - .035, 0)) + l.notchFlip.width, 
                    l.notchFlip.y = l.notchFlip.defaultY = 75, l.notchFlip.onClickCallback = this.clickNotch.bind(this, o), 
                    i.push(l);
                } else {
                    var h = this.instantiateTemplate("notch", a);
                    h.notch.x = a.getPositionAtPercent(Math.max(r - .035, 0)) + h.notch.width, 
                    h.notch.onClickCallback = this.clickNotch.bind(this, o), i.push(h);
                }
            }
        }, e.prototype.clickNotch = function(t) {
            this.setPage(1);
            var e = 0, i = 0, a = this.friendContents.height, n = this.friendScrollView.viewHeight;
            this.friendContents.children.forEach(function(o) {
                o instanceof l.UIElement && (e === t && (i = o.y / (a - n - 20)), 
                e++);
            }), this.friendScrollView.setToScrollPercent(i);
            var o = this.friendCellList[t].friendsCellHighlightLayer;
            o.alpha = 0, o.visible = !0, this.game.add.tween(o).to({
                alpha: 1
            }, 1e3, Phaser.Easing.Cubic.InOut, !0, 0, 0, !0);
        }, e.prototype.setButtons = function() {
            this.closeButton.onClickCallback = this.close.bind(this), this.leftPage.onClickCallback = this.setPage.bind(this, -1), 
            this.rightPage.onClickCallback = this.setPage.bind(this, 1);
        }, e.prototype.setPage = function(t) {
            switch (this.currentPage += t, this.currentPage) {
              case 0:
                this.summaryContainer.visible = !0, this.progressContainer.visible = !1, 
                this.friendsContainer.visible = !1, this.leftPage.visible = !1;
                break;

              case 1:
                this.summaryContainer.visible = !1, this.progressContainer.visible = !0, 
                this.friendsContainer.visible = !1, this.leftPage.visible = !0, 
                this.rightPage.visible = !0;
                break;

              case 2:
                this.summaryContainer.visible = !1, this.progressContainer.visible = !1, 
                this.friendsContainer.visible = !0, this.rightPage.visible = !1;
            }
            this.currentPage = Math.min(Math.max(0, this.currentPage), 2);
        }, e.prototype.fillFriends = function(t) {
            var e = this;
            this.noFriendsElement.visible = this.friendProgress.length <= 0;
            for (var i = function(i) {
                var n = a.instantiateTemplate("friendCell", a.friendContents);
                n.friendName.setText(a.friendProgress[i].name), n.levelText.setText(a.friendProgress[i].level.toString());
                var o = new r.Player(a.game);
                o.init(a.friendProgress[i]), a.game.prodigy.create.player(n.friendFace, o, 1, 0, 0, !0, !0).reload(), 
                n.memberGraphic.visible = 0 !== a.friendProgress[i].isMember;
                var s = a.friendProgress[i].questProgress / (Object.keys(t.msgKeys).length + 1), l = s >= 1 ? 0 : -14;
                n.friendsQuestSlider.setPercentCompleteOffset(s, l), s > 0 ? n.friendsQuestSlider.thumbSprite.revive() : n.friendsQuestSlider.thumbSprite.kill(), 
                n.friendButton.onClickCallback = function() {
                    e.game.prodigy.open.card(e.game.prodigy.friendsListNetworkHandler.getFriend(o.userID), !0);
                }, a.friendCellList.push(n);
            }, a = this, n = 0; n < this.friendProgress.length; n++) i(n);
            this.friendContents.layoutElement.calculateChildren(), this.friendScrollView.setupVisibleIndicies(), 
            this.friendScrollView.calculateMaxScrollDist();
        }, e.prototype.sortFriendProgress = function() {
            this.friendProgress.sort(function(t, e) {
                return t.questProgress > e.questProgress ? -1 : t.questProgress < e.questProgress ? 1 : t.name.localeCompare(e.name);
            });
        }, e.prototype.getTitan = function(t) {
            this.game.prodigy.titansNetworkHandler.isTitanAlive() && s.Util.isValid(this.game.prodigy.titansNetworkHandler) && this.gotTitanCallback(this.game.prodigy.titansNetworkHandler.titan, t);
        }, e.prototype.gotTitanCallback = function(t, e) {
            if (s.Util.isValid(t)) {
                var i = o.Items.getItem("titan", t.assetID).data;
                this.bossButtonContainer.visible = s.Util.isValid(i) && e.zone === i.zone, 
                this.buttonsContainer.layoutElement.parentModified();
            }
        }, e;
    }(i(26).Menu);
    e.ZoneProgress = h;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        return function(t) {
            this.id = -1, this.isOpened = !1, this.subject = "", this.image = "", 
            this.vImage = 1, this.message = "", this.attachments = [], this.gameMethod = null, 
            this.splitTest = "", this.membership = 0, this.id = t.id, this.isOpened = t.isOpened, 
            this.subject = t.subject, this.image = t.image, this.vImage = t.vImage, 
            this.message = t.message, this.attachments = t.attachments, this.gameMethod = t.gameMethod, 
            this.splitTest = t.splitTest, this.membership = t.membership;
        };
    }();
    e.MailModel = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(195), s = i(0), l = i(646), h = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 5, a) || this;
            return n.mailPerPage = 4, n.mailData = [], n.currentlyDisplayedMailItems = [], 
            n.currentPage = 0, n.mailerSplitTests = null, n.closeButton = null, 
            n.pageLeftButton = null, n.pageRightButton = null, n.mailIconEmpty = null, 
            n.mailDisplay = null, n.mailIcon = null, n.mailCount = null, n.leftButtonUnreadIndicator = null, 
            n.rightButtonUnreadIndicator = null, n.arrowLeftGraphic = null, n.arrowRightGraphic = null, 
            n.noMailNotice = null, n.woodBackground = null, n.mailerSplitTests = new r.MailerSplitTests(e), 
            n.game.broadcaster.addAppListener(o.EMailerEvents.DeleteMailSuccess, n.deleteMailSuccessful.bind(n), n, "ProdigyMailer"), 
            n.game.broadcaster.addAppListener(o.EMailerEvents.DeleteMailFailure, n.onMailActionFailure, n, "ProdigyMailer"), 
            n.game.broadcaster.addAppListener(o.EMailerEvents.CloseList, n.close, n, "ProdigyMailer"), 
            n;
        }
        return n(e, t), e.prototype.preprocess = function() {
            var t = this;
            this.queuePostCreateCallback(function() {
                t.buttonSetup(), t.fetchMail();
            });
        }, e.prototype.close = function(e) {
            s.Util.isValid(this.game) && (this.game.broadcaster.removeAppListener(o.EMailerEvents.GiftBoxOpened, this, "ProdigyMailer"), 
            this.game.broadcaster.removeAppListener(o.EMailerEvents.DeleteMailSuccess, this, "ProdigyMailer"), 
            this.game.broadcaster.removeAppListener(o.EMailerEvents.DeleteMailFailure, this, "ProdigyMailer"), 
            this.game.broadcaster.removeAppListener(o.EMailerEvents.GetAllMailSuccess, this, "ProdigyMailer"), 
            this.game.broadcaster.removeAppListener(o.EMailerEvents.GetAllMailFailure, this, "ProdigyMailer"), 
            this.game.broadcaster.removeAppListener(o.EMailerEvents.GetTotalMailFailure, this, "ProdigyMailer"), 
            this.game.broadcaster.removeAppListener(o.EMailerEvents.CloseList, this, "ProdigyMailer"), 
            this.game.broadcaster.broadcast(o.EMailerEvents.GetTotalMail, "ProdigyMailerButton"), 
            this.removeCachedMailNotificationImages(), s.Util.isValid(e) && e()), 
            t.prototype.close.call(this);
        }, e.prototype.buttonSetup = function() {
            this.closeButton.onClickCallback = this.close.bind(this), this.pageLeftButton.onClickCallback = this.pageLeft.bind(this), 
            this.pageRightButton.onClickCallback = this.pageRight.bind(this), this.pageLeftButton.scale.x = -1, 
            this.pageLeftButton.visible = !1, this.pageRightButton.visible = !1;
        }, e.prototype.fetchMail = function() {
            this.mailIconEmpty.visible = !0, this.game.broadcaster.addAppListener(o.EMailerEvents.GetAllMailSuccess, this.onFetchMailSuccess, this, "ProdigyMailer"), 
            this.game.broadcaster.addAppListener(o.EMailerEvents.GetAllMailFailure, this.onMailActionFailure, this, "ProdigyMailer"), 
            this.game.broadcaster.addAppListener(o.EMailerEvents.GetTotalMailFailure, this.onMailActionFailure, this, "ProdigyMailer"), 
            this.game.broadcaster.broadcast(o.EMailerEvents.GetAllMail, "ProdigyMailer", [ 0, 300 ]);
        }, e.prototype.onFetchMailSuccess = function(t) {
            for (var e = 0; e < t.length; e++) this.mailData.push(new l.MailModel(t[e]));
            this.renderMailItems(this.currentPage), this.updateMailCounter(), this.updatePageButtons(), 
            this.updateNoMailNotice();
        }, e.prototype.onMailActionFailure = function() {
            var t = this;
            if (s.Util.isValid(this.game)) {
                var e = this.game.prodigy.gameContainer.Localizer;
                this.game.prodigy.open.message(e.getText("MAIL_UNAVAILABLE"), function() {
                    t.close();
                }, null, e.getText("MESSAGE_TITLE_OOPS"));
            }
        }, e.prototype.renderMailItems = function(t) {
            if (!(t < 0 || t + 1 > this.getNumPages())) {
                this.currentPage = t, this.clearMailDisplay();
                for (var e = this.currentPage * this.mailPerPage, i = 0, a = e; a < e + this.mailPerPage && !(this.mailData.length <= a); a++) if (!s.Util.isValid(this.mailData[a].splitTest) || this.mailerSplitTests.isInSplitTest(this.mailData[a].splitTest)) {
                    var n = this.instantiateTemplate("mailItem", this.mailDisplay);
                    n.mailItem.y = i, i += n.mailItem.height + 10, 1 === this.mailData[a].membership && (n.memberCell.visible = !0), 
                    this.currentlyDisplayedMailItems.push(n), n.subject.setText(this.mailData[a].subject), 
                    n.openButtonGraphic.visible = !0, n.unOpenButtonGraphic.visible = !1, 
                    n.secretButton.onClickCallback = this.openMail.bind(this, a), 
                    n.openButton.onClickCallback = this.openMail.bind(this, a), 
                    n.deleteButton.onClickCallback = this.deleteMail.bind(this, a), 
                    this.mailData[a].isOpened || 1 !== this.mailData[a].membership || (n.deleteButton.visible = !1), 
                    this.mailData[a].isOpened || (n.openButtonGraphic.visible = !1, 
                    n.unOpenButtonGraphic.visible = !0);
                } else this.mailData.splice(a, 1), a--;
            }
        }, e.prototype.clearMailDisplay = function() {
            for (var t = 0; t < this.currentlyDisplayedMailItems.length; t++) this.currentlyDisplayedMailItems[t].mailItem.destroy();
            this.currentlyDisplayedMailItems = [];
        }, e.prototype.pageRight = function() {
            this.renderMailItems(this.currentPage + 1), this.updatePageButtons();
        }, e.prototype.pageLeft = function() {
            this.renderMailItems(this.currentPage - 1), this.updatePageButtons();
        }, e.prototype.updateMailEntry = function(t) {
            var e = this.mailDisplay.children[t + 1];
            s.Util.isValid(e) && (e.children[e.children.length - 1].visible = !0);
        }, e.prototype.updateMailCounter = function() {
            for (var t = 0, e = 0; e < this.mailData.length; e++) !this.mailData[e].isOpened && this.mailerSplitTests.isInSplitTest(this.mailData[e].splitTest) && t++;
            this.mailIconEmpty.visible = t <= 0, this.mailIcon.visible = !this.mailIconEmpty.visible, 
            t > 99 ? this.mailCount.setText("99 +") : this.mailCount.setText(t.toString());
        }, e.prototype.updatePageButtons = function() {
            this.pageLeftButton.visible = this.currentPage > 0, this.pageRightButton.visible = this.currentPage < this.getNumPages() - 1, 
            this.updatePageIndicators();
        }, e.prototype.updatePageIndicators = function() {
            if (this.leftButtonUnreadIndicator.visible = this.pageLeftButton.isActive, 
            this.rightButtonUnreadIndicator.visible = this.pageRightButton.isActive, 
            this.currentPage > 0) {
                this.leftButtonUnreadIndicator.visible = !1, this.arrowLeftGraphic.visible = !0;
                for (var t = this.currentPage * this.mailPerPage - 1; t > 0; t--) if (!this.mailData[t].isOpened) {
                    this.leftButtonUnreadIndicator.visible = !0, this.arrowLeftGraphic.visible = !1;
                    break;
                }
            }
            if (this.currentPage < this.getNumPages() - 1) {
                this.rightButtonUnreadIndicator.visible = !1, this.arrowRightGraphic.visible = !0;
                for (t = (this.currentPage + 1) * this.mailPerPage; t < this.mailData.length; t++) if (!this.mailData[t].isOpened) {
                    this.rightButtonUnreadIndicator.visible = !0, this.arrowRightGraphic.visible = !1;
                    break;
                }
            }
        }, e.prototype.updateNoMailNotice = function() {
            this.noMailNotice.visible = this.mailData.length <= 0;
        }, e.prototype.openMail = function(t) {
            var e = this.mailData[t];
            this.openMailMenu(e), this.mailHasGameMethod(e, "openGiftBox") ? this.game.broadcaster.addAppListener(o.EMailerEvents.GiftBoxOpened, this.updateOpenedStatus.bind(this, t, !0), this, "ProdigyMailer", null) : this.updateOpenedStatus(t, !0);
        }, e.prototype.mailHasGameMethod = function(t, e) {
            return s.Util.isValid(t.gameMethod) && t.gameMethod.name === e;
        }, e.prototype.updateOpenedStatus = function(t, e) {
            this.mailData[t].isOpened = e, this.currentlyDisplayedMailItems[t % this.mailPerPage].openButtonGraphic.visible = e, 
            this.currentlyDisplayedMailItems[t % this.mailPerPage].unOpenButtonGraphic.visible = !e, 
            this.updateMailCounter(), this.updatePageButtons(), this.updateNoMailNotice(), 
            this.updateMailEntry(t);
        }, e.prototype.openMailMenu = function(t) {
            var e = this;
            this.woodBackground.visible = !1, this.game.prodigy.open.openMail(t).setCloseCallback(function() {
                e.woodBackground.visible = !0;
            });
        }, e.prototype.deleteMail = function(t) {
            this.mailData[t].isOpened ? this.networkDeleteMailCall(t) : this.game.prodigy.open.messageBox(this.game.prodigy.gameContainer.Localizer.getText("MAILBOX_DELETE_MESSAGE"), this.networkDeleteMailCall.bind(this, t));
        }, e.prototype.networkDeleteMailCall = function(t) {
            this.game.input.enabled = !1, this.game.broadcaster.broadcast(o.EMailerEvents.DeleteMail, "ProdigyMailer", [ this.mailData[t], this.mailData[t].id ]), 
            this.mailData.splice(t, 1), this.currentPage >= this.getNumPages() && (this.currentPage = Math.max(this.currentPage - 1, 0)), 
            this.clearMailDisplay(), this.updateMailCounter(), this.renderMailItems(this.currentPage), 
            this.updatePageButtons();
        }, e.prototype.deleteMailSuccessful = function() {
            this.game.input.enabled = !0, this.updateNoMailNotice();
        }, e.prototype.getNumPages = function() {
            return Math.ceil(this.mailData.length / this.mailPerPage);
        }, e.prototype.removeCachedMailNotificationImages = function() {
            for (var t = 0; t < this.mailData.length; t++) {
                var e = this.mailData[t].image;
                this.game.cache.checkImageKey(e) && this.game.cache.removeImage(e, !0);
            }
        }, e;
    }(i(26).Menu);
    e.YourMail = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(3), s = i(0), l = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 9, {
                modifyProperty: [ {
                    element: "rewardsContainer",
                    property: "visible",
                    value: !a
                }, {
                    element: "infoContainer",
                    property: "visible",
                    value: a
                } ],
                addChildren: [],
                modifyTemplateProperty: []
            }) || this;
            return n.infoToggle = !1, n.closeButton = null, n.playerProgress = 0, 
            n.percentageComplete = 0, n.progressSlider = null, n.timer = null, n.infoToggle = a, 
            e.broadcaster.addAppListener(r.ETitanEvents.GotTitan, function() {
                n.renderBar();
            }, n, "TitanProgress", !1), n;
        }
        return n(e, t), e.prototype.preprocess = function() {
            var t = this;
            this.queuePostCreateCallback(function() {
                t.openTween(), t.closeButton.onClickCallback = t.close.bind(t), 
                t.callTitanHits();
            });
        }, e.prototype.close = function(e) {
            s.Util.isValid(this.timer) && window.clearInterval(this.timer), s.Util.isValid(e) && e(), 
            this.game.broadcaster.removeAppListener(r.ETitanEvents.GotTitan, this, "TitanProgress"), 
            t.prototype.close.call(this);
        }, e.prototype.callTitanHits = function() {
            this.infoToggle || this.game.prodigy.titansNetworkHandler.getTitan(this.game.prodigy.titansNetworkHandler.titan.id, "TitanProgress");
        }, e.prototype.renderBar = function() {
            this.game.prodigy.titansNetworkHandler.isTitanAlive() ? (this.playerProgress = o(this.game.prodigy.titansNetworkHandler, "titan.hits", 0), 
            this.percentageComplete = this.playerProgress / 70, this.setProgress(), 
            this.makeNotches()) : this.titanDeadKick();
        }, e.prototype.setProgress = function() {
            this.progressSlider.setPercentComplete(this.percentageComplete, !0);
        }, e.prototype.makeNotches = function() {
            for (var t = this.game.prodigy.titansNetworkHandler.titan.increments, e = this.game.prodigy.titansNetworkHandler.titan.rewards, i = 0; i < t.length; i++) {
                var a = void 0;
                (a = this.playerProgress < t[i] || this.playerProgress > t[i] && i < t.length - 1 && this.playerProgress < t[i + 1] || this.playerProgress > t[i] && i === t.length - 1 ? this.instantiateTemplate("notch", this.progressSlider).notch : this.instantiateTemplate("notchFade", this.progressSlider).notchFade).x = this.progressSlider.getPositionAtPercent(Math.min(t[i] / 70, .95)) + a.width, 
                a.y = a.defaultY = 75, a.children[2].setText(e[i].toString());
            }
        }, e.prototype.titanDeadKick = function() {
            var t = this, e = this.game.prodigy.gameContainer.Localizer;
            this.game.prodigy.open.message(e.getText("TITAN_DEFEATED_MESSAGE"), function() {
                t.close(function() {
                    t.game.prodigy.world.teleport("lamplight-B3");
                });
            }, null, e.getText("TITAN_DEFEATED_TITLE"), null, {
                isModal: !1
            });
        }, e;
    }(i(26).Menu);
    e.TitanProgress = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n, 21) || this;
            return o.newAttackList = [], o.newAttackList = a.getMyUniqueAttacks(n), 
            o.queuePostCreateCallback(o.showNextSpell.bind(o), o.setupButton.bind(o)), 
            o;
        }
        return n(e, t), e.prototype.showNextSpell = function() {
            this.newAttackList.length <= 0 ? this.close() : (this.game.prodigy.audio.playSFX(32, "popUpDisplay"), 
            this.loadSpell(this.newAttackList.shift()));
        }, e.prototype.loadSpell = function(t) {
            var e = this, i = this.game.prodigy.attacks.getAttack(t);
            this.setActionText(this.game.prodigy.gameContainer.Localizer.getText("SUMMARY_POPUP_NEW_SPELL_LEARNED", this.currentCreature.getSourceName(), i.data.name));
            var a = i.data.element;
            a = o.Util.convertLegacyElements(a), this.ballDisplay.image.frameName = "pet-icon-backers/pet-icon-backers-" + a, 
            o.Util.isValid(this.spellIcon) && (this.spellIcon.destroy(), this.spellIcon = null), 
            this.okayButton.visible = !1, this.game.prodigy.effects.spellLearned(i, this, function() {
                e.spellIcon = e.game.prodigy.create.sprite(0, 0, "icon-spell-" + t, null, new Phaser.Point(.5, .5), function(t) {
                    o.Util.isValid(e.spriteHolder) && (e.spriteHolder.add(t), e.game.add.tween(t.scale).from({
                        x: 0,
                        y: 0
                    }, 1e3, Phaser.Easing.Elastic.Out, !0), e.game.prodigy.audio.playSFX(32, "popUpDisplay"));
                }), e.okayButton.visible = !0;
            });
        }, e.prototype.setupButton = function() {
            this.okayButton.onUpCallback = this.showNextSpell.bind(this);
        }, e.prototype.isRequired = function() {
            return this.newAttackList.length > 0;
        }, e.prototype.getBannerLocKey = function() {
            return "SUMMARY_POPUP_NEW_SPELL";
        }, e;
    }(i(118).SummaryPopup);
    e.SpellSummary = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n, 21) || this;
            return o.numHeartsGained = 0, o.numHeartsGained = a.getBaseMaxHearts() - n.getBaseMaxHearts(), 
            o.queuePostCreateCallback(o.setup.bind(o)), o;
        }
        return n(e, t), e.prototype.isRequired = function() {
            return this.numHeartsGained > 0;
        }, e.prototype.getBannerLocKey = function() {
            return "SUMMARY_POPUP_NEW_HEARTS";
        }, e.prototype.setup = function() {
            var t = this;
            this.game.prodigy.audio.playSFX(32, "popUpDisplay"), this.game.prodigy.create.sprite(0, 0, "atlas-17", "icon-heart", new Phaser.Point(.5, .5), function(e) {
                o.Util.isValid(t.spriteHolder) && (t.spriteHolder.add(e), t.game.add.tween(e.scale).from({
                    x: 0,
                    y: 0
                }, 1e3, Phaser.Easing.Elastic.Out, !0));
            }), this.setActionText(this.game.prodigy.gameContainer.Localizer.getText("SUMMARY_POPUP_HEARTS_EARNED", this.currentCreature.getSourceName(), this.numHeartsGained));
        }, e;
    }(i(118).SummaryPopup);
    e.HeartSummary = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = i(18), s = i(25), l = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n, 20) || this;
            return o.evolutionTime = 5e3, o.modalContainerNames = [ "stopButtonContainer", "okayButtonContainer", "evolveButtonContainer" ], 
            o.queuePostCreateCallback(o.sparkle.bind(o), o.fillElements.bind(o), o.setupButtons.bind(o)), 
            o.startEvolutionLevel = n.getLevel(), o.availableEvolutions = a.getAvailableEvolutions(), 
            o;
        }
        return n(e, t), e.prototype.isRequired = function() {
            return this.currentCreature.getLevel() > this.startEvolutionLevel && this.availableEvolutions.length > 0;
        }, e.prototype.getBannerLocKey = function() {
            return "SUMMARY_POPUP_EVOLUTION";
        }, e.prototype.showButtonSet = function(t) {
            for (var e = 0; e < this.modalContainerNames.length; e++) this[this.modalContainerNames[e]].visible = this.modalContainerNames[e] === t;
        }, e.prototype.sparkle = function() {
            this.evolutionEffect.playAnimation("just sparkle", !0);
        }, e.prototype.setupButtons = function() {
            this.evolveButton.onUpCallback = this.performEvolution.bind(this), this.stopButton.onUpCallback = this.stopEvolution.bind(this), 
            this.okayButton.onUpCallback = this.onOkayButtonPress.bind(this), this.closeButton.onUpCallback = this.closeTween.bind(this);
        }, e.prototype.fillElements = function() {
            this.game.prodigy.audio.playSFX(32, "popUpDisplay"), this.game.prodigy.player.hasMembership() ? this.setActionText(this.game.prodigy.gameContainer.Localizer.getText("CREATURE_IS_EVOLVING", this.originalCreatureCopy.getSourceName())) : this.setActionText(this.game.prodigy.gameContainer.Localizer.getText("CREATURE_TRYING_TO_EVOLVE", this.originalCreatureCopy.getSourceName())), 
            this.currentCreature.getLevel() >= 100 && this.evolveLaterText.setText(this.game.prodigy.gameContainer.Localizer.getText("DO_NOT_EVOLVE")), 
            this.game.prodigy.player.hasMembership() ? (this.showButtonSet("stopButtonContainer"), 
            this.startEvolutionTimer()) : this.showButtonSet("evolveButtonContainer"), 
            this.loadMonsterSprite(this.originalCreatureCopy.getID());
            var t = this.originalCreatureCopy.getElement();
            t = o.Util.convertLegacyElements(t), this.ballDisplay.image.frameName = "pet-icon-backers/pet-icon-backers-" + t;
        }, e.prototype.performEvolution = function() {
            this.game.prodigy.player.hasMembership() ? this.evolveSuccess() : (this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: r.EFunnelEventIDs.FunnelEvolutionMemberLock,
                name: r.EFunnelEventIDs.StageEvolutionClickButton
            }, !0), this.game.prodigy.open.membershipInfo(this.memberConverted.bind(this), {
                conversionFunnelName: r.EFunnelEventIDs.FunnelEvolutionMemberLock,
                conversionStage: r.EFunnelEventIDs.StageEvolutionConverted
            }, s.MembershipInfo.EVOLVE_PETS));
        }, e.prototype.memberConverted = function() {
            this.game.prodigy.player.hasMembership() && (this.showButtonSet(""), 
            setTimeout(this.evolveSuccess.bind(this), 100));
        }, e.prototype.stopEvolution = function() {
            this.setActionText(this.game.prodigy.gameContainer.Localizer.getText("CREATURE_STOPPED_EVOLVING", this.originalCreatureCopy.getSourceName())), 
            clearTimeout(this.evolutionTimerID), this.okayButton.onUpCallback = this.closeTween.bind(this), 
            this.evolutionEffect.alpha = 0, this.showButtonSet("okayButtonContainer");
        }, e.prototype.startEvolutionTimer = function() {
            this.evolutionTimerID = setTimeout(this.performEvolution.bind(this), this.evolutionTime);
        }, e.prototype.evolveSuccess = function() {
            if (this.game.prodigy.player.hasMembership()) {
                var t = this.availableEvolutions[0], e = Math.max(this.startEvolutionLevel, t.lvl);
                this.currentCreature.evolve(t.e, e), this.doEvolveAnimation();
            }
        }, e.prototype.doEvolveAnimation = function() {
            var t = this.game.prodigy.gameContainer.Localizer.getText("CREATURE_IS_EVOLVING", this.originalCreatureCopy.getSourceName());
            this.actionText.text.text !== t && this.setActionText(t), this.showButtonSet(""), 
            setTimeout(this.loadMonsterSprite.bind(this, this.currentCreature.getID()), 2e3), 
            this.evolutionEffect.playAnimation("sparkle mask", !1, this.doneEvolveAnimation.bind(this));
        }, e.prototype.doneEvolveAnimation = function() {
            this.game.prodigy.audio.playSFX(32, "popUpDisplay"), this.setActionText(this.currentCreature.getSourceName() + "!"), 
            this.showButtonSet("okayButtonContainer");
        }, e.prototype.loadMonsterSprite = function(t) {
            var e = this;
            o.Util.isValid(this.monsterIcon) && (this.monsterIcon.destroy(), this.monsterIcon = null), 
            this.monsterIcon = this.game.prodigy.create.sprite(0, 0, "icon-pet-" + t, null, new Phaser.Point(.5, .5), function(t) {
                o.Util.isValid(e.spriteHolder) && e.spriteHolder.add(t);
            });
        }, e.prototype.onOkayButtonPress = function() {
            this.availableEvolutions = this.currentCreature.getAvailableEvolutions(), 
            this.availableEvolutions.length > 0 ? (this.originalCreatureCopy = this.currentCreature.createDataClone(), 
            this.fillElements()) : this.closeTween();
        }, e;
    }(i(118).SummaryPopup);
    e.EvolutionSummary = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o, r = i(2), s = i(57), l = i(3), h = i(13), c = i(0), p = i(26);
    !function(t) {
        t[t.All = 0] = "All", t[t.Me = 1] = "Me", t[t.Friend = 2] = "Friend";
    }(o = e.CurrentTab || (e.CurrentTab = {}));
    var u = function(t) {
        function e(i, a, n) {
            var r = t.call(this, i, a, 22, e.configModifiers) || this;
            return r.friendCellList = [], r.friendsIDList = [], r.feedData = [], 
            r.currentTab = o.All, i.prodigy.notifications.getFeedDate = new Date(), 
            r.game = i, t.prototype.setCloseCallback.call(r, n), r;
        }
        return n(e, t), e.prototype.preprocess = function() {
            var t = this;
            this.game.prodigy.network.sendAdvancedEvent("game_social", {
                meta: JSON.stringify({
                    name: "game_social",
                    type: "hub",
                    action: "open",
                    num_friends: this.game.prodigy.friendsListNetworkHandler.friendsList.length,
                    num_classmates: this.game.prodigy.friendsListNetworkHandler.classList.length
                })
            }), this.game.prodigy.friendsListNetworkHandler.getUserAppearance(this.game.prodigy.friendsListNetworkHandler.classList, !0), 
            this.game.broadcaster.addAppListener(l.EFriendsListEvents.GotFriendsListAppearance, this.switchTab.bind(this, o.All), this, "FriendsList", !1), 
            this.queuePostCreateCallback(function() {
                t.getLists(), t.setButtons();
            });
        }, e.prototype.getLists = function() {
            this.friendsIDList = c.Util.getFriendAndClassmateIds(this.game);
            var t = [], e = 15;
            this.currentTab === o.Friend ? t = this.friendsIDList : this.currentTab === o.All && ((t = this.friendsIDList).push(this.game.prodigy.player.userID), 
            e = 20), c.Util.isValid(r.GameConstants.get("GameConstants.Debug.FEED_LIMIT")) && (e = r.GameConstants.get("GameConstants.Debug.FEED_LIMIT")), 
            this.getUserFeed("", t, 0, e);
        }, e.prototype.getUserFeed = function(t, e, i, a) {
            this.game.prodigy.network.getUserFeed(t, e, i, a, null, this.getUserFeedSuccess.bind(this), this.getUserFeedFailure.bind(this));
        }, e.prototype.getUserFeedSuccess = function(t) {
            this.feedData = c.Util.isValid(t.events) ? t.events : [], this.clearScrollView(), 
            this.fillView();
        }, e.prototype.getUserFeedFailure = function() {
            this.clearScrollView(), this.fillView();
        }, e.prototype.setButtons = function() {
            this.allButton.onUpCallback = this.switchTab.bind(this, o.All), this.friendButton.onUpCallback = this.switchTab.bind(this, o.Friend), 
            this.meButton.onUpCallback = this.switchTab.bind(this, o.Me), this.closeButton.onClickCallback = this.close.bind(this);
        }, e.prototype.switchTab = function(t) {
            this.currentTab = t, this.getLists();
        }, e.prototype.setupScrollBar = function() {
            this.feedScrollView.linkScrollBar(this.feedScrollBar), this.feedScrollView.setToScrollPercent(0);
        }, e.prototype.fillView = function() {
            this.friendButton.visible = !(this.currentTab === o.Friend), this.meButton.visible = !(this.currentTab === o.Me), 
            this.allButton.visible = !(this.currentTab === o.All), this.friendTab.visible = this.currentTab === o.Friend, 
            this.meTab.visible = this.currentTab === o.Me, this.allTab.visible = this.currentTab === o.All, 
            this.clearScrollView();
            for (var t = 0; t < this.feedData.length; t++) if (!(this.currentTab === o.Me && this.feedData[t].userID !== this.game.prodigy.player.userID || this.currentTab === o.Friend && this.feedData[t].userID === this.game.prodigy.player.userID)) {
                var e = this.renderFriendCell(this.feedData[t]);
                c.Util.isValid(e) && this.friendCellList.push(e);
            }
            this.feedContents.layoutElement.calculateChildren(), this.feedScrollView.setupVisibleIndicies(), 
            this.feedScrollView.calculateMaxScrollDist(), this.setupScrollBar(), 
            this.noFeedAll.visible = this.friendCellList.length <= 0 && this.currentTab === o.All, 
            this.noFeedMe.visible = this.friendCellList.length <= 0 && this.currentTab === o.Me, 
            this.noFeedFriend.visible = this.friendCellList.length <= 0 && this.currentTab === o.Friend, 
            this.feedScrollBar.visible = this.friendCellList.length > 4;
        }, e.prototype.renderFriendCell = function(t) {
            var e = null;
            if (c.Util.isValid(t)) {
                e = this.instantiateTemplate("notificationCell", this.feedContents);
                for (var i = t.body.value, a = 0; a < t.mapping.length; a++) i = i.replace("{p" + a + "}", t.mapping[a]);
                if (t.userID === this.game.prodigy.player.userID) {
                    e.meCellMatte.visible = !0, i = i.replace("{id}", "You"), e.notificationText.setText(i);
                    var n = new h.Player(this.game, !0);
                    n.init(this.game.prodigy.player.getPlayerData()), this.game.prodigy.create.player(e.friendFace, n, 1, 0, 0, !0, !0, !1, !0).reload();
                } else {
                    e.friendsCellMatte.visible = !0;
                    var o = this.game.prodigy.friendsListNetworkHandler.classList, r = this.game.prodigy.friendsListNetworkHandler.friendsList;
                    r = r.concat(o);
                    for (a = 0; a < r.length; a++) if (r[a].userID === t.userID) {
                        if (!c.Util.isValid(r[a].appearance)) return null;
                        var l = new h.Player(this.game, !0);
                        l.init(r[a]), this.game.prodigy.create.player(e.friendFace, l, 1, 0, 0, !0, !0, !1, !0).reload(), 
                        i = i.replace("{id}", l.appearance.getName()), e.notificationText.setText(i);
                        break;
                    }
                }
                if (t.feedTypeID !== s.NotificationType.MEMBERSHIP && t.feedTypeID !== s.NotificationType.MEMBERBOX || (e.mememberCellMatte.visible = !0, 
                e.meCellMatte.visible = !1, e.friendsCellMatte.visible = !1), t.shared) {
                    if (t.userID === this.game.prodigy.player.userID) e.shareButton.visible = !1, 
                    e.likeButton.visible = !0, e.likeButton.toggleActive(), e.likeButton.setButtonState("down"), 
                    c.Util.isValid(e.likeContainer) && (e.likeContainer.visible = t.numLikes > 0), 
                    e.likeText.setText("" + t.numLikes); else if (e.shareButton.visible = !1, 
                    e.likeButton.visible = !0, e.likeButton.onDownCallback = this.likeNotification.bind(this, t, "hub", e), 
                    c.Util.isValid(e.likeContainer) && (e.likeContainer.visible = t.numLikes > 0), 
                    e.likeText.setText("" + t.numLikes), "" !== t.likes) -1 !== t.likes.split(",").indexOf(this.game.prodigy.player.userID.toString()) && (e.likeButton.toggleActive(), 
                    e.likeButton.setButtonState("down"));
                } else e.likeButton.visible = !1, e.shareButton.onDownCallback = this.shareNotification.bind(this, t, "hub", e);
            }
            return e;
        }, e.prototype.likeNotification = function(t, e, i) {
            (i.likeContainer.visible = t.numLikes + 1 > 0, i.likeText.setText("" + (t.numLikes + 1)), 
            "" !== t.likes) && (-1 !== t.likes.split(",").indexOf(this.game.prodigy.player.userID.toString()) && i.likeButton.toggleActive());
            this.game.prodigy.notifications.likeNotification(t, e);
        }, e.prototype.shareNotification = function(t, e, i) {
            i.shareButton.visible = !1, i.likeButton.visible = !0, i.likeButton.toggleActive(), 
            i.likeButton.setButtonState("down"), this.game.prodigy.notifications.shareNotification(t, e);
        }, e.prototype.clearScrollView = function() {
            c.Util.isValid(this.feedScrollBar) && (this.feedScrollBar.visible = !1);
            for (var t = 0; t < this.friendCellList.length; t++) for (var e in this.friendCellList[t]) this.friendCellList[t][e].destroy();
            this.feedScrollView.clearScrollView(), this.friendCellList = [], this.setupScrollBar();
        }, e.prototype.close = function(e) {
            this.game.prodigy.notifications.friendNotificationQueue = [], c.Util.isValid(e) && e(), 
            this.game.broadcaster.removeAppListener(l.EFriendsListEvents.GotFriendsListAppearance, this, "FriendsList"), 
            this.game.prodigy.notifications.getSocialNotifications(3), t.prototype.close.call(this);
        }, e;
    }(p.Menu);
    e.SocialFeed = u;
}, function(t, e, i) {
    "use strict";
    var a;
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t[t.Day = 0] = "Day", t[t.Hour = 1] = "Hour", t[t.Minute = 2] = "Minute", 
        t[t.Second = 3] = "Second";
    }(a = e.CountdownTimerType || (e.CountdownTimerType = {}));
    var n = function() {
        function t(t, e, i) {
            this.DAY = 864e5, this.HOUR = 36e5, this.MINUTE = 6e4, this.SECOND = 1e3, 
            this.game = t, this.tickCallback = i, this.targetTimestamp = e.getTime(), 
            this.timerEvent = t.time.events.loop(1e3, this.updateTime, this), this.updateTime();
        }
        return t.prototype.stop = function() {
            this.game.time.events.remove(this.timerEvent);
        }, t.prototype.updateTime = function() {
            var t = new Date(), e = this.targetTimestamp - t.getTime(), i = null, n = 0;
            e < 0 && (e = 0), e >= this.DAY ? (n = Math.floor(e / this.DAY), i = a.Day) : e >= this.HOUR ? (n = Math.floor(e / this.HOUR), 
            i = a.Hour) : e >= this.MINUTE ? (n = Math.floor(e / this.MINUTE), i = a.Minute) : (n = Math.floor(e / this.SECOND), 
            i = a.Second), this.tickCallback(n, i);
        }, t;
    }();
    e.CountdownTimer = n;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            return a.game = e, a.jarBack = e.add.group(a), a.jarMiddle = e.add.group(a), 
            a.jarFront = e.add.group(a), a.spriteParentLoadWrap(0, 0, "atlas-164", "jar-back", a.jarBack), 
            a.spriteParentLoadWrap(0, 0, "atlas-164", "jar-front", a.jarFront), 
            a.cork = a.spriteParentLoadWrap(40, 0, "atlas-164", "cork", a.jarMiddle), 
            a;
        }
        return n(e, t), e.prototype.spriteParentLoadWrap = function(t, e, i, a, n) {
            return this.game.prodigy.create.sprite(t, e, i, a, null, function(t) {
                n.add(t);
            });
        }, e.prototype.fillJar = function(t) {
            var e = this;
            if (t >= 1) {
                this.jarFillLevel = t;
                var i = this.getSpriteFillFrame(t);
                this.game.prodigy.create.sprite(0, 0, "atlas-164", i, null, function(t) {
                    e.jarMiddle.add(t, !1, 0), e.filledStars = t;
                });
            } else t < 0 && this.game.prodigy.create.sprite(0, 0, "atlas-164", "dust", null, function(t) {
                e.jarMiddle.add(t, !1, 0);
            });
        }, e.prototype.fillJarAnimate = function(t, e) {
            var i = this;
            if (void 0 === e && (e = 0), t >= 1 && t !== this.jarFillLevel) {
                if (!o.Util.isValid(this) || !o.Util.isValid(this.game)) return;
                this.jarFillLevel = t;
                var a = this.getSpriteFillFrame(t);
                this.game.prodigy.create.sprite(0, 0, "atlas-164", a, null, function(t) {
                    i.jarMiddle.add(t, !1, 0);
                    var a = i.game.add.tween(t).from({
                        alpha: 0
                    }, 1e3, Phaser.Easing.Linear.None, !1, e);
                    a.onStart.add(function() {
                        i.game.prodigy.audio.playSound(22);
                    }), a.onComplete.add(function() {
                        o.Util.isValid(i.filledStars) && i.filledStars.destroy(), 
                        i.filledStars = t;
                    }), a.start();
                });
            }
        }, e.prototype.openJar = function() {
            this.game.prodigy.audio.playSound(26);
            this.game.add.tween(this.cork).to({
                y: this.cork.y - 100,
                alpha: 0
            }, 1e3, Phaser.Easing.Cubic.Out, !0), this.doStarFlyOutAnimation(), 
            this.doStarFadeAnimation();
        }, e.prototype.doStarFadeAnimation = function() {
            var t = this, e = 0, i = [ this.filledStars ];
            for (e = this.jarFillLevel - 1; e > 0; e--) {
                var a = this.game.prodigy.create.sprite(0, 0, "atlas-164", "stars-fill-" + e, null, function(e) {
                    t.jarMiddle.add(e, !1, 0);
                });
                i.push(a);
            }
            var n = 2500 / i.length, o = 0;
            for (o = 0; o < i.length; o++) this.game.add.tween(i[o]).to({
                alpha: 0
            }, n, Phaser.Easing.Linear.None, !0, o * n + 500);
        }, e.prototype.doStarFlyOutAnimation = function() {
            var t = 0;
            for (t = 0; t < 20; t++) setTimeout(this.flyOneStar.bind(this), 100 * t);
        }, e.prototype.flyOneStar = function() {
            var t = this.game.prodigy.create.sprite(100, 200, "atlas-19", "member-star");
            this.jarBack.add(t);
            var e = this.game.add.tween(t), i = this.game.add.tween(t);
            e.to({
                y: Phaser.Math.between(-360, -200)
            }, 500, Phaser.Easing.Cubic.Out), e.to({
                y: 400
            }, 500, Phaser.Easing.Cubic.In), e.delay(500), e.start(), i.to({
                x: -Phaser.Math.between(-500, 500)
            }, 1e3, Phaser.Easing.Linear.None, !0, 500);
        }, e.prototype.getSpriteFillFrame = function(t) {
            return "stars-fill-" + Math.min(4, t);
        }, e;
    }(Phaser.Group);
    e.StarJarContainer = r;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(34), n = i(52), o = function() {
        return function(t, e, i, o) {
            this.starComponent = n.RenderFactory.createRenderer("spine-18", {
                type: "spine"
            }), this.starComponent.onLoaded.add(function() {
                setTimeout(t.prodigy.audio.playSound.bind(t.prodigy.audio, 24), 367), 
                setTimeout(t.prodigy.audio.playSound.bind(t.prodigy.audio, 23), 2450);
            }), new a.GameObject(t, e, [ this.starComponent ], i, o), this.starComponent.playAnimation("animation");
        };
    }();
    e.MemberStarAnimation = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(655), n = i(654), o = i(119), r = i(653), s = i(0), l = i(18), h = i(25), c = function() {
        function t(t, e, i) {
            void 0 === i && (i = null), this.showingMembership = !1, this.game = t, 
            this.parentMenu = e, this.starController = new o.MemberStarController(this.game), 
            this.openCallback = i, e.onDestroy.add(this.destroy.bind(this));
        }
        return t.prototype.beginAnimation = function(t) {
            this.parentMenu.memberSectionContents.alpha = 0;
            var e = 3700;
            this.starController.hasExpired() && !this.game.prodigy.player.hasMembership() && this.starController.getNumberOfStoredStars() > 0 ? e = 700 : setTimeout(this.showMemberStar.bind(this), 700), 
            setTimeout(this.fillMemberJar.bind(this, t), e), setTimeout(this.fadeDisplay.bind(this, !0), e);
        }, t.prototype.createMemberStarsGain = function() {
            this.parentMenu.memberStarsGot.visible = !0, this.parentMenu.memberStarsGot.setText(this.game.prodigy.gameContainer.Localizer.getText(this.parentMenu.getTeamSize() > 1 ? "GAINED_MEMBER_STARS_EACH" : "GAINED_MEMBER_STARS", this.parentMenu.xpGained.memberXP)), 
            this.parentMenu.starJarTimer.visible = !1, this.parentMenu.wizardLevels.visible = !1, 
            this.parentMenu.wizardLevelsWorth.visible = !1, this.parentMenu.starsInJarLabel.visible = !1, 
            this.parentMenu.bonusStarsButton.visible = !1, setTimeout(this.openCallback.bind(this.parentMenu, this.parentMenu.xpGained.memberXP, !1), 1e3);
        }, t.prototype.createExpiredJar = function() {
            this.starJar.fillJar(-1), this.parentMenu.starJarTimer.visible = !1, 
            this.parentMenu.bonusStarsButton.visible = !1, this.parentMenu.wizardLevels.visible = !1, 
            this.parentMenu.bottomMemberTitleText.setText(this.game.prodigy.gameContainer.Localizer.getText("JAR_EXPIRED")), 
            this.parentMenu.starsInJarLabel.setText(this.game.prodigy.gameContainer.Localizer.getText("JAR_BECOME_MEMBER")), 
            this.parentMenu.wizardLevelsWorth.visible = !1, this.parentMenu.starsInJarLabel.x += 70, 
            this.starJar.x += 125, this.starJar.y += 10, this.starController.doLoseStars(), 
            setTimeout(this.parentMenu.showCloseButton.bind(this.parentMenu, !0), 1500);
        }, t.prototype.ceateRegularJar = function(t, e) {
            var i = this;
            this.starJar.fillJar(this.starController.calculateStarJarTier(this.starController.getNumberOfStoredStars() - e)), 
            this.starJar.fillJarAnimate(this.starController.getStarJarTier(), 700), 
            this.parentMenu.wizardLevelsValue.setText(t), this.parentMenu.starsInJarValue.setText(this.starController.getNumberOfStoredStars() - e), 
            t <= 0 ? (this.parentMenu.wizardLevels.visible = !1, this.parentMenu.wizardLevelsWorth.visible = !1, 
            this.parentMenu.wizardLevelsValue.visible = !1) : 1 === t && this.parentMenu.wizardLevels.setText(this.game.prodigy.gameContainer.Localizer.getText("WIZARD_LEVEL"));
            var a = {
                number: this.starController.getNumberOfStoredStars() - e
            }, n = this.game.add.tween(a).to({
                number: this.starController.getNumberOfStoredStars()
            }, 1e3, Phaser.Easing.Quadratic.Out, !0, 700);
            n.onUpdateCallback(function() {
                i.parentMenu.starsInJarValue.setText(Math.round(a.number));
            }), n.onComplete.add(function() {
                i.parentMenu.starsInJarValue.setText(a.number);
            }), this.createCountdownTimer(), this.setupJarClickables(), this.starController.getNumberOfStoredStars() > 0 && this.game.prodigy.player.hasMembership() ? (this.parentMenu.bottomDisplayBlueStar.image.inputEnabled = !1, 
            this.parentMenu.starJarTimer.visible = !1, this.parentMenu.bonusStarsButton.visible = !1, 
            setTimeout(this.openJar.bind(this), 2500), this.parentMenu.bonusStarsButton.visible = !1) : setTimeout(this.parentMenu.showCloseButton.bind(this.parentMenu, !0), 1500);
        }, t.prototype.fillMemberJar = function(t) {
            if (this.game.prodigy.player.hasMembership() && this.starController.getNumberOfStoredStars() <= 0) this.createMemberStarsGain(); else {
                this.starJar = new n.StarJarContainer(this.game, this.parentMenu.starJarContainer);
                var e = this.starController.getNumberOfLevels(this.parentMenu.getTeamSize());
                this.starJar.x -= Math.round(this.starJar.width / 2), this.starJar.y -= Math.round(this.starJar.height / 2), 
                this.starJar.scale = new Phaser.Point(.8, .8), this.starController.hasExpired() ? this.createExpiredJar() : this.ceateRegularJar(e, t);
            }
        }, t.prototype.fadeDisplay = function(t) {
            this.game.add.tween(this.parentMenu.memberSectionContents).to({
                alpha: t ? 1 : 0
            }, 500, Phaser.Easing.Linear.None, !0);
        }, t.prototype.destroy = function() {
            s.Util.isValid(this.countdownTimer) && this.countdownTimer.stop();
        }, t.prototype.showMemberStar = function() {
            new a.MemberStarAnimation(this.game, this.parentMenu.bottomDisplayBlueStar, 280, 30);
        }, t.prototype.createCountdownTimer = function() {
            var t = this;
            this.countdownTimer = new r.CountdownTimer(this.game, this.starController.getNextExpirationDate(), function(e, i) {
                switch (t.parentMenu.jarTimeValue.setText(e.toString()), i) {
                  case r.CountdownTimerType.Day:
                    t.parentMenu.jarTimeLeft.setText(t.game.prodigy.gameContainer.Localizer.getText(1 === e ? "COUNTDOWN_DAY_LEFT" : "COUNTDOWN_DAYS_LEFT"));
                    break;

                  case r.CountdownTimerType.Hour:
                    t.parentMenu.jarTimeLeft.setText(t.game.prodigy.gameContainer.Localizer.getText(1 === e ? "COUNTDOWN_HOUR_LEFT" : "COUNTDOWN_HOURS_LEFT"));
                    break;

                  case r.CountdownTimerType.Minute:
                    t.parentMenu.jarTimeLeft.setText(t.game.prodigy.gameContainer.Localizer.getText(1 === e ? "COUNTDOWN_MINUTE_LEFT" : "COUNTDOWN_MINUTES_LEFT"));
                    break;

                  case r.CountdownTimerType.Second:
                    e > 0 && t.parentMenu.jarTimeValue.setText("1"), t.parentMenu.jarTimeLeft.setText(t.game.prodigy.gameContainer.Localizer.getText(0 === e ? "COUNTDOWN_MINUTES_LEFT" : "COUNTDOWN_MINUTE_LEFT"));
                }
            });
        }, t.prototype.setupJarClickables = function() {
            this.parentMenu.bottomDisplayBlueStar.image.inputEnabled = !0, this.parentMenu.bottomDisplayBlueStar.image.events.onInputUp.add(this.onStarJarMembershipClick.bind(this)), 
            this.parentMenu.bonusStarsButton.onUpCallback = this.onStarJarMembershipClick.bind(this);
        }, t.prototype.onStarJarMembershipClick = function() {
            var t = this;
            if (!this.showingMembership) {
                this.showingMembership = !0;
                var e = {
                    conversionFunnelName: "NonMember-Star-Jar",
                    conversionStage: "Member-Converted",
                    conversionFunnelMetadata: null
                };
                this.game.prodigy.network.sendConversionFunnelEvent(e.conversionFunnelName, l.EFunnelEventIDs.StageClickStars, e.conversionFunnelMetadata), 
                this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                    type: "NonMember-Star-Jar",
                    name: "Jar-Click"
                }), this.game.prodigy.open.membershipInfo(function() {
                    t.showingMembership = !1, t.game.prodigy.player.hasMembership() && (t.parentMenu.showCloseButton(!1), 
                    t.openJar());
                }, e, h.MembershipInfo.MORE_EXP);
            }
        }, t.prototype.openJar = function() {
            this.parentMenu.bottomDisplayBlueStar.image.inputEnabled = !1, this.parentMenu.starJarTimer.visible = !1, 
            this.parentMenu.bonusStarsButton.visible = !1, this.starJar.openJar(), 
            this.parentMenu.starsInJarLabel.setText("Gained Stars:");
            var t = this.starController.obtainStoredMemberStars() / this.parentMenu.getTeamSize();
            setTimeout(this.openCallback.bind(this.parentMenu, t, !0), 1e3);
        }, t;
    }();
    e.StarJarUI = c;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t(t, e, i, a, n) {
            this.currentCreature = t, this.originalCreatureCopy = e, this.menuFactory = i, 
            this.onFinalSummaryClosed = n, this.onPopupCreated = a;
        }
        return t.prototype.launchSummaryPopups = function() {
            var t = this, e = this.menuFactory.evolutionSummary(this.currentCreature, this.originalCreatureCopy);
            e.setOnCreateCallback(this.onPopupCreated), e.setCloseCallback(function() {
                var e = t.menuFactory.heartSummary(t.currentCreature, t.originalCreatureCopy);
                e.setOnCreateCallback(t.onPopupCreated), e.setCloseCallback(function() {
                    var e = t.menuFactory.spellSummary(t.currentCreature, t.originalCreatureCopy);
                    e.setOnCreateCallback(t.onPopupCreated), e.setCloseCallback(t.onFinalSummaryClosed);
                });
            });
        }, t;
    }();
    e.SummaryPopupController = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(5), s = i(3), l = i(25), h = i(0), c = i(18), p = function(t) {
        function e(e, i, a, n, o, r) {
            var s = t.call(this, e, i) || this;
            if (s.levelUp = !1, s.openCallback = null, s.chests = [], s.locked = !1, 
            s.chestOpened = null, s.rewards = null, s.openCallback = r, Math.random() > .6 && s.game.prodigy.player.getLevel() >= -5 && a) {
                var l = 0 === Math.floor(2 * Math.random());
                s.chests.push(s.createChest(l ? 110 : -110, n)), s.chests.push(s.createChest(l ? -110 : 110, n.concat(o), !0));
            } else s.chests.push(s.createChest(0, n));
            return s.rewards = s.game.prodigy.create.element(s, 0, 0), s.initListeners(), 
            s;
        }
        return n(e, t), e.prototype.createChest = function(t, e, i) {
            var a = this;
            void 0 === i && (i = !1);
            var n = this.game.prodigy.create.element(this, t, 0), o = this.game.prodigy.create.sprite(0, 95, "atlas-17", i ? "member-chest-bottom" : "chest-bottom");
            o.inputEnabled = !0, n.add(o);
            var r = this.game.prodigy.create.sprite(0, i ? -25 : 0, "atlas-17", i ? "member-chest-closed" : "chest-closed");
            r.inputEnabled = !0, n.add(r);
            var s = {
                element: n,
                reward: e,
                specialChest: i,
                chestId: i ? 2 : 1,
                box: o,
                lid: r
            };
            return r.events.onInputDown.add(function() {
                a.onDown(s);
            }, this), o.events.onInputDown.add(function() {
                a.onDown(s);
            }, this), s;
        }, e.prototype.initListeners = function() {
            var t = this;
            o.default.get("GameConstants.Build.DEBUG") && (this.game.broadcaster.addAppListener(s.EDebugEvents.AutoClickScene, function(e) {
                t.onDebugAutoClick(e);
            }, this), this.game.broadcaster.addAppListener(s.EDebugEvents.AutoClickList, function() {
                t.onDebugAutoClickList();
            }, this)), this.game.broadcaster.addAppListener(s.EChestEvents.ShowMemberStars, function() {
                t.game.broadcaster.broadcast(s.EFlyingStarsEvents.MemberStarsDone, t.game, [ t.levelUp ]);
            }, this, this.game), this.onDestroy.add(this.stopListeners, this);
        }, e.prototype.stopListeners = function() {
            h.Util.isValid(this.chestOpened) && h.Util.isValid(this.chestOpened.box) && this.chestOpened.box.destroy(), 
            this.game.broadcaster.removeAppListener(s.EChestEvents.ShowMemberStars, this, this.game), 
            o.default.get("GameConstants.Build.DEBUG") && (this.game.broadcaster.removeAppListener(s.EDebugEvents.AutoClickScene, this, this.game), 
            this.game.broadcaster.removeAppListener(s.EDebugEvents.AutoClickList, this, this.game));
        }, e.prototype.onDebugAutoClick = function(t) {
            "chest_1" === t ? this.onDown(this.chests[0]) : "chest_2" === t && this.onDown(this.chests[1]);
        }, e.prototype.onDebugAutoClickList = function() {
            for (var t = 0; t < this.chests.length; t++) h.Util.log("Scene Tag: chest_" + this.chests[t].chestId);
        }, e.prototype.onDown = function(t) {
            var e = this;
            if (!this.locked) {
                if (t.lid.y = -30, this.chestOpened = t, t.specialChest && this.game.prodigy.network.sendAnalytics("Select-Member-Chest"), 
                t.specialChest && !this.game.prodigy.player.hasMembership()) {
                    var i = {
                        conversionFunnelName: c.EFunnelEventIDs.FunnelOpenMemberChestBattle
                    };
                    return this.game.prodigy.network.sendConversionFunnelEvent(i.conversionFunnelName, c.EFunnelEventIDs.StageOpenChest), 
                    void this.game.prodigy.open.membershipInfo(null, i, l.MembershipInfo.MEMBER_CHESTS);
                }
                t.lid.frameName = t.specialChest ? "member-chest-open" : "chest-open", 
                this.locked = !0, this.animateIconPopcorn(t), h.Util.isValid(this.openCallback) && (this.game.prodigy.audio.playSFX(32, t.specialChest ? "chestOpenMember" : "chestOpen", null, .6), 
                setTimeout(function() {
                    e.openCallback(t.specialChest);
                }, 2500));
            }
        }, e.prototype.animateIconPopcorn = function(t) {
            for (var e = [], i = 0; i < t.reward.length; i++) if ("gold" === t.reward[i].type) for (var a = 0; a < t.reward[i].N / 10; a++) e.push(this.game.prodigy.icon.gold(0, 0)); else e.push(this.game.prodigy.icon.createFromData(t.reward[i], 0, 0));
            for (i = 0; i < e.length; i++) {
                e[i].anchor.setTo(.5, .5), e[i].x = t.element.x + 60 + 30 * Math.random(), 
                e[i].y = t.element.y + 60, e[i].visible = !1, this.rewards.add(e[i]);
                var n = 100 * i, o = this.game.add.tween(e[i]).to({
                    y: Phaser.Math.between(-500, -300)
                }, 600, Phaser.Easing.Quadratic.Out).delay(n);
                o.onStart.add(function() {
                    this.visible = !0;
                }, e[i]), o.to({
                    y: 400
                }, 600, Phaser.Easing.Quadratic.In), o.start(), this.game.add.tween(e[i]).to({
                    x: Phaser.Math.between(-500, 500),
                    angle: Math.floor(360 * Math.random())
                }, 1200, Phaser.Easing.Linear.None).delay(n).to({
                    alpha: 0
                }, 100, Phaser.Easing.Linear.None).start(), o.start();
            }
        }, e;
    }(r.Element);
    e.ChestContainer = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(658), r = i(119), s = i(657), l = i(3), h = i(4), c = i(38), p = i(13), u = i(0), d = i(656), g = function(t) {
        function e(i, a, n, o, s, l) {
            var h = t.call(this, i, a, 19, e.configModifiers, [ "atlas-151", "atlas-164", "atlas-168", "sfx-22", "sfx-23", "sfx-24", "sfx-26", "sfx-32", "sfx-33" ]) || this;
            return h.originalCreatures = [], h.summaryPopupControllers = [], h.drops = [], 
            h.memberDrops = [], h.conjureCubeDrops = [], h.creatureDisplays = [], 
            h.eventQueue = [], h.choseMemberChest = !1, h.game = i, h.currentCreatures = n, 
            h.xpGained = o, h.drops = s, h.memberDrops = l, h.starController = new r.MemberStarController(i), 
            h.starXP = Math.ceil((h.xpGained.baseXP + h.xpGained.parentLinkXP + h.xpGained.pippetXP) * n.length * .5), 
            h.setupListeners(), h.cloneCreatures(), h.queuePostCreateCallback(h.createCreatureDisplays.bind(h), h.setupUIElements.bind(h), h.buildEventQueue.bind(h), h.animateDropIn.bind(h)), 
            h;
        }
        return n(e, t), e.prototype.getTeamSize = function() {
            return this.currentCreatures.length;
        }, e.prototype.showCloseButton = function(t) {
            this.closeButton.visible = t;
        }, e.prototype.bottomSectionFadeOutAnimation = function(t, e) {
            void 0 === e && (e = null);
            var i = t.x;
            this.game.add.tween(t).to({
                x: t.x - 50,
                alpha: 0
            }, 500, Phaser.Easing.Cubic.Out, !0).onComplete.add(function() {
                t.x = i, u.Util.isValid(e) && e();
            }, this);
        }, e.prototype.bottomSectionFadeInAnimation = function(t, e) {
            void 0 === e && (e = null), t.visible = !0, t.alpha = 1, this.woodBackground.bringToTop(t), 
            this.game.add.tween(t).from({
                x: t.x + 50,
                alpha: 0
            }, 500, Phaser.Easing.Cubic.Out, !0).onComplete.add(function() {
                u.Util.isValid(e) && e();
            }, this);
        }, e.prototype.buildEventQueue = function() {
            this.eventQueue.push(this.runNextEvent.bind(this, 300)), this.eventQueue.push(this.showStarsEarned.bind(this)), 
            this.eventQueue.push(this.applyXPGainToTeam.bind(this, this.currentCreatures, this.xpGained)), 
            this.buildPopupEvents(), this.eventQueue.push(this.runNextEvent.bind(this, 1500)), 
            this.eventQueue.push(this.bottomSectionFadeOutAnimation.bind(this, this.bottomDisplayContainer, this.runNextEvent.bind(this))), 
            this.game.prodigy.player.hasMembership() && this.starController.getNumberOfStoredStars() <= 0 ? (this.eventQueue.push(this.createJar.bind(this)), 
            this.eventQueue.push(this.bottomSectionFadeInAnimation.bind(this, this.bottomDisplayContainerMember)), 
            this.eventQueue.push(this.bottomSectionFadeOutAnimation.bind(this, this.bottomDisplayContainerMember, this.runNextEvent.bind(this))), 
            this.eventQueue.push(this.createChests.bind(this, !0, this.drops, this.memberDrops)), 
            this.eventQueue.push(this.awardDrops.bind(this)), this.eventQueue.push(this.close.bind(this))) : (this.eventQueue.push(this.createChests.bind(this, !0, this.drops, this.memberDrops)), 
            this.eventQueue.push(this.awardDrops.bind(this)), this.eventQueue.push(this.bottomSectionFadeOutAnimation.bind(this, this.bottomDisplayContainer, this.runNextEvent.bind(this))), 
            this.eventQueue.push(this.createJar.bind(this)), this.eventQueue.push(this.bottomSectionFadeInAnimation.bind(this, this.bottomDisplayContainerMember, this.runNextEvent.bind(this, 4e3))));
        }, e.prototype.runNextEvent = function(t) {
            void 0 === t && (t = 0), t > 0 ? setTimeout(this.runNextEvent.bind(this, 0), t) : this.eventQueue.length > 0 && this.eventQueue.shift()();
        }, e.prototype.buildPopupEvents = function() {
            for (var t = 0; t < this.currentCreatures.length; t++) this.eventQueue.push(this.playShineAnimation.bind(this, t)), 
            this.eventQueue.push(this.launchSummaries.bind(this, t));
        }, e.prototype.cloneCreatures = function() {
            this.originalCreatures = [];
            for (var t = 0; t < this.currentCreatures.length; t++) this.originalCreatures.push(this.currentCreatures[t].createDataClone());
        }, e.prototype.hasAnyEvents = function(t) {
            if (this.currentCreatures[t].getLevel() > this.originalCreatures[t].getLevel()) {
                if (this.currentCreatures[t].getAvailableEvolutions().length > 0) return !0;
                if (this.currentCreatures[t].getMyUniqueAttacks(this.originalCreatures[t]).length > 0) return !0;
                if (this.currentCreatures[t].getBaseMaxHearts() - this.originalCreatures[t].getBaseMaxHearts() > 0) return !0;
            }
            return !1;
        }, e.prototype.createCreatureDisplays = function() {
            for (var t = 0, e = !0; t < this.currentCreatures.length; t++) this.creatureDisplays.push(this.createCreatureDisplay(this.currentCreatures[t])), 
            e && c.Creature.levelFromStars(this.currentCreatures[t].getStars() + this.xpGained.baseXP + this.xpGained.pippetXP) < 100 && (e = !1);
            e ? this.battleStarsEarned.setText(this.game.prodigy.gameContainer.Localizer.getText("MAX_STARS_EARNED")) : this.battleStarsEarned.setText(this.game.prodigy.gameContainer.Localizer.getText(1 === this.getTeamSize() ? "SUMMARY_BATTLE_STARS_EARNED_SINGULAR" : "SUMMARY_BATTLE_STARS_EARNED", this.xpGained.baseXP + this.xpGained.parentLinkXP + this.xpGained.pippetXP));
        }, e.prototype.createCreatureDisplay = function(t) {
            var e = this.instantiateTemplate("creatureDisplay", this.creatureDisplayContainer);
            if (e.levelNumberText.setText(t.getLevel().toString()), e.xpBar.setPercentCompleteOffset(u.Util.clampedLerp(.085, 1, t.getPercentToLevel()), -20), 
            t.getLevel() >= 100 && e.xpBar.setPercentCompleteOffset(1, -20), t instanceof p.Player) {
                e.creatureName.setText(t.getSourceName());
                var i = this.game.prodigy.create.player(e.spriteHolder, this.game.prodigy.player, 1, 0, 50, !1, !0, !1, !1);
                i.reload(function() {
                    if (i.standStill(), i.isInTransformedMode) try {
                        i.transformedPet.sprites.children[0].animations.stop(), 
                        i.transformedPet.showName(!1), i.y = i.transformedPet.height / 2;
                    } catch (t) {
                        u.Util.log(t);
                    }
                });
            } else e.creatureName.setText(t.source.name), this.loadPetIcon(e, t.data.ID);
            var a = u.Util.convertLegacyElements(t.getElement());
            return e.creatureDisplay.image.frameName = "pet-icon-backers/pet-icon-backers-" + a, 
            e;
        }, e.prototype.close = function() {
            this.removeListeners(), t.prototype.close.call(this);
        }, e.prototype.setupListeners = function() {
            for (var t = 0, e = this.currentCreatures; t < e.length; t++) {
                var i = e[t];
                if (i.data === this.game.prodigy.player.data) {
                    this.game.broadcaster.addAppListener(l.ECreatureEvents.LevelUp, this.onMainPlayerLevelUp.bind(this), this, i);
                    break;
                }
            }
        }, e.prototype.removeListeners = function() {
            for (var t = 0, e = this.currentCreatures; t < e.length; t++) {
                var i = e[t];
                if (i.data === this.game.prodigy.player.data) {
                    this.game.broadcaster.removeAppListener(l.ECreatureEvents.LevelUp, this, i);
                    break;
                }
            }
        }, e.prototype.onMainPlayerLevelUp = function(t) {
            for (var e = this.game.prodigy.player.getLevel(), i = e - t; i <= e; i++) {
                if (i % 5 == 0) if (this.game.prodigy.giftBoxController.getGiftBoxesCount(1) < i / 5) {
                    var a = h.Items.getItem("giftBox", 1);
                    this.conjureCubeDrops.push(a), this.game.prodigy.giftBoxController.receiveGiftBox(null, a);
                }
            }
        }, e.prototype.createChests = function(t, e, i) {
            var a = this;
            void 0 === t && (t = !0), void 0 === e && (e = []), void 0 === i && (i = []), 
            this.chestGoldBackground.visible = !0, this.battleStarsEarned.visible = !1, 
            this.bottomTitleText.setText(this.game.prodigy.gameContainer.Localizer.getText("OPEN_CHEST")), 
            new o.ChestContainer(this.game, this.chestContainer, t, e, i, function(t) {
                a.choseMemberChest = t, a.runNextEvent();
            }), this.bottomSectionFadeInAnimation(this.bottomDisplayContainer);
        }, e.prototype.createJar = function() {
            this.starController.hasExpired() && this.starController.getNumberOfStoredStars() > 0 && !this.game.prodigy.player.hasMembership() && this.bottomMemberTitleText.setText(this.game.prodigy.gameContainer.Localizer.getText("JAR_EXPIRED")), 
            this.starJar.beginAnimation(this.starXP), this.runNextEvent();
        }, e.prototype.loadPetIcon = function(t, e) {
            for (var i = 0; i < t.spriteHolder.children.length; i++) t.spriteHolder.children[i].destroy();
            t.spriteHolder.children = [];
            var a = this.game.prodigy.create.sprite(0, 0, "icon-pet-" + e, null, new Phaser.Point(.5, .5));
            return t.spriteHolder.add(a), a;
        }, e.prototype.enableOverlay = function(t) {
            t && !u.Util.isValid(this.blackOverlay) ? (this.blackOverlay = this.uiRoot.add(this.game.prodigy.create.sprite(-10, -10, "atlas-18", "overlay-small")), 
            this.blackOverlay.width = 1300, this.blackOverlay.height = 740, this.blackOverlay.alpha = .75) : !t && u.Util.isValid(this.blackOverlay) && (this.blackOverlay.destroy(), 
            this.blackOverlay = null);
        }, e.prototype.playShineAnimation = function(t) {
            this.hasAnyEvents(t) ? (this.game.prodigy.audio.playSFX(32, "highlight"), 
            this.creatureDisplays[t].characterShine.playAnimation("curve horiz", !1, this.runNextEvent.bind(this, 200))) : this.runNextEvent();
        }, e.prototype.launchSummaries = function(t) {
            this.summaryPopupControllers.push(new s.SummaryPopupController(this.currentCreatures[t], this.originalCreatures[t], this.game.prodigy.open, this.enableOverlay.bind(this, !0), this.processSummaryPopupController.bind(this))), 
            this.processSummaryPopupController(), this.currentCreatures[t] instanceof p.Player && this.eventQueue.unshift(this.awardConjureCubeDrops.bind(this));
        }, e.prototype.showStarsEarned = function() {
            this.battleStarsEarned.visible = !0, this.game.add.tween(this.battleStarsEarned.scale).from({
                x: 0,
                y: 0
            }, 1e3, Phaser.Easing.Back.Out, !0).onComplete.add(this.runNextEvent.bind(this));
        }, e.prototype.animateDropIn = function() {
            this.game.add.tween(this.woodBackground).from({
                y: this.woodBackground.y - 1e3
            }, 1e3, Phaser.Easing.Cubic.Out, !0).onComplete.add(this.runNextEvent, this), 
            u.Util.isValid(this.game.state.states.Battle.heartsLayer) && this.game.add.tween(this.game.state.states.Battle.heartsLayer).to({
                y: -300
            }, 1e3, Phaser.Easing.Cubic.In, !0);
        }, e.prototype.processSummaryPopupController = function() {
            (this.handleEvolutions(), this.summaryPopupControllers.length > 0) ? this.summaryPopupControllers.shift().launchSummaryPopups() : (this.enableOverlay(!1), 
            this.runNextEvent());
        }, e.prototype.handleEvolutions = function() {
            for (var t = 0; t < this.creatureDisplays.length; t++) this.originalCreatures[t].data.ID !== this.currentCreatures[t].data.ID && (this.creatureDisplays[t].creatureName.setText(this.currentCreatures[t].getSourceName()), 
            this.loadPetIcon(this.creatureDisplays[t], this.currentCreatures[t].data.ID));
        }, e.prototype.awardDrops = function() {
            if (this.drops.length > 0) {
                var t = this.drops;
                this.choseMemberChest && (t = t.concat(this.memberDrops)), this.game.prodigy.open.gotItem(t, this.runNextEvent.bind(this), null, "battle-victory-drops"), 
                this.drops = [], this.memberDrops = [];
            } else this.runNextEvent();
        }, e.prototype.awardConjureCubeDrops = function() {
            this.conjureCubeDrops.length > 0 ? (this.game.prodigy.open.gotItem(this.conjureCubeDrops, this.runNextEvent.bind(this), null, "receive-conjure-cube"), 
            this.conjureCubeDrops = []) : this.runNextEvent();
        }, e.prototype.setupUIElements = function() {
            this.closeButton.onClickCallback = this.close.bind(this), this.starJar = new d.StarJarUI(this.game, this, this.memberXPGained.bind(this));
        }, e.prototype.memberXPGained = function(t, e) {
            void 0 === e && (e = !1), this.showCloseButton(!1), this.cloneCreatures();
            var i = {
                baseXP: t,
                memberXP: 0,
                pippetXP: 0,
                parentLinkXP: 0
            };
            if (e) this.buildPopupEvents(), this.eventQueue.push(this.showCloseButton.bind(this, !0)); else for (var a = this.currentCreatures.length - 1; a >= 0; a--) this.eventQueue.unshift(this.launchSummaries.bind(this, a)), 
            this.eventQueue.unshift(this.playShineAnimation.bind(this, a));
            this.applyXPGainToTeam(this.currentCreatures, i);
        }, e.prototype.applyXPGainToTeam = function(t, e) {
            for (var i = this, a = e.baseXP + e.parentLinkXP + e.pippetXP, n = 0, o = this.game.prodigy.audio.playSound(33, !0), r = function() {
                ++n >= t.length && (o.stop(), i.runNextEvent());
            }, s = 0; s < t.length; s++) {
                var l = t[s].getLevel();
                this.doStarsGainAnimation(s, a, r.bind(this)), t[s].addStars(a), 
                t[s].getLevel() > l && t[s].changeCurrentHearts(t[s].getMaxHearts());
            }
            (this.game.prodigy.player.hasMembership() && this.starController.getNumberOfStoredStars() > 0 || !this.game.prodigy.player.hasMembership() && !this.starController.hasExpired()) && this.starController.giveStoredMemberStars(this.starXP);
        }, e.prototype.doStarsGainAnimation = function(t, e, i) {
            var a = this, n = this.creatureDisplays[t], o = this.currentCreatures[t].getLevel(), r = c.Creature.levelFromStars(this.currentCreatures[t].getStars() + e), s = c.Creature.getLevelPercent(this.currentCreatures[t].getStars() + e);
            s = u.Util.clampedLerp(.085, 1, s);
            var l = {
                percent: u.Util.clampedLerp(.085, 1, c.Creature.getLevelPercent(this.currentCreatures[t].getStars())),
                level: o
            }, h = l.percent;
            if (o >= 100 || r < o) i(); else {
                n.xpBarGlow.playAnimation("idle", !0), this.game.prodigy.audio.playSFX(32, "highlight");
                var p = this.game.add.tween(l);
                p.onUpdateCallback(function() {
                    n.xpBar.setPercentCompleteOffset(l.percent, -20), h > l.percent && (n.xpBarExplode.playAnimation("levelup"), 
                    l.level++, u.Util.isValid(a.levelUpSound) && a.levelUpSound.stop(), 
                    a.levelUpSound = a.game.prodigy.audio.playSFX(32, "levelUp"), 
                    setTimeout(function() {
                        n.levelNumberText.setText(l.level.toString());
                    }, 400)), h = l.percent;
                });
                for (var d = o; d <= r && d <= 100; d++) if (100 === d) p.to({
                    percent: 1
                }, 1e3, Phaser.Easing.Quadratic.Out); else if (d === r) {
                    p.to({
                        percent: s
                    }, 1e3, Phaser.Easing.Quadratic.Out);
                } else p.to({
                    percent: 1
                }, 1e3, Phaser.Easing.Quadratic.Out), p.to({
                    percent: 0
                }, 1, Phaser.Easing.Linear.None);
                p.onComplete.add(i), p.onComplete.add(function() {
                    n.xpBarGlow.playAnimation("idle", !1);
                }), p.start();
            }
        }, e.configModifiers = {}, e;
    }(i(26).Menu);
    e.ResultsMenu = g;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(4), s = i(0), l = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 13, a) || this;
            return n.spinnerTween = null, n.spinner = null, n.closeButton = null, 
            n.lowerPrizes = null, n.upperPrizes = null, n.contentBackground = null, 
            n.titleText = null, n.disclaimer = null, n;
        }
        return n(e, t), e.prototype.preprocess = function() {
            var t = this;
            this.queuePostCreateCallback(function() {
                t.closeButton.onClickCallback = t.close.bind(t), t.setup();
            });
        }, e.prototype.setup = function() {
            this.spinner.image.pivot.x = .5, this.spinner.image.pivot.y = .5, this.spinner.image.anchor.x = .5, 
            this.spinner.image.anchor.y = .5, this.spinner.image.x += .5 * this.spinner.width, 
            this.spinner.image.y += .5 * this.spinner.height, this.setSpinner(!0), 
            this.game.prodigy.pvpNetworkHandler.getUserLeaderboard(this.populatePrizes.bind(this)), 
            this.localize();
        }, e.prototype.populatePrizes = function(t) {
            for (var e = 0; e < t.seasonRewards.length; e++) this.addPrizeElement(t.seasonRewards[e], e < 2 ? this.upperPrizes : this.lowerPrizes, "prizeItem", "PVP_PRIZES_POINTS_REQUIREMENT");
            s.Util.isValid(t.reward) && this.addPrizeElement(t.reward, this.contentBackground, "grandPrize", "PVP_PRIZES_RANK_REQUIREMENT"), 
            this.setSpinner(!1);
        }, e.prototype.addPrizeElement = function(t, e, i, a) {
            var n = r.Items.getItem(t.type, t.id), o = t.requirement, l = this.instantiateTemplate(i, e);
            l.prizeName.setText(n.data.name), l.infoButton.onClickCallback = this.viewPrizeInfo.bind(this, n), 
            l.requirements.setText(this.game.prodigy.gameContainer.Localizer.getText(a, o.value));
            var h = this.game.prodigy.icon.createFromData(n, 0, 0, {
                x: .5,
                y: .5
            }, function(t) {
                l.prizeIcon.add(t);
            });
            s.Util.resizeSpriteMaintainingAspectRatio(h, l.background.width - 15, l.background.height - 15);
        }, e.prototype.setSpinner = function(t) {
            this.spinner.visible = t, t ? this.spinnerTween = this.game.add.tween(this.spinner.image).to({
                angle: 360
            }, 2e3, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !1) : s.Util.isValid(this.spinnerTween) && this.spinnerTween.stop();
        }, e.prototype.localize = function() {
            this.titleText.setText(this.game.prodigy.gameContainer.Localizer.getText("PVP_PRIZES_TITLE")), 
            this.disclaimer.setText(this.game.prodigy.gameContainer.Localizer.getText("PVP_PRIZES_DISCLAIMER"));
        }, e.prototype.viewPrizeInfo = function(t) {
            this.game.prodigy.open.itemInfo(t);
        }, e;
    }(i(26).Menu);
    e.PVPPrizes = l;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(3), o = i(0), r = function() {
        function t(t) {
            this.game = null, this.membershipParentOpen = !1, this.game = t;
        }
        return t.prototype.runFunction = function(t, e) {
            this.doesFunctionExist(t) ? this[t].apply(this, e) : o.Util.log("Error " + t + " not found in MailerMethods");
        }, t.prototype.doesFunctionExist = function(t) {
            return o.Util.isValid(this[t]);
        }, t.prototype.openStore = function(t) {
            this.game.prodigy.open.store(t);
        }, t.prototype.openMembershipSignUp = function() {
            if (!this.game.prodigy.player.hasMembership()) {
                this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                    type: "Sneak-Peek-FTP",
                    name: "Click-Become-Member"
                });
                var t = this.game.prodigy.player, e = o.Util.isValid(t.locationSelectionType) && t.locationSelectionType === a.default.get("GameConstants.LocationSelection.SCHOOL");
                this.membershipParentOpen || (this.membershipParentOpen = !0, this.game.prodigy.open.membershipParent(this, !e, null, null, null));
            }
        }, t.prototype.openGiftBox = function(t, e) {
            t.length > 0 && this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "Membership-Box-Collection",
                name: "Collect-Gift-Member"
            }), this.game.broadcaster.broadcast(n.EMailerEvents.GiftBoxOpened, "ProdigyMailer", []), 
            this.game.prodigy.open.reward(e, t);
        }, t;
    }();
    e.MailerMethods = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(3), s = i(661), l = i(0), h = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 4, a) || this;
            return n.mailModel = null, n.attachments = [], n.attachmentImageID = 0, 
            n.shouldRenderAttachments = !0, n.mailerMethods = null, n.closeButton = null, 
            n.titleText = null, n.bodyText = null, n.imageContainer = null, n.imageLoader = null, 
            n.loadingSpinner = null, n.actionButtonText = null, n.actionButtonContainer = null, 
            n.actionButton = null, n.attachmentContainer = null, n.content = null, 
            n.woodBackground = null, e.broadcaster.addAppListener(r.EMailerEvents.MarkAsRead, n.markAsReadFailed, n, "ProdigyMailer"), 
            n.mailerMethods = new s.MailerMethods(e), n;
        }
        return n(e, t), e.prototype.preprocess = function(t) {
            var e = this;
            this.mailModel = t, "noImage" !== t.image && this.addImageToAssets(t.image, t.vImage), 
            this.queuePostCreateCallback(function() {
                e.tweenLoader(), e.render(), e.closeButton.onClickCallback = e.close.bind(e);
            }), 1 === this.mailModel.membership && this.matchGameMethod("openGiftBox") && this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "Membership-Box-Collection",
                name: "Open-Mail-MemberBox"
            }), t.isOpened || this.matchGameMethod("openGiftBox") || this.queuePostCreateCallback(function() {
                e.game.broadcaster.broadcast(r.EMailerEvents.MarkAsRead, "ProdigyMailView", [ function() {
                    e.markReadSuccess();
                }, e.mailModel ]);
            });
        }, e.prototype.close = function() {
            this.game.broadcaster.removeAppListener(r.EMailerEvents.MarkAsReadFailure, this, "ProdigyMailer"), 
            t.prototype.close.call(this), this.destroy();
        }, e.prototype.markReadSuccess = function() {
            1 === this.mailModel.membership ? this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "Membership-Box-Collection",
                name: "Open-Mail-Member"
            }) : 2 === this.mailModel.membership && this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "Sneak-Peek-FTP",
                name: "Open-Mail-NonMember-SneakPeek"
            });
            var t = this.mailModel.attachments;
            !this.matchGameMethod("openGiftBox") && l.Util.isValid(t) && t.length > 0 && this.game.prodigy.open.gotItem(t, null, null, "mail-open");
        }, e.prototype.markAsReadFailed = function() {
            if (l.Util.isValid(this.game)) {
                var t = this.game.prodigy.gameContainer.Localizer;
                this.game.prodigy.open.message(t.getText("MAIL_UNAVAILABLE"), this.closeOnFailed.bind(this), null, t.getText("MESSAGE_TITLE_OOPS"));
            }
        }, e.prototype.render = function() {
            this.titleText.setText(this.mailModel.subject.toUpperCase()), this.bodyText.setText(this.mailModel.message), 
            this.renderImages(), this.renderCheckItOutButton(), this.renderAttachments(), 
            this.resize();
        }, e.prototype.renderImages = function() {
            if ("noImage" !== this.mailModel.image) {
                var t = l.Util.isValid(this.mailModel.image) ? this.mailModel.image : "singleImage-22";
                this.game.prodigy.create.sprite(Math.floor(this.imageContainer.width / 2), Math.floor(this.imageContainer.height / 2), t, null, {
                    x: .5,
                    y: .5
                }, this.fixImage.bind(this), null, null);
            }
        }, e.prototype.tweenLoader = function() {
            if ("noImage" === this.mailModel.image) return this.imageContainer.destroy(), 
            void this.resize();
            this.imageLoader.image.pivot.x = .5, this.imageLoader.image.pivot.y = .5, 
            this.imageLoader.image.anchor.x = .5, this.imageLoader.image.anchor.y = .5, 
            this.imageLoader.image.x += .5 * this.imageLoader.width, this.imageLoader.image.y += .5 * this.imageLoader.height, 
            this.loadingSpinner = this.game.add.tween(this.imageLoader.image).to({
                angle: 360
            }, 2e3, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !1);
        }, e.prototype.fixImage = function(t) {
            l.Util.isValid(this.loadingSpinner) && (this.loadingSpinner.stop(), 
            this.loadingSpinner = null), this.imageLoader.visible = !1;
            var e = this.imageContainer.width - 40;
            if (this.imageContainer.add(t), t.smoothed = !1, t.y = .5 * this.imageContainer.height, 
            t.width > e) {
                var i = 1 - (t.width - e) / e;
                t.scale.x = i, t.scale.y = i;
            }
            this.resize();
        }, e.prototype.renderCheckItOutButton = function() {
            l.Util.isValid(this.mailModel.gameMethod) && this.mailerMethods.doesFunctionExist(this.mailModel.gameMethod.name) ? (this.matchGameMethod("openGiftBox") ? l.Util.isValid(this.actionButtonText) && (this.actionButtonText.setText("CLICK TO OPEN"), 
            this.shouldRenderAttachments = !1, l.Util.isValid(this.mailModel.gameMethod.params) && 3 !== this.mailModel.gameMethod.params[0] || (this.mailModel.gameMethod.params = []), 
            this.mailModel.attachments.length > 0 && this.actionButtonText.setText("OPEN MY BOX!"), 
            this.mailModel.gameMethod.params.push(this.mailModel.attachments)) : this.matchGameMethod("openMembershipSignUp") && this.actionButtonText.setText("BECOME A MEMBER!"), 
            this.actionButtonContainer.visible = this.shouldShowActionButtonContainer(), 
            this.actionButton.onClickCallback = this.runMailAction.bind(this, this.mailModel.gameMethod)) : this.actionButtonContainer.visible = !1;
        }, e.prototype.shouldShowActionButtonContainer = function() {
            return !this.mailModel.isOpened || !this.matchGameMethod("openGiftBox");
        }, e.prototype.matchGameMethod = function(t) {
            return l.Util.isValid(this.mailModel.gameMethod) && this.mailModel.gameMethod.name === t;
        }, e.prototype.renderAttachments = function() {
            var t = this;
            if (this.shouldRenderAttachments) {
                this.attachmentImageID = 0;
                for (var e = this.attachmentContainer, i = 0; i < this.mailModel.attachments.length; i++) {
                    var a = this.instantiateTemplate("attachmentItem", e);
                    this.attachments.push(a);
                    var n = this.mailModel.attachments[i], o = this.game.prodigy.icon.iconKey(n);
                    this.game.prodigy.icon.createIcon(Math.floor(.5 * a.attachmentItem.width), Math.floor(.5 * a.attachmentItem.height) - 3, o, {
                        x: .5,
                        y: .5
                    }, function(e) {
                        t.attachments[t.attachmentImageID++].attachmentImage.add(e);
                    }), l.Util.isValid(n.N) && n.N > 1 && (a.amount.visible = !0, 
                    a.amount.setText(n.N.toString()));
                }
                this.attachments.length <= 0 && this.attachmentContainer.destroy();
            } else this.attachmentContainer.destroy();
        }, e.prototype.runMailAction = function(t) {
            this.game.prodigy.network.sendAnalytics("mail-check-it-out-clicked", "click-check-it-out-" + this.mailModel.subject, "Events"), 
            this.matchGameMethod("openGiftBox") ? this.mailModel.isOpened || (this.mailModel.isOpened = !0, 
            this.actionButtonContainer.visible = !1, this.mailerMethods.runFunction(this.mailModel.gameMethod.name, this.mailModel.gameMethod.params.concat(this.mailModel))) : (this.actionButtonContainer.visible = this.shouldShowActionButtonContainer(), 
            this.mailerMethods.runFunction(t.name, t.params));
        }, e.prototype.resize = function() {
            this.content.layoutElement.calculateChildren();
            var t = this.content.layoutElement.getContentHeight() + 30;
            this.woodBackground.resize(this.woodBackground.width - 20, t), this.woodBackground.y = Math.floor((720 - t) / 2);
        }, e.prototype.closeOnFailed = function() {
            this.game.broadcaster.broadcast(r.EMailerEvents.CloseList, "ProdigyMailer"), 
            this.close();
        }, e.prototype.addImageToAssets = function(t, e) {
            void 0 === e && (e = 1);
            var i = {};
            i[t] = {
                type: "singleImage",
                v: l.Util.isValid(e) ? e : 1
            }, this.game.prodigy.assets.appendAssets(i);
        }, e;
    }(i(26).Menu);
    e.OpenMail = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, 16, a, null, [ "atlas-165", "atlas-128" ]) || this;
            return o.Util.isValid(n) && r.setCloseCallback(n), r;
        }
        return n(e, t), e.prototype.setCallbacks = function() {
            t.prototype.setCallbacks.call(this), this.closeButton.onUpCallback = this.close.bind(this);
        }, e;
    }(i(235).PaginatedMenu);
    e.MembershipSuccess = r;
}, function(t, e, i) {
    var a = i(70), n = i(86), o = i(19), r = a ? a.isConcatSpreadable : void 0;
    t.exports = function(t) {
        return o(t) || n(t) || !!(r && t && t[r]);
    };
}, function(t, e, i) {
    var a = i(197), n = i(209), o = i(122), r = i(66), s = o(function(t, e) {
        if (null == t) return [];
        var i = e.length;
        return i > 1 && r(t, e[0], e[1]) ? e = [] : i > 2 && r(e[0], e[1], e[2]) && (e = [ e[0] ]), 
        n(t, a(e, 1), []);
    });
    t.exports = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(215), r = i(10), s = i(665), l = i(166), h = i(3), c = i(13), p = i(0), u = function(t) {
        function e(i, a) {
            var n = t.call(this, i, a, 14, e.configModifiers) || this;
            return n.friendCellList = [], n.friendsList = [], n.classList = [], 
            n.friendRequestList = [], i.broadcaster.addAppListener(h.EFriendsListEvents.RequestCancelled, n.onListUpdate.bind(n), n, "FriendsList"), 
            i.broadcaster.addAppListener(h.EFriendsListEvents.FriendRemoved, n.onListUpdate.bind(n), n, "FriendsList"), 
            i.broadcaster.addAppListener(h.EFriendsListEvents.RequestAccepted, n.onListUpdate.bind(n), n, "FriendsList"), 
            i.broadcaster.addAppListener(h.EFriendsListEvents.RequestRejected, n.onListUpdate.bind(n), n, "FriendsList"), 
            n;
        }
        return n(e, t), e.prototype.preprocess = function() {
            this.getLists(), this.queuePostCreateCallback(this.fillView.bind(this, this.friendsList), this.setButtons.bind(this));
        }, e.prototype.onListUpdate = function() {
            this.getLists(), this.setButtons(), this.fillView(this.friendsList, !1);
        }, e.prototype.getLists = function() {
            this.game.prodigy.friendsListNetworkHandler.getFriendRequestList(0, 20), 
            this.game.prodigy.friendsListNetworkHandler.getUserAppearance(this.game.prodigy.friendsListNetworkHandler.classList, !0), 
            this.friendsList = this.game.prodigy.friendsListNetworkHandler.friendsList, 
            this.classList = this.game.prodigy.friendsListNetworkHandler.classList, 
            this.friendRequestList = this.game.prodigy.friendsListNetworkHandler.friendRequestList;
        }, e.prototype.setButtons = function() {
            this.closeButton.onClickCallback = this.close.bind(this), this.friendButton.onUpCallback = this.fillView.bind(this, this.friendsList), 
            this.classmatesButton.onUpCallback = this.fillView.bind(this, this.classList, !0), 
            this.requestsButton.onUpCallback = this.game.prodigy.open.friendRequests.bind(this.game.prodigy.open, this.preprocess.bind(this)), 
            this.requestsButton.visible = this.friendRequestList.length > 0;
        }, e.prototype.setupScrollBar = function() {
            this.friendScrollView.linkScrollBar(this.friendScrollBar), this.friendScrollView.setToScrollPercent(0);
        }, e.prototype.fillView = function(t, e) {
            var i = this;
            void 0 === e && (e = !1), this.friendButton.setActive(e), this.classmatesButton.setActive(!e), 
            this.clearScrollView(), o(t, function(t) {
                return !p.Util.isValid(t.appearance) || !p.Util.isValid(r(t, "data.level", null));
            });
            for (var a = s(l(t, function(t) {
                var e = new c.Player(i.game, !0);
                return e.init(t), {
                    player: e,
                    status: t.status
                };
            }), function(t) {
                return t.player.appearance.getFullName();
            }), n = function(t) {
                if (!p.Util.isValid(a[t].player.appearance) || !p.Util.isValid(a[t].player.data) || !p.Util.isValid(a[t].player.data.level)) return "continue";
                if (!e) {
                    for (var n = !1, o = 0; o < u.classList.length; o++) u.classList[o].userID === a[t].player.userID && (n = !0, 
                    u.game.broadcaster.broadcast(h.EFriendsListEvents.RemoveFriend, "FriendsList", [ a[t].player.userID ]));
                    if (n) return "continue";
                }
                var r = u.instantiateTemplate("friendCell", u.friendContents);
                if (!e && 0 === a[t].status) {
                    for (var s in r) "PendingText" !== s && r[s].setAll("tint", 13882323);
                    r.PendingText.visible = !0;
                }
                r.friendName.setText(a[t].player.appearance.getFullName().split(" ").join("\n")), 
                r.levelText.setText(a[t].player.data.level.toString()), u.game.prodigy.create.player(r.friendFace, a[t].player, 1, 0, 0, !0, !0).reload(), 
                r.memberGraphic.visible = a[t].player.isMember, r.friendButton.onClickCallback = function() {
                    i.game.prodigy.open.card(i.game.prodigy.friendsListNetworkHandler.getFriend(a[t].player.userID), !0);
                }, u.friendCellList.push(r);
            }, u = this, d = 0; d < a.length; d++) n(d);
            if (this.friendContents.layoutElement.calculateChildren(), this.friendScrollView.setupVisibleIndicies(), 
            this.friendScrollView.calculateMaxScrollDist(), this.setupScrollBar(), 
            a.length <= 0) {
                var g = this.game.prodigy.gameContainer.Localizer;
                e ? this.noFriendsText.setText(g.getText("UI_ZONE_NO_CLASSMATES")) : this.noFriendsText.setText(g.getText("UI_ZONE_NO_FRIENDS"));
            }
            this.noFriendsElement.visible = a.length <= 0, this.friendScrollBar.visible = a.length > 2;
        }, e.prototype.clearScrollView = function() {
            for (var t = 0; t < this.friendCellList.length; t++) for (var e in this.friendCellList[t]) this.friendCellList[t][e].destroy();
            this.friendCellList = [], this.setupScrollBar();
        }, e.prototype.close = function(e) {
            this.game.broadcaster.removeAppListener(h.EFriendsListEvents.RequestCancelled, this, "FriendsList"), 
            this.game.broadcaster.removeAppListener(h.EFriendsListEvents.FriendRemoved, this, "FriendsList"), 
            this.game.broadcaster.removeAppListener(h.EFriendsListEvents.RequestAccepted, this, "FriendsList"), 
            this.game.broadcaster.removeAppListener(h.EFriendsListEvents.RequestRejected, this, "FriendsList"), 
            p.Util.isValid(e) && e(), t.prototype.close.call(this);
        }, e.configModifiers = {}, e;
    }(i(26).Menu);
    e.FriendsListMenu = u;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 24, a, [ "atlas-169", "atlas-170" ]) || this;
            return n.okayButton = null, n.okayText = null, n;
        }
        return n(e, t), e.prototype.preprocess = function(t, e, i, a) {
            void 0 === e && (e = null), void 0 === i && (i = null);
            var n = o.Util.isValid(e) ? "[" + e + "] " + i : i;
            this.updateConfigModifierProperty("lockImage", "frameName", a), this.updateConfigModifierProperty("bannerText", "text", n), 
            this.updateConfigModifierProperty("contentText", "text", t);
        }, e.prototype.setOkay = function(t, e) {
            void 0 === t && (t = null), this.okayButton.visible = !0, this.okayText.setText(o.Util.isValid(t) ? t : this.game.prodigy.gameContainer.Localizer.getText("BUTTON_OKAY_CAPITAL")), 
            this.okayButton.onClickCallback = this.close.bind(this, e);
        }, e;
    }(i(26).Menu);
    e.ClassModeMessage = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(9), s = i(12), l = i(4), h = i(38), c = i(0), p = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return a.create(), o.GameConstants.get("GameConstants.Build.DEBUG") && c.Util.isValid(c.Util.getUrlVariable("toy_id")) ? a.complete({
                success: !0,
                asset_id: parseInt(c.Util.getUrlVariable("toy_id")),
                asset_type: "pet"
            }) : a.openPrompt(), a;
        }
        return n(e, t), e.prototype.create = function() {
            this.background.add(new Phaser.TileSprite(this.game, 0, 0, 1280, 720, "atlas-161", "shine2-mid")), 
            t.prototype.create.call(this);
        }, e.prototype.openPrompt = function() {
            try {
                prodigyWeb.page.open("unlock-toy", {
                    studentID: this.game.prodigy.player.userID,
                    token: this.game.prodigy.network.getKey()
                }, this.complete.bind(this));
            } catch (t) {
                this.complete({
                    success: !1
                });
            }
        }, e.prototype.complete = function(t) {
            c.Util.isValid(t) && t.success ? (this.game.prodigy.create.panel(this, -40, 280, 36, 5, "orange"), 
            this.animate(t)) : this.close();
        }, e.prototype.animate = function(t) {
            this.petData = l.Items.getItem("pet", t.asset_id);
            this.gem = this.add(this.game.prodigy.icon.createFromData({
                mech: {
                    type: "relic",
                    ID: 29
                },
                storm: {
                    type: "relic",
                    ID: 29
                },
                earth: {
                    type: "relic",
                    ID: 30
                },
                fire: {
                    type: "relic",
                    ID: 31
                },
                ice: {
                    type: "relic",
                    ID: 32
                },
                water: {
                    type: "relic",
                    ID: 33
                },
                "ice & fire": {
                    type: "relic",
                    ID: 34
                }
            }[this.petData.data.element], 640, 420, null, this.onIconLoaded.bind(this)));
        }, e.prototype.onIconLoaded = function() {
            this.gem.alpha = 0, this.gem.anchor.setTo(.5, .5), this.gem.scale.x = this.gem.scale.y = 5, 
            this.game.add.tween(this.gem).to({
                alpha: 1
            }, 1e3, Phaser.Easing.Linear.None).delay(300).start();
            var t = this.game.add.tween(this.gem.scale).to({
                x: 1,
                y: 1
            }, 1e3, Phaser.Easing.Quadratic.Out).delay(300), e = this.game.prodigy.create.sprite(r.Attack.BX, r.Attack.BY, "atlas-16", "storm-lightning-0");
            e.animations.add("a", [ "storm-lightning-0", "storm-lightning-1", "storm-lightning-2" ], 20, !0, !1), 
            e.animations.play("a"), e.anchor.setTo(.5, 1), this.add(e);
            var i = this.game.add.tween(e).to({
                x: 640,
                y: 420
            }, 1, Phaser.Easing.Linear.None).delay(1500).to({}, 6e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 100, Phaser.Easing.Linear.None).start();
            i.onComplete.addOnce(this.showToy.bind(this, this.gem));
            var a = this.add(this.game.prodigy.create.sprite(640, 420, "atlas-16", "core-circle-small"));
            a.anchor.setTo(.5, .5), a.alpha = 1, a.scale.x = a.scale.y = 0, i = this.game.add.tween(a);
            var n = this.game.add.tween(a.scale);
            i.to({}, 1500, Phaser.Easing.Linear.None), n.to({}, 1500, Phaser.Easing.Linear.None), 
            t.to({}, 600, Phaser.Easing.Linear.None);
            for (var o = 500, s = 0; s < 20; s++) 19 === s && (o = 500), n.to({
                x: 0,
                y: 0
            }, 10, Phaser.Easing.Linear.None), n.to({
                x: 19 === s ? 15 : 10,
                y: 19 === s ? 15 : 10
            }, o, Phaser.Easing.Linear.None), i.to({
                alpha: 1
            }, 10, Phaser.Easing.Linear.None), i.to({
                alpha: 0
            }, o, Phaser.Easing.Linear.None), t.to({
                x: 1.4,
                y: 1.4
            }, Math.floor(o / 2), Phaser.Easing.Quadratic.Out), t.to({
                x: 1,
                y: 1
            }, Math.floor(o / 2), Phaser.Easing.Quadratic.In), o -= 25;
            t.start(), i.start(), n.start();
        }, e.prototype.showToy = function(t) {
            this.game.add.tween(t).to({
                alpha: 0
            }, 400, Phaser.Easing.Linear.None).start(), this.game.add.tween(t.scale).to({
                x: 3,
                y: 3
            }, 400, Phaser.Easing.Quadratic.Out).start();
            var e = this.add(this.game.prodigy.create.sprite(t.x, t.y, "small-pet-" + this.petData.ID));
            e.anchor.setTo(.3, .8), e.alpha = 0, e.scale.x = e.scale.y = 0, this.game.add.tween(e.scale).to({
                x: 1,
                y: 1
            }, 400, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(e).to({
                alpha: 1
            }, 400, Phaser.Easing.Linear.None).to({}, 500, Phaser.Easing.Linear.None).to({
                x: 180
            }, 1e3, Phaser.Easing.Quadratic.Out).start().onComplete.addOnce(this.showText.bind(this));
        }, e.prototype.showText = function() {
            var t = this.game.prodigy.gameContainer.Localizer, e = this.game.prodigy.create.element(this, 320, 300);
            this.game.prodigy.create.font(e, 0, 0, t.getText("TOY_UNLOCK_JOINED", this.petData.data.name), {
                size: 80
            }), this.game.prodigy.create.font(e, 0, 100, t.getText("TOY_UNLOCK_USE"), {
                size: 40
            }), e.alpha = 0, this.game.add.tween(e).to({
                alpha: 1
            }, 500, Phaser.Easing.Linear.None).to({}, 5e3, Phaser.Easing.Linear.None).start().onComplete.addOnce(this.tryUpdate.bind(this)), 
            this.game.prodigy.effects.firework(200, 650, null, this, 0), this.game.prodigy.effects.firework(700, 650, null, this, 800), 
            this.game.prodigy.effects.firework(420, 650, null, this, 1250), this.game.prodigy.effects.firework(1080, 650, null, this, 1550), 
            this.game.prodigy.effects.firework(640, 650, null, this, 2e3);
        }, e.prototype.tryUpdate = function() {
            this.addToy();
            var t = this.add(this.game.prodigy.create.sprite(1230, 670, "atlas-18", "loading"));
            t.anchor.setTo(.5, .5), this.game.add.tween(t).to({
                angle: 360
            }, 2e3, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !1), 
            this.game.prodigy.network.setSaveCallback(this.close.bind(this), !0), 
            this.game.prodigy.player.saveEnabled = !0;
        }, e.prototype.addToy = function() {
            this.game.prodigy.player.kennel.add(this.petData.ID, null, h.Creature.starsToLevel(19), 20, null);
            var t = this.petData.ID, e = this.petData.data;
            c.Util.isValid(e.unlockFollow) && (t = e.unlockFollow), this.game.prodigy.player.backpack.add("follow", t), 
            c.Util.isValid(this.game.prodigy.player.equipment.data.follow) || this.game.prodigy.player.equipment.setFollow(t);
        }, e;
    }(s.RenderMenu);
    e.ToyUnlock = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(21), s = i(0), l = i(72), h = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return n.content = null, n.panel = null, n.soundVolumeBar = null, n.voiceVolumeBar = null, 
            n.bgmVolumeBar = null, n.onClose = a, n.create(), n;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent();
            var e = this.game.prodigy.gameContainer.Localizer, i = [ {
                icon: "settings",
                bot: e.getText("SETTINGS_SOUND")
            }, {
                icon: "settings",
                bot: e.getText("SETTINGS_GRAPHICS")
            }, {
                icon: "settings",
                bot: e.getText("SETTINGS_NETWORK")
            } ], a = this.game.prodigy.player;
            !a.hasValidatedParentEmail() && a.hasCompletedTutorial() && i.push({
                atlas: "atlas-24",
                icon: "parent-link-hud-badge",
                top: e.getText("SETTINGS_PARENT"),
                bot: e.getText("SETTINGS_ACCOUNT")
            }), this.content = this.game.prodigy.create.element(this, 280, 260), 
            this.createBaseSetup(20, 13, "shine", e.getText("SETTINGS_TITLE"), i), 
            t.prototype.create.call(this), this.setMode(0);
            for (var n = 0; n < i.length; n++) {
                if ("atlas-24" === i[n].atlas) {
                    var o = this.game.prodigy.create.indicator(0, 0), r = this.buttons[n].sprite;
                    r.addChild(o), o.visible = !1;
                    var l = s.Util.getCenteredXY(o.width, 0, r.x, 0, r.width, 0);
                    o.x = l.x, o.y = r.y - o.height, o.addTween(), o.visible = !0;
                }
            }
            this.game.prodigy.create.advButton(this, 900, 480, {
                icon: "settings",
                bot: e.getText("SETTINGS_LOGOUT")
            }, this.exitGame.bind(this));
        }, e.prototype.clearContents = function() {
            s.Util.isValid(this.content) && this.content.destroy(), s.Util.isValid(this.panel) && this.panel.destroy(), 
            s.Util.isValid(this.soundVolumeBar) && (this.soundVolumeBar.destroy(), 
            this.soundVolumeBar = null), s.Util.isValid(this.voiceVolumeBar) && (this.voiceVolumeBar.destroy(), 
            this.voiceVolumeBar = null), s.Util.isValid(this.bgmVolumeBar) && (this.bgmVolumeBar.destroy(), 
            this.bgmVolumeBar = null), this.panel = this.game.prodigy.create.panel(this, 280, 260, 15, 8, "white"), 
            this.content = this.game.prodigy.create.element(this, 280, 260);
        }, e.prototype.setMode = function(e) {
            switch (t.prototype.setMode.call(this, e), this.clearContents(), e) {
              case 1:
                this.openGraphics();
                break;

              case 2:
                this.openNetwork();
                break;

              case 3:
                this.game.prodigy.open.parentalLinkInfoPrompt(l.ParentLinkBenefitsConfig.ANALYTICS_SOURCE_SETTINGS);
                break;

              default:
                this.openSound();
            }
        }, e.prototype.setSound = function(t) {
            switch (t) {
              case 0:
                this.game.prodigy.audio.setSFXVolume(this.soundVolumeBar.page / 100);
                break;

              case 1:
                this.game.prodigy.audio.setBGMVolume(this.bgmVolumeBar.page / 100);
                break;

              case 2:
                this.game.prodigy.audio.setVoiceVolume(this.voiceVolumeBar.page / 100);
            }
        }, e.prototype.openSound = function() {
            var t = this.game.prodigy.gameContainer.Localizer, e = this.game.prodigy.audio.getSFXVolume(), i = this.game.prodigy.audio.getBGMVolume(), a = this.game.prodigy.audio.getVoiceVolume();
            this.game.prodigy.create.font(this.content, 37.5, 30, t.getText("SETTINGS_SOUND_VOLUME"), {
                width: 525,
                align: "center"
            }), this.soundVolumeBar = this.game.prodigy.create.slider(this.content, 37.5, 55, 525, !1, !1), 
            this.soundVolumeBar.reset(101, 1, Math.floor(100 * e), this.setSound.bind(this, 0)), 
            this.game.prodigy.create.font(this.content, 37.5, 110, t.getText("SETTINGS_MUSIC_VOLUME"), {
                width: 525,
                align: "center"
            }), this.bgmVolumeBar = this.game.prodigy.create.slider(this.content, 37.5, 135, 525, !1, !1), 
            this.bgmVolumeBar.reset(101, 1, Math.floor(100 * i), this.setSound.bind(this, 1)), 
            this.game.prodigy.create.font(this.content, 37.5, 190, t.getText("SETTINGS_VOICE_VOLUME"), {
                width: 525,
                align: "center"
            }), this.voiceVolumeBar = this.game.prodigy.create.slider(this.content, 37.5, 215, 525, !1, !1), 
            this.voiceVolumeBar.reset(101, 1, Math.floor(100 * a), this.setSound.bind(this, 2)), 
            this.game.prodigy.audio.setSFXVolume(e), this.game.prodigy.audio.setBGMVolume(i), 
            this.game.prodigy.audio.setVoiceVolume(a);
        }, e.prototype.openGraphics = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            this.game.prodigy.create.textButton(this.content, 150, 50, {
                text: t.getText("SYSTEM_BUTTON_SMALL_SCREEN"),
                size: r.TextButton.MED
            }, this.game.prodigy.graphics.setResolutionSmall.bind(this)), this.game.prodigy.create.textButton(this.content, 150, 125, {
                text: t.getText("SYSTEM_BUTTON_MEDIUM_SCREEN"),
                size: r.TextButton.MED
            }, this.game.prodigy.graphics.setResolutionMedium.bind(this)), this.game.prodigy.create.textButton(this.content, 150, 200, {
                text: t.getText("SYSTEM_BUTTON_LARGE_SCREEN"),
                size: r.TextButton.MED
            }, this.game.prodigy.graphics.setResolutionLarge.bind(this));
        }, e.prototype.openNetwork = function() {
            var t = this.game.prodigy.gameContainer.Localizer, e = s.Util.isValid(this.game.prodigy.player.world) ? t.getText("SETTINGS_YOUR_WORLD", this.game.prodigy.player.world.name) : t.getText("SETTINGS_OFFLINE");
            this.game.prodigy.create.font(this.content, 0, 50, e, {
                width: 600,
                align: "center"
            });
        }, e.prototype.exitGame = function() {
            this.game.prodigy.network.logout();
        }, e;
    }(o.RenderMenu);
    e.SystemMenu = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i, a, n, r, s, l, h) {
            var c = t.call(this, e, i, a, n) || this;
            c.selected = !1, c.answerData = null, c.originalY = 0, c.callback = null, 
            c.checkbox = null, c.originalY = n, c.answerData = s, c.callback = l;
            var p = c.game.prodigy.create.element(c, 0, 0);
            p.add(c.game.prodigy.create.sprite(0, 0, "atlas-21", o.Util.isValid(h) ? "survey/survey-box-icon" : "survey/survey-box-square-icon")), 
            c.checkbox = c.game.prodigy.create.sprite(0, 0, "atlas-21", "survey/survey-check-icon"), 
            c.checkbox.alpha = c.selected ? 1 : 0, p.add(c.checkbox);
            var u = c.game.prodigy.create.font(p, 70, 0, c.answerData.text, {
                width: r - 70,
                align: "left",
                size: 30
            }), d = c.game.prodigy.create.sprite(0, 0, "atlas-18", "empty");
            return d.width = r, d.height = u.height + 40, d.alpha = .5, p.add(d), 
            d.inputEnabled = !0, d.input.useHandCursor = !0, d.events.onInputDown.add(c.onMouseDown, c), 
            d.events.onInputUp.add(c.onMouseUp, c), d.events.onInputOver.add(c.onMouseOver, c), 
            d.events.onInputOut.add(c.onMouseOut, c), c;
        }
        return n(e, t), e.prototype.setSelected = function(t) {
            this.selected = t, this.checkbox.alpha = this.selected ? 1 : 0;
        }, e.prototype.onMouseDown = function() {
            this.y = this.originalY;
        }, e.prototype.onMouseUp = function() {
            this.setSelected(!this.selected), o.Util.isValid(this.callback) && this.callback(this);
        }, e.prototype.onMouseOver = function() {
            this.y = this.originalY - 2;
        }, e.prototype.onMouseOut = function() {
            this.y = this.originalY;
        }, e;
    }(i(5).Element);
    e.CheckBoxButton = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(75), r = i(670), s = i(5), l = i(21), h = i(0), c = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 0, 0) || this;
            return n.surveyData = null, n.answers = [], n.answeredData = [], n.rearOverlay = null, 
            n.container = null, n.doneButton = null, n.question = null, n.currentPage = -1, 
            n.surveyData = a, n.createMenu(), n;
        }
        return n(e, t), e.prototype.createMenu = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            switch (this.rearOverlay = this.add(this.game.prodigy.create.sprite(-5, -5, "atlas-18", "overlay-small")), 
            this.rearOverlay.width = 1290, this.rearOverlay.height = 730, this.rearOverlay.alpha = .5, 
            this.rearOverlay.inputEnabled = !0, this.game.add.tween(this.rearOverlay).from({
                alpha: 0
            }, 500, Phaser.Easing.Linear.None, !0), this.container = this.game.prodigy.create.element(this, 40, 40), 
            this.container.setRenderState(!0), this.game.prodigy.create.panel(this.container, 0, 0, 30, 16, "shine"), 
            5 === this.surveyData.type ? this.doneButton = this.game.prodigy.create.textButton(this.container, .5 * this.container.width - 150, this.container.height - 70, {
                icon: "yes",
                text: t.getText("BUTTON_NEXT_CAPITAL"),
                size: l.TextButton.MED
            }, this.setupImagePool.bind(this)) : 2 === this.surveyData.type ? this.doneButton = this.game.prodigy.create.textButton(this.container, .5 * this.container.width - 150, this.container.height - 70, {
                icon: "yes",
                text: t.getText("BUTTON_NEXT_CAPITAL"),
                size: l.TextButton.MED
            }, this.setupRadioBox.bind(this)) : this.doneButton = this.game.prodigy.create.textButton(this.container, .5 * this.container.width - 150, this.container.height - 70, {
                icon: "yes",
                text: t.getText("SURVEY_BUTTON_DONE"),
                size: l.TextButton.MED
            }, this.onClose.bind(this)), this.surveyData.type) {
              case 1:
                this.setupCheckBox();
                break;

              case 2:
                this.setupRadioBox();
                break;

              case 3:
                this.setupImage();
                break;

              case 4:
                this.setupFeedback();
                break;

              case 5:
                this.setupImagePool();
                break;

              default:
                this.setupCheckBox();
            }
            this.game.add.tween(this.container).from({
                y: 720
            }, 600, Phaser.Easing.Back.Out, !0), this.checkDoneButton();
        }, e.prototype.onAnswerClicked = function(t) {
            if (this.game.prodigy.audio.playSFX(18, "pop"), this.doneButton.setEnabled(!0), 
            2 === this.surveyData.type) {
                for (var e = 0; e < this.answers.length; e++) this.answers[e].setSelected(!1);
                t.setSelected(!0);
            }
            this.checkDoneButton();
        }, e.prototype.checkDoneButton = function() {
            for (var t = 0; t < this.answers.length; t++) if (this.answers[t].selected) return void this.doneButton.setEnabled(!0);
            this.doneButton.setEnabled(!1);
        }, e.prototype.setupCheckBox = function() {}, e.prototype.setupRadioBox = function() {
            if (this.currentPage = this.currentPage + 1, this.currentPage === this.surveyData.question.length - 1) this.doneButton.setText(this.game.prodigy.gameContainer.Localizer.getText("SURVEY_BUTTON_DONE")); else if (this.currentPage >= this.surveyData.question.length) {
                for (var t = 0; t < this.answers.length; t++) this.answers[t].selected && this.answeredData.push({
                    selected: this.answers[t].selected,
                    answerData: this.answers[t].answerData
                });
                return void this.onClose();
            }
            if (this.doneButton.setEnabled(!1), h.Util.isValid(this.question) && h.Util.isValid(this.answers)) {
                this.question.destroy();
                for (t = 0; t < this.answers.length; t++) this.answers[t].selected && this.answeredData.push({
                    selected: this.answers[t].selected,
                    answerData: this.answers[t].answerData
                }), this.answers[t].destroy();
            }
            this.question = this.game.prodigy.create.font(this.container, 30, 30, this.surveyData.question[this.currentPage], {
                width: this.container.width - 60,
                align: "center",
                size: 40
            }), this.surveyData.answers[this.currentPage] = o(this.surveyData.answers[this.currentPage]);
            for (t = 0; t < this.surveyData.answers[this.currentPage].length; t++) {
                var e = t > 0 ? this.answers[t - 1].y + this.answers[t - 1].height : 150;
                this.answers[t] = new r.CheckBoxButton(this.game, this.container, 155, e, 900, this.surveyData.answers[this.currentPage][t], this.onAnswerClicked.bind(this), !0);
            }
        }, e.prototype.setupImage = function() {}, e.prototype.setupImagePool = function() {}, 
        e.prototype.setupFeedback = function() {}, e.prototype.onClose = function() {
            var t = this;
            this.game.prodigy.audio.playSFX(18, "pop"), this.game.add.tween(this.container).to({
                y: 720
            }, 600, Phaser.Easing.Back.In, !0).onComplete.add(function() {
                for (var e = "", i = 0; i < t.answeredData.length; i++) t.answeredData[i].selected && (e += t.answeredData[i].answerData.id + " - ");
                e = e.substring(0, e.length - 2), h.Util.log("SurveyID: " + t.surveyData.id + "  -- Answer selected: " + e), 
                t.game.prodigy.network.sendAnalytics("Survey-" + t.surveyData.id, e, "Surveys");
                try {
                    t.game.prodigy.network.sendEvent("survey-results", {
                        survey: t.surveyData.id,
                        answer: h.Util.strip(t.answeredData[i].answerData.id)
                    });
                } catch (t) {}
                t.game.prodigy.open.gotItem([ {
                    type: "item",
                    ID: 25,
                    N: 1
                } ], null, null, "survey"), t.game.prodigy.player.setSurvey(t.surveyData.id), 
                t.game.prodigy.surveyController.getSurveyData(), t.destroy();
            });
        }, e;
    }(s.Element);
    e.Survey = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(198), r = i(40), s = i(4), l = i(13), h = i(0), c = i(56), p = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 21, {
                hideMenu: !0,
                hideContent: !0,
                tile: "bg-tile-white"
            }) || this;
            return n.player = a, n.setup(), n;
        }
        return n(e, t), e.prototype.menuSetup = function() {
            t.prototype.menuSetup.call(this);
            var e = this.game.prodigy.gameContainer.Localizer;
            this.scroll = this.game.prodigy.create.scrollBar(this, 60, 180, 345, this.setPage.bind(this)), 
            this.playerCopy = new l.Player(this.game), this.data = new o.UserEquipment(this.game, this, 872, 200, this.playerCopy), 
            this.content = this.game.prodigy.create.element(this, 0, 0), this.buyText = this.game.prodigy.create.font(this.data, 0, 250, e.getText("STYLIST_BUY_LOOK"), {
                size: 20,
                width: 348,
                align: "center"
            }), this.buyBtn = this.game.prodigy.create.textButton(this.data, 74, 290, {
                text: "250",
                textY: 5,
                icon: {
                    needsMemberIcon: this.player.hasMembership(),
                    atlas: "atlas-21",
                    type: "item",
                    ID: 26,
                    metadata: {
                        vIcon: 1
                    }
                }
            }), this.game.prodigy.create.font(this, 50, 655, "[gold] " + this.game.prodigy.player.getGold(), {
                size: 40,
                iconOffsetY: 10
            }), this.buyBtn.visible = !1, this.buyText.visible = !1;
            var i = [ {
                icon: "hair-2",
                callback: this.setStyles.bind(this),
                title: e.getText("STYLIST_CHOOSE_HAIR_STYLE")
            }, {
                icon: {
                    type: "item",
                    ID: "46",
                    metadata: {
                        vIcon: 1
                    }
                },
                callback: this.setColors.bind(this),
                title: e.getText("STYLIST_CHOOSE_HAIR_COLOR")
            }, {
                icon: "eyes-2",
                callback: this.setEyes.bind(this),
                title: e.getText("STYLIST_CHOOSE_EYE_COLOR")
            } ];
            this.showFrame("player", e.getText("STYLIST_TITLE"), i, 0);
            var a = this.game.prodigy.create.textButton(this, 0, 0, {
                icon: "close",
                text: e.getText("BUTTON_CLOSE")
            }, this.close.bind(this));
            this.showBtns([], [ a ]), this.setupComplete = !0;
        }, e.prototype.resetPlayer = function() {
            var t = this.player.appearance.getHair();
            this.playerCopy.appearance.setGender(this.player.appearance.getGender()), 
            this.playerCopy.appearance.setHair(t.style, t.color), this.playerCopy.appearance.setEyeColor(this.player.appearance.getEyeColor()), 
            this.playerCopy.appearance.setSkinColor(this.player.appearance.getSkinColor()), 
            this.playerCopy.appearance.setFace(this.player.appearance.getFace()), 
            this.playerCopy.equipment.setEquipment({
                outfit: this.player.equipment.getEquipment("outfit"),
                hat: this.player.equipment.getEquipment("hat"),
                weapon: this.player.equipment.getEquipment("weapon")
            }), this.playerCopy.appearanceChanged = !0, this.buyBtn.visible = !1, 
            this.buyText.visible = !1, this.data.user.reload();
        }, e.prototype.setPage = function(t) {
            this.content.removeAll(!0);
            for (var e = 0; e < 6; e++) {
                var i = 6 * t + e;
                i < this.current.length && this.showItem(this.current[i], 330 * Math.floor(e / 3) + 190, e % 3 * 120 + 180);
            }
        }, e.prototype.showItem = function(t, e, i) {
            var a = t.cost[0], n = this.game.prodigy.create.element(this.content, e, i), o = n.add(this.game.prodigy.create.sprite(0, 0, "atlas-19", "store-panel"));
            o.inputEnabled = !0, o.events.onInputDown.add(this.changeAppearance.bind(this, t), this);
            var r = n.add(this.game.prodigy.create.sprite(15, 15, "atlas-21", t.icon));
            "empty" === t.icon && (r.tint = t.tint), this.game.prodigy.create.font(n, 80, -2, t.name), 
            this.game.prodigy.create.font(n, 70, 44, a.N <= 0 ? this.game.prodigy.gameContainer.Localizer.getText("ITEM_FREE") : "" + a.N, {
                size: 30,
                align: "right",
                width: 140
            }), this.costsGold(a) && n.add(this.game.prodigy.icon.gold(238, 60)), 
            1 === t.member && n.add(this.game.prodigy.create.sprite(90, 35, "atlas-21", "membership"));
        }, e.prototype.setStyles = function() {
            this.resetPlayer(), this.content.removeAll(!0), this.locked = !1, this.current = [];
            for (var t = "male" === this.playerCopy.appearance.getGender() ? [ 16, 17, 18, 19, 20, 21, 22, 23, 37, 40, 41, 42 ] : [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 38, 39, 43, 44 ], e = 0; e < t.length; e++) {
                var i = s.Items.getItem("hair", t[e]), a = {
                    type: "hair",
                    ID: i.ID,
                    icon: i.metadata.icon,
                    cost: [ s.Items.getCost("hair", i.ID) ],
                    member: i.data.member,
                    name: i.data.name
                };
                this.current.push(a);
            }
            this.scroll.setPages(Math.floor((this.current.length - 1) / 6) + 1);
        }, e.prototype.setColors = function() {
            this.resetPlayer(), this.content.removeAll(!0), this.locked = !1, this.current = [];
            for (var t = s.Items.getCategoryItems("hairColor"), e = 0; e < t.length; e++) {
                var i = {
                    type: "hairColor",
                    ID: t[e].ID,
                    icon: "empty",
                    cost: [ s.Items.getCost("hairColor", t[e].ID) ],
                    member: t[e].data.member,
                    name: this.game.prodigy.gameContainer.Localizer.getText("STYLIST_HAIR_COLOR"),
                    tint: h.Util.rgb2hex(t[e].data.colors[2][0], t[e].data.colors[2][1], t[e].data.colors[2][2])
                };
                this.current.push(i);
            }
            this.scroll.setPages(Math.floor((this.current.length - 1) / 6) + 1);
        }, e.prototype.setEyes = function() {
            this.resetPlayer(), this.content.removeAll(!0), this.locked = !1, this.current = [];
            for (var t = s.Items.getCategoryItems("eyeColor"), e = 0; e < t.length; e++) {
                var i = {
                    type: "eyeColor",
                    ID: t[e].ID,
                    icon: "empty",
                    cost: [ s.Items.getCost("eyeColor", t[e].ID) ],
                    member: t[e].data.member,
                    name: t[e].data.name,
                    tint: h.Util.rgbArrayToHex(t[e].data.colors[0])
                };
                this.current.push(i);
            }
            this.scroll.setPages(Math.floor((this.current.length - 1) / 6) + 1);
        }, e.prototype.changeAppearance = function(t) {
            this.locked = 1 === t.member && !this.game.prodigy.player.hasMembership(), 
            "eyeColor" === t.type ? this.playerCopy.appearance.setEyeColor(t.ID) : "hairColor" === t.type ? this.playerCopy.appearance.setHair(-1, t.ID) : "hair" === t.type && this.playerCopy.appearance.setHair(t.ID, -1), 
            this.locked ? this.buyBtn.setIcon("membership") : this.buyBtn.setIcon("item/26"), 
            this.buyBtn.callback = this.buy.bind(this, t), this.buyBtn.setText(t.cost[0].N.toString()), 
            this.buyBtn.visible = !0, this.buyText.visible = !0, this.data.user.reload();
        }, e.prototype.buy = function(t) {
            this.locked && this.game.prodigy.network.sendAnalytics("Buy-Member-Style");
            var e = s.Items.getItem(t.type, t.ID).data, i = t.cost[0];
            this.player.hasMembership() || 1 !== e.member ? this.costsGold(i) || this.canPlayerAffordItem(i) ? this.costsGold(i) && !this.canPlayerAffordItemWithGold(i) ? this.player.hasMembership() ? this.displayPlayerNeedsMoreGoldMessage(i) : this.displayMemberAd(c.MemberAd.MORE_GOLD) : this.purchaseConfirmation(t) : this.displayYouNeedMoreItemsMessage(i) : this.displayMemberAd(c.MemberAd.STYLE);
        }, e.prototype.costsGold = function(t) {
            return "currency" === t.type && 1 === t.ID;
        }, e.prototype.canPlayerAffordItem = function(t) {
            return this.player.backpack.hasItem(t.type, t.ID) >= t.N;
        }, e.prototype.canPlayerAffordItemWithGold = function(t) {
            return this.player.getGold() >= t.N;
        }, e.prototype.displayYouNeedMoreItemsMessage = function(t) {
            var e = this.game.prodigy.gameContainer.Localizer, i = s.Items.getItem(t.type, t.ID).data.icon, a = this.player.backpack.hasItem(t.type, t.ID), n = e.getText("PURCHASING_MESSAGE_NEED_MORE_CURRENCY_BODY", i, t.N, a);
            this.game.prodigy.open.message(n, null, "gold", e.getText("MESSAGE_TITLE_UH_OH"));
        }, e.prototype.displayPlayerNeedsMoreGoldMessage = function(t) {
            var e = this.game.prodigy.gameContainer.Localizer, i = e.getText("STYLIST_MESSAGE_NEED_MORE_GOLD_BODY", t.N, h.Util.numberToString(this.player.getGold()));
            this.game.prodigy.open.message(i, null, "gold", e.getText("MESSAGE_TITLE_UH_OH"));
        }, e.prototype.displayMemberAd = function(t) {
            this.game.prodigy.open.membershipInfo(null, {}, t);
        }, e.prototype.purchaseConfirmation = function(t) {
            var e = t.cost[0], i = s.Items.getItem(e.type, e.ID).data, a = e.N + " " + i.name, n = this.game.prodigy.gameContainer.Localizer.getText("STYLIST_CONFIRM_MESSAGE_BODY", a);
            this.game.prodigy.open.messageBox(n, this.completePurchase.bind(this, e));
        }, e.prototype.completePurchase = function(t) {
            this.costsGold(t) ? this.game.prodigy.player.changeGold(-t.N, "Stylist") : this.game.prodigy.player.backpack.consume(t.type, t.ID, t.N);
            var e = this.playerCopy.appearance.getHair();
            this.player.appearance.setHair(e.style, e.color), this.player.appearance.setEyeColor(this.playerCopy.appearance.getEyeColor()), 
            this.player.appearanceChanged = !0, this.close();
        }, e;
    }(r.LegacyMenu);
    e.Stylist = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 10) || this;
            return a.bountyPointRequirementText = null, a.bountyPageLockedText = null, 
            a;
        }
        return n(e, t), e.prototype.setupInfoPanel = function() {
            var t = this.game.prodigy.create.element(this, 80, 360);
            this.game.prodigy.create.panel(t, 0, 0, 8, 6, "white").alpha = .5, t.add(this.game.prodigy.create.sprite(160, 50, "atlas-21", "emblem-bounty", new Phaser.Point(.5, 0))), 
            this.bountyPointRequirementText = this.game.prodigy.create.font(t, 0, 5, "", {
                width: 320,
                align: "center",
                fontID: 9,
                size: 36
            }), this.bountyPageLockedText = this.game.prodigy.create.font(t, 0, 175, this.game.prodigy.gameContainer.Localizer.getText("RANK_STORE_NOT_REACHED"), {
                width: 320,
                align: "center",
                size: 20
            });
        }, e.prototype.setMode = function(i) {
            t.prototype.setMode.call(this, i), this.bountyPointRequirementText.setText(this.game.prodigy.gameContainer.Localizer.getText("BOUNTY_POINTS_" + e.POINT_REQUIREMENTS[i])), 
            this.bountyPageLockedText.visible = this.game.prodigy.player.getBountyScore() < e.POINT_REQUIREMENTS[i];
        }, e.prototype.itemClicked = function(i) {
            this.game.prodigy.player.getBountyScore() < e.POINT_REQUIREMENTS[this.page] ? this.game.prodigy.open.message(this.game.prodigy.gameContainer.Localizer.getText("RANK_STORE_HIGHER_BOUNTY_MESSAGE", e.POINT_REQUIREMENTS[this.page])) : t.prototype.itemClicked.call(this, i);
        }, e.POINT_REQUIREMENTS = [ 5, 20, 50, 100 ], e;
    }(i(201).Store);
    e.BountyStore = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(17), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 18, {
                isModal: !1,
                backgroundAlpha: 0
            }, [ "atlas-166", "atlas-168" ]) || this;
            return a.currentCollection = 0, a.numberOfCollections = 1, a.badgeData = [], 
            a.badgesNames = [ "Stone", "Amber", "Garnet", "Emerald", "Ruby", "Topaz", "Amethyst", "Diamond" ], 
            a.topicFillFrames = [ "gray-large-fill", "yellow-large-fill", "bronze-large-fill", "green-large-fill", "pink-large-fill", "gold-large-fill", "purple-large-fill", "blue-large-fill" ], 
            a.game = e, a.badgeData = a.game.prodigy.education.getAllTopicBadges(), 
            a.numberOfCollections = a.badgeData.length, t.prototype.queuePostCreateCallback.call(a, function() {
                a.setupArrows();
            }, function() {
                a.switchCollection(a.game.prodigy.player.grade - 1);
            }, function() {
                a.setupScrollBar();
            }), a;
        }
        return n(e, t), e.prototype.setupScrollBar = function() {
            this.topicScrollView.linkScrollBar(this.topicScrollBar);
        }, e.prototype.setupArrows = function() {
            var t = this;
            this.skillsMasteredText.setText("Skills Mastered: " + e.getAllSkillsMastered(this.badgeData)), 
            this.badgesEarnedText.setText("Badges Completed: " + e.getAllBadgesCompleted(this.badgeData)), 
            this.leftButton.onClickCallback = function() {
                t.switchCollection(-1);
            }, this.rightButton.onClickCallback = function() {
                t.switchCollection(1);
            }, this.game.prodigy.breadcrumbManager.completeBreadcrumb(o.Breadcrumbs.FEATURE_BADGES, o.Breadcrumbs.BREADCRUMB_CLICKED_BADGES_BUTTON);
        }, e.prototype.switchCollection = function(t) {
            this.currentCollection += t, this.currentCollection >= this.numberOfCollections ? this.currentCollection = 0 : this.currentCollection < 0 && (this.currentCollection = this.numberOfCollections - 1), 
            this.collectionIcon.setImageFrameName("collections-" + this.badgeData[this.currentCollection].gameIconAssetId), 
            this.collectionNameText.setText(this.badgesNames[this.currentCollection] + " Badges"), 
            this.checkForBreadcrumbs(this.badgeData[this.currentCollection]);
            var i = this.badgeData[this.currentCollection].topics;
            this.fillTopics(i);
            var a = e.getBadgesCompleted(this.badgeData[this.currentCollection].topics);
            this.badgeProgressSlider.setActive3SlicedImage("scroll-tracks/" + this.topicFillFrames[this.currentCollection]), 
            this.badgeProgressSlider.setPercentComplete(a / i.length, !0), this.badgeProgressText.setText(a + "/" + i.length + " Badges");
        }, e.prototype.checkForBreadcrumbs = function(t) {
            var e = !1, i = this.game.prodigy.education.getRankUpBadges(), a = 0;
            if (r.Util.isValid(i) && i.length > 0) for (var n = 0; n < i.length; n++) if (i[n].collectionId === t.id) {
                for (var o = 0; o < t.topics.length; o++) t.topics[o].id === i[n].topicId && (e = t.topics[o].numSkillsMastered >= t.topics[o].ranks[t.topics[o].ranks.length - 1]);
                a = n;
            }
            this.collectionIconBreadcrumb.visible = e, e && i.splice(a, 1);
        }, e.prototype.fillTopics = function(i) {
            this.topicScrollView.clearScrollView();
            for (var a = 0; a < i.length; a++) {
                var n = t.prototype.instantiateTemplate.call(this, "topicCell", this.topicContents);
                n.topicText.setText(i[a].name), n.topicButton.setImageFrameName("badges-" + i[a].gameIconAssetId), 
                n.topicProgressSlider.setActive3SlicedImage("scroll-tracks/" + this.topicFillFrames[this.currentCollection]), 
                e.fillTopicStars(n, i[a]);
            }
            this.topicContents.layoutElement.calculateChildren(), this.topicScrollView.setupVisibleIndicies(), 
            this.topicScrollView.calculateMaxScrollDist();
        }, e.fillTopicStars = function(t, i) {
            var a = [];
            switch (i.ranks.length) {
              case 1:
                a.push(4);
                break;

              case 2:
                a.push(3, 5);
                break;

              case 3:
                a.push(3, 4, 5);
                break;

              case 4:
                a.push(2, 3, 5, 6);
                break;

              case 5:
                a.push(2, 3, 4, 5, 6);
                break;

              case 6:
                a.push(1, 2, 3, 5, 6, 7);
                break;

              case 7:
                a.push(1, 2, 3, 4, 5, 6, 7);
            }
            for (var n = 0; n < i.ranks.length; n++) t["progressStar" + a[n]].visible = !0, 
            i.numSkillsMastered >= i.ranks[n] && t["progressStar" + a[n]].setImageFrameName("tier-on");
            e.setSkillsProgress(t, i);
        }, e.setSkillsProgress = function(t, e) {
            var i = 0;
            if (e.numSkillsMastered >= e.ranks[e.ranks.length - 1]) t.topicProgressText.setText("Complete"), 
            i = 1; else for (var a = 0; a < e.ranks.length; a++) if (e.numSkillsMastered < e.ranks[a]) {
                t.topicProgressText.setText(e.numSkillsMastered + " / " + e.ranks[a] + " Skills"), 
                i = e.numSkillsMastered / e.ranks[a];
                break;
            }
            t.topicProgressSlider.setPercentComplete(i, !0);
        }, e.getBadgesCompleted = function(t) {
            for (var e = 0, i = 0; i < t.length; i++) t[i].numSkillsMastered >= t[i].ranks[t[i].ranks.length - 1] && e++;
            return e;
        }, e.getAllSkillsMastered = function(t) {
            for (var e = 0, i = 0; i < t.length; i++) for (var a = 0; a < t[i].topics.length; a++) e += t[i].topics[a].numSkillsMastered;
            return e;
        }, e.getAllBadgesCompleted = function(t) {
            for (var e = 0, i = 0; i < t.length; i++) for (var a = 0; a < t[i].topics.length; a++) t[i].topics[a].numSkillsMastered >= t[i].topics[a].ranks[t[i].topics[a].ranks.length - 1] && e++;
            return e;
        }, e.prototype.addTransparent = function(e) {
            t.prototype.addTransparent.call(this, 0), this.background.children.slice(-1)[0].inputEnabled = !1;
        }, e;
    }(i(26).Menu);
    e.BadgesMenu = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(4), s = i(13), l = i(37), h = i(0), c = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i, a - 40, n) || this;
            return r.leadersPerPage = 7, r.player = null, r.leaders = null, r.page = 0, 
            r.yourRankPanel = null, r.yourRankTitle = null, r.seasonPrizesContainer = null, 
            r.seasonPrizesText = null, r.seasonPrizeIcon = null, r.list = null, 
            r.player = r.game.prodigy.player, r.leaders = o, h.Util.isValid(r.game.prodigy.pvpNetworkHandler.seasonID) ? r.game.prodigy.pvpNetworkHandler.getUserRank(r.player.userID, r.getUserRankSuccess.bind(r), r.addErrorBanner.bind(r, r.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE"))) : r.game.prodigy.pvpNetworkHandler.isInitialized ? r.addErrorBanner(r.game.prodigy.gameContainer.Localizer.getText("SEASON_COMPLETED")) : r.addErrorBanner(r.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE")), 
            r.registerGetElementListener(), r;
        }
        return n(e, t), e.prototype.createIcon = function(t, e, i) {
            var a = this.game.prodigy.create.element(t, e, i);
            return this.game.prodigy.create.panel(a, 0, 0, 12, 1, "lb").setClickable(this.openCard.bind(this, a)), 
            a.curr = this.game.prodigy.create.panel(a, 0, 0, 12, 1, "lb-green"), 
            a.curr.setClickable(this.openCard.bind(this, a)), a.curr.visible = !1, 
            a.place = this.game.prodigy.create.font(a, 10, 0, "", {
                width: 50,
                align: "center",
                size: 30
            }), a.nameFont = this.game.prodigy.create.font(a, 70, 10, this.game.prodigy.gameContainer.Localizer.getText("PVP_PLAYERNAME"), {
                size: 16,
                width: 350,
                align: "left"
            }), a.typeFont = this.game.prodigy.create.font(a, 100, 8, this.game.prodigy.gameContainer.Localizer.getText("PVP_WIN_LOSS"), {
                size: 20,
                width: 350,
                align: "right"
            }), this.setIconData(a, null), a;
        }, e.prototype.addErrorBanner = function(t) {
            var e = [ {
                type: "SlicedGraphic",
                anchorX: 0,
                anchorY: 0,
                x: 290,
                y: 100,
                width: 620,
                height: 200,
                atlasName: "ui-shared",
                baseFrameName: "bases/matte",
                sliceType: "nineScale",
                children: [ {
                    type: "Text",
                    name: "titleText",
                    anchorX: 0,
                    anchorY: 0,
                    x: 20,
                    y: 20,
                    width: 580,
                    height: 160,
                    text: t.toUpperCase(),
                    font: "black",
                    fontSize: 20,
                    horizontalAlignment: "center",
                    verticalAlignment: "center"
                } ]
            } ];
            new l.UIParser(this.game).createUIElements(e, this);
        }, e.prototype.openCard = function(t) {
            var e = null;
            t.data.id === this.game.prodigy.player.userID ? e = this.game.prodigy.player : (e = new s.Player(this.game, !0)).init(t.data), 
            this.game.prodigy.open.card(e, !0, !0);
        }, e.prototype.setIconData = function(t, e) {
            if (h.Util.isValid(e)) {
                var i = e.place, a = e.isMember ? "@ " : "", n = new s.Player(this.game, !0);
                n.init(e), t.place.setText(i.toString()), t.typeFont.setText("[arena]" + e.points);
                var o = n.getName();
                o.length > 18 && (o = o.substring(0, 18) + "..."), t.nameFont.setText(a + o), 
                t.curr.visible = e.id === this.game.prodigy.player.userID, t.data = e;
            } else h.Util.isValid(t) && delete t.data;
            t.visible = h.Util.isValid(e);
        }, e.prototype.renderUserRankContainer = function() {
            this.yourRankPanel = this.game.prodigy.create.panel(this, 32, 20, 14, 8, "bases/matte"), 
            this.game.prodigy.create.panel(this.yourRankPanel, 40, -23, 12, 0, "banners/tag"), 
            this.game.prodigy.create.panel(this.yourRankPanel, 20, -5, 1, 0, "banners/rope-horiz"), 
            this.game.prodigy.create.panel(this.yourRankPanel, 500, -5, 1, 0, "banners/rope-horiz"), 
            this.yourRankTitle = this.game.prodigy.create.font(this.yourRankPanel, 0, -20, this.game.prodigy.gameContainer.Localizer.getText("SEASON_YOUR_RANK_TITLE"), {
                fontID: 9,
                size: 36,
                width: 560,
                align: "center"
            });
            var t = this.game.prodigy.create.sprite(0, 220, "atlas-18", "overlay-light", null, null, 560, 60);
            t.alpha = .25, this.yourRankPanel.add(t);
            this.yourRankPanel.yourPoints = this.game.prodigy.create.font(this.yourRankPanel, 40, 220, "", {
                size: 20,
                align: "right",
                width: 480
            }), this.yourRankPanel.yourNextRank = this.game.prodigy.create.font(this.yourRankPanel, 40, 250, "", {
                size: 20,
                align: "right",
                width: 480
            });
        }, e.prototype.getUserRankSuccess = function(t) {
            this.renderUserRankContainer(), this.renderSeasonPrizesContainer(), 
            this.renderSeasonLeaderboardContainer(), this.renderUserRank(t), this.game.prodigy.pvpNetworkHandler.getSeasonLeaderboard(0, 30, this.getSeasonLeaderboardSuccess.bind(this));
        }, e.prototype.renderUserRank = function(t) {
            h.Util.isValid(this.yourRankPanel.player) && this.yourRankPanel.player.destroy(), 
            this.yourRankPanel.player = this.game.prodigy.create.player(this.yourRankPanel, this.game.prodigy.player, 2, 135, 270, !1, !0), 
            this.yourRankPanel.player.reload(), t.rank > 0 ? this.yourRankTitle.setText(this.game.prodigy.gameContainer.Localizer.getText("SEASON_YOUR_RANK", t.rank)) : this.yourRankTitle.setText(this.game.prodigy.gameContainer.Localizer.getText("SEASON_YOUR_RANK", this.game.prodigy.gameContainer.Localizer.getText("RANKS_UNRANKED"))), 
            this.yourRankPanel.yourPoints.setText(this.game.prodigy.gameContainer.Localizer.getText("SEASON_YOUR_POINTS", t.points));
            var e = t.toNextRank, i = "SEASON_NEXT_RANK";
            t.rank > 1e3 && (e = t.toBaseRank, i = "SEASON_TO_TOP"), e > 0 && this.yourRankPanel.yourNextRank.setText(this.game.prodigy.gameContainer.Localizer.getText(i, e));
        }, e.prototype.getSeasonLeaderboardSuccess = function(t) {
            this.renderSeasonPrizes(t), this.renderSeasonLeaderboard(t);
        }, e.prototype.renderSeasonPrizesContainer = function() {
            this.seasonPrizesContainer = this.game.prodigy.create.panel(this, this.yourRankPanel.x, this.yourRankPanel.y + 320 + 14, 14, 2, "bases/matte");
            var t = 90, e = 10;
            this.seasonPrizesText = this.game.prodigy.create.font(this.seasonPrizesContainer, t, e, "", {
                size: 20,
                width: 560 - t,
                align: "left"
            });
        }, e.prototype.renderSeasonPrizes = function(t) {
            var e = t.reward, i = r.Items.getItem(e.type, e.id);
            this.seasonPrizeIcon = this.game.prodigy.icon.createFromData(i, 0, 0, null, null, 80, 80), 
            this.seasonPrizesContainer.add(this.seasonPrizeIcon), this.seasonPrizesText.setText(this.game.prodigy.gameContainer.Localizer.getText("SEASON_TOP_PLAYERS", i.data.name)), 
            this.renderSeasonLeaderboard(t);
        }, e.prototype.renderSeasonLeaderboardContainer = function() {
            this.list = this.game.prodigy.create.panel(this, this.yourRankPanel.x + 560 + 14, this.yourRankPanel.y, 14, 10.35, "bases/matte"), 
            this.game.prodigy.create.panel(this.list, 40, -23, 12, 0, "banners/tag"), 
            this.game.prodigy.create.panel(this.list, 20, -5, 1, 0, "banners/rope-horiz"), 
            this.game.prodigy.create.panel(this.list, 500, -5, 1, 0, "banners/rope-horiz"), 
            this.game.prodigy.create.font(this.list, 0, -20, this.game.prodigy.gameContainer.Localizer.getText("ARENA_LEADERBOARD_TOP_PLAYERS"), {
                fontID: 9,
                size: 36,
                width: 560,
                align: "center"
            }), this.list.error = this.game.prodigy.create.font(this.list, 20, 100, "", {
                size: 20,
                width: 560,
                align: "center"
            }), this.list.error.visible = !1, this.list.chars = this.game.prodigy.create.element(this.list), 
            this.list.icons = [];
            for (var t = 0; t < this.leadersPerPage; t++) this.list.icons.push(this.createIcon(this.list.chars, 25, 45 * t + 63));
            this.list.bar = this.game.prodigy.create.slider(this.list, 485, 63, 310, !0, !0);
        }, e.prototype.renderSeasonLeaderboard = function(t) {
            if (h.Util.isValid(this.game)) {
                if (!h.Util.isValid(t)) return this.list.error.visible = !0, h.Util.isValid(this.list.chars) && h.Util.isValid(this.list.bar) && (this.list.chars.visible = !1, 
                this.list.bar.visible = !1), void this.list.error.setText(this.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_ERROR_LOADING_BOARD"));
                this.list.error.visible = !1, this.list.chars.visible = !0, this.list.bar.visible = !0, 
                this.leaders = t.playerList, this.leaders.length > 0 && this.getPlayerListData(this.leaders);
            }
        }, e.prototype.getPlayerListData = function(t) {
            var e = h.Util.joinByProperty(t, "id");
            this.game.prodigy.network.getCharData(e, [ "appearance", "isMember", "equipment", "data" ], this.onGetPlayerListDataSuccess.bind(this));
        }, e.prototype.onGetPlayerListDataSuccess = function(t) {
            if (h.Util.isValid(this.game)) {
                for (var e = 0, i = null, a = 0; a < this.leaders.length; a++) for (var n in t) if (this.leaders[a].id === parseInt(n)) {
                    var o = this.leaders[a].points;
                    if (this.leaders[a] = {}, this.leaders[a].data = t[n], this.leaders[a].points = h.Util.isValid(o) ? o : "N/A", 
                    !h.Util.isValid(t[n].data)) {
                        this.leaders.splice(a, 1), a--;
                        break;
                    }
                    for (var r in i = t[n].data) "stars" !== r && (this.leaders[a].data[r] = i[r]);
                    this.leaders[a].appearance = t[n].appearance, this.leaders[a].equipment = t[n].equipment, 
                    this.leaders[a].isMember = !!h.Util.isValid(t[n].isMember) && t[n].isMember, 
                    this.leaders[a].place = e + 1, this.leaders[a].id = parseInt(n), 
                    e++;
                }
                e > 0 && this.list.bar.reset(e, this.leadersPerPage, 0, this.setPage.bind(this));
            }
        }, e.prototype.setPage = function(t) {
            var e = Math.round(t);
            if (h.Util.isValid(this.leaders)) {
                this.page = e;
                for (var i = 0; i < this.leadersPerPage; i++) {
                    var a = this.page + i;
                    this.setIconData(this.list.icons[i], this.leaders[a]);
                }
            }
        }, e;
    }(o.Element);
    e.SeasonLeaders = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(3), s = i(4), l = i(13), h = i(136), c = i(37), p = i(0), u = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n) || this;
            return o.seasonBanner = null, o.seasonCountdown = null, o.detailsPanel = null, 
            o.bonusTimer = null, o.seasonTimer = null, o.weeklyBonus = null, o.message = null, 
            o.registerGetElementListener(), o.checkDeserter(), o.setup(), o;
        }
        return n(e, t), e.prototype.setup = function() {
            p.Util.isValid(this.game.prodigy.pvpNetworkHandler.seasonID) ? this.game.prodigy.pvpNetworkHandler.getUserLeaderboard(this.onGetUserLeaderboard.bind(this), this.addErrorBanner.bind(this, this.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE"))) : this.game.prodigy.pvpNetworkHandler.isInitialized ? this.addErrorBanner(this.game.prodigy.gameContainer.Localizer.getText("SEASON_COMPLETED")) : this.addErrorBanner(this.game.prodigy.gameContainer.Localizer.getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE"));
        }, e.prototype.addErrorBanner = function(t) {
            var e = [ {
                type: "SlicedGraphic",
                anchorX: 0,
                anchorY: 0,
                x: 250,
                y: 100,
                width: 620,
                height: 200,
                atlasName: "ui-shared",
                baseFrameName: "bases/matte",
                sliceType: "nineScale",
                children: [ {
                    type: "Text",
                    name: "titleText",
                    anchorX: 0,
                    anchorY: 0,
                    x: 20,
                    y: 20,
                    width: 580,
                    height: 160,
                    text: t.toUpperCase(),
                    font: "black",
                    fontSize: 20,
                    horizontalAlignment: "center",
                    verticalAlignment: "center"
                } ]
            } ];
            new c.UIParser(this.game).createUIElements(e, this);
        }, e.prototype.onGetUserLeaderboard = function(t) {
            this.seasonBanner = this.addSeasonBanner(), this.addButtons(), this.addProgressPanel(t), 
            this.addWeeklyBonus(t), this.startTimers(t), this.game.prodigy.load.assets([ "atlas-157" ], this.addBannerInfo.bind(this, t));
        }, e.prototype.addButtons = function() {
            var t = this.game.prodigy.gameContainer.Localizer, e = this.game.prodigy.create.button(this, this.seasonBanner.x + 122, this.seasonBanner.y + 208, "atlas-151", "find-challenger-button", this.tryFindChallenger.bind(this)), i = this.game.prodigy.create.button(this, e.x + 6, e.y + 167, "atlas-151", "view-season-prizes", this.viewPrizes.bind(this));
            this.game.prodigy.create.font(i.sprite, 0, 10, t.getText("SEASON_DETAILS_PRIZE_BUTTON"), {
                fontID: 10,
                size: 16,
                width: 258,
                align: "center"
            }), this.game.prodigy.create.font(e.sprite, 0, 35, t.getText("SEASON_DETAILS_CHALLENGE_BUTTON_FIND"), {
                fontID: 9,
                size: 36,
                width: 270,
                align: "center"
            }), this.game.prodigy.create.font(e.sprite, 0, 70, t.getText("SEASON_DETAILS_CHALLENGE_BUTTON_CHALLENGER"), {
                fontID: 9,
                size: 36,
                width: 270,
                align: "center"
            });
        }, e.prototype.addSeasonBanner = function() {
            var t = this.game.prodigy.create.sprite(15, 0, "atlas-151", "season-details-banner");
            return this.add(t), this.seasonCountdown = this.game.prodigy.create.font(t, 0, 123, "", {
                fontID: 10,
                size: 16,
                width: 512,
                align: "center"
            }), t;
        }, e.prototype.addBannerInfo = function(t) {
            this.game.prodigy.create.font(this.seasonBanner, 0, 30, this.game.prodigy.gameContainer.Localizer.getText("MONTH_NAME_" + (new Date(t.startDate).getUTCMonth() + 1)), {
                fontID: 10,
                size: 20,
                width: 512,
                align: "center"
            });
            var e = {
                elements: [ {
                    type: "Text",
                    name: "titleText",
                    anchorX: .5,
                    anchorY: .5,
                    x: 257,
                    y: 85,
                    width: 512,
                    height: 100,
                    text: t.name.toUpperCase(),
                    fontID: 157,
                    fontSize: 0,
                    horizontalAlignment: "center",
                    verticalAlignment: "center"
                } ]
            };
            new c.UIParser(this.game).createUIElements(e.elements, this.seasonBanner);
        }, e.prototype.addProgressPanel = function(t) {
            var i = this.game.prodigy.gameContainer.Localizer, a = t.points, n = this.game.prodigy.create.panel(this, 566, 20, 14, 10, "bases/matte");
            this.detailsPanel = n;
            var o = this.game.prodigy.create.panel(n, 40, -23, 12, 0, "banners/tag");
            this.game.prodigy.create.panel(o, -20, 18, 1, 0, "banners/rope-horiz"), 
            this.game.prodigy.create.panel(o, o.width - 40, 18, 1, 0, "banners/rope-horiz"), 
            this.game.prodigy.create.font(o, 0, 5, i.getText("SEASON_DETAILS_POINTS_TITLE", a), {
                fontID: 9,
                size: 36,
                width: 480,
                align: "center"
            });
            var r = e.getNextPrizeIndex(t), s = r >= 0 ? t.seasonRewards[r] : null, l = r > 0 ? t.seasonRewards[r - 1] : null, h = null;
            if (p.Util.isValid(s)) {
                this.game.prodigy.create.font(n, 0, 60, i.getText("SEASON_DETAILS_NEXT_PRIZE"), {
                    fontID: 10,
                    size: 20,
                    width: 560,
                    align: "center"
                });
                var c = this.game.prodigy.create.progressBar(n, 75, 100, 340), u = 0;
                u = p.Util.isValid(l) ? (a - l.requirement.value) / (s.requirement.value - l.requirement.value) : a / s.requirement.value, 
                u *= .98, c.setProgress(u), h = this.game.prodigy.create.panel(n, c.x + c.width - 10, c.y - 20, 2, 2, "base/matte", {
                    atlasID: 150,
                    anchorX: .5,
                    anchorY: .5
                }), this.addPrizeIcon(s, h, 10), this.game.prodigy.create.font(h, -20, h.height + 5, i.getText("SEASON_DETAILS_POINTS", s.requirement.value), {
                    fontID: 10,
                    size: 16,
                    width: h.width + 40,
                    align: "center"
                });
            } else {
                var d = t.reward;
                "rank" === d.requirement.type && (s = d), p.Util.isValid(s) && (this.game.prodigy.create.font(n, 30, 60, i.getText("SEASON_DETAILS_REACH_TOP", s.requirement.value), {
                    fontID: 10,
                    size: 20,
                    width: 500,
                    align: "center"
                }), h = this.game.prodigy.create.panel(n, n.width / 2 - 60, 120, 3, 3, "base/matte", {
                    atlasID: 150,
                    anchorX: .5,
                    anchorY: .5
                }), this.addPrizeIcon(s, h, 10));
            }
        }, e.prototype.startTimers = function(t) {
            var i = e.getEndOfWeek(new Date(t.endDate), t.currentTimeMs).getTime() - t.currentTimeMs, a = new Date(t.endDate).getTime() - t.currentTimeMs;
            this.bonusTimer = this.game.prodigy.create.timer(this.weeklyBonus, 100, 40, !0), 
            this.bonusTimer.start(i, null, !0), this.bonusTimer.visible = !1, this.seasonTimer = this.game.prodigy.create.timer(this.seasonCountdown, 100, 100, !0), 
            this.seasonTimer.start(a, null, !0), this.seasonTimer.visible = !1, 
            this.updateTimerText(t);
        }, e.prototype.addWeeklyBonus = function(t) {
            if (this.weeklyBonus = this.game.prodigy.create.font(this.detailsPanel, 30, 280, "", {
                fontID: 10,
                size: 16,
                width: 500,
                align: "center"
            }), p.Util.isValid(t.numMatches) || (t.numMatches = 0), t.numMatches < 10) {
                for (var e = null, i = new c.UIParser(this.game).createUIElements([ {
                    type: "UIElement",
                    name: "progressBar",
                    relativeWidth: 1,
                    relativeHeight: 1,
                    children: [ {
                        type: "Slider",
                        name: "bonusSlider",
                        x: 100,
                        y: 30,
                        anchorX: 0,
                        anchorY: 0,
                        width: 300,
                        height: 80,
                        atlasName: "atlas-144",
                        activeTrackBaseFrameName: "scroll-tracks/red-large-fill",
                        inactiveTrackBaseFrameName: "scroll-tracks/red-large-track",
                        showHead: !1,
                        isVertical: !1,
                        isInteractive: !1
                    } ]
                } ], this.weeklyBonus), a = 0; a < i.length; a++) if (i[a] instanceof h.Slider) {
                    e = i[a];
                    break;
                }
                e.setPercentComplete(t.numMatches / 10), this.game.prodigy.create.font(e, 0, 36, t.numMatches + "/10", {
                    fontID: 10,
                    size: 16,
                    width: 300,
                    align: "center"
                });
            } else this.weeklyBonus.setText(this.game.prodigy.gameContainer.Localizer.getText("SEASON_DETAILS_WEEKLY_EARNED"));
        }, e.prototype.addPrizeIcon = function(t, e, i) {
            var a = 2 * i, n = s.Items.getItem(t.type, t.id), o = this.game.prodigy.icon.createFromData(n);
            e.add(o), p.Util.resizeSpriteMaintainingAspectRatio(o, e.width - a, e.height - a), 
            o.x += i, o.y += i;
        }, e.prototype.viewPrizes = function() {
            this.game.prodigy.open.pvpPrizes();
        }, e.prototype.tryFindChallenger = function() {
            p.Util.isValid(this.game.prodigy.player.world) ? (this.game.prodigy.network.sendAnalytics("PVP", "try-match", "Events"), 
            this.game.prodigy.network.sendEvent("PVP", {
                type: "try-match",
                classID: this.game.prodigy.player.getLatestClassIDLegacy(),
                grade: this.game.prodigy.player.grade
            }), this.game.prodigy.network.stopInactiveTimer(), this.findChallenger()) : this.message = this.game.prodigy.open.message(this.game.prodigy.gameContainer.Localizer.getText("ARENA_OFFLINE_MESSAGE"));
        }, e.prototype.findChallenger = function() {
            if (p.Util.isValid(this.game)) {
                this.game.prodigy.messageListener.add("arena", this.messageReceived.bind(this), !1);
                var t = {
                    userID: this.game.prodigy.player.userID,
                    equipment: this.game.prodigy.player.equipment.data,
                    appearance: this.game.prodigy.player.appearance.data,
                    data: this.game.prodigy.player.data,
                    isMember: this.game.prodigy.player.hasMembership()
                };
                this.game.prodigy.network.startMatchmaking(this.game.prodigy.player.getLevel(), this.game.prodigy.player.getArenaPoints(), t, this.startMatchmakingSuccessful.bind(this), this.startMatchmakingFailure.bind(this), this.showMaintenanceWarning.bind(this));
            }
        }, e.prototype.startMatchmakingSuccessful = function() {
            p.Util.isValid(this.message) || (this.message = this.game.prodigy.open.messageBoxOkay(this.game.prodigy.gameContainer.Localizer.getText("PVP_FINDING_MATCH_BODY"), this.game.prodigy.gameContainer.Localizer.getText("BUTTON_CANCEL_UPPERCASE"), this.closeMessage.bind(this, !0), null, this.game.prodigy.gameContainer.Localizer.getText("PVP_FINDING_MATCH_TITLE")));
        }, e.prototype.startMatchmakingFailure = function() {
            this.game.prodigy.open.message(this.game.prodigy.gameContainer.Localizer.getText("ARENA_CHECK_INTERNET_MESSAGE")), 
            this.closeMessage(!1);
        }, e.prototype.showMaintenanceWarning = function() {
            this.game.prodigy.open.message(this.game.prodigy.gameContainer.Localizer.getText("ARENA_DOWN_MESSAGE")), 
            this.closeMessage(!1);
        }, e.prototype.messageReceived = function(t) {
            this.message.setText(this.game.prodigy.gameContainer.Localizer.getText("PVP_CONNECTING_NOW")), 
            this.game.prodigy.network.sendAnalytics("PVP", "found-match", "Events"), 
            this.game.prodigy.network.sendEvent("PVP", {
                type: "found-match",
                classID: this.game.prodigy.player.getLatestClassIDLegacy(),
                grade: this.game.prodigy.player.grade
            }), "string" == typeof t.playerA.data.isMember && (t.playerB.data.isMember = "true" === t.playerB.data.isMember || "1" === t.playerB.data.isMember ? 1 : 0), 
            "string" == typeof t.playerA.data.isMember && (t.playerA.data.isMember = "true" === t.playerA.data.isMember || "1" === t.playerA.data.isMember ? 1 : 0), 
            t.playerA.id = parseInt(t.playerA.id), t.playerB.id = parseInt(t.playerB.id), 
            this.game.prodigy.network.startInactiveTimer();
            var e = new l.Player(this.game, !0);
            t.playerA.id !== this.game.prodigy.player.userID ? (t.playerA.data.appearance.name.first = parseInt(t.playerA.data.appearance.name.first), 
            t.playerA.data.appearance.name.middle = parseInt(t.playerA.data.appearance.name.middle), 
            t.playerA.data.appearance.name.last = parseInt(t.playerA.data.appearance.name.last), 
            t.playerA.data.appearance.name.nick = parseInt(t.playerA.data.appearance.name.nick), 
            "boolean" == typeof t.playerA.data.isMember && (t.playerA.data.isMember = t.playerA.data.isMember ? 1 : 0), 
            e.init(t.playerA.data)) : t.playerB.id !== this.game.prodigy.player.userID && (t.playerB.data.appearance.name.first = parseInt(t.playerB.data.appearance.name.first), 
            t.playerB.data.appearance.name.middle = parseInt(t.playerB.data.appearance.name.middle), 
            t.playerB.data.appearance.name.last = parseInt(t.playerB.data.appearance.name.last), 
            t.playerB.data.appearance.name.nick = parseInt(t.playerB.data.appearance.name.nick), 
            "boolean" == typeof t.playerB.data.isMember && (t.playerB.data.isMember = t.playerB.data.isMember ? 1 : 0), 
            e.init(t.playerB.data)), p.Util.log("typeof " + typeof t.playerB.data.isMember);
            var i = this.game.broadcaster.broadcast(r.EPlayerLocomotionEvents.GetTarget, this.game, [ !0 ]);
            this.game.prodigy.network.sendBattleStartTypeEvent("PVP-Matchmaking"), 
            this.game.prodigy.pvp.startPVP(t.playerA.id, this.game.prodigy.player, e, function(t, e) {
                t.prodigy.world.teleport(t.prodigy.player.data.zone, e.x, e.y);
            }.bind(this, this.game, i), !0);
        }, e.prototype.closeMessage = function(t) {
            this.game.prodigy.messageListener.clear("arena"), this.message = null, 
            t && this.game.prodigy.network.quitMatchmaking(this.onMatchMakingQuit.bind(this), this.onMatchMakingQuit.bind(this));
        }, e.prototype.onMatchMakingQuit = function() {
            this.game.prodigy.network.startInactiveTimer();
        }, e.prototype.checkDeserter = function() {
            if (this.game.prodigy.player.processDeserter()) {
                var t = this.game.prodigy.gameContainer.Localizer;
                this.game.prodigy.open.message(t.getText("PVP_DISCONNECT_WARNING_BODY"), null, "info", t.getText("PVP_DISCONNECT_WARNING_TITLE")), 
                this.game.prodigy.network.sendAnalytics("PVP ", "view-deserter-message", "Events"), 
                this.game.prodigy.network.sendEvent("PVP", {
                    type: "view-deserter-message",
                    classID: this.game.prodigy.player.getLatestClassIDLegacy(),
                    grade: this.game.prodigy.player.grade
                });
            }
        }, e.prototype.updateTimerText = function(t) {
            p.Util.isValid(this.weeklyBonus) && t.numMatches < 10 && this.weeklyBonus.setText(this.game.prodigy.gameContainer.Localizer.getText("SEASON_DETAILS_EARN_BONUS", 1e3, 10, this.bonusTimer.text.text)), 
            p.Util.isValid(this.seasonCountdown) && this.seasonCountdown.setText(this.game.prodigy.gameContainer.Localizer.getText("SEASON_DETAILS_SEASON_ENDS", this.seasonTimer.text.text));
        }, e.getEndOfWeek = function(t, e) {
            var i = t.getTime() - e, a = Math.floor(i / 7 / 24 / 60 / 60 / 1e3);
            return a > 0 && t.setDate(t.getDate() - 7 * a), t;
        }, e.getNextPrizeIndex = function(t) {
            for (var e = 0; e < t.seasonRewards.length; e++) {
                var i = t.seasonRewards[e];
                if ("points" === i.requirement.type && t.points < i.requirement.value) return e;
            }
            return -1;
        }, e;
    }(o.Element);
    e.SeasonDetails = u;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = i(208), l = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n) || this;
            o.game.prodigy.create.panel(o, 0, 120, 5, 8, "white"), o.add(o.game.prodigy.create.sprite(-13, 0, "atlas-19", "emblem-bounty")), 
            o.game.prodigy.create.font(o, 65, 100, "" + e.prodigy.player.getBountyScore(), {
                size: 36,
                fontID: 9,
                width: 74,
                align: "center"
            }), o.game.prodigy.create.font(o, 10, 300, o.game.prodigy.gameContainer.Localizer.getText("BOUNTIES_INCREASE_RANK"), {
                width: 180
            });
            for (var l = o.game.prodigy.player.state.get("world-bounties"), h = 0; h < 3; h++) r.Util.isValid(l[h]) && new s.BountyContainer(o.game, o, 305 * h + 230, 0, o.game.prodigy.bounty.getBounty(h), h, !0);
            return o;
        }
        return n(e, t), e;
    }(o.Element);
    e.BountiesPanel = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(3), s = i(65), l = i(13), h = i(0), c = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n) || this;
            return o.requestsPerPage = 3, o.scroll = null, o.content = null, o.lastIndex = 0, 
            o.create(), o;
        }
        return n(e, t), e.prototype.create = function() {
            this.content = this.game.prodigy.create.element(this, 320, 40), this.scroll = this.game.prodigy.create.slider(this, 820, 40, 380, !0, !0), 
            this.scroll.reset(this.game.prodigy.mail.getMailCount(), 1, -1, this.setMail.bind(this)), 
            this.game.prodigy.mail.addUpdateCallback(this.process.bind(this));
        }, e.prototype.setMail = function(t) {
            void 0 === t && (t = 0), this.lastIndex = t, this.content.removeAll(!0);
            for (var e = this.game.prodigy.mail.getMail(t, 4), i = 0; i < this.requestsPerPage; i++) this.createChallenge(0, 130 * i, e[i]);
        }, e.prototype.process = function() {
            h.Util.isValid(this.game) && this.scroll.reset(this.game.prodigy.mail.getMailCount(), 1, this.lastIndex, this.setMail.bind(this));
        }, e.prototype.createChallenge = function(t, e, i) {
            var a = this;
            if (h.Util.isValid(i)) {
                var n = this.game.prodigy.create.panel(this.content, t + 10, e, 12, 3, "mail");
                n.add(this.game.prodigy.create.sprite(3, 3, "atlas-21", "mail-challenge"));
                var o = i.data.player.appearance, r = this.game.prodigy.gameContainer.resolve(s.OnlinePlayerAppearance);
                r.setAppearance(o), this.game.prodigy.create.font(n, 39, 8, this.game.prodigy.gameContainer.Localizer.getText("BATTLE_REQUEST_NAME", r.getName(), i.data.player.data.level), {
                    size: 16
                }), this.game.prodigy.create.font(n, 20, 80, this.game.prodigy.gameContainer.Localizer.getText("BATTLE_REQUEST_ACCEPT"), {
                    fontID: 8,
                    size: 20
                }), this.game.prodigy.create.button(n, 410, 50, "atlas-21", "close", function() {
                    a.processChallenge(i, !1);
                }), this.game.prodigy.create.button(n, 340, 50, "atlas-21", "yes", function() {
                    a.processChallenge(i, !0);
                });
            }
        }, e.prototype.processChallenge = function(t, e) {
            if (this.game.prodigy.mail.remove(t), e) {
                var i = this.game.broadcaster.broadcast(r.EPlayerLocomotionEvents.GetTarget, this.game, [ !0 ]), a = this.game.state.current, n = new l.Player(this.game, !0);
                "boolean" == typeof t.data.player.isMember && (t.data.player.isMember = t.data.player.isMember ? 1 : 0), 
                n.init({
                    equipment: t.data.player.equipment,
                    appearance: t.data.player.appearance,
                    data: t.data.player.data,
                    isMember: t.data.player.isMember
                }), this.game.prodigy.network.sendBattleStartTypeEvent("PVP-Duel"), 
                this.game.prodigy.pvp.startPVP(t.data.userID, this.game.prodigy.player, n, this.pvpCallback.bind(this, this.game, a, i), !1);
            }
        }, e.prototype.pvpCallback = function(t, e, i) {
            h.Util.isValid(e) && "Tower" === e ? (t.state.states.Tower.startX = i.x, 
            t.state.states.Tower.startY = i.y, t.prodigy.start("Tower")) : t.prodigy.world.teleport(t.prodigy.player.data.zone, i.x, i.y);
        }, e;
    }(o.Element);
    e.BattleRequestsPanel = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n) || this;
            return o.data = null, o.scroll = null, o.achievementScroll = null, o.achievements = [], 
            o.data = o.game.prodigy.achievements.getData(), o.createData(), o.createCategories(), 
            o.onDestroy.add(o.handleDestroy.bind(o)), o;
        }
        return n(e, t), e.prototype.handleDestroy = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this);
        }, e.prototype.createCategories = function() {
            var t = this, e = null;
            o.GameConstants.get("GameConstants.Build.DEBUG") && (e = function(t) {
                return {
                    x: t.worldPosition.x + .5 * t.totalWidth,
                    y: t.worldPosition.y + .5 * t.totalHeight
                };
            });
            for (var i = [], a = 0; a < 9; a++) i.push(this.createCategory(0, 40 + 40 * a)), 
            i[a].setClickable(this.categorySelected.bind(this, i[a])), o.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
                ID: "autoclick-category-" + a,
                context: this,
                callback: e.bind(this, i[a])
            });
            this.scroll = this.game.prodigy.create.slider(this, 310, 40, 360, !0, !1), 
            this.scroll.reset(this.data.length, 9, 0, function(e) {
                t.showCategories(i, e);
            }), this.categorySelected(i[0]);
        }, e.prototype.showCategories = function(t, e) {
            for (var i = 0; i < t.length; i++) e < this.data.length && this.setCategory(t[i], this.data[e + i]);
        }, e.prototype.createCategory = function(t, e) {
            var i = this.game.prodigy.create.panel(this, t, e, 8, 1, "lb");
            return i.category = this.game.prodigy.create.font(i, 8, 6, "", {}), 
            i;
        }, e.prototype.setCategory = function(t, e) {
            t.category.setText(e.tag), t.data = e, t.data.selected ? t.changePanel("lb-green") : t.changePanel("lb");
        }, e.prototype.categorySelected = function(t) {
            for (var e = 0; e < this.data.length; e++) this.data[e].selected = !1;
            t.data.selected = !0, this.scroll.process(), this.achievementScroll.reset(t.data.data.length, 3, 0, this.showAchievements.bind(this, t.data.data)), 
            this.achievementScroll.process();
        }, e.prototype.createData = function() {
            this.achievements = [];
            for (var t = 0; t < 3; t++) this.achievements.push(this.game.prodigy.create.achievement(this, 420, 130 * t + 40));
            this.achievementScroll = this.game.prodigy.create.slider(this, 1070, 40, 380, !0, !0);
        }, e.prototype.showAchievements = function(t, e) {
            for (var i = 0; i < this.achievements.length; i++) this.achievements[i].setSource(t[e + i]);
        }, e;
    }(i(5).Element);
    e.AchievementsPanel = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(40), s = i(0), l = function(t) {
        function e(e, i, a, n, o, r) {
            var l = t.call(this, e, i, 12, {
                hideMenu: !0,
                hideContent: !0
            }) || this;
            return l.dialogue = null, l.isClosed = !1, l.serverList = s.Util.getOptionalParameter(a, null), 
            l.onServerSelectedCallback = s.Util.getOptionalParameter(n, null), l.onSchoolCallback = o, 
            l.onHomeCallback = r, l.game.prodigy.load.assets([ "atlas-158" ], l.setup.bind(l)), 
            l;
        }
        return n(e, t), e.prototype.menuSetup = function() {
            t.prototype.menuSetup.call(this), this.add(this.game.prodigy.create.sprite(0, 0, "singleImage-5")), 
            this.game.prodigy.create.panel(this, 240, 640, 20, 3, "shine2"), this.game.prodigy.create.textButton(this, 260, 660, {
                icon: "back",
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_BACK")
            }, this.onBackClick.bind(this));
            this.createPanel(40, 220, "atlas-158", "school-image", "school", this.onSchoolClick.bind(this)), 
            this.createPanel(1280 - (40 * e.PANEL_DIMENSIONS.tileNumWidth + 40), 220, "atlas-158", "house-image", "home", this.onHomeClick.bind(this));
            var i = this.game.prodigy.create.player(this, this.game.prodigy.player, 2, 640, 500);
            i.reload(), i.showName(!0), this.createDialogue();
        }, e.prototype.onMenuOpen = function(t) {
            this.isClosed || this.showDialogue(t);
        }, e.prototype.createPanel = function(t, i, a, n, o, r) {
            var l = this.game.prodigy.create.panel(this, t, i, e.PANEL_DIMENSIONS.tileNumWidth, e.PANEL_DIMENSIONS.tileNumHeight, "shine2"), h = 40 * e.PANEL_DIMENSIONS.tileNumWidth - 22, c = 40 * e.PANEL_DIMENSIONS.tileNumHeight - 120, p = c - 80;
            l.add(new Phaser.TileSprite(this.game, 11, 36, h, 40, "atlas-161", "blue-top")), 
            l.add(new Phaser.TileSprite(this.game, 11, 76, h, p, "atlas-161", "blue-mid")), 
            l.add(new Phaser.TileSprite(this.game, 11, 76 + p, h, 40, "atlas-161", "blue-top2"));
            var u = this.game.prodigy.create.button(l, 0, 0, a, n, r), d = s.Util.getCenteredXY(u.width, u.height, 11, 36, h, c);
            u.x = d.x, u.y = d.y;
            var g = this.game.prodigy.create.button(l, 0, 0, a, o, r), y = 76 + p + 40;
            return d = s.Util.getCenteredXY(g.width, g.height, 11, y, h, l.height - y - 11), 
            g.x = d.x, g.y = d.y, l.highlight(!0, 40, 60), l;
        }, e.prototype.onServerSelected = function(t, e) {
            e || (this.onServerSelectedCallback(t, e), this.close());
        }, e.prototype.onSchoolClick = function() {
            s.Util.isValid(this.onSchoolCallback) && this.onSchoolCallback(), this.game.prodigy.classModeController.setClassMode(), 
            this.game.prodigy.player.locationSelectionType = o.default.get("GameConstants.LocationSelection.SCHOOL"), 
            this.game.prodigy.open.server(this.serverList, this.onServerSelected.bind(this), !0);
        }, e.prototype.onHomeClick = function() {
            s.Util.isValid(this.onHomeCallback) && this.onHomeCallback(), this.game.prodigy.player.locationSelectionType = o.default.get("GameConstants.LocationSelection.HOME"), 
            this.game.prodigy.open.server(this.serverList, this.onServerSelected.bind(this), !1);
        }, e.prototype.onBackClick = function() {
            this.onServerSelectedCallback(!1, !0), this.close();
        }, e.prototype.showDialogue = function(t) {
            this.destroyDialogue(), t && this.createDialogue();
        }, e.prototype.destroyDialogue = function() {
            s.Util.isValid(this.dialogue) && (this.dialogue.close(), this.dialogue = null);
        }, e.prototype.createDialogue = function() {
            this.dialogue = this.game.prodigy.dialogue.create(), this.dialogue.setText(177), 
            this.dialogue.start("noot", !0, null, 0);
        }, e.prototype.close = function() {
            this.destroyDialogue(), this.isClosed = !0, t.prototype.close.call(this);
        }, e.PANEL_DIMENSIONS = {
            tileNumWidth: 11,
            tileNumHeight: 10
        }, e;
    }(r.LegacyMenu);
    e.ServerSelectMode = l;
}, function(t, e, i) {
    var a = i(82);
    t.exports = function(t) {
        return "function" == typeof t ? t : a;
    };
}, function(t, e, i) {
    var a = i(269), n = i(681);
    t.exports = function(t, e) {
        return t && a(t, n(e));
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(682), r = i(2), s = i(40), l = i(21), h = i(3), c = i(0), p = function(t) {
        function e(e, i, a, n, o) {
            void 0 === o && (o = !1);
            var s = t.call(this, e, i, 11) || this;
            return s.callback = null, s.servers = [], s.isAutoSelect = !1, s.backButton = null, 
            s.playOfflineButton = null, s.content = null, s.serverPage = null, s.scroll = null, 
            s.callback = n, s.servers = a, s.isAutoSelect = o, s.setup(), r.default.get("GameConstants.Build.DEBUG") && s.game.broadcaster.addAppListener(h.EDebugEvents.AutoClick, s.onDebugAutoClick.bind(s), s), 
            s.onDestroy.add(s.handleDestroy.bind(s)), s;
        }
        return n(e, t), e.getSuggested = function(t, e, i) {
            if (t.length < e) return t;
            var a, n = i ? t.length - e : t.length;
            for (a = 0; a < n && !(t[a].full <= 75); a++);
            return t.slice(a, a + e);
        }, e.determineTotalWorldListFullness = function(t) {
            for (var e = 0, i = 0; i < t.length; i++) e += t[i].full;
            return e;
        }, e.groupServersByCluster = function(t, e) {
            for (var i = {}, a = [], n = 0, r = null, s = 0; s < t.length; s++) r = t[s], 
            n = e.getMultiplayerClusterForWorld(r.id).ID, c.Util.isValid(i[n]) || (i[n] = []), 
            i[n].push(r);
            return o(i, function(t) {
                a.push(t);
            }), a;
        }, e.determineSuggestedWorldsForLoadBalancing = function(t, i) {
            var a = [], n = e.groupServersByCluster(t, i);
            n = n.sort(function(t, i) {
                return e.determineTotalWorldListFullness(t) - e.determineTotalWorldListFullness(i);
            });
            for (var o = 0; o < n.length; o++) {
                var r = n[o].sort(function(t, e) {
                    return e.full - t.full;
                }), s = e.getSuggested(r, e.SUGGESTED_NUM - a.length, o === n.length - 1);
                if ((a = a.concat(s)).length >= e.SUGGESTED_NUM) break;
            }
            return a.sort(function(t, e) {
                return e.full - t.full;
            });
        }, e.prototype.menuSetup = function() {
            t.prototype.menuSetup.call(this);
            var e = this.game.prodigy.gameContainer.Localizer;
            this.showFrame("map", e.getText("SERVER_CHOOSE_WORLD_TITLE"), []), this.game.prodigy.create.font(this, 125, 60, e.getText("SERVER_PICK_SAME_WORLD"), {
                size: 20
            }), this.playOfflineButton = this.game.prodigy.create.textButton(this, 930, 20, {
                size: l.TextButton.MED,
                icon: "next",
                text: e.getText("SERVERS_BUTTON_PLAY_OFFLINE")
            }, this.closeMenu.bind(this, !0)), this.backButton = this.game.prodigy.create.textButton(this, 50, 650, {
                icon: "back",
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_BACK")
            }, this.closeMenu.bind(this, !1, !0)), this.content = this.game.prodigy.create.element(this, 0, 0), 
            this.showSuggestedServers(), this.setupComplete = !0;
        }, e.prototype.handleDestroy = function() {
            r.default.get("GameConstants.Build.DEBUG") && this.game.broadcaster.removeAppListener(h.EDebugEvents.AutoClick, this);
        }, e.prototype.showSuggestedServers = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            if (this.content.removeAll(!0), !c.Util.isValid(this.servers)) return this.game.prodigy.create.font(this.content, 0, 320, t.getText("SERVER_LOADING_LIST"), {
                size: 30,
                width: 1280,
                align: "center"
            }), void this.game.prodigy.network.getWorldList(this.showSuggestedServers.bind(this), this.showError.bind(this, t.getText("SERVER_ERROR_FAILED_LOAD"), this.showSuggestedServers.bind(this)));
            for (var i = e.determineSuggestedWorldsForLoadBalancing(this.servers, this.game.prodigy.gameAPIData), a = 0; a < i.length; a++) {
                var n = i[a];
                c.Util.isValid(n) && this.createButton(n, this.content, a % 3 * 350 + 140, 140 * Math.floor(a / 3) + 210, this.showSuggestedServers.bind(this));
            }
            if (this.content.add(this.game.prodigy.create.sprite(520, 530, "atlas-18", "server-icon")).tint = 8111468, 
            this.game.prodigy.create.font(this.content, 560, 540, t.getText("SERVER_WIZARDS_ONLINE"), {
                size: 20
            }), this.game.prodigy.create.textButton(this.content, 880, 650, {
                size: l.TextButton.LG,
                text: t.getText("SERVERS_BUTTON_MORE_WORLDS"),
                icon: "map"
            }, this.showAllServers.bind(this)), this.isAutoSelect) {
                var o = this.game.prodigy.player, r = c.Util.getLatestClassID(o.owners, o.playerTeachers, o.playerParents);
                if (r > 0) {
                    var s = this.determineClassWorld(r, this.servers);
                    c.Util.isValid(s) ? (this.backButton.visible = !1, this.playOfflineButton.visible = !1, 
                    this.connect(s, this.onAutoConnectFail.bind(this))) : c.Util.log("Server.showSuggestedServers - couldn't find a class world for this player.  Going to manual select mode", c.Util.INFO);
                } else c.Util.log("Server.showSuggestedServers - couldn't find a teacher-owned class for this player.  Going to manual select mode", c.Util.INFO);
                this.isAutoSelect = !1;
            }
        }, e.prototype.onAutoConnectFail = function() {
            this.isAutoSelect = !1, this.showAllServers();
        }, e.prototype.determineClassWorld = function(t, e) {
            var i = null, a = null;
            return e.length > 0 ? i = (a = e.sort(function(t, e) {
                return t.id.toString().localeCompare(e.id.toString());
            }))[t % a.length] : c.Util.log("Server.determineClassWorld - worldData array is empty.  Could not determine class world", c.Util.INFO), 
            i;
        }, e.prototype.showAllServers = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            if (this.content.removeAll(!0), this.playOfflineButton.visible = !0, 
            this.backButton.visible = !0, !c.Util.isValid(this.servers)) return this.game.prodigy.create.font(this.content, 0, 320, t.getText("SERVER_LOADING_LIST"), {
                size: 30,
                width: 1280,
                align: "center"
            }), void this.game.prodigy.network.getWorldList(this.showAllServers.bind(this), this.showError.bind(this, t.getText("SERVER_ERROR_FAILED_LOAD"), this.showAllServers.bind(this)));
            var e = this.servers.sort(function(t, e) {
                return t.name.localeCompare(e.name);
            });
            this.serverPage = this.game.prodigy.create.element(this.content, 200, 180), 
            this.scroll = this.game.prodigy.create.scrollBar(this.content, 60, 180, 345, this.setPage.bind(this, e)), 
            this.scroll.setPages(Math.floor((e.length - 1) / 9 + 1)), this.game.prodigy.create.textButton(this.content, 880, 650, {
                size: l.TextButton.LG,
                text: t.getText("SERVERS_BUTTON_MY_WORLDS"),
                icon: "star"
            }, this.showSuggestedServers.bind(this));
        }, e.prototype.setPage = function(t, e) {
            this.serverPage.removeAll(!0);
            for (var i = 0, a = 9 * e; a < 9 * e + 9 && a < t.length; a++) {
                var n = t[a], o = i % 3 * 350 + 15, r = 120 * Math.floor(i / 3);
                i++, this.createButton(n, this.serverPage, o, r, this.showAllServers.bind(this));
            }
        }, e.prototype.createButton = function(t, e, i, a, n) {
            var o = this.game.prodigy.create.element(e, i, a), r = o.add(this.game.prodigy.create.sprite(0, 0, "atlas-19", "store-panel"));
            r.inputEnabled = !0, r.events.onInputDown.add(this.connect.bind(this, t, n), this), 
            c.Util.isValid(t.meta) && o.add(this.game.prodigy.icon.createFromData(t.meta, 0, 0)), 
            this.game.prodigy.create.font(o, 85, -2, t.name);
            for (var s = 0 === t.full ? 12364703 : t.full <= 80 ? 8111468 : t.full < 95 ? 15194464 : 14307665, l = 0; l < 5; l++) {
                o.add(this.game.prodigy.create.sprite(39 * l + 96, 36, "atlas-18", "server-icon")).tint = t.full >= 20 * l ? s : 12364703;
            }
            return o;
        }, e.prototype.connect = function(t, e) {
            var i = this.game.prodigy.gameContainer.Localizer;
            !this.isAutoSelect && t.full >= 100 ? this.showError(i.getText("SERVER_ERROR_WORLD_SELECTED_FULL"), e) : (this.content.removeAll(!0), 
            this.game.prodigy.create.font(this.content, 0, 320, i.getText("SERVER_CONNECTING_MESSAGE", c.Util.isValid(t.name) ? t.name : "server"), {
                size: 30,
                width: 1280,
                align: "center"
            }), this.game.prodigy.network.joinMultiplayerServer(t, "zone-login", this.connected.bind(this, !0), this.connected.bind(this, !1, e), this.connected.bind(this, !1, e, i.getText("SERVER_ERROR_WORLD_FULL"))));
        }, e.prototype.connected = function(t, e, i) {
            c.Util.isValid(this) && c.Util.isValid(this.game) && (this.content.removeAll(!0), 
            t ? this.closeMenu(!0) : this.showError(c.Util.isValid(i) ? i : this.game.prodigy.gameContainer.Localizer.getText("SERVER_ERROR_FALLBACK"), e));
        }, e.prototype.showError = function(t, e) {
            this.content.removeAll(!0), this.game.prodigy.create.panel(this.content, 240, 260, 16, 4), 
            this.game.prodigy.create.font(this.content, 270, 300, t, {
                size: 30,
                width: 740,
                align: "center"
            }), this.game.prodigy.create.textButton(this.content, 465, 430, {
                size: l.TextButton.LG,
                text: this.game.prodigy.gameContainer.Localizer.getText("SERVERS_BUTTON_BACK_TO_WORLDS"),
                icon: "back"
            }, e);
        }, e.prototype.closeMenu = function(e, i) {
            c.Util.isValid(this.callback) && this.callback(e, i), t.prototype.close.call(this);
        }, e.prototype.onDebugAutoClick = function(t) {
            var e;
            if (c.Util.isValid(t)) for (e = 0; e < this.servers.length; e++) {
                var i = this.servers[e];
                if (t === i.name.toLowerCase()) return void this.connect(i);
            } else for (e = 0; e < this.servers.length; e++) c.Util.log("Button tag: " + this.servers[e].name.toLowerCase());
        }, e.SUGGESTED_NUM = 6, e;
    }(s.LegacyMenu);
    e.Server = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(40), s = i(30), l = i(0), h = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, -1, {
                hideMenu: !0,
                hideContent: !1
            }) || this;
            if (n.callback = a, l.Util.isValid(n.game.prodigy.player.data.rate) && n.game.prodigy.player.data.rate > 3) try {
                s.Device.nativeAppVersion() > 1 ? window.postMessage(JSON.stringify({
                    type: "REVIEW_APP"
                }), "*") : webkit.messageHandlers.reviewApp.postMessage(0);
            } catch (t) {
                l.Util.log(t, l.Util.ERROR);
            }
            return l.Util.isValid(n.game.prodigy.player.data.rate) ? (n.close(), 
            n) : (n.setup(), n);
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.menuSetup.call(this), this.base = this.game.prodigy.create.element(this, 320, 150);
            var e = this.game.prodigy.create.element(this.base, 0, 0);
            this.game.prodigy.create.panel(e, 0, 0, 16, 10, "shine"), e.add(new Phaser.TileSprite(this.game, 11, 200, 618, 40, "atlas-161", "blue-top")), 
            e.add(new Phaser.TileSprite(this.game, 11, 240, 618, 20, "atlas-161", "blue-mid")), 
            e.add(new Phaser.TileSprite(this.game, 11, 260, 618, 40, "atlas-161", "blue-top2")), 
            this.game.prodigy.create.panel(e, 40, 40, 14, 3, "banner"), this.base.add(this.game.prodigy.create.sprite(100, -30, "atlas-19", "menu-noot")), 
            this.game.prodigy.create.font(this.base, 260, 58, this.game.prodigy.gameContainer.Localizer.getText("RATING_PROMPT"), {
                size: 36,
                fontID: 9,
                width: 300,
                align: "center",
                lineHeight: 38
            }), this.game.prodigy.create.button(this.base, 600, -10, "atlas-21", "close", this.close.bind(this)), 
            this.cBtn = this.game.prodigy.create.textButton(this.base, 220, 320, {
                icon: "yes",
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_OKAY")
            }, this.close.bind(this, !0)), this.cBtn.setInactive();
            for (var i = [], a = 0; a < 5; a++) {
                var n = this.base.add(this.game.prodigy.create.sprite(90 * a + 140, 250, "atlas-21", "star"));
                n.anchor.setTo(.5, .5), n.angle = -15, this.game.add.tween(n).to({
                    angle: 15
                }, 1500, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0), 
                n.tint = 7829367, n.inputEnabled = !0, n.events.onInputDown.add(this.rate.bind(this, i, a)), 
                i.push(n);
            }
        }, e.prototype.rate = function(t, e) {
            for (var i = 0; i < t.length; i++) {
                var a = t[i];
                a.tint = i <= e ? 16777215 : 7829367;
            }
            this.cBtn.setActive(), this.rating = e + 1;
        }, e.prototype.close = function(e) {
            if (e && this.rating > 3) try {
                s.Device.nativeAppVersion() > 1 ? window.postMessage(JSON.stringify({
                    type: "REVIEW_APP"
                }), "*") : webkit.messageHandlers.reviewApp.postMessage(0);
            } catch (t) {
                l.Util.log(t, l.Util.ERROR);
            }
            e && l.Util.isValid(this.rating) && (this.game.prodigy.player.data.rate = this.rating, 
            this.game.prodigy.player.updated = !0), l.Util.isValid(this.callback) && this.callback(), 
            t.prototype.close.call(this);
        }, e;
    }(r.LegacyMenu);
    e.Rating = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(21), s = i(0), l = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return o.questData = a, o.callback = n, o.create(), o;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent();
            var e, i = this.game.prodigy.create.element(this, 0, 0);
            s.Util.isValid(this.questData.yOffset) && (e = Math.ceil(-this.questData.yOffset / 40));
            var a = this.game.prodigy.create.panel(i, 400, 360 - 20 * (e + 6), 12, e + 6, "shine");
            if (a.setRenderState(!0), this.game.prodigy.create.button(a, 440, -10, "atlas-21", "close", this.close.bind(this)), 
            this.game.prodigy.create.font(a, 60, 20, this.game.prodigy.gameContainer.Localizer.getText("QUEST_TODAY"), {
                size: 30,
                width: 350,
                align: "center"
            }), s.Util.isValid(this.questData.description) && this.game.prodigy.create.font(a, 60, 80, this.questData.description, {
                width: 350,
                align: "center"
            }), s.Util.isValid(this.questData.source)) {
                var n = this.game.prodigy.icon.createIcon(200, 180, this.questData.source);
                this.game.prodigy.load.isFileLoaded(this.questData.source) ? this.positionSource(n, e) : n.onTextureLoaded = this.positionSource.bind(this, n, e), 
                a.add(n), this.game.prodigy.event.create();
            }
            this.game.prodigy.create.textButton(a, 90, 40 * e + 120, {
                text: this.game.prodigy.gameContainer.Localizer.getText("QUESTS_BUTTON_START_QUEST"),
                textY: 4,
                size: r.TextButton.MED
            }, this.startQuest.bind(this)), t.prototype.create.call(this);
        }, e.prototype.startQuest = function() {
            this.callback(), this.close();
        }, e.prototype.positionSource = function(t, e) {
            var i = s.Util.isValid(this.questData.xOffset) ? this.questData.xOffset : 0, a = s.Util.isValid(this.questData.yOffset) ? this.questData.yOffset : 0;
            t.x = i + 240, t.y = a + 40 * e + 100;
        }, e;
    }(o.RenderMenu);
    e.QuestDescription = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(25), s = i(0), l = i(18), h = i(32), c = function(t) {
        function e(e, i, a, n, o, r) {
            var s = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return s.player = null, s.itemType = null, s.selected = null, s.panel = null, 
            s.content = null, s.bar = null, s.owned = [], s.player = a, s.itemType = n, 
            s.onClose = o, s.selected = r, s.create(), s;
        }
        return n(e, t), e.prototype.create = function() {
            var e = this;
            this.addTransparent(), this.panel = this.game.prodigy.create.panel(this, 220, 100, 21, 13, "shine"), 
            this.panel.setRenderState(!0), this.game.prodigy.create.button(this, this.panel.x + 800, this.panel.y - 10, "atlas-21", "close", function() {
                e.close();
            }), this.content = this.game.prodigy.create.element(this, 260, 180), 
            this.game.prodigy.create.panel(this, 260, 180, 19, 10, "white"), this.game.prodigy.create.font(this, 290, 120, this.game.prodigy.gameContainer.Localizer.getText("POUCH_CHOOSE_" + this.itemType.toUpperCase()), {
                fontID: 9,
                size: 36,
                width: 720,
                align: "center"
            }), t.prototype.create.call(this), this.setMode(0);
        }, e.prototype.close = function() {
            s.Util.isValid(this.bar) && this.bar.destroy(), t.prototype.close.call(this);
        }, e.prototype.setMode = function(e) {
            t.prototype.setMode.call(this, e), this.listItemsOfType();
        }, e.prototype.switchSpell = function(t) {
            t !== this.selected && this.player.swapSpells(this.selected, t), this.close();
        }, e.prototype.scrollItems = function(t) {
            var e = this;
            s.Util.isValid(this.content) && this.content.destroy(), this.content = this.game.prodigy.create.element(this, 100, 180);
            for (var i = 0, a = function(t) {
                t < n.owned.length && ("spell" === n.itemType ? n.game.prodigy.create.item(n.content, 180 * i + 190, 100, {
                    ID: n.owned[t].ID,
                    type: n.itemType
                }, h.EItemInfoMode.Inventory, function() {
                    e.switchSpell(e.owned[t].ID);
                }) : n.game.prodigy.create.item(n.content, 180 * i + 190, 100, {
                    ID: n.owned[t].ID,
                    type: n.itemType,
                    N: n.owned[t].N,
                    L: n.owned[t].L
                }, h.EItemInfoMode.Inventory, function() {
                    e.equipItem(e.owned[t]);
                })), i++;
            }, n = this, o = t; o < t + 4; o++) a(o);
            for (o = Math.min(this.owned.length, 4); o < 4; o++) this.game.prodigy.create.panel(this.content, 180 * o + 190, 100, 4, 5, "empty");
        }, e.prototype.listItemsOfType = function() {
            var t = this;
            if (s.Util.isValid(this.bar) && this.bar.destroy(), "spell" === this.itemType) {
                var e = this.player.getAllAttacks();
                this.owned = [];
                for (var i = 0; i < e.length; i++) this.owned.push({
                    ID: e[i]
                });
            } else this.owned = this.player.backpack.getBackpackItemsByType(this.itemType);
            this.bar = this.game.prodigy.create.slider(this, 290, 500, 700, !1, !0), 
            this.bar.reset(this.owned.length - 3, 1, -1, function(e) {
                t.scrollItems(e);
            });
        }, e.prototype.equipItem = function(t) {
            if (1 === t.L) {
                var e = {
                    conversionFunnelName: l.EFunnelEventIDs.FunnelEquipCardLockedItem,
                    conversionFunnelMetadata: this.itemType + "-" + t.ID
                };
                this.game.prodigy.network.sendConversionFunnelEvent(e.conversionFunnelName, l.EFunnelEventIDs.StageEquipItem, e.conversionFunnelMetadata), 
                this.game.prodigy.open.membershipInfo(null, e, r.MembershipInfo.PREMIUM_ITEM);
            } else this.player.equip(t.ID, this.itemType) && (this.player.appearanceChanged = !0, 
            this.game.prodigy.audio.playSFX(18, "whoosh")), this.close();
        }, e;
    }(o.RenderMenu);
    e.Pouch = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(0), s = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return r.Util.isValid(a) && (r.Util.isValid(a.popups) || (a.popups = []), 
            a.popups.push(n)), n.create(), n;
        }
        return n(e, t), e.prototype.create = function() {
            var e = this.game.prodigy.gameContainer.Localizer;
            this.addTransparent(), this.content = this.game.prodigy.create.element(this, 350, 150), 
            this.panel = this.game.prodigy.create.panel(this, 330, 200, 15, 8, "shine"), 
            this.panel.setRenderState(!0), this.game.prodigy.create.font(this.content, 6, 70, e.getText("POTION_USE_UNSPORTSMAN"), {
                size: 30,
                width: 540,
                align: "center"
            }), this.game.prodigy.create.font(this.content, 6, 200, e.getText("POTION_USE_ONLY_WILD"), {
                size: 30,
                width: 540,
                align: "center"
            }), this.game.prodigy.create.textButton(this, this.panel.x + 200, this.panel.y + 245, {
                text: "OK",
                textY: 4
            }, this.close.bind(this)), t.prototype.create.call(this);
        }, e;
    }(o.RenderMenu);
    e.PotionPVPPopup = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return n.itemInfo = a, n.create(), n;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent(), this.content = this.game.prodigy.create.element(this, 350, 150), 
            this.panel = this.game.prodigy.create.panel(this, 330, 200, 15, 8, "shine"), 
            this.panel.setRenderState(!0), this.game.prodigy.create.button(this, this.panel.x + 560, this.panel.y - 10, "atlas-21", "close", this.close.bind(this)), 
            this.game.prodigy.create.font(this.content, 30, 100, this.game.prodigy.gameContainer.Localizer.getText("POTION_USE_ALREADY_ONE"), {
                size: 30,
                width: 540
            }), this.game.prodigy.create.button(this, this.panel.x + 40, this.panel.y + 200, "atlas-18", "yes-btn", this.onConfirm.bind(this)), 
            this.game.prodigy.create.button(this, this.panel.x + 560 - 40 - 100 - 60, this.panel.y + 200, "atlas-18", "no-btn", this.onGoBack.bind(this)), 
            t.prototype.create.call(this);
        }, e.prototype.onConfirm = function() {
            this.itemInfo.confirmItemUse(), this.close();
        }, e.prototype.onGoBack = function() {
            this.itemInfo.close(), this.close();
        }, e;
    }(i(12).RenderMenu);
    e.ConfirmPotionUse = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(4), s = i(0), l = i(32), h = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return o.player = a, o.attackMenu = n, o.create(), o;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent(), this.content = this.game.prodigy.create.element(this, 350, 150), 
            this.createBaseSetup(17, 12, "shine", null, [], !0), this.game.prodigy.create.element(this, 0, 0).setRenderState(!0), 
            t.prototype.create.call(this), this.bar = this.game.prodigy.create.slider(this, 900, 160, 380, !0, !0), 
            this.setMode(0), this.reload();
        }, e.prototype.setMode = function(e) {
            t.prototype.setMode.call(this, e), this.itemType = "item", this.listItemsOfType();
        }, e.prototype.itemSelected = function(t) {
            this.game.prodigy.open.itemInfo({
                ID: t.ID,
                L: t.L,
                type: s.Util.isValid(t.type) ? t.type : this.itemType
            }, this.reload.bind(this), l.EItemInfoMode.Item);
        }, e.prototype.reload = function(t) {
            void 0 === t && (t = !1), this.game.input.clearEnterCallback(), this.bar.process(), 
            t && (this.attackMenu.close(), this.close());
        }, e.prototype.scrollItems = function(t) {
            this.page = s.Util.isValid(t) ? t : s.Util.isValid(this.page) ? this.page : 0;
            for (var e = this.player.backpack.getBackpackItemsByType(this.itemType), i = [], a = 0; a < e.length; a++) {
                var n = r.Items.getItem(this.itemType, e[a].ID).data;
                s.Util.isValid(n) && s.Util.isValid(n.type) && (s.Util.isValid(n.effect) && s.Util.isValid(n.effect.hp) || "potion" === n.type) && i.push(e[a]);
            }
            for (a = t; a < t + 6; a++) {
                var o = a - t;
                a >= i.length ? this.game.prodigy.create.panel(this.content, o % 3 * 180, 220 * Math.floor(o / 3), 4, 5, "empty") : this.game.prodigy.create.item(this.content, o % 3 * 180, 220 * Math.floor(o / 3), {
                    ID: i[a].ID,
                    type: this.itemType,
                    L: i[a].L,
                    N: i[a].N
                }, l.EItemInfoMode.Inventory, this.itemSelected.bind(this, i[a]));
            }
        }, e.prototype.listItemsOfType = function() {
            for (var t = this.player.backpack.getBackpackItemsByType(this.itemType), e = [], i = 0; i < t.length; i++) {
                var a = r.Items.getItem(this.itemType, t[i].ID).data;
                s.Util.isValid(a) && s.Util.isValid(a.type) && (s.Util.isValid(a.effect) && s.Util.isValid(a.effect.hp) || "potion" === a.type) && e.push(t[i]);
            }
            this.bar.reset(e.length - 3, 3, -1, this.scrollItems.bind(this));
        }, e;
    }(o.RenderMenu);
    e.BattlePotionSelect = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(2), s = i(142), l = i(40), h = i(21), c = i(3), p = i(4), u = i(15), d = i(13), g = i(0), y = function(t) {
        function e(e, i, a, n) {
            void 0 === n && (n = 0);
            var o = t.call(this, e, i, 23) || this;
            return o.inspect = !1, o.callback = a, o.mode = n, o.setup(), o.onDestroy.add(o.handleDestroy.bind(o)), 
            o;
        }
        return n(e, t), e.prototype.handleDestroy = function() {
            r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this);
        }, e.prototype.menuSetup = function() {
            t.prototype.menuSetup.call(this);
            var i = this.game.prodigy.gameContainer.Localizer, a = [ {
                icon: "team",
                callback: this.switchTeam.bind(this, e.TEAM),
                title: i.getText("PET_MENU_MY_TEAM")
            }, {
                icon: {
                    type: "item",
                    ID: 62
                },
                callback: this.allPets.bind(this),
                title: i.getText("PET_MENU_BESTIARY")
            } ];
            this.showFrame("pet", "", a, 0);
            var n = [ this.game.prodigy.create.textButton(this, 0, 0, {
                icon: "close",
                text: i.getText("BUTTON_CLOSE")
            }, this.close.bind(this)) ];
            this.showBtns([], n), this.setupComplete = !0, this.game.broadcaster.broadcast(c.EPlayerLocomotionEvents.StopPlayer);
        }, e.prototype.close = function(e) {
            g.Util.isValid(this.callback) && this.callback(e), t.prototype.close.call(this);
        }, e.prototype.createList = function() {
            var t = this.game.prodigy.create.element(this.content, 660, 170);
            this.game.prodigy.create.panel(t, 0, 0, 10, 8), this.game.prodigy.create.font(t, 10, -25, this.game.prodigy.gameContainer.Localizer.getText("PETS_I_OWN"), {
                size: 20
            }), this.icons = [];
            for (var e = 0; e < 20; e++) this.icons.push(t.add(this.game.prodigy.create.sprite(e % 5 * 90 + 30, 90 * Math.floor(e / 5) + 25, "atlas-21", "icon-base"))), 
            this.icons[e].inputEnabled = !0, this.icons[e].events.onInputDown.add(this.showInfo.bind(this, this.icons[e], null)), 
            r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
                ID: "autoclick-bestiary-" + e,
                context: this,
                callback: this.onAutoClick.bind(this, e)
            });
            this.scrollUp = this.game.prodigy.create.button(t, -20, 135, "atlas-21", "next", this.scrollList.bind(this, -1)), 
            this.scrollUp.sprite.angle = -90, this.scrollDown = this.game.prodigy.create.button(t, 30, 265, "atlas-21", "next", this.scrollList.bind(this, 1)), 
            this.scrollDown.sprite.angle = 90;
        }, e.prototype.onAutoClick = function(t) {
            return {
                x: this.icons[t].worldPosition.x + .5 * this.icons[t].width,
                y: this.icons[t].worldPosition.y + .5 * this.icons[t].height
            };
        }, e.prototype.onAutoClickTeam = function(t) {
            return {
                x: this.teamIcons[t].worldPosition.x + .5 * this.teamIcons[t].width,
                y: this.teamIcons[t].worldPosition.y + .5 * this.teamIcons[t].height
            };
        }, e.prototype.onAutoClickSprite = function(t) {
            return {
                x: t.worldPosition.x + .5 * t.width,
                y: t.worldPosition.y + .5 * t.height
            };
        }, e.prototype.createBoxes = function() {
            this.box = this.game.prodigy.create.element(this.content, 120, 170), 
            this.game.prodigy.create.panel(this.box, 0, 0, 10, 8), this.icons = [];
            for (var t = 0; t < 20; t++) this.icons.push(this.box.add(this.game.prodigy.create.sprite(t % 5 * 90 + 30, 90 * Math.floor(t / 5) + 25, "atlas-21", "icon-base"))), 
            this.icons[t].inputEnabled = !0, this.icons[t].events.onInputDown.add(this.selectIcon.bind(this, this.icons[t], null)), 
            r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
                ID: "autoclick-teamless-" + t,
                context: this,
                callback: this.onAutoClick.bind(this, t)
            });
            this.btns = [];
            for (t = 0; t < 8; t++) this.btns.unshift(this.game.prodigy.create.stackButton(this.box, 240 - 55 * t + 200, -40, [ {
                tag: "empty"
            }, {
                text: "" + (8 - t),
                y: 8,
                x: -15
            } ], this.openBox.bind(this, 7 - t)));
            var e = this.box.add(this.game.prodigy.create.sprite(10, -40, "atlas-21", "inspect"));
            e.inputEnabled = !0, e.events.onInputDown.add(this.inspectParent.bind(this, e)), 
            r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
                ID: "autoclick-inspect",
                context: this,
                callback: this.onAutoClickSprite.bind(this, e)
            });
        }, e.prototype.inspectParent = function(t) {
            this.inspect = !this.inspect, t.tint = this.inspect ? 4473924 : 16777215, 
            g.Util.isValid(this.preview) && (this.preview.destroy(), this.preview = null);
        }, e.prototype.createTeam = function() {
            var t;
            this.panel = this.game.prodigy.create.element(this.content, 660, 170), 
            this.game.prodigy.create.panel(this.panel, 0, 0, 7, 3), this.game.prodigy.create.font(this.panel, 10, -25, this.game.prodigy.gameContainer.Localizer.getText("PETS_MY_TEAM"), {
                size: 20
            }), this.teamIcons = [];
            for (var e = 0; e < 3; e++) {
                t = this.game.prodigy.create.sprite(90 * e + 45, e % 2 * 20 + 25, "atlas-21", "icon-base-active"), 
                this.panel.add(t);
                var i = this.game.prodigy.create.sprite(0, 0, "atlas-21", "icon-base");
                this.game.prodigy.create.element(this.panel, 90 * e + 45, e % 2 * 20 + 25).add(i), 
                this.teamIcons.push(i), this.teamIcons[e].inputEnabled = !0, this.teamIcons[e].events.onInputDown.add(this.selectIcon.bind(this, this.teamIcons[e], e)), 
                r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
                    ID: "autoclick-team-" + e,
                    context: this,
                    callback: this.onAutoClickTeam.bind(this, e)
                });
            }
        }, e.prototype.switchTeam = function(t) {
            if (void 0 === t && (t = 0), this.mode = t, r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this), 
            g.Util.isValid(this.content) && this.content.destroy(), this.content = this.game.prodigy.create.element(this, 0, 0), 
            this.inspect = !1, this.createTeam(), this.refreshTeam(), this.createBoxes(), 
            this.openBox(0), this.game.prodigy.player.tutorial.getMenuValue(this.menuID, 0) < 1 && this.game.prodigy.player.kennel.getPets().length > 0) {
                this.game.prodigy.player.tutorial.setMenuValue(this.menuID, 0, 1);
                var e = this.game.prodigy.dialogue.create();
                e.setText(19), e.setText({
                    callback: g.Util.highlightAll.bind(g.Util, [ this.box ], !0)
                }), e.setText(20), e.setText({
                    callback: g.Util.highlightAll.bind(g.Util, [ this.box ], !1)
                }), e.setText({
                    callback: g.Util.highlightAll.bind(g.Util, [ this.panel ], !0)
                }), e.setText(21), e.setText({
                    callback: g.Util.highlightAll.bind(g.Util, [ this.panel ], !1)
                }), e.start("noot");
            }
        }, e.prototype.allPets = function() {
            this.mode = e.ALL, r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this), 
            g.Util.isValid(this.content) && this.content.destroy(), this.content = this.game.prodigy.create.element(this, 0, 0), 
            this.fullIndex = 0, this.createList(), this.scrollList(0);
        }, e.prototype.onFirstIconClick = function(t) {
            g.Util.isValid(t.srcData) && (this.tween = this.game.add.tween(t).to({
                y: t.y - 10
            }, 500, Phaser.Easing.Quadratic.InOut, !0, 0, r.GameConstants.MAX_SAFE_INTEGER, !0), 
            this.game.prodigy.audio.playSFX(18, "pop"), this.current = t, t.oldY = t.y);
        }, e.prototype.onEmptySlotClick = function(t) {
            this.current.srcData instanceof d.Player ? g.Util.isValid(t) ? (this.game.prodigy.audio.playSFX(18, "heart"), 
            this.current.srcData.data.team = t, this.current.srcData.updated = !0) : this.game.prodigy.audio.playSFX(18, "blop") : (this.game.prodigy.audio.playSFX(18, "heart"), 
            this.game.prodigy.player.kennel.setTeam(this.current.srcData, t));
        }, e.prototype.onOccupiedSlotClick = function(t, e) {
            this.current.srcData instanceof d.Player ? g.Util.isValid(e) ? (this.game.prodigy.audio.playSFX(18, "heart"), 
            this.game.prodigy.player.kennel.setTeam(t.srcData, this.current.srcData.data.team), 
            this.current.srcData.data.team = e, this.current.srcData.updated = !0) : this.game.prodigy.audio.playSFX(18, "blop") : t.srcData instanceof d.Player ? g.Util.isValid(this.current.srcData.team) ? (this.game.prodigy.audio.playSFX(18, "heart"), 
            t.srcData.data.team = this.current.srcData.team, t.srcData.updated = !0, 
            this.game.prodigy.player.kennel.setTeam(this.current.srcData, e)) : this.game.prodigy.audio.playSFX(18, "blop") : (this.game.prodigy.audio.playSFX(18, "heart"), 
            this.game.prodigy.player.kennel.setTeam(this.current.srcData, t.srcData));
        }, e.prototype.selectIcon = function(t, e) {
            if (this.inspect) {
                if (g.Util.isValid(t.srcData)) {
                    if (g.Util.isValid(this.preview) && this.preview.destroy(), 
                    t.srcData instanceof d.Player) return;
                    this.preview = new s.Hearts(this.game, this.content, 660, 350, new u.Monster(this.game, t.srcData));
                    var i = p.Items.getItem("pet", t.srcData.ID);
                    !1 === o(i, "data.unique", !1) && this.game.prodigy.create.textButton(this.preview, 150, 130, {
                        size: h.TextButton.MED,
                        text: this.game.prodigy.gameContainer.Localizer.getText("PETS_BUTTON_SET_FREE"),
                        icon: "close"
                    }, this.openLeavePetConfirmation.bind(this, t.srcData));
                }
            } else g.Util.isValid(this.tween) && (this.tween.stop(), this.tween = null, 
            this.current.y = this.current.oldY), g.Util.isValid(this.current) ? (t !== this.current ? g.Util.isValid(t.srcData) ? this.onOccupiedSlotClick(t, e) : this.onEmptySlotClick(e) : this.game.prodigy.audio.playSFX(18, "blop"), 
            this.current = null, this.openBox(this.currentBox), this.refreshTeam()) : this.onFirstIconClick(t);
        }, e.prototype.scrollList = function(t) {
            var e = Math.ceil((p.Items.getItemCount("pet") - this.icons.length) / 5);
            this.fullIndex = Phaser.Math.clamp(this.fullIndex + t, 0, e), this.fullIndex <= 0 ? this.scrollUp.setInactive() : this.scrollUp.setActive(), 
            this.fullIndex >= e ? this.scrollDown.setInactive() : this.scrollDown.setActive();
            for (var i = p.Items.getRangeByAmount("pet", 5 * this.fullIndex, 20), a = 0; a < this.icons.length; a++) this.icons[a].alpha = 1, 
            a >= i.length || !g.Util.isValid(i[a]) || !this.game.prodigy.player.kennel.hasPet(i[a].ID) ? (this.icons[a].loadNewTexture("atlas-21", "mystery"), 
            a >= i.length && (this.icons[a].alpha = 0), this.icons[a].srcData = null) : (this.icons[a].loadNewTexture(p.Items.getIconAtlas(i[a]), null, new Phaser.Point(0, 0), !0), 
            this.icons[a].srcData = i[a]);
        }, e.prototype.openBox = function(t) {
            g.Util.isValid(this.tween) && (this.tween.stop(), this.tween = null), 
            g.Util.isValid(this.current) && (this.current.y = this.current.oldY, 
            this.current = null);
            for (var i = 0; i < this.btns.length; i++) t === i ? this.btns[i].select() : this.btns[i].deselect();
            this.currentBox = t;
            var a = this.game.prodigy.player.kennel.getPets(this.mode !== e.ALL), n = 20 * t;
            for (i = 0; i < this.icons.length; i++) i + n >= a.length ? (this.icons[i].alpha = 0, 
            this.icons[i].loadNewTexture("atlas-21", "icon-base"), this.icons[i].srcData = null) : (this.icons[i].alpha = 1, 
            this.icons[i].loadNewTexture(p.Items.getIconAtlas({
                type: "pet",
                ID: a[i + n].ID
            }), null, new Phaser.Point(0, 0), !0), this.icons[i].srcData = a[i + n]);
        }, e.prototype.showInfo = function(t) {
            if (0 !== t.alpha) {
                g.Util.isValid(this.preview) && this.preview.destroy();
                var e = this.game.prodigy.gameContainer.Localizer, i = g.Util.isValid(t.srcData) ? p.Items.getItem("pet", t.srcData.ID).data : null;
                if (this.preview = this.game.prodigy.create.element(this.content, 120, 170), 
                this.game.prodigy.create.panel(this.preview, 0, 0, 10, 2), this.game.prodigy.create.panel(this.preview, 0, 150, 10, 5), 
                this.game.prodigy.create.font(this.preview, 100, -25, g.Util.isValid(i) ? i.name : e.getText("NPC_NAME_UNKNOWN"), {
                    size: 20
                }), this.game.prodigy.create.font(this.preview, 10, 125, e.getText("PETS_DESCRIPTION"), {
                    size: 20
                }), this.game.prodigy.create.font(this.preview, 30, 180, g.Util.isValid(i) ? i.flavorText : e.getText("PETS_DONT_OWN"), {
                    size: 20,
                    width: 440
                }), g.Util.isValid(i) ? this.preview.add(this.game.prodigy.icon.createFromData({
                    type: "pet",
                    ID: t.srcData.ID
                }, 0, -25)) : this.preview.add(this.game.prodigy.create.sprite(0, -25, "atlas-21", "mystery")), 
                g.Util.isValid(i)) {
                    for (var a = i.element.split(" "), n = 0; n < a.length; ++n) a[n] = g.Util.capitalize(a[n]);
                    this.game.prodigy.create.font(this.preview, 90, 15, e.getText("PETS_TYPE", a.join(" ")), {
                        size: 20
                    }), this.game.prodigy.create.font(this.preview, 90, 60, e.getText("PETS_LIFE", i.life), {
                        size: 20
                    }), this.game.prodigy.create.font(this.preview, 310, 15, e.getText("PETS_POWER", i.power), {
                        size: 20
                    }), this.game.prodigy.create.font(this.preview, 310, 60, e.getText("PETS_GROWTH", i.growth), {
                        size: 20
                    });
                }
            }
        }, e.prototype.refreshTeam = function() {
            this.game.prodigy.player.kennel.reconcilePVPTeam();
            for (var t = this.game.prodigy.player.kennel.getTeam(), e = 0; e < this.teamIcons.length; e++) this.teamIcons[e].srcData = null, 
            g.Util.isValid(t[e]) ? t[e] instanceof d.Player ? (this.teamIcons[e].loadNewTexture("atlas-21", "player"), 
            this.teamIcons[e].srcData = t[e]) : t[e] instanceof u.Monster && (this.teamIcons[e].loadNewTexture(p.Items.getIconAtlas({
                type: "pet",
                ID: t[e].getID()
            }), null, new Phaser.Point(0, 0), !0), this.teamIcons[e].srcData = t[e].data) : this.teamIcons[e].loadNewTexture("atlas-21", "icon-base");
        }, e.prototype.openLeavePetConfirmation = function(t) {
            this.game.prodigy.open.messageBox(this.game.prodigy.gameContainer.Localizer.getText("PETS_CONFIRM_LEAVE"), this.releasePet.bind(this, t));
        }, e.prototype.releasePet = function(t) {
            this.game.prodigy.player.kennel.remove(t), g.Util.isValid(this.preview) && this.preview.destroy(), 
            this.openBox(this.currentBox), this.refreshTeam();
        }, e.TEAM = 0, e.ALL = 1, e;
    }(l.LegacyMenu);
    e.PetsMenu = y;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__assign || Object.assign || function(t) {
        for (var e, i = 1, a = arguments.length; i < a; i++) for (var n in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        return t;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(40), s = i(4), l = i(65), h = i(25), c = i(0), p = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, 18, {
                hideMenu: !0,
                hideContent: !1,
                hideClose: !0
            }) || this;
            return o.names = a, o.user = n, o.setup(), o;
        }
        return n(e, t), e.prototype.menuSetup = function() {
            var e = this;
            t.prototype.menuSetup.call(this);
            var i = this.game.prodigy.create.panel(this, 390, 80, 10, 10);
            i.add(this.game.prodigy.create.sprite(-15, -15, "icon-item-12")), this.game.prodigy.create.font(i, 80, 15, this.game.prodigy.gameContainer.Localizer.getText("NAME_CHANGE_CHANGE_TO"), {
                align: "left",
                size: 30
            });
            var a = this.game.prodigy.gameContainer.resolve(l.OnlinePlayerAppearance);
            a.setAppearance({
                name: o({}, this.game.prodigy.player.appearance.data.name)
            });
            for (var n = 0; n < this.names.length; n++) {
                a.data.name.nick = this.names[n].ID;
                var r = !0 === this.names[n].member && !this.game.prodigy.player.hasMembership(), s = this.isLocked(this.names[n]), h = this.game.prodigy.create.element(i, 30, 60 * n + 80), c = this.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small");
                c.inputEnabled = !0, c.events.onInputDown.add(this.setCurrent.bind(this, r || s, this.names[n], 60 * n + 75)), 
                c.width = 440, c.alpha = r || s ? .5 : .2, r || s ? (this.game.prodigy.create.font(h, 60, 8, a.getName(), {
                    align: "left",
                    size: 20
                }), h.add(c)) : (h.add(c), this.game.prodigy.create.font(h, 60, 8, a.getName(), {
                    align: "left",
                    size: 20
                })), r && h.add(this.game.prodigy.create.sprite(-5, -5, "atlas-21", "membership"));
            }
            var p = this.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small");
            p.inputEnabled = !0, p.events.onInputDown.add(function() {
                e.selected.visible = !0, e.selected.y = 60 * e.names.length + 75, 
                e.current = null, e.applyButton.setActive();
            }), p.width = 440, p.alpha = .2;
            var u = this.game.prodigy.create.element(i, 30, 60 * this.names.length + 80);
            u.add(p), this.game.prodigy.create.font(u, 60, 8, this.game.prodigy.gameContainer.Localizer.getText("NAME_CHANGE_REVERT_CHANGE"), {
                align: "left",
                size: 20
            }), this.selected = i.add(this.game.prodigy.create.sprite(25, -5, "atlas-21", "yes")), 
            this.selected.visible = !1, this.game.prodigy.create.textButton(i, 40, 470, {
                icon: "close",
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_CANCEL")
            }, this.close.bind(this)), this.applyButton = this.game.prodigy.create.textButton(i, 260, 470, {
                icon: "next",
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_APPLY")
            }, this.apply.bind(this)), this.applyButton.setInactive();
        }, e.prototype.isLocked = function(t) {
            if (!c.Util.isValid(t.req)) return !1;
            for (var e = 0; e < t.req.length; e++) {
                var i = t.req[e];
                if ("pet" === i.rtype && !this.game.prodigy.player.kennel.hasPet(i.ID)) return !0;
                if ("item" === i.rtype && 0 === this.game.prodigy.player.backpack.hasItem(i.type, i.ID)) return !0;
                if ("quest" === i.rtype && this.game.prodigy.world.getZone(i.zone).getCurrentQuestID > i.Q) return !0;
            }
            return !1;
        }, e.prototype.setCurrent = function(t, e, i) {
            !0 === e.member && (this.game.prodigy.network.sendAnalytics("Set-Nickname", s.Items.getItem("nickname", e.ID).data.value), 
            t) ? this.game.prodigy.open.membershipInfo(null, {}, h.MembershipInfo.NICKNAME) : t && c.Util.isValid(e) ? this.game.prodigy.open.message(e.fail, null, null, this.game.prodigy.gameContainer.Localizer.getText("MESSAGE_TITLE_UH_OH")) : (this.selected.visible = !0, 
            this.selected.y = i, this.current = e, this.applyButton.setActive());
        }, e.prototype.apply = function() {
            this.game.prodigy.player.appearance.setNickname(c.Util.isValid(this.current) ? this.current.ID : null), 
            this.user.showName(!0);
            var t = this.game.prodigy.player;
            this.game.prodigy.network.emitMessage({
                action: "change",
                data: {
                    userID: t.userID,
                    appearance: t.appearance.getData()
                }
            }), this.close();
        }, e;
    }(r.LegacyMenu);
    e.Nicknamer = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(21), r = i(0), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.createBuyModeUI = function(e, i) {
            var a = this;
            t.prototype.createBuyModeUI.call(this, e, i);
            var n = this.game.prodigy.create.textButton(this, 0, 0, {
                text: this.game.prodigy.gameContainer.Localizer.getText("HOUSE_BUTTON_VISIT"),
                size: o.TextButton.SMALL
            }, function() {
                a.game.prodigy.world.getZone("house").gotoPreview(i.tag);
            });
            n.y = 435;
            var s = e.width / 3;
            n.x = r.Util.getCenteredXY(n.width, 0, e.x + s, 0, 2 * s, 0).x;
        }, e;
    }(i(205).ItemInfo);
    e.HouseItemInfo = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(57), s = i(12), l = i(3), h = i(4), c = i(25), p = i(0), u = i(18), d = i(32), g = function(t) {
        function e(e, i, a, n, o, r) {
            var s = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return s.game = e, s.items = s.splitItems(a), s.itemsLeft = a.length, 
            s.onClose = n, s.shouldStartDialogueOnCreate = !p.Util.isValid(o) || o, 
            s.eventType = r, s.create(), p.Util.log("GotItem------------------------------------"), 
            s;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent(), this.content = this.game.prodigy.create.element(this, 0, 0), 
            this.overlay = this.game.prodigy.create.element(this, 0, 0), t.prototype.create.call(this), 
            this.dialogue = this.game.prodigy.dialogue.create(), this.getDialogue(), 
            this.shouldStartDialogueOnCreate && this.dialogue.start("noot");
        }, e.prototype.startDialogue = function() {
            p.Util.isValid(this.dialogue) ? this.dialogue.start("noot") : p.Util.log("GotItem.startDialogue - dialogue was null.  Cannot start", p.Util.ERROR);
        }, e.prototype.getItems = function(t, e) {
            for (var i = 0; i < t; i++) p.Util.log(this.items[i + e].type + " " + (i + e)), 
            this.revealItem(.5 * (1280 - (160 * t + 20 * (t - 1))) + 180 * i, this.items[i + e], 400 * i), 
            this.bagItem(this.items[i + e]), this.itemsLeft--, p.Util.log(this.itemsLeft + " remaining");
        }, e.prototype.splitItems = function(t) {
            for (var e, i = [], a = 0, n = 0; n < t.length; n++) "gold" === t[n].type ? a += t[n].N : "spell" === t[n].type ? e = t[n] : i.push(t[n]);
            return 0 !== a && i.unshift({
                type: "gold",
                N: a
            }), p.Util.isValid(e) && i.unshift(e), p.Util.log(i.toString(), p.Util.DEV), 
            i;
        }, e.prototype.getDialogue = function() {
            if (1 === this.items.length) this.getSingleDialogue(this.items[0], 0), 
            this.dialogue.setText({
                callback: this.close.bind(this)
            }); else if ("memberBox-reward" === this.eventType) {
                var t = this.game.rnd.integerInRange(191, 198), e = this.game.prodigy.dialogues.get("noot", t);
                this.getItems(this.items.length, 0), this.dialogue.setText(e), this.dialogue.setText({
                    callback: this.close.bind(this)
                });
            } else {
                var i = this.items[this.items.length - 1], a = !1, n = !1;
                "hat" !== i.type && "outfit" !== i.type && "weapon" !== i.type && "boots" !== i.type && "follow" !== i.type || (a = !0), 
                "spell" === this.items[0].type && (n = !0);
                var o = this.game.prodigy.gameContainer.Localizer;
                a ? (this.items.length > 2 ? (this.getItems(this.items.length - 1, 0), 
                this.dialogue.setText({
                    text: o.getText("GOT_ITEM_YOU_GOT_SOMETHING"),
                    face: 2,
                    anim: 1
                })) : this.getSingleDialogue(this.items[0], 0), this.dialogue.setText({
                    callback: this.getSingleDialogue.bind(this, i, this.items.length - 1)
                })) : n ? (this.items.length > 2 ? (this.getItems(this.items.length - 1, 1), 
                this.dialogue.setText({
                    text: o.getText("GOT_ITEM_YOU_GOT_SOMETHING"),
                    face: 2,
                    anim: 1
                })) : this.getSingleDialogue(i, this.items.length - 1), this.dialogue.setText({
                    callback: this.getSingleDialogue.bind(this, this.items[0], 0)
                })) : (this.getItems(this.items.length, 0), this.dialogue.setText({
                    text: o.getText("GOT_ITEM_YOU_GOT_SOMETHING"),
                    face: 2,
                    anim: 1
                }), this.dialogue.setText({
                    callback: this.close.bind(this)
                }));
            }
        }, e.prototype.getSingleDialogue = function(t, e) {
            this.clearItems();
            var i = this.game.prodigy.gameContainer.Localizer;
            if ("pet" === t.type) this.getItems(1, e), this.dialogue.setText({
                text: i.getText("GOT_ITEM_YOU_GOT_PET"),
                face: 2,
                anim: 1
            }); else if ("dorm" === t.type) this.getItems(1, e), this.dialogue.setText({
                text: i.getText("GOT_ITEM_YOU_GOT_FURNITURE"),
                face: 2,
                anim: 1
            }); else if ("dormbg" === t.type) this.getItems(1, e), this.dialogue.setText({
                text: i.getText("GOT_ITEM_MOVED_HOUSE"),
                face: 2,
                anim: 1
            }); else if ("bounty" === t.type) this.getItems(1, e), this.dialogue.setText({
                text: i.getText("GOT_ITEM_BOUNTY_POINTS"),
                face: 2,
                anim: 1
            }); else if ("gold" === t.type) this.getItems(1, e), this.dialogue.setText({
                text: i.getText("GOT_ITEM_GOLD"),
                face: 2,
                anim: 1
            }); else if ("spell" === t.type) this.getItems(1, e), this.dialogue.setText({
                text: i.getText("GOT_ITEM_SPELL"),
                face: 2,
                anim: 1
            }), this.items.length > 1 && this.dialogue.setText({
                callback: this.close.bind(this)
            }); else if ("hat" === t.type || "outfit" === t.type || "weapon" === t.type || "boots" === t.type || "follow" === t.type) {
                var a = i.getText("GOT_ITEM_GENERIC", t.type);
                "boots" === t.type && (a = i.getText("GOT_ITEM_BOOTS", t.type)), 
                "follow" === t.type && (a = i.getText("GOT_ITEM_FOLLOW")), this.getItems(1, e), 
                this.dialogue.setText({
                    text: a,
                    yes: this.wearItem.bind(this, t),
                    no: this.close.bind(this),
                    face: 3,
                    anim: 4
                });
            } else "giftBox" === t.type ? (this.getItems(1, e), this.dialogue.setText({
                text: i.getText("GOT_ITEM_GIFT_BOX"),
                face: 2,
                anim: 1
            })) : "gender" === t.type || "hair" === t.type || "eyeColor" === t.type || "skinColor" === t.type || "hairColor" === t.type || "face" === t.type ? (this.getItems(1, e), 
            this.dialogue.setText({
                text: i.getText("GOT_ITEM_LOOK"),
                face: 2,
                anim: 1
            })) : (this.getItems(1, e), this.dialogue.setText({
                text: i.getText("GOT_ITEM_OTHER"),
                face: 2,
                anim: 1
            }));
        }, e.prototype.revealItem = function(t, e, i) {
            if ("gender" === e.type || "hair" === e.type || "eyeColor" === e.type || "skinColor" === e.type || "hairColor" === e.type || "face" === e.type) this.game.prodigy.create.item(this.content, t, 150, e, d.EItemInfoMode.StylistCard); else {
                this.game.prodigy.create.item(this.content, t, 150, e, d.EItemInfoMode.Card);
                var a = this.game.prodigy.create.panel(this.overlay, t, 150, 4, 5, "orange");
                a.alpha = 1, this.game.add.tween(a).to({
                    alpha: 0
                }, 200, Phaser.Easing.Linear.None, !0, i + 500);
            }
            this.shootStars(i + 500, t + 80);
        }, e.prototype.clearItems = function() {
            p.Util.isValid(this.content) && (this.content.destroy(), this.content = this.game.prodigy.create.element(this, 0, 0)), 
            p.Util.isValid(this.overlay) && (this.overlay.destroy(), this.overlay = this.game.prodigy.create.element(this, 0, 0));
        }, e.prototype.skip = function() {
            p.Util.isValid(this.overlay) && this.overlay.destroy(), this.overlay = this.game.prodigy.create.element(this, 0, 0);
        }, e.prototype.bagItem = function(t) {
            this.game.prodigy.network.sendItemChangeEvent(p.Util.isValid(this.eventType) ? this.eventType : "got-item", {
                type: t.type,
                ID: p.Util.isValid(t.ID) ? t.ID : -1,
                N: p.Util.isValid(t.N) ? t.N : 1
            });
            var e = o(h.Items.getItem(t.type, t.ID), "data", null);
            if (this.game.prodigy.network.sendAdvancedEvent("game_source", {
                eventType: p.Util.isValid(this.eventType) ? this.eventType : "got-item",
                type: t.type,
                id: t.ID,
                name: p.Util.isValid(e) ? e.name : "",
                amount: p.Util.isValid(t.N) ? t.N : 1
            }), "gold" === t.type) this.game.prodigy.player.changeGold(t.N); else if ("pet" === t.type) this.game.prodigy.player.kennel.add(t.ID, t.data.hp, t.data.stars, t.data.level, t.data.nickname); else if ("spell" === t.type) this.game.prodigy.player.addSpell(t.ID); else if ("dorm" === t.type) {
                if ("store" !== this.eventType && "memberBox-reward" !== this.eventType && "parent-reward" !== this.eventType && "wheel-of-wonder" !== this.eventType && "twilight-wheel" !== this.eventType) {
                    var i = this.game.prodigy.notifications.initNotificationTemplate(r.NotificationType.ITEMGENERIC, [ h.Items.getItem(t.type, t.ID).data.name ], {
                        rarity: h.Items.getItem(t.type, t.ID).data.rarity
                    });
                    this.game.prodigy.notifications.pushNotification({
                        id: r.NotificationType.ITEMGENERIC,
                        data: i
                    });
                }
                this.game.prodigy.player.house.add(t.ID);
            } else if ("dormbg" === t.type) this.game.prodigy.player.house.setCurrentHouseTag(t.data.tag); else if ("key" === t.type) this.game.prodigy.player.backpack.addKeyItem(t.ID, t.lvl, t.data); else if ("giftBox" === t.type) this.game.prodigy.network.sendAnalytics("Conjure-Cubes-Earned-for-Free", "Earned-at-Level-" + this.game.prodigy.player.data.level); else if ("item" === t.type) {
                p.Util.isValid(t.type) && "potion" === t.type ? this.game.prodigy.player.backpack.add("item", t.ID, !(1 === e.member) || !this.game.prodigy.player.hasMembership() && 1 === e.member, p.Util.isValid(t.N) ? t.N : 1) : p.Util.isValid(t.data.seed) ? this.game.prodigy.player.backpack.addBountyNote(t.type, t.ID, t.data.seed) : this.game.prodigy.player.backpack.add("item", t.ID, !1, p.Util.isValid(t.N) ? t.N : 1);
            } else if ("currency" === t.type) {
                var a = 1 === h.Items.getItemData(t.type, t.ID).member && !this.game.prodigy.player.hasMembership();
                this.game.prodigy.player.backpack.add(t.type, t.ID, a, t.N);
            } else if ("hair" === t.type) {
                var n = this.game.prodigy.player.appearance.getHair();
                this.game.prodigy.player.appearance.setHair(t.ID, n.color), this.game.prodigy.player.appearanceChanged = !0, 
                this.game.broadcaster.broadcast(l.EPlayerContainerEvents.PlayerAppearanceUpdated, "Card", []);
            } else if ("gender" === t.type) this.game.prodigy.player.appearance.setGender(1 === t.ID ? "male" : "female"), 
            this.game.prodigy.player.appearance.setFace(1 === t.ID ? 4 : 12), this.game.prodigy.player.appearanceChanged = !0, 
            this.game.broadcaster.broadcast(l.EPlayerContainerEvents.PlayerAppearanceUpdated, "Card", []); else if ("eyeColor" === t.type) this.game.prodigy.player.appearance.setEyeColor(t.ID), 
            this.game.prodigy.player.appearanceChanged = !0, this.game.broadcaster.broadcast(l.EPlayerContainerEvents.PlayerAppearanceUpdated, "Card", []); else if ("skinColor" === t.type) this.game.prodigy.player.appearance.setSkinColor(t.ID), 
            this.game.prodigy.player.appearanceChanged = !0, this.game.broadcaster.broadcast(l.EPlayerContainerEvents.PlayerAppearanceUpdated, "Card", []); else if ("hairColor" === t.type) {
                n = this.game.prodigy.player.appearance.getHair();
                this.game.prodigy.player.appearance.setHair(n.style, t.ID), this.game.prodigy.player.appearanceChanged = !0, 
                this.game.broadcaster.broadcast(l.EPlayerContainerEvents.PlayerAppearanceUpdated, "Card", []);
            } else if ("face" === t.type) this.game.prodigy.player.appearance.setFace(t.ID), 
            this.game.prodigy.player.appearanceChanged = !0, this.game.broadcaster.broadcast(l.EPlayerContainerEvents.PlayerAppearanceUpdated, "Card", []); else if ("bounty" !== t.type) {
                a = 1 === h.Items.getItemData(t.type, t.ID).member && !this.game.prodigy.player.hasMembership();
                if (p.Util.isValid(t.isGift) && t.isGift && (a = !1), p.Util.isValid(t.data.seed)) this.game.prodigy.player.backpack.addBountyNote(t.type, t.ID, t.data.seed); else {
                    if ("store" !== this.eventType && "memberBox-reward" !== this.eventType && "parent-reward" !== this.eventType && "wheel-of-wonder" !== this.eventType && "twilight-wheel" !== this.eventType) {
                        i = this.game.prodigy.notifications.initNotificationTemplate(r.NotificationType.ITEMGENERIC, [ h.Items.getItem(t.type, t.ID).data.name ], {
                            rarity: h.Items.getItem(t.type, t.ID).data.rarity
                        });
                        this.game.prodigy.notifications.pushNotification({
                            id: r.NotificationType.ITEMGENERIC,
                            data: i
                        });
                    }
                    this.game.prodigy.player.backpack.add(t.type, t.ID, a, t.N);
                }
            }
        }, e.prototype.wearItem = function(t) {
            var e = h.Items.getItem(t.type, t.ID).data;
            if (this.game.prodigy.player.hasMembership() || 1 !== e.member || p.Util.isValid(t.isGift)) this.game.prodigy.player.equip(t.ID, t.type), 
            this.game.prodigy.player.appearanceChanged = !0, this.close(); else {
                var i = {
                    conversionFunnelName: u.EFunnelEventIDs.FunnelEquipNewLockedItem,
                    conversionFunnelMetadata: t.type + "-" + t.ID
                };
                this.game.prodigy.network.sendConversionFunnelEvent(i.conversionFunnelName, u.EFunnelEventIDs.StageEquipItem, i.conversionFunnelMetadata), 
                this.game.prodigy.network.sendAnalytics("Equip-Member-Item", e.name), 
                this.game.prodigy.open.membershipInfo(this.close.bind(this), i, c.MembershipInfo.PREMIUM_ITEM);
            }
        }, e.prototype.shootStars = function(t, e) {
            for (var i = this.game.prodigy.create.element(this.overlay), a = 0; a < 5; a++) {
                var n = e - 100 + 50 * a, o = this.game.world.centerY - 100 - 150;
                0 === a || 4 === a ? o += 120 : 1 !== a && 3 !== a || (o += 50);
                var r = this.game.prodigy.create.sprite(e, this.game.world.centerY - 100, "atlas-21", "star");
                i.add(r), r.anchor.setTo(.5, .5), r.alpha = 0, this.game.add.tween(r).to({
                    alpha: .5
                }, 1, Phaser.Easing.Linear.None).delay(t).to({
                    x: n,
                    alpha: 0
                }, 1e3, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(r).to({
                    y: o
                }, 1e3, Phaser.Easing.Quadratic.Out).delay(t).start();
            }
        }, e;
    }(s.RenderMenu);
    e.GotItem = g;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(65), r = i(0), s = function(t) {
        function e(i, a, n, o, r) {
            void 0 === o && (o = null), void 0 === r && (r = null);
            var s = t.call(this, i, a, 23, e.configModifiers) || this;
            return s.data = {
                category: "",
                header: "",
                mapping: [],
                metaData: {}
            }, s.notificationCallback = null, s.closeCallback = null, s.notificationDelay = 8e3, 
            s.currentTween = null, s.game = i, s.data = n, s.notificationCallback = o, 
            s.closeCallback = r, s.isNotificationCell = !0, s;
        }
        return n(e, t), e.prototype.preprocess = function() {
            this.queuePostCreateCallback(this.renderCell.bind(this), this.setAnimation.bind(this));
        }, e.prototype.setAnimation = function() {
            this.background.visible = !1, this.game.prodigy.audio.playSFX(31, "open"), 
            this.currentTween = this.game.add.tween(this.notificationContainer).to({
                y: -10
            }, 700, Phaser.Easing.Bounce.Out).to({
                y: -10
            }, 0, Phaser.Easing.Linear.None, !0, this.notificationDelay), this.currentTween.onComplete.add(this.closeNotification, this);
        }, e.prototype.closeNotification = function() {
            this.currentTween.stop(), this.currentTween = this.game.add.tween(this.notificationContainer).to({
                y: -90
            }, 750, Phaser.Easing.Linear.None, !0, 0), this.currentTween.onComplete.add(this.close, this);
        }, e.prototype.runNotificationCallback = function() {
            this.notificationCallback(), this.closeNotification();
        }, e.prototype.renderCell = function() {
            if (this.contractButton.onUpCallback = this.closeNotification.bind(this), 
            r.Util.isValid(this.data)) {
                "membership" === this.data.category && (this.mememberCellMatte.visible = !0, 
                this.meCellMatte.visible = !1);
                for (var t = this.data.header, e = 0; e < this.data.mapping.length; e++) t = t.replace("{p" + e + "}", this.data.mapping[e]);
                if (r.Util.isValid(this.data.metaData.isLike)) {
                    r.Util.isValid(this.notificationCallback) && (this.likeButton.visible = !0, 
                    this.likeButton.onUpCallback = this.runNotificationCallback.bind(this)), 
                    r.Util.renderFriendAndClassmateFace(this.game, this.data.metaData.userID, this.friendFace);
                    var i = this.game.prodigy.friendsListNetworkHandler.classList, a = this.game.prodigy.friendsListNetworkHandler.friendsList;
                    a = a.concat(i);
                    for (e = 0; e < a.length; e++) if (a[e].userID === this.data.metaData.userID && r.Util.isValid(a[e].appearance)) {
                        var n = this.game.prodigy.gameContainer.resolve(o.OnlinePlayerAppearance);
                        n.setAppearance(a[e].appearance), t = t.replace("{id}", n.getName()), 
                        this.notificationText.setText(t);
                        break;
                    }
                } else {
                    r.Util.isValid(this.notificationCallback) && (this.shareButton.visible = !0, 
                    this.shareButton.onUpCallback = this.runNotificationCallback.bind(this)), 
                    t = t.replace("{id}", "You"), this.game.prodigy.create.player(this.friendFace, this.game.prodigy.player, 1, 0, 0, !0, !0, !1, !0).reload();
                }
                this.notificationText.setText(t);
            }
        }, e.prototype.forceClose = function() {
            r.Util.isValid(this.currentTween) && this.currentTween.stop(), r.Util.isValid(this.closeCallback) && this.closeCallback(), 
            t.prototype.close.call(this);
        }, e.prototype.close = function() {
            this.currentTween.stop(), r.Util.isValid(this.game) && this.game.prodigy.notifications.notificationPlayed(), 
            r.Util.isValid(this.closeCallback) && this.closeCallback(), t.prototype.close.call(this);
        }, e.configModifiers = {}, e;
    }(i(26).Menu);
    e.NotificationCell = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(10), r = i(57), s = i(12), l = i(3), h = i(29), c = i(0), p = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return o.rewards = null, o.mailData = null, o.content = null, o.mailData = a, 
            o.rewards = n, e.broadcaster.addAppListener(l.EMailerEvents.MarkAsRead, function() {
                o.close();
            }, o, "ProdigyMailer"), o.game.prodigy.load.assets([ "spine-7", "spine-17" ], function() {
                o.create();
            }), o;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.addTransparent(.45);
            var e = this.game.prodigy.create.element(this, 250, 100), i = this.game.prodigy.create.element(e, 0, 0);
            this.rewards.length <= 0 && (i.add(this.game.prodigy.create.sprite(0, 0, "atlas-163", "base-yellow")), 
            i.add(this.game.prodigy.create.sprite(50, 50, "atlas-163", "animation-bg"))), 
            this.content = this.game.prodigy.create.element(i, 0, 0), this.openParentReward();
        }, e.prototype.close = function() {
            this.game.broadcaster.removeAppListener(l.EMailerEvents.MarkAsReadFailure, this, "ProdigyMailer"), 
            t.prototype.close.call(this);
        }, e.prototype.openParentReward = function() {
            var t = this.game.prodigy.event.create(), e = this.game.prodigy.create.element(this.content, 310, 330);
            e.visible = !0;
            var i = this.rewards.length <= 0 ? this.game.add.spine(0, 0, "spine-7") : this.game.add.spine(75, 0, "spine-17");
            i.setAnimationByName(0, "animation", !1), e.add(i), t.delay(50), t.set(e, "visible", !1), 
            t.delay(150), t.set(e, "visible", !0), t.delay(2e3), t.function(this.receiveReward.bind(this)), 
            t.start();
        }, e.prototype.receiveReward = function() {
            if (this.rewards.length <= 0) {
                var t = this.game.prodigy.notifications.initNotificationTemplate(r.NotificationType.PARENTREWARD, []);
                this.game.prodigy.notifications.pushNotification({
                    id: r.NotificationType.PARENTREWARD,
                    data: t
                }), this.game.prodigy.open.gotItem(this.getRewards(), this.close.bind(this), null, "parent-reward"), 
                this.game.prodigy.network.sendGiftBoxEvent(), this.game.broadcaster.broadcast(l.EMailerEvents.MarkAsRead, "ProdigyMailView", [ this.markReadSuccess.bind(this), this.mailData ]);
            } else {
                t = this.game.prodigy.notifications.initNotificationTemplate(r.NotificationType.MEMBERBOX, []);
                this.game.prodigy.notifications.pushNotification({
                    id: r.NotificationType.MEMBERBOX,
                    data: t
                }), this.game.prodigy.open.gotItem(this.rewards, this.close.bind(this), null, "memberBox-reward"), 
                this.game.broadcaster.broadcast(l.EMailerEvents.MarkAsRead, "ProdigyMailView", [ this.markReadSuccess.bind(this), this.mailData ]);
            }
        }, e.prototype.markReadSuccess = function() {
            c.Util.log("Mail Read Success");
        }, e.prototype.getRewards = function() {
            var t = [], e = o(this.mailData, "membership", 0);
            return 0 === e ? t = [ {
                item: {
                    type: "item",
                    ID: 1,
                    N: 1
                },
                weight: 14
            }, {
                item: {
                    type: "item",
                    ID: 11,
                    N: 1
                },
                weight: 14
            }, {
                item: {
                    type: "item",
                    ID: 22,
                    N: 1
                },
                weight: 14
            }, {
                item: {
                    type: "item",
                    ID: 77,
                    N: 1
                },
                weight: 15
            }, {
                item: {
                    type: "item",
                    ID: 4,
                    N: 1
                },
                weight: 14
            }, {
                item: {
                    type: "item",
                    ID: 76,
                    N: 1
                },
                weight: 15
            }, {
                item: {
                    type: "item",
                    ID: 3,
                    N: 1
                },
                weight: 14
            } ] : 1 === e && (t = this.getParentMemberReward()), [ h.Random.weightedArrayElement(t).item ];
        }, e.prototype.getParentMemberReward = function() {
            for (var t = this.game.prodigy.player.backpack.data, e = [ {
                item: {
                    type: "boots",
                    ID: 25,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "boots",
                    ID: 36,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "boots",
                    ID: 27,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "boots",
                    ID: 37,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "boots",
                    ID: 3,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "hat",
                    ID: 120,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "hat",
                    ID: 99,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "hat",
                    ID: 112,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "hat",
                    ID: 108,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "hat",
                    ID: 117,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "hat",
                    ID: 77,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "outfit",
                    ID: 64,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "outfit",
                    ID: 79,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "outfit",
                    ID: 34,
                    N: 1
                },
                weight: 6.6
            }, {
                item: {
                    type: "outfit",
                    ID: 35,
                    N: 1
                },
                weight: 6.6
            } ], i = e.length - 1; i >= 0; i -= 1) {
                var a = e[i].item, n = a.type;
                if (t.hasOwnProperty(n)) for (var o = 0; o < t[n].length; o += 1) if (t[n][o].ID === a.ID) {
                    e.splice(i, 1);
                    break;
                }
            }
            return e.length > 0 ? e : [ {
                item: {
                    type: "currency",
                    ID: 12,
                    N: 400
                },
                weight: 4
            }, {
                item: {
                    type: "currency",
                    ID: 13,
                    N: 400
                },
                weight: 4
            }, {
                item: {
                    type: "currency",
                    ID: 14,
                    N: 400
                },
                weight: 4
            }, {
                item: {
                    type: "currency",
                    ID: 15,
                    N: 400
                },
                weight: 4
            }, {
                item: {
                    type: "currency",
                    ID: 16,
                    N: 400
                },
                weight: 4
            }, {
                item: {
                    type: "item",
                    ID: 97,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 97,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 101,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 103,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 105,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 107,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 109,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 111,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 117,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 118,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 119,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 120,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 121,
                    N: 2
                },
                weight: 5.71
            }, {
                item: {
                    type: "item",
                    ID: 122,
                    N: 2
                },
                weight: 5.71
            } ];
        }, e;
    }(s.RenderMenu);
    e.RewardView = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(78), r = i(10), s = i(12), l = i(4), h = i(29), c = i(0), p = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return n.content = null, n.mainPrizeSlotItem = null, n.secondPrizeSlotItem = null, 
            n.thirdPrizeSlotItem = null, n.onClose = a, n.create(), n;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.addTransparent(.45);
            var e = this.game.prodigy.create.element(this, 250, 100), i = this.game.prodigy.create.element(e, 0, 0);
            i.add(this.game.prodigy.create.sprite(0, 0, "atlas-28", "base-yellow")), 
            i.add(this.game.prodigy.create.sprite(50, 50, "atlas-28", "animation-bg")), 
            this.content = this.game.prodigy.create.element(i, 0, 0), this.openCube();
        }, e.prototype.close = function() {
            c.Util.isValid(this.onClose) && this.onClose(), t.prototype.close.call(this);
        }, e.prototype.receiveLoot = function() {
            this.mainPrizeSlotItem = this.rollMainSlotItem(), this.secondPrizeSlotItem = this.rollSecondSlotItem(), 
            this.thirdPrizeSlotItem = this.rollThirdSlotItem();
            var t = [ this.mainPrizeSlotItem, this.secondPrizeSlotItem, this.thirdPrizeSlotItem ];
            this.game.prodigy.giftBoxController.openConjureCube(t);
        }, e.prototype.rollMainSlotItem = function() {
            for (var t = [ {
                type: "GreenEquip",
                weight: 600
            }, {
                type: "BlueHouse",
                weight: 200
            }, {
                type: "BlueEquip",
                weight: 190
            }, {
                type: "PurpleEquip",
                weight: 4
            }, {
                type: "PurpleHouse",
                weight: 5
            }, {
                type: "Buddy",
                weight: 1
            } ], e = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 26, 27, 28, 29, 30, 31, 32, 33 ], i = null; null === i && 0 !== t.length; ) {
                var a = h.Random.weightedArrayElement(t), n = null;
                switch (a.type) {
                  case "GreenEquip":
                    n = {
                        outfit: [ 1, 2, 3, 4, 5, 8, 22, 28, 30, 34, 36, 37, 41 ],
                        weapon: [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 50, 52, 55, 61, 63, 65, 69 ],
                        boots: [ 2, 3, 4, 21, 22 ],
                        hat: [ 1, 2, 3, 4, 5, 6, 7, 8, 11, 37, 38, 39, 40, 41, 45, 55 ]
                    }, i = this.getEquipLoot(n), c.Util.removeFromArray(a, t);
                    break;

                  case "BlueHouse":
                    i = this.getHouseLoot(2), c.Util.removeFromArray(a, t);
                    break;

                  case "BlueEquip":
                    n = {
                        outfit: [ 7, 27, 29, 31, 33, 35, 43, 48 ],
                        weapon: [ 10, 64, 66, 67, 70, 73 ],
                        boots: [ 5, 6, 23, 24, 25, 27 ],
                        hat: [ 9, 31, 32, 33, 34, 46 ]
                    }, i = this.getEquipLoot(n), c.Util.removeFromArray(a, t);
                    break;

                  case "PurpleEquip":
                    i = this.getEquipLoot(), c.Util.removeFromArray(a, t);
                    break;

                  case "PurpleHouse":
                    i = this.getHouseLoot(3), c.Util.removeFromArray(a, t);
                    break;

                  case "Buddy":
                    for (;0 !== e.length && null === i; ) i = l.Items.getItem("follow", o(e)), 
                    c.Util.isValid(i) && this.game.prodigy.player.backpack.hasItem("follow", i.ID) > 0 && (c.Util.removeFromArray(i.ID, e), 
                    i = null);
                    null === i && c.Util.removeFromArray(a, t);
                }
            }
            return null === i ? this.rollSecondSlotItem() : (i.isGift = !0, i);
        }, e.prototype.rollSecondSlotItem = function() {
            for (var t = [ {
                type: "LowPotions",
                weight: 400
            }, {
                type: "MidPotions",
                weight: 150
            }, {
                type: "HighPotions",
                weight: 50
            }, {
                type: "CommonHouse",
                weight: 370
            }, {
                type: "GreenEquip",
                weight: 20
            }, {
                type: "BlueHouse",
                weight: 10
            } ], e = [ 96, 98, 100, 102, 104, 106, 108 ], i = [ 97, 99, 101, 103, 105, 107 ], a = [ 109, 110, 111 ], n = null; null === n && 0 !== t.length; ) {
                var r = h.Random.weightedArrayElement(t), s = null;
                switch (r.type) {
                  case "LowPotions":
                    s = o(e), n = l.Items.getItem("item", s);
                    break;

                  case "MidPotions":
                    s = o(i), n = l.Items.getItem("item", s);
                    break;

                  case "HighPotions":
                    s = o(a), n = l.Items.getItem("item", s);
                    break;

                  case "CommonHouse":
                    n = this.getHouseLoot(1), c.Util.removeFromArray(r, t);
                    break;

                  case "GreenEquip":
                    n = this.getEquipLoot({
                        outfit: [ 1, 2, 3, 4, 5, 8, 22, 28, 30, 34, 36, 37, 41 ],
                        weapon: [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 50, 52, 55, 61, 63, 65, 69 ],
                        boots: [ 2, 3, 4, 21, 22 ],
                        hat: [ 1, 2, 3, 4, 5, 6, 7, 8, 11, 37, 38, 39, 40, 41, 45, 55 ]
                    }), c.Util.removeFromArray(r, t), n = c.Util.isValid(n) && c.Util.isValid(this.mainPrizeSlotItem) && c.Util.isValid(this.mainPrizeSlotItem.ID) && c.Util.isValid(this.mainPrizeSlotItem.type) && n.ID === this.mainPrizeSlotItem.ID && n.type === this.mainPrizeSlotItem.type ? null : n;
                    break;

                  case "BlueHouse":
                    n = this.getHouseLoot(2), c.Util.removeFromArray(r, t), n = c.Util.isValid(n) && c.Util.isValid(this.mainPrizeSlotItem) && n === this.mainPrizeSlotItem ? null : n;
                }
            }
            return n.isGift = !0, n;
        }, e.prototype.rollThirdSlotItem = function() {
            var t = null;
            switch (h.Random.weightedArrayElement([ {
                type: "Apple",
                weight: 100
            }, {
                type: "Salad",
                weight: 100
            }, {
                type: "Croissant",
                weight: 100
            }, {
                type: "Cake",
                weight: 100
            }, {
                type: "Chicken",
                weight: 100
            }, {
                type: "Confetti",
                weight: 250
            }, {
                type: "Firework",
                weight: 250
            } ]).type) {
              case "Apple":
                t = l.Items.getItem("item", 1);
                break;

              case "Salad":
                t = l.Items.getItem("item", 3);
                break;

              case "Croissant":
                t = l.Items.getItem("item", 4);
                break;

              case "Cake":
                t = l.Items.getItem("item", 11);
                break;

              case "Chicken":
                t = l.Items.getItem("item", 22);
                break;

              case "Confetti":
                t = l.Items.getItem("item", 77);
                break;

              case "Firework":
                t = l.Items.getItem("item", 76);
            }
            return t.isGift = !0, t;
        }, e.prototype.getHouseLoot = function(t) {
            for (var e = l.Items.getItemsWithFilter("dorm", function(e) {
                return r(e, "data.rarity", null) === t;
            }), i = null; 0 !== e.length && null === i; ) i = o(e), (c.Util.isValid(i.ID) && this.game.prodigy.player.house.getOwned(i.ID) >= 9 || i.ID > 71) && (c.Util.removeFromArray(i, e), 
            i = null);
            return i;
        }, e.prototype.getEquipLoot = function(t) {
            for (var e = [ "outfit", "weapon", "boots", "hat" ], i = null; 0 !== e.length && null === i; ) {
                var a = o(e), n = [];
                if (c.Util.isValid(t) && 0 !== t[a].length) for (var r = 0; r < t[a].length; r++) {
                    var s = l.Items.getItem(a, t[a][r]);
                    c.Util.isValid(s) && (s.type = a, n.push(s));
                }
                for (;0 !== n.length && null === i; ) i = o(n), c.Util.isValid(i.ID) && this.game.prodigy.player.backpack.hasItem(i.type, i.ID) > 0 && (c.Util.removeFromArray(i, n), 
                i = null);
                c.Util.removeFromArray(a, e);
            }
            return i;
        }, e.prototype.openCube = function() {
            var t = this, e = this.game.prodigy.event.create(), i = this.game.prodigy.create.element(this.content, 380, 280);
            i.visible = !0;
            var a = this.game.add.spine(0, 0, "spine-5");
            a.setAnimationByName(0, "animation", !1), i.add(a), e.delay(50), e.set(i, "visible", !1), 
            e.delay(150), e.set(i, "visible", !0), e.delay(2e3), e.function(function() {
                t.receiveLoot();
            }), e.delay(100), e.function(function() {
                t.close();
            }), e.start();
        }, e;
    }(s.RenderMenu);
    e.ConjureCubeView = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = function(t) {
        function e(e, i, a, n, o) {
            var s = t.call(this, e, a, 0, 0) || this, l = e.prodigy.create.panel(s, n + 10, o, 14, 2, "mail"), h = e.prodigy.gameContainer.Localizer;
            l.add(e.prodigy.create.sprite(3, 3, "atlas-21", "mail-heart")), e.prodigy.create.font(l, 39, 8, h.getText("FRIEND_REQUEST_ADD_FRIEND"), {
                size: 16
            }), s.mainText = e.prodigy.create.font(l, 20, 40, "", {
                fontID: 8,
                size: 20
            });
            var c = e.prodigy.create.button(l, 490, 0, "atlas-21", "close", s.game.prodigy.open.messageBox.bind(s.game.prodigy.open, h.getText("FRIENDS_LIST_CONFIRM_CANCEL_BODY"), i.rejectRequest.bind(i), null, null, h.getText("FRIENDS_LIST_CONFIRM_CANCEL_TITLE")));
            r.Util.centreObject(c, null, 40, null, c.height);
            var p = e.prodigy.create.button(l, c.x - 50 - 20, 0, "atlas-21", "yes", i.acceptRequest.bind(i));
            return r.Util.centreObject(p, null, 40, null, p.height), s;
        }
        return n(e, t), e.prototype.render = function(t) {
            this.visible = r.Util.isValid(t), this.visible && this.mainText.setText(t);
        }, e;
    }(o.Element);
    e.FriendRequestView = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        return function() {
            this.userID = -1, this.username = "";
        };
    }();
    e.FriendRequestModel = a;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t(t, e, i) {
            this.game = t, this.model = e, this.requestID = i;
        }
        return t.prototype.setUserID = function(t) {
            this.model.userID = t;
        }, t.prototype.getUserID = function() {
            return this.model.userID;
        }, t.prototype.setUsername = function(t) {
            this.model.username = t;
        }, t.prototype.getUsername = function() {
            return this.model.username;
        }, t.prototype.acceptRequest = function() {
            this.game.prodigy.friendsListNetworkHandler.acceptFriendRequest(this.getUserID(), this.requestID);
        }, t.prototype.rejectRequest = function() {
            this.game.prodigy.friendsListNetworkHandler.rejectFriendRequest(this.getUserID(), this.requestID);
        }, t;
    }();
    e.FriendRequestController = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(3), s = i(0), l = i(699), h = i(698), c = i(697), p = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return n.friendRequests = [], n.requestControllers = [], n.requestViews = [], 
            n.requestsPerPage = 4, n.offset = 0, n.onClose = a, n.friendRequests = [], 
            n.requestControllers = [], n.requestViews = [], n.create(), e.broadcaster.addAppListener(r.EFriendsListEvents.GotFriendRequestList, n.setupFriendRequests.bind(n), n, "FriendsList", !1), 
            e.broadcaster.addAppListener(r.EFriendsListEvents.RequestAccepted, n.acceptRequestSuccessful.bind(n), n, "FriendsList", !1), 
            e.broadcaster.addAppListener(r.EFriendsListEvents.RequestRejected, n.rejectRequestSuccessful.bind(n), n, "FriendsList", !1), 
            e.broadcaster.broadcast(r.EFriendsListEvents.ClearFriendRequestsCache, "FriendsList", []), 
            n.loadPage(n.offset), n;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent();
            var e, i, a, n = this.game.prodigy.create.element(this, 280, 20), o = this.game.prodigy.create.element(n, 0, 0);
            this.game.prodigy.create.panel(o, 0, 0, 18, 17, "shine"), o.add(new Phaser.TileSprite(this.game, 11, 149, 698, 40, "atlas-161", "blue-top")), 
            o.add(new Phaser.TileSprite(this.game, 11, 189, 698, 320, "atlas-161", "blue-mid")), 
            o.add(new Phaser.TileSprite(this.game, 11, 509, 698, 40, "atlas-161", "blue-top2")), 
            this.game.prodigy.create.panel(o, 40, 40, 16, 2, "banner"), this.game.prodigy.create.font(o, 0, 60, this.game.prodigy.gameContainer.Localizer.getText("FRIEND_REQUESTS_TITLE"), {
                fontID: 9,
                size: 36,
                width: 698,
                align: "center",
                lineHeight: 38
            }), this.game.prodigy.create.button(n, 680, -10, "atlas-21", "close", this.close.bind(this));
            for (var r = 0; r < this.requestsPerPage; r++) e = new h.FriendRequestModel(), 
            i = new l.FriendRequestController(this.game, e, r), (a = new c.FriendRequestView(this.game, i, o, 0, 160 + 100 * r)).render(null), 
            s.Util.centreObject(a, 349, null, 560, null), this.requestControllers.push(i), 
            this.requestViews.push(a);
            this.prevPage = this.game.prodigy.create.button(o, 68, 604, "atlas-24", "up-circle-arrow", this.loadPage.bind(this, -this.requestsPerPage)), 
            this.nextPage = this.game.prodigy.create.button(o, 657, 604, "atlas-24", "up-circle-arrow", this.loadPage.bind(this, this.requestsPerPage)), 
            this.prevPage.sprite.rotateMiddleBased(-90), this.nextPage.sprite.rotateMiddleBased(90), 
            this.prevPage.setInactive(), this.nextPage.setInactive(), t.prototype.create.call(this);
        }, e.prototype.close = function() {
            this.game.broadcaster.removeAppListener(r.EFriendsListEvents.GotFriendRequestList, this, "FriendsList"), 
            this.game.broadcaster.removeAppListener(r.EFriendsListEvents.RequestAccepted, this, "FriendsList"), 
            this.game.broadcaster.removeAppListener(r.EFriendsListEvents.RequestRejected, this, "FriendsList"), 
            s.Util.isValid(this.onClose) && this.onClose(), t.prototype.close.call(this);
        }, e.prototype.setupFriendRequests = function(t) {
            this.friendRequests = t, this.refreshUI();
        }, e.prototype.refreshUI = function() {
            this.renderRequests(), this.renderPaginationButtons();
        }, e.prototype.renderRequests = function() {
            var t, e = 0;
            for (this.offset === this.friendRequests.length && (this.offset = Math.max(0, this.offset - this.requestsPerPage)), 
            t = this.offset; t < this.offset + this.requestsPerPage; t++) {
                e = t % this.requestsPerPage;
                var i = this.friendRequests[t];
                s.Util.isValid(i) ? (this.requestControllers[e].setUserID(i.userID), 
                this.requestControllers[e].setUsername(i.name), this.requestViews[e % this.requestsPerPage].render(i.name)) : this.requestViews[e % this.requestsPerPage].render(null);
            }
        }, e.prototype.acceptRequestSuccessful = function(t, e) {
            this.requestViews[e].render(null), this.getNextRequest();
        }, e.prototype.rejectRequestSuccessful = function(t, e) {
            this.requestViews[e].render(null), this.getNextRequest();
        }, e.prototype.requestCancelled = function(t) {
            this.friendRequests = t, this.refreshUI();
        }, e.prototype.getNextRequest = function() {
            this.friendRequests.length > this.requestsPerPage ? this.game.prodigy.friendsListNetworkHandler.getFriendRequestList(null, 1) : this.refreshUI();
        }, e.prototype.renderPaginationButtons = function() {
            this.offset > 0 ? this.prevPage.setActive() : this.prevPage.setInactive(), 
            s.Util.isValid(this.friendRequests[this.offset + this.requestsPerPage]) ? this.nextPage.setActive() : this.nextPage.setInactive();
        }, e.prototype.loadPage = function(t) {
            if (this.offset += t, t < 0) this.setupFriendRequests(this.friendRequests); else {
                var e = 0 === this.offset ? 2 * this.requestsPerPage : this.requestsPerPage;
                this.offset + e + 1 > this.friendRequests.length ? this.game.prodigy.friendsListNetworkHandler.getFriendRequestList(this.offset > 0 ? this.offset + this.requestsPerPage : this.offset, 0 === this.offset ? 2 * this.requestsPerPage : this.requestsPerPage) : this.setupFriendRequests(this.friendRequests);
            }
        }, e;
    }(o.RenderMenu);
    e.FriendRequests = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(0), s = function(t) {
        function e(e, i, a, n, o) {
            var s = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return s.message = null, s.attributes = {}, s.content = null, s.panel = null, 
            s.message = a, r.Util.isValid(n) && (s.attributes = n), r.Util.isValid(o) && (r.Util.isValid(o.popups) || (o.popups = []), 
            o.popups.push(s)), s.create(), s;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent(), this.content = this.game.prodigy.create.element(this, 350, 150), 
            this.panel = this.game.prodigy.create.panel(this, 330, 200, 15, 8, "shine"), 
            this.panel.setRenderState(!0), r.Util.isValid(this.attributes.showClose) && !this.attributes.showClose || this.game.prodigy.create.button(this, this.panel.x + 560, this.panel.y - 10, "atlas-21", "close", this.close.bind(this)), 
            this.game.prodigy.create.font(this.content, r.Util.isValid(this.attributes.textX) ? this.attributes.textX : 30, 100, this.message, {
                size: 30,
                width: 540
            }), this.game.prodigy.create.textButton(this, this.panel.x + 200, this.panel.y + 200, {
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_OKAY_UPPERCASE"),
                textY: 4
            }, this.close.bind(this)), t.prototype.create.call(this);
        }, e;
    }(o.RenderMenu);
    e.EpicErrorMessage = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(21), s = i(4), l = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return o.callback = null, o.panel = null, o.callback = n, o.createWithID(a), 
            o;
        }
        return n(e, t), e.prototype.createWithID = function(t) {
            var e = this, i = s.Items.getItem("pet", t).data;
            this.panel = this.game.prodigy.create.panel(this, 400, 200, 12, 9, "shine"), 
            this.panel.add(new Phaser.TileSprite(this.game, 11, 80, 458, 40, "atlas-161", "blue-top")), 
            this.panel.add(new Phaser.TileSprite(this.game, 11, 120, 458, 120, "atlas-161", "blue-mid")), 
            this.panel.add(new Phaser.TileSprite(this.game, 11, 240, 458, 40, "atlas-161", "blue-top2")), 
            this.panel.add(this.game.prodigy.icon.createFromData({
                type: "pet",
                ID: t
            }, 40, 30)), this.game.prodigy.create.font(this.panel, 140, 35, i.name, {
                size: 36,
                fontID: 9
            }), this.game.prodigy.create.font(this.panel, 40, 130, i.flavorText, {
                width: 400,
                fontID: 8
            }), this.game.prodigy.create.button(this, this.panel.x + 440, this.panel.y - 10, "atlas-21", "close", function() {
                e.closeWithSuccess(!1);
            }), this.game.prodigy.create.textButton(this, this.panel.x + 65, this.panel.y + 290, {
                icon: "yes",
                text: this.game.prodigy.gameContainer.Localizer.getText("CHOOSE_PET_BUTTON", i.name),
                size: r.TextButton.LG
            }, function() {
                e.takePet(t);
            }), this.create();
        }, e.prototype.takePet = function(t) {
            var e = this;
            this.game.prodigy.open.gotItem([ {
                type: "pet",
                ID: t,
                data: {
                    ID: t
                }
            } ], function() {
                e.closeWithSuccess(!0);
            }, null, "take-pet");
        }, e.prototype.closeWithSuccess = function(e) {
            e && this.callback(), t.prototype.close.call(this);
        }, e;
    }(o.RenderMenu);
    e.ChoosePet = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(3), s = i(4), l = i(25), h = i(17), c = i(0), p = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i, a, n) || this;
            return r.onHide = null, r.buttonData = null, r.currentPage = 0, r.iconsPerPage = 6, 
            r.emoteButtons = [], r.emotesPanel = null, r.nextPage = null, r.prevPage = null, 
            r.dabIndicatorImage = null, r.buttonData = o, r.createPanel(), r;
        }
        return n(e, t), e.prototype.createPanel = function() {
            this.emotesPanel = this.game.prodigy.create.element(this, 0, 0), this.emotesPanel.add(this.game.prodigy.create.sprite(0, 0, "atlas-159", "tabmenu")), 
            this.nextPage = this.game.prodigy.create.button(this.emotesPanel, 366, 47, "atlas-159", "arrow", this.loadEmotes.bind(this, 1)), 
            this.nextPage.sprite.rotateMiddleBased(0), this.prevPage = this.game.prodigy.create.button(this.emotesPanel, -7, 47, "atlas-159", "arrow", this.loadEmotes.bind(this, -1)), 
            this.prevPage.sprite.rotateMiddleBased(180), this.game.prodigy.create.button(this.emotesPanel, 165, -5, "atlas-159", "closetabarrow1", this.hide.bind(this), null, null, !0), 
            this.loadEmotes(0);
        }, e.prototype.loadEmotes = function(t) {
            for (var e = 0; e < this.emoteButtons.length; e++) this.emoteButtons[e].destroy();
            this.emoteButtons = [], this.prevPage.setActive(), this.nextPage.setActive(), 
            0 === Math.floor(this.buttonData.length / this.iconsPerPage) && (this.prevPage.visible = !1, 
            this.nextPage.visible = !1), this.currentPage += t;
            var i = Math.floor(this.buttonData.length / this.iconsPerPage) - 1;
            this.currentPage <= 0 ? (this.currentPage = 0, this.prevPage.setInactive()) : this.currentPage >= i && (this.currentPage = i, 
            this.nextPage.setInactive());
            for (e = this.currentPage * this.iconsPerPage; e < this.currentPage * this.iconsPerPage + this.iconsPerPage && e < this.buttonData.length; e++) {
                var a = null;
                if ("dance" === this.buttonData[e].type) {
                    if (1 === this.buttonData[e].data.member) {
                        if (this.game.prodigy.player.hasMembership()) a = this.game.prodigy.create.button(this.emotesPanel, e % this.iconsPerPage * 54 + 45, 47, "icon-" + this.buttonData[e].type + "-" + this.buttonData[e].ID, null, this.sendEmote.bind(this, this.buttonData[e].data.name, this.buttonData[e].type), null, null, !1, 48, 50); else {
                            a = this.game.prodigy.create.button(this.emotesPanel, e % this.iconsPerPage * 54 + 45, 47, "icon-" + this.buttonData[e].type + "-" + this.buttonData[e].ID, null, this.dabMemberPrompt.bind(this), null, null, !1, 48, 50);
                            var n = this.setButtonIcon.bind(this, a);
                            this.game.prodigy.create.sprite(32, -3, "icon-mini-member-b", null, null, n);
                        }
                        this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(h.Breadcrumbs.BREADCRUMB_CLICKED_DAB, h.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DAB_BUTTON) || (this.dabIndicatorImage = new Phaser.Image(this.game, 0, 0, "atlas-21", "exclamation"), 
                        a.addChild(this.dabIndicatorImage), this.dabIndicatorImage.x += 3, 
                        this.dabIndicatorImage.y -= 42, a.y += 21, this.game.add.tween(this.dabIndicatorImage).to({
                            y: this.dabIndicatorImage.y - 10
                        }, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0));
                    } else a = this.game.prodigy.create.button(this.emotesPanel, e % this.iconsPerPage * 54 + 45, 47, "icon-" + this.buttonData[e].type + "-" + this.buttonData[e].ID, null, this.sendEmote.bind(this, this.buttonData[e].data.name, this.buttonData[e].type), null, null, !1, 48, 50);
                    a.x -= Math.floor(.5 * a.width), a.y -= Math.floor(.5 * a.height);
                } else (a = this.game.prodigy.create.button(this.emotesPanel, e % this.iconsPerPage * 54 + 45, 47, "atlas-159", "backgroundbutton", this.sendEmote.bind(this, this.buttonData[e].ID, this.buttonData[e].type), null, null, !1, 48, 50)).x -= Math.floor(.5 * a.width), 
                a.y -= Math.floor(.5 * a.height), a.addOverlay(5, 5, "icon-" + this.buttonData[e].type + "-" + this.buttonData[e].ID, null);
                this.emoteButtons.push(a);
            }
        }, e.prototype.setButtonIcon = function(t, e) {
            t.sprite.addChild(e);
        }, e.prototype.dabMemberPrompt = function() {
            this.game.prodigy.breadcrumbManager.completeBreadcrumb(h.Breadcrumbs.BREADCRUMB_CLICKED_DAB, h.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DAB_BUTTON), 
            this.game.prodigy.network.sendAnalytics("emotes", "dab-usage-non-member", "Events"), 
            this.game.broadcaster.broadcast(r.EHUDEvents.HideChatNotif, "chatButton"), 
            this.game.prodigy.open.membershipInfo(null, {}, l.MembershipInfo.DANCE);
        }, e.prototype.sendEmote = function(t, e) {
            if (c.Util.isValid(t)) if ("dance" === e) "dab" === t ? (this.game.prodigy.network.sendAnalytics("emotes", t + "-usage-member", "Events"), 
            this.dabIndicatorImage && this.dabIndicatorImage.destroy(), this.game.prodigy.breadcrumbManager.completeBreadcrumb(h.Breadcrumbs.BREADCRUMB_CLICKED_DAB, h.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DAB_BUTTON), 
            this.game.broadcaster.broadcast(r.EHUDEvents.HideChatNotif, "chatButton")) : this.game.prodigy.network.sendAnalytics("emotes", t + "-usage", "Events"), 
            this.game.prodigy.player.danceID = t, this.game.prodigy.network.emitMessage({
                action: "chat",
                data: {
                    userID: this.game.prodigy.player.userID,
                    danceID: t
                }
            }); else {
                var i = s.Items.getItem(e, t);
                this.game.prodigy.network.sendAnalytics("emotes", i.data.name + "-usage", "Events"), 
                this.game.prodigy.player.emoteID = t, this.game.prodigy.network.emitMessage({
                    action: "chat",
                    data: {
                        userID: this.game.prodigy.player.userID,
                        emoteID: t
                    }
                });
            }
        }, e.prototype.hide = function() {
            this.visible = !1, null !== this.onHide && this.onHide();
        }, e;
    }(o.Element);
    e.ChatPanel = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(61), s = i(4), l = i(17), h = i(0), c = i(703), p = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i) || this;
            return n.onClose = null, n.data = [], n.emotes = [], n.dances = [], 
            n.currentText = "", n.suggestions = [], n.emotesPanel = null, n.emoteButton = null, 
            n.dancesPanel = null, n.danceButton = null, n.textField = null, n.results = [], 
            n.indicatorImage = null, n.onClose = a, n.data = n.game.prodigy.chat.getPhrases(), 
            n.emotes = s.Items.getCategoryItems("emote"), n.dances = [ {
                ID: 1,
                type: "dance",
                data: {
                    name: "shimmy"
                }
            }, {
                ID: 2,
                type: "dance",
                data: {
                    name: "hammer"
                }
            }, {
                ID: 3,
                type: "dance",
                data: {
                    name: "moonwalk"
                }
            }, {
                ID: 4,
                type: "dance",
                data: {
                    name: "runningMan"
                }
            }, {
                ID: 5,
                type: "dance",
                data: {
                    name: "dab",
                    member: 1
                }
            } ], n.createMenu(), n;
        }
        return n(e, t), e.prototype.close = function() {
            h.Util.isValid(this.onClose) && this.onClose(), this.game.prodigy.open.chatMenu = null, 
            this.destroy();
        }, e.prototype.createMenu = function() {
            this.game.prodigy.notifications.clearNotifications();
            for (var t = 1; t <= 5; t++) {
                var e = this.game.prodigy.create.panel(this, 420, 630 - 40 * t, 12, 1, "lb"), i = {
                    panel: e,
                    text: this.game.prodigy.create.font(e, 10, 5, ""),
                    textID: 0
                };
                i.panel.setClickable(this.selectItem.bind(this, i)), i.panel.visible = !1, 
                this.suggestions.push(i);
            }
            this.emotesPanel = new c.ChatPanel(this.game, this, 480, 567, this.emotes), 
            this.emotesPanel.visible = !1, this.emotesPanel.onHide = this.determineDanceBreadcrumbState.bind(this), 
            this.add(this.emotesPanel), this.dancesPanel = new c.ChatPanel(this.game, this, 480, 567, this.dances), 
            this.dancesPanel.visible = !1, this.dancesPanel.onHide = this.determineDanceBreadcrumbState.bind(this), 
            this.add(this.dancesPanel);
            var a = this.game.prodigy.create.element(this, 445, 638);
            a.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "HUD-end"));
            var n = 30;
            for (t = 0; t < 6; t++) a.add(this.game.prodigy.create.sprite(n, 0, "atlas-18", "HUD-mid")), 
            n += 62;
            a.add(this.game.prodigy.create.sprite(n + 30, 0, "atlas-18", "HUD-end")).scale.x = -1, 
            a.add(this.game.prodigy.create.sprite(117, 17, "atlas-159", "chatendcap")), 
            n = 157;
            for (t = 0; t < 5; t++) a.add(this.game.prodigy.create.sprite(n, 17, "atlas-159", "chatmiddlebar")), 
            n += 40;
            a.add(this.game.prodigy.create.sprite(n + 40, 17, "atlas-159", "chatendcap")).scale.x = -1, 
            this.textField = new r.InputField(this.game, this, "AC", null, 570, 663, 230, 35, {
                background: "transparent",
                border: "none"
            }), this.textField.input.onkeyup = this.search.bind(this, !0), this.emoteButton = this.game.prodigy.create.button(a, 10, 17, "atlas-159", "emotebutton", this.toggleEmotes.bind(this)), 
            this.danceButton = this.game.prodigy.create.button(a, 63, 17, "atlas-159", "dancebutton", this.toggleDances.bind(this)), 
            this.game.prodigy.create.button(a, 370, 17, "atlas-159", "chatbutton", this.setChatFocus.bind(this), null, null, !0), 
            this.game.prodigy.create.button(a, 410, -7, "atlas-159", "closebutton", this.close.bind(this)), 
            this.game.prodigy.user.isInTransformedMode ? this.setChatButtons(!1) : this.determineDanceBreadcrumbState();
        }, e.prototype.setChatButtons = function(t) {
            t ? (this.emoteButton.setActive(), this.danceButton.setActive()) : (this.emoteButton.setInactive(), 
            this.danceButton.setInactive());
        }, e.prototype.toggleEmotes = function(t) {
            h.Util.isValid(t) ? this.emotesPanel.visible = t : this.emotesPanel.visible = !this.emotesPanel.visible, 
            this.emotesPanel.visible && (this.dancesPanel.visible = !1, this.clearSearch()), 
            this.textField.setFocus(null), this.determineDanceBreadcrumbState();
        }, e.prototype.toggleDances = function(t) {
            h.Util.isValid(t) ? this.dancesPanel.visible = t : this.dancesPanel.visible = !this.dancesPanel.visible, 
            this.dancesPanel.visible && (this.emotesPanel.visible = !1, this.clearSearch()), 
            this.textField.setFocus(null), this.determineDanceBreadcrumbState();
        }, e.prototype.setChatFocus = function() {
            this.toggleEmotes(!1), this.toggleDances(!1), setTimeout(function() {
                $("#AC").get(0).focus();
            }, 100);
        }, e.prototype.selectItem = function(t) {
            this.clearSearch(), this.textField.setFocus(null), this.sendChat(t.textID);
        }, e.prototype.search = function(t) {
            var i = this.textField.getValue();
            t && (this.toggleEmotes(!1), this.toggleDances(!1)), i.length <= 0 ? this.results = [] : i.length < this.currentText.length || this.currentText.length <= 0 ? this.results = e.match(i, this.data) : this.results = e.match(i, this.results), 
            this.currentText = i;
            for (var a = 0; a < this.suggestions.length; a++) {
                var n = this.suggestions[a];
                if (a < this.results.length && t) {
                    n.panel.visible = !0, n.text.setText(this.results[a]);
                    var o = this.game.prodigy.chat.getPhraseIndex(this.results[a]);
                    n.textID = -1 === o ? 0 : o;
                } else n.panel.visible = !1;
            }
        }, e.prototype.sendChat = function(t) {
            this.game.prodigy.player.chatID = t, this.game.prodigy.network.emitMessage({
                action: "chat",
                data: {
                    userID: this.game.prodigy.player.userID,
                    chatID: t
                }
            });
        }, e.prototype.clearSearch = function() {
            this.textField.setValue(""), this.search(!1);
        }, e.prototype.determineDanceBreadcrumbState = function() {
            this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.BREADCRUMB_CLICKED_DAB, l.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DAB_BUTTON) || this.dancesPanel.visible ? h.Util.isValid(this.indicatorImage) && (this.indicatorImage.destroy(), 
            this.indicatorImage = null) : h.Util.isValid(this.indicatorImage) || (this.indicatorImage = new Phaser.Image(this.game, 0, 0, "atlas-21", "exclamation"), 
            this.danceButton.addChild(this.indicatorImage), this.indicatorImage.x += 3, 
            this.indicatorImage.y -= 42, this.game.add.tween(this.indicatorImage).to({
                y: this.indicatorImage.y - 10
            }, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0));
        }, e.match = function(t, e) {
            var i = new RegExp(t.split("").join("\\w*").replace(/\W/, ""), "i");
            return e.filter(function(t) {
                if (t.match(i)) return t;
            });
        }, e;
    }(o.Element);
    e.Chat = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(0), s = i(32), l = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return a.panel = null, a.content = null, a.create(), a;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent(), this.panel = this.game.prodigy.create.panel(this, 240, 80, 20, 14, "shine"), 
            this.panel.setRenderState(!0), this.game.prodigy.create.button(this, this.panel.x + 760, this.panel.y - 10, "atlas-21", "close", this.close.bind(this)), 
            this.panel.add(new Phaser.TileSprite(this.game, 11, 120, 778, 40, "atlas-161", "blue-top")), 
            this.panel.add(new Phaser.TileSprite(this.game, 11, 160, 778, 300, "atlas-161", "blue-mid")), 
            this.panel.add(new Phaser.TileSprite(this.game, 11, 460, 778, 40, "atlas-161", "blue-top2")), 
            this.game.prodigy.create.panel(this.panel, 200, -10, 10, 2, "banner"), 
            this.game.prodigy.create.font(this, 290, 86, this.game.prodigy.gameContainer.Localizer.getText("SPELLBOOK_TITLE"), {
                fontID: 9,
                size: 36,
                width: 720,
                align: "center"
            }), this.game.prodigy.create.panel(this.panel, 240, 140, 8, 4, "white").alpha = .5, 
            this.game.prodigy.create.font(this.panel, 250, 150, this.game.prodigy.gameContainer.Localizer.getText("SPELLBOOK_DESCRIPTION"), {
                fontID: 8,
                width: 318
            }), this.content = this.game.prodigy.create.element(this, 500, 170), 
            t.prototype.create.call(this), this.updateSpells();
        }, e.prototype.updateSpells = function() {
            r.Util.isValid(this.content) && this.content.destroy(), this.content = this.game.prodigy.create.element(this, 290, 180);
            for (var t = this.game.prodigy.player.getAttacks(), e = [ [ 0, 0 ], [ 0, 1 ], [ 1, 1 ], [ 2, 1 ], [ 3, 1 ], [ 3, 0 ] ], i = 0; i < 6; i++) i >= t.length ? this.game.prodigy.create.panel(this.content, 180 * e[i][0], 220 * e[i][1], 4, 5, "empty") : this.game.prodigy.create.item(this.content, 180 * e[i][0], 220 * e[i][1], {
                ID: t[i],
                type: "spell"
            }, s.EItemInfoMode.Inventory, this.spellSelected.bind(this, t[i]));
        }, e.prototype.spellSelected = function(t) {
            this.game.prodigy.open.pouch("spell", this.updateSpells.bind(this), t);
        }, e;
    }(o.RenderMenu);
    e.Character = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(3), s = i(4), l = i(17), h = i(0), c = i(32), p = function(t) {
        function e(e, i, a, n, o) {
            var s = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return s.hideFriendsButton = !1, s.hideFriendsButton = o, s.viewOnly = n, 
            s.player = a, e.broadcaster.addAppListener(r.EFriendsListEvents.RequestSent, s.setupFriendRequestButton.bind(s), s, "Card", !1), 
            e.broadcaster.addAppListener(r.EFriendsListEvents.RequestCancelled, s.setupFriendRequestButton.bind(s), s, "Card", !1), 
            e.broadcaster.addAppListener(r.EFriendsListEvents.RequestAccepted, s.setupFriendRequestButton.bind(s), s, "Card", !1), 
            e.broadcaster.addAppListener(r.EFriendsListEvents.RequestRejected, s.setupFriendRequestButton.bind(s), s, "Card", !1), 
            e.broadcaster.addAppListener(r.EFriendsListEvents.FriendRemoved, s.setupFriendRequestButton.bind(s), s, "Card", !1), 
            e.broadcaster.addAppListener(r.EPlayerContainerEvents.PlayerAppearanceUpdated, s.updateAppearance.bind(s), s, "Card", !1), 
            s.create(), s;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent(), this.game.prodigy.network.sendAnalytics("Friend-Card-Actions", "Open-Friend-Card", "Events"), 
            this.base = this.game.prodigy.create.element(this, 300, 120);
            var e = this.game.prodigy.create.element(this, this.base.x, this.base.y);
            this.game.prodigy.create.panel(e, 0, 0, 17, 2, "card-top"), this.game.prodigy.create.panel(e, 0, 80, 17, 10, "card-bot");
            var i = e.add(this.game.prodigy.create.sprite(6, 360, "atlas-18", "overlay-small"));
            i.width = 668, i.height = 80, i.alpha = .1, e.setRenderState(!0), this.playerContainer = this.game.prodigy.create.player(this.base, this.player, 2, 110, 320), 
            this.playerContainer.reload(), this.playerName = this.game.prodigy.create.font(this.base, 10, 3, (this.player.hasMembership() ? "[membership] " : "") + this.player.appearance.getName(), {
                size: 36,
                fontID: 9
            }), this.game.prodigy.create.font(this.base, 10, 53, "$" + this.player.getLevel(), {
                size: 36,
                fontID: 9
            }), this.game.prodigy.create.button(this.base, 640, -10, "atlas-21", "close", this.close.bind(this)), 
            this.buttons = [], this.player.userID === this.game.prodigy.player.userID ? this.setupPlayer(this.buttons) : this.setupStranger(this.buttons), 
            this.content = this.game.prodigy.create.element(this.base), this.setMode(0, 0), 
            t.prototype.create.call(this);
        }, e.prototype.close = function() {
            this.game.broadcaster.removeAppListener(r.EFriendsListEvents.RequestSent, this, "Card"), 
            this.game.broadcaster.removeAppListener(r.EFriendsListEvents.RequestCancelled, this, "Card"), 
            this.game.broadcaster.removeAppListener(r.EFriendsListEvents.RequestAccepted, this, "Card"), 
            this.game.broadcaster.removeAppListener(r.EFriendsListEvents.RequestRejected, this, "Card"), 
            this.game.broadcaster.removeAppListener(r.EFriendsListEvents.FriendRemoved, this, "Card"), 
            this.game.broadcaster.removeAppListener(r.EPlayerContainerEvents.PlayerAppearanceUpdated, this, "Card"), 
            t.prototype.close.call(this);
        }, e.prototype.setupPlayer = function(t) {
            var e = this, i = 15, a = 350, n = this.game.prodigy.player.state.get("zone-lamplight"), o = this.game.prodigy.gameContainer.Localizer;
            if (this.game.prodigy.create.advButton(this.base, i, a, {
                icon: "move",
                top: o.getText("PLAYER_CARD_GO_TO_HOUSE_BUTTON_TOP"),
                bot: o.getText("PLAYER_CARD_GO_TO_HOUSE_BUTTON_BOT")
            }, this.toHouse.bind(this)).setActive(!h.Util.isValid(n) || !h.Util.isValid(n.quest) || n.quest.ID > 1), 
            this.game.prodigy.player.hasCompletedTutorial()) {
                var r = this.game.prodigy.create.advButton(this.base, 125, a, {
                    atlas: "atlas-109",
                    icon: "stylist-icon",
                    top: o.getText("PLAYER_CARD_CHANGE_STYLE_BUTTON_TOP"),
                    bot: o.getText("PLAYER_CARD_CHANGE_STYLE_BUTTON_BOT")
                }, function() {
                    h.Util.isValid(e.stylistBreadcrumbIndicator) && (e.stylistBreadcrumbIndicator.destroy(), 
                    e.stylistBreadcrumbIndicator = null), e.game.prodigy.breadcrumbManager.completeBreadcrumb(l.Breadcrumbs.FEATURE_STYLIST, l.Breadcrumbs.BREADCRUMB_CLICKED_CARD_STYLIST_BUTTON), 
                    e.game.prodigy.open.stylistStore(null, null, null, {
                        onCreateEvent: {
                            action: "Stylist-Interaction",
                            label: "Visit-From-Player-Card"
                        }
                    });
                });
                this.game.prodigy.classModeController.isClassMode([ 3 ]) || this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.FEATURE_STYLIST, l.Breadcrumbs.BREADCRUMB_CLICKED_CARD_STYLIST_BUTTON) || (this.stylistBreadcrumbIndicator = this.createBreadcrumbIndicator(this.game, this.base, "atlas-21", "exclamation", r));
            }
            t.push(this.game.prodigy.create.advButton(this.base, 235, a, {
                icon: "bag",
                top: o.getText("PLAYER_CARD_GEAR_BUTTON_TOP"),
                bot: o.getText("PLAYER_CARD_GEAR_BUTTON_BOT")
            }, this.setMode.bind(this, 0, 0))), t.push(this.game.prodigy.create.advButton(this.base, 345, a, {
                icon: {
                    type: "item",
                    ID: 21
                },
                bot: o.getText("PLAYER_CARD_GEMS_BUTTON_BOT")
            }, this.setMode.bind(this, 1, 1))), t.push(this.game.prodigy.create.advButton(this.base, 455, a, {
                icon: {
                    type: "item",
                    ID: 75
                },
                top: o.getText("PLAYER_CARD_KEY_ITEMS_BUTTON_TOP"),
                bot: o.getText("PLAYER_CARD_KEY_ITEMS_BUTTON_BOT")
            }, this.setMode.bind(this, 2, 2))), t.push(this.game.prodigy.create.advButton(this.base, 565, a, {
                icon: "player",
                top: o.getText("PLAYER_CARD_STATS_BUTTON_TOP"),
                bot: o.getText("PLAYER_CARD_STATS_BUTTON_BOT")
            }, this.setMode.bind(this, 3, 3)));
        }, e.prototype.setupStranger = function(t) {
            var e = this.player.getAllowsHouseVisitors(), i = 350, a = this.game.prodigy.gameContainer.Localizer, n = this.game.prodigy.create.advButton(this.base, 15, i, {
                icon: "move",
                top: a.getText("PLAYER_CARD_VISIT_HOUSE_BUTTON_TOP"),
                bot: a.getText("PLAYER_CARD_VISIT_HOUSE_BUTTON_BOT")
            }, this.toHouse.bind(this));
            n.setActive(e), e && this.game.prodigy.player.hasCompletedTutorial() && !this.game.prodigy.classModeController.isClassMode([ 3 ]) && (this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.FEATURE_HOUSE_VISITING, l.Breadcrumbs.BREADCRUMB_CLICKED_CARD_VISIT_BUTTON) || (this.exclamationSprite = this.createBreadcrumbIndicator(this.game, this.base, "atlas-21", "exclamation", n))), 
            this.game.prodigy.classModeController.isClassMode([ 3 ]) && n.setActive(!1), 
            this.game.prodigy.create.advButton(this.base, 125, i, {
                icon: "challenge",
                top: a.getText("PLAYER_CARD_BATTLE_BUTTON_TOP")
            }, this.challenge.bind(this)).setActive(!this.viewOnly), t.push(this.game.prodigy.create.advButton(this.base, 455, i, {
                icon: "bag",
                top: a.getText("PLAYER_CARD_GEAR_BUTTON_TOP"),
                bot: a.getText("PLAYER_CARD_GEAR_BUTTON_BOT")
            }, this.setMode.bind(this, 0, 0))), t.push(this.game.prodigy.create.advButton(this.base, 565, i, {
                icon: "player",
                top: a.getText("PLAYER_CARD_STATS_BUTTON_TOP"),
                bot: a.getText("PLAYER_CARD_STATS_BUTTON_BOT")
            }, this.setMode.bind(this, 3, 1))), this.setupFriendRequestButton(235, i);
        }, e.prototype.setupFriendRequestButton = function(t, e) {
            if (h.Util.isValid(this.game)) {
                if (this.game.prodigy.friendsListNetworkHandler.hasReceivedFriends) {
                    for (var i = this.game.prodigy.friendsListNetworkHandler.classList, a = 0; a < i.length; a++) if (i[a].userID === this.player.userID) return;
                    var n, o, s = this.game.prodigy.gameContainer.Localizer, l = this.game.prodigy.friendsListNetworkHandler.friendsList, c = -1;
                    for (a = 0; a < l.length; a++) if (this.player.userID === l[a].userID) {
                        c = l[a].status;
                        break;
                    }
                    var p = null, u = "delete-friend";
                    1 === c ? (n = s.getText("PLAYER_CARD_REMOVE_FRIEND_TOP"), o = s.getText("PLAYER_CARD_REMOVE_FRIEND_BOT"), 
                    p = r.EFriendsListEvents.RemoveFriend, this.hideFriendsButton = !1) : 0 === c ? (n = s.getText("PLAYER_CARD_CANCEL_FRIEND_TOP"), 
                    o = s.getText("PLAYER_CARD_CANCEL_FRIEND_BOT"), p = r.EFriendsListEvents.CancelRequest, 
                    this.hideFriendsButton = !1) : (n = s.getText("PLAYER_CARD_ADD_FRIEND_TOP"), 
                    o = s.getText("PLAYER_CARD_ADD_FRIEND_BOT"), p = r.EFriendsListEvents.SendRequest, 
                    u = "add-friend");
                    var d = t, g = e;
                    h.Util.isValid(t) && h.Util.isValid(e) || (d = this.cmdFriendRequest.x, 
                    g = this.cmdFriendRequest.y), h.Util.isValid(this.cmdFriendRequest) && this.cmdFriendRequest.destroy(), 
                    this.cmdFriendRequest = this.game.prodigy.create.advButton(this.base, d, g, {
                        atlas: "atlas-24",
                        icon: u,
                        top: n,
                        bot: o
                    }, this.onRequestClicked.bind(this, p)), this.cmdFriendRequest.setActive(!this.hideFriendsButton);
                }
            } else h.Util.log("Friend Button failed to render", h.Util.ERROR);
        }, e.prototype.onRequestClicked = function(t) {
            t === r.EFriendsListEvents.RemoveFriend ? this.game.prodigy.open.messageBox(this.game.prodigy.gameContainer.Localizer.getText("PLAYER_CARD_CONFIRM_REMOVE_BODY", this.player.appearance.getName()), this.game.broadcaster.broadcast.bind(this.game.broadcaster, t, "Card", [ this.player.userID ]), null, null, this.game.prodigy.gameContainer.Localizer.getText("PLAYER_CARD_CONFIRM_REMOVE_TITLE")) : this.game.broadcaster.broadcast(t, "Card", [ this.player.userID ]);
        }, e.prototype.setMode = function(e, i) {
            this.page = e, t.prototype.setMode.call(this, i);
            var a = this.game.prodigy.gameContainer.Localizer;
            if (this.content.removeAll(!0), 0 === e) {
                this.game.prodigy.network.sendAnalytics("Friend-Card-Actions", "Click-Gear-Card", "Events");
                for (var n = [ "hat", "weapon", "follow", "outfit", "boots", "ring" ], o = 0; o < n.length; o++) this.player.userID === this.game.prodigy.player.userID ? this.game.prodigy.create.item(this.content, o % 3 * 140 + 260, 140 * Math.floor(o / 3) + 67, {
                    ID: this.player.equipment.getEquipment(n[o]),
                    type: n[o]
                }, c.EItemInfoMode.Icon, this.openPouch.bind(this, n[o])) : this.game.prodigy.create.item(this.content, o % 3 * 140 + 260, 140 * Math.floor(o / 3) + 67, {
                    ID: this.player.equipment.getEquipment(n[o]),
                    type: n[o]
                }, c.EItemInfoMode.Icon, this.itemSelected.bind(this, this.player.equipment.getEquipment(n[o]), n[o], c.EItemInfoMode.View, 0));
            } else if (1 === e || 2 === e) {
                var r = this.game.prodigy.player.backpack.getBackpackItemsByType("key"), l = [], p = 1 === e;
                for (o = 0; o < r.length; ++o) {
                    p === (1 === s.Items.getItemMetadata("key", r[o].ID).subType) && l.push(r[o]);
                }
                for (o = 0; o < 3; o++) {
                    var u = this.content.add(this.game.prodigy.create.sprite(260, 90 * o + 120, "atlas-18", "overlay-small"));
                    u.width = 414, u.height = 40, u.alpha = .05;
                    for (var d = 0; d < 4; d++) if (4 * o + d < l.length) {
                        var g = this.content.add(this.game.prodigy.icon.createIcon(u.x + 100 * d + 20, u.y - 50, "icon-key-" + l[4 * o + d].ID));
                        g.inputEnabled = !0, g.events.onInputDown.add(this.itemSelected.bind(this, l[4 * o + d].ID, "key", c.EItemInfoMode.Inventory, e));
                    }
                }
            } else if (3 === e) {
                this.game.prodigy.network.sendAnalytics("Friend-Card-Actions", "Click-Show-Stats", "Events");
                var y = this.player.getCurrentHearts() + "/" + this.player.getMaxHearts(), f = this.game.prodigy.create.panel(this.content, 330, 65, 4, 2, "stat");
                if (this.game.prodigy.create.font(f, 5, 5, a.getText("PLAYER_CARD_HEARTS"), {
                    size: 20
                }), this.game.prodigy.create.font(f, -20, 46, y, {
                    fontID: 8,
                    align: "center",
                    width: 200
                }), y = this.player.getStars() + "/" + (this.player.getStars() + this.player.getStarsToLevel()), 
                this.player.getLevel() >= 100 && (y = a.getText("PLAYER_CARD_MAX")), 
                f = this.game.prodigy.create.panel(this.content, 500, 65, 4, 2, "stat"), 
                this.game.prodigy.create.font(f, 5, 5, a.getText("PLAYER_CARD_STARS"), {
                    size: 20
                }), this.game.prodigy.create.font(f, -20, 46, y, {
                    fontID: 8,
                    align: "center",
                    width: 200
                }), f = this.game.prodigy.create.panel(this.content, 330, 155, 4, 2, "stat"), 
                this.game.prodigy.create.font(f, 5, 5, a.getText("PLAYER_CARD_GOLD"), {
                    size: 20
                }), this.game.prodigy.create.font(f, 5, 46, h.Util.numberToString(this.player.getGold()), {
                    fontID: 8,
                    align: "right",
                    width: 145
                }), f = this.game.prodigy.create.panel(this.content, 500, 155, 4, 2, "stat"), 
                this.game.prodigy.create.font(f, 5, 5, a.getText("PLAYER_CARD_TOWER"), {
                    size: 20
                }), this.game.prodigy.create.font(f, 5, 46, a.getText("PLAYER_CARD_FLOOR", this.player.getTowerProgress()), {
                    fontID: 8,
                    align: "center",
                    width: 145
                }), this.game.prodigy.player.userID === this.player.userID && this.game.prodigy.player.hasCompletedTutorial()) {
                    f = this.game.prodigy.create.panel(this.content, 330, 245, 4, 2, "stat"), 
                    this.game.prodigy.create.font(f, 5, 5, a.getText("PLAYER_CARD_ARENA"), {
                        size: 20
                    });
                    var m = this.game.prodigy.create.font(f, 5, 46, "[arena]", {
                        fontID: 8,
                        align: "right",
                        width: 145
                    });
                    h.Util.isValid(this.game.prodigy.pvpNetworkHandler.seasonID) ? this.game.prodigy.pvpNetworkHandler.getUserRank(this.player.userID, function(t) {
                        m.setText("[arena]" + t.points);
                    }, function() {
                        m.setText("[arena] - ");
                    }) : m.setText("[arena] - "), f = this.game.prodigy.create.panel(this.content, 500, 245, 4, 2, "stat"), 
                    this.game.prodigy.create.font(f, 5, 5, a.getText("PLAYER_CARD_WIN_LOSS"), {
                        size: 20
                    }), this.game.prodigy.create.font(f, 5, 46, this.player.getWins() + "/" + this.player.getLosses(), {
                        fontID: 8,
                        align: "center",
                        width: 145
                    });
                }
            }
        }, e.prototype.toHouse = function() {
            var t = this;
            if (this.game.prodigy.network.sendAnalytics("Friend-Card-Actions", "Click-House-Visit", "Events"), 
            this.game.prodigy.classModeController.isClassMode([ 3 ])) this.game.prodigy.open.classModeMessage(this.game.prodigy.gameContainer.Localizer.getText("WORLD_YOUR_HOUSE_CLASS_MODE"), null, null, this.game.prodigy.gameContainer.Localizer.getText("WORLD_YOUR_HOUSE"), "popup-travel-home", {
                isModal: !0
            }); else {
                h.Util.isDefined(this.exclamationSprite) && (this.exclamationSprite.destroy(), 
                this.game.prodigy.breadcrumbManager.completeBreadcrumb(l.Breadcrumbs.FEATURE_HOUSE_VISITING, l.Breadcrumbs.BREADCRUMB_CLICKED_CARD_VISIT_BUTTON)), 
                this.game.prodigy.loading(!0);
                var e = function(e) {
                    var i = h.Util.isValid(e) ? e[t.player.userID] : null;
                    h.Util.isValid(i) && h.Util.isValid(i.house) && (t.game.prodigy.loading(!1), 
                    t.player.house.setItems(i.house), t.game.prodigy.world.teleport("house", null, null, t.player));
                };
                this.game.prodigy.network.getCharData(this.player.userID.toString(), [ "house" ], e, e);
            }
        }, e.prototype.challenge = function() {
            this.game.prodigy.network.sendAnalytics("Friend-Card-Actions", "Click-Battle", "Events");
            var t = this.game.broadcaster.broadcast(r.EPlayerLocomotionEvents.GetTarget, this.game, [ !0 ]), e = {
                equipment: this.game.prodigy.player.equipment.data,
                appearance: this.game.prodigy.player.appearance.data,
                data: this.game.prodigy.player.data,
                isMember: this.game.prodigy.player.hasMembership() ? 1 : 0
            };
            this.game.prodigy.network.emitMessage({
                action: "challenge",
                target: this.player.userID,
                time: 6e4,
                data: {
                    userID: this.game.prodigy.player.userID,
                    player: e
                }
            }), this.game.prodigy.network.sendBattleStartTypeEvent("PVP-Duel"), 
            this.game.prodigy.pvp.startPVP(this.game.prodigy.player.userID, this.game.prodigy.player, this.player, function(t, e, i) {
                h.Util.isValid(i) && "Tower" === i ? (t.state.states.Tower.startX = e.x, 
                t.state.states.Tower.startY = e.y, t.prodigy.start("Tower")) : t.prodigy.world.teleport(t.prodigy.player.data.zone, e.x, e.y);
            }.bind(this, this.game, t, this.game.state.current), !1);
        }, e.prototype.sendGift = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            this.game.prodigy.open.message(t.getText("SEND_GIFT_FEATURE_SOON_MESSAGE_BODY"), null, null, t.getText("SEND_GIFT_FEATURE_SOON_MESSAGE_TITLE"));
        }, e.prototype.updatePlayer = function(t) {
            this.playerContainer.reload(), this.game.input.clearEnterCallback(), 
            this.setMode(t, t);
        }, e.prototype.updateAppearance = function() {
            h.Util.isValid(this.playerContainer) && (this.playerContainer.reload(), 
            this.playerName.setText(this.player.appearance.getName()));
        }, e.prototype.itemSelected = function(t, e, i, a) {
            h.Util.isValid(t) && this.game.prodigy.open.itemInfo({
                ID: t,
                type: e
            }, this.updatePlayer.bind(this, a), i);
        }, e.prototype.openPouch = function(t) {
            "ring" === t || h.Util.isValid(this.player.equipment.getEquipment(t)) ? this.itemSelected(this.player.equipment.getEquipment(t), t, c.EItemInfoMode.Equip, 0) : this.game.prodigy.open.pouch(t, this.updatePlayer.bind(this, 0), null);
        }, e.prototype.createBreadcrumbIndicator = function(t, e, i, a, n) {
            var o = t.prodigy.create.sprite(0, 0, i, a);
            e.add(o);
            var r = h.Util.getOptionalParameter(n, e), s = h.Util.getCenteredXY(o.width, 0, r.x, r.y, r.width, 0);
            return o.x = s.x, o.y = r.y - o.height, t.add.tween(o).to({
                y: o.y - 10
            }, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0), o;
        }, e;
    }(o.RenderMenu);
    e.Card = p;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(12), r = i(4), s = i(0), l = i(74), h = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return r.game = e, r.id = a, r.message = n, r.urlMessage = o, r.game.prodigy.load.assets([ "atlas-98", "atlas-21" ], r.create.bind(r)), 
            r;
        }
        return n(e, t), e.prototype.create = function() {
            var e = this.game.prodigy.gameContainer.Localizer;
            this.addTransparent(.5);
            var i = this.game.prodigy.create.element(this, 350, 100);
            this.game.prodigy.create.panel(i, 100, 0, 10, 13, "shine2"), this.game.prodigy.create.font(i, 150, 20, s.Util.isValid(this.message) ? this.message : e.getText("BUY_TOY_MESSAGE"), {
                width: 300,
                align: "center"
            });
            var a = i.add(this.game.prodigy.create.sprite(150, 100, "atlas-98", this.id + "_1"));
            a.scale.x = 25 / 35, a.scale.y = 25 / 35;
            var n = r.Items.getItem("pet", this.id).data;
            this.game.prodigy.create.font(i, -320, 310, " " + n.name, {
                size: 36,
                fontID: 9,
                align: "center"
            });
            var o = n.name.length;
            i.add(this.game.prodigy.create.sprite(300 - 8 * o - 60, 300, "atlas-21", "icon-bar-" + n.element));
            var l = this.game.prodigy.create.panelButton(i, 120, 395, 9, 2, "button", this.openWebsite.bind(this, s.Util.isValid(this.urlMessage) ? this.urlMessage : "epics arena!"));
            l.content.add(this.game.prodigy.icon.createFromData({
                type: "pet",
                ID: this.id
            }, 10, -10)), this.game.prodigy.create.font(l.content, 100, 15, e.getText("BUY_TOY_BUY_NOW"), {
                width: 250,
                size: 36,
                fontID: 9,
                align: "center"
            }), this.game.prodigy.create.button(i, 462, -5, "atlas-21", "close", this.close.bind(this)), 
            this.game.add.tween(i).from({
                y: 720
            }, 400, Phaser.Easing.Back.Out, !0), t.prototype.create.call(this);
        }, e.prototype.openWebsite = function(t) {
            var e = !1;
            if (s.Util.isValid(this.urlMessage) && "epic attacks!" === this.urlMessage) for (var i = 125; i < 131; i++) this.game.prodigy.player.kennel.hasPet(i) && (e = !0);
            e && !this.game.prodigy.player.kennel.hasPet(this.id) && this.game.prodigy.network.sendAnalytics("other-epic-attack", "try-buy-other", "Events"), 
            l.ToyStore.openWebsite(this.game, t.replace(/\s/g, "-").replace("!", ""), !1, this.id);
        }, e.prototype.close = function() {
            this.destroy();
        }, e;
    }(o.RenderMenu);
    e.BuyToy = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(208), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return a.content = null, a.create(), a;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent(), this.createBaseSetup(27, 16, "shine", null, null, !0);
            var e = this.game.prodigy.create.element(this, -5, 20);
            e.add(this.game.prodigy.create.sprite(145, 60, "atlas-18", "board-corner"));
            for (var i = 0; i < 21; i++) e.add(this.game.prodigy.create.sprite(40 * i + 225, 60, "atlas-18", "board-top")), 
            e.add(this.game.prodigy.create.sprite(40 * i + 225, 100, "atlas-18", "board-panel-mid"));
            e.add(this.game.prodigy.create.sprite(1065, 60, "atlas-18", "board-corner2")), 
            this.content = this.game.prodigy.create.element(this, e.x, e.y), this.game.prodigy.create.panel(e, 145, 140, 25, 12, "board-panel"), 
            t.prototype.create.call(this);
        }, e.prototype.process = function() {
            t.prototype.process.call(this), this.content.removeAll(!0), this.content.add(this.game.prodigy.create.sprite(128, 107, "atlas-18", "lantern")), 
            this.content.add(this.game.prodigy.create.sprite(1104, 107, "atlas-18", "lantern"));
            for (var e = 0; e < this.game.prodigy.player.state.get("world-bounties").length; e++) new o.BountyContainer(this.game, this, 300 * e + 205, 150, this.game.prodigy.bounty.getBounty(e), e);
        }, e;
    }(i(12).RenderMenu);
    e.BountyBoardMenu = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(40), r = i(4), s = i(25), l = i(18), h = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, 4, {
                hideMenu: !0,
                hideContent: !1,
                hideClose: !0
            }) || this;
            return o.boosts = a, o.callback = n, o.setup(), o;
        }
        return n(e, t), e.prototype.menuSetup = function() {
            t.prototype.menuSetup.call(this);
            var e = this.game.prodigy.create.panel(this, 390, 160, 10, 6);
            e.add(this.game.prodigy.create.sprite(-15, -15, "atlas-21", "member")), 
            this.game.prodigy.create.font(e, 80, 15, this.game.prodigy.gameContainer.Localizer.getText("BOOST_MENU_TITLE"), {
                align: "left",
                size: 30
            });
            for (var i = 0; i < this.boosts.length; i++) {
                var a = this.boosts[i];
                if (a) {
                    var n = this.game.prodigy.create.element(e, 150 * i + 60, i % 2 * 50 + 80), o = n.add(this.game.prodigy.create.sprite(0, 0, "atlas-21", "icon-base"));
                    o.inputEnabled = !0, o.events.onInputDown.add(this.setCurrent.bind(this, i, n.x, n.y));
                    var s = this.game.prodigy.create.sprite(0, 0, r.Items.getIconAtlas(a.icon), r.Items.getIconFrame(a.icon));
                    s.x += Math.floor((80 - s.width) / 2), s.y += Math.floor((80 - s.height) / 2), 
                    n.add(s), this.game.prodigy.create.font(e, n.x - 110, n.y + 90, this.boosts[i].d, {
                        width: 300,
                        align: "center",
                        size: 20
                    });
                }
            }
            this.selected = e.add(this.game.prodigy.create.sprite(25, -5, "atlas-21", "yes")), 
            this.selected.visible = !1, this.game.prodigy.create.textButton(e, 40, 270, {
                icon: "close",
                text: this.game.prodigy.gameContainer.Localizer.getText("BOOST_MENU_BUTTON_NONE")
            }, this.apply.bind(this, !0)), this.applyButton = this.game.prodigy.create.textButton(e, 260, 270, {
                icon: "next",
                text: this.game.prodigy.gameContainer.Localizer.getText("BUTTON_APPLY")
            }, this.apply.bind(this)), this.applyButton.setInactive();
        }, e.prototype.setCurrent = function(t, e, i) {
            this.selected.visible = !0, this.selected.x = e - 10, this.selected.y = i - 10, 
            this.currentBoost = t, this.applyButton.setActive();
        }, e.prototype.apply = function(t) {
            if (t || this.game.prodigy.network.sendAnalytics("Use-Boost", this.currentBoost), 
            !t && !this.game.prodigy.player.hasMembership()) {
                var e = {
                    conversionFunnelName: l.EFunnelEventIDs.FunnelUseBoost,
                    conversionFunnelMetadata: this.boosts[this.currentBoost].d
                };
                return this.game.prodigy.network.sendConversionFunnelEvent(e.conversionFunnelName, l.EFunnelEventIDs.StageClickBoost, e.conversionFunnelMetadata), 
                void this.game.prodigy.open.membershipInfo(null, e, s.MembershipInfo.BOOSTS);
            }
            t ? this.callback() : this.callback(this.currentBoost), this.close();
        }, e;
    }(o.LegacyMenu);
    e.BoostSelect = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(97), r = i(12), s = i(3), l = i(37), h = i(17), c = i(0), p = i(32), u = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            return n.player = null, n.content = null, n.bar = null, n.p = null, 
            n.equip = null, n.itemType = null, n.owned = [], n.indicatorImage = null, 
            n.player = a, n.create(), n;
        }
        return n(e, t), e.prototype.create = function() {
            this.addTransparent(), this.content = this.game.prodigy.create.element(this, 610, 220);
            var e = this.game.prodigy.gameContainer.Localizer;
            this.createBaseSetup(30, 16, "shine", null, [ {
                icon: {
                    type: "hat",
                    ID: "5",
                    metadata: {
                        vIcon: 1
                    }
                },
                bot: e.getText("BACKPACK_BUTTON_HATS")
            }, {
                icon: {
                    type: "outfit",
                    ID: "1",
                    metadata: {
                        vIcon: 1
                    }
                },
                bot: e.getText("BACKPACK_BUTTON_OUTFITS"),
                metadata: {
                    vIcon: 1
                }
            }, {
                icon: {
                    type: "weapon",
                    ID: "1",
                    metadata: {
                        vIcon: 1
                    }
                },
                bot: e.getText("BACKPACK_BUTTON_WANDS"),
                metadata: {
                    vIcon: 1
                }
            }, {
                icon: {
                    type: "boots",
                    ID: "7",
                    metadata: {
                        vIcon: 1
                    }
                },
                bot: e.getText("BACKPACK_BUTTON_BOOTS"),
                metadata: {
                    vIcon: 1
                }
            }, {
                icon: {
                    type: "follow",
                    ID: "2",
                    metadata: {
                        vIcon: 1
                    }
                },
                bot: e.getText("BACKPACK_BUTTON_BUDDIES"),
                metadata: {
                    vIcon: 1
                }
            }, {
                icon: {
                    type: "item",
                    ID: "5",
                    metadata: {
                        vIcon: 1
                    }
                },
                bot: e.getText("BACKPACK_BUTTON_ITEMS"),
                metadata: {
                    vIcon: 1
                }
            }, {
                icon: {
                    type: "item",
                    ID: "26",
                    metadata: {
                        vIcon: 1
                    }
                },
                bot: e.getText("BACKPACK_BUTTON_CURRENCY"),
                metadata: {
                    vIcon: 1
                }
            } ], !0);
            var i = this.game.prodigy.create.element(this, 0, 0);
            i.setRenderState(!0), i.add(new Phaser.TileSprite(this.game, 51, 240, 449, 40, "atlas-161", "blue-top")), 
            i.add(new Phaser.TileSprite(this.game, 51, 280, 449, 300, "atlas-161", "blue-mid")), 
            i.add(new Phaser.TileSprite(this.game, 51, 580, 449, 40, "atlas-161", "blue-top2")), 
            i.add(new Phaser.TileSprite(this.game, 500, 280, 40, 300, "atlas-161", "blue-side2")), 
            i.add(this.game.prodigy.create.sprite(500, 240, "atlas-18", "blue-corner2")), 
            i.add(this.game.prodigy.create.sprite(500, 580, "atlas-18", "blue-corner3")), 
            i.add(new Phaser.TileSprite(this.game, 631, 240, 598, 40, "atlas-161", "blue-top")), 
            i.add(new Phaser.TileSprite(this.game, 631, 280, 598, 300, "atlas-161", "blue-mid")), 
            i.add(new Phaser.TileSprite(this.game, 631, 580, 598, 40, "atlas-161", "blue-top2")), 
            i.add(new Phaser.TileSprite(this.game, 591, 280, 40, 300, "atlas-161", "blue-side")), 
            i.add(this.game.prodigy.create.sprite(591, 240, "atlas-18", "blue-corner")), 
            i.add(this.game.prodigy.create.sprite(591, 580, "atlas-18", "blue-corner4")), 
            i.add(this.game.prodigy.create.sprite(110, 63, "atlas-19", "backpack")), 
            this.game.prodigy.create.panel(i, 100, 270, 10, 8, "white").alpha = .5, 
            t.prototype.create.call(this), this.bar = this.game.prodigy.create.slider(this, 1150, 240, 380, !0, !0), 
            this.p = this.game.prodigy.create.player(this, this.player, 2, 300, 515, !1, !1, !0), 
            this.equip = this.game.prodigy.create.element(this, 80, 220), this.game.prodigy.player.backpack.hasItem("mount", 1) > 0 && this.addMountToggle(425, 525), 
            this.setMode(0), this.reload();
        }, e.prototype.setMode = function(e) {
            switch (t.prototype.setMode.call(this, e), this.clearContents(), e) {
              case 1:
                this.itemType = "outfit";
                break;

              case 2:
                this.itemType = "weapon";
                break;

              case 3:
                this.itemType = "boots";
                break;

              case 4:
                this.itemType = "follow";
                break;

              case 5:
                this.itemType = "item";
                break;

              case 6:
                this.itemType = "currency";
                break;

              default:
                this.itemType = "hat";
            }
            this.listItemsOfType();
        }, e.prototype.clearContents = function() {
            c.Util.isValid(this.content) && this.content.removeAll(!0);
        }, e.prototype.itemSelected = function(t) {
            this.game.prodigy.open.itemInfo({
                ID: t.ID,
                L: t.L,
                type: c.Util.isValid(t.type) ? t.type : this.itemType
            }, this.reload.bind(this), p.EItemInfoMode.Equip);
        }, e.prototype.reload = function(t) {
            this.equip.removeAll(!0);
            for (var e = [ "hat", "weapon", "outfit", "boots", "follow", "ring" ], i = 0; i < e.length; i++) {
                var a = {
                    ID: this.player.equipment.getEquipment(e[i]),
                    type: e[i]
                }, n = this.itemSelected.bind(this, a);
                c.Util.isValid(a.ID) || (n = this.game.prodigy.open.pouch.bind(this.game.prodigy.open, e[i], this.reload.bind(this))), 
                this.game.prodigy.create.item(this.equip, i % 2 * 340, 120 * Math.floor(i / 2) + 40, a, p.EItemInfoMode.Icon, "ring" === e[i] ? null : n);
            }
            this.game.input.clearEnterCallback(), this.p.reload(), this.bar.process(), 
            t && this.close();
        }, e.prototype.scrollItems = function(t) {
            this.page = c.Util.isValid(t) ? t : this.page, this.clearContents(), 
            this.owned = this.player.backpack.getBackpackItemsByType(this.itemType);
            for (var e = this.page; e < this.page + 6; e++) {
                var i = e - this.page;
                e >= this.owned.length ? this.game.prodigy.create.panel(this.content, i % 3 * 180, 220 * Math.floor(i / 3), 4, 5, "empty") : this.game.prodigy.create.item(this.content, i % 3 * 180, 220 * Math.floor(i / 3), {
                    ID: c.Util.isValid(this.owned[e].ID) ? this.owned[e].ID : this.owned[e].gameID,
                    type: this.itemType,
                    L: this.owned[e].L,
                    N: this.owned[e].N
                }, p.EItemInfoMode.Inventory, this.itemSelected.bind(this, this.owned[e]));
            }
        }, e.prototype.listItemsOfType = function() {
            this.owned = this.player.backpack.getBackpackItemsByType(this.itemType), 
            this.bar.reset(this.owned.length - 3, 3, -1, this.scrollItems.bind(this));
        }, e.prototype.close = function() {
            o.PlayerContainer.overrideSmoothing(null), this.game.prodigy.user.reload(), 
            t.prototype.close.call(this);
        }, e.prototype.addMountToggle = function(t, e) {
            var i = this, a = {
                type: "ButtonToggle",
                name: "toggleMount",
                x: t,
                y: e,
                width: 96,
                height: 50,
                visible: !0,
                atlasName: "atlas-144",
                frameNameOn: "buttons/mount-toggle-on",
                frameNameOff: "buttons/mount-toggle-off",
                defaultToggleState: this.game.prodigy.user.isMounted() ? 1 : 0,
                children: []
            }, n = new l.UIParser(this.game).createUIElements([ a ], this)[0];
            if (!this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(h.Breadcrumbs.FEATURE_CLOUD_MOUNT, h.Breadcrumbs.BREADCRUMB_CLOUD_MOUNT_TOGGLED)) {
                this.indicatorImage = new Phaser.Image(this.game, 0, 0, "atlas-21", "exclamation"), 
                n.addChild(this.indicatorImage);
                var o = c.Util.getCenteredXY(this.indicatorImage.width, this.indicatorImage.height + 2 * this.indicatorImage.height, 0, 0, n.width, n.height);
                this.indicatorImage.x = o.x, this.indicatorImage.y = o.y, this.game.add.tween(this.indicatorImage).to({
                    y: this.indicatorImage.y - 10
                }, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0);
            }
            n.setOnClickCallback(function() {
                i.game.broadcaster.broadcast(s.EUIEvents.MountTogglePressed, "mount"), 
                i.game.prodigy.breadcrumbManager.completeBreadcrumb(h.Breadcrumbs.FEATURE_CLOUD_MOUNT, h.Breadcrumbs.BREADCRUMB_CLOUD_MOUNT_TOGGLED), 
                c.Util.isValid(i.indicatorImage) && (i.indicatorImage.destroy(), 
                i.indicatorImage = null);
            });
        }, e;
    }(r.RenderMenu);
    e.BackpackMenu = u;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(97), s = i(40), l = i(4), h = i(214), c = i(15), p = i(25), u = i(0), d = i(18), g = i(140), y = function(t) {
        function e(e, i, a, n, o, r, s, l, h, c, p, d, g) {
            var y = t.call(this, e, i, 3, {
                hideMenu: !0,
                hideContent: !1,
                hideOverlay: !0
            }) || this;
            return y.catchEnabled = !u.Util.isValid(r) || !u.Util.isValid(r.catch) || r.catch, 
            y.mods = r || {
                run: !0,
                potionMode: !0
            }, y.spellCallback = l, y.runCallback = c, y.swapCallback = h, y.catchCallback = p, 
            y.epicAttackCallback = d, y.source = a, y.target = o, y.team = n, y.switchMode = s, 
            y.epicAttackMode = g, y.potionMode = !u.Util.isValid(y.mods.potionMode) || y.mods.potionMode, 
            y.setup(), y;
        }
        return n(e, t), e.prototype.menuSetup = function() {
            t.prototype.menuSetup.call(this);
            this.base = this.game.prodigy.create.element(this, 466, 230);
            var e = this.base.add(this.game.prodigy.create.sprite(174, 174, "atlas-17", "gear"));
            e.anchor.setTo(.5, .5), e.scale.x = e.scale.y = 1.1, this.game.add.tween(e).to({
                angle: 360
            }, 36e3, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER);
            var i = this.game.prodigy.create.sprite(174, 174, "atlas-17", "base");
            i.anchor.setTo(.5, .5), i.scale.x = i.scale.y = 1.1, this.base.add(i), 
            this.title = this.game.prodigy.create.font(this.base, 24, 150, this.game.prodigy.gameContainer.Localizer.getText("ATTACK_SELECT_ATTACK"), {
                size: 36,
                fontID: 9,
                width: 300,
                align: "center"
            }), this.content = this.game.prodigy.create.element(this.base, 0, 0), 
            this.switchMode ? this.openSwitch() : this.openMain();
        }, e.prototype.openMain = function() {
            this.openContent(this.game.prodigy.gameContainer.Localizer.getText("ATTACK_SELECT_ACTIONS"));
            var t = [];
            t.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [ {
                tag: "icon-base"
            }, {
                tag: "attack",
                x: -10,
                y: -10
            } ], this.openAttacks.bind(this))), this.potionMode && t.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [ {
                tag: "icon-base"
            }, {
                tag: "epicAttack",
                x: -10,
                y: -10
            } ], this.openEpicAttacks.bind(this)));
            var e = !1, i = null;
            if (this.catchEnabled && this.source instanceof r.PlayerContainer && this.target.source.canCatch(this.mods)) {
                i = this.game.prodigy.create.stackButton(this.content, 0, 0, [ {
                    tag: "icon-base"
                }, {
                    tag: "catch",
                    x: -10,
                    y: -10
                } ], this.openCatch.bind(this)), t.push(i);
                var a = this.target.source.catchAttempt > 1, n = l.Items.getItem("pet", this.target.source.getID()).data;
                this.game.prodigy.player.hasMembership() || 1 !== this.target.source.catchAttempt && !u.Util.isValid(n.member) || i.addImage("membership", 15, 15);
                var o = this.target.source.getCurrentHearts() <= 60 && !a;
                e = o, i.enable(o);
            }
            t.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [ {
                tag: "icon-base"
            }, {
                tag: "team",
                x: -10,
                y: -10
            } ], this.openSwitch.bind(this)));
            var s = t[t.length - 1];
            t[t.length - 1].enable(!this.mods.switchDisabled), this.potionMode && (t.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [ {
                tag: "icon-base"
            }, {
                tag: "potions-items",
                x: -10,
                y: -10
            } ], this.openPotions.bind(this))), t[t.length - 1].enable(this.game.prodigy.player.tutorial.getMenuValue(this.menuID, 2) >= 1 && !this.mods.itemUsed)), 
            this.arrangeChoices(t, 6 === t.length ? .5 * -Math.PI : 0);
            var h = this.game.prodigy.player;
            this.dialogue = this.game.prodigy.dialogue.create(), h.tutorial.getMenuValue(this.menuID, 2) < 1 ? (h.tutorial.setMenuValue(this.menuID, 2, 1), 
            this.dialogue.setText(8), this.dialogue.start("noot", !0)) : this.source.source.getCurrentHearts() < 80 && this.team.length > 1 && h.tutorial.getMenuValue(this.menuID, 0) < 1 ? (h.tutorial.setMenuValue(this.menuID, 0, 1), 
            this.dialogue.setText(9), this.dialogue.setText(10), this.dialogue.setText({
                callback: u.Util.highlightAll.bind(u.Util, [ s ], !0)
            }), this.dialogue.start("noot")) : e && h.tutorial.getMenuValue(this.menuID, 1) < 1 && h.getGold() >= 500 && !u.Util.isValid(this.mods.catchOverrideMessage) && (h.tutorial.setMenuValue(this.menuID, 1, 1), 
            this.dialogue.setText(11), this.dialogue.setText(12), this.dialogue.setText({
                callback: u.Util.highlightAll.bind(u.Util, [ i ], !0)
            }), this.dialogue.start("noot")), h.tutorial.getMenuValue(this.menuID, 2) < 2 && t[0].highlight(!0);
        }, e.prototype.openElements = function() {
            this.dialogue.close(!0), this.openContent(this.game.prodigy.gameContainer.Localizer.getText("ATTACK_SELECT_ELEMENTS"), this.openMain.bind(this));
            for (var t = [ "wizard", "fire", "water", "earth", "ice", "storm" ], e = [], i = 0; i < t.length; i++) e.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [ {
                tag: "icon-base"
            }, {
                tag: t[i]
            } ], this.openAttacks.bind(this, t[i]))), e[i].enable(this.source.source.getAttacks(t[i]).length > 0);
            this.arrangeChoices(e);
        }, e.prototype.openCatch = function(t) {
            if (u.Util.isValid(this.mods.catchOverrideMessage)) this.game.prodigy.open.epicErrorMessage(this.mods.catchOverrideMessage, {
                showClose: !1
            }, this); else {
                var e = this.source.source.kennel.getPets().length;
                if (u.Util.isValid(this.target.source.catchAttempt) && this.target.source.catchAttempt > 0 && !this.game.prodigy.player.hasMembership()) {
                    var i = {
                        conversionFunnelName: d.EFunnelEventIDs.FunnelCatchPetAgain,
                        conversionFunnelMetadata: this.target.source.getID()
                    };
                    return this.game.prodigy.network.sendConversionFunnelEvent(i.conversionFunnelName, d.EFunnelEventIDs.StageTryAgain, i.conversionFunnelMetadata), 
                    this.game.prodigy.network.sendAnalytics("Catch-Pet-Second-Try"), 
                    this.game.prodigy.open.membershipInfo(null, i, p.MembershipInfo.CATCH), 
                    void this.openMain();
                }
                var a = this.game.prodigy.gameContainer.Localizer;
                if (this.openContent(a.getText("ATTACK_SELECT_CAPTURE")), t) {
                    var n = l.Items.getItem("pet", this.target.source.getID()).data;
                    if (u.Util.isValid(n.member) && this.game.prodigy.network.sendAnalytics("Catch-Member-Pets", n.name), 
                    this.source.source.kennel.isFull()) this.game.prodigy.open.message(a.getText("COMBAT_CATCH_TOO_MANY_MESSAGE_BODY"), null, null, a.getText("MESSAGE_TITLE_UH_OH")); else if (e >= 10 && !this.source.source.hasMembership()) {
                        i = {
                            conversionFunnelName: d.EFunnelEventIDs.FunnelCatchMorePets,
                            conversionFunnelMetadata: this.target.source.getID()
                        };
                        this.game.prodigy.network.sendConversionFunnelEvent(i.conversionFunnelName, d.EFunnelEventIDs.StageCatchPet, i.conversionFunnelMetadata), 
                        this.game.prodigy.network.sendAnalytics("Catch-More-Pets"), 
                        this.game.prodigy.open.membershipInfo(null, i, p.MembershipInfo.MEMBER_PETS);
                    } else if (!this.source.source.hasMembership() && u.Util.isValid(n.member)) this.game.prodigy.open.membershipInfo(null, {}, p.MembershipInfo.MEMBER_PETS); else {
                        if (!(this.game.prodigy.player.getGold() < 500)) return this.game.prodigy.player.changeGold(-500, "Catch Pet"), 
                        this.game.prodigy.player.hasMembership() && (e >= 10 && this.game.prodigy.network.sendAnalytics("Catch-More-Pets"), 
                        this.target.source.catchAttempt > 0 && this.game.prodigy.network.sendAnalytics("Catch-Pet-Second-Try")), 
                        void this.close(this.catchCallback);
                        this.game.prodigy.open.message(a.getText("COMBAT_CATCH_GOLD_MESSAGE_BODY", this.game.prodigy.player.getGold()), null, "gold", a.getText("MESSAGE_TITLE_UH_OH"));
                    }
                    this.openMain();
                } else {
                    var o = [];
                    o.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [ {
                        tag: "icon-base"
                    }, {
                        tag: "pet-yes"
                    } ], this.openCatch.bind(this, !0))), o.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [ {
                        tag: "icon-base"
                    }, {
                        tag: "close",
                        x: 15,
                        y: 15
                    } ], this.openMain.bind(this))), this.arrangeChoices(o);
                }
            }
        }, e.prototype.openRun = function() {
            this.openContent(this.game.prodigy.gameContainer.Localizer.getText("ATTACK_SELECT_ESCAPE"));
            var t = [];
            t.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [ {
                tag: "icon-base"
            }, {
                tag: "yes",
                x: 15,
                y: 15
            } ], this.close.bind(this, this.runCallback))), t.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [ {
                tag: "icon-base"
            }, {
                tag: "close",
                x: 15,
                y: 15
            } ], this.openMain.bind(this))), this.arrangeChoices(t);
        }, e.prototype.openSwitch = function() {
            var t = this, e = this.game.prodigy.gameContainer.Localizer;
            this.openContent(e.getText("ATTACK_SELECT_MY_TEAM"), this.switchMode ? null : this.openMain.bind(this));
            for (var i = [], a = function(a) {
                var o = n.team[a].source, r = o instanceof c.Monster ? {
                    type: "pet",
                    ID: o.getID()
                } : "player";
                (i.push(n.game.prodigy.create.stackButton(n.content, 0, 0, [ {
                    tag: "icon-base"
                }, {
                    tag: r
                } ], function() {
                    if (u.Util.isValid(t.source.statusEffects)) {
                        var e = t.source.statusEffects.findIndex(function(t) {
                            return t.constructor === h.Ink;
                        });
                        -1 !== e && t.source.statusEffects.splice(e, 1);
                    }
                    t.close(t.swapCallback, a);
                })), a < n.team.length / 2) ? (i[a].addAt(n.game.prodigy.create.sprite(70, 0, "atlas-21", "icon-data"), 0), 
                n.game.prodigy.create.font(i[a], 110, 7, o.getCurrentHearts().toString(), {
                    width: 70,
                    align: "center"
                }), n.game.prodigy.create.font(i[a], 90, 48, e.getText("ATTACK_SELECT_LEVEL", o.getLevel()), {
                    width: 90,
                    align: "center"
                }).scale.set(.8, .8)) : (i[a].addAt(n.game.prodigy.create.sprite(10, 0, "atlas-21", "icon-data"), 0).scale.x = -1, 
                n.game.prodigy.create.font(i[a], -97, 7, o.getCurrentHearts().toString(), {
                    width: 70,
                    align: "center"
                }), n.game.prodigy.create.font(i[a], -80, 48, e.getText("ATTACK_SELECT_LEVEL", o.getLevel()), {
                    width: 90,
                    align: "center"
                }).scale.set(.8, .8));
                (o === n.source.source || o.isKnockedOut()) && i[a].enable(!1);
            }, n = this, o = 0; o < this.team.length; o++) a(o);
            this.arrangeChoices(i);
        }, e.prototype.openAttacks = function() {
            var t = this;
            this.dialogue.close(!0), this.openContent(this.game.prodigy.gameContainer.Localizer.getText("ATTACK_SELECT_SPELLS"), this.openMain.bind(this));
            var e, i, a = this.source.source.getAttacks(), n = {
                1: [ 0 ],
                2: [ 0, 1 ],
                3: [ 0, 0, 1 ],
                4: [ 0, 0, 1, 1 ],
                5: [ 0, 0, 0, 1, 1 ],
                6: [ 0, 0, 1, 1, 1, 0 ]
            }, o = [];
            u.Util.isValid(this.source.statusEffects) && (-1 !== (e = this.source.statusEffects.findIndex(function(t) {
                return t.constructor === h.Ink;
            })) && (i = this.source.statusEffects[e]).applyEffectTo(this));
            for (var r = Math.min(6, a.length), s = function(s) {
                var h = s < a.length ? l.game.prodigy.attacks.getAttack(a[s]) : null, c = u.Util.isValid(i) && -1 !== i.blockedSpells.indexOf(a[s]), p = function() {
                    u.Util.isValid(i) && (i.tickDuration(), u.Util.log(i.getDuration().toString()), 
                    i.getDuration() < 1 && t.source.statusEffects.splice(e, 1)), 
                    t.close(t.spellCallback, h);
                };
                o.push(l.game.prodigy.create.stackButton(l.content, 0, 0, [ {
                    tag: "icon-base"
                }, {
                    tag: h.data.element
                } ], p));
                var d = null;
                if (0 === n[r][s] ? (d = o[s].add(l.game.prodigy.create.sprite(70, 0, "atlas-21", "icon-data-2")), 
                l.game.prodigy.create.font(o[s], 90, 7, h.data.name)) : ((d = o[s].add(l.game.prodigy.create.sprite(10, 0, "atlas-21", "icon-data-2"))).scale.x = -1, 
                l.game.prodigy.create.font(o[s], -260, 7, h.data.name, {
                    width: 250,
                    align: "right"
                })), c) {
                    var y = l.game.prodigy.gameContainer.Localizer, f = new g.Ink(l.game, o[s], 0, 0, 0);
                    f.graphic.inputEnabled = !0, f.graphic.events.onInputDown.add(l.game.prodigy.open.messageBoxOkay.bind(l.game.prodigy.open, y.getText("INK_BLOT_BLOCKED_MESSAGE"), y.getText("BUTTON_OK_UPPERCASE"), null, null, y.getText("INK_BLOT_BLOCKED_TITLE"), null, null), l);
                }
                o[s].enable(!c), d.inputEnabled = !c, d.events.onInputDown.add(p);
            }, l = this, c = 0; c < r; c++) s(c);
            this.arrangeChoices(o), this.game.prodigy.player.tutorial.getMenuValue(this.menuID, 2) < 2 && o[0].highlight(!0, -100);
        }, e.prototype.openEpicAttacks = function() {
            this.dialogue.close(!0);
            try {
                this.game.prodigy.network.sendEvent("epicAttacks", {
                    action: "mainEpicAttackButtonClicked"
                });
            } catch (t) {}
            if (this.canUseEpicAttack()) {
                this.openContent(this.game.prodigy.gameContainer.Localizer.getText("ATTACK_SELECT_EPIC_SPELLS"), this.openMain.bind(this));
                for (var t = [ 38, 39, 37, 40, 41, 44, 45, 46, 47 ], e = {
                    1: [ 0 ],
                    2: [ 0, 1 ],
                    3: [ 0, 0, 1 ],
                    4: [ 0, 0, 1, 1 ],
                    5: [ 0, 0, 0, 1, 1 ],
                    6: [ 0, 0, 1, 1, 1, 0 ],
                    7: [ 0, 0, 0, 0, 1, 1, 1 ],
                    8: [ 0, 0, 0, 1, 1, 1, 1, 0 ],
                    9: [ 0, 0, 0, 0, 0, 1, 1, 1, 1 ]
                }, i = [ "hex", "flora", "arc", "dive", "mag", "chillchar", "tidus", "luma", "eclipse" ], a = [ 125, 126, 127, 128, 129, 130, 131, 132, 133 ], n = [], o = Math.min(9, t.length), r = 0; r < o; r++) {
                    var s = r < t.length ? this.game.prodigy.attacks.getAttack(t[r]) : null;
                    n.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [ {
                        tag: "icon-base"
                    }, {
                        tag: "icon-" + i[r]
                    } ], this.epicCallback.bind(this, a[r], s)));
                    var l = null, h = this.game.prodigy.player.kennel.hasPet(a[r]) ? "icon-data-5" : "icon-data-4";
                    0 === e[o][r] ? (l = n[r].add(this.game.prodigy.create.sprite(60, 0, "atlas-21", h)), 
                    this.game.prodigy.create.font(n[r], 90, 7, s.data.name)) : ((l = n[r].add(this.game.prodigy.create.sprite(20, 0, "atlas-21", h))).scale.x = -1, 
                    this.game.prodigy.create.font(n[r], -260, 7, s.data.name, {
                        width: 250,
                        align: "right"
                    })), l.inputEnabled = !0, l.events.onInputDown.add(this.epicCallback.bind(this, a[r], s));
                }
                this.arrangeChoices(n);
            }
        }, e.prototype.canUseEpicAttack = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            return "PVP" === this.game.state.current ? (this.game.prodigy.open.epicErrorMessage(t.getText("EPICS_ERROR_TOO_POWERFUL"), {
                showClose: !1
            }, this), !1) : !!this.epicAttackMode || (u.Util.isValid(this.mods.epicArena) ? (this.game.prodigy.open.epicErrorMessage(t.getText("EPICS_ERROR_ONCE_PER_CHALLENGE"), {
                textX: 13,
                showClose: !1
            }, this), !1) : (this.game.prodigy.open.epicErrorMessage(t.getText("EPICS_ERROR_ONCE_PER_BATTLE"), {
                showClose: !1
            }, this), !1));
        }, e.prototype.epicCallback = function(t, e) {
            var i = this.game.prodigy.gameContainer.Localizer;
            try {
                this.game.prodigy.network.sendEvent("epicAttacks", {
                    action: "attackButtonClicked",
                    petName: l.Items.getItem("pet", t).data.name,
                    hasEpic: this.game.prodigy.player.kennel.hasPet(t) ? "yes" : "no"
                });
            } catch (t) {}
            for (var a = !1, n = 125; n < 132; n++) this.game.prodigy.player.kennel.hasPet(n) && (a = !0);
            a && !this.game.prodigy.player.kennel.hasPet(t) && this.game.prodigy.network.sendAnalytics("other-epic-attack", "click-other", "Events"), 
            this.game.prodigy.player.kennel.hasPet(t) ? this.isEpicAlive(t) ? this.close(this.epicAttackCallback, e) : this.game.prodigy.open.message(i.getText("EPIC_NOT_READY_MESSAGE"), null, null, i.getText("EPIC_ATTACK_MESSAGE_TITLE")) : this.game.prodigy.open.buyToy(t, i.getText("BUY_TOY_EPIC_ATTACK"), "epic attacks!");
        }, e.prototype.isEpicAlive = function(t) {
            for (var e = null, i = 0; i < this.game.prodigy.player.kennel.data.length; i++) if ((e = this.game.prodigy.player.kennel.data[i]).ID === t) return !u.Util.isValid(e.hp) || e.hp > 0;
            return !1;
        }, e.prototype.openPotions = function() {
            "PVP" === this.game.state.current ? this.game.prodigy.open.potionPvpPopup(this) : this.game.prodigy.open.battlePotionSelect(this);
        }, e.prototype.openAttacks2 = function(t) {
            this.openContent("spells", this.openElements.bind(this));
            for (var e = this.source.source.getAttacks(t), i = [], a = 0; a < 6; a++) {
                var n = a < e.length ? this.game.prodigy.attacks.getAttack(e[a]) : null, o = this.close.bind(this, this.spellCallback, n);
                if (i.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [ {
                    tag: "icon-base"
                }, {
                    tag: t
                } ], o)), a < e.length) {
                    var r = null;
                    0 === a || 1 === a || 5 === a ? (r = i[a].add(this.game.prodigy.create.sprite(70, 0, "atlas-21", "icon-data-2")), 
                    this.game.prodigy.create.font(i[a], 90, 7, n.data.name)) : ((r = i[a].add(this.game.prodigy.create.sprite(10, 0, "atlas-21", "icon-data-2"))).scale.x = -1, 
                    this.game.prodigy.create.font(i[a], -260, 7, n.data.name, {
                        width: 250,
                        align: "right"
                    })), r.inputEnabled = !0, r.events.onInputDown.add(o);
                } else i[a].enable(!1);
            }
            this.arrangeChoices(i);
        }, e.prototype.openContent = function(t, e) {
            this.content.removeAll(!0), this.title.setText(t), u.Util.isValid(e) && this.game.prodigy.create.button(this.content, 135, 196, "atlas-17", "back-btn", e);
        }, e.prototype.arrangeChoices = function(t, e) {
            var i;
            i = 2 === t.length || 6 === t.length || 8 === t.length ? 0 : -Math.PI / 2, 
            u.Util.isValid(e) && (i += e);
            for (var a = 2 * Math.PI / t.length, n = 0; n < t.length; n++) t[n].x = Math.floor(174 + 165 * 1.1 * Math.cos(i + a * n)) - 40, 
            t[n].y = Math.floor(174 + 165 * 1.1 * Math.sin(i + a * n)) - 40;
        }, e.prototype.close = function(e, i) {
            if (u.Util.isValid(this.popups) && this.popups.length > 0) {
                for (var a = 0; a < this.popups.length; a++) u.Util.isValid(this.popups[a]) && this.popups[a].close();
                this.popups = [];
            }
            u.Util.isValid(e) && e(i), t.prototype.close.call(this);
        }, e;
    }(s.LegacyMenu);
    e.AttackSelect = y;
}, function(t, e, i) {
    var a = i(68);
    t.exports = function(t, e) {
        if (t !== e) {
            var i = void 0 !== t, n = null === t, o = t == t, r = a(t), s = void 0 !== e, l = null === e, h = e == e, c = a(e);
            if (!l && !c && !r && t > e || r && s && h && !l && !c || n && s && h || !i && h || !o) return 1;
            if (!n && !r && !c && t < e || c && i && o && !n && !r || l && i && o || !s && o || !h) return -1;
        }
        return 0;
    };
}, function(t, e, i) {
    var a = i(712);
    t.exports = function(t, e, i) {
        for (var n = -1, o = t.criteria, r = e.criteria, s = o.length, l = i.length; ++n < s; ) {
            var h = a(o[n], r[n]);
            if (h) return n >= l ? h : h * ("desc" == i[n] ? -1 : 1);
        }
        return t.index - e.index;
    };
}, function(t, e) {
    t.exports = function(t, e) {
        var i = t.length;
        for (t.sort(e); i--; ) t[i] = t[i].value;
        return t;
    };
}, function(t, e, i) {
    var a = i(209), n = i(19);
    t.exports = function(t, e, i, o) {
        return null == t ? [] : (n(e) || (e = null == e ? [] : [ e ]), n(i = o ? void 0 : i) || (i = null == i ? [] : [ i ]), 
        a(t, e, i));
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(4), r = function(t) {
        function e(e, i, a, n, o) {
            void 0 === o && (o = !1);
            var r = t.call(this, e, i, a, n, o) || this;
            return r.previousPlayerName = null, r.previousPlayerName = r.game.prodigy.player.appearance.data.name, 
            r.setPage(0), r;
        }
        return n(e, t), e.prototype.create = function() {
            var e = this;
            t.prototype.create.call(this), this.game.prodigy.create.button(this, 930, 140, "atlas-21", "close", function() {
                e.closeMenuWithoutSettingName();
            });
        }, e.prototype.selectNamesList = function() {
            var t = this.game.prodigy.player.appearance.getGender(), e = "male" === t ? 2 : 1;
            this.reverseGender && (e = "male" === t ? 1 : 2), this.names = o.Items.getItemsWithFilter("name", function(t) {
                return 0 === t.data.type && t.data.gender === e;
            });
        }, e.prototype.closeMenuWithoutSettingName = function() {
            this.onClose = null, this.game.prodigy.player.appearance.setName(this.previousPlayerName), 
            this.close();
        }, e;
    }(i(210).NameChange);
    e.AdvancedNameChange = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(61), r = i(0), s = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, a) || this;
            return r.pw1 = o.InputField.createInputField(r.game, r, "pw1", "", 640 - o.InputField.WIDTH_MEDIUM / 2, 190, o.InputField.WIDTH_MEDIUM, o.InputField.HEIGHT_MEDIUM), 
            r.pw1.setLabel(r, e.prodigy.gameContainer.Localizer.getText("TEXTBOX_TITLE_PASSWORD")), 
            r.pw1.hide(0), r.pw2 = o.InputField.createInputField(r.game, r, "pw2", "", 640 - o.InputField.WIDTH_MEDIUM / 2, 290, o.InputField.WIDTH_MEDIUM, o.InputField.HEIGHT_MEDIUM), 
            r.pw2.setLabel(r, e.prodigy.gameContainer.Localizer.getText("TEXTBOX_TITLE_REENTER_PASSWORD")), 
            r.pw2.hide(0), r.closeCallback = n, r.error = r.game.prodigy.create.font(r, 410, 340, "", {
                align: "center",
                width: 460
            }), r;
        }
        return n(e, t), e.prototype.open = function() {
            t.prototype.open.call(this), this.pw1.show(0), this.pw2.show(0), r.Util.isValid(this.data.password) && (this.pw2.setValue(this.data.password), 
            this.pw1.setValue(this.data.password)), this.dialogue = this.game.prodigy.dialogue.create(), 
            this.dialogue.setText(46), this.dialogue.start("noot", !0);
        }, e.prototype.close = function() {
            this.closeCallback(), t.prototype.close.call(this), this.pw1.hide(0), 
            this.pw2.hide(0);
        }, e.prototype.update = function() {
            if (t.prototype.update.call(this), this.counter++, !(this.counter < 10)) {
                this.counter = 0;
                var e = this.pw1.getValue(), i = this.pw2.getValue(), a = "", n = !1, o = this.game.prodigy.gameContainer.Localizer;
                "" === e || "" === i || (e.length < 4 ? a = o.getText("PASSWORD_ERROR_TOO_SHORT") : e.length > 10 ? a = o.getText("PASSWORD_ERROR_TOO_LONG") : e.indexOf(" ") >= 0 ? a = o.getText("PASSWORD_ERROR_NO_SPACES") : e !== i ? a = o.getText("PASSWORD_ERROR_NO_MATCH") : (a = o.getText("PASSWORD_ERROR_MATCHES"), 
                this.data.password = e, n = !0)), this.error.text !== a && this.error.setText(a), 
                !n || this.nextBtn.arrow && this.nextBtn.isActive ? n || this.pw1.arrow || (this.nextBtn.setInactive(), 
                this.pw1.highlight(!0, 280, -35), this.pw2.highlight(!0, 280, -35), 
                this.nextBtn.highlight(!1)) : (this.nextBtn.setActive(), this.nextBtn.highlight(!0), 
                this.pw1.highlight(!1), this.pw2.highlight(!1));
            }
        }, e;
    }(i(73).RegisterPage);
    e.PasswordPage = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(61), r = i(0), s = function(t) {
        function e(e, i, a, n) {
            var r = t.call(this, e, i, a) || this;
            return r.firstNameField = o.InputField.createInputField(r.game, r, "firstName", "", 370, 240, 250, 50), 
            r.firstNameField.setLabel(r, e.prodigy.gameContainer.Localizer.getText("TEXTBOX_TITLE_FIRST_NAME")), 
            r.firstNameField.hide(0), r.lastNameField = o.InputField.createInputField(r.game, r, "lastName", "", 660, 240, 250, 50), 
            r.lastNameField.setLabel(r, e.prodigy.gameContainer.Localizer.getText("TEXTBOX_TITLE_LAST_NAME")), 
            r.lastNameField.hide(0), r.closeCallback = n, r;
        }
        return n(e, t), e.prototype.open = function() {
            t.prototype.open.call(this), this.firstNameField.show(0), this.lastNameField.show(0), 
            r.Util.isValid(this.data.firstName) && this.firstNameField.setValue(this.data.firstName), 
            r.Util.isValid(this.data.lastName) && this.lastNameField.setValue(r.Util.isValid(this.data.email) ? this.data.lastName.substring(0, 1) : this.data.lastName), 
            this.dialogue = this.game.prodigy.dialogue.create(), this.lastNameField.setLabel(this, this.game.prodigy.gameContainer.Localizer.getText("TEXTBOX_TITLE_LAST_NAME_INITIAL")), 
            this.dialogue.setText(117), this.dialogue.start("noot", !0);
        }, e.prototype.next = function() {
            this.data.lastName = this.data.lastName.substring(0, 1), t.prototype.next.call(this);
        }, e.prototype.close = function() {
            this.closeCallback(), t.prototype.close.call(this), this.firstNameField.hide(0), 
            this.lastNameField.hide(0);
        }, e.prototype.update = function() {
            if (t.prototype.update.call(this), this.counter++, !(this.counter < 10)) {
                this.counter = 0;
                var e = this.firstNameField.getValue(), i = this.lastNameField.getValue();
                e = e.replace(" ", "");
                var a = "" === (i = i.replace(" ", "")), n = "" === e;
                a || (this.data.lastName = i.substring(0, 1), this.lastNameField.setValue(this.data.lastName)), 
                n || (this.data.firstName = e.substring(0, 30), this.firstNameField.setValue(this.data.firstName)), 
                n || a ? this.lastNameField.arrow || (this.nextBtn.setInactive(), 
                this.firstNameField.highlight(!0, 180, -35), this.lastNameField.highlight(!0, 180, -35), 
                this.nextBtn.highlight(!1)) : (this.data.firstName = e, this.nextBtn.arrow && this.nextBtn.isActive || (this.nextBtn.setActive(), 
                this.nextBtn.highlight(!0), this.firstNameField.highlight(!1), this.lastNameField.highlight(!1)));
            }
        }, e;
    }(i(73).RegisterPage);
    e.NamePage = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = function(t) {
        function e(e, i, a, n) {
            var s = t.call(this, e, i, a) || this;
            s.desiredTileDimensions = {
                horizontalTileNum: 24,
                verticalTileNum: 10
            }, s.defaultTileDimensions = s.game.broadcaster.broadcast(o.EAccountCreateEvents.GetBackgroundPanelTileDimensions);
            var l = e.prodigy.gameContainer.Localizer;
            s.panelA = s.game.prodigy.create.element(s, 0, 140), s.game.prodigy.create.font(s.panelA, 0, -35, l.getText("ACCOUNT_LOCATION_TITLE_CANADA"), {
                size: 36,
                fontID: 9,
                width: 200,
                align: "center",
                iconOffsetY: 7
            }), s.panelB = s.game.prodigy.create.element(s, 240, 140), s.game.prodigy.create.font(s.panelB, 0, -35, l.getText("ACCOUNT_LOCATION_TITLE_USA"), {
                size: 36,
                fontID: 9,
                width: 420,
                align: "center",
                iconOffsetY: 7
            }), s.panelC = s.game.prodigy.create.element(s, 700, 140), s.game.prodigy.create.font(s.panelC, 0, -35, l.getText("ACCOUNT_LOCATION_TITLE_OTHER"), {
                size: 36,
                fontID: 9,
                width: 200,
                align: "center",
                iconOffsetY: 7
            }), s.buttons = [], s.buttons.push(s.game.prodigy.create.textButton(s.panelA, 0, 25, {
                text: l.getText("ACCOUNT_LOCATION_ONTARIO")
            }, s.selectLocation.bind(s, 0, 1, 0))), s.buttons.push(s.game.prodigy.create.textButton(s.panelA, 0, 85, {
                text: l.getText("ACCOUNT_LOCATION_OTHER")
            }, s.selectLocation.bind(s, 1, 1, 0))), s.buttons.push(s.game.prodigy.create.textButton(s.panelB, 0, 25, {
                text: l.getText("ACCOUNT_LOCATION_COLORADO")
            }, s.selectLocation.bind(s, 2, 2, 3))), s.buttons.push(s.game.prodigy.create.textButton(s.panelB, 0, 85, {
                text: l.getText("ACCOUNT_LOCATION_FLORIDA")
            }, s.selectLocation.bind(s, 3, 2, 1))), s.buttons.push(s.game.prodigy.create.textButton(s.panelB, 0, 145, {
                text: l.getText("ACCOUNT_LOCATION_NEW_YORK")
            }, s.selectLocation.bind(s, 4, 2, 6))), s.buttons.push(s.game.prodigy.create.textButton(s.panelB, 220, 25, {
                text: l.getText("ACCOUNT_LOCATION_TENNESSEE")
            }, s.selectLocation.bind(s, 5, 2, 4))), s.buttons.push(s.game.prodigy.create.textButton(s.panelB, 220, 85, {
                text: l.getText("ACCOUNT_LOCATION_TEXAS")
            }, s.selectLocation.bind(s, 6, 2, 2))), s.buttons.push(s.game.prodigy.create.textButton(s.panelB, 220, 145, {
                text: l.getText("ACCOUNT_LOCATION_VIRGINIA")
            }, s.selectLocation.bind(s, 7, 2, 5))), s.buttons.push(s.game.prodigy.create.textButton(s.panelB, 110, 205, {
                text: l.getText("ACCOUNT_LOCATION_OTHER")
            }, s.selectLocation.bind(s, 8, 2, 0))), s.buttons.push(s.game.prodigy.create.textButton(s.panelC, 0, 25, {
                text: l.getText("ACCOUNT_LOCATION_AUSTRALIA")
            }, s.selectLocation.bind(s, 9, 3, 0))), s.buttons.push(s.game.prodigy.create.textButton(s.panelC, 0, 85, {
                text: l.getText("ACCOUNT_LOCATION_ENGLAND")
            }, s.selectLocation.bind(s, 10, 4, 0))), s.buttons.push(s.game.prodigy.create.textButton(s.panelC, 0, 145, {
                text: l.getText("ACCOUNT_LOCATION_INDIA")
            }, s.selectLocation.bind(s, 11, 5, 0))), s.buttons.push(s.game.prodigy.create.textButton(s.panelC, 0, 205, {
                text: l.getText("ACCOUNT_LOCATION_OTHER")
            }, s.selectLocation.bind(s, 12, 1, 0)));
            var h = 40 * (s.desiredTileDimensions.horizontalTileNum - s.defaultTileDimensions.horizontalTileNum) * .5;
            s.backBtn.x = s.backBtn.x - h, s.nextBtn.x = Number(s.nextBtn.x) + h;
            var c = {
                x: Number(s.backBtn.x) + Number(s.backBtn.width),
                y: 0,
                width: s.nextBtn.x - s.backBtn.x - s.backBtn.width,
                height: 0
            }, p = {
                width: s.panelC.x + s.panelC.width,
                height: s.panelC.height
            }, u = r.Util.getCenteredXY(p.width, p.height, c.x, 0, c.width, 0);
            return s.panelA.x += u.x, s.panelB.x += u.x, s.panelC.x += u.x, s.closeCallback = n, 
            s;
        }
        return n(e, t), e.prototype.open = function(e) {
            if (t.prototype.open.call(this), r.Util.isValid(this.data.classCode)) return this.data.country = null, 
            this.data.sub = null, void (-1 === e ? this.back() : this.next());
            r.Util.isValid(this.selectedButton) && this.selectedButton.deselect(), 
            this.selectLocation(this.data.locationIndex, this.data.country, this.data.sub), 
            this.dialogue = this.game.prodigy.dialogue.create(), this.dialogue.setText(47), 
            this.dialogue.start("noot", !0), this.game.broadcaster.broadcast(o.EAccountCreateEvents.SetBackgroundPanelTileDimensions, null, [ this.desiredTileDimensions.horizontalTileNum, this.desiredTileDimensions.verticalTileNum ]);
        }, e.prototype.selectLocation = function(t, e, i) {
            r.Util.isValid(this.selectedButton) && this.selectedButton.deselect(), 
            this.selectedButton = this.buttons[t], r.Util.isValid(this.selectedButton) ? (this.selectedButton.select(), 
            this.data.country = e, this.data.sub = i, this.data.curriculumTreeID = QI.getLocationID(e, i), 
            this.data.locationIndex = t, this.nextBtn.setActive(), this.nextBtn.highlight(!0)) : (this.selectedButton = null, 
            this.data.country = this.data.sub = this.data.curriculumTreeID = null, 
            this.nextBtn.setInactive(), this.nextBtn.highlight(!1));
        }, e.prototype.close = function() {
            this.closeCallback(), this.game.broadcaster.broadcast(o.EAccountCreateEvents.SetBackgroundPanelTileDimensions, null, [ this.defaultTileDimensions.horizontalTileNum, this.defaultTileDimensions.verticalTileNum ]), 
            t.prototype.close.call(this);
        }, e;
    }(i(73).RegisterPage);
    e.LocationPage = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(61), s = i(0), l = function(t) {
        function e(e, i, a, n) {
            var s = t.call(this, e, i, a) || this;
            return s.codeField = r.InputField.createInputField(s.game, s, "classcodeg", "", 640 - r.InputField.WIDTH_MEDIUM / 2, 180, r.InputField.WIDTH_MEDIUM, r.InputField.HEIGHT_MEDIUM), 
            s.codeField.setLabel(s, e.prodigy.gameContainer.Localizer.getText("TEXTBOX_TITLE_CLASS_CODE")), 
            s.codeField.hide(0), s.emailField = r.InputField.createInputField(s.game, s, "emailg", "", 640 - r.InputField.WIDTH_MEDIUM / 2, 180, r.InputField.WIDTH_MEDIUM, r.InputField.HEIGHT_MEDIUM), 
            s.emailField.setLabel(s, e.prodigy.gameContainer.Localizer.getText("TEXTBOX_TITLE_PARENT_EMAIL")), 
            s.emailField.hide(0), s.btns = s.game.prodigy.create.element(s, 640, 270), 
            s.spinner = s.add(s.game.prodigy.create.sprite(860, 200, "atlas-18", "loading")), 
            s.spinner.anchor.setTo(.5, .5), s.game.add.tween(s.spinner).to({
                angle: 360
            }, 2e3, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !1), 
            s.spinner.visible = !1, s.statusIcon = s.add(s.game.prodigy.create.sprite(860, 200, "atlas-21", "close")), 
            s.statusIcon.anchor.setTo(.5, .5), s.statusIcon.visible = !1, s.statusIcon.inputEnabled = !0, 
            s.statusIcon.events.onInputDown.add(s.tryNext.bind(s)), s.dialogue = s.game.prodigy.dialogue.create(), 
            s.onDestroy.add(s.handleDestroy.bind(s)), s.closeCallback = n, s;
        }
        return n(e, t), e.prototype.handleDestroy = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this);
        }, e.prototype.setClassCodeContent = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            this.nextBtn.setInactive(), this.codeField.highlight(!1, 180, -35), 
            this.nextBtn.highlight(!1), this.btns.removeAll(!0), this.mode = "cc", 
            this.codeField.show(0), this.emailField.hide(0);
            var e = this.game.prodigy.create.panel(this.btns, -300, 0, 7, 3, "button");
            e.setClickable(this.getCode.bind(this)), this.game.prodigy.create.font(e, 0, 25, t.getText("CLASS_CODE_PROMPT_TEACHER_CLICK_0"), {
                size: 20,
                align: "center",
                width: 280
            }), this.game.prodigy.create.font(e, 0, 60, t.getText("CLASS_CODE_PROMPT_TEACHER_CLICK_1"), {
                size: 20,
                align: "center",
                width: 280
            });
            var i = this.game.prodigy.create.panel(this.btns, 20, 0, 7, 3, "button");
            i.setClickable(this.setEmailContent.bind(this)), this.game.prodigy.create.font(i, 0, 25, t.getText("CLASS_CODE_PLAYING_AT_HOME"), {
                size: 20,
                align: "center",
                width: 280
            }), this.game.prodigy.create.font(i, 0, 60, t.getText("BUTTON_CLICK_HERE"), {
                size: 20,
                align: "center",
                width: 280
            }), this.dialogue.setText(44), this.dialogue.start("noot", !0), o.GameConstants.get("GameConstants.Build.DEBUG") && (this.game.prodigy.automation.addTrigger({
                ID: "autoclick-getClassCode",
                context: this,
                callback: function() {
                    return {
                        x: Number(e.worldPosition.x) + .5 * e.width,
                        y: Number(e.worldPosition.y) + .5 * e.height
                    };
                }
            }), this.game.prodigy.automation.addTrigger({
                ID: "autoclick-playingAtHome",
                context: this,
                callback: function() {
                    return {
                        x: Number(i.worldPosition.x) + .5 * i.width,
                        y: Number(i.worldPosition.y) + .5 * i.height
                    };
                }
            }));
        }, e.prototype.setEmailContent = function() {
            this.nextBtn.setInactive(), this.emailField.highlight(!1, 180, -35), 
            this.nextBtn.highlight(!1), this.btns.removeAll(!0), this.mode = "email", 
            this.emailField.show(0), this.codeField.hide(0);
            var t = this.game.prodigy.create.panel(this.btns, -140, 0, 7, 3, "button"), e = this.game.prodigy.gameContainer.Localizer;
            t.setClickable(this.setClassCodeContent.bind(this)), this.game.prodigy.create.font(t, 0, 25, e.getText("CLASS_CODE_PLAYING_AT_SCHOOL"), {
                size: 20,
                align: "center",
                width: 280
            }), this.game.prodigy.create.font(t, 0, 60, e.getText("BUTTON_CLICK_HERE"), {
                size: 20,
                align: "center",
                width: 280
            }), this.dialogue.setText(66), this.dialogue.start("noot", !0);
        }, e.prototype.tryNext = function() {
            "yes" === this.statusIcon.frameName && this.next();
        }, e.prototype.getCode = function() {
            this.codeField.clearEvents(!1), this.game.input.keyboard.clearCaptures(), 
            prodigyWeb.getClassCode.open(this.setCode.bind(this));
        }, e.prototype.setCode = function(t) {
            this.codeField.clearEvents(!0), this.game.input.keyboard.addKeyCapture([ Phaser.Keyboard.BACKSPACE ]), 
            this.codeField.setValue(t);
        }, e.prototype.open = function() {
            t.prototype.open.call(this), this.status = {
                code: "",
                valid: !1
            }, s.Util.isValid(this.data.email) ? this.setEmailContent() : (s.Util.isValid(this.data.classCode) && this.setCode(this.data.classCode), 
            this.setClassCodeContent()), this.data.parentEmail = void 0, this.data.classCode = null, 
            this.nextBtn.setInactive();
        }, e.prototype.close = function() {
            this.codeField.hide(0), this.emailField.hide(0), this.closeCallback(this.data.parentEmail, this.data.classCode), 
            t.prototype.close.call(this);
        }, e.prototype.update = function() {
            if (t.prototype.update.call(this), this.counter++, !(this.counter < 10)) if (this.counter = 0, 
            "cc" === this.mode) {
                var e = this.codeField.getValue();
                this.statusIcon.visible = s.Util.isValid(e) && e.length >= 6, s.Util.isValid(e) && 6 === e.length ? e !== this.status.code || !this.status.valid || this.nextBtn.arrow && this.nextBtn.isActive ? this.validating || e === this.status.code || (this.statusIcon.visible = !1, 
                this.nextBtn.setInactive(), this.validateCode(e)) : (this.statusIcon.frameName = "yes", 
                this.nextBtn.setActive(), this.nextBtn.highlight(!0), this.codeField.highlight(!1)) : this.codeField.arrow || (this.statusIcon.frameName = "close", 
                this.nextBtn.setInactive(), this.codeField.highlight(!0, 180, -35), 
                this.nextBtn.highlight(!1));
            } else if ("email" === this.mode) {
                this.statusIcon.visible = !1;
                var i = this.emailField.getValue();
                s.Util.isValid(i) && i.length > 0 ? (this.data.parentEmail = i, 
                this.data.classCode = null, this.data.teacherID = null, this.nextBtn.arrow && this.nextBtn.isActive || (this.nextBtn.setActive(), 
                this.nextBtn.highlight(!0), this.emailField.highlight(!1))) : this.emailField.arrow || (this.nextBtn.setInactive(), 
                this.emailField.highlight(!0, 180, -35), this.nextBtn.highlight(!1));
            }
        }, e.prototype.validationComplete = function(t, e) {
            this.statusIcon.visible = !0, this.spinner.visible = this.validating = !1, 
            this.status.valid = t, t ? (this.data.email = null, this.data.classCode = e, 
            this.statusIcon.frameName = "yes") : this.statusIcon.frameName = "close";
        }, e.prototype.validateCode = function(t) {
            var e = this;
            this.statusIcon.visible = !1, this.status = {
                code: t,
                valid: !1
            }, this.spinner.visible = this.validating = !0, this.game.prodigy.network.verifyClassCode(t, function() {
                e.validationComplete(!0, t);
            }, function() {
                e.validationComplete(!1, t);
            });
        }, e;
    }(i(73).RegisterPage);
    e.ClassCodePage = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(720), s = i(211), l = i(719), h = i(718), c = i(717), p = i(12), u = i(3), d = i(13), g = i(0), y = i(62), f = function(t) {
        function e(e, i, a, n) {
            void 0 === a && (a = {}), void 0 === n && (n = null);
            var o = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
            if (o.username = null, o.password = null, o.hasLocation = !1, o.googleData = null, 
            o.data = null, o.eventType = null, o.backgroundContainer = null, o.rightArrowPanel = null, 
            o.leftArrowPanel = null, o.content = null, o.spinner = null, o.modules = [], 
            o.backgroundPanel = null, o.onClose = n, o.username = a.username, o.password = a.password, 
            o.hasLocation = g.Util.isValid(a.curriculumTreeID), g.Util.isValid(a.idToken)) {
                var r = window.gapi.auth2.getAuthInstance().currentUser.get();
                o.googleData = {
                    idToken: a.idToken,
                    name: r.getBasicProfile().getName(),
                    email: r.getBasicProfile().getEmail()
                }, e.prodigy.network.sendAnonymousEvent("game_complete", {
                    type: "signup_start",
                    name: "google_signup"
                });
            } else e.prodigy.network.sendAnonymousEvent("game_complete", {
                type: "signup_start",
                name: "default_signup"
            });
            return o.data = {
                firstName: "",
                lastName: "",
                curriculumTreeID: g.Util.isValid(a.curriculumTreeID) ? a.curriculumTreeID : 1
            }, o.data.player = new d.Player(o.game, !0), o.data.player.setDefault("male"), 
            o.data.player.appearance.setName(null), o.data.player.data.new = !0, 
            o.create(), o;
        }
        return n(e, t), e.prototype.create = function() {
            this.game.broadcaster.addAppListener(u.EAccountCreateEvents.SetBackgroundPanelTileDimensions, this.setBackgroundPanelSize.bind(this), this), 
            this.game.broadcaster.addAppListener(u.EAccountCreateEvents.GetBackgroundPanelTileDimensions, function() {
                return {
                    horizontalTileNum: 18,
                    verticalTileNum: 10
                };
            }, this), this.addTransparent(), this.backgroundContainer = this.game.prodigy.create.element(this.background), 
            this.rightArrowPanel = this.game.prodigy.create.panel(this.backgroundContainer, 0, 0, 4, 6, "shine"), 
            this.leftArrowPanel = this.game.prodigy.create.panel(this.backgroundContainer, 0, 0, 4, 6, "shine"), 
            this.setBackgroundPanelSize(18, 10), t.prototype.create.call(this), 
            this.content = this.game.prodigy.create.element(this), this.spinner = this.add(this.game.prodigy.create.sprite(640, 300, "atlas-18", "loading")), 
            this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
                angle: 360
            }, 2e3, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !1), 
            this.spinner.visible = !1, this.modules = [], g.Util.isValid(this.username) || (this.modules.push(new r.ClassCodePage(this.game, this.content, this.data, this.onClassCodeClose.bind(this))), 
            g.Util.isValid(this.googleData) || (this.modules.push(new h.NamePage(this.game, this.content, this.data, this.onNamePageClose.bind(this))), 
            this.modules.push(new c.PasswordPage(this.game, this.content, this.data, this.onPasswordPageClose.bind(this))))), 
            this.hasLocation || this.modules.push(new l.LocationPage(this.game, this.content, this.data, this.onLocationPageClose.bind(this))), 
            this.modules.push(new s.GradePage(this.game, this.content, this.data, this.onGradePageClose.bind(this)));
            for (var e = 0; e < this.modules.length; e++) {
                var i = this.modules[e - 1], a = this.modules[e + 1];
                this.modules[e].init(i ? i.open.bind(i, -1) : this.close.bind(this, !1), a ? a.open.bind(a, 1) : this.processResults.bind(this));
            }
            this.modules[0].open();
            var n = this.game.prodigy.create.panel(this, 5, 40, 5, 1, "blue");
            n.scale.y = -1, n.setClickable(y.NetworkManager.openWebsite.bind(this.game.prodigy.network, "www.prodigygame.com/privacy-policy/")), 
            n.alpha = .5, this.game.prodigy.create.font(n, 0, 35, this.game.prodigy.gameContainer.Localizer.getText("ACCOUNT_CREATE_PRIVACY_POLICY"), {
                align: "center",
                width: 200
            }).scale.y = -1;
        }, e.prototype.setBackgroundPanelSize = function(t, e) {
            g.Util.isValid(this.backgroundPanel) && this.backgroundPanel.destroy(), 
            this.backgroundPanel = this.game.prodigy.create.panel(this.backgroundContainer, 0, 60, t, e, "shine"), 
            this.backgroundPanel.x = g.Util.getCenteredXY(this.backgroundPanel.width, 0, 0, 0, 1280, 0).x, 
            this.backgroundPanel.add(new Phaser.TileSprite(this.game, 11, 40, this.backgroundPanel.width - 22, 40, "atlas-161", "blue-top")), 
            this.backgroundPanel.add(new Phaser.TileSprite(this.game, 11, 80, this.backgroundPanel.width - 22, this.backgroundPanel.height - 160, "atlas-161", "blue-mid")), 
            this.backgroundPanel.add(new Phaser.TileSprite(this.game, 11, this.backgroundPanel.height - 80, this.backgroundPanel.width - 22, 40, "atlas-161", "blue-top2")), 
            this.leftArrowPanel.x = this.backgroundPanel.x - this.leftArrowPanel.width + 40, 
            this.leftArrowPanel.y = g.Util.getCenteredXY(0, this.leftArrowPanel.height, 0, this.backgroundPanel.y, 0, this.backgroundPanel.height).y, 
            this.rightArrowPanel.x = this.backgroundPanel.x + this.backgroundPanel.width - 40, 
            this.rightArrowPanel.y = this.leftArrowPanel.y, this.process();
        }, e.prototype.processResults = function() {
            this.content.removeAll(!0);
            var t = {
                data: this.data.player.data,
                equipment: this.data.player.equipment.data,
                pets: this.data.player.kennel.data,
                inventory: this.data.player.backpack.data,
                appearance: this.data.player.appearance.data
            };
            if (this.spinner.visible = !0, g.Util.isValid(this.username)) {
                var e = {
                    chosenGrade: this.data.grade,
                    grade: this.data.grade
                };
                g.Util.isValid(this.data.curriculumTreeID) && (e.curriculumTreeID = this.data.curriculumTreeID), 
                this.game.prodigy.network.updateUser(e, this.createCharacter.bind(this, t));
            } else if (t.data = JSON.stringify(t.data), t.equipment = JSON.stringify(t.equipment), 
            t.pets = JSON.stringify(t.pets), t.inventory = JSON.stringify(t.inventory), 
            t.appearance = JSON.stringify(t.appearance), t.grade = t.chosenGrade = this.data.grade, 
            t.password = this.data.password, g.Util.isValid(this.data.curriculumTreeID) && (t.curriculumTreeID = this.data.curriculumTreeID), 
            t.classCode = this.data.classCode, t.email = this.data.email, t.parentEmail = this.data.parentEmail, 
            g.Util.isValid(this.googleData)) {
                t.idToken = this.googleData.idToken, t.email = decodeURIComponent(this.googleData.email);
                var i = decodeURI(this.googleData.name).split("+"), a = i[0], n = i.length > 1 ? i[i.length - 1] : "";
                this.game.prodigy.network.createPlayerWithGoogle(a, n, t, this.fail.bind(this), this.close.bind(this, !0));
            } else this.game.prodigy.network.createPlayer(this.data.firstName, this.data.lastName, t, this.fail.bind(this), this.complete.bind(this));
        }, e.prototype.createCharacter = function(t) {
            this.game.prodigy.network.createCharacter(this.game.prodigy.player.userID, t, this.fail.bind(this), this.complete.bind(this));
        }, e.prototype.fail = function() {
            this.spinner.visible = !1;
            var t = this.game.prodigy.event.create();
            t.yesNoText(52, "noot", this.close.bind(this, !1)), t.function(this.processResults.bind(this)), 
            t.start();
        }, e.prototype.complete = function(t) {
            this.spinner.visible = !1;
            var e = this.game.prodigy.gameContainer.Localizer;
            this.game.prodigy.create.font(this.content, 240, 190, e.getText("ACCOUNT_CREATE_USERNAME"), {
                size: 36,
                fontID: 9,
                width: 280,
                align: "right"
            }), this.game.prodigy.create.font(this.content, 240, 270, e.getText("ACCOUNT_CREATE_PASSWORD"), {
                size: 36,
                fontID: 9,
                width: 280,
                align: "right"
            }), this.game.prodigy.create.font(this.content, 560, 190, t.username, {
                size: 40
            }), this.game.prodigy.create.font(this.content, 560, 270, t.password, {
                size: 40
            }), g.Util.isValid(this.data.email) && g.Util.setCookie("prodigyUsername", g.Util.isValid(t.username) ? t.username : "", 5), 
            g.Util.isValid(this.username) ? this.close(!0, this.username, this.password) : this.showResults(t);
        }, e.prototype.showResults = function(t) {
            var e = this.game.prodigy.event.create();
            e.text(51, "noot"), e.function(this.close.bind(this, !0, t.username, t.password)), 
            e.start();
        }, e.prototype.onClassCodeClose = function(t, e) {
            g.Util.isValid(t) ? (this.eventType = "parent_email", this.game.prodigy.network.sendAnonymousEvent("game_complete", {
                type: this.eventType,
                name: "parent_email"
            })) : g.Util.isValid(e) ? this.eventType = "NA" : (this.eventType = "class_code", 
            this.game.prodigy.network.sendAnonymousEvent("game_complete", {
                type: this.eventType,
                name: "class_code"
            }));
        }, e.prototype.onNamePageClose = function() {
            this.game.prodigy.network.sendAnonymousEvent("game_complete", {
                type: this.eventType,
                name: "first_last_name"
            });
        }, e.prototype.onPasswordPageClose = function() {
            this.game.prodigy.network.sendAnonymousEvent("game_complete", {
                type: this.eventType,
                name: "password"
            });
        }, e.prototype.onLocationPageClose = function() {
            this.game.prodigy.network.sendAnonymousEvent("game_complete", {
                type: this.eventType,
                name: "location"
            });
        }, e.prototype.onGradePageClose = function() {
            this.game.prodigy.network.sendAnonymousEvent("game_complete", {
                type: this.eventType,
                name: "grade"
            });
        }, e.prototype.close = function(e, i, a) {
            this.game.prodigy.network.logout(!0), e && this.game.prodigy.network.sendAnonymousEvent("game_complete", {
                type: this.eventType,
                name: "account_review"
            }), t.prototype.close.call(this, e, i, a);
        }, e.prototype.destroy = function(e, i) {
            this.game.broadcaster.removeAppListener(u.EAccountCreateEvents.SetBackgroundPanelTileDimensions, this), 
            this.game.broadcaster.removeAppListener(u.EAccountCreateEvents.GetBackgroundPanelTileDimensions, this), 
            t.prototype.destroy.call(this, e, i);
        }, e;
    }(p.RenderMenu);
    e.AccountCreate = f;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(121), o = i(0), r = function() {
        function t(t) {
            this.overrideClassModeEnabled = !1, this.lockedZones = [ "lamplight", "house", "dyno" ], 
            this.lockedMaps = [], this.game = t;
        }
        return t.prototype.setClassMode = function() {
            this.isClassMode([ 3 ]) && this.game.prodigy.player.setAllowsHouseVisitors(!1);
        }, t.prototype.isClassMode = function(t) {
            var e = new Date(2018, 7, 20).getTime(), i = new Date(2018, 8, 7).getTime();
            return (this.overrideClassModeEnabled || o.Util.inTestGroupsBetweenSessionDates(this.game.prodigy.player, t, 1e3, 10, e, i)) && this.game.prodigy.player.hasCompletedTutorial() && o.Util.isValid(this.game.prodigy.player.locationSelectionType) && this.game.prodigy.player.locationSelectionType === a.GameConstants.get("GameConstants.LocationSelection.SCHOOL");
        }, t.prototype.isLockedZone = function(t) {
            for (var e = t.split("-"), i = 0; i < this.lockedZones.length; i++) if (e[0] === this.lockedZones[i]) return !0;
            for (i = 0; i < this.lockedMaps.length; i++) if (t === this.lockedMaps[i]) return !0;
            return !1;
        }, t.prototype.onClassMode = function(t) {
            var e = t.split("-"), i = n.WorldMap.getZoneData(e[0]);
            this.game.prodigy.open.classModeMessage(this.game.prodigy.gameContainer.Localizer.getText(i.classCodeKey), null, null, this.game.prodigy.gameContainer.Localizer.getText(i.nameKey), i.classModeFrame, {
                isModal: !0
            });
        }, t;
    }();
    e.ClassModeController = r;
}, function(t, e) {
    var i = 800, a = 16, n = Date.now;
    t.exports = function(t) {
        var e = 0, o = 0;
        return function() {
            var r = n(), s = a - (r - o);
            if (o = r, s > 0) {
                if (++e >= i) return arguments[0];
            } else e = 0;
            return t.apply(void 0, arguments);
        };
    };
}, function(t, e) {
    t.exports = function(t) {
        return function() {
            return t;
        };
    };
}, function(t, e, i) {
    var a = i(724), n = i(262), o = i(82), r = n ? function(t, e) {
        return n(t, "toString", {
            configurable: !0,
            enumerable: !1,
            value: a(e),
            writable: !0
        });
    } : o;
    t.exports = r;
}, function(t, e, i) {
    var a = i(725), n = i(723)(a);
    t.exports = n;
}, function(t, e) {
    t.exports = function(t, e, i) {
        switch (i.length) {
          case 0:
            return t.call(e);

          case 1:
            return t.call(e, i[0]);

          case 2:
            return t.call(e, i[0], i[1]);

          case 3:
            return t.call(e, i[0], i[1], i[2]);
        }
        return t.apply(e, i);
    };
}, function(t, e, i) {
    var a = i(727), n = Math.max;
    t.exports = function(t, e, i) {
        return e = n(void 0 === e ? t.length - 1 : e, 0), function() {
            for (var o = arguments, r = -1, s = n(o.length - e, 0), l = Array(s); ++r < s; ) l[r] = o[e + r];
            r = -1;
            for (var h = Array(e + 1); ++r < e; ) h[r] = o[r];
            return h[e] = i(l), a(t, this, h);
        };
    };
}, function(t, e, i) {
    var a = i(67), n = i(213), o = i(80), r = n(function(t, e) {
        a(e, o(e), t);
    });
    t.exports = r;
}, function(t, e, i) {
    t.exports = i(729);
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t(t) {
            this.game = null, this.receivedEvents = {}, this.automationTriggers = [], 
            this.game = t;
        }
        return t.prototype.startListen = function(t, e) {
            var i = this;
            void 0 === e && (e = !1);
            this.game.broadcaster.addAppListener(t, function() {
                for (var a = [], n = 0; n < arguments.length; n++) a[n] = arguments[n];
                i.receivedEvents[t] = a, e && i.stopListen(t);
            }, this);
        }, t.prototype.retrieveOccurrence = function(t) {
            var e = this.receivedEvents[t];
            return a.Util.isValid(e) ? e : null;
        }, t.prototype.removeOccurrence = function(t) {
            return !!this.receivedEvents.hasOwnProperty(t) && (delete this.receivedEvents[t], 
            !0);
        }, t.prototype.stopListen = function(t) {
            this.game.broadcaster.removeAppListener(t, this);
        }, t.prototype.addTrigger = function(t) {
            a.Util.isValid(t.context) || (t.context = this.game), t.ID = t.ID.toLowerCase().replace(/[^\w\s-]/gi, "").replace(" ", "-");
            for (var e = t.ID, i = 1, n = !0; n; ) {
                for (var o = !0, r = 0; r < this.automationTriggers.length; r++) {
                    if (this.automationTriggers[r].ID === e) {
                        o = !1;
                        break;
                    }
                }
                o ? (t.ID = e, n = !1) : (e = t.ID + "_" + i, i++);
            }
            this.automationTriggers.unshift(t);
        }, t.prototype.trigger = function(t, e) {
            var i, n = this.automationTriggers.slice(), o = null;
            if (a.Util.isValid(t)) {
                for (i = 0; i < n.length; i++) if ((o = n[i]).ID === t && a.Util.isValid(o.callback)) return o.callback(e);
            } else for (i = 0; i < n.length; i++) a.Util.log("[" + n[i].ID + "]");
            return null;
        }, t.prototype.removeTrigger = function(t, e) {
            var i = e;
            a.Util.isValid(e) || (i = this.game);
            for (var n = 0; n < this.automationTriggers.length; n++) {
                var o = this.automationTriggers[n];
                o.ID === t && o.context === i && (this.automationTriggers.splice(n, 1), 
                n--);
            }
        }, t.prototype.removeAllTriggers = function(t) {
            var e = t;
            a.Util.isValid(t) || (e = this.game);
            for (var i = 0; i < this.automationTriggers.length; i++) {
                this.automationTriggers[i].context === e && (this.automationTriggers.splice(i, 1), 
                i--);
            }
        }, t;
    }();
    e.AutomationController = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(4), n = i(30), o = i(0), r = function() {
        function t(t) {
            this.game = null, this.currentBgm = null, this.currentVoice = null, 
            this.game = t;
            var e = null, i = null;
            void 0 !== document.hidden ? (e = "hidden", i = "visibilitychange") : void 0 !== document.msHidden ? (e = "msHidden", 
            i = "msvisibilitychange") : void 0 !== document.webkitHidden ? (e = "webkitHidden", 
            i = "webkitvisibilitychange") : void 0 !== document.mozHidden && (e = "mozHidden", 
            i = "mozvisibilitychange"), null !== e && document.addEventListener(i, this.onVisibilityChanged.bind(this, e));
        }
        return t.prototype.clearOldSounds = function() {
            for (var t = this.game.sound._sounds.length - 1; t >= 0; ) this.game.sound._sounds[t].isPlaying || this.game.sound._sounds.splice(t, 1), 
            t--;
        }, t.prototype.setMute = function(t) {
            t ? (this.setSFXVolume(0), this.setBGMVolume(0)) : (this.setSFXVolume(.6), 
            this.setBGMVolume(.2));
        }, t.prototype.playSFX = function(t, e, i, n) {
            void 0 === i && (i = null), void 0 === n && (n = 1), this.clearOldSounds();
            var r = a.Items.getItem("sfx", t).data.clips[e], s = this.getSFXVolume() * n, l = this.game.sound.add("sfx-" + t, s);
            return o.Util.isValid(i) && l.onMarkerComplete.add(i), l.addMarker("play", r.s, r.d), 
            l.play("play", 0, s), l;
        }, t.prototype.playSound = function(t, e) {
            void 0 === e && (e = !1);
            var i = n.Device.getIOSVersion();
            this.clearOldSounds();
            var a = this.getSFXVolume(), o = this.game.add.sound("sfx-" + t, a);
            return o.play("", 0, a, e && (null === i || i > 9)), o;
        }, t.prototype.playSFXOld = function(t, e, i) {
            this.clearOldSounds();
            var a = this.getSFXVolume(), n = {
                ui: {
                    whoosh: {
                        s: 0,
                        d: 1
                    },
                    blop: {
                        s: 1,
                        d: 1
                    },
                    heart: {
                        s: 2,
                        d: 1
                    },
                    pop: {
                        s: 3,
                        d: 1
                    },
                    dig: {
                        s: 4,
                        d: 1
                    }
                },
                world: {
                    item: {
                        s: 0,
                        d: 3
                    },
                    monster: {
                        s: 3,
                        d: 3
                    },
                    tick: {
                        s: 6,
                        d: 1
                    }
                },
                "dance-dance": {
                    bell: {
                        s: 0,
                        d: 1
                    },
                    ready: {
                        s: 1,
                        d: 1
                    },
                    go: {
                        s: 2,
                        d: 1.2
                    },
                    victory: {
                        s: 3.2,
                        d: 1.8
                    },
                    aw: {
                        s: 5,
                        d: 1
                    },
                    yay: {
                        s: 6,
                        d: 1
                    },
                    damage: {
                        s: 7,
                        d: 1
                    }
                },
                "dino-dig": {
                    bell: {
                        s: 0,
                        d: 1
                    }
                },
                skywatch: {
                    machines: {
                        s: 0,
                        d: 4
                    },
                    elevator: {
                        s: 4,
                        d: 3.5
                    },
                    wind: {
                        s: 8,
                        d: 3
                    },
                    window: {
                        s: 11,
                        d: 2
                    }
                },
                "bonfire-spire-q5": {
                    plop: {
                        s: 0,
                        d: .5
                    },
                    cooking: {
                        s: 1,
                        d: 3
                    }
                },
                "bonfire-spire-q6-and-q14": {
                    eating: {
                        s: 0,
                        d: 3
                    }
                },
                "atlas-17": {
                    run: {
                        s: 0,
                        d: 1
                    },
                    "normal-hit": {
                        s: 1,
                        d: .9
                    },
                    "critical-hit": {
                        s: 2,
                        d: 1.9
                    },
                    cast: {
                        s: 4,
                        d: 1
                    },
                    miss: {
                        s: 6,
                        d: 1.5
                    },
                    "level-up": {
                        s: 8,
                        d: 1
                    }
                },
                pvp: {
                    victory: {
                        s: 0,
                        d: 2
                    }
                },
                "house-intro": {
                    door: {
                        s: 0,
                        d: 1
                    },
                    knock: {
                        s: 1,
                        d: 1
                    }
                },
                lamplight: {
                    door: {
                        s: 0,
                        d: 1
                    }
                },
                "lamplight-pets": {
                    window: {
                        s: 0,
                        d: 2
                    }
                },
                "shipwreck-shore": {
                    "boss-monster": {
                        s: 0,
                        d: 2.8
                    },
                    "clear-ink": {
                        s: 3,
                        d: 2.8
                    },
                    squeak: {
                        s: 6,
                        d: .8
                    },
                    camera: {
                        s: 7,
                        d: 2
                    }
                },
                titan: {
                    cloud: {
                        s: 0,
                        d: 3
                    }
                }
            }[t][e], r = this.game.sound.add("sfx-" + t, a);
            return o.Util.isValid(i) && r.onMarkerComplete.add(i), r.addMarker("play", n.s, n.d), 
            r.play("play", 0, a), r;
        }, t.prototype.setSFXVolume = function(t) {
            this.game.prodigy.player.setSFXVolume(t);
        }, t.prototype.getSFXVolume = function() {
            return this.game.prodigy.player.getSettings().sfxVolume;
        }, t.prototype.playBGM = function(t, e) {
            var i = n.Device.getIOSVersion();
            if (null === i || i > 9) {
                var a = "bgm-" + t;
                if (!o.Util.isValid(this.currentBgm) || this.currentBgm.key !== a) {
                    var r = this.getBGMVolume();
                    o.Util.isValid(this.currentBgm) && this.currentBgm.stop(), this.clearOldSounds(), 
                    this.currentBgm = this.game.add.audio(a, r, e), this.currentBgm.play("", 0, r, e);
                }
            }
        }, t.prototype.playBGMOld = function(t, e) {
            if (!o.Util.isValid(this.currentBgm) || this.currentBgm.key !== t) {
                var i = this.getBGMVolume();
                o.Util.isValid(this.currentBgm) && this.currentBgm.stop(), this.clearOldSounds(), 
                this.currentBgm = this.game.add.audio(t, i, e), this.currentBgm.play("", 0, i, e);
            }
        }, t.prototype.pauseBGM = function() {
            o.Util.isValid(this.currentBgm) && this.currentBgm.pause();
        }, t.prototype.resumeBGM = function() {
            o.Util.isValid(this.currentBgm) && this.currentBgm.resume();
        }, t.prototype.setBGMVolume = function(t, e) {
            void 0 === e && (e = !1), o.Util.isValid(this.currentBgm) && (e ? this.game.add.tween(this.currentBgm).to({
                volume: t
            }, 500, Phaser.Easing.Linear.None).start() : this.currentBgm.volume = t), 
            this.game.prodigy.player.setBGMVolume(t);
        }, t.prototype.getBGMVolume = function() {
            return this.game.prodigy.player.getSettings().bgmVolume;
        }, t.prototype.playVoice = function(t, e, i, a) {
            void 0 === i && (i = 0), void 0 === a && (a = -1), this.clearOldSounds(), 
            o.Util.isValid(this.currentVoice) && this.currentVoice.stop();
            var n = this.getVoiceVolume(), r = this.game.add.sound(t, n);
            o.Util.isValid(e) && r.onMarkerComplete.add(e);
            var s = -1 !== a ? a : r.duration;
            return r.addMarker("play", i, s), r.play("play", 0, n), this.currentVoice = r, 
            r;
        }, t.prototype.stopVoice = function() {
            o.Util.isValid(this.currentVoice) && (this.currentVoice.stop(), this.currentVoice = null);
        }, t.prototype.setVoiceVolume = function(t) {
            this.game.prodigy.player.setVoiceVolume(t);
        }, t.prototype.getVoiceVolume = function() {
            return this.game.prodigy.player.getSettings().voiceVolume;
        }, t.prototype.onVisibilityChanged = function(t) {
            (n.Device.isIOS() || n.Device.isAndroid()) && (document[t] ? (this.pauseBGM(), 
            this.currentVoice && this.currentVoice.pause()) : (this.resumeBGM(), 
            this.currentVoice && this.currentVoice.resume()));
        }, t;
    }();
    e.AudioController = r;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(0), o = function() {
        function t(t) {
            this.game = null, this.game = t;
        }
        return t.prototype.getData = function(t) {
            var e = this, i = this.game.prodigy.player, a = i.backpack, o = i.kennel, r = i.house, s = i.state, l = this.game.prodigy.education, h = this.game.prodigy.gameContainer.Localizer, c = [ {
                tag: h.getText("ACHIEVEMENT_GROUP_GENERAL"),
                data: [ {
                    ID: 1,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_NEWBIE_NAME"),
                        desc: h.getText("ACHIEVEMENT_NEWBIE_DESC"),
                        valueFunction: i.hasCompletedTutorial.bind(i),
                        ranks: [ 1 ]
                    },
                    metatype: "achievement",
                    metadata: {
                        icon: "icon-weapon-1"
                    }
                }, {
                    ID: 2,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_COIN_COLLECT_NAME"),
                        desc: h.getText("ACHIEVEMENT_COIN_COLLECT_DESC"),
                        valueFunction: this.processValue.bind(this, "gE"),
                        ranks: [ 1e3, 1e5, 1e6 ]
                    },
                    metatype: "achievement",
                    metadata: {
                        icon: "icon-item-26"
                    }
                }, {
                    ID: 3,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SHOPAHOLIC_NAME"),
                        desc: h.getText("ACHIEVEMENT_SHOPAHOLIC_DESC"),
                        valueFunction: this.processValue.bind(this, "gS"),
                        ranks: [ 1e3, 1e5, 1e6 ]
                    },
                    metatype: "achievement",
                    metadata: {
                        icon: "catalogue"
                    }
                }, {
                    ID: 4,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_RUNWAY_MODEL_NAME"),
                        desc: h.getText("ACHIEVEMENT_RUNWAY_MODEL_DESC"),
                        valueFunction: a.getItemCount.bind(a, [ "outfit", "boots", "hat", "weapon", "relic" ]),
                        ranks: [ 10, 50, 100 ]
                    },
                    metatype: "achievement",
                    metadata: {
                        icon: "icon-outfit-1"
                    }
                }, {
                    ID: 5,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_PACKRAT_NAME"),
                        desc: h.getText("ACHIEVEMENT_PACKRAT_DESC"),
                        valueFunction: a.getItemCount.bind(a, [ "item" ]),
                        ranks: [ 10, 25, 50 ]
                    },
                    metatype: "achievement",
                    metadata: {
                        icon: "icon-item-2"
                    }
                }, {
                    ID: 6,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_ANTIQUARIAN_NAME"),
                        desc: h.getText("ACHIEVEMENT_ANTIQUARIAN_DESC"),
                        valueFunction: r.getItemCount.bind(r),
                        ranks: [ 10, 25, 50 ]
                    },
                    metatype: "achievement",
                    metadata: {
                        icon: 1,
                        iconAtlas: "atlas-23"
                    }
                }, {
                    ID: 7,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_DECORATOR_NAME"),
                        desc: h.getText("ACHIEVEMENT_DECORATOR_DESC"),
                        valueFunction: r.getActiveCount.bind(r),
                        ranks: [ 10, 25, 50 ]
                    },
                    metatype: "achievement",
                    metadata: {
                        icon: 5,
                        iconAtlas: "atlas-23"
                    }
                }, {
                    ID: 8,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_CATCH_PET_NAME"),
                        desc: h.getText("ACHIEVEMENT_CATCH_PET_DESC"),
                        valueFunction: o.getNumPets.bind(o),
                        ranks: [ 5, 20, 50, 100 ]
                    },
                    metadata: {
                        icon: "pet"
                    }
                } ]
            }, {
                tag: h.getText("ACHIEVEMENT_GROUP_BATTLE"),
                data: [ {
                    ID: 9,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_PRODIGY_NAME"),
                        desc: h.getText("ACHIEVEMENT_PRODIGY_DESC"),
                        valueFunction: i.getLevel.bind(i),
                        ranks: [ 5, 20, 50, 75, 100 ]
                    },
                    metadata: {
                        icon: "star2"
                    }
                }, {
                    ID: 10,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SPELLMASTER_NAME"),
                        desc: h.getText("ACHIEVEMENT_SPELLMASTER_DESC"),
                        valueFunction: i.getNumAttacks.bind(i),
                        ranks: [ 3, 6, 10, 15 ]
                    },
                    metadata: {
                        icon: "book"
                    }
                }, {
                    ID: 11,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_MONSTER_HUNTER_NAME"),
                        desc: h.getText("ACHIEVEMENT_MONSTER_HUNTER_DESC"),
                        valueFunction: this.processValue.bind(this, "kills"),
                        ranks: [ 10, 50, 250, 500, 1e3 ]
                    },
                    metadata: {
                        icon: "boss"
                    }
                } ]
            }, {
                tag: h.getText("ACHIEVEMENT_GROUP_PVP"),
                data: [ {
                    ID: 12,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_CHALLENGER_NAME"),
                        desc: h.getText("ACHIEVEMENT_CHALLENGER_DESC"),
                        valueFunction: i.getWins.bind(i),
                        ranks: [ 5, 25, 50, 100, 250 ]
                    },
                    metadata: {
                        icon: "icon-weapon-4"
                    }
                }, {
                    ID: 13,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_CHAMP_NAME"),
                        desc: h.getText("ACHIEVEMENT_CHAMP_DESC"),
                        valueFunction: i.getArenaPoints.bind(i),
                        ranks: [ 1e3, 3e3, 8e3, 15e3 ]
                    },
                    metadata: {
                        icon: "icon-weapon-6"
                    }
                } ]
            }, {
                tag: h.getText("ACHIEVEMENT_GROUP_LAMPLIGHT"),
                data: [ {
                    ID: 14,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_TOURIST_NAME"),
                        desc: h.getText("ACHIEVEMENT_TOURIST_DESC"),
                        valueFunction: this.getZero.bind(this),
                        ranks: [ 5 ]
                    },
                    metadata: {
                        icon: "icon-boots-7"
                    }
                } ]
            }, {
                tag: h.getText("ACHIEVEMENT_GROUP_FIREFLY"),
                data: [ {
                    ID: 15,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_FOREST_QUESTS_NAME"),
                        desc: h.getText("ACHIEVEMENT_FOREST_QUESTS_DESC"),
                        valueFunction: s.getCompletedQuests.bind(s, "forest"),
                        ranks: [ 12 ]
                    },
                    metadata: {
                        icon: "icon-key-3"
                    }
                }, {
                    ID: 16,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_FOREST_SET_NAME"),
                        desc: h.getText("ACHIEVEMENT_FOREST_SET_DESC"),
                        valueFunction: a.hasItems.bind(a, [ {
                            ID: 33,
                            type: "hat"
                        }, {
                            ID: 24,
                            type: "weapon"
                        }, {
                            ID: 29,
                            type: "outfit"
                        } ]),
                        ranks: [ 3 ]
                    },
                    metadata: {
                        icon: "icon-outfit-29"
                    }
                }, {
                    ID: 17,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_FOREST_CHESTS_NAME"),
                        desc: h.getText("ACHIEVEMENT_FOREST_CHESTS_DESC"),
                        valueFunction: s.getZoneVars.bind(s, this.game, "forest", "chest"),
                        ranks: [ 4 ]
                    },
                    metadata: {
                        icon: 21,
                        iconAtlas: "atlas-23"
                    }
                }, {
                    ID: 18,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_FOREST_DEFEAT_WIZARDS_NAME"),
                        desc: h.getText("ACHIEVEMENT_FOREST_DEFEAT_WIZARDS_DESC"),
                        valueFunction: s.getZoneVars.bind(s, this.game, "forest", "wizard"),
                        ranks: [ 4 ]
                    },
                    metadata: {
                        icon: "icon-weapon-22"
                    }
                } ]
            }, {
                tag: h.getText("ACHIEVEMENT_GROUP_SHIVERCHILL"),
                data: [ {
                    ID: 19,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SHIVERCHILL_QUESTS_NAME"),
                        desc: h.getText("ACHIEVEMENT_SHIVERCHILL_QUESTS_DESC"),
                        valueFunction: s.getCompletedQuests.bind(s, "shiverchill"),
                        ranks: [ 15 ]
                    },
                    metadata: {
                        icon: "icon-key-4"
                    }
                }, {
                    ID: 20,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SHIVERCHILL_SET_NAME"),
                        desc: h.getText("ACHIEVEMENT_SHIVERCHILL_SET_DESC"),
                        valueFunction: a.hasItems.bind(a, [ {
                            ID: 37,
                            type: "hat"
                        }, {
                            ID: 63,
                            type: "weapon"
                        }, {
                            ID: 33,
                            type: "outfit"
                        } ]),
                        ranks: [ 3 ]
                    },
                    metadata: {
                        icon: "icon-outfit-33"
                    }
                }, {
                    ID: 21,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SHIVERCHILL_CHESTS_NAME"),
                        desc: h.getText("ACHIEVEMENT_SHIVERCHILL_CHESTS_DESC"),
                        valueFunction: s.getZoneVars.bind(s, this.game, "shiverchill", "chest"),
                        ranks: [ 6 ]
                    },
                    metadata: {
                        icon: 21,
                        iconAtlas: "atlas-23"
                    }
                }, {
                    ID: 22,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SHIVERCHILL_DEFEAT_WIZARDS_NAME"),
                        desc: h.getText("ACHIEVEMENT_SHIVERCHILL_DEFEAT_WIZARDS_DESC"),
                        valueFunction: s.getZoneVars.bind(s, this.game, "shiverchill", "wizard"),
                        ranks: [ 4 ]
                    },
                    metadata: {
                        icon: "icon-weapon-22"
                    }
                }, {
                    ID: 23,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_TURN_UP_HEAT_NAME"),
                        desc: h.getText("ACHIEVEMENT_TURN_UP_HEAT_DESC"),
                        valueFunction: s.get.bind(s, "zone-shiverchill-9"),
                        ranks: [ 4 ]
                    },
                    metadata: {
                        icon: "icon-item-71"
                    }
                } ]
            }, {
                tag: h.getText("ACHIEVEMENT_GROUP_SKYWATCH"),
                data: [ {
                    ID: 24,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SKYWATCH_QUESTS_NAME"),
                        desc: h.getText("ACHIEVEMENT_SKYWATCH_QUESTS_DESC"),
                        valueFunction: s.getCompletedQuests.bind(s, "skywatch"),
                        ranks: [ 13 ]
                    },
                    metadata: {
                        icon: "icon-key-10"
                    }
                }, {
                    ID: 25,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SKYWATCH_SET_NAME"),
                        desc: h.getText("ACHIEVEMENT_SKYWATCH_SET_DESC"),
                        valueFunction: a.hasItems.bind(a, [ {
                            ID: 41,
                            type: "hat"
                        }, {
                            ID: 67,
                            type: "weapon"
                        }, {
                            ID: 37,
                            type: "outfit"
                        } ]),
                        ranks: [ 3 ]
                    },
                    metadata: {
                        icon: "icon-outfit-37"
                    }
                }, {
                    ID: 26,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SKYWATCH_CHESTS_NAME"),
                        desc: h.getText("ACHIEVEMENT_SKYWATCH_CHESTS_DESC"),
                        valueFunction: s.getZoneVars.bind(s, this.game, "skywatch", "chest"),
                        ranks: [ 5 ]
                    },
                    metadata: {
                        icon: 21,
                        iconAtlas: "atlas-23"
                    }
                }, {
                    ID: 27,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SKYWATCH_DEFEAT_WIZARDS_NAME"),
                        desc: h.getText("ACHIEVEMENT_SKYWATCH_DEFEAT_WIZARDS_DESC"),
                        valueFunction: s.getZoneVars.bind(s, this.game, "skywatch", "wizard"),
                        ranks: [ 2 ]
                    },
                    metadata: {
                        icon: "icon-weapon-22"
                    }
                } ]
            }, {
                tag: h.getText("ACHIEVEMENT_GROUP_BONFIRE"),
                data: [ {
                    ID: 33,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_BONFIRE_QUESTS_NAME"),
                        desc: h.getText("ACHIEVEMENT_BONFIRE_QUESTS_DESC"),
                        valueFunction: s.getCompletedQuests.bind(s, "bonfire_spire"),
                        ranks: [ 14 ]
                    },
                    metadata: {
                        icon: "icon-key-11"
                    }
                }, {
                    ID: 34,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_BONFIRE_SET_NAME"),
                        desc: h.getText("ACHIEVEMENT_BONFIRE_SET_DESC"),
                        valueFunction: a.hasItems.bind(a, [ {
                            ID: 38,
                            type: "hat"
                        }, {
                            ID: 64,
                            type: "weapon"
                        }, {
                            ID: 34,
                            type: "outfit"
                        } ]),
                        ranks: [ 3 ]
                    },
                    metadata: {
                        icon: "icon-outfit-34"
                    }
                }, {
                    ID: 35,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_BONFIRE_CHESTS_NAME"),
                        desc: h.getText("ACHIEVEMENT_BONFIRE_CHESTS_DESC"),
                        valueFunction: s.getZoneVars.bind(s, this.game, "bonfire_spire", "chest"),
                        ranks: [ 7 ]
                    },
                    metadata: {
                        icon: 21,
                        iconAtlas: "atlas-23"
                    }
                }, {
                    ID: 36,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_BONFIRE_DEFEAT_WIZARDS_NAME"),
                        desc: h.getText("ACHIEVEMENT_BONFIRE_DEFEAT_WIZARDS_DESC"),
                        valueFunction: s.getZoneVars.bind(s, this.game, "bonfire_spire", "wizard"),
                        ranks: [ 2 ]
                    },
                    metadata: {
                        icon: "icon-weapon-22"
                    }
                } ]
            }, {
                tag: h.getText("ACHIEVEMENT_GROUP_SHIPWRECK"),
                data: [ {
                    ID: 37,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SHIPWRECK_QUESTS_NAME"),
                        desc: h.getText("ACHIEVEMENT_SHIPWRECK_QUESTS_DESC"),
                        valueFunction: s.getCompletedQuests.bind(s, "shipwreck_shore"),
                        ranks: [ 11 ]
                    },
                    metadata: {
                        icon: "icon-key-17"
                    }
                }, {
                    ID: 38,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SHIPWRECK_SET_NAME"),
                        desc: h.getText("ACHIEVEMENT_SHIPWRECK_SET_DESC"),
                        valueFunction: a.hasItems.bind(a, [ {
                            ID: 76,
                            type: "hat"
                        }, {
                            ID: 57,
                            type: "outfit"
                        }, {
                            ID: 29,
                            type: "boots"
                        } ]),
                        ranks: [ 3 ]
                    },
                    metadata: {
                        icon: "icon-outfit-57"
                    }
                }, {
                    ID: 39,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SHIPWRECK_CHESTS_NAME"),
                        desc: h.getText("ACHIEVEMENT_SHIPWRECK_CHESTS_DESC"),
                        valueFunction: function() {
                            return e.game.prodigy.world.getZone("shipwreck_shore").getCompletedStatesCount([ "chestA3", "chestA5", "chestB5", "chestB13", "chestB10" ]);
                        },
                        ranks: [ 5 ]
                    },
                    metadata: {
                        icon: 21,
                        iconAtlas: "atlas-23"
                    }
                }, {
                    ID: 40,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SHIPWRECK_DEFEAT_WIZARDS_NAME"),
                        desc: h.getText("ACHIEVEMENT_SHIPWRECK_DEFEAT_WIZARDS_DESC"),
                        valueFunction: function() {
                            return e.game.prodigy.world.getZone("shipwreck_shore").getCompletedStatesCount([ "wizardC8", "wizardA5" ]);
                        },
                        ranks: [ 2 ]
                    },
                    metadata: {
                        icon: "icon-weapon-22"
                    }
                }, {
                    ID: 41,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SHIPWRECK_CLEAR_INK_NAME"),
                        desc: h.getText("ACHIEVEMENT_SHIPWRECK_CLEAR_INK_DESC"),
                        valueFunction: function() {
                            return e.game.prodigy.world.getZone("shipwreck_shore").getCompletedStatesCount([ "inkA5", "inkB5", "inkB6", "inkA7", "inkB7", "inkC9" ]);
                        },
                        ranks: [ 6 ]
                    },
                    metadata: {
                        icon: "icon-item-112"
                    }
                } ]
            }, {
                tag: h.getText("ACHIEVEMENT_GROUP_EDUCATION"),
                data: [ {
                    ID: 28,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_QUESTIONNAIRE_NAME"),
                        desc: h.getText("ACHIEVEMENT_QUESTIONNAIRE_DESC"),
                        valueFunction: this.processValue.bind(this, "qC"),
                        ranks: [ 20, 100, 500, 1e3 ]
                    },
                    metadata: {
                        icon: "icon-hat-5"
                    }
                }, {
                    ID: 29,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_SEQUENCING_NAME"),
                        desc: h.getText("ACHIEVEMENT_SEQUENCING_DESC"),
                        valueFunction: i.getSpellStreak.bind(i),
                        ranks: [ 3, 5, 10 ]
                    },
                    metadata: {
                        icon: "icon-hat-4"
                    }
                }, {
                    ID: 30,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_MASTER_SKILLS_NAME"),
                        desc: h.getText("ACHIEVEMENT_MASTER_SKILLS_DESC"),
                        valueFunction: l.getMasteredSkills.bind(l),
                        ranks: [ 5, 20, 50, 100 ]
                    },
                    metadata: {
                        icon: "icon-hat-6"
                    }
                } ]
            }, {
                tag: h.getText("ACHIEVEMENT_GROUP_EXPLORATION"),
                data: [ {
                    ID: 31,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_TOWER_FLOORS_NAME"),
                        desc: h.getText("ACHIEVEMENT_TOWER_FLOORS_DESC"),
                        valueFunction: i.getTowerProgress.bind(i),
                        ranks: [ 25, 50, 75, 100 ]
                    },
                    metadata: {
                        icon: "icon-weapon-68"
                    }
                }, {
                    ID: 32,
                    type: "achievement",
                    data: {
                        name: h.getText("ACHIEVEMENT_COLISEUM_DEFEAT_NAME"),
                        desc: h.getText("ACHIEVEMENT_COLISEUM_DEFEAT_DESC"),
                        valueFunction: i.getColiseum.bind(i),
                        ranks: [ 5, 10, 15, 20 ]
                    },
                    metadata: {
                        icon: "icon-weapon-62"
                    }
                } ]
            } ];
            if (!n.Util.isValid(t)) return c;
            for (var p = 0; p < c.length; p++) for (var u = c[p], d = 0; d < u.data.length; d++) if (u.data[d].ID === t) return u.data[d];
        }, t.prototype.process = function() {
            if (a.default.get("GameConstants.Debug.DISABLE_ACHIEVEMENTS")) return [];
            for (var t = [], e = this.getData(), i = 0; i < e.length; i++) for (var n = e[i].data, o = 0; o < n.length; o++) {
                var r = n[o], s = this.game.prodigy.player.achievements.getProgress(r.ID);
                if (!(s >= r.data.ranks.length)) r.data.valueFunction() >= r.data.ranks[s] && (t.push(r), 
                this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                    type: "achievement",
                    name: r.data.name,
                    id: r.ID,
                    rank: s
                }));
            }
            return t;
        }, t.prototype.getZero = function() {
            return 0;
        }, t.prototype.getCompletionText = function(t) {
            var e = this.game.prodigy.gameContainer.Localizer;
            return this.game.prodigy.player.achievements.getProgress(t.ID) >= t.data.ranks.length ? e.getText("ACHIEVEMENT_FINISHED") : this.getProgress(t) >= 1 ? e.getText("ACHIEVEMENT_COMPLETED") : this.getCurrent(t) + " / " + this.getTarget(t);
        }, t.prototype.getCurrent = function(t) {
            var e = t.data.valueFunction();
            return (!n.Util.isValid(e) || e < 0) && (e = 0), e;
        }, t.prototype.getTarget = function(t) {
            var e = this.game.prodigy.player.achievements.getProgress(t.ID);
            return e >= t.data.ranks.length ? 0 : t.data.ranks[e];
        }, t.prototype.getProgress = function(t) {
            if (this.game.prodigy.player.achievements.getProgress(t.ID) >= t.data.ranks.length) return 1;
            var e = this.getCurrent(t), i = this.getTarget(t);
            return Math.min(1, e / i);
        }, t.prototype.getName = function(t) {
            return t.data.name;
        }, t.prototype.getDesc = function(t) {
            var e = this.game.prodigy.player.achievements.getProgress(t.ID);
            e >= t.data.ranks.length && e--;
            var i = t.data.ranks[e];
            return n.Util.isValid(i) ? t.data.desc.replace("[X]", i.toString()) : "Nothing";
        }, t.prototype.processValue = function(t) {
            return this.game.prodigy.player.achievements.get(t);
        }, t;
    }();
    e.AchievementController = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t(t) {
            this.game = null, this.duration = 1, this.game = t;
        }
        return t.prototype.getDuration = function() {
            return this.duration;
        }, t.prototype.setDuration = function(t) {
            this.duration = t;
        }, t.prototype.tickDuration = function() {
            this.duration--;
        }, t.prototype.init = function(t) {
            this.setDuration(t.duration);
        }, t.prototype.apply = function() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        }, t;
    }();
    e.StatusEffect = a;
}, function(t, e, i) {
    var a = i(98), n = i(102);
    t.exports = function(t) {
        return a(n(t));
    };
}, function(t, e, i) {
    var a = i(100), n = i(98);
    t.exports = function(t) {
        return n(a(t));
    };
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(214), n = function() {
        function t() {}
        return t.prototype.getById = function(t) {
            switch (t) {
              case 0:
                return a.Ink;

              default:
                return null;
            }
        }, t;
    }();
    e.StatusEffectManager = n;
}, function(t, e, i) {
    var a = i(156), n = i(255);
    t.exports = function(t, e) {
        return e.length < 2 ? t : a(t, n(e, 0, -1));
    };
}, function(t, e) {
    t.exports = function(t) {
        var e = null == t ? 0 : t.length;
        return e ? t[e - 1] : void 0;
    };
}, function(t, e, i) {
    var a = i(155), n = i(739), o = i(738), r = i(83);
    t.exports = function(t, e) {
        return e = a(e, t), null == (t = o(t, e)) || delete t[r(n(e))];
    };
}, function(t, e, i) {
    var a = i(740), n = i(105), o = Array.prototype.splice;
    t.exports = function(t, e) {
        for (var i = t ? e.length : 0, r = i - 1; i--; ) {
            var s = e[i];
            if (i == r || s !== l) {
                var l = s;
                n(s) ? o.call(t, s, 1) : a(t, s);
            }
        }
        return t;
    };
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, n = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, o = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = i(11), l = i(101), h = i(215), c = i(0), p = function() {
        function t(t) {
            this.logger = null, this.recording = !1, this.canRecord = !0, this.logger = t, 
            document.cookie = "sc.ASP.NET_SESSIONID=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;", 
            c.Util.isValid(window.SessionCamRecorder) && (window.sessionCamRecorder = new SessionCamRecorder("https://ws.sessioncam.com/Record", "", 100));
        }
        return t.prototype.startRecording = function(t) {
            void 0 === t && (t = null), l(window.sessionCamRecorder) ? this.logger.log("Called start but Session cam is not loaded", r.LogLevel.Warning) : this.canRecord ? this.recording ? this.logger.log("Called start recording while already recording the session", r.LogLevel.Warning) : (this.logger.log("Starting SessionCam recording", r.LogLevel.Verbose), 
            null !== t && this.tagRecording(t), window.sessionCamRecorder.start(), 
            this.recording = !0) : this.logger.log("Recording is currently disabled", r.LogLevel.Warning);
        }, t.prototype.stopRecording = function() {
            this.recording ? (this.logger.log("Ending SessionCam recording", r.LogLevel.Verbose), 
            this.recording = !1, window.sessionCamRecorder.endSession()) : this.logger.log("Called end session without a session running", r.LogLevel.Warning);
        }, t.prototype.isRecording = function() {
            return this.recording;
        }, t.prototype.tagRecording = function(t) {
            window.sessioncamConfiguration || (window.sessioncamConfiguration = {}), 
            window.sessioncamConfiguration.customDataObjects ? h(window.sessioncamConfiguration.customDataObjects, function(t) {
                return "campaign-tag" === t.key;
            }) : window.sessioncamConfiguration.customDataObjects = [], window.sessioncamConfiguration.customDataObjects.push({
                key: "campaign-tag",
                value: t
            });
        }, t.prototype.setAllowRecording = function(t) {
            void 0 === t && (t = !0), this.canRecord = t;
        }, t = a([ s.injectable(), o(0, s.inject(r.GameIdentifiers.LoggerService)), n("design:paramtypes", [ Object ]) ], t);
    }();
    e.SessionCamSessionRecorder = p;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(11), o = function() {
        function t() {
            this.cacheTime = {}, this.expiryMilliseconds = 3e5;
        }
        return t.prototype.setExpiryTimeInMinutes = function(t) {
            this.expiryMilliseconds = 6e4 * t;
        }, t.prototype.setExpiryTimeInSeconds = function(t) {
            this.expiryMilliseconds = 1e3 * t;
        }, t.prototype.cacheItem = function(t) {
            this.cacheTime[t] = Date.now();
        }, t.prototype.hasExpired = function(t) {
            return void 0 === this.cacheTime[t] || Date.now() > this.cacheTime[t] + this.expiryMilliseconds;
        }, t.prototype.invalidate = function() {
            this.cacheTime = {};
        }, t = a([ n.injectable() ], t);
    }();
    e.TimedCacheExpiration = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, r = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, s = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var l = i(11), h = i(125), c = i(93), p = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            return i.cache = {}, i;
        }
        return n(e, t), e.prototype.hasValue = function(t) {
            return void 0 !== this.cache[t];
        }, e.prototype.invalidate = function() {
            t.prototype.invalidate.call(this), this.cache = {};
        }, e.prototype.retrieveValueFromStorage = function(t) {
            return this.cache[t];
        }, e.prototype.storeValueInStorage = function(t, e) {
            this.cache[t] = e;
        }, e = o([ l.injectable(), s(0, l.inject(c.InjectionIdentifiers.CacheExpirationStrategy)), r("design:paramtypes", [ Object ]) ], e);
    }(h.CacheStorage);
    e.MemoryCacheStorage = p;
}, function(t, e, i) {
    "use strict";
    function a(t) {
        for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i]);
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), a(i(221)), a(i(220)), a(i(219)), a(i(218)), a(i(217)), a(i(216));
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(11), o = function() {
        function t() {}
        return e = t, t.prototype.deserializeCollection = function(t) {
            return e.deserializeCollection(t, this.deserialize);
        }, t.prototype.serializeCollection = function(t) {
            return e.serializeCollection(t, this.serialize);
        }, t.deserializeCollection = function(t, e) {
            for (var i = [], a = 0; a < t.length; a++) i.push(e(t[a]));
            return i;
        }, t.serializeCollection = function(t, e) {
            for (var i = [], a = 0; a < t.length; a++) i.push(e(t[a]));
            return i;
        }, t = e = a([ n.injectable() ], t);
        var e;
    }();
    e.DataFactory = o;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(11), o = function() {
        function t() {}
        return t = a([ n.injectable() ], t);
    }();
    e.Service = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, r = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, s = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    }, l = this && this.__awaiter || function(t, e, i, a) {
        return new (i || (i = Promise))(function(n, o) {
            function r(t) {
                try {
                    l(a.next(t));
                } catch (t) {
                    o(t);
                }
            }
            function s(t) {
                try {
                    l(a.throw(t));
                } catch (t) {
                    o(t);
                }
            }
            function l(t) {
                t.done ? n(t.value) : new i(function(e) {
                    e(t.value);
                }).then(r, s);
            }
            l((a = a.apply(t, e || [])).next());
        });
    }, h = this && this.__generator || function(t, e) {
        var i, a, n, o, r = {
            label: 0,
            sent: function() {
                if (1 & n[0]) throw n[1];
                return n[1];
            },
            trys: [],
            ops: []
        };
        return o = {
            next: s(0),
            throw: s(1),
            return: s(2)
        }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this;
        }), o;
        function s(o) {
            return function(s) {
                return function(o) {
                    if (i) throw new TypeError("Generator is already executing.");
                    for (;r; ) try {
                        if (i = 1, a && (n = a[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(n = n.call(a, o[1])).done) return n;
                        switch (a = 0, n && (o = [ 0, n.value ]), o[0]) {
                          case 0:
                          case 1:
                            n = o;
                            break;

                          case 4:
                            return r.label++, {
                                value: o[1],
                                done: !1
                            };

                          case 5:
                            r.label++, a = o[1], o = [ 0 ];
                            continue;

                          case 7:
                            o = r.ops.pop(), r.trys.pop();
                            continue;

                          default:
                            if (!(n = (n = r.trys).length > 0 && n[n.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                r = 0;
                                continue;
                            }
                            if (3 === o[0] && (!n || o[1] > n[0] && o[1] < n[3])) {
                                r.label = o[1];
                                break;
                            }
                            if (6 === o[0] && r.label < n[1]) {
                                r.label = n[1], n = o;
                                break;
                            }
                            if (n && r.label < n[2]) {
                                r.label = n[2], r.ops.push(o);
                                break;
                            }
                            n[2] && r.ops.pop(), r.trys.pop();
                            continue;
                        }
                        o = e.call(t, r);
                    } catch (t) {
                        o = [ 6, t ], a = 0;
                    } finally {
                        i = n = 0;
                    }
                    if (5 & o[0]) throw o[1];
                    return {
                        value: o[0] ? o[1] : void 0,
                        done: !0
                    };
                }([ o, s ]);
            };
        }
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var c = i(11), p = i(125), u = i(93), d = i(747), g = i(223), y = i(222), f = function(t) {
        function e(e, i) {
            var a = t.call(this) || this;
            return a.dataProvider = null, a.cache = null, a.factoriesContainer = null, 
            a.dataProvider = e, a.cache = i, a.factoriesContainer = new c.Container(), 
            a.factoriesContainer.bind("v1").to(y.StoreDataFactory), a;
        }
        return n(e, t), e.prototype.getStore = function(t) {
            return l(this, void 0, void 0, function() {
                var e, i, a, n;
                return h(this, function(o) {
                    switch (o.label) {
                      case 0:
                        return e = "store-" + t, null !== (i = this.cache.getValue(e)) ? [ 3, 2 ] : [ 4, this.dataProvider.getStore(t) ];

                      case 1:
                        a = o.sent(), n = this.factoriesContainer.get("v" + a.version), 
                        i = n.deserialize(a), this.cache.storeValue(e, i), o.label = 2;

                      case 2:
                        return [ 2, i ];
                    }
                });
            });
        }, e.prototype.invalidateCache = function() {
            this.cache.invalidate();
        }, e = o([ c.injectable(), s(0, c.inject(u.InjectionIdentifiers.StoreDataProvider)), s(1, c.inject(u.InjectionIdentifiers.CacheStorageStrategy)), r("design:paramtypes", [ g.IStoreDataProvider, p.CacheStorage ]) ], e);
    }(d.Service);
    e.StoreService = f;
}, function(t, e, i) {
    "use strict";
    function a(t) {
        for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i]);
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), a(i(223)), a(i(748)), a(i(222)), a(i(745));
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(224), n = function() {
        function t(t, e, i, a) {
            this.errors = [], this.statusCode = e, this.status = t, this.data = i, 
            this.serverTime = new Date(), void 0 !== a && this.addError(a);
        }
        return t.prototype.addError = function(t) {
            this.errors.push(t);
        }, t.prototype.setData = function(t) {
            this.data = t;
        }, t.prototype.setServerVersion = function(t) {
            this.serverVersion = t;
        }, t.prototype.setServerTime = function(t) {
            this.serverTime = t;
        }, t.prototype.serialize = function() {
            return {
                data: this.data,
                errors: this.errors.map(function(t) {
                    return t.getObjectForJSON();
                }),
                serverTime: this.serverTime,
                serverVersion: this.serverVersion,
                status: this.status,
                statusCode: this.statusCode
            };
        }, t.prototype.serializeToJSON = function() {
            return JSON.stringify(this.serialize());
        }, t.prototype.send = function(t) {
            t(this.statusCode, this.serialize());
        }, t.deserialize = function(e) {
            var i = new t(e.status, e.statusCode, e.data);
            return e.errors.forEach(function(t) {
                i.addError(new a.ApplicationError(t.id, t.reason_code, t.backtrace.join("\n")));
            }), i.serverTime = new Date(Date.parse(e.serverTime)), i.serverVersion = e.serverVersion, 
            i;
        }, t.deserializeFromJSON = function(t) {
            var e = JSON.parse(t);
            return this.deserialize(e);
        }, t;
    }();
    e.Response = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(225), n = i(8), o = i(10), r = i(742), s = i(737), l = i(2), h = i(41), c = i(733), p = i(732), u = i(731), d = i(123), g = i(722), y = i(634), f = i(633), m = i(632), _ = i(631), v = i(57), E = i(630), b = i(629), O = i(628), T = i(622), A = i(3), I = i(620), w = i(594), C = i(99), S = i(592), P = i(590), D = i(589), L = i(212), x = i(587), M = i(586), N = i(585), U = i(584), k = i(583), R = i(582), B = i(581), G = i(577), V = i(576), H = i(575), F = i(574), j = i(186), z = i(13), W = i(190), K = i(62), Y = i(572), q = i(309), Q = i(308), X = i(307), Z = i(304), J = i(178), $ = i(303), tt = i(302), et = i(0), it = function() {
        function t(t) {
            var e = this;
            this.version = null, this.gameContainer = null, this.game = null, this.gameAPIData = null, 
            this.player = null, this.user = null, this.breadcrumbManager = null, 
            this.updateCount = 0, this.assets = null, this.load = null, this.graphics = null, 
            this.audio = null, this.mail = null, this.giftBoxController = null, 
            this.battle = null, this.pvp = null, this.achievements = null, this.surveyController = null, 
            this.colorReplaceController = null, this.automation = null, this.notifications = null, 
            this.open = null, this.effects = null, this.event = null, this.dialogue = null, 
            this.education = null, this.skin = null, this.create = null, this.icon = null, 
            this.animation = null, this.mailNetworkHandler = null, this.friendsListNetworkHandler = null, 
            this.titansNetworkHandler = null, this.pvpNetworkHandler = null, this.messageListener = null, 
            this.world = null, this.dialogues = null, this.hints = null, this.dailyLoginBonusRewards = null, 
            this.debug = null, this.totalElapsedTime = 0, this.elapsedTimeBuffer = [], 
            this.frameBufferMaxSize = 60, this.previousNow = 0, this.textureBelow = null, 
            this.textureAbove = null, this.textureMenu = null, this.spinner = null, 
            this.version = "version " + l.GameConstants.get("GameConstants.Build.VERSION"), 
            this.gameContainer = new n.GameContainer(), this.gameContainer.initialize(), 
            this.gameContainer.Localizer.setDataSource(new n.LocalLanguageDataCollection(i(114))), 
            this.gameContainer.Logger.setColoredLogsEnabled(!t.device.ie), this.gameContainer.Logger.setLogLevel(l.GameConstants.get("GameConstants.Build.FRAMEWORK_LOG_LEVEL")), 
            n.FSMInstaller.install(this.gameContainer, x.FSMItemsDataProvider), 
            this.gameContainer.bind(Q.BreadcrumbManager).to(Q.BreadcrumbManager), 
            this.gameContainer.bind(h.ProdigyInjectionIdentifiers.HttpClient).to(O.FetchLibraryHttpClient).inSingletonScope(), 
            this.gameContainer.bind(a.InjectionIdentifiers.CacheExpirationStrategy).to(a.TimedCacheExpiration), 
            this.gameContainer.bind(a.InjectionIdentifiers.CacheStorageStrategy).to(a.MemoryCacheStorage), 
            this.gameContainer.bind(a.InjectionIdentifiers.StoreDataProvider).to(T.StoreHttpDataProvider).inSingletonScope(), 
            this.gameContainer.get(a.InjectionIdentifiers.CacheExpirationStrategy).setExpiryTimeInMinutes(5), 
            this.gameContainer.bind(h.ProdigyInjectionIdentifiers.StoreService).to(a.StoreService).inSingletonScope(), 
            this.gameContainer.bind(h.ProdigyInjectionIdentifiers.SessionRecorder).to(r.SessionCamSessionRecorder).inSingletonScope();
            var o = window.gameApiStatusData;
            et.Util.isValid(o) || (o = {
                gameClientVersion: Date.now(),
                gameDataVersion: Date.now(),
                gameLibPath: "https://cdn.prodigygame.com/game/lib/",
                gameAssetsPath: "https://cdn.prodigygame.com/game/assets/",
                gameCodePath: "https://cdn.prodigygame.com/game/play/dev/",
                gameDataPath: "https://cdn.prodigygame.com/game/data/staging/",
                multiplayerClusterLocations: [ {
                    ID: 1,
                    url: "https://multiplayer-1-new.prodigygame.org/",
                    path: "/multiplayer-api/socket.io/"
                } ],
                recordUserRegistrationFlow: !0
            }), this.gameAPIData = new W.APIGameData(o), this.gameContainer.get(h.ProdigyInjectionIdentifiers.SessionRecorder).setAllowRecording(this.gameAPIData.getValue("recordUserRegistrationFlow")), 
            this.game = t, this.game.versioned = window.location.href.indexOf("feature") > -1 || window.location.href.indexOf("release") > -1, 
            this.game.clientVersion = this.game.versioned ? null : et.Util.validateVersion(l.GameConstants.get("GameConstants.Build.VERSION")), 
            this.player = new z.Player(this.game), this.player.isOnline = !0, this.breadcrumbManager = this.gameContainer.get(Q.BreadcrumbManager), 
            this.breadcrumbManager.init(this.player.state, new X.GameBreadcrumbConfig()), 
            this.assets = new G.Assets(this.gameAPIData), this.load = new tt.Loader(t), 
            this.graphics = new m.GraphicsController(t), this.audio = new p.AudioController(t), 
            this.mail = new _.MailController(t), this.giftBoxController = new f.GiftBoxController(t), 
            this.battle = new d.BattleController(t), this.pvp = new E.PVPController(t), 
            this.achievements = new c.AchievementController(t), this.surveyController = new b.SurveyController(t), 
            this.colorReplaceController = new y.ColorReplaceController(t), this.automation = new u.AutomationController(t), 
            this.notifications = new v.NotificationController(t), this.classModeController = new g.ClassModeController(t), 
            this.open = new L.MenuFactory(t), this.effects = new C.EffectFactory(t), 
            this.event = new S.EventFactory(t), this.dialogue = new w.DialogueFactory(t), 
            this.education = new P.ExternalFactory(t), this.skin = new B.SkinManager(t), 
            this.create = new I.AdvGameObjectFactory(t), this.icon = new D.IconFactory(t), 
            this.animation = new $.GenAnimation(t), this.chat = this.gameContainer.resolve(Z.ChatManager), 
            this.network = new K.NetworkManager(t, this.gameAPIData), this.bounty = new q.BountyManager(t), 
            this.attacks = new V.Attacks(), this.statusEffects = new s.StatusEffectManager(), 
            this.mailNetworkHandler = new U.MailerNetworkHandler(t), this.friendsListNetworkHandler = new N.FriendsListNetworkHandler(t), 
            this.titansNetworkHandler = new R.TitansNetworkHandler(t), this.pvpNetworkHandler = new k.PVPNetworkHandler(t), 
            this.messageListener = new M.MessageListener(), this.world = new Y.World(t), 
            this.dialogues = new F.Dialogues(t), this.hints = new j.Hints(), this.dailyLoginBonusRewards = new H.DailyLoginBonusRewards(), 
            this.game.broadcaster.addAppListener(A.EGameObjEvents.PlayerInitialized, function() {
                e.initializeBreadcrumbs();
            }, this, null), this.debug = new J.Debug(), et.Util.log(this.version, et.Util.INFO);
        }
        return t.prototype.init = function() {
            this.textureBelow = this.game.add.renderTexture(1280, 720), this.textureAbove = this.game.add.renderTexture(1280, 720), 
            this.textureMenu = this.game.add.renderTexture(1280, 720), this.previousNow = this.game.time.now;
        }, t.prototype.update = function() {
            this.updateCount++, this.game.broadcaster.broadcast(A.EGameObjEvents.Update, this.game, null);
            var t = this.game.time.now, e = t - this.previousNow;
            if (this.previousNow = t, this.totalElapsedTime += e, this.elapsedTimeBuffer.push(e), 
            this.elapsedTimeBuffer.length > this.frameBufferMaxSize) for (var i = this.elapsedTimeBuffer.splice(0, this.elapsedTimeBuffer.length - this.frameBufferMaxSize), a = i.length - 1; a >= 0; --a) this.totalElapsedTime -= i[a];
        }, t.prototype.cleanup = function() {
            this.mail.cleanup(), this.open.cleanup(), this.messageListener.clear(), 
            this.game.broadcaster.clear();
        }, t.prototype.start = function(t, e, i) {
            void 0 === e && (e = {}), void 0 === i && (i = null), e.target = t, 
            e.assets = o(e, "assets", []), e.assets = e.assets.concat(this.game.state.states[t].assets), 
            this.game.state.states[t].screenData = i, "PVP" === t ? this.game.state.states.PVPLoading.startLoading(e) : et.Util.isValid(this.game.state.states[this.game.state.current].fadeOut) ? this.game.state.states[this.game.state.current].fadeOut(e.fadeOut, this.game.state.states.Loading.startLoading.bind(this.game.state.states.Loading, e)) : this.game.state.states.Loading.startLoading(e);
        }, t.prototype.loading = function(t) {
            t ? (et.Util.isValid(this.spinner) || (this.spinner = this.create.sprite(640, 360, "atlas-18", "loading"), 
            this.game.broadcaster.broadcast(A.EScreenEvents.AddChild, this.game, [ this.spinner, "overlay" ])), 
            this.spinner.alpha = 1, this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
                angle: 360
            }, 1500, Phaser.Easing.Linear.None, !0, 0, l.GameConstants.MAX_SAFE_INTEGER, !1), 
            this.game.add.tween(this.spinner).to({
                alpha: 1
            }, 500, Phaser.Easing.Linear.None, !0, 300)) : et.Util.isValid(this.spinner) && (this.spinner.destroy(), 
            this.spinner = null);
        }, t.prototype.getAverageFPS = function() {
            return Math.floor(1e3 / (this.totalElapsedTime / this.elapsedTimeBuffer.length));
        }, t.prototype.initializeBreadcrumbs = function() {
            this.breadcrumbManager.init(this.player.state, new X.GameBreadcrumbConfig());
        }, t;
    }();
    e.GameObj = it;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t(t) {
            this.callbacks = {}, this.listeners = {}, this.broadcastIdCount = 0, 
            this.game = t;
        }
        return t.prototype.clear = function() {
            var t;
            for (var e in this.callbacks) for (var i in this.callbacks[e]) {
                for (t = 0; this.callbacks[e][i].length > t; ) this.callbacks[e][i].persistent ? t++ : this.callbacks[e][i].pop();
                0 === t && (this.callbacks[e][i] = void 0, delete this.callbacks[e][i]);
            }
            for (var e in this.listeners) for (var a in this.listeners[e]) {
                for (t = 0; this.listeners[e][a].length > t; ) this.listeners[e][a].persistent ? t++ : this.listeners[e][a].pop();
                0 === t && (this.listeners[e][a] = void 0, delete this.listeners[e][a]);
            }
        }, t.prototype.addAppListener = function(t, e, i, n, o) {
            void 0 === o && (o = !1);
            var r = a.Util.isValid(n) ? n : this.game;
            a.Util.isValid(t) && a.Util.isValid(e) && a.Util.isValid(i) || a.Util.log("addAppListener - Invalid arguments", a.Util.ERROR), 
            r = this.hashContext(r), void 0 === this.callbacks[r] && (this.callbacks[r] = {}), 
            void 0 === this.listeners[r] && (this.listeners[r] = {}), void 0 === this.callbacks[r][t] && (this.callbacks[r][t] = []), 
            void 0 === this.listeners[r][t] && (this.listeners[r][t] = []), this.callbacks[r][t].push(e), 
            this.listeners[r][t].push(i), this.callbacks[r][t].persistent = a.Util.isValid(o), 
            this.listeners[r][t].persistent = a.Util.isValid(o);
        }, t.prototype.removeAppListener = function(t, e, i) {
            var n = a.Util.isValid(i) ? i : this.game;
            if (a.Util.isValid(t)) {
                if (n = this.hashContext(n), void 0 !== this.callbacks[n] && void 0 !== this.callbacks[n][t] && void 0 !== this.listeners[n] && void 0 !== this.listeners[n][t]) {
                    for (var o = 0; o < this.callbacks[n][t].length; o++) a.Util.isValid(e) && this.listeners[n][t][o] !== e || (this.callbacks[n][t].splice(o, 1), 
                    this.listeners[n][t].splice(o, 1), o--);
                    0 === this.callbacks[n][t].length && delete this.callbacks[n][t], 
                    0 === this.listeners[n][t].length && delete this.listeners[n][t];
                }
            } else a.Util.log("removeAppListener - Invalid arguments", a.Util.ERROR);
        }, t.prototype.broadcast = function(t, e, i) {
            var n = a.Util.isValid(e) ? e : this.game;
            if (a.Util.isValid(t) || a.Util.log("removeAppListener - Invalid arguments", a.Util.ERROR), 
            n = this.hashContext(n), void 0 === this.callbacks[n] || void 0 === this.callbacks[n][t] || void 0 === this.listeners[n] || void 0 === this.listeners[n][t]) return null;
            if (1 === this.callbacks[n][t].length) return this.callbacks[n][t][0].apply(this.listeners[n][t][0], i);
            for (var o = {
                listeners: [],
                output: []
            }, r = this.listeners[n][t].slice(), s = this.callbacks[n][t].slice(), l = 0; l < s.length; l++) o.listeners.push(r[l]), 
            o.output.push(s[l].apply(r[l], i));
            return o;
        }, t.prototype.hashContext = function(t) {
            return "string" != typeof t ? (void 0 === t.broadcastId && (t.broadcastId = this.broadcastIdCount, 
            this.broadcastIdCount++), "bId" + t.broadcastId) : t;
        }, t;
    }();
    e.Broadcaster = n;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(753), r = i(752), s = i(301), l = function(t) {
        function e(e) {
            var i = t.call(this, e) || this;
            return i.clientVersion = "undefined", i.versioned = !1, i;
        }
        return n(e, t), e.prototype.init = function() {
            this.broadcaster = new o.Broadcaster(this), this.seededRandom = new s.SeededRandom(this.rnd), 
            this.prodigy = new r.GameObj(this);
        }, e.prototype.initPlugins = function() {
            this.add.plugin(PhaserSpine.SpinePlugin), this.particleStorm = this.add.plugin(Phaser.ParticleStorm);
        }, e;
    }(Phaser.Game);
    e.ProdigyGame = l;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(3), n = i(0), o = function() {
        function t(t) {
            this.game = t, this.game.input.keyboard.addKeyCapture([ Phaser.Keyboard.BACKSPACE ]), 
            t.input.mouse.mouseWheelCallback = this.dispatchMouseEvent.bind(this, a.EInputEvents.OnMouseWheel), 
            t.input.keyboard.onDownCallback = this.dispatchKeyboardEvent.bind(this, "Prodigy.Events.Input.ON_KEY_DOWN_"), 
            t.input.keyboard.onUpCallback = this.dispatchKeyboardEvent.bind(this, "Prodigy.Events.Input.ON_KEY_UP_"), 
            t.input.keyboard.onPressCallback = this.dispatchKeyPressEvent.bind(this, "Prodigy.Events.Input.ON_KEY_PRESS_");
        }
        return t.prototype.dispatchMouseEvent = function(t, e) {
            this.game.broadcaster.broadcast(t, "Input", [ e ]);
        }, t.prototype.dispatchKeyboardEvent = function(t, e) {
            var i = "";
            n.Util.isValid(e.key) && (i = e.key.toUpperCase()), this.game.broadcaster.broadcast(t + i, "Input", [ e ]);
        }, t.prototype.dispatchKeyPressEvent = function(t, e, i) {
            this.game.broadcaster.broadcast(t + "_" + i.keyCode, "Input", [ i ]);
        }, t;
    }();
    e.InputDispatcher = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(21), s = i(0), l = i(127), h = function(t) {
        function e(e, i, a, n, o) {
            var s = t.call(this, e, i, 440, 150) || this;
            return s.startCallback = a, s.instructionsCallback = n, s.game.prodigy.create.panel(s, 25, 25, 7, 6), 
            s.game.prodigy.create.textButton(s, 50, 50, {
                size: r.TextButton.MED,
                atlas: "icon-key-1",
                icon: "icon-key-1",
                text: s.game.prodigy.gameContainer.Localizer.getText("MINI_GAME_BUTTON_START")
            }, s.tryStart.bind(s)), s.game.prodigy.create.textButton(s, 50, 130, {
                size: r.TextButton.MED,
                icon: "star",
                text: s.game.prodigy.gameContainer.Localizer.getText("MINI_GAME_BUTTON_HOW_TO")
            }, s.instructions.bind(s)), s.game.prodigy.create.textButton(s, 50, 250, {
                size: r.TextButton.MED,
                icon: "back",
                text: s.game.prodigy.gameContainer.Localizer.getText("MINI_GAME_BUTTON_CANCEL")
            }, o), s;
        }
        return n(e, t), e.prototype.tryStart = function() {
            var t = this.game.prodigy.gameContainer.Localizer, e = this.game.prodigy.dialogue.create();
            0 === this.game.prodigy.player.backpack.hasItem("key", 1) ? e.setText({
                text: t.getText("DYNO_DIG_START_NO_SHOVEL"),
                face: 4
            }) : l.DinoDig.getNewFossils(this.game.prodigy.player.backpack).length <= 0 ? e.setText({
                text: t.getText("DYNO_DIG_START_NO_MORE_FOSSILS"),
                face: 4,
                yes: this.start.bind(this, 200)
            }) : e.setText({
                text: t.getText("DYNO_DIG_READY_TO_START"),
                face: 4,
                yes: this.start.bind(this, 300)
            }), e.start("scoog");
        }, e.prototype.start = function(t) {
            if (!s.Util.isValid(t) || this.game.prodigy.player.getGold() >= t) s.Util.isValid(t) && this.game.prodigy.player.changeGold(-t, "Dino Dig"), 
            this.startCallback(); else {
                var e = this.game.prodigy.dialogue.create();
                e.setText({
                    text: this.game.prodigy.gameContainer.Localizer.getText("MINI_GAME_NOT_ENOUGH_GOLD"),
                    face: 4
                }), e.start("scoog");
            }
        }, e.prototype.instructions = function() {
            s.Util.isValid(this.instructionsCallback) && this.instructionsCallback();
        }, e;
    }(o.Element);
    e.DinoDigMenu = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(5), s = i(0), l = function(t) {
        function e(e, i, a, n, o, r) {
            void 0 === r && (r = !1);
            var s = t.call(this, e, i) || this;
            return s.npc = null, s.indicator = null, s.x = a, s.y = n, s.npc = s.game.prodigy.create.sprite(0, 0, "atlas-84", 0), 
            s.npc.animations.add("stand", [ "npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7" ], 10, !0, !1), 
            s.npc.animations.play("stand"), s.npc.inputEnabled = !0, s.npc.anchor.setTo(.5, 1), 
            s.npc.events.onInputDown.add(o, s), r && (s.npc.scale.x = -1), s.add(s.npc), 
            s.game.prodigy.create.nameFont(s, -15, -s.npc.height - 20, e.prodigy.gameContainer.Localizer.getText("NPC_NAME_PROFESSOR_SCOOG")), 
            s;
        }
        return n(e, t), e.prototype.setIndicator = function(t) {
            s.Util.isValid(this.indicator) || (this.indicator = this.game.prodigy.create.sprite(-14, -(this.npc.height - 10), "atlas-21", t), 
            this.indicator.anchor.setTo(.5, 1), this.add(this.indicator), this.game.add.tween(this.indicator).to({
                y: this.indicator.y - 50
            }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0)), 
            this.indicator.frameName = t;
        }, e;
    }(r.Element);
    e.Scoog = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(757), s = i(42), l = function(t) {
        function e(e, i) {
            return t.call(this, e, "A0", "MAP_DYNO_DIG_OASIS", 280, 440, [], i.concat([ "atlas-84", "tileset-collisions" ])) || this;
        }
        return n(e, t), e.prototype.setup = function(e, i) {
            t.prototype.setup.call(this, e, i, null), new r.Scoog(e, i.content, 800, 450, this.onScoogClicked.bind(this), !1).setIndicator("store"), 
            i.addClickableEvent(295, 200, 50, 80, this.toMuseum.bind(this, i), null, 0, null);
            var a = e.prodigy.create.element(i.content, 975, 150), n = a.add(e.prodigy.create.sprite(40, 40, "atlas-21", "star2"));
            n.anchor.setTo(.5, .5), n.inputEnabled = !0, n.angle = -20, n.events.onInputDown.add(this.toDynoDig, this), 
            a.add(e.prodigy.create.sprite(0, 10, "icon-key-1")), e.prodigy.create.font(a, -20, 0, e.prodigy.gameContainer.Localizer.getText("DYNO_DIG_TITLE"), {
                width: 120,
                size: 20,
                align: "center"
            }), e.add.tween(n).to({
                angle: 20
            }, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0), 
            new s.ToyMerchant(e, i.content, 160, 400).flip();
        }, e.prototype.onScoogClicked = function() {
            var t = this, e = this.game.prodigy.dialogue.create();
            e.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DYNO_DIG_SHOP_WELCOME"),
                face: 0,
                yes: function() {
                    t.game.prodigy.open.store(23);
                }
            }), e.start("scoog");
        }, e.prototype.toMuseum = function(t) {
            var e = this.game.prodigy.event.create();
            e.validPath(t.user, t.path, 320, 300), e.set(this.game.state.states.Museum, "startX", 634), 
            e.set(this.game.state.states.Museum, "startY", 560), e.function(this.game.prodigy.start.bind(this.game.prodigy, "Museum")), 
            e.start();
        }, e.prototype.toDynoDig = function() {
            this.game.prodigy.start("DinoDig", {}, {
                playerPosition: this.screen.user.position
            });
        }, e;
    }(i(7).Map);
    e.DynoA0 = l;
}, function(t, e) {
    t.exports = window.EasyStar;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = i(227), l = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n) || this;
            return o.pose = null, o.bar1 = null, o.bar2 = null, o.callback = null, 
            o.startTime = null, o.targetTime = null, o.pose = new s.DancePose(o.game, o, 0, 0), 
            o.pose.flip(), o.bar1 = o.add(o.game.prodigy.create.sprite(0, 34, "atlas-18", "overlay-light")), 
            o.bar1.anchor.setTo(1, 0), o.bar2 = o.add(o.game.prodigy.create.sprite(100, 34, "atlas-18", "overlay-light")), 
            o.bar1.height = o.bar2.height = 30, o.bar1.width = o.bar2.width = 244, 
            o.bar1.alpha = o.bar2.alpha = .7, o.bar1.tint = o.bar2.tint = 8768643, 
            o;
        }
        return n(e, t), e.prototype.start = function(t, e, i) {
            this.pose.randomPose(t, []), this.callback = i;
            var a = 2.5 - .35 * (t - 1);
            a += e, a *= 1e3, this.bar1.width = this.bar2.width = 244;
            var n = this.game.add.tween(this.pose).to({
                y: -10
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: 0
            }, 250, Phaser.Easing.Quadratic.In);
            return n.onComplete.addOnce(this.beginTimer.bind(this, a), this), n.start(), 
            this.pose;
        }, e.prototype.update = function() {
            if (t.prototype.update.call(this), r.Util.isValid(this.bar1) && r.Util.isValid(this.bar2) && r.Util.isValid(this.targetTime)) {
                var e = new Date().getTime();
                if (e >= this.targetTime) this.bar1.width = this.bar2.width = 0, 
                this.targetTime = null, this.callback(); else {
                    var i = (this.targetTime - e) / (this.targetTime - this.startTime), a = Math.floor(244 * i);
                    this.bar1.width = this.bar2.width = a;
                }
            }
        }, e.prototype.beginTimer = function(t) {
            this.startTime = new Date().getTime(), this.targetTime = new Date().getTime() + t;
        }, e;
    }(o.Element);
    e.DanceTimer = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(21), s = i(0), l = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i) || this;
            r.startCallback = null, r.instructionsCallback = null, r.cancelCallback = null, 
            r.menu = null, r.yes = null, r.difficulty = null, r.startCallback = a, 
            r.cancelCallback = o, r.instructionsCallback = n;
            var s = r.add(r.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small"));
            return s.alpha = .5, s.width = 1280, s.height = 720, r.game.prodigy.player.backpack.hasItem("key", 2) > 0 ? r.createMenu() : r.giveItem(), 
            r;
        }
        return n(e, t), e.prototype.giveItem = function() {
            var t = this, e = this.game.prodigy.dialogue.create();
            e.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_GET_ROBOT_0"),
                face: 4,
                anim: 4
            }), e.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_GET_ROBOT_1"),
                face: 2
            }), e.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_GET_ROBOT_2"),
                face: 1,
                audio: {
                    tag: "voice-0",
                    s: 8,
                    d: 2
                }
            }), e.setText({
                callback: function() {
                    t.game.prodigy.open.gotItem([ {
                        type: "key",
                        ID: 2,
                        lvl: 1
                    } ], function() {
                        var e = t.game.prodigy.dialogue.create();
                        e.setText({
                            text: t.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_GET_ROBOT_3"),
                            face: 1
                        }), e.setText({
                            callback: function() {
                                t.createMenu();
                            }
                        }), e.start("boombox");
                    });
                }
            }), e.start("boombox");
        }, e.prototype.createMenu = function() {
            var t = this;
            s.Util.isValid(this.menu) && this.menu.destroy(), this.menu = this.game.prodigy.create.element(this, 465, 220), 
            this.game.prodigy.create.panel(this.menu, 0, 0, 7, 5), this.game.prodigy.create.textButton(this.menu, 25, 20, {
                size: r.TextButton.MED,
                icon: {
                    type: "key",
                    ID: 2
                },
                text: this.game.prodigy.gameContainer.Localizer.getText("MINI_GAME_BUTTON_START")
            }, function() {
                t.createDifficulty();
            }), this.game.prodigy.create.textButton(this.menu, 25, 100, {
                size: r.TextButton.MED,
                icon: "star",
                text: this.game.prodigy.gameContainer.Localizer.getText("MINI_GAME_BUTTON_HOW_TO")
            }, function() {
                t.instructionsCallback();
            }), this.game.prodigy.create.textButton(this.menu, 25, 180, {
                size: r.TextButton.MED,
                icon: "back",
                text: this.game.prodigy.gameContainer.Localizer.getText("MINI_GAME_BUTTON_CANCEL")
            }, function() {
                t.cancelCallback();
            });
        }, e.prototype.createDifficulty = function() {
            var t = this, e = this.game.prodigy.gameContainer.Localizer;
            s.Util.isValid(this.menu) && this.menu.destroy(), this.menu = this.game.prodigy.create.element(this, 390, 220);
            var i = this.game.prodigy.player.backpack.getKeyItemData(2, "lvl");
            this.game.prodigy.create.panel(this.menu, 0, 0, 10, 6), this.game.prodigy.create.font(this.menu, 110, 20, e.getText("DANCE_DANCE_CHOOSE_DIFFICULTY"), {
                size: 36,
                fontID: 9
            }), this.game.prodigy.create.font(this.menu, 110, 60, e.getText("DANCE_DANCE_HIGHER_LEVEL")), 
            this.menu.add(this.game.prodigy.create.sprite(10, 10, "icon-key-2"));
            for (var a = function(a) {
                var o = 90 * a + 30;
                i >= a + 1 ? n.game.prodigy.create.stackButton(n.menu, o, 110, [ {
                    tag: "star2"
                }, {
                    text: "" + (a + 1),
                    y: 20,
                    size: 30
                } ], function() {
                    t.chooseDifficulty(a + 1);
                }) : n.game.prodigy.create.stackButton(n.menu, o, 110, [ {
                    tag: "empty",
                    x: 15,
                    y: 15
                }, {
                    text: "" + (a + 1),
                    y: 20,
                    size: 30
                } ], function() {
                    t.game.prodigy.open.message(e.getText("DANCE_DANCE_MESSAGE_LEVEL_BODY"), null, null, e.getText("MESSAGE_TITLE_UH_OH"));
                });
            }, n = this, o = 0; o < 5; o++) a(o);
            this.game.prodigy.create.textButton(this.menu, 40, 230, {
                size: r.TextButton.SMALL,
                icon: "back",
                text: e.getText("DANCE_DANCE_BUTTON_BACK")
            }, function() {
                t.createMenu();
            }), this.game.prodigy.create.textButton(this.menu, 260, 230, {
                size: r.TextButton.SMALL,
                icon: "yes",
                text: e.getText("DANCE_DANCE_BUTTON_GO")
            }, function() {
                t.tryStart();
            }), this.yes = this.menu.add(this.game.prodigy.create.sprite(0, 170, "atlas-21", "yes")), 
            this.yes.width = this.yes.height = 25, this.chooseDifficulty(Math.min(i, 5));
        }, e.prototype.chooseDifficulty = function(t) {
            this.difficulty = t, this.yes.x = 90 * t - 10;
        }, e.prototype.tryStart = function() {
            s.Util.isValid(this.menu) && this.menu.destroy();
            var t = this.game.prodigy.dialogue.create();
            t.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_READY_TO_START"),
                face: 4,
                yes: this.openBoosts.bind(this, 200),
                no: this.createMenu.bind(this)
            }), t.start("boombox");
        }, e.prototype.openBoosts = function(t) {
            var e = this;
            if (!s.Util.isValid(t) || this.game.prodigy.player.getGold() >= t) {
                s.Util.isValid(t) && this.game.prodigy.player.changeGold(-t, "Dance Menu");
                var i = this.game.prodigy.gameContainer.Localizer, a = [ {
                    icon: {
                        type: "item",
                        ID: 47
                    },
                    d: i.getText("BOOST_DESCRIPTION_MORE_GEARS")
                }, {
                    icon: {
                        type: "fossil",
                        ID: 1
                    },
                    d: i.getText("BOOST_DESCRIPTION_SLOW_TIME")
                }, {
                    icon: "star2",
                    d: i.getText("BOOST_DESCRIPTION_MULTIPLIER")
                } ];
                this.game.prodigy.open.boostSelect(a, function(t) {
                    e.startCallback(e.difficulty, t);
                });
            } else {
                var n = this.game.prodigy.dialogue.create();
                n.setText({
                    text: this.game.prodigy.gameContainer.Localizer.getText("MINI_GAME_NOT_ENOUGH_GOLD"),
                    face: 3,
                    anim: 1,
                    audio: {
                        tag: "voice-0",
                        s: 10,
                        d: 2
                    }
                }), n.setText({
                    callback: function() {
                        e.createMenu();
                    }
                }), n.start("boombox");
            }
        }, e;
    }(o.Element);
    e.DanceMenu = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i, a, n) || this;
            return o.robot = null, o.robot = o.add(o.game.prodigy.create.sprite(-100, -200, "atlas-14", "pose1-1")), 
            o.robot.animations.add("-3", [ "pose2-1" ], 1, !0, !1), o.robot.animations.add("-2", [ "poseSuccess" ], 1, !0, !1), 
            o.robot.animations.add("-1", [ "poseFail" ], 1, !0, !1), o.robot.animations.add("0", [ "pose0-1", "pose0-2" ], 1, !0, !1), 
            o.robot.animations.add("1", [ "pose1-1", "pose1-2" ], 1, !0, !1), o.robot.animations.add("2", [ "pose2-1", "pose2-2" ], 1, !0, !1), 
            o.robot.animations.add("3", [ "pose3-1", "pose3-2" ], 1, !0, !1), o.robot.animations.add("4", [ "pose4-1", "pose4-2" ], 1, !0, !1), 
            o.robot.animations.add("5", [ "pose5-1", "pose5-2" ], 1, !0, !1), o.robot.animations.add("6", [ "pose6-1", "pose6-2" ], 1, !0, !1), 
            o.robot.animations.add("7", [ "pose7-1", "pose7-2" ], 1, !0, !1), o.robot.animations.add("8", [ "pose8-1", "pose8-2" ], 1, !0, !1), 
            o.robot.animations.add("9", [ "pose9-1", "pose9-2" ], 1, !0, !1), o.setPose(-3), 
            o;
        }
        return n(e, t), e.prototype.setPose = function(t) {
            this.robot.animations.play("" + t, 2.15, !0), -1 === t && this.game.add.tween(this.robot).to({
                x: -105
            }, 100, Phaser.Easing.Linear.None).to({
                x: -95
            }, 100, Phaser.Easing.Linear.None).to({
                x: -105
            }, 100, Phaser.Easing.Linear.None).to({
                x: -95
            }, 100, Phaser.Easing.Linear.None).to({
                x: -105
            }, 100, Phaser.Easing.Linear.None).to({
                x: -95
            }, 100, Phaser.Easing.Linear.None).to({
                x: -100
            }, 100, Phaser.Easing.Linear.None).start(), -2 === t && this.game.add.tween(this.robot).to({
                y: -230
            }, 250, Phaser.Easing.Linear.None, !0, 0, 1, !0);
        }, e;
    }(i(5).Element);
    e.DanceBot = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(78), r = i(51), s = i(0), l = i(762), h = i(761), c = i(227), p = i(760), u = function(t) {
        function e(e) {
            var i = t.call(this, e, "The Stage", "atlas-14", [ "atlas-14", "bgm-6", "bgm-7", "sfx-11" ]) || this;
            return i.startedSpeed = !1, i.danceBots = [], i.menu = null, i.timer = null, 
            i.gearBar = null, i.bonusBar = null, i.scoreText = null, i.highScoreText = null, 
            i.multiplier = null, i.gearBonus = null, i.maxMultiplier = null, i.speedOffset = null, 
            i.currentScore = 0, i.startTime = null, i.finishTime = null, i.speedTime = null, 
            i.timeDelay = null, i.poses = [], i.processLightEvent = null, i.difficulty = null, 
            i.poseContainer = null, i.correctPose = null, i.correct = null, i.answerID = null, 
            i.lights = null, i;
        }
        return n(e, t), e.prototype.create = function() {
            this.game.prodigy.audio.pauseBGM(), this.game.prodigy.player.saveEnabled = !1, 
            t.prototype.create.call(this, [ "atlas-14", "bgm-6", "bgm-7" ]);
        }, e.prototype.screenSetup = function() {
            var e = this;
            t.prototype.screenSetup.call(this), this.background.add(this.game.prodigy.create.sprite(0, 0, "atlas-14", "bg")), 
            this.danceBots.push(new l.DanceBot(this.game, this.content, 260, 285)), 
            this.danceBots.push(new l.DanceBot(this.game, this.content, 640, 420)), 
            this.danceBots.push(new l.DanceBot(this.game, this.content, 1030, 285)), 
            this.danceBots[0].scale.x = this.danceBots[0].scale.y = .5, this.danceBots[2].scale.x = this.danceBots[2].scale.y = .5, 
            this.danceBots[0].setPose(1), this.danceBots[2].setPose(1), this.menu = new h.DanceMenu(this.game, this.content, function(t, i) {
                e.startGame(t, i);
            }, function() {
                e.showInstructions();
            }, function() {
                e.returnToLamplight();
            });
        }, e.prototype.shutdown = function() {
            this.game.time.events.remove(this.processLightEvent), t.prototype.shutdown.call(this);
        }, e.prototype.showInstructions = function() {
            var t = this;
            this.menu.visible = !1;
            var e = this.game.prodigy.gameContainer.Localizer, i = this.game.prodigy.dialogue.create();
            i.setText({
                text: e.getText("DANCE_DANCE_INSTRUCTIONS_0"),
                face: 0,
                anim: 4
            }), i.setText({
                text: e.getText("DANCE_DANCE_INSTRUCTIONS_1"),
                face: 1,
                anim: 0
            }), i.setText({
                text: e.getText("DANCE_DANCE_INSTRUCTIONS_2"),
                face: 2,
                anim: 0
            }), i.setText({
                callback: function() {
                    t.menu.visible = !0;
                }
            }), i.start("boombox");
        }, e.prototype.createUI = function(t) {
            var e = this;
            this.timer = new p.DanceTimer(this.game, this.content, 590, 30), this.gearBar = this.game.prodigy.create.fillBar(this.content, 65, 415, 34, 250, 1, function(t) {
                for (var e = 50, i = 2; i <= t; i++) e += Math.max(0, Math.floor(i / 9 * 5 * 100));
                return t >= 10 && (e = -1), {
                    target: e,
                    text: "" + t
                };
            }, 15975263, "star2", .7, !0);
            var i = this.game.prodigy.player.backpack.getKeyItemData(2, "gears");
            this.gearBar.setValue(s.Util.isValid(i) ? i : 0);
            var a = this.game.prodigy.gameContainer.Localizer;
            this.bonusBar = this.game.prodigy.create.fillBar(this.content, 1181, 415, 34, 250, 1, function(e) {
                var i = 15975263, n = Math.max(0, 5 * e);
                return e >= t && (n = -1), e <= 1 && (i = 15157320), {
                    target: n,
                    color: i,
                    text: e <= 1 ? a.getText("DANCE_DANCE_UH_OH") : "x" + (e - 1)
                };
            }, 15314234, {
                type: "item",
                ID: 47
            }, .7, !0, function(t) {
                e.setMultiplier(t);
            }), this.bonusBar.setValue(5);
            var n = this.game.prodigy.create.element(this.content, 20, 20);
            this.scoreText = this.game.prodigy.create.font(n, 0, 0, "[single-image:icon-item-47]0", {
                size: 36,
                fontID: 9
            });
            var o = this.game.prodigy.player.backpack.getKeyItemData(2, "score"), r = this.game.prodigy.create.element(this.content, 960, 20);
            this.highScoreText = this.game.prodigy.create.font(r, 0, 0, (s.Util.isValid(o) ? o : 0) + " [single-image:icon-item-47]", {
                size: 36,
                fontID: 9,
                align: "right",
                width: 300
            }), this.game.prodigy.create.font(r, 0, 40, this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_BEST_SCORE"), {
                size: 16,
                width: 220,
                align: "right"
            });
        }, e.prototype.setMultiplier = function(t) {
            t > 1 ? this.game.prodigy.audio.playSFX(11, "yay") : s.Util.isValid(this.multiplier) && this.multiplier !== t && this.game.prodigy.audio.playSFX(11, "aw"), 
            this.multiplier = t;
        }, e.prototype.startGame = function(t, e) {
            var i = this;
            this.menu.visible = !1, this.gearBonus = 0 === e ? 1 : 0, this.speedOffset = 1 === e ? .25 : 0, 
            this.maxMultiplier = 2 === e ? 5 : 4, this.createUI(this.maxMultiplier), 
            this.processLightEvent = this.game.time.events.loop(500, this.processLights, this), 
            this.startTime = new Date().getTime(), this.finishTime = this.startTime + 7e4, 
            this.speedTime = this.startTime + 4e4, this.timeDelay = 1500, this.currentScore = 0, 
            this.setDifficulty(t), this.game.prodigy.audio.playBGM(6, !0), this.game.prodigy.audio.playSFX(11, "ready"), 
            this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_READY"), function() {
                i.game.prodigy.audio.playSFX(11, "go"), i.game.prodigy.effects.flashText(i.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_START")), 
                i.nextPose();
            });
        }, e.prototype.endGame = function(t) {
            var e = this;
            this.timer.visible = !1;
            for (var i = 0; i < this.poses.length; i++) this.poses[i].visible = !1;
            this.game.prodigy.audio.pauseBGM(), t ? this.game.prodigy.audio.playSFX(11, "victory") : this.game.prodigy.audio.playSFX(11, "bell");
            for (i = 0; i < this.danceBots.length; i++) this.danceBots[i].setPose(t ? -3 : -1);
            this.danceBots[1].setPose(t ? -2 : -1), this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.Localizer.getText(t ? "DANCE_DANCE_SUCCESS" : "DANCE_DANCE_FAILED"), function() {
                e.finalize(t);
            });
        }, e.prototype.finalize = function(t) {
            var e = this, i = this.game.prodigy.dialogue.create();
            if (t) {
                var a = this.game.prodigy.player.backpack.getKeyItemData(2, "score");
                (!s.Util.isValid(a) || a < this.currentScore) && (this.game.prodigy.player.backpack.setKeyItemData(2, "score", this.currentScore), 
                this.highScoreText.setText(this.currentScore + " [single-image:icon-item-47]"), 
                i.setText({
                    text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_NEW_HIGH_SCORE"),
                    face: 4,
                    anim: 4,
                    audio: {
                        tag: "voice-0",
                        s: 5,
                        d: 3
                    }
                })), i.setText({
                    text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_EARNED_GEARS"),
                    face: 0
                }), i.setText({
                    callback: this.gearBar.addValue.bind(this.gearBar, this.currentScore, null, this.finishFill.bind(this))
                });
            } else this.difficulty > 1 ? i.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_LOWER_DIFFICULTY"),
                face: 3,
                audio: {
                    tag: "voice-0",
                    s: 10,
                    d: 2
                }
            }) : i.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_TRY_AGAIN"),
                face: 3,
                audio: {
                    tag: "voice-0",
                    s: 10,
                    d: 2
                }
            }), i.setText({
                callback: function() {
                    e.returnToLamplight();
                }
            });
            i.start("boombox");
        }, e.prototype.finishFill = function() {
            var t = this, e = this.game.prodigy.player.backpack.getKeyItemData(2, "lvl"), i = this.gearBar.getLevel(), a = this.game.prodigy.dialogue.create();
            if (this.game.prodigy.player.backpack.setKeyItemData(2, "gears", this.gearBar.getValue()), 
            i > e) {
                var n = [ {
                    type: "gold",
                    N: 500 * (i - e)
                } ];
                this.game.prodigy.player.backpack.setKeyItemData(2, "lvl", i), i < 5 ? a.setText({
                    text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_LEVEL_UP_UNDER_5", i),
                    face: 4,
                    anim: 4,
                    audio: {
                        tag: "voice-0",
                        s: 5,
                        d: 3
                    }
                }) : i < 10 ? a.setText({
                    text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_LEVEL_UP_UNDER_10"),
                    face: 4,
                    anim: 4,
                    audio: {
                        tag: "voice-0",
                        s: 5,
                        d: 3
                    }
                }) : (a.setText({
                    text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_LEVEL_UP_MAX"),
                    face: 4,
                    anim: 4,
                    audio: {
                        tag: "voice-0",
                        s: 8,
                        d: 2
                    }
                }), n.push({
                    type: "hat",
                    ID: 47
                }), n.push({
                    type: "outfit",
                    ID: 42
                })), a.setText({
                    text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_REWARD"),
                    face: 1
                }), a.setText({
                    callback: function() {
                        t.game.prodigy.open.gotItem(n, function() {
                            t.returnToLamplight();
                        }, null, "dance-dance");
                    }
                });
            } else e < 10 ? a.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_TRY_NEW_DIFFICULTY"),
                face: 4
            }) : a.setText({
                text: this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_MAX_LEVEL"),
                face: 4,
                anim: 4,
                audio: {
                    tag: "voice-0",
                    s: 8,
                    d: 2
                }
            }), a.setText({
                callback: function() {
                    t.returnToLamplight();
                }
            });
            a.start("boombox");
        }, e.prototype.setDifficulty = function(t) {
            this.difficulty = t, this.poseContainer = this.game.prodigy.create.element(this.content, 0, 600);
            var e = t < 3 ? 3 : t < 5 ? 4 : 5;
            this.poses = [];
            for (var i = 0; i < e; i++) this.poses[i] = new c.DancePose(this.game, this.poseContainer, 130 * i, 0, this.selectAnswer.bind(this, i));
            this.poseContainer.x = 640 - .5 * this.poseContainer.width;
        }, e.prototype.nextPose = function() {
            var t = this, e = this.timer.start(this.difficulty, this.speedOffset, function() {
                t.pose();
            });
            this.correctPose = e.currentPose, this.correct = Math.floor(Math.random() * this.poses.length);
            for (var i = [ e ], a = 0; a < this.poses.length; a++) a === this.correct ? this.poses[a].setPose(e) : this.poses[a].randomPose(this.difficulty, i), 
            i.push(this.poses[a]), this.poses[a].flip();
            this.answerID = null, this.deselectAll();
        }, e.prototype.selectAnswer = function(t) {
            this.answerID = t, this.deselectAll();
        }, e.prototype.deselectAll = function() {
            for (var t = 0; t < this.poses.length; t++) this.poses[t].deselect();
        }, e.prototype.pose = function() {
            for (var t = this.answerID === this.correct, e = 0; e < this.poses.length; e++) this.poses[e].flip();
            for (e = 0; e < this.danceBots.length; e++) 1 === e ? this.danceBots[e].setPose(t ? this.correctPose : -1) : this.danceBots[e].setPose(this.correctPose);
            if (t) this.game.prodigy.audio.playSFX(18, "heart"), this.currentScore += (this.poses.length + this.gearBonus) * (this.bonusBar.getLevel() - 1), 
            this.scoreText.setText("[single-image:icon-item-47]" + this.currentScore), 
            this.bonusBar.addValue(1); else if (this.game.prodigy.audio.playSFX(11, "damage"), 
            this.bonusBar.getValue() > 5) this.bonusBar.setValue(5); else if (this.bonusBar.addValue(-1) <= 0) return void this.endGame(!1);
            var i = new Date().getTime();
            i > this.finishTime ? this.endGame(!0) : (i > this.speedTime && (this.startedSpeed || (this.startedSpeed = !0, 
            this.speedOffset -= .25, this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.Localizer.getText("DANCE_DANCE_SPEED_UP")), 
            this.game.prodigy.audio.playBGM(7, !0)), this.timeDelay = Math.max(500, this.timeDelay - 150)), 
            this.game.time.events.add(this.timeDelay, this.nextPose, this));
        }, e.prototype.processLights = function() {
            if (!s.Util.isValid(this.lights)) {
                this.lights = [];
                for (var t = 0; t < 3; t++) this.lights.push(this.background.add(this.game.prodigy.create.sprite(0, 0, "atlas-21", "empty"))), 
                this.lights[t].alpha = .25;
                this.lights[0].tint = 14492708, this.lights[1].tint = 15396941, 
                this.lights[2].tint = 5107440;
            }
            var i = [ o(e.RED_LIGHTS), o(e.YELLOW_LIGHTS), o(e.BLUE_LIGHTS) ];
            for (t = 0; t < 3; t++) this.lights[t].x = i[t].x - 25, this.lights[t].y = i[t].y - 25;
        }, e.prototype.returnToLamplight = function() {
            this.game.prodigy.world.teleport("lamplight-B4", 660, 400);
        }, e.RED_LIGHTS = [ {
            x: 192,
            y: 65
        }, {
            x: 403,
            y: 40
        }, {
            x: 613,
            y: 68
        }, {
            x: 791,
            y: 83
        }, {
            x: 908,
            y: 88
        }, {
            x: 408,
            y: 539
        }, {
            x: 887,
            y: 538
        } ], e.YELLOW_LIGHTS = [ {
            x: 118,
            y: 47
        }, {
            x: 318,
            y: 78
        }, {
            x: 376,
            y: 164
        }, {
            x: 744,
            y: 79
        }, {
            x: 1103,
            y: 139
        }, {
            x: 1129,
            y: 49
        }, {
            x: 1232,
            y: 39
        }, {
            x: 305,
            y: 474
        }, {
            x: 746,
            y: 572
        } ], e.BLUE_LIGHTS = [ {
            x: 66,
            y: 37
        }, {
            x: 338,
            y: 119
        }, {
            x: 396,
            y: 183
        }, {
            x: 652,
            y: 72
        }, {
            x: 1039,
            y: 97
        }, {
            x: 1071,
            y: 38
        }, {
            x: 548,
            y: 571
        }, {
            x: 984,
            y: 476
        } ], e;
    }(r.Screen);
    e.DanceDance = u;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t.Ready = "ready", t.Switch = "switch", t.Spell = "spell";
    }(e.EPVPAction || (e.EPVPAction = {}));
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        return function() {
            this.defaultComboIncrease = 1, this.maxCombo = 5, this.damageBonusPerLevel = .1, 
            this.comboLevelOffsets = [ {
                x: 4,
                y: 57
            }, {
                x: 65,
                y: 57
            }, {
                x: 129,
                y: 36
            }, {
                x: 193,
                y: 36
            }, {
                x: 257,
                y: -22
            } ], this.comboMaxOffset = {
                x: 346,
                y: 46
            };
        };
    }();
    e.PVPComboMeterConfig = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(149), r = i(16), s = i(5), l = i(3), h = function(t) {
        function e(e, i, a, n, r) {
            var s = t.call(this, e, i, a, n) || this;
            return s.baseY = 870, s.baseX = 30, s.comboTween = [], s.comboLevelBars = [], 
            s.flipped = !1, s.moveComplete = !0, s.config = o(r), s.setupComponents(), 
            s;
        }
        return n(e, t), e.prototype.setupListeners = function(t) {
            this.game.broadcaster.addAppListener(l.EBattleEvents.PvpComboIncrease, this.updateComboBars.bind(this), this, t, null), 
            this.game.broadcaster.addAppListener(l.EBattleEvents.PvpComboBreak, this.updateComboBars.bind(this), this, t, null), 
            this.game.broadcaster.addAppListener(l.EBattleEvents.PvpUpdate, this.updateComboTween.bind(this), this, t, null), 
            this.game.broadcaster.addAppListener(l.EBattleEvents.PvpComboMeterMoveIn, this.moveIn.bind(this), this, t, null), 
            this.game.broadcaster.addAppListener(l.EBattleEvents.PvpComboMeterMoveOut, this.moveOut.bind(this), this, t, null);
        }, e.prototype.flip = function() {
            this.comboMeterBg.scale.x *= -1, this.flipSprite(this.comboMaxOff), 
            this.flipSprite(this.comboMaxOn), this.flipped = !0;
        }, e.prototype.setupComponents = function() {
            this.comboMeterBg = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-17", "combo-metre-bg"));
            for (var t = null, e = 1; e < this.config.maxCombo + 1; e++) {
                var i = this.game.prodigy.create.sprite(this.config.comboLevelOffsets[e - 1].x, this.config.comboLevelOffsets[e - 1].y, "atlas-17", "combo-level-" + e + "-1");
                i.visible = !1, this.comboLevelBars.push(this.comboMeterBg.addChild(i)), 
                t = [];
                for (var a = 1; a < 5; a++) t.push("combo-level-" + e + "-" + a);
                this.comboTween.push(new r.TweenController(i)), this.comboTween[e - 1].set("frameName", t, 200, 9999);
            }
            this.comboMaxOff = this.comboMeterBg.addChild(this.game.prodigy.create.sprite(this.config.comboMaxOffset.x, this.config.comboMaxOffset.y, "atlas-17", "combo-max-off")), 
            this.comboMaxOn = this.comboMeterBg.addChild(this.game.prodigy.create.sprite(this.config.comboMaxOffset.x, this.config.comboMaxOffset.y, "atlas-17", "combo-max-on-1")), 
            this.comboMaxOn.visible = !1, t = [];
            for (e = 1; e < 5; e++) t.push("combo-max-on-" + e);
            this.comboTween.push(new r.TweenController(this.comboMaxOn)), this.comboTween[this.comboTween.length - 1].set("frameName", t, 200, 9999), 
            this.startComboTween();
        }, e.prototype.moveIn = function() {
            this.moveComplete && (this.game.add.tween(this).from({
                y: this.baseY
            }, 2100, Phaser.Easing.Quadratic.In, !0).onComplete.add(this.onMoveComplete.bind(this)), 
            this.moveComplete = !1);
        }, e.prototype.moveOut = function() {
            this.moveComplete && (this.game.add.tween(this).to({
                x: this.flipped ? -this.comboMeterBg.width + this.baseX + 1280 : -(this.comboMeterBg.width + this.baseX)
            }, 700, Phaser.Easing.Quadratic.In, !0).onComplete.add(this.onMoveComplete.bind(this)), 
            this.moveComplete = !1);
        }, e.prototype.onMoveComplete = function() {
            this.moveComplete = !0;
        }, e.prototype.updateComboBars = function(t) {
            for (var e = 0; e < this.comboLevelBars.length; e++) this.comboLevelBars[e].visible = e < t;
            this.comboMaxOn.visible = t === this.config.maxCombo;
        }, e.prototype.startComboTween = function() {
            for (var t = 0; t < this.comboTween.length; t++) this.comboTween[t].start();
        }, e.prototype.updateComboTween = function() {
            for (var t = 0; t < this.comboTween.length; t++) this.comboTween[t].update();
        }, e.prototype.flipSprite = function(t) {
            t.x -= -t.width, t.scale.x *= -1;
        }, e;
    }(s.Element);
    e.ComboMeterUI = h;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(3), n = i(0), o = i(766), r = function() {
        function t(t, e) {
            this.currentComboLevel = 0, this.broadcasterContext = null, this.config = e, 
            this.broadcaster = t;
        }
        return t.prototype.increaseCombo = function() {
            this.currentComboLevel < this.config.maxCombo && (this.currentComboLevel += this.config.defaultComboIncrease, 
            this.broadcaster.broadcast(a.EBattleEvents.PvpComboIncrease, this.broadcasterContext, [ this.currentComboLevel ])), 
            n.Util.log("Combo Increased: " + this.currentComboLevel, n.Util.DEV);
        }, t.prototype.breakCombo = function() {
            this.currentComboLevel > 0 && (this.currentComboLevel = 0, this.broadcaster.broadcast(a.EBattleEvents.PvpComboBreak, this.broadcasterContext, [ this.currentComboLevel ])), 
            n.Util.log("Combo Broken: " + this.currentComboLevel, n.Util.DEV);
        }, t.prototype.setBroadcasterContext = function(t) {
            this.broadcasterContext = t;
        }, t.prototype.createUI = function(t, e, i, a) {
            return new o.ComboMeterUI(t, e, i, a, this.config);
        }, t.prototype.getDamageBoost = function() {
            return this.config.damageBonusPerLevel * this.currentComboLevel + 1;
        }, t;
    }();
    e.ComboMeter = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(142), s = i(3), l = i(34), h = i(252), c = i(51), p = i(30), u = i(0), d = i(767), g = i(765), y = i(230), f = i(229), m = i(234), _ = function(t) {
        function e(e) {
            var i = t.call(this, e, "atlas-17", "atlas-14", [ "battle-coliseum-outside", "atlas-17", "atlas-16", "bgm-2", "bgm-1", "sfx-8", "sfx-16", "tileset-water-new", "tileset-town-new" ]) || this;
            return i.playerA = null, i.playerB = null, i.mods = null, i.teamComboMeter = null, 
            i.opponentComboMeter = null, i.callback = null, i.data = null, i.teams = [], 
            i.teamHearts = null, i.opponentHearts = null, i.currentState = null, 
            i.timeoutTimestamp = null, i.nextHeartbeat = null, i.inCombat = !1, 
            i.processConnections = !0, i.teamA = [], i.teamB = [], i.msgPanel = null, 
            i.timerRect = null, i.messageTop = null, i.messageBottom = null, i.timerPanel = null, 
            i.stateDirty = !1, i.timerRunning = !1, i.timerStart = null, i.textChangeCheck = 0, 
            i.currentManager = null, i.previousTeamHP = [], i.screenName = "battle-", 
            i;
        }
        return n(e, t), e.prototype.create = function() {
            this.game.prodigy.network.leaveZone(), this.game.prodigy.network.setZone(this), 
            this.inCombat = !1, this.processConnections = !0, t.prototype.create.call(this), 
            this.currentState = y.EPVPState.RequestData, this.timeoutTimestamp = Date.now() + 45e3, 
            this.nextHeartbeat = Date.now() + 3e3;
        }, e.prototype.screenSetup = function() {
            this.game.prodigy.player.saveEnabled = !1, this.game.prodigy.network.sendAnalytics("PVP", "start", "Events"), 
            this.game.prodigy.network.sendEvent("PVP", {
                type: "start",
                startType: this.getStartTypeString(),
                classID: this.game.prodigy.player.getLatestClassIDLegacy(),
                grade: this.game.prodigy.player.grade
            });
            var e = new h.TiledRenderer(this.game, this);
            new l.GameObject(this.game, this.background, [ e ], 0, 0), e.render({
                mapName: "battle-coliseum-outside"
            }), this.teamHearts = new r.Hearts(this.game, this.foreground, 30, -150, null, !1), 
            this.opponentHearts = new r.Hearts(this.game, this.foreground, 784, -150, null, !0), 
            this.teamComboMeter = new d.ComboMeter(this.game.broadcaster, new g.PVPComboMeterConfig()), 
            this.opponentComboMeter = new d.ComboMeter(this.game.broadcaster, new g.PVPComboMeterConfig());
            var i = this.teamComboMeter.createUI(this.game, this.foreground, 30, 560), a = this.opponentComboMeter.createUI(this.game, this.foreground, 1250, 560);
            a.flip();
            for (var n = 0; n < this.teamA.length; n++) this.previousTeamHP.push(this.teamA[n].data.hp);
            this.setupBattleHP(this.teamA, !0), this.setupBattleHP(this.teamB, !0), 
            this.teams = [];
            var o = new m.Team(this.game, this.content, this.teamA, !0, -200, 500, 345, 500, this.teamHearts, !0), s = new m.Team(this.game, this.content, this.teamB, !1, 1480, 500, 935, 500, this.opponentHearts, !0);
            this.teams[0] = o, this.teams[1] = s, this.teamComboMeter.setBroadcasterContext(o), 
            this.opponentComboMeter.setBroadcasterContext(s), i.setupListeners(o), 
            a.setupListeners(s), p.Device.isNativeApp() || this.game.prodigy.audio.playBGM(2, !0), 
            this.msgPanel = this.game.prodigy.create.panel(this.foreground, 520, 600, 6, 2, "item-common"), 
            this.timerPanel = this.game.prodigy.create.panel(this.msgPanel, 0, 0, 6, 1, "item-epic"), 
            this.timerPanel.scale.y *= -1, this.timerPanel.y += 80, this.timerRect = this.game.add.graphics(0, 0, this.msgPanel), 
            this.timerRect.beginFill(0, 1), this.timerRect.lineTo(240, 0), this.timerRect.lineTo(240, 40), 
            this.timerRect.lineTo(0, 40), this.timerRect.lineTo(0, 0), this.timerRect.endFill(), 
            this.timerRect.y = 46, this.timerPanel.mask = this.timerRect, this.messageTop = this.game.prodigy.create.font(this.msgPanel, 5, 5, this.game.prodigy.gameContainer.Localizer.getText("PVP_SELECT_ACTION"), {
                width: 230,
                align: "center"
            }), this.messageBottom = this.game.prodigy.create.font(this.msgPanel, 5, 45, this.game.prodigy.gameContainer.Localizer.getText("PVP_TIME_REMAINING"), {
                width: 230,
                align: "center"
            }), this.msgPanel.visible = !1, this.startCombat(), t.prototype.screenSetup.call(this);
        }, e.prototype.onMessage = function(t) {
            u.Util.isValid(this.game) && ("request_data" === t.action ? this.emitMessage({
                action: "data",
                data: {
                    userID: this.game.prodigy.player.userID,
                    equipment: this.game.prodigy.player.equipment.data,
                    appearance: this.game.prodigy.player.appearance.data,
                    data: this.game.prodigy.player.data,
                    pets: this.game.prodigy.player.kennel.data
                }
            }) : "request_init" === t.action ? this.emitMessage({
                action: "init",
                data: {}
            }) : "request_action" === t.action && u.Util.isValid(this.currentManager.currentAction) ? this.emitMessage({
                action: "action",
                data: this.currentManager.currentAction
            }) : "request_next" === t.action && u.Util.isValid(this.currentManager.nextAction) ? this.emitMessage({
                action: "next",
                data: this.currentManager.nextAction
            }) : "action" === t.action && this.currentState === y.EPVPState.RequestAction && u.Util.isValid(t.data) && t.data.turn === this.currentManager.turn ? (this.currentState = y.EPVPState.Working, 
            this.currentManager.processAction(t.data)) : "next" === t.action && this.currentState === y.EPVPState.RequestNextTurn && (this.currentState = y.EPVPState.Working, 
            this.currentManager.playerTurn(t.data)), this.timeoutTimestamp = Date.now() + 6e4);
        }, e.prototype.setState = function(t) {
            this.currentState = t, this.stateDirty = !0;
        }, e.prototype.endCombat = function(t) {
            void 0 === t && (t = "fail"), this.mods.arena && (delete this.game.prodigy.player.data.deserter, 
            this.game.prodigy.player.updated = !0), this.game.prodigy.education.closeQuestion(), 
            this.processConnections = !1, this.nextHeartbeat = null, this.timeoutTimestamp = null, 
            this.game.prodigy.network.sendAnalytics("PVP", t, "Events"), this.game.prodigy.network.sendEvent("PVP", {
                type: t,
                startType: this.getStartTypeString(),
                classID: this.game.prodigy.player.getLatestClassIDLegacy(),
                grade: this.game.prodigy.player.grade
            }), this.endPVP();
        }, e.prototype.update = function() {
            if (t.prototype.update.call(this), this.timerRunning) {
                var i = Date.now() - this.timerStart;
                i > e.SELECT_TIMEOUT ? this.timerRunning && this.currentManager.generateMissAttack() : this.timerRect.x = -i / e.SELECT_TIMEOUT * 240;
            }
            this.processConnections && u.Util.isValid(this.timeoutTimestamp) && this.timeoutTimestamp < Date.now() && (this.inCombat ? (this.processConnections = !1, 
            this.nextHeartbeat = null, this.timeoutTimestamp = null, this.currentManager.processEnd(!0)) : this.endCombat("fail")), 
            this.processConnections && u.Util.isValid(this.nextHeartbeat) && (this.nextHeartbeat < Date.now() || this.stateDirty) && (this.emitMessage({
                action: this.currentState,
                data: {}
            }), this.nextHeartbeat = Date.now() + 3e3, this.stateDirty = !1);
        }, e.prototype.screenUpdate = function() {
            t.prototype.screenUpdate.call(this);
            var e = this.game.prodigy.gameContainer.Localizer;
            if (u.Util.isValid(this.currentManager)) {
                this.msgPanel.visible = this.currentManager.waitingToSelect || this.currentState !== y.EPVPState.Loading && this.currentState !== y.EPVPState.Working && this.currentState !== y.EPVPState.Deserted;
                var i = (this.msgPanel.visible ? 1 : 0) + (this.currentManager.waitingToSelect ? 2 : 0);
                if (this.msgPanel.visible && (this.timerPanel.visible = this.currentManager.waitingToSelect, 
                this.textChangeCheck !== i || this.game.prodigy.updateCount % 25 == 0)) if (this.currentManager.waitingToSelect) this.messageTop.setText(e.getText("PVP_SELECT_ACTION")), 
                this.messageBottom.setText(e.getText("PVP_TIME_REMAINING")); else switch (this.messageTop.setText(e.getText("PVP_WAITING_ON_PLAYER")), 
                this.messageBottom.text.length) {
                  case 0:
                    this.messageBottom.setText(".");
                    break;

                  case 1:
                    this.messageBottom.setText("..");
                    break;

                  case 2:
                    this.messageBottom.setText("...");
                    break;

                  default:
                    this.messageBottom.setText("");
                }
                this.textChangeCheck = i, this.timerRunning ? this.timerRunning = 3 === this.textChangeCheck : (this.timerRunning = 3 === this.textChangeCheck, 
                this.timerRunning && this.startTimer());
            }
            this.game.broadcaster.broadcast(s.EBattleEvents.PvpUpdate, this.teams[0], []), 
            this.game.broadcaster.broadcast(s.EBattleEvents.PvpUpdate, this.teams[1], []);
        }, e.prototype.getOtherPlayerID = function() {
            var t = this.playerB.userID;
            return this.game.prodigy.player.userID === t && (t = this.playerA.userID), 
            u.Util.isValid(t) ? t : this.data.challengerID;
        }, e.prototype.emitMessage = function(t) {
            t.target = this.getOtherPlayerID(), this.game.prodigy.network.emitMessage(t);
        }, e.prototype.startTimer = function() {
            u.Util.isValid(this.timerRect) && (this.timerRect.x = 0, this.game.tweens.removeFrom(this.timerRect), 
            this.timerRunning = !0, this.timerStart = Date.now());
        }, e.prototype.setupBattleHP = function(t, e) {
            for (var i = 0; i < t.length; i++) t[i].inPVP = e, e && t[i].changeCurrentHearts(o.GameConstants.MAX_SAFE_INTEGER);
        }, e.prototype.startCombat = function() {
            this.mods.arena && (this.game.prodigy.player.saveEnabled = !0, this.game.prodigy.player.data.deserter = 1, 
            this.game.prodigy.player.updated = !0, this.game.prodigy.network.updateCharacter(), 
            this.game.prodigy.player.saveEnabled = !1), this.game.add.tween(this.teamHearts).to({
                y: 0
            }, 1e3, Phaser.Easing.Quadratic.Out).start(), this.teams[1].isBoss() && !this.teams[1].showHearts() || this.game.add.tween(this.opponentHearts).to({
                y: 0
            }, 1e3, Phaser.Easing.Quadratic.Out).start(), this.currentManager = new f.PVPManager(this.game, this), 
            this.inCombat = !0;
        }, e.prototype.endPVP = function() {
            this.game.prodigy.education.processAnswerResponses();
            for (var t = 0; t < this.teamA.length; t++) this.teamA[t].inPVP = !1;
            if (u.Util.isValid(this.game.prodigy.player.data.zone) && !this.game.prodigy.player.data.zone.includes("darktower")) this.game.prodigy.player.healTeam(o.GameConstants.MAX_SAFE_INTEGER); else for (t = 0; t < this.teamA.length; t++) this.teamA[t].data.hp = this.previousTeamHP[t];
            this.game.prodigy.player.saveEnabled = !0, this.game.prodigy.network.processPlayer = !0, 
            this.callback();
        }, e.prototype.getStartTypeString = function() {
            var t = "unknown";
            return u.Util.isValid(this.mods) && u.Util.isValid(this.mods.arena) && (t = this.mods.arena ? "findChallenger" : "directChallenge"), 
            t;
        }, e.SELECT_TIMEOUT = 3e4, e;
    }(c.Screen);
    e.PVP = _;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t(t, e, i, a, n, o) {
            this.game = null, this.player = null, this.stateName = null, this.questId = 0, 
            this.defaultValue = null, this.completeValue = null, this.game = t, 
            this.player = e, this.stateName = i, this.questId = a, this.defaultValue = n, 
            this.completeValue = o;
        }
        return t.prototype.isInitialized = function() {
            return a.Util.isValid(this.player.state.get(this.stateName));
        }, t.prototype.init = function() {
            this.player.state.set(this.stateName, {
                questId: this.questId,
                dateId: a.Util.getDateId(),
                questState: this.defaultValue
            });
        }, t.prototype.isComplete = function() {
            return this.player.state.get(this.stateName + "-questState") === this.completeValue;
        }, t.prototype.complete = function() {
            this.player.state.set(this.stateName + "-questState", this.completeValue);
        }, t.prototype.hasDateIdChanged = function() {
            return a.Util.getDateId() !== this.player.state.get(this.stateName + "-dateId");
        }, t;
    }();
    e.Daily = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(135), o = i(96), r = i(4), s = i(0), l = function() {
        function t(t) {
            this.game = t;
        }
        return t.prototype.setup = function(t) {
            this.battleScreen = t, this.team = t.teams[0], this.opponents = t.teams[1], 
            this.game.prodigy.player.achievements.increment("kills", this.opponents.team.length);
            for (var e = [], i = 0, a = this.team.team; i < a.length; i++) {
                var n = a[i];
                n.captured || e.push(n.source);
            }
            var o = this.calculateEarnedXP(this.opponents, this.game.prodigy.player.hasMembership(), this.game.prodigy.player.hasValidatedParentEmail());
            this.game.prodigy.open.resultsMenu(e, o, this.getBattleDrops(), this.getMemberBattleDrops()).setCloseCallback(this.onResultsMenuClosed.bind(this));
        }, t.prototype.onResultsMenuClosed = function() {
            this.battleScreen.endBattle("win");
        }, t.prototype.getBattleDrops = function() {
            return r.Items.getRandomizedDropsFromCreatures(this.battleScreen.drops, this.opponents, !(s.Util.isValid(this.battleScreen.mods) && this.battleScreen.mods.dropsDisabled));
        }, t.prototype.getMemberBattleDrops = function() {
            var t = [];
            return this.opponents.current instanceof n.TitanContainer || t.push({
                type: "gold",
                N: 100
            }), t;
        }, t.prototype.calculateEarnedXP = function(t, e, i) {
            var n = t.team.length * a.GameConstants.get("GameConstants.Battle.STARS_EARNED_PER_OPPONENT");
            n = Math.ceil(n * this.battleScreen.mods.starMod);
            var r = i ? n * a.GameConstants.get("GameConstants.Battle.VALID_PARENT_EMAIL_STARS_PERCENTAGE") : 0, l = s.Util.isValid(this.battleScreen.mods.boss) && s.Util.isValid(this.battleScreen.mods.boss.pippetBattle) ? o.PippetEncounter.data.bonusStars : 0, h = e ? (n + l) * a.GameConstants.get("GameConstants.Battle.MEMBER_STARS_PERCENTAGE") : 0;
            return h += i ? Math.ceil(.05 * h) : 0, r = Math.ceil(r), l = Math.ceil(l), 
            {
                baseXP: n,
                memberXP: h = Math.ceil(h),
                parentLinkXP: r,
                pippetXP: l
            };
        }, t;
    }();
    e.VictoryManager = l;
}, function(t) {
    t.exports = {
        stand: {
            loop: !0,
            head: {
                y: {
                    interval: 30,
                    frames: [ 0, -.2, -.4, -.6, -.8, -1, -1.2, -1.4, -1.6, -1.8, -2, -2.2, -2.4, -2.6, -2.8, -3, -2.8, -2.6, -2.4, -2.2, -2, -1.8, -1.6, -1.4, -1.2, -1, -.8, -.6, -.4, -.3, -.15 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                xScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                yScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            legs: {
                frameName: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            shirt: {
                y: {
                    interval: 30,
                    frames: [ 0, -.15, -.3, -.45, -.6, -.75, -.9, -1.05, -1.2, -1.35, -1.5, -1.65, -1.8, -1.95, -2.1, -2.25, -2.4, -2.4, -2.2, -2, -1.8, -1.6, -1.4, -1.2, -1, -.8, -.6, -.4, -.3, -.2, -.1 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            leftArm: {
                y: {
                    interval: 30,
                    frames: [ 0, -.25, -.5, -.75, -1, -1.25, -1.5, -1.75, -2, -2.25, -2.5, -2.75, -3, -3.25, -3.5, -3.75, -3.75, -3.5, -3.25, -3, -2.75, -2.5, -2.25, -2, -1.75, -1.5, -1.25, -1, -.75, -.5, -.25 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            rightArm: {
                y: {
                    interval: 30,
                    frames: [ 0, -.25, -.5, -.75, -1, -1.25, -1.5, -1.75, -2, -2.25, -2.5, -2.75, -3, -3.25, -3.5, -3.75, -3.75, -3.5, -3.25, -3, -2.75, -2.5, -2.25, -2, -1.75, -1.5, -1.25, -1, -.75, -.5, -.25 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            weapon: {
                x: {
                    interval: 93,
                    frames: [ 0, -.1, -.2, -.3, -.4, -.5, -.4, -.3, -.2, -.1 ]
                },
                y: {
                    interval: 30,
                    frames: [ 0, -.35, -.7, -1.05, -1.4, -1.75, -2.1, -2.45, -2.8, -3.15, -3.5, -3.85, -4.2, -4.55, -4.9, -5.25, -5.25, -4.9, -4.55, -4.2, -3.85, -3.5, -3.15, -2.8, -2.45, -2.1, -1.75, -1.4, -1.05, -.7, -.35 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            transformedObject: {
                y: {
                    interval: 30,
                    frames: [ 0, -.15, -.3, -.45, -.6, -.75, -.9, -1.05, -1.2, -1.35, -1.5, -1.65, -1.8, -1.95, -2.1, -2.25, -2.4, -2.4, -2.2, -2, -1.8, -1.6, -1.4, -1.2, -1, -.8, -.6, -.4, -.3, -.2, -.1 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            }
        },
        standFloat: {
            loop: !0,
            head: {
                y: {
                    interval: 30,
                    frames: [ 0, -.2, -.4, -.6, -.8, -1, -1.2, -1.4, -1.6, -1.8, -2, -2.2, -2.4, -2.6, -2.8, -3, -2.8, -2.6, -2.4, -2.2, -2, -1.8, -1.6, -1.4, -1.2, -1, -.8, -.6, -.4, -.3, -.15 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                xScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                yScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            legs: {
                frameName: {
                    interval: 1e4,
                    frames: [ 3 ]
                },
                y: {
                    interval: 30,
                    frames: [ 0, .1, .2, .3, .4, .5, .6, .7, .8, .9, .9, .85, .8, .75, .7, .65, .6, .55, .5, .45, .4, .35, .3, .25, .2, .15, .1, .05, 0, -.05, -.05 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            shirt: {
                y: {
                    interval: 30,
                    frames: [ 0, -.15, -.3, -.45, -.6, -.75, -.9, -1.05, -1.2, -1.35, -1.5, -1.65, -1.8, -1.95, -2.1, -2.25, -2.4, -2.4, -2.2, -2, -1.8, -1.6, -1.4, -1.2, -1, -.8, -.6, -.4, -.3, -.2, -.1 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            leftArm: {
                y: {
                    interval: 30,
                    frames: [ 0, -.25, -.5, -.75, -1, -1.25, -1.5, -1.75, -2, -2.25, -2.5, -2.75, -3, -3.25, -3.5, -3.75, -3.75, -3.5, -3.25, -3, -2.75, -2.5, -2.25, -2, -1.75, -1.5, -1.25, -1, -.75, -.5, -.25 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            rightArm: {
                y: {
                    interval: 30,
                    frames: [ 0, -.25, -.5, -.75, -1, -1.25, -1.5, -1.75, -2, -2.25, -2.5, -2.75, -3, -3.25, -3.5, -3.75, -3.75, -3.5, -3.25, -3, -2.75, -2.5, -2.25, -2, -1.75, -1.5, -1.25, -1, -.75, -.5, -.25 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            weapon: {
                x: {
                    interval: 93,
                    frames: [ 0, -.1, -.2, -.3, -.4, -.5, -.4, -.3, -.2, -.1 ]
                },
                y: {
                    interval: 30,
                    frames: [ 0, -.35, -.7, -1.05, -1.4, -1.75, -2.1, -2.45, -2.8, -3.15, -3.5, -3.85, -4.2, -4.55, -4.9, -5.25, -5.25, -4.9, -4.55, -4.2, -3.85, -3.5, -3.15, -2.8, -2.45, -2.1, -1.75, -1.4, -1.05, -.7, -.35 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            }
        },
        walk: {
            loop: !0,
            head: {
                y: {
                    interval: 30,
                    frames: [ 0, -1, -2, -2.6, -2.4, -2.2, -2, -1.8, -.5, .2, 1.2, 1.4, 1.5, 1.6 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                xScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                yScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            shirt: {
                y: {
                    interval: 30,
                    frames: [ 0, -.4, -.8, -1, -1.2, -1.5, -1.5, -1.6, -.6, .6, 1.6, 1.5, 1.4, 1.3 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            leftArm: {
                y: {
                    interval: 30,
                    frames: [ 0, -.6, -1.3, -1.7, -2, -2.5, -2.4, -2.3, -1, .2, 1.5, 1.7, 1.9, 2 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            rightArm: {
                y: {
                    interval: 30,
                    frames: [ 0, -.6, -1.3, -1.7, -2, -2.5, -2.4, -2.3, -1, .2, 1.5, 1.7, 1.9, 2 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            weapon: {
                y: {
                    interval: 30,
                    frames: [ 0, -.7, -1.4, -1.9, -2.4, -2.8, -2.8, -2.7, -1.4, -.1, 1.2, 1.3, 1.4, 1.5 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            legs: {
                frameName: {
                    interval: 80,
                    frames: [ 1, 2, 3, 4 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            transformedObject: {
                y: {
                    interval: 30,
                    frames: [ 0, -2.4, -4.8, -6, -7.2, -9, -9, -9.6, -3.6, 1.8, 9.6, 9, 8.4, 7.8 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            }
        },
        walkFloat: {
            loop: !0,
            head: {
                y: {
                    interval: 30,
                    frames: [ -.4, 0, .5, 1, 1.4, 1.9, 2.3, 2.1, 2, 1.8, 1.2, .6, .4, .2, 0, 0, -.1, -.2 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                xScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                yScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            shirt: {
                y: {
                    interval: 30,
                    frames: [ 1.3, 1.5, 1.7, 1.9, 2, 2.2, 2.4, 2.5, 2.7, 2.9, 2.6, 2.3, 1.9, 1.6, 1.3, 1.2, 1.1, 1 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            leftArm: {
                y: {
                    interval: 30,
                    frames: [ 1.3, 1.5, 1.7, 1.9, 2, 2.2, 2.4, 2.5, 2.7, 2.9, 2.6, 2.3, 1.9, 1.6, 1.3, 1.2, 1.1, 1 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            rightArm: {
                y: {
                    interval: 30,
                    frames: [ 1.3, 1.5, 1.7, 1.9, 2, 2.2, 2.4, 2.5, 2.7, 2.9, 2.6, 2.3, 1.9, 1.6, 1.3, 1.2, 1.1, 1 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            weapon: {
                y: {
                    interval: 30,
                    frames: [ 1.3, 1.5, 1.7, 1.9, 2, 2.2, 2.4, 2.5, 2.7, 2.9, 2.6, 2.3, 1.9, 1.6, 1.3, 1.2, 1.1, 1 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            legs: {
                y: {
                    interval: 30,
                    frames: [ 0, -.3, -.6, -.9, -1.2, -1.5, -1.8, -2.1, -1.9, -1.7, -1.5, -1.3, -1.1, -.9, -.7, -.5, -.3, -.1 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                frameName: {
                    interval: 1e4,
                    frames: [ 3 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 15 ]
                }
            }
        },
        dig: {
            loop: !1,
            head: {
                x: {
                    interval: 30,
                    frames: [ -4.4, -1, 2.2, 5.6, 5.4, 5.2, 5, 4.9, 4.7, 4.5, 4.4, 4.2, 4, 3.9, 3.8, 3.6, 2.8, 1.4, .6, -.1, -.9, -1.6, -2.4, -3.1, 0 ]
                },
                y: {
                    interval: 30,
                    frames: [ .4, .2, .9, 1.6, 1.5, 1.4, 1.3, 1.2, 1, 1, .9, .8, .8, .8, .8, .8, .6, .2, 0, -.2, -.4, -.6, -.8, -1, 0 ]
                },
                angle: {
                    interval: 30,
                    frames: [ -4, 0, 2, 6, 10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 8, 6, 5, 4, 3, 2, 1, 0, 0 ]
                }
            },
            shirt: {
                angle: {
                    interval: 30,
                    frames: [ 0, 5, 11, 17, 16, 16, 15, 15, 15, 14, 14, 14, 13, 13, 13, 12, 11, 10, 9, 8, 7, 6, 4, 2, 0 ]
                },
                x: {
                    interval: 30,
                    frames: [ 0, .9, 1.8, 2.7, 2.5, 2.5, 2.4, 2.2, 2.1, 2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.2, 1.1, 1, .9, .8, .7, .6, .4, 0 ]
                },
                y: {
                    interval: 30,
                    frames: [ 0, .5, 1, 1.5, 1.5, 1.4, 1.3, 1.3, 1.2, 1.1, 1, 1, .9, .8, .8, .7, .6, .5, .5, .4, .3, .3, .2, .1, 0 ]
                }
            },
            rightArm: {
                angle: {
                    interval: 30,
                    frames: [ 0, 11, 22, 34, 40, 45, 42, 38, 35, 32, 29, 25, 22, 19, 15, 12, 8, 4, 0, -4, -8, -12, -16, -20, -24 ]
                },
                x: {
                    interval: 30,
                    frames: [ 0, 2.4, 4.9, 7.4, 7, 6.8, 6.5, 6.2, 5.9, 5.7, 5.4, 5.1, 4.8, 4.6, 4.3, 4, 3.5, 3.1, 2.7, 2.3, 1.8, 1.4, 1, .6, .2 ]
                }
            },
            leftArm: {
                angle: {
                    interval: 30,
                    frames: [ 0, 5, 10, 15, 15, 20, 18, 16, 16, 15, 13, 12, 10, 9, 6, 3, 0, -4, -7, -11, -14, -18, -22, -25, -29 ]
                },
                x: {
                    interval: 30,
                    frames: [ 0, 2.4, 4.6, 6.8, 6.6, 6.4, 6.2, 6, 5.8, 5.6, 5.4, 5.2, 5, 4.9, 4.7, 4.5, 4, 3.7, 3.3, 2.9, 2.6, 2.2, 1.7, 1.4, .9 ]
                },
                y: {
                    interval: 30,
                    frames: [ 0, 1.2, 2.4, 3.9, 3.7, 3.6, 3.5, 3.3, 3.2, 3, 2.9, 2.8, 2.6, 2.5, 2.4, 2.3, 2, 1.8, 1.5, 1.3, 1.1, .9, .7, .5, .2 ]
                }
            },
            legs: {
                frameName: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            weapon: {
                x: {
                    interval: 30,
                    frames: [ -25.2, -24.5, -23.8, -22.9, -23.5, -24.8, -24.6, -24.3, -24.2, -24, -23.8, -23.7, -23.5, -22.8, -22.1, -21.5, -20.9, -20.2, -19.6, -18.9, -18.3, -17.7, -17.1, -16.6, -16.2 ]
                },
                y: {
                    interval: 30,
                    frames: [ .4, .1, -.6, -1.3, -1.4, -3.4, -3.1, -2.8, -2.6, -2.3, -2, -1.8, -1.6, -1.4, -1, -.6, -.2, 0, .3, .4, .4, .4, .2, 0, 0, -.5 ]
                },
                angle: {
                    interval: 30,
                    frames: [ 45, 46, 60, 67, 68, 75, 74, 73, 72, 70, 69, 68, 67, 66, 64, 61, 59, 55, 53, 50, 47, 43, 41, 38, 35, 33 ]
                }
            }
        },
        attack: {
            loop: !1,
            head: {
                y: {
                    interval: 30,
                    frames: [ 0, -.1, -.1, -.2, -.2, -.3, .3, .8, 1.4, 2.6, 0, -2.7, -5.4, -8, -10.7, -13.5, -16.1, -18.8, -21.5, -24.2, -26, -28, -24.8, -21.5, -18.3, -15, -11.8, -8.6, -5.4, -2, 1.5, 2, 2, 1.8, 1, 0, -.4, -.8, -.6, -.4, -.2, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            },
            shirt: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            legs: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -2.2, -4.4, -6.6, -8.7, -10.9, -13.1, -15.3, -17.5, -19.7, -21.9, -24.1, -26.27, -23.3, -20.3, -17.4, -14.4, -11.5, -8.5, -5.5, -2.6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                },
                frameName: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            },
            rightArm: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0 ]
                },
                angle: {
                    interval: 30,
                    frames: [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 14, 16, 18, 20, 28, 36, 44, 52, 60, 68, 76, 84, 92, 100, 93, 86, 79, 72, 65, 58, 51, 44, 37, 30, 23, 16, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            },
            leftArm: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0 ]
                },
                angle: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, 0, -8, -16, -24, -32, -40, -48, -56, -64, -72, -80, -85, -90, -95, -100, -104, -107, -97, -87, -77, -67, -57, -47, -37, -27, -17, -7, -5, -3, -2, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            },
            weapon: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, .9, .2, -.7, -1, 8, -3, -7.7, -12.4, -17.13, -21.9, -26.6, -31.3, -35.8, -40.3, -44.5, -48.6, -48.3, -47.7, -41.6, -35.3, -28.9, -22.6, -16.5, -12.8, -9.1, -5.5, -1.8, 0, -.2, -.6, -1, -1.4, -1.8, -2.3, -2.6, -3, -2.9, -2.8, -2.4, -2, -1.5, -1, -.5, 0 ]
                },
                x: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, 1.5, 3, 4.2, 5.2, 5.9, 6.4, 6.5, 6.4, 6, 5.4, 4.5, 3.3, 1.9, .4, 2.7, 4.5, 5.7, 6.4, 6.5, 5.8, 4.7, 4.5, 4.2, 3.9, 3.6, 3.6, 3.5, 3.5, 3.5, 3.4, 3.4, 3.3, 3.3, 3.3, 3.2, 3.2, 3.1, 2.9, 2.5, 2, 1.5, 1, .5, 0 ]
                },
                angle: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, -8, -15, -23, -31, -37, -46, -54, -62, -69, -77, -84, -92, -100, -73, -58, -43, -28, -13, 2, 17, 32, 37, 43, 48, 53, 58, 55, 52, 49, 45, 42, 38, 35, 32, 29, 25, 22, 18, 15, 12, 9, 6, 3, 0 ]
                }
            },
            transformedObject: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            }
        },
        attackFloat: {
            loop: !1,
            head: {
                y: {
                    interval: 30,
                    frames: [ 0, -.1, -.1, -.2, -.2, -.3, .3, .8, 1.4, 2.6, 0, -2.7, -5.4, -8, -10.7, -13.5, -16.1, -18.8, -21.5, -24.2, -26, -28, -24.8, -21.5, -18.3, -15, -11.8, -8.6, -5.4, -2, 1.5, 2, 2, 1.8, 1, 0, -.4, -.8, -.6, -.4, -.2, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            },
            shirt: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            legs: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -2.2, -4.4, -6.6, -8.7, -10.9, -13.1, -15.3, -17.5, -19.7, -21.9, -24.1, -26.27, -23.3, -20.3, -17.4, -14.4, -11.5, -8.5, -5.5, -2.6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                },
                frameName: {
                    interval: 1e4,
                    frames: [ 3 ]
                },
                angle: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, -1, -2, -3, -5, -8, -10, -12, -14, -16, -18, -20, -22, -24, -24, -24, -24, -24, -24, -24, -24, -24, -24, -23, -22, -21, -20, -19, -18, -17, -16, -15, -14, -13, -12, -11, -10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0 ]
                }
            },
            rightArm: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0 ]
                },
                angle: {
                    interval: 30,
                    frames: [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 14, 16, 18, 20, 28, 36, 44, 52, 60, 68, 76, 84, 92, 100, 93, 86, 79, 72, 65, 58, 51, 44, 37, 30, 23, 16, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            },
            leftArm: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0 ]
                },
                angle: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, 0, -8, -16, -24, -32, -40, -48, -56, -64, -72, -80, -85, -90, -95, -100, -104, -107, -97, -87, -77, -67, -57, -47, -37, -27, -17, -7, -5, -3, -2, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            },
            weapon: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, .9, .2, -.7, -1, 8, -3, -7.7, -12.4, -17.13, -21.9, -26.6, -31.3, -35.8, -40.3, -44.5, -48.6, -48.3, -47.7, -41.6, -35.3, -28.9, -22.6, -16.5, -12.8, -9.1, -5.5, -1.8, 0, -.2, -.6, -1, -1.4, -1.8, -2.3, -2.6, -3, -2.9, -2.8, -2.4, -2, -1.5, -1, -.5, 0 ]
                },
                x: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, 1.5, 3, 4.2, 5.2, 5.9, 6.4, 6.5, 6.4, 6, 5.4, 4.5, 3.3, 1.9, .4, 2.7, 4.5, 5.7, 6.4, 6.5, 5.8, 4.7, 4.5, 4.2, 3.9, 3.6, 3.6, 3.5, 3.5, 3.5, 3.4, 3.4, 3.3, 3.3, 3.3, 3.2, 3.2, 3.1, 2.9, 2.5, 2, 1.5, 1, .5, 0 ]
                },
                angle: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, -8, -15, -23, -31, -37, -46, -54, -62, -69, -77, -84, -92, -100, -73, -58, -43, -28, -13, 2, 17, 32, 37, 43, 48, 53, 58, 55, 52, 49, 45, 42, 38, 35, 32, 29, 25, 22, 18, 15, 12, 9, 6, 3, 0 ]
                }
            }
        },
        attackBig: {
            loop: !1,
            head: {
                y: {
                    interval: 30,
                    frames: [ 0, -.1, -.1, -.2, -.2, -.3, .3, .8, 1.4, 2.6, 0, -2.7, -5.4, -8, -10.7, -13.5, -16.1, -18.8, -21.5, -24.2, -26, -28, -24.8, -21.5, -18.3, -15, -11.8, -8.6, -5.4, -2, 1.5, 2, 2, 1.8, 1, 0, -.4, -.8, -.6, -.4, -.2, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            },
            shirt: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            legs: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -2.2, -4.4, -6.6, -8.7, -10.9, -13.1, -15.3, -17.5, -19.7, -21.9, -24.1, -26.27, -23.3, -20.3, -17.4, -14.4, -11.5, -8.5, -5.5, -2.6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                },
                frameName: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            },
            rightArm: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0 ]
                },
                angle: {
                    interval: 30,
                    frames: [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 14, 16, 18, 20, 28, 36, 44, 52, 60, 68, 76, 84, 92, 100, 93, 86, 79, 72, 65, 58, 51, 44, 37, 30, 23, 16, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            },
            leftArm: {
                y: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0 ]
                },
                angle: {
                    interval: 30,
                    frames: [ 0, 0, 0, 0, 0, 0, 0, -8, -16, -24, -32, -40, -48, -56, -64, -72, -80, -85, -90, -95, -100, -104, -107, -97, -87, -77, -67, -57, -47, -37, -27, -17, -7, -5, -3, -2, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            },
            weapon: {
                angle: {
                    interval: 30,
                    frames: [ 23, 24, 26, 27, 29, 30, 32, 33, 25, 16, 8, 0, -8, -16, -25, -33, -29, -26, -20, -15, -9, -3, 3, 8.5, 14, 22, 26, 31, 36, 40, 43, 43, 44, 45, 45, 46, 47, 48, 49, 47, 45, 43, 42, 40, 41, 42, 42, 43, 44, 45 ]
                },
                x: {
                    interval: 30,
                    frames: [ -26.1, -27.6, -29.2, -31, -32.7, -34.6, -36.6, -38.6, -35, -31.6, -28.7, -26.6, -25.1, -24, -23.5, -23.5, -23.5, -23.5, -23, -22.4, -22, -22, -21.4, -21.4, -21.7, -22.2, -24.1, -26, -28, -30.3, -32.7, -32, -33, -33, -33, -34, -34, -34.3, -34.6, -36.5, -38.5, -40.4, -42.3, -44.2, -38.2, -32.3, -27, -21, -16, -6 ]
                },
                y: {
                    interval: 30,
                    frames: [ 13.5, 14.6, 15.7, 16.6, 17.4, 18, 18.5, 18.8, 19.8, 19.8, 19.1, 17, 14.7, 5.2, -4.2, -13.4, -21.5, -29.6, -36, -42.2, -37, -31.6, -26, -19.9, -13.6, -7.1, -2, 3, 8, 12, 15.8, 15.2, 15, 15, 15, 15, 15, 14.7, 14.6, 14.5, 14.3, 14, 14, 13.4, 15.2, 16, 16, 15, 15, 12.4 ]
                }
            }
        },
        moonwalkfemale: {
            loop: !0,
            rightArm: {
                x: {
                    interval: 40,
                    frames: [ 0, .5, 1, 1.4, 1.9, 1.5, 1, .5, 0, .4, .9, 1.4, 1.9, 1.5, 1, .5, 0, .4, .9, 1.4, 2, 1.5, 1, .5, 0, .4, .9, 1.5, 2, 1.5, 1, .5, 0, .4, 1, 1.5, 2.1, 1.6, 1, .4, -.2, .4, 1, 1.6, 2.3, 1.6, .8, 0, -.9 ]
                },
                y: {
                    interval: 40,
                    frames: [ 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0 ]
                }
            },
            character: {
                x: {
                    interval: 40,
                    frames: [ 0, -1.2, -2.4, -3.6, -4.8, -6, -7.2, -8.4, -9.6, -11.2, -12.4, -13.6, -14.8, -16, -17.2, -18.4, -19.6, -21.2, -22.4, -23.6, -24.8, -26, -27.2, -28.4, -29.6, -28.8, -27.6, -26.4, -25.2, -24, -22.8, -21.6, -20.4, -18.8, -17.6, -16.4, -15.2, -14, -12.8, -11.6, -10.4, -8.8, -7.6, -6.4, -5.2, -4, -2.8, -1.6, -.4 ]
                },
                xScale: {
                    interval: 40,
                    frames: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1 ]
                }
            },
            head: {
                y: {
                    interval: 40,
                    frames: [ 0, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1 ]
                },
                xScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                yScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            shirt: {
                y: {
                    interval: 40,
                    frames: [ 0, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, -2 ]
                }
            },
            leftArm: {
                x: {
                    interval: 40,
                    frames: [ 0, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1 ]
                },
                y: {
                    interval: 40,
                    frames: [ 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0 ]
                }
            },
            legs: {
                frameName: {
                    interval: 40,
                    frames: [ 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4 ]
                }
            }
        },
        moonwalkmale: {
            loop: !0,
            rightArm: {
                x: {
                    interval: 40,
                    frames: [ 0, .5, 1, 1.4, 1.9, 1.5, 1, .5, 0, .4, .9, 1.4, 1.9, 1.5, 1, .5, 0, .4, .9, 1.4, 2, 1.5, 1, .5, 0, .4, .9, 1.5, 2, 1.5, 1, .5, 0, .4, 1, 1.5, 2.1, 1.6, 1, .4, -.2, .4, 1, 1.6, 2.3, 1.6, .8, 0, -.9 ]
                },
                y: {
                    interval: 40,
                    frames: [ 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0 ]
                }
            },
            character: {
                x: {
                    interval: 40,
                    frames: [ 0, -1.2, -2.4, -3.6, -4.8, -6, -7.2, -8.4, -9.6, -11.2, -12.4, -13.6, -14.8, -16, -17.2, -18.4, -19.6, -21.2, -22.4, -23.6, -24.8, -26, -27.2, -28.4, -29.6, -28.8, -27.6, -26.4, -25.2, -24, -22.8, -21.6, -20.4, -18.8, -17.6, -16.4, -15.2, -14, -12.8, -11.6, -10.4, -8.8, -7.6, -6.4, -5.2, -4, -2.8, -1.6, -.4 ]
                },
                xScale: {
                    interval: 40,
                    frames: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1 ]
                }
            },
            head: {
                y: {
                    interval: 40,
                    frames: [ 0, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1 ]
                },
                xScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                yScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            shirt: {
                y: {
                    interval: 40,
                    frames: [ 0, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, -2 ]
                }
            },
            leftArm: {
                x: {
                    interval: 40,
                    frames: [ 0, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1 ]
                },
                y: {
                    interval: 40,
                    frames: [ 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0 ]
                }
            },
            legs: {
                frameName: {
                    interval: 40,
                    frames: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4 ]
                }
            }
        },
        runningMan: {
            loop: !0,
            character: {
                x: {
                    interval: 40,
                    frames: [ 0, 0, 2.67, 2.67, 4.67, 4.67, 6.67, 8.67, 8.67, 8.67, 8.67, 8.67, 7.67, 6.67, 5.67, 4.67, 2.67, 2.67, 0, 0, 0, 0 ]
                }
            },
            leftArm: {
                x: {
                    interval: 1e4,
                    frames: [ -1.31 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 1.52 ]
                },
                xScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                yScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                angle: {
                    interval: 40,
                    frames: [ -18.45, -13.9, -9.4, -4.8, -.3, -2.4, -5.3, -8.1, -10.9, -13.7, -16.5, -27.2, -36, -44.7, -53.5, -62.3, -59.3, -49.1, -38.9, -28.7 ]
                }
            },
            rightArm: {
                x: {
                    interval: 1e4,
                    frames: [ -1 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ -1 ]
                },
                angle: {
                    interval: 40,
                    frames: [ .39, -5.4, -11.3, -17.1, -23, -28.8, -26.8, -20, -13.2, -6.4, 13.8, 27.2, 40.6, 54, 67.3, 62.8, 47.2, 31.6, 16, 8 ]
                }
            },
            head: {
                y: {
                    interval: 40,
                    frames: [ -2, -1.5, -1.1, -.6, -.2, .3, .7, .3, -.4, -1.2, -1.9, -1.6, -1.1, -.7, -.2, .2, .7, .3, -.4, -1.2, -1.9 ]
                },
                xScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                yScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            shirt: {
                y: {
                    interval: 40,
                    frames: [ -2, -1.7, -1.4, -1.1, -.8, -.5, -.2, -.5, -1, -1.4, -1.9, -1.8, -1.6, -1.4, -1.2, -1, -.8, -1.2, -1.8, -2.3, -2.9 ]
                }
            },
            legs: {
                frameName: {
                    interval: 40,
                    frames: [ 1, 1, 2, 2, 2, 2, 3, 3, 3, 4, 4, 1, 1, 2, 2, 2, 3, 3, 3, 3, 4, 4 ]
                }
            }
        },
        hammermale: {
            loop: !0,
            character: {
                x: {
                    interval: 40,
                    frames: [ 0, .4, .7, 1.1, 1.4, 1.8, 2.2, 2.5, 2.9, 3.9, 4.8, 5.7, 6.9, 7.8, 8.7, 9.9, 10.8, 11.7, 12.9, 13.8, 14.7, 15.9, 16.8, 17.7, 17.4, 16.8, 16.2, 15.6, 14.1, 13.2, 12.3, 11.1, 10.2, 9.3, 8.1, 7.2, 6.3, 5.1, 4.2, 3.3, 2.1, 1.2, .3, 0, 0, 0 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            head: {
                x: {
                    interval: 40,
                    frames: [ 0, .4, .8, 1.6, 2.4, 2.8, 2.4, 1.6, 1.2, .4, -.4, -.8, -1.6, -2.4, -2.8, -2.4, -1.6, -1.2, -.4, .4, .8, 1.6, 2.4, 2.8, 2.4, 1.6, 1.2, .4, -.4, -.8, -1.6, -2.4, -2.8, -2.4, -1.6, -1.2, -.4 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                xScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                yScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            rightArm: {
                x: {
                    interval: 40,
                    frames: [ 0, .2, .3, .5, .6, .8, 1, 1.1, 1.3, 1.4, 1.6, 1.8, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1 ]
                },
                y: {
                    interval: 40,
                    frames: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, -.1, -.1, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0 ]
                },
                angle: {
                    interval: 40,
                    frames: [ 0, 8.7, 17.4, 26, 34.7, 43.4, 52.1, 60.7, 69.4, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 54.9, 37.6, 20.3, 3 ]
                }
            },
            leftArm: {
                x: {
                    interval: 40,
                    frames: [ 0, .2, .3, .5, .6, .8, 1, 1.1, 1.3, 1.4, 1.6, 1.8, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 40,
                    frames: [ 0, -6.9, -13.8, -20.6, -27.5, -34.4, -41.3, -48.2, -55, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -43.6, -29.8, -16.1, -2.4 ]
                }
            },
            legs: {
                frameName: {
                    interval: 40,
                    frames: [ 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0, 2, 2, 2, 2, 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0, 2, 2, 2, 2, 0, 0, 0, 2, 2, 2, 0, 0, 0, 0 ]
                }
            }
        },
        hammerfemale: {
            loop: !0,
            character: {
                x: {
                    interval: 40,
                    frames: [ 0, .4, .7, 1.1, 1.4, 1.8, 2.2, 2.5, 2.9, 3.9, 4.8, 5.7, 6.9, 7.8, 8.7, 9.9, 10.8, 11.7, 12.9, 13.8, 14.7, 15.9, 16.8, 17.7, 17.4, 16.8, 16.2, 15.6, 14.1, 13.2, 12.3, 11.1, 10.2, 9.3, 8.1, 7.2, 6.3, 5.1, 4.2, 3.3, 2.1, 1.2, .3, 0, 0, 0 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            head: {
                x: {
                    interval: 40,
                    frames: [ 0, .4, .8, 1.6, 2.4, 2.8, 2.4, 1.6, 1.2, .4, -.4, -.8, -1.6, -2.4, -2.8, -2.4, -1.6, -1.2, -.4, .4, .8, 1.6, 2.4, 2.8, 2.4, 1.6, 1.2, .4, -.4, -.8, -1.6, -2.4, -2.8, -2.4, -1.6, -1.2, -.4 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                xScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                yScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                }
            },
            rightArm: {
                x: {
                    interval: 40,
                    frames: [ 0, .2, .3, .5, .6, .8, 1, 1.1, 1.3, 1.4, 1.6, 1.8, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1 ]
                },
                y: {
                    interval: 40,
                    frames: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, -.1, -.1, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0 ]
                },
                angle: {
                    interval: 40,
                    frames: [ 0, 8.7, 17.4, 26, 34.7, 43.4, 52.1, 60.7, 69.4, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 54.9, 37.6, 20.3, 3 ]
                }
            },
            leftArm: {
                x: {
                    interval: 40,
                    frames: [ 0, .2, .3, .5, .6, .8, 1, 1.1, 1.3, 1.4, 1.6, 1.8, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 40,
                    frames: [ 0, -6.9, -13.8, -20.6, -27.5, -34.4, -41.3, -48.2, -55, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -43.6, -29.8, -16.1, -2.4 ]
                }
            },
            legs: {
                frameName: {
                    interval: 40,
                    frames: [ 1, 1, 1, 1, 1, 1, 3, 3, 3, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 3, 3, 3, 4, 4, 4, 4, 1, 1, 1, 1, 1, 3, 3, 3, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 3, 3, 3, 4, 4, 4, 4 ]
                }
            }
        },
        shimmy: {
            loop: !0,
            rightArm: {
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 40,
                    frames: [ .13, -17, -34.2, -51.4, -68.5, -103, -120.4, -118.4, -107.8, -97.1, -86.5, -93.9, -111.9, -129.9, -118.2, -100.6, -83.1, -68.4, -59.5, -50.6, -41.7, -51.9, -63.6, -75.3, -68.8, -58.5, -48.2, -37.9, -43, -58.4, -73.8, -64.6, -50, -35.4, -41.8, -53, -64.2, -75.3, -72.4, -67.5, -62.6, -57.7, -52.9, -48, -43.1, -38.2, -33.3, -28.5, -23.6, -18.7, -13.8, -8.9, -4 ]
                }
            },
            leftArm: {
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 40,
                    frames: [ 0, -10.3, -20.6, -30.8, -41.1, -56.6, -61.8, -51.3, -38.2, -25.1, -12, -17.9, -36.9, -55.9, -45.1, -28.1, -11.1, -19.3, -32.9, -46.6, -60.2, -41.8, -21, -.2, -7.5, -21.5, -35.5, -49.5, -42.2, -20.9, .4, -14, -35.9, -57.7, -61, -57.1, -53.2, -49.3, -45.4, -41.5, -37.6, -33.8, -29.9, -26, -22.1, -18.2, -14.3, -10.4, -6.6, -2.7, 1.2, 5.1, 9 ]
                }
            },
            head: {
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                y: {
                    interval: 40,
                    frames: [ 0, .4, .8, 1.2, 1.7, 1.2, .4, .7, 1.3, 2, 2.6, 2, .8, -.5, .2, 1.2, 2.3, 1.9, 1.1, .3, -.5, .4, 1.5, 2.5, 2.1, 1.3, .6, -.2, -.1, .7, 1.5, 1.4, 1.1, .8, 1.1, 1.5, 1.9, 2.4, 2.3, 2.1, 2, 1.8, 1.7, 1.5, 1.4, 1.3, 1.1, 1, .8, .7, .5, .4, .2 ]
                },
                angle: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                xScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                },
                yScale: {
                    interval: 1e4,
                    frames: [ 1 ]
                }
            },
            legs: {
                frameName: {
                    interval: 40,
                    frames: [ 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            }
        },
        dabfemale: {
            loop: !0,
            character: {
                xScale: {
                    interval: 2040,
                    frames: [ 1, -1 ]
                }
            },
            legs: {
                frameName: {
                    interval: 40,
                    frames: [ 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ]
                },
                x: {
                    interval: 40,
                    frames: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6 ]
                }
            },
            rightArm: {
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 40,
                    frames: [ 0, -6.7, -13.4, -20.2, -26.9, -33.6, -40.3, -47.1, -60.8, -70.5, -80.2, -90.9, -100.7, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120 ]
                }
            },
            leftArm: {
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 40,
                    frames: [ 0, -6.1, -12.2, -18.4, -24.5, -30.6, -36.7, -42.9, -49, -55.1, -61.2, -67.3, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80 ]
                }
            },
            head: {
                x: {
                    interval: 40,
                    frames: [ 0, -.2, -.4, -.6, -.8, -1, -1.3, -1.5, -1.7, -1.9, -2.1, -2.3, -2.3, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12 ]
                },
                y: {
                    interval: 40,
                    frames: [ 0, -.4, -.7, -1.1, -1.5, -1.9, -2.2, -2.6, -3, -3, -3, -3, -3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2 ]
                },
                xScale: {
                    interval: 40,
                    frames: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1 ]
                },
                angle: {
                    interval: 40,
                    frames: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94 ]
                }
            },
            shirt: {
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                y: {
                    interval: 40,
                    frames: [ 0, -.3, -.5, -.8, -1.1, -1.4, -1.6, -1.9, -2.2, -2.4, -2.7, -3, 1, .9, .7, .6, .5, .3, .2, 0, .1, .1, .2, .3, .3, .4, .5, .5, .6, .7, .7, .8, .9, .9, 1, 1.1, 1, .9, .8, .7, .6, .5, .4, .3, .2, .1, 0, 0, 0, 0, 0 ]
                }
            }
        },
        dabmale: {
            loop: !0,
            character: {
                xScale: {
                    interval: 2040,
                    frames: [ 1, -1 ]
                }
            },
            legs: {
                frameName: {
                    interval: 40,
                    frames: [ 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                }
            },
            rightArm: {
                x: {
                    interval: 1e4,
                    frames: [ -2 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 40,
                    frames: [ 0, -6.7, -13.4, -20.2, -26.9, -33.6, -40.3, -47.1, -60.8, -70.5, -80.2, -90.9, -100.7, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120 ]
                }
            },
            leftArm: {
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                y: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                angle: {
                    interval: 40,
                    frames: [ 0, -6.1, -12.2, -18.4, -24.5, -30.6, -36.7, -42.9, -49, -55.1, -61.2, -67.3, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80 ]
                }
            },
            head: {
                x: {
                    interval: 40,
                    frames: [ 0, -.2, -.4, -.6, -.8, -1, -1.3, -1.5, -1.7, -1.9, -2.1, -2.3, -2.3, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12 ]
                },
                y: {
                    interval: 40,
                    frames: [ 0, -.4, -.7, -1.1, -1.5, -1.9, -2.2, -2.6, -3, -3, -3, -3, -3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4 ]
                },
                xScale: {
                    interval: 40,
                    frames: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1 ]
                },
                angle: {
                    interval: 40,
                    frames: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94 ]
                }
            },
            shirt: {
                x: {
                    interval: 1e4,
                    frames: [ 0 ]
                },
                y: {
                    interval: 40,
                    frames: [ 0, -.3, -.5, -.8, -1.1, -1.4, -1.6, -1.9, -2.2, -2.4, -2.7, -3, 1, .9, .7, .6, .5, .3, .2, 0, .1, .1, .2, .3, .3, .4, .5, .5, .6, .7, .7, .8, .9, .9, 1, 1.1, 1, .9, .8, .7, .6, .5, .4, .3, .2, .1, 0, 0, 0, 0, 0 ]
                }
            }
        },
        floatDig: {},
        setup: {}
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = i(43), l = i(50), h = function(t) {
        function e(e) {
            var i = t.call(this) || this;
            return i.player = null, i.renderer = null, i.animStates = {
                stand: "idle",
                walk: "walk"
            }, i.player = e, i;
        }
        return n(e, t), e.prototype.create = function() {
            t.prototype.create.call(this), this.renderer = this.gameObject.findComponent(l.Renderer), 
            this.renderer.setAnchor(.5, 0), this.gameObject.game.broadcaster.addAppListener(o.EPlayerContainerEvents.NewAnimationStateSet, this.playAnimation.bind(this), this, this.player), 
            this.playAnimation(this.player.animStates.STAND);
        }, e.prototype.hasUniqueInstance = function() {
            return !0;
        }, e.prototype.destroy = function() {
            r.Util.isValid(this.gameObject.game) && this.gameObject.game.broadcaster.removeAppListener(o.EPlayerContainerEvents.NewAnimationStateSet, this, this.player);
        }, e.prototype.playAnimation = function(t) {
            var e = this.animStates[t];
            r.Util.isValid(e) ? this.renderer.playAnimation(e, !0) : this.renderer.playAnimation(this.animStates.stand, !0);
        }, e;
    }(s.Component);
    e.MountBehaviour = h;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(772), n = i(34), o = i(128), r = i(50), s = i(52), l = i(4), h = i(0), c = function() {
        function t(t, e, i) {
            this.mountBelowGameObject = null, this.mountAboveGameObject = null, 
            this.game = null, this.player = null, this.id = 0, this.mountBelowRenderer = null, 
            this.particleEmitterGameObject = null, this.itemData = null, this.game = t, 
            this.player = e, this.id = i, this.create();
        }
        return t.prototype.create = function() {
            this.itemData = l.Items.getItem("mount", this.id), this.mountBelowGameObject = this.createMountGameObject("below-mount-" + this.id, this.itemData.metadata.assets.below), 
            this.mountBelowGameObject.z = 0, this.mountBelowRenderer = this.mountBelowGameObject.findComponent(r.Renderer), 
            this.mountAboveGameObject = this.createMountGameObject("above-mount-" + this.id, this.itemData.metadata.assets.above), 
            this.mountAboveGameObject.z = this.player.sprites.children.length + 1, 
            this.player.sprites.sort("z", Phaser.Group.SORT_ASCENDING);
        }, t.prototype.createMountGameObject = function(t, e) {
            var i = new a.MountBehaviour(this.player), o = s.RenderFactory.createRenderer(t, e);
            return new n.GameObject(this.game, null, [ o, i ], e.x * (1 / this.player.sprites.scale.x), e.y * (1 / this.player.sprites.scale.y));
        }, t.prototype.createParticleEmitter = function() {
            return new o.ParticleEmitter({
                ID: 5,
                x: -50,
                y: 20
            }, this.game.particleStorm, this.game.time, Phaser.ParticleStorm.SPRITE);
        }, t.prototype.update = function() {
            var t = {
                x: 0,
                y: -40
            };
            this.player.isFacingLeft() && (t.x = this.mountBelowRenderer.getWidth() + 5), 
            h.Util.isValid(this.particleEmitterGameObject) && (this.particleEmitterGameObject.x = this.player.x + t.x, 
            this.particleEmitterGameObject.y = this.player.y + t.y);
        }, t.prototype.destroy = function() {
            h.Util.isValid(this.mountAboveGameObject) && (this.mountAboveGameObject.destroy(), 
            this.mountAboveGameObject = null), h.Util.isValid(this.mountBelowGameObject) && (this.mountBelowGameObject.destroy(), 
            this.mountBelowGameObject = null), this.stopParticles();
        }, t.prototype.startParticles = function() {
            if (!h.Util.isValid(this.particleEmitterGameObject)) {
                var t = new Phaser.Point(this.player.x + this.itemData.metadata.assets.below.x, this.player.y + this.itemData.metadata.assets.below.y), e = this.createParticleEmitter();
                this.particleEmitterGameObject = new n.GameObject(this.game, this.player.parent, [ e ], t.x, t.y);
            }
        }, t.prototype.stopParticles = function() {
            h.Util.isValid(this.particleEmitterGameObject) && (h.Util.isValid(this.particleEmitterGameObject.game) && this.particleEmitterGameObject.destroy(), 
            this.particleEmitterGameObject = null);
        }, t;
    }();
    e.MountRenderer = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n, o) {
            return t.call(this, e, i, a, n, o) || this;
        }
        return n(e, t), e.prototype.startLoad = function() {
            this.outOfDate = !1, this.loading = !0, this.game.prodigy.load.assets([ "spine-15" ], this.setup.bind(this));
        }, e.prototype.setup = function() {
            var t = this.game.prodigy.create.element(this.sprites, 0, 0);
            this.spine = this.game.add.spine(0, 0, "spine-15"), this.idle(), t.add(this.spine), 
            this.complete = !0, this.loading = !1;
        }, e.prototype.idle = function() {
            this.spine.setAnimationByName(0, "idle", !0), this.spine.setToSetupPose();
        }, e.prototype.attack = function() {
            this.spine.setAnimationByName(0, "attack", !1), this.spine.addAnimationByName(0, "idle", !0), 
            this.spine.setToSetupPose();
        }, e;
    }(i(49).BossContainer);
    e.PippetContainer = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n, o) {
            return t.call(this, e, i, a, n, o) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            var t = this.game.prodigy.create.element(this.sprites, 0, 0);
            this.spine = this.game.add.spine(0, 0, "default-boss-15"), this.idle(), 
            t.add(this.spine), this.showName(!0, "Old One"), this.nameText.y = -430, 
            this.nameText.x -= 10;
        }, e.prototype.idle = function() {
            this.spine.setAnimationByName(0, "idle", !0), this.spine.setToSetupPose();
        }, e.prototype.attack = function() {
            this.spine.setAnimationByName(0, "attack", !1), this.spine.addAnimationByName(0, "idle", !0), 
            this.spine.setToSetupPose();
        }, e;
    }(i(49).BossContainer);
    e.OldOneContainer = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(22), r = i(15), s = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, r, s, l, h, r.moveIn ? 12e3 : 8500) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            var e = this, i = this.game.prodigy.event.create();
            this.atk.moveIn ? (this.epic = new o.MonsterContainer(this.game, this.overLayer.parent, new r.Monster(this.game, {
                ID: 133
            }), 2, -200, 500, !1), this.epic.loadedCallback = function() {
                e.epic.scale.x = .5, e.epic.scale.y = .5, t.prototype.setupNoAnimation.call(e, 8800);
                var a = e.overLayer.parent;
                a.sort("y", Phaser.Group.SORT_ASCENDING), a.bringToTop(e.overLayer), 
                i.path(e.epic, [ {
                    x: 345
                } ]), i.function(e.epic.attack.bind(e.epic)), i.sound(8, "cast"), 
                i.delay(1e3), i.function(e.doAttack.bind(e)), i.delay(7500), i.path(e.epic, [ {
                    x: -200
                } ]), i.start();
            }, this.epic.startLoad()) : (this.setupNoAnimation(6500), i.sound(8, "cast"), 
            i.delay(1e3), i.function(this.doAttack.bind(this)), i.start());
        }, e;
    }(i(139).Zero);
    e.UmbraBlast = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(22), r = i(15), s = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, r, s, l, h, r.moveIn ? 7500 : 4e3) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            var e = this, i = this.game.prodigy.event.create();
            this.atk.moveIn ? (this.epic = new o.MonsterContainer(this.game, this.overLayer.parent, new r.Monster(this.game, {
                ID: 131
            }), 2, -200, 500, !1), this.epic.loadedCallback = function() {
                e.epic.scale.x = .5, e.epic.scale.y = .5, t.prototype.setupNoAnimation.call(e, 5100);
                var a = e.overLayer.parent;
                a.sort("y", Phaser.Group.SORT_ASCENDING), a.bringToTop(e.overLayer), 
                i.path(e.epic, [ {
                    x: 345
                } ]), i.function(e.epic.attack.bind(e.epic)), i.sound(8, "cast"), 
                i.delay(1e3), i.function(e.doAttack.bind(e)), i.delay(3400), i.path(e.epic, [ {
                    x: -200
                } ]), i.start();
            }, this.epic.startLoad()) : (t.prototype.setupNoAnimation.call(this, 2300), 
            i.sound(8, "cast"), i.delay(1e3), i.function(this.doAttack.bind(this)), 
            i.start());
        }, e;
    }(i(245).Geyser);
    e.Tsunami = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(22), r = i(15), s = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, r, s, l, h, r.moveIn ? 11e3 : 8e3) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            var e = this, i = this.game.prodigy.event.create();
            this.atk.moveIn ? (this.epic = new o.MonsterContainer(this.game, this.overLayer.parent, new r.Monster(this.game, {
                ID: 132
            }), 2, -200, 500, !1), this.epic.loadedCallback = function() {
                e.epic.scale.x = .5, e.epic.scale.y = .5, t.prototype.setupNoAnimation.call(e, 8800);
                var a = e.overLayer.parent;
                a.sort("y", Phaser.Group.SORT_ASCENDING), a.bringToTop(e.overLayer), 
                i.path(e.epic, [ {
                    x: 345
                } ]), i.function(e.epic.attack.bind(e.epic)), i.sound(8, "cast"), 
                i.delay(1e3), i.function(e.doAttack.bind(e)), i.delay(7e3), i.path(e.epic, [ {
                    x: -200
                } ]), i.start();
            }, this.epic.startLoad()) : (t.prototype.setupNoAnimation.call(this, 6500), 
            i.sound(8, "cast"), i.delay(1e3), i.function(this.doAttack.bind(this)), 
            i.start());
        }, e;
    }(i(246).Dragos);
    e.Totality = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(22), r = i(9), s = i(15), l = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, r.moveIn ? 9500 : 6500, "water", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            var e = this, i = this.game.prodigy.event.create();
            this.atk.moveIn ? (this.epic = new o.MonsterContainer(this.game, this.overLayer.parent, new s.Monster(this.game, {
                ID: 128
            }), 2, -200, 500, !1), this.epic.loadedCallback = function() {
                e.epic.scale.x = e.epic.battleScale, e.epic.scale.y = e.epic.battleScale, 
                t.prototype.setup.call(e, 8700);
                var a = e.overLayer.parent;
                a.sort("y", Phaser.Group.SORT_ASCENDING), a.bringToTop(e.overLayer), 
                i.path(e.epic, [ {
                    x: 345
                } ]), i.function(e.epic.attack.bind(e.epic)), i.sound(8, "cast"), 
                i.delay(1e3), i.function(e.doAttack.bind(e)), i.delay(5e3), i.path(e.epic, [ {
                    x: -200
                } ]), i.start();
            }, this.epic.startLoad()) : (t.prototype.setup.call(this, 6e3), i.sound(8, "cast"), 
            i.delay(1e3), i.function(this.doAttack.bind(this)), i.start());
        }, e.prototype.doAttack = function() {
            this.game.prodigy.audio.playSound(6), this.game.prodigy.effects.shake(0, 1500, 3, "v");
            var t = this.game.prodigy.create.sprite(r.Attack.BX, r.Attack.BY, "atlas-16", "water-whirl");
            this.underLayer.add(t), t.scale.x = t.scale.y = 0, t.anchor.setTo(.5, .5), 
            this.game.add.tween(t).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).to({
                angle: -1e3
            }, 6e3, Phaser.Easing.Linear.None).start(), this.game.add.tween(t.scale).to({
                x: 1.5,
                y: 1.5
            }, 2e3, Phaser.Easing.Linear.None).to({}, 3e3, Phaser.Easing.Linear.None).to({
                x: 0,
                y: 0
            }, 1e3, Phaser.Easing.Linear.None).start();
            var e = this.target.scale;
            this.game.add.tween(this.target.scale).to({
                x: -1
            }, 500, Phaser.Easing.Linear.None).delay(1e3).to({
                x: 1
            }, 500, Phaser.Easing.Linear.None).to({
                x: -.8
            }, 400, Phaser.Easing.Linear.None).to({
                x: .8
            }, 400, Phaser.Easing.Linear.None).to({
                x: -.6
            }, 300, Phaser.Easing.Linear.None).to({
                x: .6
            }, 300, Phaser.Easing.Linear.None).to({
                x: -.4
            }, 200, Phaser.Easing.Linear.None).to({
                x: .4
            }, 200, Phaser.Easing.Linear.None).to({
                x: -.2
            }, 100, Phaser.Easing.Linear.None).to({
                x: .2
            }, 100, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
                x: e.x
            }, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target.scale).to({
                y: 0
            }, 3e3, Phaser.Easing.Linear.None).delay(1e3).to({}, 1e3, Phaser.Easing.Linear.None).to({
                y: e.y
            }, 200, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
                y: 0
            }, 500, Phaser.Easing.Quadratic.Out).delay(5e3).to({
                y: this.target.y
            }, 500, Phaser.Easing.Quadratic.In).to({
                y: "-50"
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: "+50"
            }, 250, Phaser.Easing.Quadratic.In).start();
            var i = this.game.prodigy.create.sprite(r.Attack.BX, r.Attack.BY, "atlas-16", "storm-steam");
            this.underLayer.add(i), i.anchor.setTo(.5, .5), this.game.add.tween(i).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(6e3).to({
                y: "-100",
                alpha: 0
            }, 250, Phaser.Easing.Quadratic.Out).start();
        }, e;
    }(r.Attack);
    e.TidalTwister = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(22), r = i(15), s = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, r, s, l, h, r.moveIn ? 12e3 : 8500) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            var e = this, i = this.game.prodigy.event.create();
            this.atk.moveIn ? (this.epic = new o.MonsterContainer(this.game, this.overLayer.parent, new r.Monster(this.game, {
                ID: 130
            }), 2, -200, 500, !1), this.epic.loadedCallback = function() {
                e.epic.scale.x = .5, e.epic.scale.y = .5, t.prototype.setupNoAnimation.call(e, 8800);
                var a = e.overLayer.parent;
                a.sort("y", Phaser.Group.SORT_ASCENDING), a.bringToTop(e.overLayer), 
                i.path(e.epic, [ {
                    x: 345
                } ]), i.function(e.epic.attack.bind(e.epic)), i.sound(8, "cast"), 
                i.delay(1e3), i.function(e.doAttack.bind(e)), i.delay(7500), i.path(e.epic, [ {
                    x: -200
                } ]), i.start();
            }, this.epic.startLoad()) : (t.prototype.setupNoAnimation.call(this, 6500), 
            i.sound(8, "cast"), i.delay(1e3), i.function(this.doAttack.bind(this)), 
            i.start());
        }, e;
    }(i(139).Zero);
    e.ThermalPrism = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(22), r = i(9), s = i(15), l = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, r.moveIn ? 1e4 : 5e3, "storm", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            var e = this, i = this.game.prodigy.event.create();
            this.atk.moveIn ? (this.epic = new o.MonsterContainer(this.game, this.overLayer.parent, new s.Monster(this.game, {
                ID: 125
            }), 2, -200, 500, !1), this.epic.loadedCallback = function() {
                e.epic.scale.x = e.epic.battleScale, e.epic.scale.y = e.epic.battleScale, 
                t.prototype.setup.call(e, 7400);
                var a = e.overLayer.parent;
                a.sort("y", Phaser.Group.SORT_ASCENDING), a.bringToTop(e.overLayer), 
                i.path(e.epic, [ {
                    x: 345
                } ]), i.function(e.epic.attack.bind(e.epic)), i.sound(8, "cast"), 
                i.delay(1e3), i.function(e.doAttack.bind(e)), i.delay(5e3), i.path(e.epic, [ {
                    x: -200
                } ]), i.start();
            }, this.epic.startLoad()) : (t.prototype.setup.call(this, 4500), i.sound(8, "cast"), 
            i.delay(1e3), i.function(this.doAttack.bind(this)), i.start());
        }, e.prototype.doAttack = function() {
            this.game.prodigy.audio.playSound(5), this.game.prodigy.effects.shake(1500, 3e3, 3);
            var t = this.game.prodigy.create.sprite(r.Attack.BX, r.Attack.BY, "atlas-16", "storm-lightning-0");
            t.animations.add("a", [ "storm-lightning-0", "storm-lightning-1", "storm-lightning-2" ], 30, !0, !1), 
            t.animations.play("a"), this.overLayer.add(t), t.anchor.setTo(.5, 1);
            var e = this.game.add.tween(t).to({
                x: this.target.x,
                y: 0
            }, 1, Phaser.Easing.Linear.None).delay(1500), i = this.game.prodigy.create.sprite(r.Attack.BX, r.Attack.BY, "atlas-16", "core-dome");
            this.overLayer.add(i), i.scale.x = i.scale.y = 0, i.alpha = .8, i.anchor.setTo(.5, .8);
            for (var a = this.game.add.tween(i), n = this.game.add.tween(i.scale), o = 0; o < 25; o++) {
                var s = Math.floor(1180 * Math.random() + 50), l = this.target.y + Math.floor(300 * Math.random() - 50);
                e.to({
                    x: s,
                    y: 0
                }, 1, Phaser.Easing.Linear.None), e.to({
                    y: l
                }, 99, Phaser.Easing.Linear.None), a.to({
                    x: s,
                    y: l,
                    alpha: 1
                }, 1, Phaser.Easing.Linear.None), a.to({
                    alpha: 0
                }, 99, Phaser.Easing.Linear.None), n.to({
                    x: 0,
                    y: 0
                }, 1, Phaser.Easing.Linear.None), n.to({
                    x: 2,
                    y: 2
                }, 99, Phaser.Easing.Linear.None);
            }
            e.to({
                x: r.Attack.BX,
                y: r.Attack.BY
            }, 1, Phaser.Easing.Linear.None), a.delay(1600).start(), n.delay(1600).start(), 
            e.start();
            for (o = 0; o < 4; o++) {
                var h = this.game.prodigy.create.sprite(r.Attack.BX, r.Attack.BY, "atlas-16", "storm-cloud2");
                this.overLayer.add(h), h.scale.x = h.scale.y = 2.5, h.anchor.setTo(.5, 1), 
                this.game.add.tween(h).to({
                    x: 320 * o + 180,
                    y: 0
                }, 1, Phaser.Easing.Linear.None).to({
                    y: 150
                }, 1500, Phaser.Easing.Quadratic.Out).to({}, 3e3, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 300, Phaser.Easing.Linear.None).start();
            }
            var c = this.game.prodigy.create.sprite(r.Attack.BX, r.Attack.BY, "atlas-16", "storm-titan");
            this.overLayer.add(c), c.anchor.setTo(.5, .5), c.alpha = .75, this.game.add.tween(c).to({
                x: 640,
                y: 360
            }, 1, Phaser.Easing.Linear.None).delay(1500).to({}, 3e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(c.scale).to({
                x: 2,
                y: 2
            }, 3e3, Phaser.Easing.Linear.None).delay(1500).to({
                x: 4,
                y: 4
            }, 300, Phaser.Easing.Linear.None).start();
        }, e;
    }(r.Attack);
    e.StormWrath = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(22), r = i(9), s = i(15), l = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, r.moveIn ? 9e3 : 4e3, "fire", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            var e = this, i = this.game.prodigy.event.create();
            this.atk.moveIn ? (this.epic = new o.MonsterContainer(this.game, this.overLayer.parent, new s.Monster(this.game, {
                ID: 129
            }), 2, -200, 500, !1), this.epic.loadedCallback = function() {
                e.epic.scale.x = e.epic.battleScale, e.epic.scale.y = e.epic.battleScale, 
                t.prototype.setup.call(e, 6700);
                var a = e.overLayer.parent;
                a.sort("y", Phaser.Group.SORT_ASCENDING), a.bringToTop(e.overLayer), 
                i.path(e.epic, [ {
                    x: 345
                } ]), i.function(e.epic.attack.bind(e.epic)), i.sound(8, "cast"), 
                i.delay(1e3), i.function(e.doAttack.bind(e)), i.delay(5e3), i.path(e.epic, [ {
                    x: -200
                } ]), i.start();
            }, this.epic.startLoad()) : (t.prototype.setup.call(this, 3500), i.sound(8, "cast"), 
            i.delay(1e3), i.function(this.doAttack.bind(this)), i.start());
        }, e.prototype.doAttack = function() {
            this.game.prodigy.audio.playSound(4);
            for (var t = 0; t < 15; t++) {
                var e = this.target.x + 100 - 200 * Math.random(), i = this.target.y + 100 - 200 * Math.random(), a = this.game.prodigy.create.sprite(r.Attack.BX, r.Attack.BY, "atlas-16", "fire-ball");
                a.anchor.setTo(.5, .5), a.angle = 90, this.game.add.tween(a).to({
                    y: -50,
                    x: e
                }, 1, Phaser.Easing.Linear.None).delay(200 * t).to({
                    y: i
                }, 600, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 1, Phaser.Easing.Linear.None).delay(200 * t).start(), this.game.prodigy.effects.shake(200 * t + 600, 100, 3, "v");
                var n = this.game.prodigy.create.sprite(r.Attack.BX, r.Attack.BY, "atlas-16", "fire-cloud");
                this.overLayer.add(n), n.anchor.setTo(.5, .5), this.game.add.tween(n).to({
                    y: i,
                    x: e
                }, 1, Phaser.Easing.Linear.None).delay(200 * t + 600).to({
                    y: "-200",
                    alpha: 0
                }, 300, Phaser.Easing.Quadratic.Out).start(), i < this.target.y ? (this.underLayer.add(a), 
                this.underLayer.add(n)) : (this.overLayer.add(a), this.overLayer.add(n));
            }
        }, e;
    }(r.Attack);
    e.HotSnow = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(22), r = i(9), s = i(15), l = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, r.moveIn ? 1e4 : 7e3, "ice", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            var e = this, i = this.game.prodigy.event.create();
            this.atk.moveIn ? (this.epic = new o.MonsterContainer(this.game, this.overLayer.parent, new s.Monster(this.game, {
                ID: 127
            }), 2, -200, 500, !1), this.epic.loadedCallback = function() {
                e.epic.scale.x = e.epic.battleScale, e.epic.scale.y = e.epic.battleScale, 
                t.prototype.setup.call(e, 7400);
                var a = e.overLayer.parent;
                a.sort("y", Phaser.Group.SORT_ASCENDING), a.bringToTop(e.overLayer), 
                i.path(e.epic, [ {
                    x: 345
                } ]), i.function(e.epic.attack.bind(e.epic)), i.sound(8, "cast"), 
                i.delay(1e3), i.function(e.doAttack.bind(e)), i.delay(5e3), i.path(e.epic, [ {
                    x: -200
                } ]), i.start();
            }, this.epic.startLoad()) : (t.prototype.setup.call(this, 5500), i.sound(8, "cast"), 
            i.delay(1e3), i.function(this.doAttack.bind(this)), i.start());
        }, e.prototype.doAttack = function() {
            this.game.prodigy.audio.playSound(3);
            for (var t = 0; t < 160; t++) this.addSnow(t, 25 * t, this.source.x < this.target.x);
        }, e.prototype.addSnow = function(t, e, i) {
            var a = t % 10 == 0, n = this.game.prodigy.create.sprite(-100, Math.floor(720 * Math.random()), "atlas-16", a ? "ice-star" : "ice-snow");
            n.x = i ? -n.width : n.width + 1280, Math.random() < .5 ? this.overLayer.add(n) : this.underLayer.add(n), 
            n.anchor.setTo(.5, .5), n.scale.x = n.scale.y = a ? .8 * Math.random() + .2 : 1;
            var o = i ? n.width + 1380 : -(n.width + 100);
            a ? this.game.add.tween(n).to({
                x: o,
                angle: 500
            }, 1500, Phaser.Easing.Linear.None, !0, e).onComplete.add(function() {
                n.kill();
            }, n) : this.game.add.tween(n).to({
                x: o
            }, 1500, Phaser.Easing.Linear.None, !0, e).onComplete.add(function() {
                n.kill();
            }, n);
        }, e;
    }(r.Attack);
    e.FrigidBlast = l;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(3), n = function() {
        function t(t, e, i) {
            this.game = t, this.x = e - 10, this.y = i - 10, this.animate();
        }
        return t.prototype.animate = function() {
            for (var t = 0; t < 10; t++) this.addStar(80 * t + 50 * Math.random(), 9 === t);
        }, t.prototype.finish = function() {
            this.game.broadcaster.broadcast(a.EFlyingStarsEvents.Done, this.game, null);
        }, t.prototype.addStar = function(t, e) {
            var i = this.game.prodigy.create.sprite(this.x + 20 * Math.random(), this.y + 20 * Math.random(), "atlas-19", "user-star");
            i.anchor.setTo(.5, .5), i.scale.setTo(0, 0), i.angle += Math.round(90 * Math.random()), 
            this.game.broadcaster.broadcast(a.EScreenEvents.AddChild, this.game, [ i, "overlay" ]);
            var n = .3 * Math.random(), o = this.game.add.tween(i.scale).to({
                x: 1,
                y: 1
            }, 200, Phaser.Easing.Quadratic.Out).delay(t), r = this.game.add.tween(i.scale).to({
                x: 1.3,
                y: 1.3
            }, 250, Phaser.Easing.Quadratic.InOut), s = this.game.add.tween(i.scale).to({
                x: n + 1,
                y: n + 1
            }, 250, Phaser.Easing.Quadratic.InOut), l = this.game.add.tween(i.scale).to({
                x: 0,
                y: 0
            }, 200, Phaser.Easing.Quadratic.In);
            l.onComplete.add(this.onStarComplete.bind(this, i), i), e && l.onComplete.add(this.finish.bind(this), this), 
            o.chain(r), r.chain(s), s.chain(l), this.game.add.tween(i).to({
                y: 10 * Math.random() + 90
            }, 900, Phaser.Easing.Quadratic.In).delay(t).start(), this.game.add.tween(i).to({
                x: 40 * Math.random() + 279
            }, 900, Phaser.Easing.Quadratic.Out).delay(t).start(), o.start();
        }, t.prototype.onStarComplete = function(t) {
            t.kill();
        }, t;
    }();
    e.FlyingStars = n;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = function(t) {
        function e(e, i, a, n, o) {
            var s = t.call(this, e, i, a, n) || this;
            return s.chatID = 0, s.dontHide = r.Util.isValid(o) && o, s.add(s.game.prodigy.create.sprite(-38, -72, "atlas-21", "chat/bubble")), 
            s;
        }
        return n(e, t), e.prototype.setID = function(t) {
            r.Util.isValid(this.game) && (this.visible = !0, this.chatID++, this.scale.x = 0, 
            this.scale.y = 0, this.game.add.tween(this.scale).to({
                x: 1.2,
                y: 1.2
            }, 200, Phaser.Easing.Quadratic.Out).to({
                x: .8,
                y: 1
            }, 200, Phaser.Easing.Quadratic.In).to({
                x: 1,
                y: .8
            }, 200, Phaser.Easing.Quadratic.Out).to({
                x: 1,
                y: 1
            }, 200, Phaser.Easing.Quadratic.In).start(), r.Util.isValid(this.emote) && this.emote.destroy(), 
            this.emote = this.game.prodigy.create.sprite(-18, -62, "icon-emote-" + t, null, null, null, 40, 40), 
            this.add(this.emote), this.dontHide || this.game.time.events.add(3e3, this.onTimerEvent.bind(this, this.chatID), this));
        }, e.prototype.onTimerEvent = function(t) {
            t === this.chatID && (this.visible = !1);
        }, e;
    }(o.Element);
    e.ChatBubble = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(4), s = i(0), l = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i) || this;
            return n.emoteData = null, n.setEmoteData(a), n;
        }
        return n(e, t), e.prototype.setEmoteData = function(t) {
            s.Util.isValid(t) && (this.emoteData = t, this.game.prodigy.create.sprite(0, 0, "default-emote-" + this.emoteData.ID, null, {
                x: .5,
                y: .5
            }, this.recolour.bind(this)));
        }, e.prototype.recolour = function(t) {
            if (this.exists && s.Util.isValid(this.parent) && s.Util.isValid(this.parent.data)) {
                var e = new Phaser.BitmapData(this.game, null, t.texture.baseTexture.width, t.texture.baseTexture.height);
                e.draw(t.key), e.update();
                var i = r.Items.getItem("eyeColor", this.parent.data.eyeColor).data.colors;
                e.processPixelRGB(this.pixelColorReplace, {
                    baseColor: [ 85, 85, 85, 255 ],
                    newColor: i
                }), "2.4.4" === Phaser.VERSION ? this.textureGenerated(e, t, e.generateTexture("recolour")) : e.generateTexture("recolour", this.textureGenerated.bind(this, e, t));
            }
        }, e.prototype.textureGenerated = function(t, e, i) {
            var a = this.game.cache.getFrameData(e.key, 2) || {
                frames: []
            };
            a.getFrames && (a = s.Util.frameDataToFrameJson(a.getFrames())), this.game.cache.addTextureAtlas("recolour-atlas", "", i.baseTexture.source, a, Phaser.Loader.TEXTURE_ATLAS_JSON_HASH), 
            t.clear(), Phaser.CanvasPool.removeByCanvas(t.canvas), t.destroy();
            var n = this.emoteData.metadata.assets.default.offSet;
            this.game.prodigy.create.sprite(n.x, n.y, "recolour-atlas", null, new Phaser.Point(.5, .5), this.playEmote.bind(this));
        }, e.prototype.pixelColorReplace = function(t) {
            return t.r === this.baseColor[0] && t.g === this.baseColor[1] && t.b === this.baseColor[2] && (t.r = this.newColor[0][0], 
            t.g = this.newColor[0][1], t.b = this.newColor[0][2]), t;
        }, e.prototype.playEmote = function(t) {
            t.scale.set(-1, 1), t.smoothed = !0, this.emoteAnimation = t.animations.add("emote", null, 2, !0), 
            this.emoteAnimation.onLoop.add(this.stopEmote, this), this.emoteAnimation.onComplete.add(this.endEmote, this), 
            t.play("emote");
            var e = this.parent.eyes;
            e.visible = !1, this.parent.head.addChild(t), this.parent.head.swapChildren(e, t);
        }, e.prototype.stopEmote = function(t, e) {
            5 === e.loopCount && (e.loop = !1);
        }, e.prototype.endEmote = function(t) {
            var e = this.parent.eyes;
            e.visible = !0, this.parent.head.swapChildren(e, t), t.destroy();
        }, e;
    }(o.Element);
    e.AnimatedEmote = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(4), r = i(27), s = i(37), l = function(t) {
        function e(e, i, a, n) {
            void 0 === n && (n = []);
            var o = t.call(this, e, a) || this;
            return o.uiJsonId = i, o.onLoadComplete = new Phaser.Signal(), null !== i && e.prodigy.load.assets(n.concat("atlas-157"), o.render.bind(o)), 
            o;
        }
        return n(e, t), e.prototype.getUiElement = function(t) {
            for (var e = null, i = 0; i < this.uiElements.length; i++) if (this.uiElements[i].name === t) {
                e = this.uiElements[i];
                break;
            }
            return e;
        }, e.prototype.addOnLoadCallback = function(t) {
            this.loadComplete ? t() : this.onLoadComplete.add(t);
        }, e.prototype.render = function() {
            var t = o.Items.getItem("ui", this.uiJsonId).data, e = new s.UIParser(this.game);
            this.uiElements = e.createUIElements(t.elements, this), this.loadComplete = !0, 
            this.onLoadComplete.dispatch(this);
        }, e;
    }(r.UIElement);
    e.Overlay = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(239), r = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.getTopImageFrames = function(e) {
            return t.prototype.getTopImageFrames.call(this, e).concat([ "" + e + o.ESlicedGraphicDirection.Top + "-alt" ]);
        }, e.prototype.getBottomImageFrames = function(e) {
            return t.prototype.getBottomImageFrames.call(this, e).concat([ "" + e + o.ESlicedGraphicDirection.Bottom + "-alt" ]);
        }, e.prototype.getLeftImageFrames = function(e) {
            return t.prototype.getLeftImageFrames.call(this, e).concat([ "" + e + o.ESlicedGraphicDirection.Left + "-alt" ]);
        }, e.prototype.getRightImageFrames = function(e) {
            return t.prototype.getRightImageFrames.call(this, e).concat([ "" + e + o.ESlicedGraphicDirection.Right + "-alt" ]);
        }, e.prototype.getMiddleImageFrames = function(e) {
            return t.prototype.getMiddleImageFrames.call(this, e).concat([ "" + e + o.ESlicedGraphicDirection.Middle + "-alt", "" + e + o.ESlicedGraphicDirection.Middle + "-alt2", "" + e + o.ESlicedGraphicDirection.Middle + "-alt3" ]);
        }, e.prototype.createTopImages = function(e, i, a, n) {
            var r = t.prototype.createTopImages.call(this, e, i, a, n);
            return this.generateNotchReplacements(r, "" + n + o.ESlicedGraphicDirection.Top + "-notch"), 
            r;
        }, e.prototype.createBottomImages = function(e, i, a, n) {
            var r = t.prototype.createBottomImages.call(this, e, i, a, n);
            return this.generateNotchReplacements(r, "" + n + o.ESlicedGraphicDirection.Bottom + "-notch"), 
            r;
        }, e.prototype.createLeftImages = function(e, i, a, n) {
            var r = t.prototype.createLeftImages.call(this, e, i, a, n);
            return this.generateNotchReplacements(r, "" + n + o.ESlicedGraphicDirection.Left + "-notch"), 
            r;
        }, e.prototype.createRightImages = function(e, i, a, n) {
            var r = t.prototype.createRightImages.call(this, e, i, a, n);
            return this.generateNotchReplacements(r, "" + n + o.ESlicedGraphicDirection.Right + "-notch"), 
            r;
        }, e.prototype.generateNotchReplacements = function(t, e) {
            for (var i = Math.floor(3 * Math.random()), a = 0; a < i; a++) t[Math.floor(Math.random() * t.length)].frameName = e;
        }, e;
    }(i(240).SlicedGraphic);
    e.WoodSlicedPanel = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(4), s = i(0), l = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            return a.isActive = !0, a.onDestroy.add(a.handleDestroy.bind(a)), a;
        }
        return n(e, t), e.prototype.populate = function(e) {
            t.prototype.populate.call(this, e);
            var i = this.game.prodigy.gameContainer.Localizer;
            s.Util.isValid(e.textKey) && (e.text = i.getText(e.textKey)), s.Util.isValid(e.forceUpperCase) && e.forceUpperCase && (e.text = e.text.toUpperCase()), 
            this.text = this.game.add.text(0, 0, e.text), this.text.wordWrap = !!s.Util.isValid(e.wordWrap) && e.wordWrap, 
            this.text.wordWrapWidth = s.Util.isValid(e.wordWrapWidth) ? e.wordWrapWidth : this.width, 
            this.text.align = s.Util.isValid(e.align) ? e.align : "center", this.text.lineSpacing = s.Util.isValid(e.lineSpacing) ? e.lineSpacing : 0, 
            this.text.setTextBounds(0, 0, this.width, this.height), this.text.boundsAlignH = s.Util.isValid(e.boundsAlignH) ? e.boundsAlignH : "left", 
            this.text.boundsAlignV = s.Util.isValid(e.boundsAlignV) ? e.boundsAlignV : "top";
            var a = s.Util.isValid(e.style) ? r.Items.getItem("fontStyle", e.style) : r.Items.getItem("fontStyle", 1);
            if (s.Util.isValid(a)) {
                var n = a.data;
                for (var o in n) this.text[o] = n[o];
                s.Util.isValid(n.gradientFill) && n.gradientFill.length > 1 ? this.createGradient(this.text, n) : s.Util.isValid(e.color) && (this.text.fill = e.color);
            }
            s.Util.isValid(e.fontSize) && (this.text.fontSize = e.fontSize), this.add(this.text);
        }, e.prototype.createGradient = function(t, e) {
            for (var i = t.context.createLinearGradient(0, 0, 0, t.height), a = t.precalculateWordWrap(t.text).length, n = e.gradientFill.length, o = 1 / ((n - 1) * a), r = 0, s = 0; s < a; s++) {
                for (var l = 0; l < n; l++) i.addColorStop(r, e.gradientFill[l]), 
                r += o;
                r -= o;
            }
            t.fill = i;
        }, e.prototype.setText = function(t) {
            this.text.setText(t, !0);
        }, e.prototype.handleDestroy = function() {
            o.GameConstants.get("GameConstants.Build.DEBUG") && s.Util.isValid(this.name) && this.game.prodigy.automation.removeAllTriggers(this);
        }, e;
    }(i(27).UIElement);
    e.WebFontText = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.groupID = 0, e.tabID = 0, e;
        }
        return n(e, t), e.prototype.populate = function(e) {
            t.prototype.populate.call(this, e), r.Util.isValid(e.groupID) && (this.groupID = e.groupID), 
            r.Util.isValid(e.tabID) && (this.groupID = e.tabID), r.Util.isValid(this.broadcasts) || (this.broadcasts = []), 
            this.broadcasts.push({
                type: o.EUIEvents.TabButtonClicked,
                params: [ this.groupID, this.tabID ]
            }), this.game.broadcaster.addAppListener(o.EUIEvents.TabSelected, this.onTabSelected.bind(this), this, this.game.prodigy.open.menus[this.game.prodigy.open.menus.length - 1]);
        }, e.prototype.onTabSelected = function(t, e) {
            this.setActive(!(this.groupID === t && this.tabID === e));
        }, e;
    }(i(77).Button);
    e.TabButton = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            return a.groupID = 0, a.tabID = 0, a;
        }
        return n(e, t), e.prototype.populate = function(e) {
            t.prototype.populate.call(this, e), r.Util.isValid(e.groupID) && (this.groupID = e.groupID), 
            r.Util.isValid(e.tabID) && (this.tabID = e.tabID), this.game.broadcaster.addAppListener(o.EUIEvents.TabButtonClicked, this.checkTabClick.bind(this), this, this.game.prodigy.open.menus[this.game.prodigy.open.menus.length - 1], !1);
        }, e.prototype.checkTabClick = function(t, e) {
            this.visible = this.groupID === t && this.tabID === e, this.visible && this.select();
        }, e.prototype.select = function() {
            this.game.broadcaster.broadcast(o.EUIEvents.TabSelected, this.game.prodigy.open.menus[this.game.prodigy.open.menus.length - 1], [ this.groupID, this.tabID ]);
        }, e;
    }(i(27).UIElement);
    e.Tab = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(0), s = function(t) {
        function e(e, i) {
            return t.call(this, e, i) || this;
        }
        return n(e, t), e.prototype.setAsset = function(t, e) {
            if ("spritesheet" === e.type) {
                this.source = t, this.metadata = e, this.sprite.animations.stop();
                for (var i = 0; i < this.sprite.animations._anims.length; ++i) this.sprite.animations._anims[i].destroy();
                this.sprite.animations._anims = {}, this.updateSource();
            }
        }, e.prototype.updateSpriteSource = function() {
            if (t.prototype.updateSpriteSource.call(this), this.hasAnimations()) for (var e = Object.keys(this.metadata.animations), i = 0; i < e.length; ++i) this.sprite.animations.add(e[i], this.metadata.animations[e[i]].frames, this.metadata.animations[e[i]].frameRate, this.metadata.animations[e[i]].loop);
        }, e.prototype.hasAnimations = function() {
            return r.Util.isValid(this.metadata.animations);
        }, e.prototype.getAnimationLength = function(t) {
            var e = this.metadata.animations[t];
            return r.Util.isValid(e) ? e.frames.length : 0;
        }, e.prototype.playAnimation = function(t, e, i) {
            void 0 === e && (e = !1), void 0 === i && (i = 0), r.Util.isValid(this.metadata.animations[t]) && (null !== this.sprite.animations.getAnimation(t) ? (this.sprite.animations.play(t, this.metadata.animations[t].frameRate, e), 
            this.sprite.animations.currentAnim.setFrame(Math.floor(i), !0)) : this.onLoaded.addOnce(this.playAnimation, this, -o.GameConstants.MAX_SAFE_INTEGER, t, e, i));
        }, e;
    }(i(237).SpriteRenderer);
    e.SpritesheetRenderer = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(34), r = i(52), s = i(0), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.populate = function(e) {
            if (t.prototype.populate.call(this, e), this.spineRenderer = r.RenderFactory.createRenderer(e.spineKey, {
                type: "spine"
            }), s.Util.isValid(e.animation)) {
                var i = !!s.Util.isValid(e.loop) && e.loop;
                this.playAnimation(e.animation, i, null);
            }
            new o.GameObject(this.game, this, [ this.spineRenderer ], 0, 0);
        }, e.prototype.playAnimation = function(t, e, i) {
            void 0 === e && (e = !1), void 0 === i && (i = null), this.spineRenderer.playAnimation(t, e), 
            s.Util.isValid(i) && this.spineRenderer.spine.onComplete.addOnce(i);
        }, e;
    }(i(27).UIElement);
    e.SpineUI = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o, r = i(0), s = i(137), l = i(242), h = i(241);
    !function(t) {
        t.Middle = "-middle", t.Left = "-left", t.Right = "-right", t.BottomLeft = "-bottomLeft", 
        t.BottomRight = "-bottomRight";
    }(o || (o = {}));
    var c = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.images = [], e.text = null, e;
        }
        return n(e, t), e.prototype.populate = function(e) {
            t.prototype.populate.call(this, e);
            var i = r.Util.isValid(e.baseFrameName) ? e.baseFrameName : "", a = r.Util.isValid(e.atlasID) ? e.atlasID : 144, n = "";
            r.Util.isValid(e.text) ? n = e.text : r.Util.isValid(e.textKey) && (n = this.game.prodigy.gameContainer.Localizer.getText(e.textKey)), 
            this.createBanner("atlas-" + a, i, n, e.isThreeSlice);
        }, e.prototype.createBanner = function(t, e, i, a) {
            this.text = new l.Text(this.game, this);
            var n = a ? 0 : 68;
            if (a) {
                var r = this.add(new Phaser.Image(this.game, 0, 0, t, "" + e + o.Left)), s = this.add(new Phaser.Image(this.game, 0, 0, t, "" + e + o.Middle));
                s.scale.setTo((this.width - (r.x + 2 * r.width)) / s.width, 1), 
                s.smoothed = !1, s.x = r.x + r.width;
                var c = this.add(new Phaser.Image(this.game, s.x + s.width, 0, t, "" + e + o.Right));
                this.images.push(r), this.images.push(s), this.images.push(c);
            } else {
                var p = this.add(new Phaser.Image(this.game, 0, 40, t, "" + e + o.BottomLeft)), u = p.width;
                this.images.push(p), p = this.add(new Phaser.Image(this.game, this.width - u, 40, t, "" + e + o.BottomRight)), 
                this.images.push(p), u = (p = this.add(new Phaser.Image(this.game, n, 0, t, "" + e + o.Left))).width, 
                this.images.push(p), p = this.add(new Phaser.Image(this.game, this.width - u - n, 0, t, "" + e + o.Right)), 
                this.images.push(p), this.images = this.images.concat(h.UIUtil.floodFillImages(this.game, this, {
                    x: u + n,
                    y: 0
                }, {
                    x: this.width - u - n,
                    y: 0
                }, t, [ "" + e + o.Middle ]));
            }
            var d = {
                type: "Text",
                name: "bannerText",
                anchorX: .5,
                anchorY: 0,
                relativeX: .5,
                relativeY: a ? -.13 : 0,
                relativeWidth: (this.width - 2 * n) / this.width - .05,
                height: 80,
                text: i,
                fontID: 157,
                fontSize: 0,
                horizontalAlignment: "center",
                verticalAlignment: "center",
                forceUpperCase: !0,
                lineHeight: 35
            };
            this.addChild(this.text), this.text.processRelativeFields(d, {
                width: this.width,
                height: this.height
            }), this.text.populate(d);
        }, e.prototype.setText = function(t) {
            r.Util.isValid(this.text) && this.text.setText(t);
        }, e;
    }(s.GraphicBase);
    e.SlicedBanner = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = i(77), l = i(243), h = i(27), c = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            return a.viewHeight = 0, a.scrollBar = null, a.contents = null, a.maxScrollDist = 0, 
            a.viewWidth = 0, a.contentsArray = [], a.clickDragTresh = 4, a.maxDistanceThisScroll = 0, 
            a.dirty = !1, a.mouseWheelPixelDistance = 20, a.contentsName = null, 
            a.enableTouchScroll = !1, a.rectMask = null, a.scrollStartPos = null, 
            a.onDestroy.add(a.stopWheelListener.bind(a)), a;
        }
        return n(e, t), e.prototype.populate = function(e) {
            t.prototype.populate.call(this, e), this.viewHeight = this.height, this.viewWidth = this.width, 
            this.setupScrollWheel(), r.Util.isValid(e.scrollContentsName) && (this.contentsName = e.scrollContentsName), 
            r.Util.isValid(e.enableTouchScroll) ? this.enableTouchScroll = e.enableTouchScroll : r.Util.log('Scroll view needs a property named "scrollContentsName" which points to the view to scroll', r.Util.ERROR);
        }, e.prototype.postPopulate = function() {
            for (var t = 0; t < this.children.length; t++) if (this.children[t].name === this.contentsName) {
                this.contents = this.children[t];
                break;
            }
            this.setupMask(), this.calculateMaxScrollDist(), this.setupVisibleIndicies();
        }, e.prototype.linkScrollBar = function(t) {
            this.scrollBar = t, this.scrollBar.onDragUpdateCallbacks.push(this.setToScrollPercent.bind(this)), 
            this.scrollBar.setThumbRatio(this.viewHeight / this.contents.height);
        }, e.prototype.calculateMaxScrollDist = function() {
            var t = Math.max(0, this.contents.height / this.viewHeight - 1);
            this.maxScrollDist = this.viewHeight * t;
        }, e.prototype.setToScrollPercent = function(t) {
            this.contents.y = Math.round(this.maxScrollDist * Math.min(Math.max(t, 0), 1) * -1), 
            r.Util.isValid(this.scrollBar) && this.scrollBar.setPercent(Math.abs(this.contents.y) / this.maxScrollDist), 
            this.dirty = !0;
        }, e.prototype.setupVisibleIndicies = function() {
            for (var t = 0; t < this.contents.children.length; t++) this.contents.children[t] instanceof h.UIElement && this.contentsArray.push(this.contents.children[t]);
            this.dirty = !0;
        }, e.prototype.update = function() {
            t.prototype.update.call(this), this.dirty && (this.updateScrollVisibility(), 
            this.dirty = !1);
        }, e.prototype.clearScrollView = function() {
            for (;this.contentsArray.length > 0; ) this.contentsArray.pop().destroy();
        }, e.prototype.setupScrollWheel = function() {
            this.game.broadcaster.addAppListener(o.EInputEvents.OnMouseWheel, this.scrollWheelListener.bind(this), this, "Input", !1);
        }, e.prototype.stopWheelListener = function() {
            this.game.broadcaster.removeAppListener(o.EInputEvents.OnMouseWheel, this, "Input");
        }, e.prototype.scrollWheelListener = function() {
            if (!(this.maxScrollDist <= 0)) {
                var t = this.game.input.mouse.wheelDelta * this.mouseWheelPixelDistance + this.contents.y;
                this.setToScrollPercent(-1 * t / this.maxScrollDist);
            }
        }, e.prototype.updateScrollVisibility = function() {
            for (var t = this.rectMask.getLocalBounds(), e = new Phaser.Rectangle(t.x, t.y, t.width, t.height), i = 0; i < this.contentsArray.length; i++) {
                var a = this.contentsArray[i], n = new Phaser.Rectangle(a.x + this.contents.x, a.y + this.contents.y, a.width, a.height);
                this.checkOverlap(n, e) ? this.contentsArray[i].setAllChildren("visible", !0, !0) : this.contentsArray[i].setAllChildren("visible", !1, !0);
            }
        }, e.prototype.stopDrag = function(t) {
            if (Phaser.InputHandler.prototype.stopDrag.call(this.rectMask.input, t), 
            this.scrollStartPos = null, this.maxDistanceThisScroll <= this.clickDragTresh) for (var e = 0; e < this.contentsArray.length; e++) this.contentsArray[e].alpha > 0 && this.simulateDepthClick(this.contentsArray[e], t);
            this.maxDistanceThisScroll = 0;
        }, e.prototype.checkOverlap = function(t, e) {
            return Phaser.Rectangle.intersects(t, e);
        }, e.prototype.setupMask = function() {
            this.rectMask = this.game.add.graphics(0, 0), this.add(this.rectMask), 
            this.rectMask.beginFill(0), this.rectMask.drawRect(this.x, this.y, this.viewWidth, this.viewHeight), 
            this.rectMask.endFill(), this.contents.mask = this.rectMask, this.enableTouchScroll && (this.rectMask.inputEnabled = !0, 
            this.rectMask.input.enableDrag(!1), this.rectMask.input.allowVerticalDrag = !0, 
            this.rectMask.input.updateDrag = this.dragView.bind(this), this.rectMask.input.stopDrag = this.stopDrag.bind(this));
        }, e.prototype.dragView = function(t) {
            if (!(this.maxScrollDist <= 0)) {
                r.Util.isValid(this.scrollStartPos) || (this.scrollStartPos = this.contents.y);
                var e = t.y - t.positionDown.y, i = this.scrollStartPos + e;
                this.maxDistanceThisScroll = Math.max(this.maxDistanceThisScroll, Math.abs(e)), 
                i < -1 * this.maxScrollDist ? i = -1 * this.maxScrollDist : i > 0 && (i = 0), 
                this.contents.y = Math.round(i), r.Util.isValid(this.scrollBar) && this.scrollBar.setPercent(Math.abs(this.contents.y) / this.maxScrollDist), 
                this.dirty = !0;
            }
        }, e.prototype.simulateDepthClick = function(t, e) {
            var i = t.getBounds();
            if (Phaser.Rectangle.containsPoint(new Phaser.Rectangle(i.x, i.y, i.width, i.height), e.position)) if (t instanceof s.Button || t instanceof l.PhaserButtonWrapper) t.onDown(); else for (var a = 0; a < t.children.length; a++) this.simulateDepthClick(t.children[a], e);
        }, e;
    }(h.UIElement);
    e.ScrollView = c;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.thumbTravelDistance = 0, e.onDragUpdateCallbacks = [], e.trackFrameName = "", 
            e.atlasID = 0, e.thumbSlice = null, e.thumbBeginPos = null, e;
        }
        return n(e, t), e.prototype.populate = function(e) {
            t.prototype.populate.call(this, e), this.trackFrameName = o.Util.isValid(e.trackFrameName) ? e.trackFrameName : "", 
            this.atlasID = o.Util.isValid(e.atlasID) ? e.atlasID : 144, e.children = [], 
            e.children.push({
                type: "SlicedGraphic",
                name: this.name + "-track",
                anchorX: .5,
                anchorY: .5,
                relativeX: .5,
                relativeY: .5,
                sliceType: "threeScale",
                isVertical: !0,
                atlasID: this.atlasID,
                baseFrameName: this.trackFrameName,
                relativeWidth: 1,
                height: e.height
            }, {
                type: "SlicedGraphic",
                name: this.name + "-thumb",
                anchorX: .5,
                anchorY: 0,
                relativeX: .3,
                relativeY: 0,
                sliceType: "threeScale",
                isVertical: !0,
                atlasID: this.atlasID,
                baseFrameName: e.thumbFrameName,
                relativeWidth: 1,
                height: e.height / 4
            }), this.thumbTravelDistance = this.height - .25 * e.height;
        }, e.prototype.postPopulate = function() {
            for (var t = 0; t < this.children.length; t++) if (this.children[t].name === this.name + "-thumb") {
                this.thumbSlice = this.children[t];
                break;
            }
            this.makeThumbInteractable();
        }, e.prototype.getPercent = function() {
            return 0 === this.thumbTravelDistance ? 0 : this.thumbSlice.y / this.thumbTravelDistance;
        }, e.prototype.setPercent = function(t) {
            0 !== this.thumbTravelDistance && (this.thumbSlice.y = Math.min(Math.max(t, 0), 1) * this.thumbTravelDistance, 
            this.thumbSlice.y = Math.round(this.thumbSlice.y));
        }, e.prototype.setThumbRatio = function(t) {
            var e = this.height * Math.min(t, 1);
            this.thumbSlice.resize(this.thumbSlice.width, e), this.thumbTravelDistance = this.height - e;
        }, e.prototype.makeThumbInteractable = function() {
            for (var t = 0; t < this.thumbSlice.images.length; t++) {
                var e = this.thumbSlice.images[t];
                e.inputEnabled = !0, e.input.enableDrag(!1), e.input.useHandCursor = !0, 
                e.events.onDragStop.add(this.stopDrag, this), e.input.updateDrag = this.dragThumb.bind(this);
            }
        }, e.prototype.dragThumb = function(t) {
            if (!(this.thumbTravelDistance <= 0)) {
                o.Util.isValid(this.thumbBeginPos) || (this.thumbBeginPos = this.thumbSlice.y);
                var e = this.thumbBeginPos + (t.y - t.positionDown.y);
                e = Math.min(Math.max(e, 0), this.thumbTravelDistance), this.thumbSlice.y = Math.round(e);
                for (var i = this.getPercent(), a = 0; a < this.onDragUpdateCallbacks.length; a++) this.onDragUpdateCallbacks[a](i);
            }
        }, e.prototype.stopDrag = function() {
            this.thumbBeginPos = null;
        }, e;
    }(i(27).UIElement);
    e.ScrollBar = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(3), r = i(0), s = i(27), l = function(t) {
        function e(e, i, a) {
            var n = t.call(this, e, i) || this;
            return n.dirty = !0, n.layoutType = null, n.alignment = "top", n.spacing = 0, 
            n.startOffset = 0, n.ignoreInvisible = !1, n.layoutType = a.type, r.Util.isValid(a.alignment) && (n.alignment = a.alignment), 
            r.Util.isValid(a.spacing) && (n.spacing = a.spacing), r.Util.isValid(a.offset) && (n.startOffset = a.offset), 
            r.Util.isValid(a.ignoreInvisible) && (n.ignoreInvisible = a.ignoreInvisible), 
            n.game.broadcaster.addAppListener(o.EUIEvents.ChildAdded, n.parentModified.bind(n), n, n.parent, !1), 
            n.game.broadcaster.addAppListener(o.EUIEvents.ChildRemoved, n.parentModified.bind(n), n, n.parent, !1), 
            n.calculateChildren(), n;
        }
        return n(e, t), e.prototype.calculateChildren = function() {
            this.dirty = !1, "vertical" === this.layoutType ? this.alignVertical() : "horizontal" === this.layoutType && this.alignHorizontal();
        }, e.prototype.alignVertical = function() {
            var t = this.startOffset;
            "center" === this.alignment ? t += Math.round((this.parent.height - this.getContentHeight()) / 2) : "bottom" === this.alignment && (t += Math.round(this.parent.height - this.getContentHeight()));
            for (var e = 0; e < this.parent.children.length; e++) if (this.parent.children[e] instanceof s.UIElement && this.parent.children[e].visible) {
                if (this.ignoreInvisible && !this.parent.children[e].visible) continue;
                this.parent.children[e].y = t, t += this.parent.children[e].height + this.spacing;
            }
        }, e.prototype.alignHorizontal = function() {
            var t = this.startOffset;
            "center" === this.alignment ? t += Math.round((this.parent.width - this.getContentWidth()) / 2) : "right" === this.alignment && (t += this.parent.width - this.getContentWidth());
            for (var e = 0; e < this.parent.children.length; e++) if (this.parent.children[e] instanceof s.UIElement && this.parent.children[e].visible) {
                if (this.ignoreInvisible && !this.parent.children[e].visible) continue;
                this.parent.children[e].x = t, t += this.parent.children[e].width + this.spacing;
            }
        }, e.prototype.getContentHeight = function() {
            for (var t = (this.parent.children.length - 1) * this.spacing, e = 0; e < this.parent.children.length; e++) if (this.parent.children[e] instanceof s.UIElement && this.parent.children[e].visible) {
                if (this.ignoreInvisible && !this.parent.children[e].visible) continue;
                t += this.parent.children[e].height;
            }
            return t;
        }, e.prototype.getContentWidth = function() {
            for (var t = (this.parent.children.length - 1) * this.spacing, e = 0; e < this.parent.children.length; e++) if (this.parent.children[e] instanceof s.UIElement && this.parent.children[e].visible) {
                if (this.ignoreInvisible && !this.parent.children[e].visible) continue;
                t += this.parent.children[e].width;
            }
            return t;
        }, e.prototype.preUpdate = function() {
            t.prototype.preUpdate.call(this), this.dirty && this.calculateChildren();
        }, e.prototype.parentModified = function() {
            this.dirty = !0;
        }, e.prototype.destroy = function() {
            this.game.broadcaster.removeAppListener(o.EUIEvents.ChildAdded, this.parentModified.bind(this), this.parent), 
            this.game.broadcaster.removeAppListener(o.EUIEvents.ChildRemoved, this.parentModified.bind(this), this.parent), 
            t.prototype.destroy.call(this);
        }, e;
    }(Phaser.Group);
    e.LayoutElement = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e(e, i) {
            var a = t.call(this, e, i) || this;
            return a.image = null, a;
        }
        return n(e, t), e.prototype.populate = function(e) {
            var i = o.Util.isValid(e.frameName) ? e.frameName : "", a = e.atlasName;
            o.Util.isValid(e.atlasName) || (a = o.Util.isValid(e.atlasID) ? "atlas-" + e.atlasID : "atlas-144"), 
            this.createImage(a, i), t.prototype.populate.call(this, e), o.Util.isValid(e.tint) && (this.image.tint = e.tint), 
            o.Util.isValid(e.horizontalFlip) && e.horizontalFlip && this.flipHorizontally();
        }, e.prototype.createImage = function(t, e) {
            this.image = this.add(new Phaser.Image(this.game, 0, 0, t, e));
        }, e.prototype.setImageFrameName = function(t) {
            this.image.frameName = t;
        }, e.prototype.flipHorizontally = function() {
            this.image.pivot.set(this.image.width, 0), this.image.scale.x *= -1;
        }, e.prototype.setActive = function(e) {
            this.image.tint = e ? 16777215 : 5789784, t.prototype.setActive.call(this, e);
        }, e;
    }(i(137).GraphicBase);
    e.Graphic = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.currentToggleState = 0, e.stateGraphics = [], e.buttonToggleGraphic = null, 
            e;
        }
        return n(e, t), e.prototype.populate = function(e) {
            t.prototype.populate.call(this, e), e.children = [ {
                anchorX: 0,
                anchorY: 0,
                relativeX: 0,
                relativeY: 0,
                type: "Graphic",
                name: "buttonToggleGraphic",
                atlasID: e.atlasID,
                frameName: 0 === e.defaultToggleState ? e.frameNameOff : e.frameNameOn
            } ], this.currentToggleState = e.defaultToggleState, this.stateGraphics = [ {
                frameName: e.frameNameOff
            }, {
                frameName: e.frameNameOn
            } ];
        }, e.prototype.postPopulate = function() {
            t.prototype.postPopulate.call(this), this.updateToggleImage();
        }, e.prototype.setOnClickCallback = function(t) {
            var e = this;
            this.onClickCallback = function() {
                o.Util.isValid(t) && t(), e.toggleState(), e.updateToggleImage();
            };
        }, e.prototype.toggleState = function() {
            this.currentToggleState = 1 - this.currentToggleState;
        }, e.prototype.updateToggleImage = function() {
            this.setGraphicFrameName(this.stateGraphics[this.currentToggleState]);
        }, e.prototype.setGraphicFrameName = function(t) {
            o.Util.isValid(this.buttonToggleGraphic) || (this.buttonToggleGraphic = this.iterate("name", "buttonToggleGraphic", Phaser.Group.RETURN_CHILD)), 
            this.buttonToggleGraphic.setImageFrameName(t.frameName);
        }, e;
    }(i(77).Button);
    e.ButtonToggle = r;
}, function(t, e, i) {
    var a = i(244), n = i(98), o = i(102);
    t.exports = function(t, e) {
        var i = o(t);
        return n(i, a(e, 0, i.length));
    };
}, function(t, e, i) {
    var a = i(244), n = i(100), o = i(98);
    t.exports = function(t, e) {
        return o(n(t), a(e, 0, t.length));
    };
}, function(t, e, i) {
    var a = i(801), n = i(800), o = i(19), r = i(66), s = i(151);
    t.exports = function(t, e, i) {
        return e = (i ? r(t, e, i) : void 0 === e) ? 1 : s(e), (o(t) ? a : n)(t, e);
    };
}, function(t, e, i) {
    var a = i(162);
    t.exports = function(t, e) {
        return a(t, e);
    };
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(3), o = i(0), r = function() {
        function t(t) {
            this.target = {
                x: -1,
                y: -1
            }, this.lastTargetBroadcasted = {
                x: -1,
                y: -1
            }, this.lastUpdateCount = 0, this.isMainPlayer = !1, this.screen = null, 
            this.creatureContainer = null, this.game = t;
        }
        return t.prototype.setup = function(t, e, i) {
            this.screen = t, this.creatureContainer = e, this.isMainPlayer = i, 
            this.isMainPlayer && (this.game.broadcaster.addAppListener(n.EPlayerLocomotionEvents.MovePlayer, this.onMovePlayer.bind(this), this), 
            this.game.broadcaster.addAppListener(n.EPlayerLocomotionEvents.StopPlayer, this.onStopPlayer.bind(this), this), 
            this.game.broadcaster.addAppListener(n.EPlayerLocomotionEvents.GetTarget, this.onGetTarget.bind(this), this), 
            document.addEventListener("visibilitychange", this.onStopPlayer.bind(this), !1));
        }, t.prototype.destroy = function() {
            this.isMainPlayer && (this.game.broadcaster.removeAppListener(n.EPlayerLocomotionEvents.MovePlayer, this), 
            this.game.broadcaster.removeAppListener(n.EPlayerLocomotionEvents.StopPlayer, this), 
            this.game.broadcaster.removeAppListener(n.EPlayerLocomotionEvents.GetTarget, this), 
            document.removeEventListener("visibilitychange", this.onStopPlayer.bind(this), !1));
        }, t.prototype.update = function() {
            if (this.game.prodigy.updateCount % t.UPDATE_INTERVAL == 0) {
                if (-1 === this.target.x && -1 === this.target.y && (this.creatureContainer.x > 0 || this.creatureContainer.y > 0)) {
                    var e = this.screen.path.xyToTile(this.creatureContainer.x, this.creatureContainer.y);
                    this.target.x = e.x, this.target.y = e.y;
                }
                this.broadcastPosition();
            }
        }, t.prototype.broadcastPosition = function() {
            this.isMainPlayer && !this.creatureContainer.evtProc && (this.lastTargetBroadcasted.x !== this.target.x || this.lastTargetBroadcasted.y !== this.target.y) && this.game.prodigy.updateCount - this.lastUpdateCount > t.EMIT_MESSAGE && (Phaser.Math.distanceSq(this.target.x, this.target.y, this.lastTargetBroadcasted.x, this.lastTargetBroadcasted.y) > t.DISTANCE_THRESHOLD || this.game.prodigy.updateCount - this.lastUpdateCount > 2 * t.EMIT_MESSAGE) && (this.lastUpdateCount = this.game.prodigy.updateCount, 
            this.lastTargetBroadcasted.x = this.target.x, this.lastTargetBroadcasted.y = this.target.y, 
            this.game.prodigy.network.emitMessage({
                action: "move",
                data: {
                    userID: this.game.prodigy.player.userID,
                    target: this.target
                }
            }));
        }, t.prototype.onGetTarget = function(t) {
            return void 0 === t && (t = !1), t ? {
                x: this.creatureContainer.x,
                y: this.creatureContainer.y
            } : this.target;
        }, t.prototype.onFindPath = function(t) {
            if (o.Util.isValid(t)) {
                var e = this.screen.path.xyToTile(t[0].x, t[0].y);
                a.GameConstants.get("GameConstants.Debug.WARP_MODE_ENABLED") ? (this.screen.user.x = t[0].x, 
                this.screen.user.y = t[0].y, this.screen.path.getCallback(e.x, e.y, this.isMainPlayer)) : this.creatureContainer.setPath(t, this.screen.path.getCallback(e.x, e.y, this.isMainPlayer)), 
                this.broadcastPosition();
            }
        }, t.prototype.setNewTarget = function(t, e) {
            if (this.screen.path.isNodeOpen(t, e)) {
                var i = this.screen.path.tileToXY(t, e);
                this.creatureContainer.x <= 0 && this.creatureContainer.y <= 0 ? (this.creatureContainer.x = i.x, 
                this.creatureContainer.y = i.y, o.Util.isValid(this.creatureContainer.follow) && (this.creatureContainer.follow.x = i.x, 
                this.creatureContainer.follow.y = i.y - 1)) : this.target.x === t && this.target.y === e || this.screen.path.findPath(this.creatureContainer.x, this.creatureContainer.y, i.x, i.y, this.onFindPath.bind(this)), 
                this.target.x = t, this.target.y = e;
            }
        }, t.prototype.onMovePlayer = function(t, e) {
            var i = this.screen.path.xyToTile(t, e);
            return !!this.screen.path.isNodeOpen(i.x, i.y) && (this.target.x = i.x, 
            this.target.y = i.y, this.screen.path.findPath(this.creatureContainer.x, this.creatureContainer.y, t, e, this.onFindPath.bind(this)), 
            !0);
        }, t.prototype.onStopPlayer = function() {
            var t = this.screen.path.xyToTile(this.creatureContainer.x, this.creatureContainer.y);
            this.target.x = t.x, this.target.y = t.y, this.creatureContainer.stand(), 
            this.creatureContainer.stopTweens();
        }, t.DISTANCE_THRESHOLD = 4, t.EMIT_MESSAGE = 120, t.UPDATE_INTERVAL = 200, 
        t;
    }();
    e.PlayerLocomotion = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(22), r = i(9), s = i(15), l = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, r.moveIn ? 1e4 : 7e3, "earth", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            var e = this, i = this.game.prodigy.event.create();
            this.atk.moveIn ? (this.epic = new o.MonsterContainer(this.game, this.overLayer.parent, new s.Monster(this.game, {
                ID: 126
            }), 2, -200, 500, !1), this.epic.loadedCallback = function() {
                e.epic.scale.x = e.epic.battleScale, e.epic.scale.y = e.epic.battleScale, 
                t.prototype.setup.call(e, 7200);
                var a = e.overLayer.parent;
                a.sort("y", Phaser.Group.SORT_ASCENDING), a.bringToTop(e.overLayer), 
                i.path(e.epic, [ {
                    x: 345
                } ]), i.function(e.epic.attack.bind(e.epic)), i.sound(8, "cast"), 
                i.delay(1e3), i.function(e.doAttack.bind(e)), i.delay(5e3), i.path(e.epic, [ {
                    x: -200
                } ]), i.start();
            }, this.epic.startLoad()) : (t.prototype.setup.call(this, 4500), i.sound(8, "cast"), 
            i.delay(1e3), i.function(this.doAttack.bind(this)), i.start());
        }, e.prototype.doAttack = function() {
            this.game.prodigy.audio.playSound(2);
            for (var t = 0; t < 100; t++) this.createLeaf(t, 25 * t, this.source.x < this.target.x);
        }, e.prototype.createLeaf = function(t, e, i) {
            var a = this.game.prodigy.create.sprite(i ? -100 : 1380, Math.floor(720 * Math.random()), "atlas-16", "earth-leaf");
            Math.random() < .5 ? this.overLayer.add(a) : this.underLayer.add(a), 
            a.anchor.setTo(Math.random(), Math.random()), this.game.add.tween(a).to({
                x: i ? 1380 : -100,
                angle: 1e3
            }, 2e3, Phaser.Easing.Linear.None, !0, e).onComplete.add(function() {
                a.kill();
            }, a);
        }, e;
    }(r.Attack);
    e.ForestFury = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 3e3, "earth", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 2e3);
            for (var e = 0; e < 100; e++) {
                var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "earth-leaf");
                this.overLayer.add(i);
                var a = 2 * Math.random() + 4;
                i.anchor.setTo(a, a), i.scale.x = i.scale.y = 0, i.angle = Math.floor(360 * Math.random());
                var n = (Math.random() < .5 ? 1 : -1) * (Math.floor(500 * Math.random()) + 200), r = Math.floor(200 * Math.random()) + 400, s = Math.random() * Math.PI * 2, l = Math.floor(this.target.x + r * Math.cos(s)), h = Math.floor(this.target.y + r * Math.sin(s));
                this.game.add.tween(i).to({
                    x: this.target.x,
                    y: this.target.y
                }, 1, Phaser.Easing.Linear.None).to({
                    angle: n
                }, 2e3, Phaser.Easing.Linear.None).to({
                    x: l,
                    y: h,
                    alpha: 0
                }, 300, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(i.anchor).to({
                    x: .5,
                    y: .5
                }, 500, Phaser.Easing.Linear.None).delay(1500).start(), this.game.add.tween(i.scale).to({
                    x: 1,
                    y: 1
                }, 250, Phaser.Easing.Linear.None).start();
            }
        }, e;
    }(o.Attack);
    e.Whirlwind = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 4e3, "water", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 3e3);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "water-prison");
            this.overLayer.add(e);
            var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-steam");
            this.underLayer.add(i), i.anchor.setTo(.5, .5), e.anchor.setTo(.5, .5), 
            this.game.add.tween(e).to({
                x: this.target.x,
                y: this.target.y - 50,
                alpha: .75
            }, 1, Phaser.Easing.Linear.None).to({}, 500, Phaser.Easing.Linear.None).to({
                y: this.target.y - 450
            }, 1500, Phaser.Easing.Quadratic.Out).to({
                alpha: 0
            }, 100, Phaser.Easing.Linear.None).start(), this.game.add.tween(e.scale).to({
                x: 2.5,
                y: 2.5
            }, 400, Phaser.Easing.Quadratic.In).to({
                x: 3,
                y: 3
            }, 400, Phaser.Easing.Quadratic.Out).to({
                x: 2.5,
                y: 2.5
            }, 400, Phaser.Easing.Quadratic.In).to({
                x: 3,
                y: 3
            }, 400, Phaser.Easing.Quadratic.Out).to({
                x: 2.5,
                y: 2.5
            }, 400, Phaser.Easing.Quadratic.In).to({
                x: 5,
                y: 5
            }, 100, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
                y: "-400"
            }, 1500, Phaser.Easing.Quadratic.Out).delay(501).to({
                y: "+400"
            }, 1e3, Phaser.Easing.Quadratic.In).to({
                y: "-50"
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: "+50"
            }, 250, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(i).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(3001).to({
                y: "-100",
                alpha: 0
            }, 250, Phaser.Easing.Quadratic.Out).start();
        }, e;
    }(o.Attack);
    e.WaterBubble = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 4e3, "water", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 3300);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "water-bubble-big");
            this.overLayer.add(e), e.anchor.setTo(.5, .5), this.game.add.tween(e).to({
                x: this.target.x,
                y: -200
            }, 1, Phaser.Easing.Linear.None).to({
                y: 40
            }, 1500, Phaser.Easing.Quadratic.Out).to({
                y: this.target.y
            }, 1500, Phaser.Easing.Quadratic.In).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(e.scale).to({
                x: .5,
                y: 2
            }, 1500, Phaser.Easing.Quadratic.Out).to({
                x: 1.25,
                y: .75
            }, 300, Phaser.Easing.Quadratic.Out).to({
                x: .75,
                y: 1.25
            }, 300, Phaser.Easing.Quadratic.InOut).to({
                x: 1.25,
                y: .75
            }, 300, Phaser.Easing.Quadratic.InOut).to({
                x: .75,
                y: 1.25
            }, 300, Phaser.Easing.Quadratic.InOut).to({
                x: 1.25,
                y: .75
            }, 300, Phaser.Easing.Quadratic.InOut).start();
            var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "water-splash");
            this.overLayer.add(i), i.anchor.setTo(.5, .8), this.game.add.tween(i).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(3e3).start(), this.game.add.tween(i.scale).to({
                x: 2,
                y: 0
            }, 1, Phaser.Easing.Linear.None).delay(3e3).to({
                y: 2
            }, 300, Phaser.Easing.Quadratic.Out).to({
                y: 0
            }, 300, Phaser.Easing.Quadratic.In).start();
        }, e;
    }(o.Attack);
    e.WaterBomb = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 2e3, "water", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 1e3);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "water-bubble");
            e.anchor.setTo(.5, .5), this.overLayer.add(e), this.game.add.tween(e).to({
                x: this.source.x,
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start();
            var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-head");
            i.alpha = .5, i.scale.x = this.source.x < this.target.x ? 1 : -1, i.anchor.setTo(.5, .5), 
            this.overLayer.add(i), this.game.add.tween(i).to({
                x: this.source.x,
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), (i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-tail")).scale.x = 0, 
            i.alpha = .5, i.anchor.setTo(1, .5), this.overLayer.add(i), this.game.add.tween(i).to({
                x: this.source.x + (this.source.x < this.target.x ? -42 : 42),
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x + (this.source.x < this.target.x ? -42 : 42)
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
                x: this.source.x < this.target.x ? 1 : -1
            }, 500, Phaser.Easing.Linear.None).start();
            var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
            this.overLayer.add(a), a.scale.x = a.scale.y = 0, a.alpha = .8, a.anchor.setTo(.5, .8), 
            this.game.add.tween(a).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(1e3).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(a.scale).to({
                x: 3,
                y: 3
            }, 300, Phaser.Easing.Linear.None).delay(1e3).start();
        }, e;
    }(o.Attack);
    e.WaterBlast = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 3e3, "storm", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 2e3);
            for (var e = 2 * Math.PI / 3, i = 0; i < 3; i++) {
                var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-lightning-0");
                a.animations.add("a", [ "storm-lightning-0", "storm-lightning-1", "storm-lightning-2" ], Math.floor(5 * Math.random()) + 30, !0, !1), 
                a.animations.play("a"), a.anchor.setTo(.5, 1);
                var n = this.target.x + Math.floor(300 * Math.cos(-Math.PI / 4 + e * i)), r = this.target.y + Math.floor(300 * Math.sin(-Math.PI / 4 + e * i));
                r < this.target.y ? this.underLayer.add(a) : this.overLayer.add(a), 
                this.game.add.tween(a).to({
                    x: n,
                    y: r
                }, 1, Phaser.Easing.Linear.None).to({
                    x: this.target.x,
                    y: this.target.y
                }, 2e3, Phaser.Easing.Quadratic.In).to({
                    alpha: 0
                }, 1, Phaser.Easing.Linear.None).start();
            }
            for (i = 0; i < 2; i++) {
                var s = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
                this.overLayer.add(s), s.scale.x = s.scale.y = 0, s.alpha = .5, 
                s.anchor.setTo(.5, .8), this.game.add.tween(s).to({
                    x: this.target.x,
                    y: this.target.y
                }, 1, Phaser.Easing.Linear.None).delay(150 * i + 2e3).to({
                    alpha: 0
                }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(s.scale).to({
                    x: 4,
                    y: 4
                }, 300, Phaser.Easing.Linear.None).delay(150 * i + 2e3).start();
            }
        }, e;
    }(o.Attack);
    e.Trinity = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 5e3, "storm", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 4500);
            for (var e = 0; e < 2; e++) {
                var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
                this.overLayer.add(i), i.scale.x = i.scale.y = 0, i.alpha = .5, 
                i.anchor.setTo(.5, .8), this.game.add.tween(i).to({
                    x: this.target.x,
                    y: this.target.y
                }, 1, Phaser.Easing.Linear.None).delay(150 * e).to({}, 4300, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
                    x: 3,
                    y: 3
                }, 4e3, Phaser.Easing.Linear.None).delay(150 * e).to({
                    x: 1.5,
                    y: 1.5
                }, 300, Phaser.Easing.Quadratic.Out).to({
                    x: 4,
                    y: 4
                }, 300, Phaser.Easing.Quadratic.In).start();
            }
            var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-lightning-0");
            a.animations.add("a", [ "storm-lightning-0", "storm-lightning-1", "storm-lightning-2" ], 30, !0, !1), 
            a.animations.play("a"), this.overLayer.add(a), a.anchor.setTo(.5, 1);
            var n = this.game.add.tween(a).to({
                x: this.target.x,
                y: 0
            }, 1, Phaser.Easing.Linear.None);
            for (e = 0; e < 30; e++) {
                var r = 25e-5 * (100 * e) * 300, s = Math.PI * Math.random(), l = this.target.x + r * Math.cos(s), h = this.target.y + r * Math.sin(s);
                h > this.target.y && (h = this.target.y - (h - this.target.y)), 
                n.to({
                    x: l,
                    y: 0
                }, 1, Phaser.Easing.Linear.None), n.to({
                    y: h
                }, 99, Phaser.Easing.Linear.None);
            }
            n.to({
                x: o.Attack.BX,
                y: o.Attack.BY
            }, 1, Phaser.Easing.Linear.None), n.start();
        }, e;
    }(o.Attack);
    e.Thunderdome = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 5e3, "storm", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 4500), this.game.prodigy.effects.shake(1500, 3e3, 3);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-lightning-0");
            e.animations.add("a", [ "storm-lightning-0", "storm-lightning-1", "storm-lightning-2" ], 30, !0, !1), 
            e.animations.play("a"), this.overLayer.add(e), e.anchor.setTo(.5, 1);
            var i = this.game.add.tween(e).to({
                x: this.target.x,
                y: 0
            }, 1, Phaser.Easing.Linear.None).delay(1500), a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
            this.overLayer.add(a), a.scale.x = a.scale.y = 0, a.alpha = .8, a.anchor.setTo(.5, .8);
            for (var n = this.game.add.tween(a), r = this.game.add.tween(a.scale), s = 0; s < 25; s++) {
                var l = Math.floor(1180 * Math.random() + 50), h = this.target.y + Math.floor(300 * Math.random() - 50);
                i.to({
                    x: l,
                    y: 0
                }, 1, Phaser.Easing.Linear.None), i.to({
                    y: h
                }, 99, Phaser.Easing.Linear.None), n.to({
                    x: l,
                    y: h,
                    alpha: 1
                }, 1, Phaser.Easing.Linear.None), n.to({
                    alpha: 0
                }, 99, Phaser.Easing.Linear.None), r.to({
                    x: 0,
                    y: 0
                }, 1, Phaser.Easing.Linear.None), r.to({
                    x: 2,
                    y: 2
                }, 99, Phaser.Easing.Linear.None);
            }
            i.to({
                x: o.Attack.BX,
                y: o.Attack.BY
            }, 1, Phaser.Easing.Linear.None), n.delay(1600).start(), r.delay(1600).start(), 
            i.start();
            for (s = 0; s < 4; s++) {
                var c = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-cloud2");
                this.overLayer.add(c), c.scale.x = c.scale.y = 2.5, c.anchor.setTo(.5, 1), 
                this.game.add.tween(c).to({
                    x: 320 * s + 180,
                    y: 0
                }, 1, Phaser.Easing.Linear.None).to({
                    y: 150
                }, 1500, Phaser.Easing.Quadratic.Out).to({}, 3e3, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 300, Phaser.Easing.Linear.None).start();
            }
            var p = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-titan");
            this.overLayer.add(p), p.anchor.setTo(.5, .5), p.alpha = .75, this.game.add.tween(p).to({
                x: 640,
                y: 360
            }, 1, Phaser.Easing.Linear.None).delay(1500).to({}, 3e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(p.scale).to({
                x: 2,
                y: 2
            }, 3e3, Phaser.Easing.Linear.None).delay(1500).to({
                x: 4,
                y: 4
            }, 300, Phaser.Easing.Linear.None).start();
        }, e;
    }(o.Attack);
    e.StormComing = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 5e3, "ice", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 4500);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-snowman-body");
            e.anchor.setTo(.5, 1), this.overLayer.add(e), this.game.add.tween(e).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(3e3).to({}, 1500, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 100, Phaser.Easing.Linear.None).start(), (e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-snowman-head")).anchor.setTo(.5, 1), 
            e.scale.x = this.source.x < this.target.x ? -1 : 1, this.overLayer.add(e), 
            this.game.add.tween(e).to({
                x: this.target.x,
                y: this.target.y - 100
            }, 1, Phaser.Easing.Linear.None).delay(3e3).to({}, 1500, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 100, Phaser.Easing.Linear.None).start(), (e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-snowman-body")).anchor.setTo(.5, .5), 
            e.scale.x = e.scale.y = .25, this.overLayer.add(e), this.game.add.tween(e).to({
                x: this.source.x,
                y: this.source.y
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x,
                y: this.target.y - 168,
                angle: this.source.x < this.target.x ? 720 : -720
            }, 3e3, Phaser.Easing.Quadratic.Out).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(e.scale).to({
                x: 2.5,
                y: 2.5
            }, 3e3, Phaser.Easing.Quadratic.Out).to({
                x: 5,
                y: 5
            }, 300, Phaser.Easing.Linear.None).start();
            var i = this.target.scale;
            this.game.add.tween(this.target.scale).to({
                x: 0,
                y: 0
            }, 1, Phaser.Easing.Linear.None).delay(3e3).to({}, 1500, Phaser.Easing.Linear.None).to({
                x: i.x,
                y: i.y
            }, 200, Phaser.Easing.Linear.None).start();
            var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
            this.overLayer.add(a), a.scale.x = a.scale.y = 0, a.alpha = .8, a.anchor.setTo(.5, .8), 
            this.game.add.tween(a).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(4500).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(a.scale).to({
                x: 3,
                y: 3
            }, 300, Phaser.Easing.Linear.None).delay(4500).start();
        }, e;
    }(o.Attack);
    e.Snowman = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 3500, "storm", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 2900);
            for (var e = 0; e < 2; e++) {
                var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-lightning-0");
                i.animations.add("a", [ "storm-lightning-0", "storm-lightning-1", "storm-lightning-2" ], Math.floor(5 * Math.random()) + 30, !0, !1), 
                i.animations.play("a"), i.anchor.setTo(.5, 1), this.overLayer.add(i), 
                i.scale.y = 0 === e ? 1 : -1, this.game.add.tween(i).to({
                    x: this.target.x,
                    y: 0 === e ? this.target.y - 50 - 82 : this.target.y - 50 + 82
                }, 1, Phaser.Easing.Linear.None).to({
                    y: 0 === e ? "-82" : "+82"
                }, 400, Phaser.Easing.Quadratic.In).to({
                    y: "-200"
                }, 2e3, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 1, Phaser.Easing.Linear.None).start();
            }
            var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "water-prison");
            this.overLayer.add(a);
            var n = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-steam");
            this.underLayer.add(n), n.anchor.setTo(.5, .5), a.anchor.setTo(.5, .5), 
            this.game.add.tween(a).to({
                x: this.target.x,
                y: this.target.y - 50,
                alpha: .75
            }, 1, Phaser.Easing.Linear.None).to({}, 400, Phaser.Easing.Linear.None).to({
                y: this.target.y - 250
            }, 2e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 100, Phaser.Easing.Linear.None).start(), this.game.add.tween(a.scale).to({
                x: 2,
                y: 2
            }, 400, Phaser.Easing.Quadratic.In).to({}, 2e3, Phaser.Easing.Linear.None).to({
                x: 5,
                y: 5
            }, 100, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
                y: "-200"
            }, 2e3, Phaser.Easing.Linear.None).delay(401).to({
                y: "+200"
            }, 500, Phaser.Easing.Quadratic.In).to({
                y: "-50"
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: "+50"
            }, 250, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(n).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(2901).to({
                y: "-100",
                alpha: 0
            }, 250, Phaser.Easing.Quadratic.Out).start();
        }, e;
    }(o.Attack);
    e.Shocksphere = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 2e3, "shadow", r, s, l, h, 1200) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 1e3);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "shadow-mudball");
            e.anchor.setTo(.5, .5), e.scale.x = e.scale.y = .5, this.overLayer.add(e), 
            this.game.add.tween(e).to({
                x: this.source.x,
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start();
            var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-head");
            i.alpha = .5, i.scale.x = this.source.x < this.target.x ? 1 : -1, i.anchor.setTo(.5, .5), 
            this.overLayer.add(i), this.game.add.tween(i).to({
                x: this.source.x,
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), (i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-tail")).scale.x = 0, 
            i.alpha = .5, i.anchor.setTo(1, .5), this.overLayer.add(i), this.game.add.tween(i).to({
                x: this.source.x + (this.source.x < this.target.x ? -42 : 42),
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x + (this.source.x < this.target.x ? -42 : 42)
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
                x: this.source.x < this.target.x ? 1 : -1
            }, 500, Phaser.Easing.Linear.None).start();
            var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
            this.overLayer.add(a), a.scale.x = a.scale.y = 0, a.alpha = .8, a.anchor.setTo(.5, .8), 
            this.game.add.tween(a).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(1e3).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(a.scale).to({
                x: 3,
                y: 3
            }, 300, Phaser.Easing.Linear.None).delay(1e3).start();
        }, e;
    }(o.Attack);
    e.ShadowShock = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = i(0), s = function(t) {
        function e(e, i, a, n, o, r, s, l, h, c) {
            void 0 === c && (c = 6500);
            var p = t.call(this, e, i, a, n, o, c, "shadow", r, s, l, h) || this;
            return p.tintColor = 5577355, p;
        }
        return n(e, t), e.prototype.setup = function(e) {
            void 0 === e && (e = 5e3), t.prototype.setup.call(this, e), this.doAttack();
        }, e.prototype.doAttack = function() {
            var t = this, e = this.source.x, i = this.source.y;
            setTimeout(function() {
                t.game.prodigy.audio.playSound(7);
            }, 400), r.Util.isValid(this.epic) && (e = this.epic.x, i = this.epic.y);
            for (var a = Math.floor(e + (this.target.x - e) / 2), n = i - 250, s = 0, l = 0; l < 12; l++) {
                var h = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-circle-small");
                h.tint = this.tintColor, this.underLayer.add(h), h.anchor.setTo(.5, .5), 
                h.alpha = .25, h.scale.x = h.scale.y = 20, this.game.add.tween(h).to({
                    x: a,
                    y: n
                }, 1, Phaser.Easing.Linear.None).delay(s).to({}, 800, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(h.scale).to({
                    x: 0,
                    y: 0
                }, 800, Phaser.Easing.Linear.None).delay(s).start(), s += 500 - 20 * l;
            }
            var c = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-snowman-body");
            c.tint = this.tintColor, this.overLayer.add(c), c.anchor.setTo(.5, .5), 
            c.alpha = .5, c.scale.x = c.scale.y = 0, this.game.add.tween(c).to({
                x: a,
                y: n
            }, 1, Phaser.Easing.Linear.None).to({}, 5e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 400, Phaser.Easing.Linear.None).start(), this.game.add.tween(c.scale).to({
                x: 4,
                y: 4
            }, 5e3, Phaser.Easing.Linear.None).to({
                x: 10,
                y: 10
            }, 400, Phaser.Easing.Linear.None).start();
            var p = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-steam");
            p.tint = this.tintColor, this.underLayer.add(p), p.anchor.setTo(.5, .5), 
            this.game.add.tween(p).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(5400).to({
                y: "-100",
                alpha: 0
            }, 250, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(this.target).to({
                x: a
            }, 3e3, Phaser.Easing.Quadratic.In).to({}, 2e3, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 200, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
                y: n + 50
            }, 1e3, Phaser.Easing.Quadratic.In).delay(2e3).to({}, 2e3, Phaser.Easing.Linear.None).to({
                y: this.target.y
            }, 200, Phaser.Easing.Linear.None).to({
                y: "-50"
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: "+50"
            }, 250, Phaser.Easing.Quadratic.In).start(), this.game.prodigy.effects.shake(0, 5e3, 3, "v"), 
            this.game.prodigy.effects.shake(5e3, 1e3, 15);
        }, e;
    }(o.Attack);
    e.RoyalRoar = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 3e3, "fire", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 2250);
            var e = [];
            e.push(this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "fire-bomb")), 
            e.push(this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "fire-ring"));
            for (var i = this.source.x < this.target.x ? 1 : -1, a = 0; a < e.length; a++) this.overLayer.add(e[a]), 
            e[a].anchor.setTo(.5, .5), e[a].scale.x = e[a].scale.y = 0, this.game.add.tween(e[a]).to({
                x: this.source.x
            }, 1, Phaser.Easing.Quadratic.Out).to({
                x: this.source.x + (this.target.x - this.source.x) / 2,
                angle: 100 * i
            }, 1e3, Phaser.Easing.Linear.None).to({
                angle: 4e3 * i
            }, 1e3, Phaser.Easing.Quadratic.In).to({
                x: this.target.x,
                angle: 4500 * i
            }, 250, Phaser.Easing.Linear.None).to({
                x: this.target.x + (this.target.x - this.source.x) / 2,
                angle: 5e3 * i,
                alpha: 0
            }, 250, Phaser.Easing.Linear.None).start(), this.game.add.tween(e[a]).to({
                y: this.source.y - 50
            }, 1, Phaser.Easing.Quadratic.Out).to({
                y: this.source.y - 200
            }, 500, Phaser.Easing.Quadratic.Out).to({
                y: this.source.y - 50
            }, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(e[a].scale).to({
                x: -i,
                y: 1
            }, 1e3, Phaser.Easing.Quadratic.Out).start();
            for (a = 0; a < 3; a++) {
                var n = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "fire-cloud");
                this.overLayer.add(n), n.anchor.setTo(.5, .5), this.game.add.tween(n).to({
                    x: this.target.x,
                    y: this.target.y
                }, 1, Phaser.Easing.Quadratic.Out).delay(80 * a + 2250).to({
                    y: "-300",
                    alpha: 0
                }, 500, Phaser.Easing.Quadratic.Out).start();
            }
            for (a = 0; a < 10; a++) {
                n = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-cloud");
                this.underLayer.add(n), n.anchor.setTo(1 === i ? .75 : .25, .5);
                var r = this.source.x + (this.target.x - this.source.x) / 2;
                this.game.add.tween(n).to({
                    x: r,
                    y: this.target.y
                }, 1, Phaser.Easing.Quadratic.Out).delay(100 * a + 1e3).to({
                    x: r - 100 * i,
                    y: "-100",
                    alpha: 0
                }, 250, Phaser.Easing.Quadratic.Out).start();
            }
            var s = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
            this.overLayer.add(s), s.scale.x = s.scale.y = 0, s.alpha = .8, s.anchor.setTo(.5, .8), 
            this.game.add.tween(s).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(2250).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(s.scale).to({
                x: 3,
                y: 3
            }, 300, Phaser.Easing.Linear.None).delay(2250).start();
        }, e;
    }(o.Attack);
    e.Razorfire = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 3500, "water", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 3e3);
            var e = new Phaser.TileSprite(this.game, 0, 0, 1280, 720, "atlas-161", "water-rain");
            this.showOverlay(e, 3e3, 5, 5, 0);
        }, e;
    }(i(9).Attack);
    e.RainyDay = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 5500, "wizard", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 5e3);
            for (var e = 0; e < 9; e++) {
                var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-circle-small");
                this.underLayer.add(i), i.anchor.setTo(.5, .5), i.alpha = .6, i.scale.x = i.scale.y = 0, 
                this.game.add.tween(i).to({
                    x: this.target.x,
                    y: this.target.y
                }, 1, Phaser.Easing.Linear.None).delay(500 * e).to({
                    alpha: 0
                }, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(i.scale).to({
                    x: 0,
                    y: 0
                }, 1, Phaser.Easing.Linear.None).delay(500 * e).to({
                    x: 10,
                    y: 5
                }, 500, Phaser.Easing.Linear.None).start();
            }
            for (e = 0; e < 20; e++) {
                var a = "core-box-" + Math.floor(6 * Math.random()), n = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", a);
                n.alpha = .75, n.anchor.setTo(.5, 0), n.height = 0, n.width = 80;
                var r = this.target.x + Math.floor(400 * Math.random() - 200), s = this.target.y + Math.floor(400 * Math.random() - 200), l = 200 * e + 1e3;
                this.game.add.tween(n).to({
                    x: r,
                    y: 0
                }, 1, Phaser.Easing.Linear.None).delay(l).to({
                    height: s
                }, 100, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 100, Phaser.Easing.Linear.None).start(), this.game.prodigy.effects.shake(l + 100, 100);
                var h = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
                this.overLayer.add(h), h.scale.x = h.scale.y = 0, h.alpha = .8, 
                h.anchor.setTo(.5, .8), this.game.add.tween(h).to({
                    x: r,
                    y: s
                }, 1, Phaser.Easing.Linear.None).delay(l + 100).to({
                    alpha: 0
                }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(h.scale).to({
                    x: 3,
                    y: 3
                }, 300, Phaser.Easing.Linear.None).delay(l + 100).start(), s < this.target.y ? (this.underLayer.add(n), 
                this.underLayer.add(h)) : (this.overLayer.add(n), this.overLayer.add(h));
            }
        }, e;
    }(o.Attack);
    e.Pummel = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 5e3, "wizard", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 4100);
            for (var e = this.target.x < this.source.x, i = 100, a = 0; a < i; a++) {
                var n = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random());
                (d = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", n)).anchor.setTo(.5, .5), 
                d.scale.x = d.scale.y = 0, d.alpha = .8, this.overLayer.add(d);
                var r = Math.floor(200 * Math.random()) + 200, s = Math.random() * Math.PI * 2, l = Math.floor(this.source.x + r * Math.cos(s)), h = Math.floor(this.source.y + r * Math.sin(s)), c = Math.floor(1e3 * a / i);
                this.game.add.tween(d).to({
                    x: l,
                    y: h - 50
                }, 1, Phaser.Easing.Linear.None).delay(c).to({
                    x: this.source.x,
                    y: this.source.y - 50
                }, 1e3, Phaser.Easing.Cubic.In).start(), this.game.add.tween(d.scale).to({
                    x: 1.5,
                    y: 1.5
                }, 400, Phaser.Easing.Quadratic.Out).delay(c).to({
                    x: 0,
                    y: 0
                }, 600, Phaser.Easing.Quadratic.In).start();
            }
            for (a = 0; a < 3; a++) {
                var p = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-circle-small");
                this.overLayer.add(p), p.anchor.setTo(.5, .5), p.alpha = .6, p.scale.x = p.scale.y = 0, 
                this.game.add.tween(p).to({
                    x: this.source.x,
                    y: this.source.y - 50
                }, 1, Phaser.Easing.Linear.None).delay(200 * a + 2e3).to({
                    alpha: 0
                }, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(p.scale).to({
                    x: 0,
                    y: 0
                }, 1, Phaser.Easing.Linear.None).delay(200 * a + 2e3).to({
                    x: 10,
                    y: 10
                }, 500, Phaser.Easing.Linear.None).start();
            }
            var u = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-beam2");
            this.overLayer.add(u), u.alpha = .5, u.anchor.setTo(.5, 1), u.angle = 90, 
            u.height = u.width = 0, this.game.add.tween(u).to({
                x: 0,
                y: this.source.y - 50
            }, 1, Phaser.Easing.Linear.None).delay(2e3).start(), this.game.add.tween(u).to({
                height: 1280,
                width: 300
            }, 100, Phaser.Easing.Linear.None).delay(2e3).to({}, 2e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 500, Phaser.Easing.Linear.None).start(), this.game.prodigy.effects.shake(2e3, 2e3), 
            i = 100;
            for (a = 0; a < i; a++) {
                var d, g = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random());
                (d = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", g)).anchor.setTo(.5, .5), 
                d.alpha = .8, this.overLayer.add(d);
                h = this.game.rnd.integerInRange(-150, 150), c = Math.floor(2e3 * a / i) + 2e3;
                this.game.add.tween(d).to({
                    x: e ? 1400 : 0,
                    y: this.source.y - 50 + h
                }, 1, Phaser.Easing.Linear.None).delay(c).to({
                    x: e ? -100 : 1400
                }, 500, Phaser.Easing.Linear.None).start();
            }
        }, e;
    }(o.Attack);
    e.Powerbeam = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 2e3, "earth", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 1e3);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "earth-mudball");
            e.anchor.setTo(.5, .5), e.scale.x = e.scale.y = .5, this.overLayer.add(e), 
            this.game.add.tween(e).to({
                x: this.source.x,
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start();
            var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-head");
            i.alpha = .5, i.scale.x = this.source.x < this.target.x ? 1 : -1, i.anchor.setTo(.5, .5), 
            this.overLayer.add(i), this.game.add.tween(i).to({
                x: this.source.x,
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), (i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-tail")).scale.x = 0, 
            i.alpha = .5, i.anchor.setTo(1, .5), this.overLayer.add(i), this.game.add.tween(i).to({
                x: this.source.x + (this.source.x < this.target.x ? -42 : 42),
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x + (this.source.x < this.target.x ? -42 : 42)
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
                x: this.source.x < this.target.x ? 1 : -1
            }, 500, Phaser.Easing.Linear.None).start();
            var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
            this.overLayer.add(a), a.scale.x = a.scale.y = 0, a.alpha = .8, a.anchor.setTo(.5, .8), 
            this.game.add.tween(a).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(1e3).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(a.scale).to({
                x: 3,
                y: 3
            }, 300, Phaser.Easing.Linear.None).delay(1e3).start();
        }, e;
    }(o.Attack);
    e.Mudball = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 2e3, "wizard", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 1e3);
            for (var e = 100, i = (this.target.x - this.source.x) / e, a = 0; a < e; a++) {
                var n = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random());
                (h = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", n)).anchor.setTo(.5, .5), 
                h.scale.x = h.scale.y = 0, h.alpha = .8, this.overLayer.add(h);
                var r = Math.floor(1e3 * a / e), s = Math.floor(40 * Math.random() - 20);
                this.game.add.tween(h).to({
                    x: Math.floor(this.source.x + a * i),
                    y: this.source.y - 50 + s
                }, 1, Phaser.Easing.Linear.None).delay(r).to({
                    alpha: 0
                }, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(h.scale).to({
                    x: 1,
                    y: 1
                }, 500, Phaser.Easing.Linear.None).delay(r).start();
            }
            for (a = 0; a < 3; a++) {
                var l = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-circle-small");
                this.underLayer.add(l), l.anchor.setTo(.5, .5), l.alpha = .25, l.scale.x = l.scale.y = 0, 
                this.game.add.tween(l).to({
                    x: this.target.x,
                    y: this.target.y - 50
                }, 1, Phaser.Easing.Linear.None).delay(100 * a + 1e3).to({
                    alpha: 0
                }, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(l.scale).to({
                    x: 0,
                    y: 0
                }, 1, Phaser.Easing.Linear.None).delay(100 * a + 1e3).to({
                    x: 10,
                    y: 10
                }, 500, Phaser.Easing.Linear.None).start();
            }
            e = 50;
            for (a = 0; a < e; a++) {
                var h, c = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random());
                (h = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", c)).anchor.setTo(.5, .5), 
                h.alpha = .8, this.overLayer.add(h);
                var p = Math.floor(200 * Math.random() + 200), u = Math.random() * Math.PI * 2, d = Math.floor(this.target.x + p * Math.cos(u)), g = (s = Math.floor(this.target.y + p * Math.sin(u)), 
                Math.floor(300 * Math.random()) + 300);
                this.game.add.tween(h).to({
                    x: Math.floor(this.target.x),
                    y: this.target.y - 50
                }, 1, Phaser.Easing.Linear.None).delay(1e3).to({
                    x: d,
                    y: s - 50,
                    alpha: 0
                }, g, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(h.scale).to({
                    x: 1,
                    y: 1
                }, g, Phaser.Easing.Linear.None).delay(1e3).start();
            }
        }, e;
    }(o.Attack);
    e.MagiShot = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 7e3, "earth", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 4500);
            for (var e = 0; e < 100; e++) this.createLeaf(e, 25 * e, this.source.x < this.target.x);
        }, e.prototype.createLeaf = function(t, e, i) {
            var a = this.game.prodigy.create.sprite(i ? -100 : 1380, Math.floor(720 * Math.random()), "atlas-16", "earth-leaf");
            Math.random() < .5 ? this.overLayer.add(a) : this.underLayer.add(a), 
            a.anchor.setTo(Math.random(), Math.random()), this.game.add.tween(a).to({
                x: i ? 1380 : -100,
                angle: 1e3
            }, 2e3, Phaser.Easing.Linear.None, !0, e).onComplete.add(function() {
                a.kill();
            }, a);
        }, e;
    }(i(9).Attack);
    e.LeafWind = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n) {
            return t.call(this, e, i, a, n, 0) || this;
        }
        return n(e, t), e.prototype.vanish = function() {
            this.activeTween = this.vanishTween, this.activeTween.start();
        }, e.prototype.onEnd = function() {
            this.visible = !1, this.updateEnabled = !1, this.destroy();
        }, e;
    }(i(140).Ink);
    e.InkBlotAttack = o;
}, function(t, e) {
    t.exports = function(t, e) {
        return t < e;
    };
}, function(t, e, i) {
    var a = i(68);
    t.exports = function(t, e, i) {
        for (var n = -1, o = t.length; ++n < o; ) {
            var r = t[n], s = e(r);
            if (null != s && (void 0 === l ? s == s && !a(s) : i(s, l))) var l = s, h = r;
        }
        return h;
    };
}, function(t, e, i) {
    var a = i(826), n = i(53), o = i(825);
    t.exports = function(t, e) {
        return t && t.length ? a(t, n(e, 2), o) : void 0;
    };
}, function(t, e, i) {
    var a = i(53), n = i(44), o = i(58);
    t.exports = function(t) {
        return function(e, i, r) {
            var s = Object(e);
            if (!n(e)) {
                var l = a(i, 3);
                e = o(e), i = function(t) {
                    return l(s[t], t, s);
                };
            }
            var h = t(e, i, r);
            return h > -1 ? s[l ? e[h] : h] : void 0;
        };
    };
}, function(t, e, i) {
    var a = i(828)(i(257));
    t.exports = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = i(29), s = i(824), l = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 1750, "water", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 525);
            var e = this.game.prodigy.event.create();
            e.delay(750);
            for (var i = 0; i < 20; i++) e.function(this.createInkTween.bind(this)), 
            e.delay(25);
            e.start();
        }, e.prototype.createInkTween = function() {
            var t = new s.InkBlotAttack(this.game, this.overLayer, this.source.x - .5 * this.source.width, this.source.y - .5 * this.source.height);
            t.inputEnabled = !1, this.game.add.tween(t).to({
                x: this.target.x - .75 * this.target.width + r.Random.integerInRange(0, .5 * this.target.width),
                y: this.target.y - .75 * this.target.height + r.Random.integerInRange(0, .5 * this.target.height)
            }, 500, Phaser.Easing.Linear.None).start().onComplete.add(t.vanish.bind(t));
        }, e;
    }(o.Attack);
    e.InkBlot = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 5e3, "ice", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 4100);
            for (var e, i = this.target.x < this.source.x ? -1 : 1, a = this.source.x + (this.target.x - this.source.x) / 2, n = this.source.y - 100, r = 0; r < 4; r++) {
                var s = 65 * r + 100, l = a + i * Math.floor(s * Math.cos(-Math.PI / 4)), h = n + Math.floor(s * Math.sin(-Math.PI / 4)), c = a + i * Math.floor(s * Math.cos(0)), p = n + Math.floor(s * Math.sin(0));
                (e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", r < 3 ? "ice-blast" : "ice-prison")).anchor.setTo(.5, .5), 
                e.scale.x = .5, e.scale.y = .5 * i, e.alpha = 0, e.angle = r < 5 ? 90 : 0, 
                this.overLayer.add(e), this.game.add.tween(e).to({
                    x: a,
                    y: n
                }, 1, Phaser.Easing.Linear.None).delay(500).to({
                    x: l,
                    y: h,
                    alpha: 1
                }, 500, Phaser.Easing.Linear.None).to({}, 50 * r + 500, Phaser.Easing.Linear.None).to({
                    x: c,
                    y: p
                }, 200, Phaser.Easing.Linear.None).to({}, 300, Phaser.Easing.Linear.None).to({
                    x: l,
                    y: h
                }, 300, Phaser.Easing.Linear.None).to({}, 300, Phaser.Easing.Linear.None).to({
                    x: c,
                    y: p
                }, 200, Phaser.Easing.Linear.None).to({}, 300, Phaser.Easing.Linear.None).to({
                    x: l,
                    y: h
                }, 300, Phaser.Easing.Linear.None).to({}, 300, Phaser.Easing.Linear.None).to({
                    x: c,
                    y: p
                }, 200, Phaser.Easing.Linear.None).to({}, 300, Phaser.Easing.Linear.None).start();
            }
            (e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-prison")).anchor.setTo(.5, .5), 
            e.alpha = 0, this.overLayer.add(e);
            var u = this.game.add.tween(e).to({
                x: a,
                y: n
            }, 1, Phaser.Easing.Linear.None).to({
                alpha: 1
            }, 500, Phaser.Easing.Linear.None);
            for (r = 0; r < 6; r++) u.to({
                y: "+25"
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: "-25"
            }, 250, Phaser.Easing.Quadratic.In).to({
                y: "-25"
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: "+25"
            }, 250, Phaser.Easing.Quadratic.In);
            u.start(), (e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-elemental")).anchor.setTo(.5, .5), 
            e.alpha = 0, e.scale.y = 1.5, e.scale.x = 1.5 * i, this.overLayer.add(e);
            var d = this.game.add.tween(e).to({
                x: a,
                y: n - 100
            }, 1, Phaser.Easing.Linear.None).delay(250).to({
                alpha: 1
            }, 500, Phaser.Easing.Linear.None);
            for (r = 0; r < 6; r++) d.to({
                y: "+25"
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: "-25"
            }, 250, Phaser.Easing.Quadratic.In).to({
                y: "-25"
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: "+25"
            }, 250, Phaser.Easing.Quadratic.In);
            d.start();
            var g = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
            this.overLayer.add(g), g.scale.x = g.scale.y = 0, g.alpha = .8, g.anchor.setTo(.5, .8), 
            this.game.add.tween(g).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(1900).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).to({
                alpha: .8
            }, 800, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).to({
                alpha: .8
            }, 800, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(g.scale).to({
                x: 3,
                y: 3
            }, 300, Phaser.Easing.Linear.None).delay(1900).to({
                x: 0,
                y: 0
            }, 800, Phaser.Easing.Linear.None).to({
                x: 3,
                y: 3
            }, 300, Phaser.Easing.Linear.None).to({
                x: 0,
                y: 0
            }, 800, Phaser.Easing.Linear.None).to({
                x: 3,
                y: 3
            }, 300, Phaser.Easing.Linear.None).start(), this.game.prodigy.effects.shake(1900, 100, 5, "v"), 
            this.game.prodigy.effects.shake(3e3, 100, 5, "v"), this.game.prodigy.effects.shake(4100, 100, 5, "v");
        }, e;
    }(o.Attack);
    e.IceToMeetYou = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 6e3, "ice", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 4100);
            for (var e = [], i = 0; i < 6; i++) {
                var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-prison");
                this.overLayer.add(a), a.angle = 0, a.anchor.setTo(.5, .75), e.push(a);
            }
            for (i = 0; i < 6; i++) this.game.prodigy.effects.shake(200 * i + 1e3 + 100, 100, 5, "v");
            this.game.add.tween(e[5]).to({
                x: this.target.x,
                y: -200
            }, 1, Phaser.Easing.Linear.None).delay(1e3).to({
                y: this.target.y
            }, 100, Phaser.Easing.Linear.None).to({}, 3e3, Phaser.Easing.Linear.None).to({
                x: this.target.x,
                y: -200,
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), e[4].angle = -45, this.game.add.tween(e[4]).to({
                x: this.target.x - 200,
                y: -200
            }, 1, Phaser.Easing.Linear.None).delay(1200).to({
                x: this.target.x - 50,
                y: this.target.y - 40
            }, 100, Phaser.Easing.Linear.None).to({}, 2800, Phaser.Easing.Linear.None).to({
                x: this.target.x - 200,
                y: -200,
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), e[3].angle = 45, this.game.add.tween(e[3]).to({
                x: this.target.x + 200,
                y: -200
            }, 1, Phaser.Easing.Linear.None).delay(1400).to({
                x: this.target.x + 50,
                y: this.target.y - 40
            }, 100, Phaser.Easing.Linear.None).to({}, 2600, Phaser.Easing.Linear.None).to({
                x: this.target.x + 200,
                y: -200,
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), e[2].angle = -20, this.game.add.tween(e[2]).to({
                x: this.target.x - 100,
                y: -200
            }, 1, Phaser.Easing.Linear.None).delay(1600).to({
                x: this.target.x - 25,
                y: this.target.y - 100
            }, 100, Phaser.Easing.Linear.None).to({}, 2400, Phaser.Easing.Linear.None).to({
                x: this.target.x - 100,
                y: -200,
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), e[1].angle = 20, this.game.add.tween(e[1]).to({
                x: this.target.x + 100,
                y: -200
            }, 1, Phaser.Easing.Linear.None).delay(1800).to({
                x: this.target.x + 25,
                y: this.target.y - 100
            }, 100, Phaser.Easing.Linear.None).to({}, 2200, Phaser.Easing.Linear.None).to({
                x: this.target.x + 100,
                y: -200,
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(e[0]).to({
                x: this.target.x,
                y: -200
            }, 1, Phaser.Easing.Linear.None).delay(2e3).to({
                y: this.target.y - 150
            }, 100, Phaser.Easing.Linear.None).to({}, 2e3, Phaser.Easing.Linear.None).to({
                x: this.target.x,
                y: -200,
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start();
            for (i = 0; i < 50; i++) {
                a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-blast");
                this.overLayer.add(a), a.anchor.setTo(.5, .5), a.angle = this.source.x < this.target.x ? 45 : 135;
                var n = this.source.x < this.target.x ? Math.floor(500 * Math.random()) - 500 : 500 - Math.floor(500 * Math.random()), r = n + (this.source.x < this.target.x ? 400 : -400);
                this.game.add.tween(a).to({
                    x: this.target.x + n,
                    y: -50
                }, 1, Phaser.Easing.Linear.None).delay(50 * i).to({
                    x: this.target.x + r,
                    y: 800
                }, 500, Phaser.Easing.Linear.None).start();
            }
        }, e;
    }(o.Attack);
    e.IcePrison = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 3e3, "ice", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 1500);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-blast");
            e.anchor.setTo(.5, .5), e.scale.x = this.source.x < this.target.x ? 1 : -1, 
            this.overLayer.add(e), this.game.add.tween(e).to({
                x: this.source.x,
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1500, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start();
            for (var i = Math.floor(Math.abs(this.target.x - this.source.x) / 50) + 1, a = 1; a < i; a++) {
                var n = a < i - 1 ? a % 2 + 1 : 3;
                (e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-shard" + n)).anchor.setTo(.5, 1), 
                e.scale.y = 0, this.overLayer.add(e);
                var r = this.source.x < this.target.x ? 1 : -1;
                this.game.add.tween(e).to({
                    x: this.source.x + 50 * a * r,
                    y: this.source.y
                }, 1, Phaser.Easing.Linear.None).delay(1500 * a / i).start(), this.game.add.tween(e.scale).to({
                    y: 1
                }, 100, Phaser.Easing.Linear.None).delay(1500 * a / i).to({
                    y: 0
                }, 1500, Phaser.Easing.Linear.None).delay(1500 * a / i).start();
            }
            var s = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-head");
            s.alpha = .5, s.scale.x = this.source.x < this.target.x ? 1 : -1, s.anchor.setTo(.5, .5), 
            this.overLayer.add(s), this.game.add.tween(s).to({
                x: this.source.x + 5,
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x + 5
            }, 1500, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), (s = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-tail")).scale.x = 0, 
            s.alpha = .5, s.anchor.setTo(1, .5), this.overLayer.add(s), this.game.add.tween(s).to({
                x: this.source.x + 5 + (this.source.x < this.target.x ? -42 : 42),
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x + 5 + (this.source.x < this.target.x ? -42 : 42)
            }, 1500, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(s.scale).to({
                x: this.source.x < this.target.x ? 1 : -1
            }, 800, Phaser.Easing.Linear.None).start();
            var l = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
            this.overLayer.add(l), l.scale.x = l.scale.y = 0, l.alpha = .8, l.anchor.setTo(.5, .8), 
            this.game.add.tween(l).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(1500).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(l.scale).to({
                x: 3,
                y: 3
            }, 300, Phaser.Easing.Linear.None).delay(1500).start();
        }, e;
    }(o.Attack);
    e.IceCannon = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 3500, "ice", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, null, 1500);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-beam1");
            this.overLayer.add(e), e.alpha = .25, e.anchor.setTo(.5, 0), this.game.add.tween(e).to({
                x: this.source.x,
                y: this.source.y - 50
            }, 1, Phaser.Easing.Linear.None).delay(1500).to({}, 500, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 500, Phaser.Easing.Linear.None).start(), e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-beam2"), 
            this.overLayer.add(e), e.alpha = .5, e.anchor.setTo(.5, 1), this.game.add.tween(e).to({
                x: this.source.x,
                y: this.source.y - 50
            }, 1, Phaser.Easing.Linear.None).delay(1500).start(), this.game.add.tween(e).to({
                height: 600
            }, 500, Phaser.Easing.Linear.None).delay(1500).to({
                alpha: 0
            }, 500, Phaser.Easing.Linear.None).start();
            for (var i = Math.PI / 8, a = -Math.PI / 6, n = this.source.x < this.target.x ? 1 : -1, r = 0; r < 4; r++) {
                var s = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-prison");
                this.overLayer.add(s), s.angle = 15, s.anchor.setTo(.5, .5);
                var l = Math.floor(this.source.x + 250 * n * Math.cos(a + i * r)), h = Math.floor(this.source.y + 200 * Math.sin(a + i * r));
                this.game.add.tween(s).to({
                    x: l,
                    y: -50
                }, 1, Phaser.Easing.Linear.None).delay(300 * r).to({
                    y: h - 80
                }, 200, Phaser.Easing.Linear.None).to({}, 2e3 - 300 * r, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 400, Phaser.Easing.Linear.None).start(), this.game.prodigy.effects.shake(300 * r + 200, 100, 5, "v");
            }
        }, e;
    }(o.Attack);
    e.GlacialShield = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 6500, "water", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 6e3), this.game.prodigy.effects.shake(0, 1500, 3, "v");
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "water-whirl");
            this.underLayer.add(e), e.scale.x = e.scale.y = 0, e.anchor.setTo(.5, .5), 
            this.game.add.tween(e).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).to({
                angle: -1e3
            }, 6e3, Phaser.Easing.Linear.None).start(), this.game.add.tween(e.scale).to({
                x: 1.5,
                y: 1.5
            }, 2e3, Phaser.Easing.Linear.None).to({}, 3e3, Phaser.Easing.Linear.None).to({
                x: 0,
                y: 0
            }, 1e3, Phaser.Easing.Linear.None).start();
            var i = this.target.scale;
            this.game.add.tween(this.target.scale).to({
                x: -1
            }, 500, Phaser.Easing.Linear.None).delay(1e3).to({
                x: 1
            }, 500, Phaser.Easing.Linear.None).to({
                x: -.8
            }, 400, Phaser.Easing.Linear.None).to({
                x: .8
            }, 400, Phaser.Easing.Linear.None).to({
                x: -.6
            }, 300, Phaser.Easing.Linear.None).to({
                x: .6
            }, 300, Phaser.Easing.Linear.None).to({
                x: -.4
            }, 200, Phaser.Easing.Linear.None).to({
                x: .4
            }, 200, Phaser.Easing.Linear.None).to({
                x: -.2
            }, 100, Phaser.Easing.Linear.None).to({
                x: .2
            }, 100, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
                x: i.x
            }, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target.scale).to({
                y: 0
            }, 3e3, Phaser.Easing.Linear.None).delay(1e3).to({}, 1e3, Phaser.Easing.Linear.None).to({
                y: i.y
            }, 200, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
                y: 0
            }, 500, Phaser.Easing.Quadratic.Out).delay(5e3).to({
                y: this.target.y
            }, 500, Phaser.Easing.Quadratic.In).to({
                y: "-50"
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: "+50"
            }, 250, Phaser.Easing.Quadratic.In).start();
            var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-steam");
            this.underLayer.add(a), a.anchor.setTo(.5, .5), this.game.add.tween(a).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(6e3).to({
                y: "-100",
                alpha: 0
            }, 250, Phaser.Easing.Quadratic.Out).start();
        }, e;
    }(o.Attack);
    e.Fountain = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 4e3, "fire", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 3500);
            for (var e = 0; e < 15; e++) {
                var i = this.target.x + 100 - 200 * Math.random(), a = this.target.y + 100 - 200 * Math.random(), n = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "fire-ball");
                n.anchor.setTo(.5, .5), n.angle = 90, this.game.add.tween(n).to({
                    y: -50,
                    x: i
                }, 1, Phaser.Easing.Linear.None).delay(200 * e).to({
                    y: a
                }, 600, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 1, Phaser.Easing.Linear.None).delay(200 * e).start(), this.game.prodigy.effects.shake(200 * e + 600, 100, 3, "v");
                var r = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "fire-cloud");
                this.overLayer.add(r), r.anchor.setTo(.5, .5), this.game.add.tween(r).to({
                    y: a,
                    x: i
                }, 1, Phaser.Easing.Linear.None).delay(200 * e + 600).to({
                    y: "-200",
                    alpha: 0
                }, 300, Phaser.Easing.Quadratic.Out).start(), a < this.target.y ? (this.underLayer.add(n), 
                this.underLayer.add(r)) : (this.overLayer.add(n), this.overLayer.add(r));
            }
        }, e;
    }(o.Attack);
    e.FireRain = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 2e3, "fire", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 1e3);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "fire-ball");
            e.anchor.setTo(.5, .5), e.scale.x = e.scale.y = this.source.x < this.target.x ? 1 : -1, 
            this.overLayer.add(e), this.game.add.tween(e).to({
                x: this.source.x,
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start();
            var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-head");
            i.alpha = .5, i.scale.x = this.source.x < this.target.x ? 1 : -1, i.anchor.setTo(.5, .5), 
            this.overLayer.add(i), this.game.add.tween(i).to({
                x: this.source.x,
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), (i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-tail")).scale.x = 0, 
            i.alpha = .5, i.anchor.setTo(1, .5), this.overLayer.add(i), this.game.add.tween(i).to({
                x: this.source.x + (this.source.x < this.target.x ? -42 : 42),
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x + (this.source.x < this.target.x ? -42 : 42)
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
                x: this.source.x < this.target.x ? 1 : -1
            }, 500, Phaser.Easing.Linear.None).start();
            var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
            this.overLayer.add(a), a.scale.x = a.scale.y = 0, a.alpha = .8, a.anchor.setTo(.5, .8), 
            this.game.add.tween(a).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(1e3).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(a.scale).to({
                x: 3,
                y: 3
            }, 300, Phaser.Easing.Linear.None).delay(1e3).start();
        }, e;
    }(o.Attack);
    e.Fireball = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 4500, "fire", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 3100);
            for (var e = 0; e < 5; e++) {
                var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", e > 0 ? "fire-ball" : "fire-elemental");
                this.overLayer.add(i), i.anchor.setTo(.5, e > 0 ? .5 : 1), this.game.add.tween(i).to({
                    y: this.source.y
                }, 1, Phaser.Easing.Quadratic.Out).delay(300 * e).to({
                    y: this.source.y - 200
                }, 500, Phaser.Easing.Quadratic.Out).to({
                    y: this.source.y
                }, 500, Phaser.Easing.Quadratic.In).to({
                    y: this.source.y - 200
                }, 500, Phaser.Easing.Quadratic.Out).to({
                    y: this.source.y
                }, 500, Phaser.Easing.Quadratic.In).start();
                var a = this.game.add.tween(i).to({
                    x: this.source.x
                }, 1, Phaser.Easing.Quadratic.Out).delay(300 * e).to({
                    x: this.target.x,
                    angle: e > 0 ? 2e3 : 0
                }, 2e3, Phaser.Easing.Linear.None);
                e > 0 && a.to({
                    alpha: 0
                }, 1, Phaser.Easing.Linear.None), 0 === e && (a.to({}, 1100, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 300, Phaser.Easing.Linear.None), this.game.add.tween(i.scale).to({
                    x: 1.3,
                    y: 1.3
                }, 100, Phaser.Easing.Linear.None).delay(2300).to({}, 200, Phaser.Easing.Linear.None).to({
                    x: 1.6,
                    y: 1.6
                }, 100, Phaser.Easing.Linear.None).to({}, 200, Phaser.Easing.Linear.None).to({
                    x: 1.9,
                    y: 1.9
                }, 100, Phaser.Easing.Linear.None).to({}, 200, Phaser.Easing.Linear.None).to({
                    x: 4,
                    y: 4
                }, 300, Phaser.Easing.Linear.None).start()), a.start();
            }
        }, e;
    }(o.Attack);
    e.Embers = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 4e3, "earth", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 3500);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "earth-spirit-2");
            this.overLayer.add(e), e.anchor.setTo(.5, .5), e.scale.x = this.target.x > this.source.x ? 1 : -1;
            var i = this.target.x > this.source.x ? 1 : -1;
            this.game.add.tween(e).to({
                x: this.target.x - 300 * i
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x + 300 * i
            }, 2e3, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x + 500 * i
            }, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(e).to({
                y: -100
            }, 1, Phaser.Easing.Linear.None).to({
                y: this.target.y
            }, 1e3, Phaser.Easing.Quadratic.Out).to({
                y: this.target.y - 200
            }, 1e3, Phaser.Easing.Quadratic.In).to({
                y: -200
            }, 1, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
                y: this.target.y
            }, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({}, 1001, Phaser.Easing.Linear.None).to({
                x: this.target.x + 300 * i
            }, 1e3, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({}, 1, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Quadratic.Out).to({
                y: this.target.y - 200
            }, 1e3, Phaser.Easing.Quadratic.In).to({
                y: -200
            }, 1, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
                y: this.target.y
            }, 500, Phaser.Easing.Linear.None).to({
                y: this.target.y - 50
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: this.target.y
            }, 250, Phaser.Easing.Quadratic.In).start();
            var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-steam");
            this.underLayer.add(a), a.anchor.setTo(.5, .5), this.game.add.tween(a).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(3500).to({
                y: "-100",
                alpha: 0
            }, 250, Phaser.Easing.Quadratic.Out).start();
        }, e;
    }(o.Attack);
    e.EarthSprite = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = i(0), s = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 4e3, "wizard", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 2500);
            var e = [ "earth-leaf", "water-bubble", "earth-mushroom", "earth-mudball", "fire-bomb", "ice-snowman-body", "ice-prison" ], i = Math.floor(Math.random() * e.length);
            r.Util.isValid(this.mods) && r.Util.isValid(this.mods.seed) && this.mods.seed >= 0 && (i = Math.floor(this.game.seededRandom.frac(this.mods.seed) * e.length)), 
            this.mod = 10 * (i - 3);
            var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", e[i]);
            a.anchor.setTo(.5, .5), a.scale.x = a.scale.y = 0, this.overLayer.add(a), 
            this.game.add.tween(a).to({
                x: this.target.x
            }, 1, Phaser.Easing.Linear.None).delay(1e3).to({}, 1500, Phaser.Easing.Linear.None).to({
                x: this.target.x + 200,
                alpha: 0
            }, 1e3, Phaser.Easing.Linear.None).start(), this.game.add.tween(a).to({
                y: this.target.y - 350
            }, 1, Phaser.Easing.Linear.None).delay(1e3).to({}, 1e3, Phaser.Easing.Linear.None).to({
                y: this.target.y - 50
            }, 500, Phaser.Easing.Quadratic.In).to({
                y: this.target.y - 150
            }, 500, Phaser.Easing.Quadratic.Out).to({
                y: this.target.y
            }, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(a.scale).to({
                x: 1,
                y: 1
            }, 1e3, Phaser.Easing.Quadratic.Out).delay(1e3).start();
            for (var n = 0; n < 100; n++) {
                var s = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random()), l = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", s);
                l.anchor.setTo(.5, .5), l.scale.x = l.scale.y = 0, l.alpha = .8, 
                this.overLayer.add(l);
                var h = Math.floor(1500 * n / 100), c = Math.floor(100 * Math.random()), p = Math.random() * Math.PI * 2, u = Math.floor(this.target.x + c * Math.cos(p)), d = Math.floor(this.target.y + c * Math.sin(p));
                this.game.add.tween(l).to({
                    x: u,
                    y: d - 350
                }, 1, Phaser.Easing.Linear.None).delay(h).to({
                    alpha: 0
                }, 1500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(l.scale).to({
                    x: 1.5,
                    y: 1.5
                }, 500, Phaser.Easing.Quadratic.Out).delay(h).to({
                    x: 0,
                    y: 0
                }, 1e3, Phaser.Easing.Quadratic.In).start();
            }
            var g = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-circle-small");
            this.underLayer.add(g), g.anchor.setTo(.5, .5), g.alpha = .25, g.scale.x = g.scale.y = 0, 
            this.game.add.tween(g).to({
                x: this.target.x,
                y: this.target.y - 50
            }, 1, Phaser.Easing.Linear.None).delay(2500).to({
                alpha: 0
            }, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(g.scale).to({
                x: 0,
                y: 0
            }, 1, Phaser.Easing.Linear.None).delay(2500).to({
                x: 10,
                y: 10
            }, 500, Phaser.Easing.Linear.None).start();
        }, e;
    }(o.Attack);
    e.Conjure = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 2e3, "storm", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 1e3);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-shot");
            e.anchor.setTo(.5, .5), e.scale.x = e.scale.y = this.source.x < this.target.x ? .5 : -.5, 
            this.overLayer.add(e), this.game.add.tween(e).to({
                x: this.source.x,
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start();
            var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-head");
            i.alpha = .5, i.scale.x = this.source.x < this.target.x ? 1 : -1, i.anchor.setTo(.5, .5), 
            this.overLayer.add(i), this.game.add.tween(i).to({
                x: this.source.x,
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), (i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-tail")).scale.x = 0, 
            i.alpha = .5, i.anchor.setTo(1, .5), this.overLayer.add(i), this.game.add.tween(i).to({
                x: this.source.x + (this.source.x < this.target.x ? -42 : 42),
                y: this.source.y - 100
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x + (this.source.x < this.target.x ? -42 : 42)
            }, 1e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
                x: this.source.x < this.target.x ? 1 : -1
            }, 500, Phaser.Easing.Linear.None).start();
            var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
            this.overLayer.add(a), a.scale.x = a.scale.y = 0, a.alpha = .8, a.anchor.setTo(.5, .8), 
            this.game.add.tween(a).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(1e3).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(a.scale).to({
                x: 3,
                y: 3
            }, 300, Phaser.Easing.Linear.None).delay(1e3).start();
        }, e;
    }(o.Attack);
    e.Cloudshot = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 3e3, "fire", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 1700);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-beam1");
            this.overLayer.add(e), e.alpha = .25, e.anchor.setTo(.5, 0), this.game.add.tween(e).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(1500).to({
                alpha: .25
            }, 500, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 500, Phaser.Easing.Linear.None).start(), e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-beam2"), 
            this.overLayer.add(e), e.alpha = .5, e.anchor.setTo(.5, 1), this.game.add.tween(e).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(1500).start(), this.game.add.tween(e).to({
                height: 600
            }, 500, Phaser.Easing.Linear.None).delay(1500).to({
                alpha: 0
            }, 500, Phaser.Easing.Linear.None).start();
            var i = [];
            i.push(this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "fire-ball")), 
            i.push(this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "fire-ball")), 
            this.underLayer.add(i[0]), this.overLayer.add(i[1]), i[0].anchor.setTo(2.5, 2.5), 
            i[0].angle = -45, i[1].anchor.setTo(2.5, 2.5), i[1].angle = 135;
            var a = [];
            a.push(this.game.add.tween(i[0])), a.push(this.game.add.tween(i[1])), 
            a.push(this.game.add.tween(i[0]).to({
                y: this.target.y,
                x: this.target.x
            }, 1, Phaser.Easing.Linear.None).to({}, 1500, Phaser.Easing.Linear.None).to({
                y: -200
            }, 1e3, Phaser.Easing.Linear.None)), a.push(this.game.add.tween(i[1]).to({
                y: this.target.y,
                x: this.target.x
            }, 1, Phaser.Easing.Linear.None).to({}, 1500, Phaser.Easing.Linear.None).to({
                y: -200
            }, 1e3, Phaser.Easing.Linear.None));
            for (var n = 400, r = 0; r < 20; r++) a[0].to({
                angle: -45
            }, 1, Phaser.Easing.Linear.None), a[0].to({
                angle: "+180"
            }, n, Phaser.Easing.Linear.None), a[1].to({
                angle: 135
            }, 1, Phaser.Easing.Linear.None), a[1].to({
                angle: "+180"
            }, n, Phaser.Easing.Linear.None), n > 200 && (n -= 100);
            for (r = 0; r < a.length; r++) a[r].start();
        }, e;
    }(o.Attack);
    e.Charclone = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 2500, "storm", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 2100);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-lightning-0");
            e.animations.add("a", [ "storm-lightning-0", "storm-lightning-1", "storm-lightning-2" ], Math.floor(5 * Math.random()) + 30, !0, !1), 
            e.animations.play("a"), e.anchor.setTo(.5, 1), this.overLayer.add(e);
            var i = this.target.y + 30;
            this.game.add.tween(e).to({
                x: this.target.x,
                y: 0
            }, 1, Phaser.Easing.Linear.None).to({
                x: this.target.x,
                y: i
            }, 100, Phaser.Easing.Linear.None).to({}, 2e3, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 100, Phaser.Easing.Linear.None).start();
            for (var a = 0; a < 30; a++) {
                var n = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "ice-snow");
                n.anchor.setTo(.5, .5), this.overLayer.add(n);
                var r = Math.floor(100 * Math.random()), s = Math.random() < .5 ? -1 : 1;
                this.game.add.tween(n).to({
                    x: this.target.x
                }, 1, Phaser.Easing.Linear.None).delay(60 * a + 100).to({
                    x: this.target.x + s * r,
                    alpha: 0
                }, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(n).to({
                    y: i
                }, 1, Phaser.Easing.Linear.None).delay(60 * a + 100).to({
                    y: i - Math.floor(.5 * r)
                }, 250, Phaser.Easing.Quadratic.Out).to({
                    y: i
                }, 250, Phaser.Easing.Quadratic.In).start();
            }
        }, e;
    }(o.Attack);
    e.Bolt = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 7e3, "ice", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 5500);
            for (var e = 0; e < 160; e++) this.addSnow(e, 25 * e, this.source.x < this.target.x);
        }, e.prototype.addSnow = function(t, e, i) {
            var a = t % 10 == 0, n = this.game.prodigy.create.sprite(-100, Math.floor(720 * Math.random()), "atlas-16", a ? "ice-star" : "ice-snow");
            n.x = i ? -n.width : n.width + 1280, Math.random() < .5 ? this.overLayer.add(n) : this.underLayer.add(n), 
            n.anchor.setTo(.5, .5), n.scale.x = n.scale.y = a ? .8 * Math.random() + .2 : 1;
            var o = i ? n.width + 1380 : -(n.width + 100);
            a ? this.game.add.tween(n).to({
                x: o,
                angle: 500
            }, 1500, Phaser.Easing.Linear.None, !0, e).onComplete.add(function() {
                n.kill();
            }, n) : this.game.add.tween(n).to({
                x: o
            }, 1500, Phaser.Easing.Linear.None, !0, e).onComplete.add(function() {
                n.kill();
            }, n);
        }, e;
    }(i(9).Attack);
    e.Blizzard = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 5e3, "earth", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 4300);
            for (var e = this.source.x + (this.target.x - this.source.x) / 2, i = this.source.y - 300, a = 0; a < 50; a++) {
                var n = Math.floor(3 * Math.random()), r = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", 0 === n ? "earth-leaf" : 1 === n ? "earth-mushroom" : "earth-mudball");
                this.overLayer.add(r), r.anchor.setTo(6, 6), r.scale.x = r.scale.y = 0 === n ? 1 : 1 === n ? .75 : .5, 
                r.angle = Math.floor(360 * Math.random());
                var s = Math.floor(500 * Math.random()) + 200, l = Math.random() < .5 ? 1 : -1, h = 2e3 - Math.floor(2e3 * Math.random()), c = this.target.x - 100 + Math.floor(200 * Math.random()), p = this.target.y - Math.floor(25 * Math.random()) + 25, u = this.target.y + Math.floor(25 * Math.random()) + 25;
                this.game.add.tween(r).to({
                    x: e,
                    y: i
                }, 1, Phaser.Easing.Linear.None).to({
                    angle: l * s
                }, 2e3, Phaser.Easing.Linear.None).to({
                    angle: l * (s / 2e3 * h)
                }, h, Phaser.Easing.Linear.None).to({
                    x: this.target.x
                }, 300, Phaser.Easing.Linear.None).to({
                    x: c
                }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(r).to({
                    y: i
                }, 1, Phaser.Easing.Linear.None).to({}, h + 2e3, Phaser.Easing.Linear.None).to({
                    y: this.target.y
                }, 300, Phaser.Easing.Linear.None).to({
                    y: p
                }, 150, Phaser.Easing.Quadratic.Out).to({
                    y: u
                }, 150, Phaser.Easing.Quadratic.In).start(), l = 3 * Math.random() + 1, 
                this.game.add.tween(r.anchor).to({
                    x: l,
                    y: l
                }, 2e3, Phaser.Easing.Linear.None).to({}, h, Phaser.Easing.Linear.None).to({
                    x: .5,
                    y: .5
                }, 300, Phaser.Easing.Linear.None).start();
            }
        }, e;
    }(o.Attack);
    e.Blitz = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 2300, "wizard", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 1e3);
            var e = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-circle-small");
            this.underLayer.add(e), e.anchor.setTo(.5, .5), e.alpha = .6, e.scale.x = e.scale.y = 0, 
            this.game.add.tween(e).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(e.scale).to({
                x: 0,
                y: 0
            }, 1, Phaser.Easing.Linear.None).to({
                x: 10,
                y: 5
            }, 500, Phaser.Easing.Linear.None).start();
            var i = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-dome");
            this.overLayer.add(i), i.scale.x = i.scale.y = 0, i.alpha = .8, i.anchor.setTo(.5, .8), 
            this.game.add.tween(i).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).to({
                alpha: 0
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
                x: 3,
                y: 3
            }, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
                y: "-300"
            }, 1e3, Phaser.Easing.Quadratic.Out).to({
                y: "+300"
            }, 800, Phaser.Easing.Quadratic.In).to({
                y: "-50"
            }, 250, Phaser.Easing.Quadratic.Out).to({
                y: "+50"
            }, 250, Phaser.Easing.Quadratic.In).start();
            var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "storm-steam");
            this.underLayer.add(a), a.anchor.setTo(.5, .5), this.game.add.tween(a).to({
                x: this.target.x,
                y: this.target.y
            }, 1, Phaser.Easing.Linear.None).delay(1800).to({
                y: "-100",
                alpha: 0
            }, 250, Phaser.Easing.Quadratic.Out).start();
            for (var n = 100, r = (this.target.x - this.source.x) / n, s = (this.target.y - 300 - this.source.y) / n, l = 0; l < n; l++) {
                var h = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random());
                (d = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", h)).anchor.setTo(.5, .5), 
                d.scale.x = d.scale.y = 0, d.alpha = .8, this.overLayer.add(d);
                var c = Math.floor(1e3 * l / n), p = Math.floor(40 * Math.random() - 20);
                this.game.add.tween(d).to({
                    x: Math.floor(this.source.x + l * r),
                    y: Math.floor(this.source.y - 50 + l * s + p)
                }, 1, Phaser.Easing.Linear.None).delay(c).to({
                    alpha: 0
                }, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(d.scale).to({
                    x: 1,
                    y: 1
                }, 500, Phaser.Easing.Linear.None).delay(c).start();
            }
            for (l = 0; l < 3; l++) {
                var u = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-circle-small");
                this.underLayer.add(u), u.anchor.setTo(.5, .5), u.alpha = .25, u.scale.x = u.scale.y = 0, 
                this.game.add.tween(u).to({
                    x: this.target.x,
                    y: this.target.y - 300 - 50
                }, 1, Phaser.Easing.Linear.None).delay(100 * l + 1e3).to({
                    alpha: 0
                }, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(u.scale).to({
                    x: 0,
                    y: 0
                }, 1, Phaser.Easing.Linear.None).delay(100 * l + 1e3).to({
                    x: 10,
                    y: 10
                }, 500, Phaser.Easing.Linear.None).start();
            }
            n = 50;
            for (l = 0; l < n; l++) {
                var d, g = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random());
                (d = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", g)).anchor.setTo(.5, .5), 
                d.scale.x = d.scale.y = 0, d.alpha = .8, this.overLayer.add(d);
                var y = Math.floor(200 * Math.random() + 200), f = Math.random() * Math.PI * 2, m = Math.floor(this.target.x + y * Math.cos(f)), _ = Math.floor(this.target.y + y * Math.sin(f)), v = Math.floor(300 * Math.random()) + 300;
                this.game.add.tween(d).to({
                    x: Math.floor(this.target.x),
                    y: this.target.y - 350
                }, 1, Phaser.Easing.Linear.None).delay(1e3).to({
                    x: m,
                    y: _ - 350,
                    alpha: 0
                }, v, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(d.scale).to({
                    x: 1,
                    y: 1
                }, v, Phaser.Easing.Linear.None).delay(1e3).start();
            }
        }, e;
    }(o.Attack);
    e.BatterUp = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(9), r = function(t) {
        function e(e, i, a, n, o, r, s, l, h) {
            return t.call(this, e, i, a, n, o, 4e3, "earth", r, s, l, h) || this;
        }
        return n(e, t), e.prototype.setup = function() {
            t.prototype.setup.call(this, 900, 2600);
            for (var e = this.source.x < this.target.x ? -1 : 1, i = 0; i < 3; i++) {
                var a = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", "core-circle-small");
                this.overLayer.add(a), a.anchor.setTo(.5, .5), a.alpha = .6, a.scale.x = a.scale.y = 5, 
                this.game.add.tween(a).to({
                    x: this.target.x,
                    y: this.target.y
                }, 1, Phaser.Easing.Linear.None).to({}, 900, Phaser.Easing.Linear.None).to({
                    alpha: 0
                }, 400, Phaser.Easing.Linear.None).start(), this.game.add.tween(a.scale).to({
                    x: 0,
                    y: 0
                }, 500, Phaser.Easing.Linear.None).delay(200 * i).to({}, 400 - 200 * i, Phaser.Easing.Linear.None).to({
                    x: .5 * i + 5,
                    y: .5 * i + 5
                }, 400, Phaser.Easing.Linear.None).start();
            }
            for (i = 0; i < 10; i++) for (var n = Math.PI * Math.random(), r = .25 * Math.random() + .75, s = Math.floor(200 * Math.cos(n) * r), l = Math.floor(200 * Math.sin(n) * r) * (Math.random() < .5 ? -1 : 1), h = 200 - s * e, c = 1500 - s * e, p = 800 - s * e, u = h + c - p, d = 0; d < 5; d++) {
                var g = this.game.prodigy.create.sprite(o.Attack.BX, o.Attack.BY, "atlas-16", 0 === d ? "earth-leaf" : "core-circle-small");
                this.overLayer.add(g), g.anchor.setTo(.5, .5), g.scale.x = g.scale.y = Math.pow(.6, d), 
                g.alpha = 0 === d ? 1 : .7;
                var y = Math.max(0, 100 * d);
                s * e >= 0 ? this.game.add.tween(g).to({
                    x: this.target.x
                }, 1, Phaser.Easing.Linear.None).delay(y + 900).to({
                    x: this.source.x
                }, c, Phaser.Easing.Linear.None).start() : this.game.add.tween(g).to({
                    x: this.target.x
                }, 1, Phaser.Easing.Linear.None).delay(y + 900).to({
                    x: this.target.x + s
                }, h, Phaser.Easing.Quadratic.Out).to({
                    x: this.source.x
                }, c, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(g).to({
                    y: this.target.y
                }, 1, Phaser.Easing.Linear.None).delay(y + 900).to({
                    y: this.target.y + l
                }, p, Phaser.Easing.Quadratic.Out).to({
                    y: this.source.y
                }, u, Phaser.Easing.Quadratic.In).to({
                    alpha: 0
                }, 50, Phaser.Easing.Linear.None).start();
            }
        }, e;
    }(o.Attack);
    e.Absorb = r;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a, n = i(248), o = i(247), r = i(2), s = i(135), l = i(3), h = i(99), c = i(4), p = i(134), u = i(133), d = i(132), g = i(130), y = i(129), f = i(13), m = i(0), _ = i(18);
    !function(t) {
        t[t.Idle = 1] = "Idle", t[t.DefendingDamage = 2] = "DefendingDamage", t[t.AttackingHit = 3] = "AttackingHit", 
        t[t.AttackingMiss = 4] = "AttackingMiss";
    }(a || (a = {}));
    var v = function() {
        function t(t) {
            this.game = null, this.state = a.Idle, this.battleScreen = null, this.bounty = null, 
            this.nickname = null, this.turn = 0, this.firstQuestion = !0, this.combatOver = !1, 
            this.firstEpicAttack = !1, this.epicAttackMonster = null, this.game = t;
        }
        return t.prototype.setup = function(t) {
            this.battleScreen = t, this.state = a.Idle, this.bounty = this.battleScreen.mods.bounty, 
            m.Util.isValid(this.battleScreen.mods.encounter) && (this.nickname = this.battleScreen.mods.encounter[0].nickname), 
            this.battleScreen.teams[0].moveTeamIn(), this.battleScreen.teams[1].moveTeamIn(), 
            this.turn = 0, this.firstQuestion = !0, this.combatOver = !1, m.Util.isValid(this.battleScreen.mods.epicArena) && this.battleScreen.mods.epicArena > 1 || (this.firstEpicAttack = !0, 
            this.game.prodigy.network.sendEvent("epicAttacks", {
                action: "newBattleStarted"
            })), this.battleScreen.mods.potionMode = this.game.prodigy.player.tutorial.getMenuValue(3, 2) >= 1;
            var e = this.game.prodigy.gameContainer.Localizer.getText("COMBAT_WIZARD_BATTLE");
            this.battleScreen.teams[1].isBoss() && (e = this.game.prodigy.gameContainer.Localizer.getText("COMBAT_BOSS_TIME")), 
            m.Util.isValid(this.battleScreen.mods.intro) && "" !== this.battleScreen.mods.intro && (e = this.battleScreen.mods.intro), 
            this.game.prodigy.effects.flashText(e, this.playerTurn.bind(this)), 
            this.initListeners();
        }, t.prototype.playerTurn = function() {
            if (this.epicAttackMonster = null, this.processEvents(this.playerTurn.bind(this))) {
                var t = this.battleScreen.teams[0], e = this.battleScreen.teams[1];
                e.pairOpponent(t.current), !r.GameConstants.get("GameConstants.Debug.GOD_MODE_ENABLED") && t.isDefeated() ? (this.combatOver = !0, 
                t.runAway(), this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.Localizer.getText("COMBAT_LOST"), this.battleScreen.endBattle.bind(this.battleScreen, "lose")), 
                this.game.prodigy.network.sendZoneEvent("battle-complete", "false")) : !r.GameConstants.get("GameConstants.Debug.GOD_MODE_ENABLED") && t.current.source.isKnockedOut() ? (t.current.source, 
                f.Player, t.runAway(), this.game.prodigy.open.battle(t.current, t.team, e.current, this.battleScreen.mods, !0, null, t.swapPlayersHop.bind(t, this.playerTurn.bind(this)))) : this.game.prodigy.open.battle(t.current, t.team, e.current, this.battleScreen.mods, null, this.openQuestion.bind(this), t.swapPlayersHop.bind(t, this.opponentTurn.bind(this)), this.runAway.bind(this), this.tryCatch.bind(this, t.current, e.current), this.startEpicAttack.bind(this), this.firstEpicAttack), 
                this.state = a.Idle, this.turn++;
            }
        }, t.prototype.initListeners = function() {
            var t;
            for (this.stopListeners(), t = 0; t < this.battleScreen.teams[0].team.length; t++) this.game.broadcaster.addAppListener(l.ECreatureEvents.AnimationDone, this.onPlayerAnimationDone.bind(this), this, this.battleScreen.teams[0].team[t].source);
            for (t = 0; t < this.battleScreen.teams[1].team.length; t++) this.game.broadcaster.addAppListener(l.ECreatureEvents.AnimationDone, this.onOpponentAnimationDone.bind(this), this, this.battleScreen.teams[1].team[t].source);
        }, t.prototype.stopListeners = function() {
            var t;
            for (t = 0; t < this.battleScreen.teams[0].team.length; t++) this.game.broadcaster.removeAppListener(l.ECreatureEvents.AnimationDone, this, this.battleScreen.teams[0].team[t].source);
            for (t = 0; t < this.battleScreen.teams[1].team.length; t++) this.game.broadcaster.removeAppListener(l.ECreatureEvents.AnimationDone, this, this.battleScreen.teams[1].team[t].source);
        }, t.prototype.onPlayerAnimationDone = function() {
            this.combatOver ? this.game.broadcaster.broadcast(l.ECreatureEvents.AnimationDone, "lateLevelUp") : setTimeout(this.opponentTurn.bind(this), 300);
        }, t.prototype.onOpponentAnimationDone = function() {
            this.combatOver || setTimeout(this.playerTurn.bind(this), 300);
        }, t.prototype.processEvents = function(t) {
            for (var e = m.Util.isValid(this.battleScreen.mods.events) ? this.battleScreen.mods.events : [], i = 0; i < e.length; i++) {
                var n = !1, o = e[i];
                if (m.Util.isValid(o.repeat) || (o.repeat = 0), !(o.lastProc === this.turn || o.repeat < 0) && ("turn" === o.action && o.value === this.turn ? n = !0 : "miss" === o.action && this.state === a.AttackingMiss ? n = !0 : "hit" === o.action && this.state === a.AttackingHit ? n = !0 : "dmg" === o.action && this.state === a.DefendingDamage && (n = !0), 
                n)) return o.repeat--, o.lastProc = this.turn, o.callback(this.game, t), 
                !1;
            }
            return !0;
        }, t.prototype.opponentTurn = function() {
            if (this.processEvents(this.opponentTurn.bind(this))) {
                var t = this.battleScreen.teams[1], e = this.battleScreen.teams[0];
                if (this.battleScreen.mods.itemUsed = !1, t.isDefeated()) {
                    if (this.combatOver = !0, t.runAway(), this.bounty > 0) this.game.prodigy.effects.bountyComplete(this.game.prodigy.bounty.getReward(this.bounty), this.battleScreen.startVictory.bind(this.battleScreen)); else {
                        var i = this.game.prodigy.gameContainer.Localizer.getText(t.current instanceof s.TitanContainer ? "COMBAT_TITAN_HIT" : "COMBAT_WON");
                        this.game.prodigy.effects.flashText(i, this.battleScreen.startVictory.bind(this.battleScreen));
                    }
                    this.game.prodigy.network.sendZoneEvent("battle-complete", "true"), 
                    t.current instanceof s.TitanContainer && this.game.prodigy.titansNetworkHandler.hitTitan(this.game.prodigy.titansNetworkHandler.titan.id, t.current.source.source.catapult);
                } else if (t.current.source.isKnockedOut() || m.Util.isValid(t.current.captured)) t.runAway(t.swapPlayersHop.bind(t, this.opponentTurn.bind(this), t.chooseNextCandidate(e.current))); else {
                    var a = this.battleScreen.mods.difficulty;
                    t.current.source instanceof u.CloudBoss && !t.current.miniBoss || t.current.source instanceof p.BonfireBoss || t.current.source instanceof d.OldOneBoss || t.current.source instanceof g.PippetBoss ? t.current.source.chooseAction(a, t.current, e.current, this.attack.bind(this, !1), this.playerTurn.bind(this)) : this.game.prodigy.battle.chooseAction(a, t.current, e.current, t, e.team, this.attack.bind(this, !1), t.swapPlayersHop.bind(t), this.playerTurn.bind(this));
                }
            }
        }, t.prototype.answerQuestion = function(t, e, i, n) {
            var o = n, s = "NFactor Bonus: " + o;
            (!m.Util.isValid(o) || o < 1 || o > 10) && (s += "; invalid setting to default: " + (o = 1)), 
            m.Util.log(s), r.GameConstants.get("GameConstants.Debug.SET_NFACTOR") && (o = r.GameConstants.get("GameConstants.Debug.SET_NFACTOR"), 
            m.Util.log("NFactor Debug Override: " + o)), this.battleScreen.mods.nFactor = o, 
            this.setContentVisible(!0), this.state = e ? a.AttackingHit : a.AttackingMiss, 
            this.game.prodigy.player.castSpell(e), e ? this.attack(!0, this.battleScreen.teams[0].current, this.battleScreen.teams[1].current, this.opponentTurn.bind(this), t, null, this.battleScreen.mods) : this.opponentTurn();
        }, t.prototype.answerEpicQuestion = function(t, e, i, n) {
            var o = n, s = "NFactor Bonus: " + o;
            (!m.Util.isValid(o) || o < 1 || o > 10) && (s += "; invalid setting to default: " + (o = 1)), 
            m.Util.log(s), r.GameConstants.get("GameConstants.Debug.SET_NFACTOR") && (o = r.GameConstants.get("GameConstants.Debug.SET_NFACTOR"), 
            m.Util.log("NFactor Debug Override: " + o)), this.battleScreen.mods.nFactor = o, 
            this.battleScreen.content.visible = this.battleScreen.menus.visible = !0, 
            this.battleScreen.heartsA.visible = this.battleScreen.heartsB.visible = !0, 
            this.state = e ? a.AttackingHit : a.AttackingMiss, this.game.prodigy.player.castSpell(e);
            var l = this.battleScreen.teams[0], h = this.battleScreen.teams[1];
            e ? l.isIdInBattle(t.data.epicId) ? (this.epicAttackMonster = l.getContainerOfTeamId(t.data.epicId), 
            l.fakeSwap(l.current, this.epicAttackMonster, this.attack.bind(this, !0, l.current, h.current, l.fakeSwap.bind(l, l.current, this.epicAttackMonster, l.current.source.processStars.bind(l.current.source)), t, null, this.battleScreen.mods, !0))) : this.attack(!0, l.current, h.current, l.movePlayerIn.bind(l, l.current.source.processStars.bind(l.current.source), l.current), t, null, this.battleScreen.mods, !0) : l.movePlayerIn(this.opponentTurn.bind(this), l.current);
        }, t.prototype.setContentVisible = function(t) {
            this.battleScreen.content.visible = t, this.battleScreen.menus.visible = t, 
            this.battleScreen.heartsA.visible = t, this.battleScreen.heartsB.visible = t;
        }, t.prototype.openQuestion = function(t) {
            if (this.setContentVisible(!1), r.GameConstants.get("GameConstants.Debug.EDUCATION_ENABLED")) {
                var e = 0;
                if (this.firstQuestion) {
                    var i = this.game.prodigy.player.state.get("tutorial-0");
                    (e = m.Util.isValid(i) ? i : 0) < 4 && e++, this.game.prodigy.player.state.set("tutorial-0", e), 
                    this.firstQuestion = !1;
                }
                this.game.prodigy.education.question(this.answerQuestion.bind(this, t));
            } else this.answerQuestion(t, r.GameConstants.get("GameConstants.Debug.AUTO_ANSWER_CORRECTLY"));
        }, t.prototype.startEpicAttack = function(t) {
            if (this.firstEpicAttack = !1, this.battleScreen.teams[0].isIdInBattle(t.data.epicId)) {
                var e = this.battleScreen.teams[0].getContainerOfTeamId(t.data.epicId);
                t.moveIn = !1, t.source = e, this.openEpicQuestion(t);
            } else t.moveIn = !0, this.battleScreen.teams[0].movePlayerOut(this.openEpicQuestion.bind(this, t), this.battleScreen.teams[0].current);
        }, t.prototype.openEpicQuestion = function(t) {
            if (this.battleScreen.content.visible = this.battleScreen.menus.visible = !1, 
            this.battleScreen.heartsA.visible = this.battleScreen.heartsB.visible = !1, 
            r.GameConstants.get("GameConstants.Debug.EDUCATION_ENABLED")) {
                var e = 0;
                if (this.firstQuestion) {
                    var i = this.game.prodigy.player.state.get("tutorial-0");
                    (e = m.Util.isValid(i) ? i : 0) < 4 && e++, this.game.prodigy.player.state.set("tutorial-0", e), 
                    this.firstQuestion = !1;
                }
                this.game.prodigy.education.question(this.answerEpicQuestion.bind(this, t));
            } else this.answerEpicQuestion(t, r.GameConstants.get("GameConstants.Debug.AUTO_ANSWER_CORRECTLY"));
        }, t.prototype.attack = function(t, e, i, o, r, s, l, p) {
            var u = this, d = s;
            t || (this.battleScreen.mods.invincible && (d = !0), this.state = a.DefendingDamage);
            var g = r.data.statusEffects;
            if (!d && m.Util.isValid(g)) {
                var f = null, _ = !m.Util.isValid(i.statusEffects);
                _ && (i.statusEffects = []);
                for (var v = [], E = 0; E < g.length; E++) {
                    if (f = new (this.game.prodigy.statusEffects.getById(g[E]))(this.game), 
                    _) v.push(f); else {
                        for (var b = !0, O = 0; O < i.statusEffects.length; O++) if (f.constructor === i.statusEffects[E].constructor) {
                            b = !1;
                            break;
                        }
                        b && v.push(f);
                    }
                }
                for (E = 0; E < v.length; E++) i.statusEffects.push(v[E]);
            }
            var T = r.data.animation, A = n[T], I = this.battleScreen.teams[0], w = function() {
                p ? (m.Util.isValid(u.epicAttackMonster) || I.movePlayerIn(e.source.processStars.bind(e.source), I.current), 
                u.epicAttackMonster = null, m.Util.isValid(o) && o()) : e.source.processStars();
            };
            if (m.Util.isValid(this.epicAttackMonster) ? this.epicAttackMonster.attack() : e.attack(), 
            m.Util.isValid(r.data.type) && "epic-attack" === r.data.type && this.battleScreen.teams[0].current.source.getName() !== c.Items.getItem("pet", r.data.epicId).data.name) {
                var C = c.Items.getItem("pet", r.data.epicId).data.name + " used " + r.data.name, S = this.game.prodigy.event.create();
                S.delay(3e3), S.function(this.game.prodigy.effects.flashText.bind(this.game.prodigy.effects, C, null, h.EffectFactory.BASE, h.EffectFactory.SMALL, 1e3, !0)), 
                S.start();
            } else {
                this.game.prodigy.audio.playSFX(8, "cast");
                var P = e.source.getName();
                e.source instanceof y.TitanBoss && (P = "Titan"), this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.Localizer.getText("COMBAT_ATTACK_USED", P, r.data.name), null, h.EffectFactory.BASE, h.EffectFactory.SMALL, 1e3, !0);
            }
            if (m.Util.isValid(T) && m.Util.isValid(A)) {
                var D = new A(this.game, e, i, this.battleScreen.background, this.battleScreen.content, r, w.bind(this), d, l);
                m.Util.isValid(this.epicAttackMonster) && (D.epic = this.epicAttackMonster);
            } else m.Util.isValid(o) && w();
            return null;
        }, t.prototype.tryCatch = function(t, e) {
            this.setContentVisible(!1), r.GameConstants.get("GameConstants.Debug.EDUCATION_ENABLED") ? this.game.prodigy.education.question(this.catch.bind(this, t, e), !1) : this.catch(t, e, !0);
        }, t.prototype.onCatchPet = function(t) {
            this.game.prodigy.open.gotItem([ {
                type: "pet",
                ID: t.source.data.ID,
                N: 1,
                data: t.source.data
            } ], this.opponentTurn.bind(this), null, "on-catch-pet");
        }, t.prototype.catch = function(t, e, i) {
            return this.setContentVisible(!0), i ? (e.captured = !0, m.Util.isValid(this.nickname) && (e.source.data.nickname = this.nickname), 
            1 === e.source.source.member && this.game.prodigy.network.sendAdvancedEvent("game_complete", {
                type: "Member-Locked-Pets",
                name: "Locked-Pet-Captured",
                pet: e.source.source.name
            }), new o.CatchPet(this.game, t, e, this.battleScreen.background, this.battleScreen.content, null, this.onCatchPet.bind(this, e))) : (this.game.prodigy.audio.playSFX(8, "miss"), 
            this.game.prodigy.effects.fadeFlyingImage(e.x, e.y - (e.height >> 1), "atlas-17", "text-miss"), 
            e.source.catchAttempt++, this.game.prodigy.player.hasMembership() || this.game.prodigy.network.sendConversionFunnelEvent(_.EFunnelEventIDs.FunnelCatchPetAgain, _.EFunnelEventIDs.StageCatchPetFail, "" + e.source.data.ID), 
            this.game.time.events.add(1500, this.opponentTurn.bind(this), this), 
            null);
        }, t.prototype.runAway = function() {
            var t = this.game.prodigy.gameContainer.Localizer;
            Math.random() < r.GameConstants.get("GameConstants.Battle.ESCAPE_CHANCE") && this.battleScreen.mods.run ? (this.game.prodigy.effects.flashText(t.getText("COMBAT_RAN_AWAY"), this.battleScreen.endBattle.bind(this.battleScreen, "run")), 
            this.battleScreen.teams[0].runAwayTeam()) : (this.battleScreen.mods.run = !1, 
            this.game.prodigy.effects.flashText(t.getText("COMBAT_RUN_FAILED")), 
            this.battleScreen.teams[0].failRun(this.opponentTurn.bind(this)));
        }, t;
    }();
    e.CombatManager = v;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n) {
            var o = t.call(this, e, i) || this;
            return o.ID = 0, o.text = null, o.x = a, o.y = n, o.text = o.game.prodigy.create.font(o, 0, 5), 
            o;
        }
        return n(e, t), e.prototype.setMsg = function(t, e) {
            var i = this;
            this.visible = !0, this.ID++, this.alpha = 0, this.game.add.tween(this).to({
                alpha: 1
            }, 400, Phaser.Easing.Quadratic.Out).start(), this.text.setText(t);
            this.game.time.events.add(e, function(t) {
                t === i.ID && (i.visible = !1);
            }.bind(this, this.ID), this);
        }, e;
    }(i(5).Element);
    e.ScreenMessage = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.mousePositionText = null, e.updateRate = 1e3, e.requestedHeight = 30, 
            e.requestedWidth = 300, e.mousePositionText = null, e;
        }
        return n(e, t), e.prototype.onLayout = function() {
            t.prototype.onLayout.call(this), this.mousePositionText.position.setTo(this.position.x + 10, this.position.y + 5);
        }, e.prototype.createUI = function() {
            t.prototype.createUI.call(this), this.mousePositionText = this.gameObject.game.add.text(0, 0, "", {
                font: "14pt Arial",
                fill: "#FFFFFF",
                strokeThickness: 4,
                stroke: "#000000"
            });
        }, e.prototype.cleanUpUI = function() {
            t.prototype.cleanUpUI.call(this), this.mousePositionText.destroy(), 
            this.mousePositionText = null;
        }, e.prototype.updateUI = function() {
            this.mousePositionText.setText("Mouse Position: X = " + this.gameObject.game.input.x + " Y = " + this.gameObject.game.input.y);
        }, e;
    }(i(141).DebugValueRenderer);
    e.MousePositionDebugRenderer = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(0), r = function(t) {
        function e() {
            var i = t.call(this) || this;
            return i.memoryUsageElement = null, i.textElement = null, i.graphElement = null, 
            i.lastUsedHeap = 0, i.minBarHeight = 100, i.maxBarHeight = 0, i.redrawMBThreshold = 0, 
            i.requestedHeight = 60, i.requestedWidth = 100, i.updateRate = 1e3, 
            i.redrawMBThreshold = e.GRAPH_HEIGHT, i;
        }
        return n(e, t), e.prototype.destroy = function() {
            this.cleanUpUI();
        }, e.prototype.onLayout = function() {
            t.prototype.onLayout.call(this), this.memoryUsageElement.style.left = this.position.x + 15 + "px", 
            this.memoryUsageElement.style.top = this.position.y + 10 + "px";
        }, e.prototype.createUI = function() {
            t.prototype.createUI.call(this);
            var i = document.createElement("div");
            i.id = "stats", i.style.cssText = "width:80px;height:48px;opacity:0.9;cursor:pointer;overflow:hidden;z-index:10000;will-change:transform;", 
            i.style.position = "fixed", i.style.left = "0px", i.style.top = "0px";
            var a = document.createElement("div");
            for (a.id = "ms", a.style.cssText = "padding:0 0 3px 3px;text-align:left;background-color:#020;", 
            i.appendChild(a), this.textElement = document.createElement("div"), 
            this.textElement.id = "msText", this.textElement.style.cssText = "color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px", 
            this.textElement.innerHTML = "Memory", a.appendChild(this.textElement), 
            this.graphElement = document.createElement("div"), this.graphElement.id = "msGraph", 
            this.graphElement.style.cssText = "position:relative;width:74px;height:" + e.GRAPH_HEIGHT + "px;background-color:#0f0", 
            a.appendChild(this.graphElement); this.graphElement.children.length < 74; ) {
                var n = document.createElement("span");
                n.style.cssText = "width:1px;height:" + e.GRAPH_HEIGHT + "px;float:left;background-color:#131", 
                this.graphElement.appendChild(n);
            }
            this.memoryUsageElement = i, document.body.appendChild(i);
        }, e.prototype.cleanUpUI = function() {
            t.prototype.cleanUpUI.call(this), document.body.removeChild(this.memoryUsageElement), 
            this.memoryUsageElement = null;
        }, e.prototype.updateUI = function() {
            if (o.Util.isValid(window.performance.memory)) {
                var t = window.performance.memory.usedJSHeapSize - this.lastUsedHeap;
                this.lastUsedHeap = window.performance.memory.usedJSHeapSize;
                var i = t < 0 ? "#830" : "#131", a = this.lastUsedHeap;
                this.minBarHeight = Math.min(this.minBarHeight, a), this.maxBarHeight = Math.max(this.maxBarHeight, a), 
                this.textElement.textContent = "Mem: " + this.bytesToSize(a, 2);
                var n = a / 1048576;
                if (n > this.redrawMBThreshold) {
                    var r = (n - n % e.GRAPH_HEIGHT) / e.GRAPH_HEIGHT, s = e.GRAPH_HEIGHT * (r + 1);
                    this.redrawGraph(this.graphElement, e.GRAPH_HEIGHT / this.redrawMBThreshold, e.GRAPH_HEIGHT / s), 
                    this.redrawMBThreshold = s;
                }
                this.updateGraph(this.graphElement, e.GRAPH_HEIGHT - n * (e.GRAPH_HEIGHT / this.redrawMBThreshold), i);
            }
        }, e.prototype.updateGraph = function(t, e, i) {
            var a = t.appendChild(t.firstChild);
            a.style.height = e + "px", o.Util.isValid(i) && (a.style.backgroundColor = i);
        }, e.prototype.redrawGraph = function(t, i, a) {
            [].forEach.call(t.children, function(t) {
                var n = parseInt(t.style.height.substr(0, t.style.height.length - 2)), o = e.GRAPH_HEIGHT - (e.GRAPH_HEIGHT - n) / i * a;
                t.style.height = o + "px";
            });
        }, e.prototype.bytesToSize = function(t, i) {
            if (void 0 === i && (i = 0), 0 === t) return "N/A";
            var a = Math.pow(10, i), n = Math.floor(Math.log(t) / Math.log(1024));
            return Math.round(t * a / Math.pow(1024, n)) / a + " " + e.SIZES[n];
        }, e.GRAPH_HEIGHT = 30, e.SIZES = [ "Bytes", "KB", "MB", "GB", "TB" ], e;
    }(i(141).DebugValueRenderer);
    e.MemoryUsageDebugRenderer = r;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.averageFPSText = null, e.requestedHeight = 35, e.requestedWidth = 175, 
            e.updateRate = 500, e;
        }
        return n(e, t), e.prototype.createUI = function() {
            t.prototype.createUI.call(this), this.averageFPSText = this.gameObject.game.add.text(0, 0, "", {
                font: "14pt Arial",
                fill: "#FFFFFF",
                strokeThickness: 4,
                stroke: "#000000"
            });
        }, e.prototype.cleanUpUI = function() {
            t.prototype.cleanUpUI.call(this), this.averageFPSText.destroy(), this.averageFPSText = null;
        }, e.prototype.onLayout = function() {
            t.prototype.onLayout.call(this), this.averageFPSText.position.setTo(this.position.x + 10, this.position.y + 5);
        }, e.prototype.updateUI = function() {
            this.averageFPSText.setText("Average FPS: " + this.gameObject.game.prodigy.getAverageFPS());
        }, e;
    }(i(141).DebugValueRenderer);
    e.AverageFPSRenderer = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), function(t) {
        t[t.Vertical = 0] = "Vertical", t[t.Horizontal = 1] = "Horizontal";
    }(e.EDebugLayoutType || (e.EDebugLayoutType = {}));
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(43), r = i(853), s = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.debugRenderers = [], e.layout = [], e.currentLayoutType = r.EDebugLayoutType.Vertical, 
            e;
        }
        return n(e, t), Object.defineProperty(e.prototype, "selectedLayout", {
            get: function() {
                return this.currentLayoutType;
            },
            set: function(t) {
                this.currentLayoutType !== t && (this.currentLayoutType = t, this.refreshLayout());
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.addRenderer = function(t) {
            this.debugRenderers.push(t), this.gameObject.addComponent(t), this.layoutRenderer(t);
        }, e.prototype.insertRenderer = function(t, e) {
            e <= this.debugRenderers.length && (this.debugRenderers.splice(e, 0, t), 
            this.gameObject.addComponent(t)), this.refreshLayout();
        }, e.prototype.removeRenderer = function(t) {
            for (var e = 0; e < this.debugRenderers.length; ++e) if (this.debugRenderers[e] === t) {
                this.removeRendererAt(e);
                break;
            }
            this.refreshLayout();
        }, e.prototype.findRendererByType = function(t) {
            for (var e = 0; e < this.debugRenderers.length; ++e) if (this.debugRenderers[e] instanceof t) return this.debugRenderers[e];
            return null;
        }, e.prototype.removeRendererAt = function(t) {
            var e = this.debugRenderers[t];
            e.onRemovedFromLayout(), this.debugRenderers.splice(t, 1), this.gameObject.removeComponent(e);
        }, e.prototype.refreshLayout = function() {
            this.layout = [];
            for (var t = 0; t < this.debugRenderers.length; ++t) this.layoutRenderer(this.debugRenderers[t]);
        }, e.prototype.layoutRenderer = function(t) {
            this.findPosition(t), this.layout.push(t);
        }, e.prototype.findPosition = function(t) {
            var e = new Phaser.Rectangle(0, 0, t.requestedWidth, t.requestedHeight);
            if (this.layout.length > 0) {
                var i = this.layout[this.layout.length - 1];
                this.selectedLayout === r.EDebugLayoutType.Horizontal ? (e.x = i.position.x + i.requestedWidth + 1, 
                e.x + t.requestedWidth > this.gameObject.game.width && (e.x = 0)) : (e.y = i.position.y + i.requestedHeight + 1, 
                e.y + t.requestedHeight > this.gameObject.game.height && (e.y = 0));
            }
            for (var a = new Phaser.Rectangle(0, 0, 0, 0), n = 0; n < this.layout.length; ++n) a.setTo(this.layout[n].position.x, this.layout[n].position.y, this.layout[n].requestedWidth, this.layout[n].requestedHeight), 
            a.intersects(e, 0) && (this.selectedLayout === r.EDebugLayoutType.Horizontal ? e.y = a.bottom + 1 : e.x = a.right + 1);
            t.position.setTo(e.x, e.y), t.onLayout();
        }, e;
    }(o.Component);
    e.DebugLayout = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n, o, r, s, l, h, c) {
            return void 0 === o && (o = 0), void 0 === r && (r = null), t.call(this, e, i, a, n, o, r, s, l, h, c) || this;
        }
        return n(e, t), e;
    }(i(64).Sprite);
    e.TiledSprite = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e(e, i, a, n, o) {
            return t.call(this, e, i, a, n, o) || this;
        }
        return n(e, t), e;
    }(Phaser.Image);
    e.TiledImage = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(5), r = i(0), s = function(t) {
        function e(e, i, a, n, o) {
            var r = t.call(this, e, i) || this;
            return r.flagBanners = [], r.flagIcons = [], r.flag = r.add(r.game.prodigy.create.sprite(0, 0, "atlas-19", "user-bar-flag-back")), 
            r.setSource(o), r;
        }
        return n(e, t), e.prototype.setSource = function(t) {
            if (r.Util.isValid(t)) {
                this.initSpriteArray(this.flagBanners, 1, 7, -5, "atlas-19", "user-bar-flag-wizard"), 
                this.initSpriteArray(this.flagIcons, 1, 40, 139, "atlas-21", "icon-bar-wizard"), 
                this.setSpriteFrames(t), this.flag.bringToTop();
            }
        }, e.prototype.initSpriteArray = function(t, e, i, a, n, o) {
            if (e > 0) if (t.length > e) this.shrinkSpriteArray(t, e), this.redrawMasks(t); else if (t.length < e) {
                for (;t.length < e; ) t.push(this.add(this.game.prodigy.create.sprite(i, a, n, o)));
                this.redrawMasks(t);
            }
        }, e.prototype.redrawMasks = function(t) {
            if (1 === t.length) r.Util.isValid(t[0].mask) && (t[0].mask.destroy(), 
            t[0].mask = null); else if (t.length > 1) for (var e = t[0].width / t.length, i = t[0].height, a = 0; a < t.length; ++a) {
                r.Util.isValid(t[a].mask) && t[a].mask.destroy();
                var n = this.game.add.graphics(t[a].x, t[a].y, this);
                n.beginFill(16777215, 1), n.drawRect(e * a, 0, e, i), t[a].mask = n;
            }
        }, e.prototype.shrinkSpriteArray = function(t, e) {
            for (var i = t.splice(e), a = 0; a < i.length; ++a) r.Util.isValid(i[a].mask) && i[a].mask.destroy(), 
            i[a].destroy();
        }, e.prototype.setSpriteFrames = function(t) {
            var e = [ t.getElement() ];
            if (e.length === this.flagIcons.length && e.length === this.flagBanners.length) for (var i = 0; i < this.flagIcons.length; ++i) this.flagIcons[i].frameName = "icon-bar-" + e[i], 
            this.flagBanners[i].frameName = "user-bar-flag-" + e[i];
        }, e;
    }(o.Element);
    e.ElementBanner = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(2), r = i(142), s = i(3), l = i(34), h = i(252), c = i(51), p = i(249), u = i(30), d = i(0), g = i(848), y = i(234), f = i(770), m = function(t) {
        function e(e) {
            var i = t.call(this, e, "battle", "battle", [ "atlas-17", "sfx-8", "sfx-22", "sfx-23", "sfx-24", "sfx-26" ]) || this;
            return i.defeatZone = null, i.area = "", i.teamA = [], i.teamB = [], 
            i.runAwayCallback = null, i.victoryCallback = null, i.defeatCallback = null, 
            i.isRunning = !0, i.mods = null, i.heartsLayer = null, i.heartsA = null, 
            i.heartsB = null, i.teams = null, i.currentManager = null, i.slotRewardIndex = null, 
            i.epicBattleRound1 = null, i.epicBattleRound2 = null, i.epicBattleRound3 = null, 
            i.drops = [], i.combatManager = null, i.victoryManager = null, i.rendererGameObject = null, 
            i.tiledRendererComponent = null, i.rendererGameObject = new l.GameObject(i.game, void 0, [], 0, 0), 
            i.tiledRendererComponent = new h.TiledRenderer(i.game, i), i.rendererGameObject.addComponent(i.tiledRendererComponent, !0), 
            i;
        }
        return n(e, t), e.prototype.initListeners = function() {
            t.prototype.initListeners.call(this), this.game.broadcaster.addAppListener(s.EBattleEvents.GetIsRunning, this.getIsRunning.bind(this), this), 
            this.game.broadcaster.addAppListener(s.EBattleEvents.ApplySlotBonus, this.applySlotBonus.bind(this), this), 
            this.game.broadcaster.addAppListener(s.EBattleEvents.EndBattle, this.endBattle.bind(this), this);
        }, e.prototype.stopListeners = function() {
            t.prototype.stopListeners.call(this), this.game.broadcaster.removeAppListener(s.EBattleEvents.GetIsRunning, this), 
            this.game.broadcaster.removeAppListener(s.EBattleEvents.ApplySlotBonus, this), 
            this.game.broadcaster.removeAppListener(s.EBattleEvents.EndBattle, this);
        }, e.prototype.getIsRunning = function() {
            return this.isRunning;
        }, e.prototype.create = function() {
            this.zoneName = "battle-" + this.game.prodigy.player.userID, t.prototype.create.call(this), 
            this.game.prodigy.player.saveEnabled = !1;
        }, e.prototype.screenSetup = function() {
            this.tiledRendererComponent.render({
                mapName: this.mods.screen
            }), this.heartsLayer = new Phaser.Group(this.game, this.foreground), 
            this.heartsA = new r.Hearts(this.game, this.heartsLayer, 30, -200, null, !1), 
            this.heartsB = new r.Hearts(this.game, this.heartsLayer, 1250 - r.Hearts.WIDTH, -200, null, !0), 
            this.teams = [], this.teams.push(new y.Team(this.game, this.content, this.teamA, !0, -200, 500, 345, 500, this.heartsA, !1)), 
            this.teams.push(new y.Team(this.game, this.content, this.teamB, !1, 1480, 500, 935, 500, this.heartsB, !0)), 
            this.resetPotions(), u.Device.isNativeApp() || this.game.prodigy.audio.playBGM(2, !0), 
            this.isRunning = !0, this.checkCombatMods(), this.game.prodigy.network.leaveZone(), 
            t.prototype.screenSetup.call(this);
        }, e.prototype.screenUpdate = function() {
            t.prototype.screenUpdate.call(this), d.Util.isValid(this.currentManager) && d.Util.isValid(this.currentManager.update) && this.currentManager.update();
        }, e.prototype.checkCombatMods = function() {
            this.slotRewardIndex = null, d.Util.isValid(this.mods.epicArena) ? (this.game.prodigy.create.font(this.foreground, 570, 5, this.game.prodigy.gameContainer.Localizer.getText("BATTLE_INTRO"), {
                size: 20,
                width: 140,
                align: "center"
            }), this.foreground.add(this.game.prodigy.create.sprite(518, 20, "atlas-17", "round-counter")), 
            this.epicBattleRound1 = this.game.prodigy.create.font(this.foreground, 615, 55, "1", {
                size: 2,
                width: 140,
                align: "center",
                fontID: 12,
                mono: 44
            }), this.epicBattleRound2 = this.game.prodigy.create.font(this.foreground, 584, 55, "0", {
                size: 2,
                width: 140,
                align: "center",
                fontID: 12,
                mono: 44
            }), this.epicBattleRound3 = this.game.prodigy.create.font(this.foreground, 553, 55, "0", {
                size: 2,
                width: 140,
                align: "center",
                fontID: 12,
                mono: 44
            }), this.newEpicBattle()) : this.startCombat();
        }, e.prototype.newEpicBattle = function() {
            if (this.enableOverlay(), u.Device.isNativeApp() || this.game.prodigy.audio.playBGM(2, !0), 
            this.mods.starMod = 1, this.mods.level = this.teams[0].current.source.data.level, 
            this.mods.difficulty = 1, this.drops = [], this.game.add.tween(this.heartsLayer).to({
                y: 0
            }, 1e3, Phaser.Easing.Cubic.Out, !0), this.checkSlotRewardAndEncounter(), 
            this.mods.epicArena < 10) this.epicBattleRound1.setText("" + this.mods.epicArena); else if (this.mods.epicArena < 100) {
                var t = this.mods.epicArena % 10;
                this.epicBattleRound1.setText("" + t);
                var e = (this.mods.epicArena - t) / 10;
                this.epicBattleRound2.setText("" + e);
            } else {
                var i = this.mods.epicArena % 100;
                this.epicBattleRound3.setText("" + (this.mods.epicArena - i) / 100);
                t = i % 10;
                this.epicBattleRound1.setText("" + t);
                e = (i - t) / 10;
                this.epicBattleRound2.setText("" + e);
            }
            this.isRunning = !0, this.teamB = this.game.prodigy.battle.initBattle(this.mods, this.game.prodigy.battle.getBattleLevel(this.teamA), this.teamA), 
            this.teams.pop(), this.teams.push(new y.Team(this.game, this.content, this.teamB, !1, 1480, 500, 935, 500, this.heartsB, !0));
            var a = !(this.teams[0].current.source.getCurrentHearts() >= this.teams[0].current.source.getMaxHearts());
            this.game.prodigy.open.epicBoostMachine(this.teams[0].current.source.data.ID, a);
        }, e.prototype.checkSlotRewardAndEncounter = function() {
            var t = "" + this.teams[0].current.source.data.ID;
            if (this.mods.encounter = [ {
                ID: this.game.seededRandom.pick(p.Monsters.epicArena[t].monsters[this.mods.challengeLevel], 1013 * this.mods.epicArena)
            } ], this.mods.getAllRewards) {
                if (this.mods.epicArena % 10 == 0) {
                    this.slotRewardIndex = d.Util.isValid(this.slotRewardIndex) ? this.slotRewardIndex + 1 : 0;
                    var e = p.Monsters.epicArena[t].rewards[this.slotRewardIndex % 3];
                    this.game.prodigy.player.house.getOwned(e.ID) >= 9 && (e = {
                        type: "gold",
                        N: 50
                    }), this.drops.push(e);
                }
            } else if (this.mods.epicArena % (5 * this.mods.challengeLevel + 10) == 0) {
                this.slotRewardIndex = this.mods.challengeLevel;
                e = p.Monsters.epicArena[t].rewards[this.mods.challengeLevel];
                this.game.prodigy.player.house.getOwned(e.ID) >= 9 && (e = {
                    type: "gold",
                    N: 50
                }), this.drops.push(e);
            }
            this.drops.push({
                type: "gold",
                N: -50
            });
        }, e.prototype.applySlotBonus = function(t) {
            var e = this.teams[0].current.source, i = this.teams[1].current.source;
            e.resetModifiers(), i.resetModifiers(), e.starsEarned = 0, e.getCurrentHearts() >= e.getMaxHearts() && e.changeCurrentHearts(o.GameConstants.MAX_SAFE_INTEGER);
            for (var a = 0, n = 1, r = 0; r < t.length; r++) switch (t[r]) {
              case 1:
                e.updateModifier("maxHearts", .1);
                break;

              case 2:
                e.updateModifier("maxHearts", .2);
                break;

              case 3:
                e.updateModifier("maxHearts", .3);
                break;

              case 4:
                e.updateModifier("maxHearts", -.1);
                break;

              case 5:
                a += .1;
                break;

              case 6:
                a += .2;
                break;

              case 7:
                a += .3;
                break;

              case 8:
                a -= .1;
                break;

              case 9:
                a -= .2;
                break;

              case 10:
                n += .1;
                break;

              case 11:
                n += .2;
                break;

              case 12:
                n += .3;
                break;

              case 13:
                e.updateModifier("damage", .2);
                break;

              case 14:
                e.updateModifier("damage", -.1);
                break;

              case 15:
                this.drops.push({
                    type: "gold",
                    N: 25
                });
                break;

              case 16:
                i.updateModifier("miss", .25);
                break;

              case 17:
                i.updateModifier("ignoreElement", 1), e.updateModifier("ignoreElement", 1);
            }
            e.changeCurrentHearts(e.getMaxHearts() * a, .01 * e.getMaxHearts()), 
            this.mods.starMod *= n, e.modifiers.maxHearts > 1 && e.changeCurrentHearts(e.getCurrentHearts() * (e.modifiers.maxHearts - 1)), 
            this.disableOverlay(), this.startCombat();
        }, e.prototype.startCombat = function() {
            this.game.add.tween(this.heartsA).to({
                y: 0
            }, 600, Phaser.Easing.Quadratic.Out, !0), this.teams[1].isBoss() && !this.teams[1].showHearts() || this.game.add.tween(this.heartsB).to({
                y: 0
            }, 600, Phaser.Easing.Quadratic.Out, !0), d.Util.isValid(this.combatManager) || (this.combatManager = new g.CombatManager(this.game)), 
            this.combatManager.setup(this), this.currentManager = this.combatManager, 
            d.Util.isValid(this.mods.towerFloor) || d.Util.isValid(this.mods.epicArena) || this.game.prodigy.player.healTeam(o.GameConstants.MAX_SAFE_INTEGER);
        }, e.prototype.startVictory = function() {
            this.isRunning = !1, u.Device.isNativeApp() || this.game.prodigy.audio.playBGM(1, !0), 
            this.game.add.tween(this.heartsB).to({
                y: -250
            }, 800, Phaser.Easing.Quadratic.Out, !0), d.Util.isValid(this.victoryManager) || (this.victoryManager = new f.VictoryManager(this.game)), 
            this.victoryManager.setup(this), this.currentManager = this.victoryManager;
        }, e.prototype.processEndBattleQuests = function() {
            for (var t = this.teams[1].getDefeated(), e = 0; e < t.length; e++) d.Util.isValid(this.mods.quest) && this.game.prodigy.player.quests.defeatMonster(this.mods.zoneID, this.mods.quest, t[e].getID());
            d.Util.isValid(this.mods.quest) && this.game.prodigy.player.quests.defeatBoss(this.mods.zoneID), 
            d.Util.isValid(this.mods.dailyQuest) && this.game.prodigy.world.zones[this.mods.zoneID].updateDailyQuest(this.mods.dailyQuest);
        }, e.prototype.endBattle = function(t) {
            if (this.resetPotions(), this.isRunning = !1, this.game.prodigy.player.tutorial.getMenuValue(3, 2) < 2 && this.game.prodigy.player.tutorial.setMenuValue(3, 2, 2), 
            this.game.prodigy.player.saveEnabled = !0, this.game.prodigy.player.battleCounter++, 
            this.game.prodigy.network.processPlayer = !0, this.game.prodigy.education.processAnswerResponses(), 
            this.game.prodigy.player.getCurrentHearts() <= 0 && this.game.prodigy.player.changeCurrentHearts(20), 
            "run" === t) d.Util.isValid(this.mods.towerFloor) || this.game.prodigy.player.healTeam(o.GameConstants.MAX_SAFE_INTEGER), 
            this.runAwayCallback(); else if ("win" === t) {
                if (d.Util.isValid(this.mods.towerFloor)) {
                    var e = "";
                    this.mods.towerFloor < 10 ? e = "00" : this.mods.towerFloor < 100 && (e = "0"), 
                    this.game.prodigy.network.sendAnalytics("Dark-Tower-Battle", "Floor" + e + this.mods.towerFloor + "-BattleWon", "Events");
                }
                this.processEndBattleQuests(), d.Util.isValid(this.mods.epicArena) ? (this.mods.epicArena++, 
                this.newEpicBattle()) : (d.Util.isValid(this.mods.towerFloor) || d.Util.isValid(this.mods.epicArena) || this.game.prodigy.player.healTeam(o.GameConstants.MAX_SAFE_INTEGER), 
                this.victoryCallback(this.mods, this.teams[1].getDefeated()));
            } else if ("lose" === t) {
                if (d.Util.isValid(this.mods.towerFloor) || this.game.prodigy.player.healTeam(o.GameConstants.MAX_SAFE_INTEGER), 
                this.game.prodigy.player.backpack.hasItems([ {
                    type: "item",
                    ID: 1
                }, {
                    type: "item",
                    ID: 3
                }, {
                    type: "item",
                    ID: 4
                }, {
                    type: "item",
                    ID: 11
                }, {
                    type: "item",
                    ID: 22
                }, {
                    type: "item",
                    ID: 25
                } ]) > 0 ? this.game.prodigy.network.sendAnalytics("battle lost", "battle-lost-with-food", "Events") : this.game.prodigy.network.sendAnalytics("battle lost", "battle-lost-without-food-left", "Events"), 
                d.Util.isValid(this.mods.towerFloor)) {
                    e = "";
                    this.mods.towerFloor < 10 ? e = "00" : this.mods.towerFloor < 100 && (e = "0"), 
                    this.game.prodigy.network.sendAnalytics("Dark-Tower-Battle", "Floor" + e + this.mods.towerFloor + "-BattleLost", "Events");
                }
                if (d.Util.isValid(this.defeatCallback) && this.defeatCallback(), 
                d.Util.isValid(this.mods.epicArena)) return;
                this.game.state.states.Faint.targetZone = this.defeatZone, this.game.prodigy.start("Faint");
            }
        }, e.prototype.resetPotions = function() {
            for (var t = 0; t < this.teams.length; t++) for (var e = 0; e < this.teams[t].team.length; e++) {
                var i = this.teams[t].team[e];
                i.source.updateModifier("potion", null), d.Util.isValid(i.potionIcon) && (i.potionIcon.destroy(), 
                i.potionIcon = null), d.Util.isValid(i.potencyIcon) && (i.potencyIcon.destroy(), 
                i.potencyIcon = null);
            }
        }, e;
    }(c.Screen);
    e.Battle = m;
}, function(t, e) {
    t.exports = window.Raven;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(143), r = i(859), s = i(858), l = i(768), h = i(2), c = i(3), p = i(763), u = i(127), d = i(755), g = i(4), y = i(30), f = i(754), m = i(0), _ = i(300), v = i(299), E = i(298), b = i(297), O = i(171), T = i(296), A = i(295), I = i(177), w = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.isLoaded = !1, e;
        }
        return n(e, t), e.prototype.preload = function(e) {
            t.prototype.preload.call(this, e), this.game.prodigy.load.assets([ "game-data" ], this.loadedData.bind(this));
        }, e.prototype.loadedData = function(t, e) {
            var a, n = this.game.cache.getJSON("game-data"), o = n.emote;
            for (a = 0; a < o.length; ++a) switch (o[a].ID) {
              case 6:
              case 22:
                o.splice(a, 1), a--;
            }
            for (n.particleEffect = [ {
                ID: 1,
                type: "particleEffect",
                data: {
                    particle: {
                        image: "atlas-10",
                        frame: "42-16",
                        lifespan: 8e3,
                        vy: {
                            min: 2,
                            max: 2
                        },
                        vx: {
                            min: .5,
                            max: 1
                        },
                        rotation: {
                            value: 0,
                            delta: {
                                min: -2,
                                max: 2
                            }
                        }
                    },
                    emitter: {
                        repeat: -1,
                        frequency: 50
                    }
                },
                metadata: {}
            }, {
                ID: 2,
                type: "particleEffect",
                data: {
                    particle: {
                        image: "atlas-10",
                        frame: "42-30",
                        lifespan: 5e3,
                        vy: {
                            min: 3,
                            max: 3
                        },
                        vx: {
                            min: .25,
                            max: .75
                        },
                        rotation: {
                            value: 0,
                            delta: {
                                min: -3,
                                max: 3
                            }
                        }
                    },
                    emitter: {
                        repeat: -1,
                        frequency: 150
                    }
                },
                metadata: {}
            }, {
                ID: 3,
                type: "particleEffect",
                data: {
                    particle: {
                        image: "atlas-160",
                        frame: "tiny-bubble",
                        lifespan: {
                            min: 800,
                            max: 1200
                        },
                        vx: {
                            min: -.1,
                            max: .1
                        },
                        vy: {
                            min: -.8,
                            max: -.1
                        },
                        scale: {
                            value: {
                                min: .3,
                                max: .6
                            },
                            control: [ {
                                x: 0,
                                y: 1
                            }, {
                                x: .3,
                                y: 1
                            }, {
                                x: 1,
                                y: 2
                            } ]
                        }
                    },
                    emitter: {
                        repeat: -1,
                        frequency: {
                            min: 350,
                            max: 7500
                        }
                    }
                },
                metadata: {}
            }, {
                ID: 4,
                type: "particleEffect",
                data: {
                    particle: {
                        image: "atlas-160",
                        frame: "ink",
                        lifespan: 1500,
                        vy: {
                            min: -.8,
                            max: -.1
                        },
                        vx: {
                            min: -.3,
                            max: .3
                        },
                        scale: {
                            value: 1,
                            control: [ {
                                x: 0,
                                y: .5
                            }, {
                                x: 1,
                                y: 1
                            } ]
                        },
                        alpha: {
                            value: 1,
                            control: [ {
                                x: 0,
                                y: 1
                            }, {
                                x: .4,
                                y: 1
                            }, {
                                x: 1,
                                y: 0
                            } ]
                        },
                        rotation: {
                            initial: {
                                min: 0,
                                max: 360
                            },
                            delta: {
                                min: .5,
                                max: 2
                            }
                        }
                    },
                    emitter: {
                        repeat: 8,
                        frequency: {
                            min: 20,
                            max: 50
                        },
                        burstFrequency: {
                            min: 5e3,
                            max: 1e4
                        }
                    }
                },
                metadata: {}
            }, {
                ID: 5,
                type: "particleEffect",
                data: {
                    particle: {
                        lifespan: {
                            min: 350,
                            max: 500
                        },
                        image: "atlas-160",
                        animations: {
                            clouds: {
                                frames: [ "cloud-5", "cloud-4", "cloud-3", "cloud-2", "cloud-1" ],
                                frameRate: 10,
                                loop: !1
                            }
                        },
                        vy: {
                            min: -.45,
                            max: -.65
                        }
                    },
                    emitter: {
                        repeat: -1,
                        frequency: 300
                    }
                },
                metadata: {}
            } ], a = 0; a < n.follow.length; ++a) 130 === n.follow[a].ID ? n.follow[a].data.particleEffects = [ {
                ID: 3,
                x: 4,
                y: -15
            } ] : 131 === n.follow[a].ID && (n.follow[a].data.particleEffects = [ {
                ID: 4,
                x: 0,
                y: 0,
                inFront: !1
            } ]);
            g.Items.parseData(n);
            var r = [ "boots", "follow", "hat", "mount", "outfit", "weapon", "pet" ];
            for (this.game.prodigy.chat.addPhrases(i(294).keys, !0), a = 0; a < r.length; a++) this.game.prodigy.chat.addPhrases(g.Items.data[r[a]].map(function(t) {
                return t.data.name;
            }));
            this.initializeParticleEffectsImages(), window.addEventListener("message", function(t) {
                var e = t.data;
                try {
                    e.cmd && (e.cmd.indexOf("T2C_") >= 0 || e.cmd.indexOf("C2T_") >= 0) && (e.prodigy || window.postMessage({
                        cmd: "T2C_Result",
                        param: [ [ "Cheating is BAD!", "Stop doing it!" ] ],
                        prodigy: !0
                    }, "*"));
                } catch (t) {}
            }, !1), this.game.prodigy.load.assets([ "bitmapFont-1", "atlas-10", "atlas-9", "atlas-8", "atlas-12", "atlas-13", "atlas-11", "spine-5", "atlas-18", "atlas-20", "atlas-161", "atlas-144", "atlas-145", "atlas-148", "atlas-146", "atlas-147", "atlas-149", "atlas-150", "atlas-166" ], this.loaded.bind(this));
        }, e.prototype.loaded = function(t, e) {
            this.isLoaded = e, this.game.broadcaster.broadcast(c.EBootEvents.Loaded, null, []);
        }, e.prototype.create = function(e) {
            t.prototype.create.call(this, e), this.game.prodigy.init(), this.game.initPlugins(), 
            window.navigator.userAgent.indexOf("Edge") > -1 && Phaser.Canvas.setImageRenderingCrisp(this.game.canvas), 
            this.game.time.advancedTiming = !0, this.game.scale.scaleMode = h.GameConstants.get("GameConstants.Build.SCALE_MODE"), 
            this.game.scale.refresh(), this.input.maxPointers = 1, this.game.stage.disableVisibilityChange = !0, 
            this.game.device.desktop ? this.game.scale.pageAlignHorizontally = !0 : this.game.scale.forceLandscape = !0, 
            this.extendInput(), this.game.prodigy.load.setLoader(this.game.load);
        }, e.prototype.extendInput = function() {
            var t = this;
            this.game.inputDispatcher = new d.InputDispatcher(this.game), this.game.input.setEnterCallback = function(e) {
                t.game.input.enterCallback = e;
            }, this.game.input.clearEnterCallback = function() {
                delete t.game.input.enterCallback;
            }, o(document).on("keyup", function(e) {
                13 === e.keyCode && m.Util.isValid(t.game.input.enterCallback) && t.game.input.enterCallback();
            });
        }, e.prototype.initializeParticleEffectsImages = function() {
            for (var t = g.Items.data.particleEffect, e = [], i = 0; i < t.length; ++i) {
                var a = t[i].data.particle.image;
                -1 === e.indexOf(a) && e.push(a);
            }
            this.game.prodigy.load.assets(e, function() {});
        }, e.prototype.update = function(e) {
            t.prototype.update.call(this, e), this.isLoaded && (this.isLoaded = !1, 
            this.game.prodigy.start("Login", {
                assets: [ "atlas-21", "atlas-19" ],
                title: this.game.prodigy.gameContainer.Localizer.getText("TITLE_LOGIN"),
                time: 3e3
            }));
        }, e.init = function() {
            m.Util.isValid(r) && y.Device.isAndroid() && "production" === m.Util.getEnvironment() ? (r.config("https://a84188f8494e47ea9adc6469ec4f4deb@sentry.io/1217080", {
                release: h.GameConstants.get("GameConstants.Build.VERSION"),
                sampleRate: .5,
                dataCallback: function(t) {
                    var e = t.exception && t.exception.values[0].stacktrace;
                    return e && e.frames && e.frames.forEach(function(t) {
                        if (t.filename.startsWith("/")) {
                            var e = t.filename.substring(t.filename.lastIndexOf("/") + 1);
                            -1 !== e.lastIndexOf(".") && (e = e.substring(0, e.lastIndexOf("."))), 
                            t.filename = "app:///" + e;
                        }
                    }), t;
                }
            }).install(), r.context(function() {
                e.createGame();
            })) : e.createGame();
        }, e.createGame = function() {
            var t = new f.ProdigyGame({
                width: 1280,
                height: 720,
                renderer: Phaser.CANVAS,
                parent: "game-container"
            });
            t.init(), t.state.add("Boot", e), t.state.add("Loading", O.Loading), 
            t.state.add("PVPLoading", A.PVPLoading), t.state.add("TileScreen", I.TileScreen), 
            t.state.add("Login", T.Login), t.state.add("Battle", s.Battle), t.state.add("PVP", l.PVP), 
            t.state.add("Faint", b.Faint), t.state.add("CharSelect", E.CharSelect), 
            t.state.add("CharCreate", v.CharCreate), t.state.add("Museum", _.Museum), 
            t.state.add("DinoDig", u.DinoDig), t.state.add("DanceDance", p.DanceDance), 
            t.state.start("Boot"), window.clearInput = function() {
                for (var e = 0; e < t.input.pointers.length; e++) t.input.pointers[e].active = !1;
            };
        }, e;
    }(Phaser.State);
    e.Boot = w;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "map", "x", "y" ], {
                data: null,
                loadingData: null
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this), this.findParameter("game").prodigy.world.teleport(this.findParameter("map"), this.findParameter("x"), this.findParameter("y"), this.findParameter("data"), this.findParameter("loadingData")), 
            this.finish();
        }, e = o([ r.actionable("Teleport") ], e);
    }(r.Action);
    e.TeleportAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "zone", "map", "introText", "data" ], {
                wait: !1
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("zone");
            if (e) {
                var i = this.findParameter("map"), a = this.findParameter("introText"), n = this.findParameter("data");
                this.findParameter("wait") ? e.getBattle(i, a, n, this.finish.bind(this))() : (e.getBattle(i, a, n, null)(), 
                this.finish());
            } else this.finish();
        }, e = o([ r.actionable("StartBattle") ], e);
    }(r.Action);
    e.StartBattleAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "character", "ID" ], {
                overlayMode: !1,
                showYesNo: !1
            });
        }, e.prototype.execute = function() {
            var t = this.findParameter("game").prodigy.dialogue.create(), e = this.findParameter("showYesNo"), i = this.findParameter("ID"), a = this.findParameter("character"), n = this.findParameter("overlayMode");
            if (i.constructor === Array) for (var o = i, r = 0; r < o.length; r++) this.setDialogue(t, o[r], e && r + 1 === o.length); else this.setDialogue(t, i, e);
            e || t.setText({
                callback: this.finishWithAnswer.bind(this, !1)
            }), t.start(a, n);
        }, e.prototype.setDialogue = function(t, e, i) {
            i ? t.setText({
                index: e,
                yes: this.finishWithAnswer.bind(this, !0),
                no: this.finishWithAnswer.bind(this, !1)
            }) : t.setText(e);
        }, e.prototype.finishWithAnswer = function(t) {
            this.finish({
                result: t
            });
        }, e = o([ r.actionable("ShowDialogue") ], e);
    }(r.Action);
    e.ShowDialogueAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "delay", "time" ], {
                intensity: 10,
                direction: null,
                wait: !0
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game"), i = this.findParameter("delay"), a = this.findParameter("time"), n = this.findParameter("intensity"), o = this.findParameter("direction");
            this.findParameter("wait") ? e.prodigy.effects.shake(1e3 * i, 1e3 * a, n, o, this.finish.bind(this)) : (e.prodigy.effects.shake(1e3 * i, 1e3 * a, n, o, null), 
            this.finish());
        }, e = o([ r.actionable("Shake") ], e);
    }(r.Action);
    e.ShakeAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "zone", "state", "value" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone"));
            e && e.setState(this.findParameter("state"), this.findParameter("value")), 
            this.finish();
        }, e = o([ r.actionable("SetZoneState") ], e);
    }(r.Action);
    e.SetZoneStateAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "creature", "walkSpeed" ]);
        }, e.prototype.execute = function() {
            var t = this.findParameter("creature");
            t && (t.walkSpeed = this.findParameter("walkSpeed")), this.finish();
        }, e = o([ r.actionable("SetWalkSpeed") ], e);
    }(r.Action);
    e.SetWalkSpeedAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "pathfinder", "creature", "x", "y" ], {
                wait: !0
            });
        }, e.prototype.execute = function() {
            var t = this.findParameter("pathfinder"), e = this.findParameter("creature");
            if (e && t) {
                var i = this.findParameter("x"), a = this.findParameter("y");
                this.findParameter("wait") ? e.setValidPath(t, i, a, this.finish.bind(this)) : (e.setValidPath(t, i, a, null), 
                this.finish());
            } else this.finish();
        }, e = o([ r.actionable("SetValidPath") ], e);
    }(r.Action);
    e.SetValidPathAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "creature", "path" ], {
                speed: 1,
                wait: !0
            });
        }, e.prototype.execute = function() {
            var t = this.findParameter("creature");
            if (t) {
                var e = this.findParameter("path"), i = this.findParameter("speed");
                this.findParameter("wait") ? t.setPath(e, this.finish.bind(this), i) : (t.setPath(e, null, i), 
                this.finish());
            } else this.finish();
        }, e = o([ r.actionable("SetPath") ], e);
    }(r.Action);
    e.SetPathAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "player", "flag" ]);
        }, e.prototype.execute = function() {
            var t = this.findParameter("player");
            t && (t.evtProc = this.findParameter("flag")), this.finish();
        }, e = o([ r.actionable("SetEventProcessing") ], e);
    }(r.Action);
    e.SetEventProcessingAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "zone", "count" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone"));
            e && e.setState("daily", {
                date: e.getState("daily").date,
                flags: e.getState("daily").flags,
                rewards: this.findParameter("count")
            }), this.finish();
        }, e = o([ r.actionable("SetDailyRewardCount") ], e);
    }(r.Action);
    e.SetDailyRewardCountAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "eventName", "eventData" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game"), i = this.findParameter("eventName"), a = this.findParameter("eventData");
            e.prodigy.network.sendAdvancedEvent(i, a), this.finish();
        }, e = o([ r.actionable("SendAdvancedEvent") ], e);
    }(r.Action);
    e.SendAdvancedEventAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = i(0), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "spine", "animationName" ], {
                loop: !1,
                wait: !0
            });
        }, e.prototype.execute = function() {
            var t = this, e = this.findParameter("spine"), i = this.findParameter("animationName");
            s.Util.isValid(e) && s.Util.isValid(i) ? (e.setAnimationByName(0, i, this.findParameter("loop")), 
            this.findParameter("wait") ? e.onComplete.addOnce(function() {
                t.finish();
            }) : this.finish()) : (s.Util.log("Missing animation name or ref to spine", s.Util.ERROR), 
            this.finish());
        }, e = o([ r.actionable("PlaySpine") ], e);
    }(r.Action);
    e.PlaySpineAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "ID", "clip" ], {
                wait: !1
            });
        }, e.prototype.execute = function() {
            var t = this.findParameter("game"), e = this.findParameter("ID"), i = this.findParameter("clip");
            this.findParameter("wait") ? t.prodigy.audio.playSFX(e, i, this.finish.bind(this)) : (t.prodigy.audio.playSFX(e, i), 
            this.finish());
        }, e = o([ r.actionable("PlaySound") ], e);
    }(r.Action);
    e.PlaySoundAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "ID" ], {
                loop: !0
            });
        }, e.prototype.execute = function() {
            var t = this.findParameter("game");
            t.prodigy.audio.playBGM(this.findParameter("ID"), this.findParameter("loop")), 
            t.prodigy.audio.resumeBGM(), this.finish();
        }, e = o([ r.actionable("PlayMusic") ], e);
    }(r.Action);
    e.PlayMusicAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game" ]);
        }, e.prototype.execute = function() {
            this.findParameter("game").prodigy.audio.pauseBGM(), this.finish();
        }, e = o([ r.actionable("PauseMusic") ], e);
    }(r.Action);
    e.PauseMusicAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "zone", "quest" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone")), i = !1;
            e && (i = e.isQuestComplete(this.findParameter("quest"))), this.finish({
                result: i
            });
        }, e = o([ r.actionable("IsQuestComplete") ], e);
    }(r.Action);
    e.IsQuestCompleteAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "zone", "quest", "sequence" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone")), i = !1;
            e && (i = e.isOnSequence(this.findParameter("quest"), this.findParameter("sequence"))), 
            this.finish({
                result: i
            });
        }, e = o([ r.actionable("IsOnSequence") ], e);
    }(r.Action);
    e.IsOnSequenceAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "zone", "quest" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone")), i = !1;
            e && (i = e.isOnQuest(this.findParameter("quest"))), this.finish({
                result: i
            });
        }, e = o([ r.actionable("IsOnQuest") ], e);
    }(r.Action);
    e.IsOnQuestAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "creature", "time" ], {
                wait: !0,
                xOffset: 0,
                height: 0
            });
        }, e.prototype.execute = function() {
            var t = this.findParameter("creature");
            if (t) {
                var e = this.findParameter("time"), i = this.findParameter("xOffset"), a = this.findParameter("height");
                this.findParameter("wait") ? t.hop(1e3 * e, this.finish.bind(this), i, a) : (t.hop(1e3 * e, null, i, a), 
                this.finish());
            } else this.finish();
        }, e = o([ r.actionable("Hop") ], e);
    }(r.Action);
    e.HopAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "element", "show" ], {
                xOffset: 0,
                yOffset: 0
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("element");
            e && e.highlight(this.findParameter("show"), this.findParameter("xOffset"), this.findParameter("yOffset")), 
            this.finish();
        }, e = o([ r.actionable("HighlightElement") ], e);
    }(r.Action);
    e.HighlightElementAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "screen", "hide" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("screen");
            e && (e.hideHex = this.findParameter("hide")), this.finish();
        }, e = o([ r.actionable("HideFollow") ], e);
    }(r.Action);
    e.HideFollowAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "type", "ID" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game"), i = this.findParameter("type"), a = 0;
            switch (i) {
              case "pet":
                a = e.prodigy.player.kennel.hasPet(this.findParameter("ID")) ? 1 : 0;
                break;

              default:
                a = e.prodigy.player.backpack.hasItem(i, this.findParameter("ID"));
            }
            this.finish({
                amount: a
            });
        }, e = o([ r.actionable("HasItem") ], e);
    }(r.Action);
    e.HasItemAction = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t() {
            this.data = {
                zones: {},
                menus: {}
            }, this.updated = !1;
        }
        return t.prototype.getDataAndClear = function() {
            return this.updated = !1, this.data;
        }, t.prototype.setData = function(t) {
            a.Util.isValid(t.zones) || (t.zones = {}), a.Util.isValid(t.menus) || (t.menus = {}), 
            this.data = t;
        }, t.prototype.getMenuValue = function(t, e) {
            return void 0 === e && (e = 0), this.getValue("menus", t, e);
        }, t.prototype.setMenuValue = function(t, e, i) {
            this.setValue("menus", t, e, i);
        }, t.prototype.setValue = function(t, e, i, n) {
            void 0 === i && (i = 0), void 0 === n && (n = 1), a.Util.isValid(this.data[t][e]) || (this.data[t][e] = []), 
            this.data[t][e][i] !== n && (this.data[t][e][i] = n, this.updated = !0);
        }, t.prototype.getValue = function(t, e, i) {
            if (void 0 === i && (i = 0), !a.Util.isValid(this.data[t][e])) return 0;
            var n = this.data[t][e];
            return a.Util.isValid(n[i]) ? n[i] : 0;
        }, t;
    }();
    e.Tutorial = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t() {
            this.data = {
                tutorial: {},
                world: {},
                zone: {}
            }, this.updated = !1;
        }
        return t.prototype.setData = function(t) {
            if (this.data = t, a.Util.isValid(this.data.zone)) for (var e in this.data.zone) a.Util.isValid(this.data.zone[e].quest) && a.Util.isValid(this.data.zone[e].quest.gameID) && (this.data.zone[e].quest.ID = this.data.zone[e].quest.gameID, 
            delete this.data.zone[e].quest.gameID);
        }, t.prototype.getDataAndClear = function() {
            return this.updated = !1, this.data;
        }, t.prototype.set = function(t, e) {
            if (a.Util.isValid(t)) {
                for (var i = t.split("-"), n = this.data, o = 0; o < i.length; o++) a.Util.isValid(n[i[o]]) || (n[i[o]] = {}), 
                o === i.length - 1 ? n[i[o]] = e : n = n[i[o]];
                this.updated = !0;
            }
        }, t.prototype.get = function(t) {
            if (a.Util.isValid(t)) {
                for (var e = t.split("-"), i = this.data, n = 0; n < e.length; n++) {
                    if (!a.Util.isValid(i[e[n]])) return null;
                    i = i[e[n]];
                }
                return i;
            }
            return null;
        }, t.prototype.getCompletedQuests = function(t) {
            var e = this.get("zone-" + t + "-quest-ID");
            return a.Util.isValid(e) ? e - 1 : -1;
        }, t.prototype.getZoneVars = function(t, e, i) {
            var n = this.get("zone-" + e), o = t.prodigy.world.getZone(e), r = 0;
            if (a.Util.isValid(n) && a.Util.isValid(o.states)) for (var s = 0; s < o.states.length; s++) {
                o.states[s].indexOf(i) >= 0 && a.Util.isValid(n[s]) && n[s] > 0 && r++;
            }
            return r;
        }, t;
    }();
    e.State = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t() {
            this.data = {}, this.updated = !1;
        }
        return t.hasEntryForMonster = function(t, e) {
            if (!a.Util.isValid(t)) return !1;
            for (var i = 0; i < t.length; i++) if (t[i].ID === e) return !0;
            return !1;
        }, t.prototype.defeatMonster = function(e, i, n) {
            if (a.Util.isValid(this.data[e])) {
                if (a.Util.isValid(i.req)) for (var o = 0; o < i.req.length; o++) "pet" === i.req[o].type && (this.data[e].M || (this.data[e].M = []), 
                t.hasEntryForMonster(this.data[e].M, i.req[o].ID) || this.data[e].M.push({
                    ID: i.req[o].ID,
                    N: 0
                }));
                if (a.Util.isValid(this.data[e].M)) for (o = 0; o < this.data[e].M.length; o++) {
                    var r = this.data[e].M[o];
                    r.ID === n && r.N++;
                }
            }
        }, t.prototype.defeatBoss = function(t) {
            a.Util.isValid(this.data[t]) && (this.data[t].B = 1);
        }, t.prototype.setQuests = function(t) {
            this.data = t;
        }, t.prototype.getDataAndClear = function() {
            return this.updated = !1, this.data;
        }, t;
    }();
    e.Quests = n;
}, function(t, e, i) {
    var a = i(152);
    t.exports = function(t, e) {
        var i = [];
        return a(t, function(t, a, n) {
            e(t, a, n) && i.push(t);
        }), i;
    };
}, function(t, e, i) {
    var a = i(277), n = i(886), o = i(53), r = i(19);
    t.exports = function(t, e) {
        return (r(t) ? a : n)(t, o(e, 3));
    };
}, function(t, e, i) {
    var a = i(254), n = i(102);
    t.exports = function(t) {
        return a(n(t));
    };
}, function(t, e) {
    var i = "[\\ud800-\\udfff]", a = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", n = "\\ud83c[\\udffb-\\udfff]", o = "[^\\ud800-\\udfff]", r = "(?:\\ud83c[\\udde6-\\uddff]){2}", s = "[\\ud800-\\udbff][\\udc00-\\udfff]", l = "(?:" + a + "|" + n + ")" + "?", h = "[\\ufe0e\\ufe0f]?" + l + ("(?:\\u200d(?:" + [ o, r, s ].join("|") + ")[\\ufe0e\\ufe0f]?" + l + ")*"), c = "(?:" + [ o + a + "?", a, r, s, i ].join("|") + ")", p = RegExp(n + "(?=" + n + ")|" + c + h, "g");
    t.exports = function(t) {
        return t.match(p) || [];
    };
}, function(t, e) {
    t.exports = function(t) {
        return t.split("");
    };
}, function(t, e, i) {
    var a = i(890), n = i(145), o = i(889);
    t.exports = function(t) {
        return n(t) ? o(t) : a(t);
    };
}, function(t, e, i) {
    var a = i(255);
    t.exports = function(t, e, i) {
        var n = t.length;
        return i = void 0 === i ? n : i, !e && i >= n ? t : a(t, e, i);
    };
}, function(t, e, i) {
    var a = i(892), n = i(145), o = i(891), r = i(153);
    t.exports = function(t) {
        return function(e) {
            e = r(e);
            var i = n(e) ? o(e) : void 0, s = i ? i[0] : e.charAt(0), l = i ? a(i, 1).join("") : e.slice(1);
            return s[t]() + l;
        };
    };
}, function(t, e, i) {
    var a = i(893)("toUpperCase");
    t.exports = a;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = function() {
        function t() {
            this.updated = !1, this.data = {};
        }
        return t.prototype.getDataAndClear = function() {
            return this.updated = !1, this.getMountData();
        }, t.prototype.setMountData = function(t) {
            this.data = t;
        }, t.prototype.getMountData = function() {
            return this.data;
        }, t.prototype.getMountID = function() {
            return this.data.mountID;
        }, t.prototype.clearMountID = function() {
            a.Util.isValid(this.getMountID()) && (this.updated = !0, delete this.data.mountID);
        }, t;
    }();
    e.MountEntity = n;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(2), n = i(0), o = i(15), r = function() {
        function t(t) {
            this.data = null, this.updated = !1, this.player = null, this.player = t, 
            this.setPets([]);
        }
        return t.prototype.getDataAndClear = function() {
            return this.updated = !1, this.data;
        }, t.prototype.setTeam = function(t, e) {
            if (n.Util.isValid(e)) if ("number" == typeof e) t.team = e; else {
                var i = t.team;
                t.team = e.team, e.team = i, n.Util.isValid(t.team) || (e.isPVPTeam = t.isPVPTeam), 
                n.Util.isValid(e.team) || (t.isPVPTeam = e.isPVPTeam);
            } else delete t.team;
            n.Util.isValid(t.team) || (t.isPVPTeam = !1), n.Util.isValid(e) && "number" != typeof e && !n.Util.isValid(e.team) && (e.isPVPTeam = !1), 
            this.updated = !0;
        }, t.prototype.getTeam = function() {
            for (var t = this.getTeamSource(), e = [], i = 0; i < t.length; i++) {
                var a = t[i];
                n.Util.isValid(a) && (a === this.player.data ? e[i] = this.player : e[i] = new o.Monster(this.player.game, a));
            }
            return e;
        }, t.prototype.getAvgTeamLv = function() {
            for (var t = this.getTeamSource(), e = 0, i = 0, a = 0; a < t.length; a++) n.Util.isValid(t[a]) ? n.Util.isValid(t[a].data) ? n.Util.isValid(t[a].data.level) ? e += t[a].data.level : e++ : n.Util.isValid(t[a].level) && (e += t[a].level) : i += 1;
            return Math.floor(e / (t.length - i));
        }, t.prototype.getTeamScore = function() {
            for (var t = this.getTeam(), e = 0, i = 0; i < t.length; i++) n.Util.isValid(t[i]) && !t[i].isKnockedOut() && (e += t[i].getCurrentHearts());
            return e;
        }, t.prototype.add = function(t, e, i, o, r) {
            if (n.Util.isValid(t)) {
                var s = {
                    ID: t,
                    hp: n.Util.isValid(e) ? e : a.GameConstants.MAX_SAFE_INTEGER,
                    stars: n.Util.isValid(i) ? i : 0,
                    level: n.Util.isValid(o) ? o : 1,
                    nickname: n.Util.isValid(r) ? r : null
                };
                this.data.push(s);
                var l = this.findEmptyTeamIndex();
                n.Util.isValid(l) && (this.setTeam(s, l), this.reconcilePVPTeam()), 
                this.updated = !0;
            } else n.Util.log("Malformed pet data.", n.Util.ERROR);
        }, t.prototype.remove = function(t) {
            for (var e = this.data.length; e >= 0; ) e--, this.data[e] === t && this.data.splice(e, 1);
            this.updated = !0;
        }, t.prototype.getPets = function(t) {
            void 0 === t && (t = !1);
            for (var e = [], i = 0; i < this.data.length; i++) t && n.Util.isValid(this.data[i].team) || (this.data[i].ID = n.Util.isValid(this.data[i].ID) ? this.data[i].ID : this.data[i].gameID, 
            e.push(this.data[i]));
            return e;
        }, t.prototype.setPets = function(t) {
            this.data = t;
        }, t.prototype.hasMaxNonMemberPets = function() {
            return this.getPets().length >= 10;
        }, t.prototype.hasPet = function(t) {
            for (var e = 0; e < this.data.length; e++) if (this.data[e].ID === t) return !0;
            return !1;
        }, t.prototype.isFull = function() {
            return this.data.length >= 160;
        }, t.prototype.getNumPets = function() {
            return this.data.length;
        }, t.prototype.reconcilePVPTeam = function() {
            for (var t = this.getTeamSource(), e = 0, i = -1, o = 0; o < t.length; o++) {
                var r = t[o];
                n.Util.isValid(r) && (r === this.player.data ? i = o : n.Util.isValid(r.isPVPTeam) && r.isPVPTeam && e++);
            }
            for (o = t.length - 1; e > a.GameConstants.get("GameConstants.Battle.MAX_NUM_PETS") && o >= 0; o--) {
                r = t[o];
                o !== i && n.Util.isValid(r) && n.Util.isValid(r.isPVPTeam) && r.isPVPTeam && (r.isPVPTeam = !1, 
                e--, this.updated = !0);
            }
            for (o = 0; e < a.GameConstants.get("GameConstants.Battle.MAX_NUM_PETS") && o < t.length; o++) {
                r = t[o];
                o === i || !n.Util.isValid(r) || n.Util.isValid(r.isPVPTeam) && r.isPVPTeam || (r.isPVPTeam = !0, 
                e++, this.updated = !0);
            }
        }, t.prototype.findEmptyTeamIndex = function() {
            var t = [ 0, 1, 2 ];
            n.Util.isValid(this.player.data.team) ? n.Util.removeFromArray(this.player.data.team, t) : n.Util.removeFromArray(0, t);
            for (var e = 0; e < this.data.length; e++) {
                var i = this.data[e].team;
                n.Util.isValid(i) && n.Util.removeFromArray(i, t);
            }
            return t[0];
        }, t.prototype.getTeamSource = function() {
            var t = [];
            n.Util.isValid(this.player.data.team) || (this.player.data.team = 0), 
            t[this.player.data.team] = this.player.data;
            for (var e = 0; e < this.data.length; e++) {
                var i = this.data[e];
                n.Util.isValid(i.team) && (n.Util.isValid(t[i.team]) ? delete i.team : t[i.team] = i);
            }
            if (t.length > 3) {
                t = t.filter(function(t) {
                    return n.Util.isValid(t);
                });
                var a = !1;
                for (e = 0; e < t.length; e++) e <= 2 && t[e] === this.player.data ? (a = !0, 
                this.player.data.team = e) : t[e].team = e, e > 2 && (delete t[e].team, 
                this.updated = !0);
                a || (delete t[2].team, this.player.data.team = 2, t[this.player.data.team] = this.player.data, 
                this.updated = !0);
            }
            return t;
        }, t;
    }();
    e.Kennel = r;
}, function(t, e) {
    var i = "[\\ud800-\\udfff]", a = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", n = "\\ud83c[\\udffb-\\udfff]", o = "[^\\ud800-\\udfff]", r = "(?:\\ud83c[\\udde6-\\uddff]){2}", s = "[\\ud800-\\udbff][\\udc00-\\udfff]", l = "(?:" + a + "|" + n + ")" + "?", h = "[\\ufe0e\\ufe0f]?" + l + ("(?:\\u200d(?:" + [ o, r, s ].join("|") + ")[\\ufe0e\\ufe0f]?" + l + ")*"), c = "(?:" + [ o + a + "?", a, r, s, i ].join("|") + ")", p = RegExp(n + "(?=" + n + ")|" + c + h, "g");
    t.exports = function(t) {
        for (var e = p.lastIndex = 0; p.test(t); ) ++e;
        return e;
    };
}, function(t, e, i) {
    var a = i(271)("length");
    t.exports = a;
}, function(t, e, i) {
    var a = i(898), n = i(145), o = i(897);
    t.exports = function(t) {
        return n(t) ? o(t) : a(t);
    };
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(10), n = i(79), o = i(0), r = function() {
        function t() {
            this.data = {
                bg: {
                    active: 1,
                    own: [ 1 ]
                },
                items: {},
                currentHouseTag: "suburbs"
            }, this.updated = !1;
        }
        return t.prototype.getDataAndClear = function() {
            return this.updated = !1, this.data;
        }, t.prototype.getItems = function() {
            return this.data.items;
        }, t.prototype.setItems = function(t) {
            o.Util.isValid(t) && (o.Util.isValid(t.items) || (t.items = this.data.items), 
            o.Util.isValid(t.bg) || (t.bg = this.data.bg), o.Util.isValid(t.currentHouseTag) || (t.currentHouseTag = this.data.currentHouseTag), 
            this.data = t, o.Util.isValid(this.data.active) || (this.add(17), this.add(3), 
            this.add(18), this.add(18), this.add(14), this.add(1), this.add(13), 
            this.data.active = [], this.setActive(17, 480, 160, 1, 0, 0, 0, 0), 
            this.setActive(3, 400, 160, 1, 0, 0, 0, 0), this.setActive(18, 440, 100, 1, 0, 0, 0, 0), 
            this.setActive(18, 840, 100, 1, 0, 0, 0, 0), this.setActive(14, 880, 240, 1, 0, 0, 0, 0), 
            this.setActive(1, 880, 140, 1, 0, 0, 0, 0), this.setActive(13, 640, 80, 1, 0, 0, 0, 0)));
        }, t.prototype.add = function(t) {
            var e = this.data.items[t];
            o.Util.isValid(e) || (e = this.data.items[t] = {
                N: 0,
                A: []
            }), e.N < 9 && e.N++, this.updated = !0;
        }, t.prototype.getSortedActive = function() {
            var t = [];
            if (!o.Util.isValid(this.data.active)) return t;
            for (var e in this.data.items) for (var i = 0; i < this.data.active.length; i++) {
                var a = this.data.active[i];
                a.ID === parseInt(e) && t.push(a);
            }
            return t.sort(function(t, e) {
                return t.z - e.z;
            }), t;
        }, t.prototype.setAllInactive = function() {
            this.data.active = [], this.updated = !0;
        }, t.prototype.setActive = function(t, e, i, a, n, r, s, l) {
            var h = this.data.items[t];
            if (o.Util.isValid(h) && h.N > this.getActive(t)) {
                var c = {
                    ID: t,
                    x: e,
                    y: i,
                    dx: n,
                    dy: r,
                    z: a,
                    anchorY: s,
                    r: l,
                    stack: []
                };
                return this.data.active.push(c), this.updated = !0, c;
            }
            return null;
        }, t.prototype.updateActive = function(t, e, i, a, n, o, r, s, l) {
            for (var h = 0; h < this.data.active.length; h++) {
                var c = this.data.active[h];
                c === t && (c.ID = e, c.x = i, c.y = a, c.z = n, c.dx = o, c.dy = r, 
                c.anchorY = s, c.r = l);
            }
            this.updated = !0;
        }, t.prototype.setInactive = function(t) {
            o.Util.removeFromArray(t, this.data.active), this.updated = !0;
        }, t.prototype.getCurrentHouseTag = function() {
            return this.data.currentHouseTag;
        }, t.prototype.setCurrentHouseTag = function(t) {
            this.data.currentHouseTag = t, this.updated = !0;
        }, t.prototype.getBackground = function() {
            return o.Util.isValid(this.data.bg.active) ? this.data.bg.active : 1;
        }, t.prototype.getOwned = function(t) {
            return a(this.data.items[t], "N", 0);
        }, t.prototype.getItemCount = function() {
            return n(this.data.items);
        }, t.prototype.getActiveCount = function() {
            return n(this.data.active);
        }, t.prototype.getUnplacedItems = function() {
            var t = [];
            for (var e in this.data.items) {
                var i = this.getActive(parseInt(e));
                i < this.data.items[e].N && t.push({
                    ID: parseInt(e),
                    N: this.data.items[e].N - i
                });
            }
            return t;
        }, t.prototype.getActive = function(t) {
            var e = 0;
            if (o.Util.isValid(this.data.active)) for (var i = 0; i < this.data.active.length; i++) this.data.active[i].ID === t && e++;
            return e;
        }, t;
    }();
    e.House = r;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(101), n = i(10), o = i(0), r = i(4), s = function() {
        function t(t) {
            this.game = null, this.data = {}, this.updated = !1, this.game = t;
        }
        return t.prototype.setFollow = function(t) {
            void 0 === t && (t = null), o.Util.isValid(t) ? this.data.follow = t : delete this.data.follow, 
            this.updated = !0;
        }, t.prototype.getDataAndClear = function() {
            return this.updated = !1, this.data;
        }, t.prototype.getHeartBonuses = function() {
            return this.calculateAffixBonus("hearts");
        }, t.prototype.getDamageBonuses = function() {
            return this.calculateAffixBonus("damage");
        }, t.prototype.setEquipment = function(t) {
            a(t) || (this.data = t);
        }, t.prototype.equip = function(t, e) {
            if (o.Util.isValid(this.data[e]) && this.data[e] === t) return !1;
            this.data[e] = t, this.updated = !0;
            var i = r.Items.getItem(e, t).data;
            return this.game.prodigy.network.sendAdvancedEvent("game_avatar", {
                type: e,
                id: t,
                name: n(i, "name", "")
            }, !0), !0;
        }, t.prototype.unEquip = function(t) {
            return !!o.Util.isValid(this.data[t]) && (delete this.data[t], this.updated = !0, 
            !0);
        }, t.prototype.getEquipment = function(t) {
            if (!o.Util.isValid(this.data[t])) return null;
            var e = parseInt(this.data[t]);
            return e > 0 ? e : null;
        }, t.prototype.getAffixes = function() {
            var t = [];
            for (var e in this.data) {
                var i = r.Items.getItem(e, this.data[e]).data;
                if (o.Util.isValid(i)) {
                    var a = i.effects;
                    o.Util.isValid(a) && a.length > 0 && (t = t.concat(a.slice()));
                }
            }
            return t;
        }, t.prototype.calculateAffixBonus = function(t) {
            for (var e = 0, i = this.getAffixes(), a = 0; a < i.length; a++) {
                var n = r.Items.getItem("affix", i[a]).data;
                n.type === t && (1 === n.opType ? e *= n.value : e += n.value);
            }
            return e;
        }, t;
    }();
    e.Equipment = s;
}, function(t, e, i) {
    var a = i(152);
    t.exports = function(t, e) {
        var i;
        return a(t, function(t, a, n) {
            return !(i = e(t, a, n));
        }), !!i;
    };
}, function(t, e, i) {
    var a = i(282), n = i(53), o = i(902), r = i(19), s = i(66);
    t.exports = function(t, e, i) {
        var l = r(t) ? a : o;
        return i && s(t, e, i) && (e = void 0), l(t, n(e, 3));
    };
}, function(t, e, i) {
    var a = i(69), n = i(45), o = "[object Set]";
    t.exports = function(t) {
        return n(t) && a(t) == o;
    };
}, function(t, e, i) {
    var a = i(904), n = i(84), o = i(158), r = o && o.isSet, s = r ? n(r) : a;
    t.exports = s;
}, function(t, e, i) {
    var a = i(69), n = i(45), o = "[object Map]";
    t.exports = function(t) {
        return n(t) && a(t) == o;
    };
}, function(t, e, i) {
    var a = i(906), n = i(84), o = i(158), r = o && o.isMap, s = r ? n(r) : a;
    t.exports = s;
}, function(t, e, i) {
    var a = i(46), n = Object.create, o = function() {
        function t() {}
        return function(e) {
            if (!a(e)) return {};
            if (n) return n(e);
            t.prototype = e;
            var i = new t();
            return t.prototype = void 0, i;
        };
    }();
    t.exports = o;
}, function(t, e, i) {
    var a = i(70), n = a ? a.prototype : void 0, o = n ? n.valueOf : void 0;
    t.exports = function(t) {
        return o ? Object(o.call(t)) : {};
    };
}, function(t, e) {
    var i = /\w*$/;
    t.exports = function(t) {
        var e = new t.constructor(t.source, i.exec(t));
        return e.lastIndex = t.lastIndex, e;
    };
}, function(t, e, i) {
    var a = i(146);
    t.exports = function(t, e) {
        var i = e ? a(t.buffer) : t.buffer;
        return new t.constructor(i, t.byteOffset, t.byteLength);
    };
}, function(t, e, i) {
    var a = i(146), n = i(911), o = i(910), r = i(909), s = i(259), l = "[object Boolean]", h = "[object Date]", c = "[object Map]", p = "[object Number]", u = "[object RegExp]", d = "[object Set]", g = "[object String]", y = "[object Symbol]", f = "[object ArrayBuffer]", m = "[object DataView]", _ = "[object Float32Array]", v = "[object Float64Array]", E = "[object Int8Array]", b = "[object Int16Array]", O = "[object Int32Array]", T = "[object Uint8Array]", A = "[object Uint8ClampedArray]", I = "[object Uint16Array]", w = "[object Uint32Array]";
    t.exports = function(t, e, i) {
        var C = t.constructor;
        switch (e) {
          case f:
            return a(t);

          case l:
          case h:
            return new C(+t);

          case m:
            return n(t, i);

          case _:
          case v:
          case E:
          case b:
          case O:
          case T:
          case A:
          case I:
          case w:
            return s(t, i);

          case c:
            return new C();

          case p:
          case g:
            return new C(t);

          case u:
            return o(t);

          case d:
            return new C();

          case y:
            return r(t);
        }
    };
}, function(t, e) {
    var i = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        var e = t.length, a = new t.constructor(e);
        return e && "string" == typeof t[0] && i.call(t, "index") && (a.index = t.index, 
        a.input = t.input), a;
    };
}, function(t, e, i) {
    var a = i(278), n = i(260), o = i(80);
    t.exports = function(t) {
        return a(t, o, n);
    };
}, function(t, e, i) {
    var a = i(67), n = i(260);
    t.exports = function(t, e) {
        return a(t, n(t), e);
    };
}, function(t, e, i) {
    var a = i(67), n = i(160);
    t.exports = function(t, e) {
        return a(t, n(t), e);
    };
}, function(t, e) {
    t.exports = function(t) {
        var e = [];
        if (null != t) for (var i in Object(t)) e.push(i);
        return e;
    };
}, function(t, e, i) {
    var a = i(46), n = i(103), o = i(917), r = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        if (!a(t)) return o(t);
        var e = n(t), i = [];
        for (var s in t) ("constructor" != s || !e && r.call(t, s)) && i.push(s);
        return i;
    };
}, function(t, e, i) {
    var a = i(67), n = i(80);
    t.exports = function(t, e) {
        return t && a(e, n(e), t);
    };
}, function(t, e, i) {
    var a = i(67), n = i(58);
    t.exports = function(t, e) {
        return t && a(e, n(e), t);
    };
}, function(t, e) {
    t.exports = function(t, e) {
        for (var i = -1, a = null == t ? 0 : t.length; ++i < a && !1 !== e(t[i], i, t); );
        return t;
    };
}, function(t, e, i) {
    var a = i(111), n = i(921), o = i(263), r = i(920), s = i(919), l = i(261), h = i(100), c = i(916), p = i(915), u = i(279), d = i(914), g = i(69), y = i(913), f = i(912), m = i(258), _ = i(19), v = i(85), E = i(907), b = i(46), O = i(905), T = i(58), A = 1, I = 2, w = 4, C = "[object Arguments]", S = "[object Function]", P = "[object GeneratorFunction]", D = "[object Object]", L = {};
    L[C] = L["[object Array]"] = L["[object ArrayBuffer]"] = L["[object DataView]"] = L["[object Boolean]"] = L["[object Date]"] = L["[object Float32Array]"] = L["[object Float64Array]"] = L["[object Int8Array]"] = L["[object Int16Array]"] = L["[object Int32Array]"] = L["[object Map]"] = L["[object Number]"] = L[D] = L["[object RegExp]"] = L["[object Set]"] = L["[object String]"] = L["[object Symbol]"] = L["[object Uint8Array]"] = L["[object Uint8ClampedArray]"] = L["[object Uint16Array]"] = L["[object Uint32Array]"] = !0, 
    L["[object Error]"] = L[S] = L["[object WeakMap]"] = !1, t.exports = function t(e, i, x, M, N, U) {
        var k, R = i & A, B = i & I, G = i & w;
        if (x && (k = N ? x(e, M, N, U) : x(e)), void 0 !== k) return k;
        if (!b(e)) return e;
        var V = _(e);
        if (V) {
            if (k = y(e), !R) return h(e, k);
        } else {
            var H = g(e), F = H == S || H == P;
            if (v(e)) return l(e, R);
            if (H == D || H == C || F && !N) {
                if (k = B || F ? {} : m(e), !R) return B ? p(e, s(k, e)) : c(e, r(k, e));
            } else {
                if (!L[H]) return N ? e : {};
                k = f(e, H, R);
            }
        }
        U || (U = new a());
        var j = U.get(e);
        if (j) return j;
        if (U.set(e, k), O(e)) return e.forEach(function(a) {
            k.add(t(a, i, x, a, e, U));
        }), k;
        if (E(e)) return e.forEach(function(a, n) {
            k.set(n, t(a, i, x, n, e, U));
        }), k;
        var z = G ? B ? d : u : B ? keysIn : T, W = V ? void 0 : z(e);
        return n(W || e, function(a, n) {
            W && (a = e[n = a]), o(k, n, t(a, i, x, n, e, U));
        }), k;
    };
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(0), n = i(4), o = function() {
        function t() {
            this.data = null, this.updated = !1, this.data = {
                hat: [],
                boots: [],
                weapon: [],
                outfit: [],
                item: [],
                fossil: [],
                key: [],
                relic: [],
                currency: [],
                follow: [],
                mount: []
            };
        }
        return t.prototype.getDataAndClear = function() {
            return this.updated = !1, this.data;
        }, t.prototype.unlockAllItems = function() {
            for (var t in this.data) for (var e = this.data[t], i = 0; i < e.length; i++) {
                var n = e[i];
                a.Util.isValid(n.L) && (delete n.L, this.updated = !0);
            }
        }, t.prototype.setItems = function(t) {
            this.data = t, a.Util.cleanUpGameID(this.data);
        }, t.prototype.getTotalUnique = function() {
            var t = 0;
            for (var e in this.data) t += this.data[e].length;
            return t;
        }, t.prototype.setKeyItemData = function(t, e, i) {
            if (a.Util.isValid(this.data.key)) {
                for (var n = 0; n < this.data.key.length; n++) {
                    var o = this.data.key[n];
                    o.ID === t && (o[e] = i);
                }
                this.updated = !0;
            }
        }, t.prototype.getKeyItemData = function(t, e) {
            if (a.Util.isValid(this.data.key)) for (var i = 0; i < this.data.key.length; i++) {
                var n = this.data.key[i];
                if (n.ID === t) return n[e];
            }
            return null;
        }, t.prototype.setItemData = function(t, e, i) {
            if (a.Util.isValid(this.data.item)) {
                for (var n = 0; n < this.data.item.length; n++) {
                    var o = this.data.item[n];
                    o.ID === t && (o[e] = i);
                }
                this.updated = !0;
            }
        }, t.prototype.getItemData = function(t, e) {
            if (a.Util.isValid(this.data.item)) for (var i = 0; i < this.data.item.length; i++) {
                var n = this.data.item[i];
                if (n.ID === t) return n[e];
            }
            return null;
        }, t.prototype.getItem = function(t, e) {
            var i = this.data[t];
            if (a.Util.isValid(i)) for (var n = 0; n < i.length; n++) {
                var o = i[n];
                if (o.ID === e) return o;
            }
            return null;
        }, t.prototype.hasItem = function(t, e) {
            if (a.Util.isValid(t) && a.Util.isValid(this.data) && a.Util.isValid(this.data[t])) for (var i = 0; i < this.data[t].length; i++) {
                var n = this.data[t][i];
                if (n.ID === e) {
                    var o = 1;
                    return a.Util.isValid(n.N) && (o = n.N), o;
                }
            }
            return 0;
        }, t.prototype.hasItems = function(t) {
            for (var e = 0, i = 0; i < t.length; i++) {
                var a = t[i];
                this.hasItem(a.type, a.ID) > 0 && e++;
            }
            return e;
        }, t.prototype.addKeyItem = function(t, e, i) {
            a.Util.isValid(this.data.key) || (this.data.key = []);
            for (var n = this.data.key, o = 0; o < n.length; o++) {
                var r = n[o];
                if (r.ID === t && r.lvl < e) return r.lvl = e, void (this.updated = !0);
            }
            var s = {
                ID: t
            };
            s.lvl = e, a.Util.isValid(i) && a.Util.isValid(i.seed) && (s.seed = i.seed), 
            n.push(s), this.updated = !0;
        }, t.prototype.addBountyNote = function(t, e, i) {
            a.Util.isValid(this.data[t]) || (this.data[t] = []);
            var n = {
                ID: e,
                N: 1
            };
            a.Util.isValid(i) && (n.seed = i), this.data[t].push(n), this.updated = !0;
        }, t.prototype.add = function(t, e, i, n) {
            if (void 0 === i && (i = !1), void 0 === n && (n = 1), a.Util.isValid(this.data[t]) || (this.data[t] = []), 
            "key" !== t) {
                var o = this.getItem(t, e);
                if (a.Util.isValid(o) && o.ID === e) return a.Util.isValid(o.N) ? o.N += n : o.N = n + 1, 
                o.N > 99 && "currency" !== t && (o.N = 99), void (this.updated = !0);
                var r = {
                    ID: e
                };
                n > 1 && (r.N = n), i && (r.L = 1), this.data[t].push(r), this.updated = !0;
            } else this.addKeyItem(e, 0);
        }, t.prototype.consume = function(t, e, i) {
            if (void 0 === i && (i = 1), a.Util.isValid(t)) {
                var n = this.getItem(t, e);
                if (a.Util.isValid(n)) {
                    var o = this.data[t];
                    if (n.ID === e) return a.Util.isValid(n.N) ? (n.N -= i, 1 === n.N ? delete n.N : n.N <= 0 && o.splice(o.indexOf(n), 1)) : o.splice(o.indexOf(n), 1), 
                    void (this.updated = !0);
                }
            }
        }, t.prototype.consumeLegacyBounties = function() {
            this.consume("key", 5, 1), this.consume("key", 6, 1), this.consume("key", 7, 1);
        }, t.prototype.getBackpackItemsByType = function(t) {
            var e = this.data[t];
            return a.Util.isValid(e) ? e.slice() : [];
        }, t.prototype.getItemCount = function(t) {
            for (var e = 0, i = 0; i < t.length; i++) e += this.getBackpackItemsByType(t[i]).length;
            return e;
        }, t.prototype.canCraft = function(t, e) {
            var i = n.Items.getItem(t, e);
            if (!a.Util.isValid(i.data.recipe)) return !1;
            for (var o = 0; o < i.data.recipe.length; o++) {
                var r = i.data.recipe[o];
                if (this.hasItem(r.type, r.ID) < r.N) return !1;
            }
            return !0;
        }, t.prototype.craft = function(t, e) {
            if (this.canCraft(t, e)) {
                for (var i = n.Items.getItem(t, e), a = 0; a < i.data.recipe.length; a++) {
                    var o = i.data.recipe[a];
                    this.consume(o.type, o.ID, o.N);
                }
                this.add(t, e), this.updated = !0;
            }
        }, t;
    }();
    e.Backpack = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(101), n = i(10), o = i(0), r = function() {
        function t() {
            this.updated = !1, this.data = {
                progress: {}
            };
        }
        return t.prototype.init = function(t) {
            a(t) || (this.data = t);
        }, t.prototype.getDataAndClear = function() {
            return this.updated = !1, this.data;
        }, t.prototype.set = function(t, e) {
            this.data[t] = e, this.updated = !0;
        }, t.prototype.get = function(t) {
            return this.data[t];
        }, t.prototype.increment = function(t, e) {
            var i = this.get(t);
            this.set(t, e + (o.Util.isValid(i) ? i : 0));
        }, t.prototype.getProgress = function(t) {
            return n(this.data.progress, "" + t, 0);
        }, t.prototype.complete = function(t) {
            o.Util.isValid(this.data.progress) || (this.data.progress = []), o.Util.isValid(this.data.progress[t]) ? this.data.progress[t]++ : this.data.progress[t] = 1, 
            this.updated = !0;
        }, t;
    }();
    e.Achievements = r;
}, function(t, e, i) {
    var a = i(88);
    t.exports = function(t, e) {
        return a(e, function(e) {
            return t[e];
        });
    };
}, function(t, e, i) {
    var a = i(46), n = i(68), o = NaN, r = /^\s+|\s+$/g, s = /^[-+]0x[0-9a-f]+$/i, l = /^0b[01]+$/i, h = /^0o[0-7]+$/i, c = parseInt;
    t.exports = function(t) {
        if ("number" == typeof t) return t;
        if (n(t)) return o;
        if (a(t)) {
            var e = "function" == typeof t.valueOf ? t.valueOf() : t;
            t = a(e) ? e + "" : e;
        }
        if ("string" != typeof t) return 0 === t ? t : +t;
        t = t.replace(r, "");
        var i = l.test(t);
        return i || h.test(t) ? c(t.slice(2), i ? 2 : 8) : s.test(t) ? o : +t;
    };
}, function(t, e) {
    t.exports = function(t, e, i) {
        for (var a = i - 1, n = t.length; ++a < n; ) if (t[a] === e) return a;
        return -1;
    };
}, function(t, e) {
    t.exports = function(t) {
        return t != t;
    };
}, function(t, e, i) {
    var a = i(44);
    t.exports = function(t, e) {
        return function(i, n) {
            if (null == i) return i;
            if (!a(i)) return t(i, n);
            for (var o = i.length, r = e ? o : -1, s = Object(i); (e ? r-- : ++r < o) && !1 !== n(s[r], r, s); );
            return i;
        };
    };
}, function(t, e) {
    t.exports = function(t) {
        return function(e, i, a) {
            for (var n = -1, o = Object(e), r = a(e), s = r.length; s--; ) {
                var l = r[t ? s : ++n];
                if (!1 === i(o[l], l, o)) break;
            }
            return e;
        };
    };
}, function(t, e, i) {
    var a = i(156);
    t.exports = function(t) {
        return function(e) {
            return a(e, t);
        };
    };
}, function(t, e, i) {
    var a = i(271), n = i(931), o = i(154), r = i(83);
    t.exports = function(t) {
        return o(t) ? a(r(t)) : n(t);
    };
}, function(t, e, i) {
    var a = i(155), n = i(86), o = i(19), r = i(105), s = i(159), l = i(83);
    t.exports = function(t, e, i) {
        for (var h = -1, c = (e = a(e, t)).length, p = !1; ++h < c; ) {
            var u = l(e[h]);
            if (!(p = null != t && i(t, u))) break;
            t = t[u];
        }
        return p || ++h != c ? p : !!(c = null == t ? 0 : t.length) && s(c) && r(u, c) && (o(t) || n(t));
    };
}, function(t, e) {
    t.exports = function(t, e) {
        return null != t && e in Object(t);
    };
}, function(t, e, i) {
    var a = i(934), n = i(933);
    t.exports = function(t, e) {
        return null != t && n(t, e, a);
    };
}, function(t, e, i) {
    var a = i(70), n = i(88), o = i(19), r = i(68), s = 1 / 0, l = a ? a.prototype : void 0, h = l ? l.toString : void 0;
    t.exports = function t(e) {
        if ("string" == typeof e) return e;
        if (o(e)) return n(e, t) + "";
        if (r(e)) return h ? h.call(e) : "";
        var i = e + "";
        return "0" == i && 1 / e == -s ? "-0" : i;
    };
}, function(t, e, i) {
    var a = i(163), n = "Expected a function";
    function o(t, e) {
        if ("function" != typeof t || null != e && "function" != typeof e) throw new TypeError(n);
        var i = function() {
            var a = arguments, n = e ? e.apply(this, a) : a[0], o = i.cache;
            if (o.has(n)) return o.get(n);
            var r = t.apply(this, a);
            return i.cache = o.set(n, r) || o, r;
        };
        return i.cache = new (o.Cache || a)(), i;
    }
    o.Cache = a, t.exports = o;
}, function(t, e, i) {
    var a = i(937), n = 500;
    t.exports = function(t) {
        var e = a(t, function(t) {
            return i.size === n && i.clear(), t;
        }), i = e.cache;
        return e;
    };
}, function(t, e, i) {
    var a = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, n = /\\(\\)?/g, o = i(938)(function(t) {
        var e = [];
        return 46 === t.charCodeAt(0) && e.push(""), t.replace(a, function(t, i, a, o) {
            e.push(a ? o.replace(n, "$1") : i || t);
        }), e;
    });
    t.exports = o;
}, function(t, e, i) {
    var a = i(162), n = i(10), o = i(935), r = i(154), s = i(273), l = i(272), h = i(83), c = 1, p = 2;
    t.exports = function(t, e) {
        return r(t) && s(e) ? l(h(t), e) : function(i) {
            var r = n(i, t);
            return void 0 === r && r === e ? o(i, t) : a(e, r, c | p);
        };
    };
}, function(t, e, i) {
    var a = i(273), n = i(58);
    t.exports = function(t) {
        for (var e = n(t), i = e.length; i--; ) {
            var o = e[i], r = t[o];
            e[i] = [ o, r, a(r) ];
        }
        return e;
    };
}, function(t, e, i) {
    var a = i(60)(i(47), "WeakMap");
    t.exports = a;
}, function(t, e, i) {
    var a = i(60)(i(47), "Set");
    t.exports = a;
}, function(t, e, i) {
    var a = i(60)(i(47), "Promise");
    t.exports = a;
}, function(t, e, i) {
    var a = i(60)(i(47), "DataView");
    t.exports = a;
}, function(t, e, i) {
    var a = i(274)(Object.keys, Object);
    t.exports = a;
}, function(t, e, i) {
    var a = i(59), n = i(159), o = i(45), r = {};
    r["[object Float32Array]"] = r["[object Float64Array]"] = r["[object Int8Array]"] = r["[object Int16Array]"] = r["[object Int32Array]"] = r["[object Uint8Array]"] = r["[object Uint8ClampedArray]"] = r["[object Uint16Array]"] = r["[object Uint32Array]"] = !0, 
    r["[object Arguments]"] = r["[object Array]"] = r["[object ArrayBuffer]"] = r["[object Boolean]"] = r["[object DataView]"] = r["[object Date]"] = r["[object Error]"] = r["[object Function]"] = r["[object Map]"] = r["[object Number]"] = r["[object Object]"] = r["[object RegExp]"] = r["[object Set]"] = r["[object String]"] = r["[object WeakMap]"] = !1, 
    t.exports = function(t) {
        return o(t) && n(t.length) && !!r[a(t)];
    };
}, function(t, e) {
    t.exports = function() {
        return !1;
    };
}, function(t, e, i) {
    var a = i(59), n = i(45), o = "[object Arguments]";
    t.exports = function(t) {
        return n(t) && a(t) == o;
    };
}, function(t, e) {
    t.exports = function(t, e) {
        for (var i = -1, a = Array(t); ++i < t; ) a[i] = e(i);
        return a;
    };
}, function(t, e, i) {
    var a = i(279), n = 1, o = Object.prototype.hasOwnProperty;
    t.exports = function(t, e, i, r, s, l) {
        var h = i & n, c = a(t), p = c.length;
        if (p != a(e).length && !h) return !1;
        for (var u = p; u--; ) {
            var d = c[u];
            if (!(h ? d in e : o.call(e, d))) return !1;
        }
        var g = l.get(t);
        if (g && l.get(e)) return g == e;
        var y = !0;
        l.set(t, e), l.set(e, t);
        for (var f = h; ++u < p; ) {
            var m = t[d = c[u]], _ = e[d];
            if (r) var v = h ? r(_, m, d, e, t, l) : r(m, _, d, t, e, l);
            if (!(void 0 === v ? m === _ || s(m, _, i, r, l) : v)) {
                y = !1;
                break;
            }
            f || (f = "constructor" == d);
        }
        if (y && !f) {
            var E = t.constructor, b = e.constructor;
            E != b && "constructor" in t && "constructor" in e && !("function" == typeof E && E instanceof E && "function" == typeof b && b instanceof b) && (y = !1);
        }
        return l.delete(t), l.delete(e), y;
    };
}, function(t, e) {
    t.exports = function(t) {
        var e = -1, i = Array(t.size);
        return t.forEach(function(t) {
            i[++e] = t;
        }), i;
    };
}, function(t, e) {
    t.exports = function(t) {
        var e = -1, i = Array(t.size);
        return t.forEach(function(t, a) {
            i[++e] = [ a, t ];
        }), i;
    };
}, function(t, e, i) {
    var a = i(70), n = i(280), o = i(87), r = i(284), s = i(953), l = i(952), h = 1, c = 2, p = "[object Boolean]", u = "[object Date]", d = "[object Error]", g = "[object Map]", y = "[object Number]", f = "[object RegExp]", m = "[object Set]", _ = "[object String]", v = "[object Symbol]", E = "[object ArrayBuffer]", b = "[object DataView]", O = a ? a.prototype : void 0, T = O ? O.valueOf : void 0;
    t.exports = function(t, e, i, a, O, A, I) {
        switch (i) {
          case b:
            if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1;
            t = t.buffer, e = e.buffer;

          case E:
            return !(t.byteLength != e.byteLength || !A(new n(t), new n(e)));

          case p:
          case u:
          case y:
            return o(+t, +e);

          case d:
            return t.name == e.name && t.message == e.message;

          case f:
          case _:
            return t == e + "";

          case g:
            var w = s;

          case m:
            var C = a & h;
            if (w || (w = l), t.size != e.size && !C) return !1;
            var S = I.get(t);
            if (S) return S == e;
            a |= c, I.set(t, e);
            var P = r(w(t), w(e), a, O, A, I);
            return I.delete(t), P;

          case v:
            if (T) return T.call(t) == T.call(e);
        }
        return !1;
    };
}, function(t, e) {
    t.exports = function(t) {
        return this.__data__.has(t);
    };
}, function(t, e) {
    var i = "__lodash_hash_undefined__";
    t.exports = function(t) {
        return this.__data__.set(t, i), this;
    };
}, function(t, e, i) {
    var a = i(111), n = i(284), o = i(954), r = i(951), s = i(69), l = i(19), h = i(85), c = i(104), p = 1, u = "[object Arguments]", d = "[object Array]", g = "[object Object]", y = Object.prototype.hasOwnProperty;
    t.exports = function(t, e, i, f, m, _) {
        var v = l(t), E = l(e), b = v ? d : s(t), O = E ? d : s(e), T = (b = b == u ? g : b) == g, A = (O = O == u ? g : O) == g, I = b == O;
        if (I && h(t)) {
            if (!h(e)) return !1;
            v = !0, T = !1;
        }
        if (I && !T) return _ || (_ = new a()), v || c(t) ? n(t, e, i, f, m, _) : o(t, e, b, i, f, m, _);
        if (!(i & p)) {
            var w = T && y.call(t, "__wrapped__"), C = A && y.call(e, "__wrapped__");
            if (w || C) {
                var S = w ? t.value() : t, P = C ? e.value() : e;
                return _ || (_ = new a()), m(S, P, i, f, _);
            }
        }
        return !!I && (_ || (_ = new a()), r(t, e, i, f, m, _));
    };
}, function(t, e, i) {
    var a = i(107);
    t.exports = function(t, e) {
        var i = a(this, t), n = i.size;
        return i.set(t, e), this.size += i.size == n ? 0 : 1, this;
    };
}, function(t, e, i) {
    var a = i(107);
    t.exports = function(t) {
        return a(this, t).has(t);
    };
}, function(t, e, i) {
    var a = i(107);
    t.exports = function(t) {
        return a(this, t).get(t);
    };
}, function(t, e) {
    t.exports = function(t) {
        var e = typeof t;
        return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t;
    };
}, function(t, e, i) {
    var a = i(107);
    t.exports = function(t) {
        var e = a(this, t).delete(t);
        return this.size -= e ? 1 : 0, e;
    };
}, function(t, e, i) {
    var a = i(108), n = "__lodash_hash_undefined__";
    t.exports = function(t, e) {
        var i = this.__data__;
        return this.size += this.has(t) ? 0 : 1, i[t] = a && void 0 === e ? n : e, 
        this;
    };
}, function(t, e, i) {
    var a = i(108), n = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        var e = this.__data__;
        return a ? void 0 !== e[t] : n.call(e, t);
    };
}, function(t, e, i) {
    var a = i(108), n = "__lodash_hash_undefined__", o = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        var e = this.__data__;
        if (a) {
            var i = e[t];
            return i === n ? void 0 : i;
        }
        return o.call(e, t) ? e[t] : void 0;
    };
}, function(t, e) {
    t.exports = function(t) {
        var e = this.has(t) && delete this.__data__[t];
        return this.size -= e ? 1 : 0, e;
    };
}, function(t, e, i) {
    var a = i(108);
    t.exports = function() {
        this.__data__ = a ? a(null) : {}, this.size = 0;
    };
}, function(t, e, i) {
    var a = i(967), n = i(966), o = i(965), r = i(964), s = i(963);
    function l(t) {
        var e = -1, i = null == t ? 0 : t.length;
        for (this.clear(); ++e < i; ) {
            var a = t[e];
            this.set(a[0], a[1]);
        }
    }
    l.prototype.clear = a, l.prototype.delete = n, l.prototype.get = o, l.prototype.has = r, 
    l.prototype.set = s, t.exports = l;
}, function(t, e, i) {
    var a = i(968), n = i(110), o = i(165);
    t.exports = function() {
        this.size = 0, this.__data__ = {
            hash: new a(),
            map: new (o || n)(),
            string: new a()
        };
    };
}, function(t, e) {
    t.exports = function(t, e) {
        return null == t ? void 0 : t[e];
    };
}, function(t, e, i) {
    var a = i(47)["__core-js_shared__"];
    t.exports = a;
}, function(t, e, i) {
    var a, n = i(971), o = (a = /[^.]+$/.exec(n && n.keys && n.keys.IE_PROTO || "")) ? "Symbol(src)_1." + a : "";
    t.exports = function(t) {
        return !!o && o in t;
    };
}, function(t, e) {
    var i = Object.prototype.toString;
    t.exports = function(t) {
        return i.call(t);
    };
}, function(t, e, i) {
    var a = i(70), n = Object.prototype, o = n.hasOwnProperty, r = n.toString, s = a ? a.toStringTag : void 0;
    t.exports = function(t) {
        var e = o.call(t, s), i = t[s];
        try {
            t[s] = void 0;
            var a = !0;
        } catch (t) {}
        var n = r.call(t);
        return a && (e ? t[s] = i : delete t[s]), n;
    };
}, function(t, e, i) {
    var a = i(164), n = i(972), o = i(46), r = i(285), s = /^\[object .+?Constructor\]$/, l = Function.prototype, h = Object.prototype, c = l.toString, p = h.hasOwnProperty, u = RegExp("^" + c.call(p).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
    t.exports = function(t) {
        return !(!o(t) || n(t)) && (a(t) ? u : s).test(r(t));
    };
}, function(t, e, i) {
    var a = i(110), n = i(165), o = i(163), r = 200;
    t.exports = function(t, e) {
        var i = this.__data__;
        if (i instanceof a) {
            var s = i.__data__;
            if (!n || s.length < r - 1) return s.push([ t, e ]), this.size = ++i.size, 
            this;
            i = this.__data__ = new o(s);
        }
        return i.set(t, e), this.size = i.size, this;
    };
}, function(t, e) {
    t.exports = function(t) {
        return this.__data__.has(t);
    };
}, function(t, e) {
    t.exports = function(t) {
        return this.__data__.get(t);
    };
}, function(t, e) {
    t.exports = function(t) {
        var e = this.__data__, i = e.delete(t);
        return this.size = e.size, i;
    };
}, function(t, e, i) {
    var a = i(110);
    t.exports = function() {
        this.__data__ = new a(), this.size = 0;
    };
}, function(t, e, i) {
    var a = i(109);
    t.exports = function(t, e) {
        var i = this.__data__, n = a(i, t);
        return n < 0 ? (++this.size, i.push([ t, e ])) : i[n][1] = e, this;
    };
}, function(t, e, i) {
    var a = i(109);
    t.exports = function(t) {
        return a(this.__data__, t) > -1;
    };
}, function(t, e, i) {
    var a = i(109);
    t.exports = function(t) {
        var e = this.__data__, i = a(e, t);
        return i < 0 ? void 0 : e[i][1];
    };
}, function(t, e, i) {
    var a = i(109), n = Array.prototype.splice;
    t.exports = function(t) {
        var e = this.__data__, i = a(e, t);
        return !(i < 0 || (i == e.length - 1 ? e.pop() : n.call(e, i, 1), --this.size, 
        0));
    };
}, function(t, e) {
    t.exports = function() {
        this.__data__ = [], this.size = 0;
    };
}, function(t, e, i) {
    var a = i(111), n = i(162), o = 1, r = 2;
    t.exports = function(t, e, i, s) {
        var l = i.length, h = l, c = !s;
        if (null == t) return !h;
        for (t = Object(t); l--; ) {
            var p = i[l];
            if (c && p[2] ? p[1] !== t[p[0]] : !(p[0] in t)) return !1;
        }
        for (;++l < h; ) {
            var u = (p = i[l])[0], d = t[u], g = p[1];
            if (c && p[2]) {
                if (void 0 === d && !(u in t)) return !1;
            } else {
                var y = new a();
                if (s) var f = s(d, g, u, t, e, y);
                if (!(void 0 === f ? n(g, d, o | r, s, y) : f)) return !1;
            }
        }
        return !0;
    };
}, function(t, e, i) {
    var a = i(986), n = i(941), o = i(272);
    t.exports = function(t) {
        var e = n(t);
        return 1 == e.length && e[0][2] ? o(e[0][0], e[0][1]) : function(i) {
            return i === t || a(i, t, e);
        };
    };
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = i(0), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "zone", "state" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone")), i = null;
            if (e) {
                var a = e.getState(this.findParameter("state"));
                s.Util.isValid(a) && (i = a);
            }
            this.finish({
                result: i
            });
        }, e = o([ r.actionable("GetZoneState") ], e);
    }(r.Action);
    e.GetZoneStateAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "zone" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone")), i = 0;
            e && (i = e.getState("daily").rewards), this.finish({
                result: i
            });
        }, e = o([ r.actionable("GetDailyRewardCount") ], e);
    }(r.Action);
    e.GetDailyRewardCountAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "creature" ]);
        }, e.prototype.execute = function() {
            var t = this.findParameter("creature");
            t && t.flip(), this.finish();
        }, e = o([ r.actionable("FlipCreature") ], e);
    }(r.Action);
    e.FlipCreatureAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "x", "y", "w", "h", "time" ], {
                wait: !0,
                randomize: !1
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game"), i = this.findParameter("x"), a = this.findParameter("y"), n = this.findParameter("w"), o = this.findParameter("h"), r = this.findParameter("time"), s = this.findParameter("randomize");
            this.findParameter("wait") ? e.prodigy.effects.explode(i, a, n, o, r, this.finish.bind(this), s) : (e.prodigy.effects.explode(i, a, n, o, r, null, s), 
            this.finish());
        }, e = o([ r.actionable("Explode") ], e);
    }(r.Action);
    e.ExplodeAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "enable" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this), this.findParameter("game").prodigy.player.saveEnabled = this.findParameter("enable"), 
            this.finish();
        }, e = o([ r.actionable("EnableSave") ], e);
    }(r.Action);
    e.EnableSaveAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "parent", "x", "y", "source" ], {
                frame: null,
                width: null,
                height: null,
                alpha: 1,
                inputEnabled: !1
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game"), i = this.findParameter("parent"), a = null;
            i && ((a = e.prodigy.create.sprite(this.findParameter("x"), this.findParameter("y"), this.findParameter("source"), this.findParameter("frame"), null, null, this.findParameter("width"), this.findParameter("height"))).alpha = this.findParameter("alpha"), 
            a.inputEnabled = this.findParameter("inputEnabled"), i.add(a)), this.finish({
                sprite: a
            });
        }, e = o([ r.actionable("CreateSprite") ], e);
    }(r.Action);
    e.CreateSpriteAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "parent", "type", "ID", "x", "y" ], {
                anchor: null
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game"), i = this.findParameter("parent"), a = null;
            i && (a = e.prodigy.icon.createIcon(this.findParameter("x"), this.findParameter("y"), "icon-" + this.findParameter("type") + "-" + this.findParameter("ID"), this.findParameter("anchor")), 
            i.add(a)), this.finish({
                icon: a
            });
        }, e = o([ r.actionable("CreateIcon") ], e);
    }(r.Action);
    e.CreateIconAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "parent", "x", "y" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game"), i = this.findParameter("parent"), a = null;
            i && (a = e.prodigy.create.element(i, this.findParameter("x"), this.findParameter("y"))), 
            this.finish({
                element: a
            });
        }, e = o([ r.actionable("CreateElement") ], e);
    }(r.Action);
    e.CreateElementAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "creature", "ID" ], {
                height: 100,
                dontHide: !1
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("creature");
            if (e) {
                var i = this.findParameter("ID"), a = this.findParameter("height"), n = this.findParameter("dontHide");
                e.chat(i, a, n);
            }
            this.finish();
        }, e = o([ r.actionable("CreateChatBubble") ], e);
    }(r.Action);
    e.CreateChatBubbleAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "type", "ID" ], {
                amount: 1
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this), this.findParameter("game").prodigy.player.backpack.consume(this.findParameter("type"), this.findParameter("ID"), this.findParameter("amount")), 
            this.finish();
        }, e = o([ r.actionable("ConsumeItem") ], e);
    }(r.Action);
    e.ConsumeItemAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "zone", "quest", "sequence" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone"));
            e && e.completeSequence(this.findParameter("quest"), this.findParameter("sequence")), 
            this.finish();
        }, e = o([ r.actionable("CompleteSequence") ], e);
    }(r.Action);
    e.CompleteSequenceAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "zone", "quest" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone"));
            e && e.completeQuest(this.findParameter("quest")), this.finish();
        }, e = o([ r.actionable("CompleteQuest") ], e);
    }(r.Action);
    e.CompleteQuestAction = s;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(33), s = i(35), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "target", "event" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("target");
            if (e && e.hasOwnProperty("events")) {
                var i = e.events[this.findParameter("event")];
                if (i) return void i.addOnce(this.finish, this);
            }
            this.finish();
        }, e = o([ s.actionable("WaitForEvent") ], e);
    }(r.Action);
    e.WaitForEventAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(33), s = i(35), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "time" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game"), i = this.findParameter("time");
            e.time.events.add(1e3 * i, this.finish, this);
        }, e = o([ s.actionable("Wait") ], e);
    }(r.Action);
    e.WaitAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(33), s = i(35), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "target", "to" ], {
                loop: !1,
                wait: !1
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("target");
            if (e) {
                for (var i = this.findParameter("game"), a = this.findParameter("to"), n = this.findParameter("loop"), o = this.findParameter("wait"), r = i.add.tween(e), s = 0; s < a.length; s++) {
                    var l = a[s];
                    r.to(l.properties, 1e3 * l.duration, l.ease, !1, l.delay, l.repeat, l.yoyo);
                }
                n && r.loop(), o ? (r.onComplete.add(this.finish.bind(this)), r.start()) : (r.start(), 
                this.finish());
            } else this.finish();
        }, e = o([ s.actionable("Tween") ], e);
    }(r.Action);
    e.TweenAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(33), s = i(35), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "target", "visible" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("target"), i = this.findParameter("visible");
            e && e.hasOwnProperty("visible") && (e.visible = i), this.finish();
        }, e = o([ s.actionable("SetVisible") ], e);
    }(r.Action);
    e.SetVisibleAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(33), s = i(35), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            var e = [];
            for (var i in this.data.Parameters) e.push(i);
            return t.prototype.validate.call(this) && this.validateParameters(e);
        }, e.prototype.execute = function() {
            for (var e in t.prototype.execute.call(this), this.Parameters) this.Variables[e] = this.findParameter(e);
            this.finish();
        }, e = o([ s.actionable("SetVariables") ], e);
    }(r.Action);
    e.SetVariablesAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(33), s = i(35), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "name", "value" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("name");
            this.Variables[e] = this.findParameter("value"), this.finish();
        }, e = o([ s.actionable("SetVariable") ], e);
    }(r.Action);
    e.SetVariableAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(33), s = i(35), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "target", "alpha" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("target"), i = this.findParameter("alpha");
            e && e.hasOwnProperty("alpha") && (e.alpha = i), this.finish();
        }, e = o([ s.actionable("SetAlpha") ], e);
    }(r.Action);
    e.SetAlphaAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(33), s = i(35), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "controller", "service", "ID" ], {
                variables: {},
                wait: !0
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("controller"), i = this.findParameter("service"), a = this.findParameter("ID"), n = this.findParameter("variables");
            this.findParameter("wait") ? e.execute(i.getStateMachine(a), n, this.finish.bind(this)) : (e.execute(i.getStateMachine(a), n), 
            this.finish());
        }, e = o([ s.actionable("ExecuteStateMachine") ], e);
    }(r.Action);
    e.ExecuteStateMachineAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(33), s = i(35), l = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.functionResults = null, e;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "context", "function" ], {
                arguments: [],
                wait: !1
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("context");
            if (e) {
                var i = this.findParameter("function"), a = this.findParameter("arguments");
                this.findParameter("wait") ? (a.push(this.handleCallback.bind(this)), 
                this.functionResults = e[i].apply(e, a)) : (this.functionResults = e[i].apply(e, a), 
                this.finish());
            }
        }, e.prototype.handleCallback = function() {
            this.finish(this.functionResults);
        }, e = o([ s.actionable("ExecuteFunction") ], e);
    }(r.Action);
    e.ExecuteFunctionAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(33), s = i(35), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "enable", "game" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game"), i = this.findParameter("enable");
            if (e.input.enabled = i, !i) for (var a = 0; a < e.input.pointers.length; a++) e.input.pointers[a].active = !1;
            this.finish();
        }, e = o([ s.actionable("EnableInput") ], e);
    }(r.Action);
    e.EnableInputAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(33), s = i(35), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "name", "value" ]);
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("name"), i = this.findParameter("value");
            this.Variables.hasOwnProperty(e) ? this.Variables[e] += i : this.Variables[e] = i, 
            this.finish();
        }, e = o([ s.actionable("AddVariable") ], e);
    }(r.Action);
    e.AddVariableAction = l;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.state = null, e.conditions = [], e;
        }
        return n(e, t), Object.defineProperty(e.prototype, "State", {
            get: function() {
                return this.state;
            },
            set: function(t) {
                this.state = t;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "Conditions", {
            get: function() {
                return this.conditions;
            },
            set: function(t) {
                this.conditions = t;
            },
            enumerable: !0,
            configurable: !0
        }), e;
    }(i(89).BaseData);
    e.TransitionData = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.version = null, e;
        }
        return n(e, t), Object.defineProperty(e.prototype, "Version", {
            get: function() {
                return this.version;
            },
            set: function(t) {
                this.version = t;
            },
            enumerable: !0,
            configurable: !0
        }), e;
    }(i(89).BaseData);
    e.VersionedData = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.states = [], e;
        }
        return n(e, t), Object.defineProperty(e.prototype, "States", {
            get: function() {
                return this.states;
            },
            set: function(t) {
                this.states = t;
            },
            enumerable: !0,
            configurable: !0
        }), e;
    }(i(1012).VersionedData);
    e.StateMachineData = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.name = null, e.actions = [], e.transitions = [], e;
        }
        return n(e, t), Object.defineProperty(e.prototype, "Name", {
            get: function() {
                return this.name;
            },
            set: function(t) {
                this.name = t;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "Actions", {
            get: function() {
                return this.actions;
            },
            set: function(t) {
                this.actions = t;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "Transitions", {
            get: function() {
                return this.transitions;
            },
            set: function(t) {
                this.transitions = t;
            },
            enumerable: !0,
            configurable: !0
        }), e;
    }(i(89).BaseData);
    e.StateData = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.type = null, e.value = {}, e.test = {}, e;
        }
        return n(e, t), Object.defineProperty(e.prototype, "Type", {
            get: function() {
                return this.type;
            },
            set: function(t) {
                this.type = t;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "Value", {
            get: function() {
                return this.value;
            },
            set: function(t) {
                this.value = t;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "Test", {
            get: function() {
                return this.test;
            },
            set: function(t) {
                this.test = t;
            },
            enumerable: !0,
            configurable: !0
        }), e;
    }(i(89).BaseData);
    e.ConditionData = o;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(11), o = function() {
        function t() {}
        return e = t, t.prototype.deserializeCollection = function(t) {
            return e.deserializeCollection(t, this.deserialize);
        }, t.prototype.serializeCollection = function(t) {
            return e.serializeCollection(t, this.serialize);
        }, t.deserializeCollection = function(t, e) {
            for (var i = [], a = 0; a < t.length; a++) i.push(e(t[a]));
            return i;
        }, t.serializeCollection = function(t, e) {
            for (var i = [], a = 0; a < t.length; a++) i.push(e(t[a]));
            return i;
        }, t = e = a([ n.injectable() ], t);
        var e;
    }();
    e.DataFactories = o;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(11), s = i(1016), l = i(287), h = i(1015), c = i(1014), p = i(1013), u = i(1011), d = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), i = e, e.prototype.deserialize = function(t) {
            var e = new p.StateMachineData();
            return e.Version = t.version, e.States = s.DataFactories.deserializeCollection(t.states, i.deserializeState), 
            e;
        }, e.prototype.serialize = function(t) {
            return {
                version: 1,
                states: s.DataFactories.serializeCollection(t.States, i.serializeState)
            };
        }, e.deserializeState = function(t) {
            var e = new c.StateData();
            return e.Name = t.name, e.Actions = s.DataFactories.deserializeCollection(t.actions, i.deserializeAction), 
            e.Transitions = s.DataFactories.deserializeCollection(t.transitions, i.deserializeTransition), 
            e;
        }, e.serializeState = function(t) {
            return {
                name: t.Name,
                actions: s.DataFactories.serializeCollection(t.Actions, i.serializeAction),
                transitions: s.DataFactories.serializeCollection(t.Transitions, i.serializeTransition)
            };
        }, e.deserializeAction = function(t) {
            var e = new l.ActionData();
            return e.Type = t.type, e.Parameters = t.parameters, e.Results = t.results, 
            e;
        }, e.serializeAction = function(t) {
            return {
                type: t.Type,
                parameters: t.Parameters,
                results: t.Results
            };
        }, e.deserializeTransition = function(t) {
            var e = new u.TransitionData();
            return e.State = t.state, e.Conditions = s.DataFactories.deserializeCollection(t.conditions, i.deserializeCondition), 
            e;
        }, e.serializeTransition = function(t) {
            return {
                state: t.State,
                conditions: s.DataFactories.serializeCollection(t.Conditions, i.serializeCondition)
            };
        }, e.deserializeCondition = function(t) {
            var e = new h.ConditionData();
            return e.Type = t.type, e.Value = t.value, e.Test = t.test, e;
        }, e.serializeCondition = function(t) {
            return {
                type: t.Type,
                value: t.Value,
                test: t.Test
            };
        }, e = i = o([ r.injectable() ], e);
        var i;
    }(s.DataFactories);
    e.StateMachineDataFactories = d;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(54), n = i(290), o = i(289), r = i(288), s = function() {
        function t() {}
        return t.install = function(t, e) {
            var i = t.resolve(o.FSMFactories);
            i.init(t), t.bind(a.GameIdentifiers.FSMController).to(n.FSMController).inSingletonScope(), 
            t.bind(a.GameIdentifiers.FSMFactories).toConstantValue(i), t.bind(a.GameIdentifiers.FSMService).to(r.FSMService).inSingletonScope(), 
            t.bind(a.GameIdentifiers.FSMDataProvider).to(e).inSingletonScope();
        }, t;
    }();
    e.FSMInstaller = s;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    }, n = this && this.__metadata || function(t, e) {
        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e);
    }, o = this && this.__param || function(t, e) {
        return function(i, a) {
            e(i, a, t);
        };
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(11), s = i(54), l = i(71), h = i(169), c = function() {
        function t(t) {
            this.logger = null, this.fsmFactories = null, this.data = null, this.variables = null, 
            this.actions = [], this.actionsCompleted = 0, this.onComplete = new h.Signal(), 
            this.logger = t;
        }
        return Object.defineProperty(t.prototype, "OnComplete", {
            get: function() {
                return this.onComplete;
            },
            enumerable: !0,
            configurable: !0
        }), t.prototype.init = function(t, e, i) {
            this.fsmFactories = t, this.data = e, this.variables = i;
        }, t.prototype.execute = function() {
            if (this.data.Actions.length > 0) {
                for (var t = 0; t < this.data.Actions.length; t++) {
                    var e = this.data.Actions[t], i = this.fsmFactories.createAction(e, this.variables);
                    i ? (i.OnComplete.addOnce(this.onActionComplete, this), i.validate() && this.actions.push(i)) : this.logger.log("Action of type " + e.Type + " could not be created.", l.LogLevel.Error);
                }
                if (0 === this.actions.length) this.OnComplete.dispatch(); else for (t = 0; t < this.actions.length; t++) this.actions[t].execute();
            } else this.OnComplete.dispatch();
        }, t.prototype.onActionComplete = function() {
            this.actionsCompleted++, this.actions.length === this.actionsCompleted && (this.actions = [], 
            this.actionsCompleted = 0, this.OnComplete.dispatch());
        }, t = a([ r.injectable(), o(0, r.inject(s.GameIdentifiers.LoggerService)), n("design:paramtypes", [ Object ]) ], t);
    }();
    e.State = c;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n, o = i(11), r = i(168);
    !function(t) {
        t.Equals = "equals", t.NotEquals = "notEquals", t.GreaterThan = "greaterThan", 
        t.LessThan = "lessThan";
    }(n || (n = {}));
    var s = function() {
        function t() {
            this.data = null, this.variables = null;
        }
        return t.prototype.init = function(t, e) {
            this.data = t, this.variables = e;
        }, t.prototype.test = function() {
            var t = r.StateMachine.parseVariable(this.data.Test, this.variables), e = r.StateMachine.parseVariable(this.data.Value, this.variables);
            switch (this.data.Type) {
              case n.Equals:
                return t === e;

              case n.NotEquals:
                return t !== e;

              case n.GreaterThan:
                return t < e;

              case n.LessThan:
                return t > e;

              default:
                return !1;
            }
        }, t = a([ o.injectable() ], t);
    }();
    e.Condition = s;
}, function(t, e, i) {
    "use strict";
    var a = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var n = i(11), o = function() {
        function t() {}
        return t.prototype.init = function(t) {
            this.container = t;
        }, t.prototype.create = function(t) {
            for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
            return this.container.get(t + ".Factory").apply(null, e);
        }, t.prototype.add = function(t, e) {
            this.container.bind(t + ".Factory").toFactory(e);
        }, t = a([ n.injectable() ], t);
    }();
    e.Factories = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(33);
    e.Action = a.Action;
    var n = i(35);
    e.actionable = n.actionable;
    var o = i(167);
    e.Actions = o.Actions;
    var r = i(290);
    e.FSMController = r.FSMController;
    var s = i(1018);
    e.FSMInstaller = s.FSMInstaller;
    var l = i(288);
    e.FSMService = l.FSMService;
    var h = i(1010);
    e.AddVariableAction = h.AddVariableAction;
    var c = i(1009);
    e.EnableInputAction = c.EnableInputAction;
    var p = i(1008);
    e.ExecuteFunctionAction = p.ExecuteFunctionAction;
    var u = i(1007);
    e.ExecuteStateMachineAction = u.ExecuteStateMachineAction;
    var d = i(1006);
    e.SetAlphaAction = d.SetAlphaAction;
    var g = i(1005);
    e.SetVariableAction = g.SetVariableAction;
    var y = i(1004);
    e.SetVariablesAction = y.SetVariablesAction;
    var f = i(1003);
    e.SetVisibleAction = f.SetVisibleAction;
    var m = i(1002);
    e.TweenAction = m.TweenAction;
    var _ = i(1001);
    e.WaitAction = _.WaitAction;
    var v = i(1e3);
    e.WaitForEventAction = v.WaitForEventAction;
    var E = i(287);
    e.ActionData = E.ActionData;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(291);
    e.ConsoleLogger = a.ConsoleLogger;
    var n = i(71);
    e.LogLevel = n.LogLevel;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(71), r = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.getText = function(e) {
            for (var i = [], a = 1; a < arguments.length; a++) i[a - 1] = arguments[a];
            var n = t.prototype.getText.apply(this, [ e ].concat(i));
            return this.logger.log("Resovled " + e + " to " + n, o.LogLevel.Verbose), 
            n;
        }, e;
    }(i(112).Localizer);
    e.VerboseLocalizer = r;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = function() {
        function t(t) {
            this.languageData = null, this.setData(t);
        }
        return t.prototype.setData = function(t) {
            this.languageData = t;
        }, t.prototype.getValue = function(t) {
            return this.languageData.hasOwnProperty(t) ? this.languageData[t] : null;
        }, t;
    }();
    e.LocalLanguageDataCollection = a;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.replacementCharacter = "w", e;
        }
        return n(e, t), Object.defineProperty(e.prototype, "ReplacementCharacter", {
            get: function() {
                return this.replacementCharacter;
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.getText = function(e) {
            for (var i = [], a = 1; a < arguments.length; a++) i[a - 1] = arguments[a];
            var n = t.prototype.getText.apply(this, [ e ].concat(i));
            return n === e ? n : n.replace(/[a-zA-Z0-9]/g, this.ReplacementCharacter);
        }, e;
    }(i(112).Localizer);
    e.DebugLocalizer = o;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(292);
    e.BaseLocalizer = a.BaseLocalizer;
    var n = i(1026);
    e.DebugLocalizer = n.DebugLocalizer;
    var o = i(112);
    e.Localizer = o.Localizer;
    var r = i(1025);
    e.LocalLanguageDataCollection = r.LocalLanguageDataCollection;
    var s = i(1024);
    e.VerboseLocalizer = s.VerboseLocalizer;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    });
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = i(11), r = i(112), s = i(291), l = i(54), h = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.initialize = function() {
            this.bindLogger(s.ConsoleLogger), this.bindLocalizer(r.Localizer);
        }, e.prototype.bindLocalizer = function(t) {
            this.bindNew(l.GameIdentifiers.LocalizationService).toConstantValue(this.resolve(t));
        }, e.prototype.bindLogger = function(t) {
            this.bindNew(l.GameIdentifiers.LoggerService).to(t).inSingletonScope();
        }, Object.defineProperty(e.prototype, "Logger", {
            get: function() {
                return this.get(l.GameIdentifiers.LoggerService);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "Localizer", {
            get: function() {
                return this.get(l.GameIdentifiers.LocalizationService);
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.bindNew = function(t) {
            return this.isBound(t) && this.unbind(t), this.bind(t);
        }, e;
    }(o.Container);
    e.GameContainer = h;
}, function(t, e, i) {
    "use strict";
    var a, n = this && this.__extends || (a = Object.setPrototypeOf || {
        __proto__: []
    } instanceof Array && function(t, e) {
        t.__proto__ = e;
    } || function(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    }, function(t, e) {
        function i() {
            this.constructor = t;
        }
        a(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, 
        new i());
    }), o = this && this.__decorate || function(t, e, i, a) {
        var n, o = arguments.length, r = o < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, i) : a;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, a); else for (var s = t.length - 1; s >= 0; s--) (n = t[s]) && (r = (o < 3 ? n(r) : o > 3 ? n(e, i, r) : n(e, i)) || r);
        return o > 3 && r && Object.defineProperty(e, i, r), r;
    };
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(8), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this;
        }
        return n(e, t), e.prototype.validate = function() {
            return t.prototype.validate.call(this) && this.validateParameters([ "game", "items" ], {
                wait: !0,
                eventType: null
            });
        }, e.prototype.execute = function() {
            t.prototype.execute.call(this);
            var e = this.findParameter("game"), i = this.findParameter("items"), a = this.findParameter("wait"), n = this.findParameter("eventType");
            a ? e.prodigy.open.gotItem(i, this.finish.bind(this), !0, n) : (e.prodigy.open.gotItem(i, null, !0, n), 
            this.finish());
        }, e = o([ r.actionable("AwardItems") ], e);
    }(r.Action);
    e.AwardItemsAction = s;
}, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = i(1029);
    e.AwardItemsAction = a.AwardItemsAction;
    var n = i(999);
    e.CompleteQuestAction = n.CompleteQuestAction;
    var o = i(998);
    e.CompleteSequenceAction = o.CompleteSequenceAction;
    var r = i(997);
    e.ConsumeItemAction = r.ConsumeItemAction;
    var s = i(996);
    e.CreateChatBubbleAction = s.CreateChatBubbleAction;
    var l = i(995);
    e.CreateElementAction = l.CreateElementAction;
    var h = i(994);
    e.CreateIconAction = h.CreateIconAction;
    var c = i(993);
    e.CreateSpriteAction = c.CreateSpriteAction;
    var p = i(992);
    e.EnableSaveAction = p.EnableSaveAction;
    var u = i(991);
    e.ExplodeAction = u.ExplodeAction;
    var d = i(990);
    e.FlipCreatureAction = d.FlipCreatureAction;
    var g = i(989);
    e.GetDailyRewardCountAction = g.GetDailyRewardCountAction;
    var y = i(988);
    e.GetZoneStateAction = y.GetZoneStateAction;
    var f = i(882);
    e.HasItemAction = f.HasItemAction;
    var m = i(881);
    e.HideFollowAction = m.HideFollowAction;
    var _ = i(880);
    e.HighlightElementAction = _.HighlightElementAction;
    var v = i(879);
    e.HopAction = v.HopAction;
    var E = i(878);
    e.IsOnQuestAction = E.IsOnQuestAction;
    var b = i(877);
    e.IsOnSequenceAction = b.IsOnSequenceAction;
    var O = i(876);
    e.IsQuestCompleteAction = O.IsQuestCompleteAction;
    var T = i(875);
    e.PauseMusicAction = T.PauseMusicAction;
    var A = i(874);
    e.PlayMusicAction = A.PlayMusicAction;
    var I = i(873);
    e.PlaySoundAction = I.PlaySoundAction;
    var w = i(872);
    e.PlaySpineAction = w.PlaySpineAction;
    var C = i(871);
    e.SendAdvancedEventAction = C.SendAdvancedEventAction;
    var S = i(870);
    e.SetDailyRewardCountAction = S.SetDailyRewardCountAction;
    var P = i(869);
    e.SetEventProcessingAction = P.SetEventProcessingAction;
    var D = i(868);
    e.SetPathAction = D.SetPathAction;
    var L = i(867);
    e.SetValidPathAction = L.SetValidPathAction;
    var x = i(866);
    e.SetWalkSpeedAction = x.SetWalkSpeedAction;
    var M = i(865);
    e.SetZoneStateAction = M.SetZoneStateAction;
    var N = i(864);
    e.ShakeAction = N.ShakeAction;
    var U = i(863);
    e.ShowDialogueAction = U.ShowDialogueAction;
    var k = i(862);
    e.StartBattleAction = k.StartBattleAction;
    var R = i(861);
    e.TeleportAction = R.TeleportAction;
}, function(t, e) {
    !function(t) {
        "use strict";
        if (!t.fetch) {
            var e = {
                searchParams: "URLSearchParams" in t,
                iterable: "Symbol" in t && "iterator" in Symbol,
                blob: "FileReader" in t && "Blob" in t && function() {
                    try {
                        return new Blob(), !0;
                    } catch (t) {
                        return !1;
                    }
                }(),
                formData: "FormData" in t,
                arrayBuffer: "ArrayBuffer" in t
            };
            if (e.arrayBuffer) var i = [ "[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]" ], a = function(t) {
                return t && DataView.prototype.isPrototypeOf(t);
            }, n = ArrayBuffer.isView || function(t) {
                return t && i.indexOf(Object.prototype.toString.call(t)) > -1;
            };
            c.prototype.append = function(t, e) {
                t = s(t), e = l(e);
                var i = this.map[t];
                this.map[t] = i ? i + "," + e : e;
            }, c.prototype.delete = function(t) {
                delete this.map[s(t)];
            }, c.prototype.get = function(t) {
                return t = s(t), this.has(t) ? this.map[t] : null;
            }, c.prototype.has = function(t) {
                return this.map.hasOwnProperty(s(t));
            }, c.prototype.set = function(t, e) {
                this.map[s(t)] = l(e);
            }, c.prototype.forEach = function(t, e) {
                for (var i in this.map) this.map.hasOwnProperty(i) && t.call(e, this.map[i], i, this);
            }, c.prototype.keys = function() {
                var t = [];
                return this.forEach(function(e, i) {
                    t.push(i);
                }), h(t);
            }, c.prototype.values = function() {
                var t = [];
                return this.forEach(function(e) {
                    t.push(e);
                }), h(t);
            }, c.prototype.entries = function() {
                var t = [];
                return this.forEach(function(e, i) {
                    t.push([ i, e ]);
                }), h(t);
            }, e.iterable && (c.prototype[Symbol.iterator] = c.prototype.entries);
            var o = [ "DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT" ];
            f.prototype.clone = function() {
                return new f(this, {
                    body: this._bodyInit
                });
            }, y.call(f.prototype), y.call(_.prototype), _.prototype.clone = function() {
                return new _(this._bodyInit, {
                    status: this.status,
                    statusText: this.statusText,
                    headers: new c(this.headers),
                    url: this.url
                });
            }, _.error = function() {
                var t = new _(null, {
                    status: 0,
                    statusText: ""
                });
                return t.type = "error", t;
            };
            var r = [ 301, 302, 303, 307, 308 ];
            _.redirect = function(t, e) {
                if (-1 === r.indexOf(e)) throw new RangeError("Invalid status code");
                return new _(null, {
                    status: e,
                    headers: {
                        location: t
                    }
                });
            }, t.Headers = c, t.Request = f, t.Response = _, t.fetch = function(t, i) {
                return new Promise(function(a, n) {
                    var o = new f(t, i), r = new XMLHttpRequest();
                    r.onload = function() {
                        var t, e, i = {
                            status: r.status,
                            statusText: r.statusText,
                            headers: (t = r.getAllResponseHeaders() || "", e = new c(), 
                            t.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function(t) {
                                var i = t.split(":"), a = i.shift().trim();
                                if (a) {
                                    var n = i.join(":").trim();
                                    e.append(a, n);
                                }
                            }), e)
                        };
                        i.url = "responseURL" in r ? r.responseURL : i.headers.get("X-Request-URL");
                        var n = "response" in r ? r.response : r.responseText;
                        a(new _(n, i));
                    }, r.onerror = function() {
                        n(new TypeError("Network request failed"));
                    }, r.ontimeout = function() {
                        n(new TypeError("Network request failed"));
                    }, r.open(o.method, o.url, !0), "include" === o.credentials ? r.withCredentials = !0 : "omit" === o.credentials && (r.withCredentials = !1), 
                    "responseType" in r && e.blob && (r.responseType = "blob"), 
                    o.headers.forEach(function(t, e) {
                        r.setRequestHeader(e, t);
                    }), r.send(void 0 === o._bodyInit ? null : o._bodyInit);
                });
            }, t.fetch.polyfill = !0;
        }
        function s(t) {
            if ("string" != typeof t && (t = String(t)), /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t)) throw new TypeError("Invalid character in header field name");
            return t.toLowerCase();
        }
        function l(t) {
            return "string" != typeof t && (t = String(t)), t;
        }
        function h(t) {
            var i = {
                next: function() {
                    var e = t.shift();
                    return {
                        done: void 0 === e,
                        value: e
                    };
                }
            };
            return e.iterable && (i[Symbol.iterator] = function() {
                return i;
            }), i;
        }
        function c(t) {
            this.map = {}, t instanceof c ? t.forEach(function(t, e) {
                this.append(e, t);
            }, this) : Array.isArray(t) ? t.forEach(function(t) {
                this.append(t[0], t[1]);
            }, this) : t && Object.getOwnPropertyNames(t).forEach(function(e) {
                this.append(e, t[e]);
            }, this);
        }
        function p(t) {
            if (t.bodyUsed) return Promise.reject(new TypeError("Already read"));
            t.bodyUsed = !0;
        }
        function u(t) {
            return new Promise(function(e, i) {
                t.onload = function() {
                    e(t.result);
                }, t.onerror = function() {
                    i(t.error);
                };
            });
        }
        function d(t) {
            var e = new FileReader(), i = u(e);
            return e.readAsArrayBuffer(t), i;
        }
        function g(t) {
            if (t.slice) return t.slice(0);
            var e = new Uint8Array(t.byteLength);
            return e.set(new Uint8Array(t)), e.buffer;
        }
        function y() {
            return this.bodyUsed = !1, this._initBody = function(t) {
                if (this._bodyInit = t, t) if ("string" == typeof t) this._bodyText = t; else if (e.blob && Blob.prototype.isPrototypeOf(t)) this._bodyBlob = t; else if (e.formData && FormData.prototype.isPrototypeOf(t)) this._bodyFormData = t; else if (e.searchParams && URLSearchParams.prototype.isPrototypeOf(t)) this._bodyText = t.toString(); else if (e.arrayBuffer && e.blob && a(t)) this._bodyArrayBuffer = g(t.buffer), 
                this._bodyInit = new Blob([ this._bodyArrayBuffer ]); else {
                    if (!e.arrayBuffer || !ArrayBuffer.prototype.isPrototypeOf(t) && !n(t)) throw new Error("unsupported BodyInit type");
                    this._bodyArrayBuffer = g(t);
                } else this._bodyText = "";
                this.headers.get("content-type") || ("string" == typeof t ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : e.searchParams && URLSearchParams.prototype.isPrototypeOf(t) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"));
            }, e.blob && (this.blob = function() {
                var t = p(this);
                if (t) return t;
                if (this._bodyBlob) return Promise.resolve(this._bodyBlob);
                if (this._bodyArrayBuffer) return Promise.resolve(new Blob([ this._bodyArrayBuffer ]));
                if (this._bodyFormData) throw new Error("could not read FormData body as blob");
                return Promise.resolve(new Blob([ this._bodyText ]));
            }, this.arrayBuffer = function() {
                return this._bodyArrayBuffer ? p(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(d);
            }), this.text = function() {
                var t, e, i, a = p(this);
                if (a) return a;
                if (this._bodyBlob) return t = this._bodyBlob, e = new FileReader(), 
                i = u(e), e.readAsText(t), i;
                if (this._bodyArrayBuffer) return Promise.resolve(function(t) {
                    for (var e = new Uint8Array(t), i = new Array(e.length), a = 0; a < e.length; a++) i[a] = String.fromCharCode(e[a]);
                    return i.join("");
                }(this._bodyArrayBuffer));
                if (this._bodyFormData) throw new Error("could not read FormData body as text");
                return Promise.resolve(this._bodyText);
            }, e.formData && (this.formData = function() {
                return this.text().then(m);
            }), this.json = function() {
                return this.text().then(JSON.parse);
            }, this;
        }
        function f(t, e) {
            var i, a, n = (e = e || {}).body;
            if (t instanceof f) {
                if (t.bodyUsed) throw new TypeError("Already read");
                this.url = t.url, this.credentials = t.credentials, e.headers || (this.headers = new c(t.headers)), 
                this.method = t.method, this.mode = t.mode, n || null == t._bodyInit || (n = t._bodyInit, 
                t.bodyUsed = !0);
            } else this.url = String(t);
            if (this.credentials = e.credentials || this.credentials || "omit", 
            !e.headers && this.headers || (this.headers = new c(e.headers)), this.method = (i = e.method || this.method || "GET", 
            a = i.toUpperCase(), o.indexOf(a) > -1 ? a : i), this.mode = e.mode || this.mode || null, 
            this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && n) throw new TypeError("Body not allowed for GET or HEAD requests");
            this._initBody(n);
        }
        function m(t) {
            var e = new FormData();
            return t.trim().split("&").forEach(function(t) {
                if (t) {
                    var i = t.split("="), a = i.shift().replace(/\+/g, " "), n = i.join("=").replace(/\+/g, " ");
                    e.append(decodeURIComponent(a), decodeURIComponent(n));
                }
            }), e;
        }
        function _(t, e) {
            e || (e = {}), this.type = "default", this.status = void 0 === e.status ? 200 : e.status, 
            this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in e ? e.statusText : "OK", 
            this.headers = new c(e.headers), this.url = e.url || "", this._initBody(t);
        }
    }("undefined" != typeof self ? self : this);
}, function(t, e, i) {
    (function(t) {
        t.SENTRY_RELEASE = {}, t.SENTRY_RELEASE.id = "2-0-0";
    }).call(this, i(170));
}, function(t, e, i) {
    i(1032), i(1031), i(1030), t.exports = i(860);
} ]));
